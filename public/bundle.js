/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/ngraph.events/index.js":
/*!*********************************************!*\
  !*** ./node_modules/ngraph.events/index.js ***!
  \*********************************************/
/***/ ((module) => {

module.exports = function eventify(subject) {
  validateSubject(subject);

  var eventsStorage = createEventsStorage(subject);
  subject.on = eventsStorage.on;
  subject.off = eventsStorage.off;
  subject.fire = eventsStorage.fire;
  return subject;
};

function createEventsStorage(subject) {
  // Store all event listeners to this hash. Key is event name, value is array
  // of callback records.
  //
  // A callback record consists of callback function and its optional context:
  // { 'eventName' => [{callback: function, ctx: object}] }
  var registeredEvents = Object.create(null);

  return {
    on: function (eventName, callback, ctx) {
      if (typeof callback !== 'function') {
        throw new Error('callback is expected to be a function');
      }
      var handlers = registeredEvents[eventName];
      if (!handlers) {
        handlers = registeredEvents[eventName] = [];
      }
      handlers.push({callback: callback, ctx: ctx});

      return subject;
    },

    off: function (eventName, callback) {
      var wantToRemoveAll = (typeof eventName === 'undefined');
      if (wantToRemoveAll) {
        // Killing old events storage should be enough in this case:
        registeredEvents = Object.create(null);
        return subject;
      }

      if (registeredEvents[eventName]) {
        var deleteAllCallbacksForEvent = (typeof callback !== 'function');
        if (deleteAllCallbacksForEvent) {
          delete registeredEvents[eventName];
        } else {
          var callbacks = registeredEvents[eventName];
          for (var i = 0; i < callbacks.length; ++i) {
            if (callbacks[i].callback === callback) {
              callbacks.splice(i, 1);
            }
          }
        }
      }

      return subject;
    },

    fire: function (eventName) {
      var callbacks = registeredEvents[eventName];
      if (!callbacks) {
        return subject;
      }

      var fireArguments;
      if (arguments.length > 1) {
        fireArguments = Array.prototype.splice.call(arguments, 1);
      }
      for(var i = 0; i < callbacks.length; ++i) {
        var callbackInfo = callbacks[i];
        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);
      }

      return subject;
    }
  };
}

function validateSubject(subject) {
  if (!subject) {
    throw new Error('Eventify cannot use falsy object as events subject');
  }
  var reservedWords = ['on', 'fire', 'off'];
  for (var i = 0; i < reservedWords.length; ++i) {
    if (subject.hasOwnProperty(reservedWords[i])) {
      throw new Error("Subject cannot be eventified, since it already has property '" + reservedWords[i] + "'");
    }
  }
}


/***/ }),

/***/ "./node_modules/ngraph.graph/index.js":
/*!********************************************!*\
  !*** ./node_modules/ngraph.graph/index.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * @fileOverview Contains definition of the core graph object.
 */

// TODO: need to change storage layer:
// 1. Be able to get all nodes O(1)
// 2. Be able to get number of links O(1)

/**
 * @example
 *  var graph = require('ngraph.graph')();
 *  graph.addNode(1);     // graph has one node.
 *  graph.addLink(2, 3);  // now graph contains three nodes and one link.
 *
 */
module.exports = createGraph;

var eventify = __webpack_require__(/*! ngraph.events */ "./node_modules/ngraph.events/index.js");

/**
 * Creates a new graph
 */
function createGraph(options) {
  // Graph structure is maintained as dictionary of nodes
  // and array of links. Each node has 'links' property which
  // hold all links related to that node. And general links
  // array is used to speed up all links enumeration. This is inefficient
  // in terms of memory, but simplifies coding.
  options = options || {};
  if ('uniqueLinkId' in options) {
    console.warn(
      'ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\n' +
      'Use `multigraph` option instead\n',
      '\n',
      'Note: there is also change in default behavior: From now on each graph\n'+
      'is considered to be not a multigraph by default (each edge is unique).'
    );

    options.multigraph = options.uniqueLinkId;
  }

  // Dear reader, the non-multigraphs do not guarantee that there is only
  // one link for a given pair of node. When this option is set to false
  // we can save some memory and CPU (18% faster for non-multigraph);
  if (options.multigraph === undefined) options.multigraph = false;

  if (typeof Map !== 'function') {
    // TODO: Should we polyfill it ourselves? We don't use much operations there..
    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');
  } 

  var nodes = new Map(); // nodeId => Node
  var links = new Map(); // linkId => Link
    // Hash of multi-edges. Used to track ids of edges between same nodes
  var multiEdges = {};
  var suspendEvents = 0;

  var createLink = options.multigraph ? createUniqueLink : createSingleLink,

    // Our graph API provides means to listen to graph changes. Users can subscribe
    // to be notified about changes in the graph by using `on` method. However
    // in some cases they don't use it. To avoid unnecessary memory consumption
    // we will not record graph changes until we have at least one subscriber.
    // Code below supports this optimization.
    //
    // Accumulates all changes made during graph updates.
    // Each change element contains:
    //  changeType - one of the strings: 'add', 'remove' or 'update';
    //  node - if change is related to node this property is set to changed graph's node;
    //  link - if change is related to link this property is set to changed graph's link;
    changes = [],
    recordLinkChange = noop,
    recordNodeChange = noop,
    enterModification = noop,
    exitModification = noop;

  // this is our public API:
  var graphPart = {
    /**
     * Sometimes duck typing could be slow. Giving clients a hint about data structure
     * via explicit version number here:
     */
    version: 20.0,

    /**
     * Adds node to the graph. If node with given id already exists in the graph
     * its data is extended with whatever comes in 'data' argument.
     *
     * @param nodeId the node's identifier. A string or number is preferred.
     * @param [data] additional data for the node being added. If node already
     *   exists its data object is augmented with the new one.
     *
     * @return {node} The newly added node or node with given id if it already exists.
     */
    addNode: addNode,

    /**
     * Adds a link to the graph. The function always create a new
     * link between two nodes. If one of the nodes does not exists
     * a new node is created.
     *
     * @param fromId link start node id;
     * @param toId link end node id;
     * @param [data] additional data to be set on the new link;
     *
     * @return {link} The newly created link
     */
    addLink: addLink,

    /**
     * Removes link from the graph. If link does not exist does nothing.
     *
     * @param link - object returned by addLink() or getLinks() methods.
     *
     * @returns true if link was removed; false otherwise.
     */
    removeLink: removeLink,

    /**
     * Removes node with given id from the graph. If node does not exist in the graph
     * does nothing.
     *
     * @param nodeId node's identifier passed to addNode() function.
     *
     * @returns true if node was removed; false otherwise.
     */
    removeNode: removeNode,

    /**
     * Gets node with given identifier. If node does not exist undefined value is returned.
     *
     * @param nodeId requested node identifier;
     *
     * @return {node} in with requested identifier or undefined if no such node exists.
     */
    getNode: getNode,

    /**
     * Gets number of nodes in this graph.
     *
     * @return number of nodes in the graph.
     */
    getNodeCount: getNodeCount,

    /**
     * Gets total number of links in the graph.
     */
    getLinkCount: getLinkCount,

    /**
     * Gets total number of links in the graph.
     */
    getEdgeCount: getLinkCount,

    /**
     * Synonym for `getLinkCount()`
     */
    getLinksCount: getLinkCount,
    
    /**
     * Synonym for `getNodeCount()`
     */
    getNodesCount: getNodeCount,

    /**
     * Gets all links (inbound and outbound) from the node with given id.
     * If node with given id is not found null is returned.
     *
     * @param nodeId requested node identifier.
     *
     * @return Set of links from and to requested node if such node exists;
     *   otherwise null is returned.
     */
    getLinks: getLinks,

    /**
     * Invokes callback on each node of the graph.
     *
     * @param {Function(node)} callback Function to be invoked. The function
     *   is passed one argument: visited node.
     */
    forEachNode: forEachNode,

    /**
     * Invokes callback on every linked (adjacent) node to the given one.
     *
     * @param nodeId Identifier of the requested node.
     * @param {Function(node, link)} callback Function to be called on all linked nodes.
     *   The function is passed two parameters: adjacent node and link object itself.
     * @param oriented if true graph treated as oriented.
     */
    forEachLinkedNode: forEachLinkedNode,

    /**
     * Enumerates all links in the graph
     *
     * @param {Function(link)} callback Function to be called on all links in the graph.
     *   The function is passed one parameter: graph's link object.
     *
     * Link object contains at least the following fields:
     *  fromId - node id where link starts;
     *  toId - node id where link ends,
     *  data - additional data passed to graph.addLink() method.
     */
    forEachLink: forEachLink,

    /**
     * Suspend all notifications about graph changes until
     * endUpdate is called.
     */
    beginUpdate: enterModification,

    /**
     * Resumes all notifications about graph changes and fires
     * graph 'changed' event in case there are any pending changes.
     */
    endUpdate: exitModification,

    /**
     * Removes all nodes and links from the graph.
     */
    clear: clear,

    /**
     * Detects whether there is a link between two nodes.
     * Operation complexity is O(n) where n - number of links of a node.
     * NOTE: this function is synonym for getLink()
     *
     * @returns link if there is one. null otherwise.
     */
    hasLink: getLink,

    /**
     * Detects whether there is a node with given id
     * 
     * Operation complexity is O(1)
     * NOTE: this function is synonym for getNode()
     *
     * @returns node if there is one; Falsy value otherwise.
     */
    hasNode: getNode,

    /**
     * Gets an edge between two nodes.
     * Operation complexity is O(n) where n - number of links of a node.
     *
     * @param {string} fromId link start identifier
     * @param {string} toId link end identifier
     *
     * @returns link if there is one; undefined otherwise.
     */
    getLink: getLink
  };

  // this will add `on()` and `fire()` methods.
  eventify(graphPart);

  monitorSubscribers();

  return graphPart;

  function monitorSubscribers() {
    var realOn = graphPart.on;

    // replace real `on` with our temporary on, which will trigger change
    // modification monitoring:
    graphPart.on = on;

    function on() {
      // now it's time to start tracking stuff:
      graphPart.beginUpdate = enterModification = enterModificationReal;
      graphPart.endUpdate = exitModification = exitModificationReal;
      recordLinkChange = recordLinkChangeReal;
      recordNodeChange = recordNodeChangeReal;

      // this will replace current `on` method with real pub/sub from `eventify`.
      graphPart.on = realOn;
      // delegate to real `on` handler:
      return realOn.apply(graphPart, arguments);
    }
  }

  function recordLinkChangeReal(link, changeType) {
    changes.push({
      link: link,
      changeType: changeType
    });
  }

  function recordNodeChangeReal(node, changeType) {
    changes.push({
      node: node,
      changeType: changeType
    });
  }

  function addNode(nodeId, data) {
    if (nodeId === undefined) {
      throw new Error('Invalid node identifier');
    }

    enterModification();

    var node = getNode(nodeId);
    if (!node) {
      node = new Node(nodeId, data);
      recordNodeChange(node, 'add');
    } else {
      node.data = data;
      recordNodeChange(node, 'update');
    }

    nodes.set(nodeId, node);

    exitModification();
    return node;
  }

  function getNode(nodeId) {
    return nodes.get(nodeId);
  }

  function removeNode(nodeId) {
    var node = getNode(nodeId);
    if (!node) {
      return false;
    }

    enterModification();

    var prevLinks = node.links;
    if (prevLinks) {
      prevLinks.forEach(removeLinkInstance);
      node.links = null;
    }

    nodes.delete(nodeId);

    recordNodeChange(node, 'remove');

    exitModification();

    return true;
  }


  function addLink(fromId, toId, data) {
    enterModification();

    var fromNode = getNode(fromId) || addNode(fromId);
    var toNode = getNode(toId) || addNode(toId);

    var link = createLink(fromId, toId, data);
    var isUpdate = links.has(link.id);

    links.set(link.id, link);

    // TODO: this is not cool. On large graphs potentially would consume more memory.
    addLinkToNode(fromNode, link);
    if (fromId !== toId) {
      // make sure we are not duplicating links for self-loops
      addLinkToNode(toNode, link);
    }

    recordLinkChange(link, isUpdate ? 'update' : 'add');

    exitModification();

    return link;
  }

  function createSingleLink(fromId, toId, data) {
    var linkId = makeLinkId(fromId, toId);
    var prevLink = links.get(linkId);
    if (prevLink) {
      prevLink.data = data;
      return prevLink;
    }

    return new Link(fromId, toId, data, linkId);
  }

  function createUniqueLink(fromId, toId, data) {
    // TODO: Find a better/faster way to store multigraphs
    var linkId = makeLinkId(fromId, toId);
    var isMultiEdge = multiEdges.hasOwnProperty(linkId);
    if (isMultiEdge || getLink(fromId, toId)) {
      if (!isMultiEdge) {
        multiEdges[linkId] = 0;
      }
      var suffix = '@' + (++multiEdges[linkId]);
      linkId = makeLinkId(fromId + suffix, toId + suffix);
    }

    return new Link(fromId, toId, data, linkId);
  }

  function getNodeCount() {
    return nodes.size;
  }

  function getLinkCount() {
    return links.size;
  }

  function getLinks(nodeId) {
    var node = getNode(nodeId);
    return node ? node.links : null;
  }

  function removeLink(link, otherId) {
    if (otherId !== undefined) {
      link = getLink(link, otherId);
    }
    return removeLinkInstance(link);
  }

  function removeLinkInstance(link) {
    if (!link) {
      return false;
    }
    if (!links.get(link.id)) return false;

    enterModification();

    links.delete(link.id);

    var fromNode = getNode(link.fromId);
    var toNode = getNode(link.toId);

    if (fromNode) {
      fromNode.links.delete(link);
    }

    if (toNode) {
      toNode.links.delete(link);
    }

    recordLinkChange(link, 'remove');

    exitModification();

    return true;
  }

  function getLink(fromNodeId, toNodeId) {
    if (fromNodeId === undefined || toNodeId === undefined) return undefined;
    return links.get(makeLinkId(fromNodeId, toNodeId));
  }

  function clear() {
    enterModification();
    forEachNode(function(node) {
      removeNode(node.id);
    });
    exitModification();
  }

  function forEachLink(callback) {
    if (typeof callback === 'function') {
      var valuesIterator = links.values();
      var nextValue = valuesIterator.next();
      while (!nextValue.done) {
        if (callback(nextValue.value)) {
          return true; // client doesn't want to proceed. Return.
        }
        nextValue = valuesIterator.next();
      }
    }
  }

  function forEachLinkedNode(nodeId, callback, oriented) {
    var node = getNode(nodeId);

    if (node && node.links && typeof callback === 'function') {
      if (oriented) {
        return forEachOrientedLink(node.links, nodeId, callback);
      } else {
        return forEachNonOrientedLink(node.links, nodeId, callback);
      }
    }
  }

  // eslint-disable-next-line no-shadow
  function forEachNonOrientedLink(links, nodeId, callback) {
    var quitFast;

    var valuesIterator = links.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      var link = nextValue.value;
      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;
      quitFast = callback(nodes.get(linkedNodeId), link);
      if (quitFast) {
        return true; // Client does not need more iterations. Break now.
      }
      nextValue = valuesIterator.next();
    }
  }

  // eslint-disable-next-line no-shadow
  function forEachOrientedLink(links, nodeId, callback) {
    var quitFast;
    var valuesIterator = links.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      var link = nextValue.value;
      if (link.fromId === nodeId) {
        quitFast = callback(nodes.get(link.toId), link);
        if (quitFast) {
          return true; // Client does not need more iterations. Break now.
        }
      }
      nextValue = valuesIterator.next();
    }
  }

  // we will not fire anything until users of this library explicitly call `on()`
  // method.
  function noop() {}

  // Enter, Exit modification allows bulk graph updates without firing events.
  function enterModificationReal() {
    suspendEvents += 1;
  }

  function exitModificationReal() {
    suspendEvents -= 1;
    if (suspendEvents === 0 && changes.length > 0) {
      graphPart.fire('changed', changes);
      changes.length = 0;
    }
  }

  function forEachNode(callback) {
    if (typeof callback !== 'function') {
      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);
    }

    var valuesIterator = nodes.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      if (callback(nextValue.value)) {
        return true; // client doesn't want to proceed. Return.
      }
      nextValue = valuesIterator.next();
    }
  }
}

/**
 * Internal structure to represent node;
 */
function Node(id, data) {
  this.id = id;
  this.links = null;
  this.data = data;
}

function addLinkToNode(node, link) {
  if (node.links) {
    node.links.add(link);
  } else {
    node.links = new Set([link]);
  }
}

/**
 * Internal structure to represent links;
 */
function Link(fromId, toId, data, id) {
  this.fromId = fromId;
  this.toId = toId;
  this.data = data;
  this.id = id;
}

function makeLinkId(fromId, toId) {
  return fromId.toString() + 'ðŸ‘‰ ' + toId.toString();
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/NodeHeap.js":
/*!*****************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/NodeHeap.js ***!
  \*****************************************************/
/***/ ((module) => {

/**
 * Based on https://github.com/mourner/tinyqueue
 * Copyright (c) 2017, Vladimir Agafonkin https://github.com/mourner/tinyqueue/blob/master/LICENSE
 * 
 * Adapted for PathFinding needs by @anvaka
 * Copyright (c) 2017, Andrei Kashcha
 */
module.exports = NodeHeap;

function NodeHeap(data, options) {
  if (!(this instanceof NodeHeap)) return new NodeHeap(data, options);

  if (!Array.isArray(data)) {
    // assume first argument is our config object;
    options = data;
    data = [];
  }

  options = options || {};

  this.data = data || [];
  this.length = this.data.length;
  this.compare = options.compare || defaultCompare;
  this.setNodeId = options.setNodeId || noop;

  if (this.length > 0) {
    for (var i = (this.length >> 1); i >= 0; i--) this._down(i);
  }

  if (options.setNodeId) {
    for (var i = 0; i < this.length; ++i) {
      this.setNodeId(this.data[i], i);
    }
  }
}

function noop() {}

function defaultCompare(a, b) {
  return a - b;
}

NodeHeap.prototype = {

  push: function (item) {
    this.data.push(item);
    this.setNodeId(item, this.length);
    this.length++;
    this._up(this.length - 1);
  },

  pop: function () {
    if (this.length === 0) return undefined;

    var top = this.data[0];
    this.length--;

    if (this.length > 0) {
      this.data[0] = this.data[this.length];
      this.setNodeId(this.data[0], 0);
      this._down(0);
    }
    this.data.pop();

    return top;
  },

  peek: function () {
    return this.data[0];
  },

  updateItem: function (pos) {
    this._down(pos);
    this._up(pos);
  },

  _up: function (pos) {
    var data = this.data;
    var compare = this.compare;
    var setNodeId = this.setNodeId;
    var item = data[pos];

    while (pos > 0) {
      var parent = (pos - 1) >> 1;
      var current = data[parent];
      if (compare(item, current) >= 0) break;
        data[pos] = current;

       setNodeId(current, pos);
       pos = parent;
    }

    data[pos] = item;
    setNodeId(item, pos);
  },

  _down: function (pos) {
    var data = this.data;
    var compare = this.compare;
    var halfLength = this.length >> 1;
    var item = data[pos];
    var setNodeId = this.setNodeId;

    while (pos < halfLength) {
      var left = (pos << 1) + 1;
      var right = left + 1;
      var best = data[left];

      if (right < this.length && compare(data[right], best) < 0) {
        left = right;
        best = data[right];
      }
      if (compare(best, item) >= 0) break;

      data[pos] = best;
      setNodeId(best, pos);
      pos = left;
    }

    data[pos] = item;
    setNodeId(item, pos);
  }
};

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/a-greedy-star.js":
/*!**********************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/a-greedy-star.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Performs suboptimal, greed A Star path finding.
 * This finder does not necessary finds the shortest path. The path
 * that it finds is very close to the shortest one. It is very fast though.
 */
module.exports = aStarBi;

var NodeHeap = __webpack_require__(/*! ./NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var makeSearchStatePool = __webpack_require__(/*! ./makeSearchStatePool */ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js");
var heuristics = __webpack_require__(/*! ./heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ./defaultSettings */ "./node_modules/ngraph.path/a-star/defaultSettings.js");

var BY_FROM = 1;
var BY_TO = 2;
var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`, it may be extended in future.
 * 
 * NOTE: Algorithm implemented in this code DOES NOT find optimal path.
 * Yet the path that it finds is always near optimal, and it finds it very fast.
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * 
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`.  Defaults function returns 0, which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * @param {Boolean} options.oriented - whether graph should be considered oriented or not.
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function aStarBi(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;
  var pool = makeSearchStatePool();

  return {
    find: find
  };

  function find(fromId, toId) {
    // Not sure if we should return NO_PATH or throw. Throw seem to be more
    // helpful to debug errors. So, throwing.
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);

    if (from === to) return [from]; // trivial case.

    pool.reset();

    var callVisitor = oriented ? orientedVisitor : nonOrientedVisitor;

    // Maps nodeId to NodeSearchState.
    var nodeState = new Map();

    var openSetFrom = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });

    var openSetTo = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });


    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode);

    // For the first node, fScore is completely heuristic.
    startNode.fScore = heuristic(from, to);
    // The cost of going from start to start is zero.
    startNode.distanceToSource = 0;
    openSetFrom.push(startNode);
    startNode.open = BY_FROM;

    var endNode = pool.createNewState(to);
    endNode.fScore = heuristic(to, from);
    endNode.distanceToSource = 0;
    openSetTo.push(endNode);
    endNode.open = BY_TO;

    // Cost of the best solution found so far. Used for accurate termination
    var lMin = Number.POSITIVE_INFINITY;
    var minFrom;
    var minTo;

    var currentSet = openSetFrom;
    var currentOpener = BY_FROM;

    while (openSetFrom.length > 0 && openSetTo.length > 0) {
      if (openSetFrom.length < openSetTo.length) {
        // we pick a set with less elements
        currentOpener = BY_FROM;
        currentSet = openSetFrom;
      } else {
        currentOpener = BY_TO;
        currentSet = openSetTo;
      }

      var current = currentSet.pop();

      // no need to visit this node anymore
      current.closed = true;

      if (current.distanceToSource > lMin) continue;

      graph.forEachLinkedNode(current.node.id, callVisitor);

      if (minFrom && minTo) {
        // This is not necessary the best path, but we are so greedy that we
        // can't resist:
        return reconstructBiDirectionalPath(minFrom, minTo);
      }
    }

    return NO_PATH; // No path.

    function nonOrientedVisitor(otherNode, link) {
      return visitNode(otherNode, link, current);
    }

    function orientedVisitor(otherNode, link) {
      // For oritned graphs we need to reverse graph, when traveling
      // backwards. So, we use non-oriented ngraph's traversal, and 
      // filter link orientation here.
      if (currentOpener === BY_FROM) {
        if (link.fromId === current.node.id) return visitNode(otherNode, link, current)
      } else if (currentOpener === BY_TO) {
        if (link.toId === current.node.id) return visitNode(otherNode, link, current);
      }
    }

    function canExit(currentNode) {
      var opener = currentNode.open
      if (opener && opener !== currentOpener) {
        return true;
      }

      return false;
    }

    function reconstructBiDirectionalPath(a, b) {
      var pathOfNodes = [];
      var aParent = a;
      while(aParent) {
        pathOfNodes.push(aParent.node);
        aParent = aParent.parent;
      }
      var bParent = b;
      while (bParent) {
        pathOfNodes.unshift(bParent.node);
        bParent = bParent.parent
      }
      return pathOfNodes;
    }

    function visitNode(otherNode, link, cameFrom) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) {
        // Already processed this node.
        return;
      }

      if (canExit(otherSearchState, cameFrom)) {
        // this node was opened by alternative opener. The sets intersect now,
        // we found an optimal path, that goes through *this* node. However, there
        // is no guarantee that this is the global optimal solution path.

        var potentialLMin = otherSearchState.distanceToSource + cameFrom.distanceToSource;
        if (potentialLMin < lMin) {
          minFrom = otherSearchState;
          minTo = cameFrom
          lMin = potentialLMin;
        }
        // we are done with this node.
        return;
      }

      var tentativeDistance = cameFrom.distanceToSource + distance(otherSearchState.node, cameFrom.node, link);

      if (tentativeDistance >= otherSearchState.distanceToSource) {
        // This would only make our path longer. Ignore this route.
        return;
      }

      // Choose target based on current working set:
      var target = (currentOpener === BY_FROM) ? to : from;
      var newFScore = tentativeDistance + heuristic(otherSearchState.node, target);
      if (newFScore >= lMin) {
        // this can't be optimal path, as we have already found a shorter path.
        return;
      }
      otherSearchState.fScore = newFScore;

      if (otherSearchState.open === 0) {
        // Remember this node in the current set
        currentSet.push(otherSearchState);
        currentSet.updateItem(otherSearchState.heapIndex);

        otherSearchState.open = currentOpener;
      }

      // bingo! we found shorter path:
      otherSearchState.parent = cameFrom;
      otherSearchState.distanceToSource = tentativeDistance;
    }
  }
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/a-star.js":
/*!***************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/a-star.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Performs a uni-directional A Star search on graph.
 * 
 * We will try to minimize f(n) = g(n) + h(n), where
 * g(n) is actual distance from source node to `n`, and
 * h(n) is heuristic distance from `n` to target node.
 */
module.exports = aStarPathSearch;

var NodeHeap = __webpack_require__(/*! ./NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var makeSearchStatePool = __webpack_require__(/*! ./makeSearchStatePool */ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js");
var heuristics = __webpack_require__(/*! ./heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ./defaultSettings.js */ "./node_modules/ngraph.path/a-star/defaultSettings.js");

var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`, it may be extended in future.
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`. This function should never overestimate actual distance between two
 * nodes (otherwise the found path will not be the shortest). Defaults function returns 0,
 * which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * @param {Boolean} options.oriented - whether graph should be considered oriented or not.
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function aStarPathSearch(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;
  var pool = makeSearchStatePool();

  return {
    /**
     * Finds a path between node `fromId` and `toId`.
     * @returns {Array} of nodes between `toId` and `fromId`. Empty array is returned
     * if no path is found.
     */
    find: find
  };

  function find(fromId, toId) {
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);
    pool.reset();

    // Maps nodeId to NodeSearchState.
    var nodeState = new Map();

    // the nodes that we still need to evaluate
    var openSet = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });

    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode);

    // For the first node, fScore is completely heuristic.
    startNode.fScore = heuristic(from, to);

    // The cost of going from start to start is zero.
    startNode.distanceToSource = 0;
    openSet.push(startNode);
    startNode.open = 1;

    var cameFrom;

    while (openSet.length > 0) {
      cameFrom = openSet.pop();
      if (goalReached(cameFrom, to)) return reconstructPath(cameFrom);

      // no need to visit this node anymore
      cameFrom.closed = true;
      graph.forEachLinkedNode(cameFrom.node.id, visitNeighbour, oriented);
    }

    // If we got here, then there is no path.
    return NO_PATH;

    function visitNeighbour(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) {
        // Already processed this node.
        return;
      }
      if (otherSearchState.open === 0) {
        // Remember this node.
        openSet.push(otherSearchState);
        otherSearchState.open = 1;
      }

      var tentativeDistance = cameFrom.distanceToSource + distance(otherNode, cameFrom.node, link);
      if (tentativeDistance >= otherSearchState.distanceToSource) {
        // This would only make our path longer. Ignore this route.
        return;
      }

      // bingo! we found shorter path:
      otherSearchState.parent = cameFrom;
      otherSearchState.distanceToSource = tentativeDistance;
      otherSearchState.fScore = tentativeDistance + heuristic(otherSearchState.node, to);

      openSet.updateItem(otherSearchState.heapIndex);
    }
  }
}

function goalReached(searchState, targetNode) {
  return searchState.node === targetNode;
}

function reconstructPath(searchState) {
  var path = [searchState.node];
  var parent = searchState.parent;

  while (parent) {
    path.push(parent.node);
    parent = parent.parent;
  }

  return path;
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/defaultSettings.js":
/*!************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/defaultSettings.js ***!
  \************************************************************/
/***/ ((module) => {

// We reuse instance of array, but we trie to freeze it as well,
// so that consumers don't modify it. Maybe it's a bad idea.
var NO_PATH = [];
if (typeof Object.freeze === 'function') Object.freeze(NO_PATH);

module.exports = {
  // Path search settings
  heuristic: blindHeuristic,
  distance: constantDistance,
  compareFScore: compareFScore,
  NO_PATH: NO_PATH,

  // heap settings
  setHeapIndex: setHeapIndex,

  // nba:
  setH1: setH1,
  setH2: setH2,
  compareF1Score: compareF1Score,
  compareF2Score: compareF2Score,
}

function blindHeuristic(/* a, b */) {
  // blind heuristic makes this search equal to plain Dijkstra path search.
  return 0;
}

function constantDistance(/* a, b */) {
  return 1;
}

function compareFScore(a, b) {
  var result = a.fScore - b.fScore;
  // TODO: Can I improve speed with smarter ties-breaking?
  // I tried distanceToSource, but it didn't seem to have much effect
  return result;
}

function setHeapIndex(nodeSearchState, heapIndex) {
  nodeSearchState.heapIndex = heapIndex;
}

function compareF1Score(a, b) {
  return a.f1 - b.f1;
}

function compareF2Score(a, b) {
  return a.f2 - b.f2;
}

function setH1(node, heapIndex) {
  node.h1 = heapIndex;
}

function setH2(node, heapIndex) {
  node.h2 = heapIndex;
}

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/heuristics.js":
/*!*******************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/heuristics.js ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = {
  l2: l2,
  l1: l1
};

/**
 * Euclid distance (l2 norm);
 * 
 * @param {*} a 
 * @param {*} b 
 */
function l2(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return Math.sqrt(dx * dx + dy * dy);
}

/**
 * Manhattan distance (l1 norm);
 * @param {*} a 
 * @param {*} b 
 */
function l1(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return Math.abs(dx) + Math.abs(dy);
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js":
/*!****************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/makeSearchStatePool.js ***!
  \****************************************************************/
/***/ ((module) => {

/**
 * This class represents a single search node in the exploration tree for
 * A* algorithm.
 * 
 * @param {Object} node  original node in the graph
 */
function NodeSearchState(node) {
  this.node = node;

  // How we came to this node?
  this.parent = null;

  this.closed = false;
  this.open = 0;

  this.distanceToSource = Number.POSITIVE_INFINITY;
  // the f(n) = g(n) + h(n) value
  this.fScore = Number.POSITIVE_INFINITY;

  // used to reconstruct heap when fScore is updated.
  this.heapIndex = -1;
};

function makeSearchStatePool() {
  var currentInCache = 0;
  var nodeCache = [];

  return {
    createNewState: createNewState,
    reset: reset
  };

  function reset() {
    currentInCache = 0;
  }

  function createNewState(node) {
    var cached = nodeCache[currentInCache];
    if (cached) {
      // TODO: This almost duplicates constructor code. Not sure if
      // it would impact performance if I move this code into a function
      cached.node = node;
      // How we came to this node?
      cached.parent = null;

      cached.closed = false;
      cached.open = 0;

      cached.distanceToSource = Number.POSITIVE_INFINITY;
      // the f(n) = g(n) + h(n) value
      cached.fScore = Number.POSITIVE_INFINITY;

      // used to reconstruct heap when fScore is updated.
      cached.heapIndex = -1;

    } else {
      cached = new NodeSearchState(node);
      nodeCache[currentInCache] = cached;
    }
    currentInCache++;
    return cached;
  }
}
module.exports = makeSearchStatePool;

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/nba/index.js":
/*!******************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/nba/index.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = nba;

var NodeHeap = __webpack_require__(/*! ../NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var heuristics = __webpack_require__(/*! ../heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ../defaultSettings.js */ "./node_modules/ngraph.path/a-star/defaultSettings.js");
var makeNBASearchStatePool = __webpack_require__(/*! ./makeNBASearchStatePool.js */ "./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js");

var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`.
 * 
 * This is implementation of the NBA* algorithm described in 
 * 
 *  "Yet another bidirectional algorithm for shortest paths" paper by Wim Pijls and Henk Post
 * 
 * The paper is available here: https://repub.eur.nl/pub/16100/ei2009-10.pdf
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`. This function should never overestimate actual distance between two
 * nodes (otherwise the found path will not be the shortest). Defaults function returns 0,
 * which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function nba(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;
  var quitFast = options.quitFast;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;

  // During stress tests I noticed that garbage collection was one of the heaviest
  // contributors to the algorithm's speed. So I'm using an object pool to recycle nodes.
  var pool = makeNBASearchStatePool();

  return {
    /**
     * Finds a path between node `fromId` and `toId`.
     * @returns {Array} of nodes between `toId` and `fromId`. Empty array is returned
     * if no path is found.
     */
    find: find
  };

  function find(fromId, toId) {
    // I must apologize for the code duplication. This was the easiest way for me to
    // implement the algorithm fast.
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);

    pool.reset();

    // I must also apologize for somewhat cryptic names. The NBA* is bi-directional
    // search algorithm, which means it runs two searches in parallel. One is called
    // forward search and it runs from source node to target, while the other one
    // (backward search) runs from target to source.

    // Everywhere where you see `1` it means it's for the forward search. `2` is for 
    // backward search.

    // For oriented graph path finding, we need to reverse the graph, so that
    // backward search visits correct link. Obviously we don't want to duplicate
    // the graph, instead we always traverse the graph as non-oriented, and filter
    // edges in `visitN1Oriented/visitN2Oritented`
    var forwardVisitor = oriented ? visitN1Oriented : visitN1;
    var reverseVisitor = oriented ? visitN2Oriented : visitN2;

    // Maps nodeId to NBASearchState.
    var nodeState = new Map();

    // These two heaps store nodes by their underestimated values.
    var open1Set = new NodeHeap({
      compare: defaultSettings.compareF1Score,
      setNodeId: defaultSettings.setH1
    });
    var open2Set = new NodeHeap({
      compare: defaultSettings.compareF2Score,
      setNodeId: defaultSettings.setH2
    });

    // This is where both searches will meet.
    var minNode;

    // The smallest path length seen so far is stored here:
    var lMin = Number.POSITIVE_INFINITY;

    // We start by putting start/end nodes to the corresponding heaps
    // If variable names like `f1`, `g1` are too confusing, please refer
    // to makeNBASearchStatePool.js file, which has detailed description.
    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode); 
    startNode.g1 = 0;
    var f1 = heuristic(from, to);
    startNode.f1 = f1;
    open1Set.push(startNode);

    var endNode = pool.createNewState(to);
    nodeState.set(toId, endNode);
    endNode.g2 = 0;
    var f2 = f1; // they should agree originally
    endNode.f2 = f2;
    open2Set.push(endNode)

    // the `cameFrom` variable is accessed by both searches, so that we can store parents.
    var cameFrom;

    // this is the main algorithm loop:
    while (open2Set.length && open1Set.length) {
      if (open1Set.length < open2Set.length) {
        forwardSearch();
      } else {
        reverseSearch();
      }

      if (quitFast && minNode) break;
    }

    var path = reconstructPath(minNode);
    return path; // the public API is over

    function forwardSearch() {
      cameFrom = open1Set.pop();
      if (cameFrom.closed) {
        return;
      }

      cameFrom.closed = true;

      if (cameFrom.f1 < lMin && (cameFrom.g1 + f2 - heuristic(from, cameFrom.node)) < lMin) {
        graph.forEachLinkedNode(cameFrom.node.id, forwardVisitor);
      }

      if (open1Set.length > 0) {
        // this will be used in reverse search
        f1 = open1Set.peek().f1;
      } 
    }

    function reverseSearch() {
      cameFrom = open2Set.pop();
      if (cameFrom.closed) {
        return;
      }
      cameFrom.closed = true;

      if (cameFrom.f2 < lMin && (cameFrom.g2 + f1 - heuristic(cameFrom.node, to)) < lMin) {
        graph.forEachLinkedNode(cameFrom.node.id, reverseVisitor);
      }

      if (open2Set.length > 0) {
        // this will be used in forward search
        f2 = open2Set.peek().f2;
      }
    }

    function visitN1(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) return;

      var tentativeDistance = cameFrom.g1 + distance(cameFrom.node, otherNode, link);

      if (tentativeDistance < otherSearchState.g1) {
        otherSearchState.g1 = tentativeDistance;
        otherSearchState.f1 = tentativeDistance + heuristic(otherSearchState.node, to);
        otherSearchState.p1 = cameFrom;
        if (otherSearchState.h1 < 0) {
          open1Set.push(otherSearchState);
        } else {
          open1Set.updateItem(otherSearchState.h1);
        }
      }
      var potentialMin = otherSearchState.g1 + otherSearchState.g2;
      if (potentialMin < lMin) { 
        lMin = potentialMin;
        minNode = otherSearchState;
      }
    }

    function visitN2(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) return;

      var tentativeDistance = cameFrom.g2 + distance(cameFrom.node, otherNode, link);

      if (tentativeDistance < otherSearchState.g2) {
        otherSearchState.g2 = tentativeDistance;
        otherSearchState.f2 = tentativeDistance + heuristic(from, otherSearchState.node);
        otherSearchState.p2 = cameFrom;
        if (otherSearchState.h2 < 0) {
          open2Set.push(otherSearchState);
        } else {
          open2Set.updateItem(otherSearchState.h2);
        }
      }
      var potentialMin = otherSearchState.g1 + otherSearchState.g2;
      if (potentialMin < lMin) {
        lMin = potentialMin;
        minNode = otherSearchState;
      }
    }

    function visitN2Oriented(otherNode, link) {
      // we are going backwards, graph needs to be reversed. 
      if (link.toId === cameFrom.node.id) return visitN2(otherNode, link);
    }
    function visitN1Oriented(otherNode, link) {
      // this is forward direction, so we should be coming FROM:
      if (link.fromId === cameFrom.node.id) return visitN1(otherNode, link);
    }
  }
}

function reconstructPath(searchState) {
  if (!searchState) return NO_PATH;

  var path = [searchState.node];
  var parent = searchState.p1;

  while (parent) {
    path.push(parent.node);
    parent = parent.p1;
  }

  var child = searchState.p2;

  while (child) {
    path.unshift(child.node);
    child = child.p2;
  }
  return path;
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js":
/*!***********************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js ***!
  \***********************************************************************/
/***/ ((module) => {

module.exports = makeNBASearchStatePool;

/**
 * Creates new instance of NBASearchState. The instance stores information
 * about search state, and is used by NBA* algorithm.
 *
 * @param {Object} node - original graph node
 */
function NBASearchState(node) {
  /**
   * Original graph node.
   */
  this.node = node;

  /**
   * Parent of this node in forward search
   */
  this.p1 = null;

  /**
   * Parent of this node in reverse search
   */
  this.p2 = null;

  /**
   * If this is set to true, then the node was already processed
   * and we should not touch it anymore.
   */
  this.closed = false;

  /**
   * Actual distance from this node to its parent in forward search
   */
  this.g1 = Number.POSITIVE_INFINITY;

  /**
   * Actual distance from this node to its parent in reverse search
   */
  this.g2 = Number.POSITIVE_INFINITY;


  /**
   * Underestimated distance from this node to the path-finding source.
   */
  this.f1 = Number.POSITIVE_INFINITY;

  /**
   * Underestimated distance from this node to the path-finding target.
   */
  this.f2 = Number.POSITIVE_INFINITY;

  // used to reconstruct heap when fScore is updated. TODO: do I need them both?

  /**
   * Index of this node in the forward heap.
   */
  this.h1 = -1;

  /**
   * Index of this node in the reverse heap.
   */
  this.h2 = -1;
}

/**
 * As path-finding is memory-intensive process, we want to reduce pressure on
 * garbage collector. This class helps us to recycle path-finding nodes and significantly
 * reduces the search time (~20% faster than without it).
 */
function makeNBASearchStatePool() {
  var currentInCache = 0;
  var nodeCache = [];

  return {
    /**
     * Creates a new NBASearchState instance
     */
    createNewState: createNewState,

    /**
     * Marks all created instances available for recycling.
     */
    reset: reset
  };

  function reset() {
    currentInCache = 0;
  }

  function createNewState(node) {
    var cached = nodeCache[currentInCache];
    if (cached) {
      // TODO: This almost duplicates constructor code. Not sure if
      // it would impact performance if I move this code into a function
      cached.node = node;

      // How we came to this node?
      cached.p1 = null;
      cached.p2 = null;

      cached.closed = false;

      cached.g1 = Number.POSITIVE_INFINITY;
      cached.g2 = Number.POSITIVE_INFINITY;
      cached.f1 = Number.POSITIVE_INFINITY;
      cached.f2 = Number.POSITIVE_INFINITY;

      // used to reconstruct heap when fScore is updated.
      cached.h1 = -1;
      cached.h2 = -1;
    } else {
      cached = new NBASearchState(node);
      nodeCache[currentInCache] = cached;
    }
    currentInCache++;
    return cached;
  }
}


/***/ }),

/***/ "./node_modules/ngraph.path/index.js":
/*!*******************************************!*\
  !*** ./node_modules/ngraph.path/index.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = {
  aStar: __webpack_require__(/*! ./a-star/a-star.js */ "./node_modules/ngraph.path/a-star/a-star.js"),
  aGreedy: __webpack_require__(/*! ./a-star/a-greedy-star */ "./node_modules/ngraph.path/a-star/a-greedy-star.js"),
  nba: __webpack_require__(/*! ./a-star/nba/index.js */ "./node_modules/ngraph.path/a-star/nba/index.js"),
}


/***/ }),

/***/ "./src/LoadExpressionTestPage.ts":
/*!***************************************!*\
  !*** ./src/LoadExpressionTestPage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExpressionsTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ./mathlib/expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ./mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integral_1 = __webpack_require__(/*! ./mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
/**
 * Called after the dom is loaded.
 * Populates the body element of the document
 * with the test expressions page
 */
function loadExpressionsTestPage() {
    const page = document.getElementsByTagName('body')[0];
    function p(content) {
        const e = document.createElement('p');
        e.innerText = content;
        page.append(e);
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        page.append(e);
    }
    p("The sum of a, a, and a");
    view((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.a, ConvenientExpressions_1.a));
    p("Integral of a over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of (a over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of ((a over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of (((a over a) over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of ((((a over a) over a) over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("");
    view((0, ConvenientExpressions_1.int)(Fraction_1.Fraction.of((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.a), Fraction_1.Fraction.of((0, ConvenientExpressions_1.num)(1), (0, ConvenientExpressions_1.num)(2)))), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.a)), ConvenientExpressions_1.x));
    p("Product of x and y");
    view((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.x, ConvenientExpressions_1.y));
    p("Product of (x-1), -1 and y");
    view((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.num)(1))), (0, ConvenientExpressions_1.num)(-1), ConvenientExpressions_1.y));
    p("Negation of x (Reped as the propduct of -1 and x)");
    view((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x));
    p("Sum of x and -x");
    view((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x)));
    p("Sum of -x and x");
    view((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x), ConvenientExpressions_1.x));
    p("Derivative of the square of x with respect to x");
    view(Derivative_1.Derivative.of(Exponent_1.Exponent.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2)), ConvenientExpressions_1.x));
    p("Derivative ((x^2) - 2) with respect to x");
    view(Derivative_1.Derivative.of(Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(-2)), (0, ConvenientExpressions_1.num)(2)), ConvenientExpressions_1.x));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
}
exports.loadExpressionsTestPage = loadExpressionsTestPage;


/***/ }),

/***/ "./src/LoadInputParseTestPage.ts":
/*!***************************************!*\
  !*** ./src/LoadInputParseTestPage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadInputParseTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Logarithm_1 = __webpack_require__(/*! ./mathlib/expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadInputParseTestPage() {
    const page = document.getElementsByTagName('body')[0];
    page.style.padding = "8ch";
    function p(content) {
        const e = document.createElement('p');
        e.innerText = content;
        return e;
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        return e;
    }
    /**
     * Print the parsed expression to the page.
     * @param input User input string to parse.
     * @param explanation
     */
    function expression(input, explanation = null) {
        page.append(p("Input:       " + input));
        if (explanation != null)
            page.append(p(explanation));
        page.append(view((0, AntlrMathParser_1.parseExpression)(input)));
    }
    /**
     * Takes an internal expression, converts it
     * to a string, then parses that string into
     * an expression.
     * @param input
     */
    function twoWay(input) {
        const table = document.createElement('table');
        table.style.border = "1px solid black";
        table.style.width = '70%';
        const row = document.createElement('tr');
        table.appendChild(row);
        const data1 = document.createElement('td');
        const data2 = document.createElement('td');
        const data3 = document.createElement('td');
        row.appendChild(data1);
        row.appendChild(data2);
        row.appendChild(data3);
        data1.style.border = "1px solid black";
        data2.style.border = "1px solid black";
        data3.style.border = "1px solid black";
        data1.appendChild(view(input));
        const text = p(input.toUnambigiousString());
        text.style.display = "block";
        text.style.textAlign = "center";
        data2.appendChild(text);
        const parseResult = (0, AntlrMathParser_1.parseExpression)(input.toUnambigiousString());
        data3.appendChild(view(parseResult));
        page.append(table);
        // Conditional formatting
        if (input === parseResult) {
            data3.style.backgroundColor = "lightgreen";
        }
        else {
            data3.style.backgroundColor = "red";
        }
    }
    // Expression strings to test
    expression("int(x)dx+c");
    expression("a/bintx");
    expression("a^b+c", "The +c shouldn't be in the exponent");
    expression("a+b^c");
    expression("(a+b)^c");
    expression("-a-b+c");
    expression("-a+-b+c");
    expression("a+b+c");
    expression("-(a+b)");
    expression("-a(a+b)");
    expression("a+(b+c)");
    expression("a-b-c");
    expression("a*b+c");
    expression("a/b+c");
    expression("a/b/c");
    expression("abx-d");
    expression("-abx-d");
    expression("-a-bx-d");
    expression("abcd");
    expression("a*b*c*d");
    expression("ab*cd");
    expression("int4x+2");
    expression("int(4x+2)");
    expression("logx");
    expression("log(x)");
    expression("(5/(2x-3)-(3/((2x-3)^2))");
    expression("(5/(2x-3)-(3/(2x-3)^2)");
    page.append(p("In these tests, an unambigious expression is written in the " +
        " source code. It is then converted to an unambigious string " +
        "representation, and then parsed back into an expression. " +
        "The goal is that this process preserves the expression. This " +
        "requires 1) expression -> string is unambigious and accurate and 2) " +
        "the parser is working correctly."));
    page.append(p("The first column is assumed to be correct, the middle collumn has " +
        "the automatically generated string version of the first column, " +
        "and the last column contains the expression parsed from the second column."));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), ConvenientExpressions_1.b, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, Exponent_1.Exponent.of(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    twoWay(Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)));
    twoWay((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)));
    twoWay((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b))));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.fraction)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.fraction)((0, ConvenientExpressions_1.fraction)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.x), ConvenientExpressions_1.d));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.x)), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.d)));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.b, ConvenientExpressions_1.x)), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.d)));
    twoWay((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c, ConvenientExpressions_1.d));
    // twoWay("ab*cd")
    // twoWay("int4x+2")
    // twoWay("int(4x+2)")
    twoWay(Logarithm_1.Logarithm.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(10)));
}
exports.loadInputParseTestPage = loadInputParseTestPage;


/***/ }),

/***/ "./src/LoadPrimaryPage.ts":
/*!********************************!*\
  !*** ./src/LoadPrimaryPage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPrimaryPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const WebGraphView_1 = __webpack_require__(/*! ./mathlib/uielements/WebGraphView */ "./src/mathlib/uielements/WebGraphView.ts");
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const Expression_1 = __webpack_require__(/*! ./mathlib/expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ./mathlib/derivations/RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
const SubtractFromBothSides_1 = __webpack_require__(/*! ./mathlib/derivations/algebra/SubtractFromBothSides */ "./src/mathlib/derivations/algebra/SubtractFromBothSides.ts");
const DivideOnBothSides_1 = __webpack_require__(/*! ./mathlib/derivations/algebra/DivideOnBothSides */ "./src/mathlib/derivations/algebra/DivideOnBothSides.ts");
const Variable_1 = __webpack_require__(/*! ./mathlib/expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Product_1 = __webpack_require__(/*! ./mathlib/expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./mathlib/expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Interpreter_1 = __webpack_require__(/*! ./mathlib/interpreting/Interpreter */ "./src/mathlib/interpreting/Interpreter.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./mathlib/derivations/simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ./mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
const Integral_1 = __webpack_require__(/*! ./mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
RelationalDerivationRule_1.RelationalDerivationRule.rules.add(new SubtractFromBothSides_1.SubtractFromBothSides());
RelationalDerivationRule_1.RelationalDerivationRule.rules.add(new DivideOnBothSides_1.DivideOnBothSides());
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadPrimaryPage() {
    //product(sum(a, b), sum(a, negative(b)), a, a)
    let root = Integral_1.Integral.of((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(10), Exponent_1.Exponent.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2))), ConvenientExpressions_1.x);
    let derivationResult = (0, Deriver_1.deriveExpand)((0, Deriver_1.wrapInGraph)(root), 30, true);
    const graph = derivationResult.graph;
    const interpreter = new Interpreter_1.Interpreter({
        skips: (0, ThingsThatShouldBeInTheStdLib_1.setOf)(EvaluateSums_1.RULE_ID)
    });
    const input = document.getElementById("input");
    input.addEventListener("keyup", (e) => {
        if (e.key != "Enter")
            return;
        input.value = input.value.trimEnd();
        try {
            root = (0, AntlrMathParser_1.parseExpression)(input.value);
        }
        catch (e) {
            root = null;
            alert("Not a valid input");
            return;
        }
        derivationResult = (0, Deriver_1.deriveExpand)((0, Deriver_1.wrapInGraph)(root), 5, true);
        const graph = derivationResult.graph;
        graphView.setGraph(graph, (0, ThingsThatShouldBeInTheStdLib_1.setOf)(root));
    });
    const out = document.getElementById("outputbox");
    const config = {
        showArguments: false,
        drawEdgeLines: true,
        debugCornerEnabled: true,
    };
    const graphView = new WebGraphView_1.WebGraphView(graph, new Set([root]), interpreter, config);
    graphView.setNodeColoringScheme(n => {
        if (n instanceof Expression_1.Expression) {
            if (!derivationResult.isSimplified(n))
                return "lightgray";
            if (n instanceof Product_1.Product)
                if (derivationResult.passedFactoringSimplification.has(n))
                    return "coral";
            if (n instanceof Sum_1.Sum)
                if (derivationResult.passedPolynomialSimplification.has(n))
                    return "yellow";
            if (derivationResult.passedConvergentSimplification.has(n))
                return "lightgreen";
            if (n instanceof Variable_1.Variable)
                return "orange";
            return "lightblue";
        }
        return "black";
    });
    graphView.setAttribute("id", "web-graphview");
    out.appendChild(graphView);
}
exports.loadPrimaryPage = loadPrimaryPage;


/***/ }),

/***/ "./src/LoadSimplificationTestPage.ts":
/*!*******************************************!*\
  !*** ./src/LoadSimplificationTestPage.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSimplificationTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadSimplificationTestPage() {
    const page = document.getElementsByTagName('body')[0];
    page.style.padding = "8ch";
    function p(content) {
        const e = document.createElement('p');
        e.innerText = content;
        return e;
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        return e;
    }
    /**
     * Adds a test column to the page.
     * @param start
     * @param answ The correct simplification of the expression.
     */
    function simplify(start, answ) {
        const table = document.createElement('table');
        table.style.border = "1px solid black";
        table.style.width = '80%';
        const row = document.createElement('tr');
        table.appendChild(row);
        function append(cell) {
            cell.style.border = "1px solid black";
            row.appendChild(cell);
        }
        const data1 = document.createElement('td');
        const data2 = document.createElement('td');
        const data3 = document.createElement('td');
        append(data1);
        append(data2);
        append(data3);
        data1.appendChild(view(start));
        const derivationResult = (0, Deriver_1.deriveExpand)((0, Deriver_1.wrapInGraph)(start), 40);
        const results = derivationResult.simplifiedExpressions;
        console.log(results.length);
        if (results.length == 0) {
            table.style.backgroundColor = "red";
            page.append(table);
            return;
        }
        data2.appendChild(view(results[0]));
        data3.appendChild(view(answ));
        page.append(table);
        // Conditional formatting
        if (results[0] === answ) {
            data2.style.backgroundColor = "lightgreen";
        }
        else {
            data2.style.backgroundColor = "red";
            const data4 = document.createElement('td');
            const data5 = document.createElement('td');
            const data6 = document.createElement('td');
            append(data4);
            append(data5);
            append(data6);
            data4.innerHTML = results[0].toUnambigiousString() + "<br>" + answ.toUnambigiousString();
            data5.innerHTML = "Hashes: <br>" + results[0].hash + "<br>" + answ.hash;
            data6.innerHTML = "IDs: " + results[0].id + "<br>" + answ.id;
        }
    }
    /**
     * Wrapper for simplify that parses strings
     * @param input
     * @param answ
     */
    function pSimp(input, answ) {
        const inputExp = (0, AntlrMathParser_1.parseExpression)(input);
        const answExp = (0, AntlrMathParser_1.parseExpression)(answ);
        simplify(inputExp, answExp);
    }
    // Expressions and their correct simplifications
    simplify((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.x), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.x));
    simplify((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.x, ConvenientExpressions_1.x), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2)));
    simplify((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.a), ConvenientExpressions_1.b));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.c, ConvenientExpressions_1.b)), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.c, ConvenientExpressions_1.b)));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.c)), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.b)));
    pSimp("(a+b)(a+b)", "(a+b)^2");
    pSimp("(a+b)(a-b)", "a^2-b^2");
    pSimp("b^2*b", "b^3");
    // Random online problems
    pSimp("(-(1/x)+1)((x^2)/(x-1))", "x");
    pSimp("(3x+27y+15z)/(x+9y+5z)", "3");
    pSimp("(x^2-9)/(x+3)", "(x-3)");
    pSimp("x+3*(10+y)-7x-y", "-6x+2y+30");
    pSimp("(5/(2x-3)-(3/((2x-3)^2))", "(2(5x-9))/((2x-3)^2)");
}
exports.loadSimplificationTestPage = loadSimplificationTestPage;


/***/ }),

/***/ "./src/LoadSolverPage.ts":
/*!*******************************!*\
  !*** ./src/LoadSolverPage.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSolverPage = void 0;
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const ngraph_path_1 = __importDefault(__webpack_require__(/*! ngraph.path */ "./node_modules/ngraph.path/index.js"));
const ngraph_graph_1 = __importDefault(__webpack_require__(/*! ngraph.graph */ "./node_modules/ngraph.graph/index.js"));
const Expression_1 = __webpack_require__(/*! ./mathlib/expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const Argument_1 = __webpack_require__(/*! ./mathlib/Argument */ "./src/mathlib/Argument.ts");
const ArgumentNodeView_1 = __webpack_require__(/*! ./mathlib/uielements/ArgumentNodeView */ "./src/mathlib/uielements/ArgumentNodeView.ts");
const ExpressionNodeView_1 = __webpack_require__(/*! ./mathlib/uielements/ExpressionNodeView */ "./src/mathlib/uielements/ExpressionNodeView.ts");
const GraphMinipulator_1 = __webpack_require__(/*! ./mathlib/GraphMinipulator */ "./src/mathlib/GraphMinipulator.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
const Interpreter_1 = __webpack_require__(/*! ./mathlib/interpreting/Interpreter */ "./src/mathlib/interpreting/Interpreter.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ./mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./mathlib/derivations/simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const Path_1 = __webpack_require__(/*! ./mathlib/interpreting/Path */ "./src/mathlib/interpreting/Path.ts");
function loadSolverPage() {
    const inputView = document.getElementById('problem');
    const problemViewDiv = document.getElementById('expressionViewDiv');
    const solutionView = document.getElementById('solution');
    const stepListView = document.getElementById('steps');
    // Populate ui
    const problemView = new EditableMathView_1.EditableMathView();
    problemViewDiv.appendChild(problemView);
    inputView.focus();
    inputView.addEventListener("keyup", () => {
        // Parse input
        let exp;
        try {
            exp = (0, AntlrMathParser_1.parseExpression)(inputView.value);
            problemView.value = exp;
        }
        catch (e) {
            stepListView.style.opacity = "0.6";
            problemView.value = null;
            return;
        }
        // We were able to parse the input
        stepListView.style.opacity = "1";
        // Clear the previous result
        while (stepListView.children.length > 0) {
            stepListView.removeChild(stepListView.children[0]);
        }
        const steps = getSolution(exp);
        if (steps.nodes.length == 0) {
            stepListView.textContent = "Cannot Simplify";
            return;
        }
        else {
            stepListView.textContent = "";
        }
        // Interpret the solution
        const interpreter = new Interpreter_1.Interpreter({
            skips: (0, ThingsThatShouldBeInTheStdLib_1.setOf)(EvaluateSums_1.RULE_ID)
        });
        const skipSet = interpreter.processPath(steps);
        // Display new result
        solutionView.value = steps.nodes[steps.nodes.length - 1];
        function recursiveAdd(node) {
            stepListView.appendChild(new ExpressionNodeView_1.ExpressionNodeView(node, view => { }));
            const next = skipSet.next(node);
            if (next == null)
                return;
            const arg = next.a;
            stepListView.appendChild(new ArgumentNodeView_1.ArgumentNodeView(arg, view => { }));
            recursiveAdd(next.e);
        }
        recursiveAdd(steps.nodes[0]);
    });
}
exports.loadSolverPage = loadSolverPage;
/**
 * Simplifies the given expression returning an array
 * of steps ending in the answer.
 * The last node will be an expression.
 * Result path will have no nodes if there is no solution.
 */
function getSolution(problem) {
    const graph = (0, Deriver_1.wrapInGraph)(problem);
    const derivationResult = (0, Deriver_1.deriveExpand)(graph, 50, true);
    let simplified = problem;
    for (const node of graph.getNodes()) {
        if (node instanceof Expression_1.Expression)
            if (derivationResult.isSimplified(node))
                if (simplified.childCount > node.childCount)
                    simplified = node;
    }
    // Copy the resulting graph into a library implementation of graph
    const libraryGraph = (0, ngraph_graph_1.default)();
    graph.getNodes().forEach(n => {
        libraryGraph.addNode(n.id, n);
    });
    // I assume that library graph isn't directed
    for (const edge of GraphMinipulator_1.GraphMinipulator.dropSymmetric(graph.getEdges())) {
        if (edge.e instanceof Argument_1.Argument) {
            libraryGraph.addLink(edge.n.id, edge.e.id);
            libraryGraph.addLink(edge.e.id, edge.n1.id);
        }
        // if (edge.n instanceof Expression && edge.n1 instanceof Expression)
        //     console.log(`edge ${edge.n} AND ${edge.n1}`)
    }
    // Do path finding operation on it
    const pathFinder = ngraph_path_1.default.nba(libraryGraph);
    const resultPath = pathFinder.find(problem.id, simplified.id).reverse();
    const typedResultPath = resultPath.map(node => {
        if (node.data instanceof Argument_1.Argument)
            return node.data;
        else if (node.data instanceof Expression_1.Expression)
            return node.data;
        else
            throw new Error("Not implemented");
    }).filter(node => node instanceof Expression_1.Expression);
    return new Path_1.Path(graph, ...typedResultPath);
}


/***/ }),

/***/ "./src/mathlib/Argument.ts":
/*!*********************************!*\
  !*** ./src/mathlib/Argument.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Argument = void 0;
const MathGraphNode_1 = __webpack_require__(/*! ./MathGraphNode */ "./src/mathlib/MathGraphNode.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Connects one or more nodes (grounds) to one or more nodes (claims).
 * Contains an explanation/argument for the connection.
 */
class Argument extends MathGraphNode_1.MathGraphNode {
    constructor(grounds, claim, argument, ruleId) {
        super();
        this.expressionEdge = true;
        this.grounds = grounds;
        Object.freeze(this.grounds);
        this.claim = claim;
        this.argument = argument;
        this.ruleId = ruleId;
        this.repOk();
    }
    get relationship() {
        return this.claim.r;
    }
    toString() {
        return "Argument " + this.claim.r;
    }
    repOk() {
        (0, assert_1.assert)(this.grounds != null);
        for (const ground of this.grounds) {
            (0, assert_1.assert)(ground != null && ground != undefined);
        }
        (0, assert_1.assert)(this.claim.n != null && this.claim.n != undefined);
        (0, assert_1.assert)(this.claim.n1 != null && this.claim.n1 != undefined);
        (0, assert_1.assert)(this.claim.r != undefined && this.claim.r != null);
    }
}
exports.Argument = Argument;


/***/ }),

/***/ "./src/mathlib/ConvenientExpressions.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/ConvenientExpressions.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.y = exports.x = exports.f = exports.e = exports.d = exports.c = exports.b = exports.a = exports.productAndNotTimesOne = exports.productOrOne = exports.productOrNot = exports.equivalenceArgument = exports.int = exports.v = exports.num = exports.negative = exports.product = exports.removeNew = exports.remove = exports.pow = exports.orderedProduct = exports.sumOrNot = exports.sumIntuitive = exports.sumEvalIntegerTerms = exports.orderedSum = exports.sum = exports.fraction = void 0;
const Integer_1 = __webpack_require__(/*! ./expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Fraction_1 = __webpack_require__(/*! ./expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integral_1 = __webpack_require__(/*! ./expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Product_1 = __webpack_require__(/*! ./expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ./expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const Relationship_1 = __webpack_require__(/*! ./Relationship */ "./src/mathlib/Relationship.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
const Exponent_1 = __webpack_require__(/*! ./expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
function fraction(num, den) {
    return Fraction_1.Fraction.of(num, den);
}
exports.fraction = fraction;
/**
 * A convenience method for Sum.of()
 */
function sum(...terms) {
    return Sum_1.Sum.of(terms);
}
exports.sum = sum;
/**
 * Gets the correctly ordered sum of the given sum.
 * 1 + a = a + 1
 * Follows the spec given in the Sum.ts file.
 * @param sum
 * @returns
 */
function orderedSum(sum) {
    const ordered = (0, Sum_1.orderTerms)(...sum.terms);
    return Sum_1.Sum.of(ordered);
}
exports.orderedSum = orderedSum;
/**
 * Returns the sum of the given terms, evaluating any integer terms.
 * Puts final constant integer as the last term.
 * If the result is a sum, it will not have the integer 0 as a term.
 * If all given terms sum to zero, the integer zero will be returned.
 * @param terms
 */
function sumEvalIntegerTerms(...terms) {
    const integers = terms.filter(e => e instanceof Integer_1.Integer).length;
    if (integers < 2)
        return sum(...terms);
    const nonIntTerms = terms.filter(e => !(e instanceof Integer_1.Integer));
    const intTerm = terms.filter(e => e instanceof Integer_1.Integer)
        .map(e => e)
        .reduce((a, b) => num(a.value + b.value));
    if (intTerm.value == 0) {
        if (nonIntTerms.length > 1) {
            return sum(...nonIntTerms);
        }
        else if (nonIntTerms.length == 1) {
            return nonIntTerms[0];
        }
        else {
            return intTerm;
        }
    }
    else {
        if (nonIntTerms.length == 0) {
            return intTerm;
        }
        else {
            return sum(...nonIntTerms, intTerm);
        }
    }
}
exports.sumEvalIntegerTerms = sumEvalIntegerTerms;
/**
 * Returns the sum of the given terms. Evaluates any
 * integer terms. Additionally cancels out any positive
 * negative terms.
 *
 * Simplifies
 *  x + a - a = x
 * x + ab - ab = x
 * x + 2ab - 2ab = x
 * a - a = 0
 *
 * Doesn't affect
 *  x + 2a - a
 * @param terms
 */
function sumIntuitive(...terms) {
    const intEval = sumEvalIntegerTerms(...terms);
    if (intEval.class != Sum_1.SumType)
        return intEval;
    terms = [...intEval.terms];
    // Find opposite pairs
    // They will take the form
    //      exp + -1 * exp
    // I assume here that the only way to notate
    // negativity is by multiplying by -1
    terms: for (const t of terms) {
        const otherTerms = [...terms];
        remove(otherTerms, t);
        for (const other of otherTerms) {
            if (other instanceof Product_1.Product) {
                if (other.isNegation && other.negation === t) {
                    remove(terms, other);
                    remove(terms, t);
                    continue terms;
                }
            }
        }
    }
    if (terms.length == 0)
        return Integer_1.Integer.of(0);
    else if (terms.length == 1)
        return terms[0];
    else
        return sum(...terms);
}
exports.sumIntuitive = sumIntuitive;
/**
 * Finds the sum of the given terms or if only 1
 * is given returns that term.
 * @param terms
 * @returns
 */
function sumOrNot(...terms) {
    if (terms.length == 1)
        return terms[0];
    else
        return sum(...terms);
}
exports.sumOrNot = sumOrNot;
/**
 * Produces a product from the given factors
 * where the factors are ordered according to convention.
 * @param factors At least 2
 */
function orderedProduct(...factors) {
    factors.sort(Product_1.factorOrder);
    return product(...factors);
}
exports.orderedProduct = orderedProduct;
/**
 * Convenience wrapper function for Exponent.of
 * @param base
 * @param power
 * @returns
 */
function pow(base, power) {
    return Exponent_1.Exponent.of(base, power);
}
exports.pow = pow;
/**
 * Removes the first instance of the given
 * element from the array. Really should be
 * part of the std library. Identifies object
 * with referencial equality.
 * @param array
 * @param element
 */
function remove(array, element) {
    for (let i = 0; i < array.length; i++) {
        if (array[i] === element) {
            array.splice(i, 1);
            return;
        }
    }
}
exports.remove = remove;
/**
 * Gets a new array without the first instance of the given
 * element. Really should be
 * part of the std library. Identifies object
 * with referencial equality.
 * @param array
 * @param element
 */
function removeNew(array, element) {
    const input = [...array];
    for (let i = 0; i < input.length; i++) {
        if (input[i] === element) {
            input.splice(i, 1);
            return input;
        }
    }
    throw new Error("Given array doesn't contain element " + element);
}
exports.removeNew = removeNew;
function product(...factors) {
    factors.forEach(f => (0, assert_1.assert)(f != null && f != undefined, "Making product with null or undefined factor"));
    return Product_1.Product.of(factors);
}
exports.product = product;
function negative(expression) {
    (0, assert_1.assert)(expression != undefined, "Taking negative of undefined expression");
    if (expression instanceof Integer_1.Integer)
        return Integer_1.Integer.of(-expression.value);
    else
        return Product_1.Product.of([Integer_1.Integer.of(-1), expression]);
}
exports.negative = negative;
function num(val) {
    return Integer_1.Integer.of(val);
}
exports.num = num;
function v(symbol) {
    return Variable_1.Variable.of(symbol);
}
exports.v = v;
function int(integrand, respectTo) {
    return Integral_1.Integral.of(integrand, respectTo);
}
exports.int = int;
function equivalenceArgument(first, second, explanation) {
    return new Argument_1.Argument(setOf(first), {
        n: first,
        r: Relationship_1.Relationship.Equal,
        n1: second,
    }, explanation, "TEST_ARGUMENT");
}
exports.equivalenceArgument = equivalenceArgument;
/**
 *
 * @returns The product of the given factors, or the only factor given
 * if only one given. Throws if no expressions are given.
 */
function productOrNot(...expressions) {
    (0, assert_1.assert)(expressions.length > 0);
    if (expressions.length == 1)
        return expressions[0];
    return product(...expressions);
}
exports.productOrNot = productOrNot;
/**
 * Takes the product of the given expressions. If none are
 * given, 1. If one is given, that one.
 */
function productOrOne(...expressions) {
    if (expressions.length === 0) {
        return num(1);
    }
    else
        return productOrNot(...expressions);
}
exports.productOrOne = productOrOne;
/**
 * @returns The product of the given terms exlcuding the first if
 *          it's one. If the resulting terms list is only one term,
 *          returns the only term.
 */
function productAndNotTimesOne(...expressions) {
    if (expressions[0] instanceof Integer_1.Integer && expressions[0].value == 1) {
        expressions.shift();
        return productOrNot(...expressions);
    }
    return productOrNot(...expressions);
}
exports.productAndNotTimesOne = productAndNotTimesOne;
function setOf(...expressions) {
    const out = new Set();
    expressions.forEach(e => out.add(e));
    return out;
}
exports.a = v('a');
exports.b = v('b');
exports.c = v('c');
exports.d = v('d');
exports.e = v('e');
exports.f = v('f');
exports.x = v('x');
exports.y = v('y');


/***/ }),

/***/ "./src/mathlib/Graph.ts":
/*!******************************!*\
  !*** ./src/mathlib/Graph.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GivenEdge = exports.ArgumentEdge = exports.Graph = void 0;
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Class representing a graph of expressions and statements
 * including everything we know about a problem.
 * Connects GraphNodes via Inferences for edges.
 *
 * It's a digraph. TODO: It may also need to be a multigraph...
 */
class Graph {
    constructor() {
        this.nodes = new Set();
        this.connections = new Map();
        this.edges = new Map();
        this.repOk();
    }
    /**
     * Adds an expression to the problem.
     * @param node
     * @returns the same graph for chaining.
     */
    addNode(node) {
        this.nodes.add(node);
        if (node instanceof Argument_1.Argument) {
            this.addArgument(node);
        }
        this.repOk();
        return this;
    }
    /**
     * Add a relationship between two elements given by the user to the graph.
     * Should not be called to add derived truths bc this won't store an explanation.
     * Adds given nodes if they aren't already on the graph.
     * @param n
     * @param n1
     * @param r
     * @returns self for chaining
     */
    addRelationship(n, n1, r) {
        this.addNode(n);
        this.addNode(n1);
        // Defined both ways because the user is giving it
        this.internalAdd(n, n1, new GivenEdge(r));
        this.internalAdd(n1, n, new GivenEdge(r));
        this.repOk();
        return this;
    }
    /**
     * Adds a node representing an acumulation of facts
     * that leads to a conclusion.
     * The relationship claimed by the argument is directed
     * from n to n1 with the argument as the edge.
     * @param a
     * @returns the same graph for chaining.
     */
    addArgument(a) {
        this.nodes.add(a);
        // Add the grounds
        for (const ground of a.grounds) {
            this.nodes.add(ground);
            this.internalAdd(ground, a, ArgumentEdge.To);
        }
        // Add the claim
        const claim = a.claim;
        this.addNode(claim.n);
        this.addNode(claim.n1);
        this.internalAdd(a, claim.n, ArgumentEdge.From);
        this.internalAdd(a, claim.n1, ArgumentEdge.From);
        this.internalAdd(claim.n, claim.n1, a);
        this.repOk();
        return this;
    }
    /**
     * @returns the same graph for chaining.
     */
    addArguments(...a) {
        a.forEach(arg => this.addArgument(arg));
        return this;
    }
    /**
     * Adds the given directed edge to the graph. If either node
     * is missing from the graph, adds it.
     * @param n
     * @param n1
     * @param e
     * @returns This.
     */
    addEdge(n, n1, e) {
        this.addNode(n);
        this.addNode(n1);
        this.internalAdd(n, n1, e);
        return this;
    }
    /**
     * Get the set of neighbors of a node.
     * @param node
     * @param direction Nodes that are adjacent to this node, from this node, or either.
     * @returns Undefined if the node isn't in this graph. Otherwise, a set of connected nodes.
     *          If the node is in the graph but isn't connected to anything, returns empty set.
     */
    getNeighbors(node, direction) {
        var _a, _b;
        if (!this.nodes.has(node))
            return undefined;
        if (direction == "out") {
            return [...this.connections.get(node)];
        }
        let adjacentTo = new Set();
        for (const n of this.nodes) {
            if ((_a = this.connections.get(n)) === null || _a === void 0 ? void 0 : _a.has(node))
                adjacentTo.add(n);
        }
        if (direction == "in")
            return [...adjacentTo];
        for (const n of (_b = this.connections.get(node)) !== null && _b !== void 0 ? _b : [])
            adjacentTo.add(n);
        return [...adjacentTo];
    }
    /**
     * Determines the number of edges this node has.
     * @param node The node being consdered.
     * @param direction Count only the edges going towards this node, away from
     *          it, or both.
     * @returns >= 0, undefined if the given node isn't in the graph.
     */
    getDegree(node, direction) {
        var _a, _b, _c, _d;
        if (!this.nodes.has(node))
            return undefined;
        if (direction == "out") {
            return (_b = (_a = this.connections.get(node)) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;
        }
        let degIn = 0;
        this.nodes.forEach(n => {
            if (this.connections.get(n) == undefined)
                return;
            if (this.connections.get(n).has(node))
                degIn++;
        });
        if (direction == "in")
            return degIn;
        return degIn + ((_d = (_c = this.connections.get(node)) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : 0);
    }
    /**
     * @param n Node in the graph.
     * @param n1 In the graph.
     * @returns Undefined if either node isn't in the graph or they're not
     * connected.
     */
    getEdge(n, n1) {
        var _a;
        return (_a = this.edges.get(n)) === null || _a === void 0 ? void 0 : _a.get(n1);
    }
    contains(node) {
        return this.nodes.has(node);
    }
    /**
     * @returns A new set containing all the nodes in the graph
     */
    getNodes() {
        return new Set(this.nodes);
    }
    getEdges() {
        const out = new Set();
        this.edges.forEach((map, first) => {
            map.forEach((edge, second) => {
                out.add({ n: first, n1: second, e: edge });
            });
        });
        return out;
    }
    numNodes() {
        return this.nodes.size;
    }
    /**
     * Adds all graph nodes and edges to this one.
     * @param graph
     * @returns the same graph for chaining.
     */
    addGraph(graph) {
        graph.nodes.forEach(node => {
            this.nodes.add(node);
        });
        graph.edges.forEach((map, node1) => {
            map.forEach((edge, node2) => {
                if (edge instanceof Argument_1.Argument)
                    this.addArgument(edge);
                else if (edge == "supports") {
                    this.internalAdd(node1, node2, ArgumentEdge.To);
                }
                else if (edge == "claims") {
                    this.internalAdd(node1, node2, ArgumentEdge.From);
                }
                else
                    throw new Error("Unknown Edge Type");
            });
        });
        this.repOk();
        return this;
    }
    toString() {
        let out = "Graph(V = {";
        for (const node of this.nodes) {
            out += node.toString() + ",";
        }
        out = out.substring(0, out.length - 1) + "}, E = {";
        this.connections.forEach((set, src) => {
            set.forEach(dest => {
                out += src.toString() + " -> " + dest.toString() + ", ";
            });
        });
        out += "} Edge Count: " + this.connections.size;
        return out;
    }
    internalAdd(n, n1, e) {
        if (this.connections.get(n) == null) {
            this.connections.set(n, new Set());
        }
        this.connections.get(n).add(n1);
        if (this.edges.get(n) == undefined) {
            this.edges.set(n, new Map());
        }
        this.edges.get(n).set(n1, e);
        this.repOk();
    }
    repOk() {
        this.nodes.forEach((value) => {
            (0, assert_1.assert)(value != null && value != undefined);
        });
        // All connections/edges have nodes
        this.connections.forEach((value, key) => {
            (0, assert_1.assert)(this.nodes.has(key));
            value.forEach(n => {
                (0, assert_1.assert)(this.nodes.has(n));
            });
        });
        this.edges.forEach((map, first) => {
            map.forEach((edge, second) => {
                (0, assert_1.assert)(this.nodes.has(first));
                (0, assert_1.assert)(this.nodes.has(second));
                (0, assert_1.assert)(this.connections.get(first).has(second));
            });
        });
    }
}
exports.Graph = Graph;
var ArgumentEdge;
(function (ArgumentEdge) {
    ArgumentEdge["To"] = "supports";
    ArgumentEdge["From"] = "claims";
})(ArgumentEdge || (exports.ArgumentEdge = ArgumentEdge = {}));
/**
 * Communicates a relationhip given by the user.
 */
class GivenEdge {
    constructor(r) {
        this.r = r;
    }
}
exports.GivenEdge = GivenEdge;


/***/ }),

/***/ "./src/mathlib/GraphMinipulator.ts":
/*!*****************************************!*\
  !*** ./src/mathlib/GraphMinipulator.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GraphMinipulator = void 0;
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const Graph_1 = __webpack_require__(/*! ./Graph */ "./src/mathlib/Graph.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Tool to do operations on graphs.
 */
class GraphMinipulator {
    /**
     * Find nodes of components of a graph where only edges for which
     * the callback function returns true are considered.
     * @param
     * @param isConnected
     */
    static getComponentNodes(input, isConnected) {
        const includedNodes = new Set();
        const components = new Set();
        for (const node of input.getNodes()) {
            if (includedNodes.has(node)) {
                continue;
            }
            const component = new Set();
            function getAllConnected(n) {
                includedNodes.add(n);
                if (component.has(n)) {
                    return;
                }
                component.add(n);
                for (const neighbor of input.getNeighbors(n, "both")) {
                    if (!isConnected(input.getEdge(n, neighbor)))
                        continue;
                    getAllConnected(neighbor);
                }
                return;
            }
            getAllConnected(node);
            component.add(node);
            components.add(component);
        }
        (0, assert_1.assert)(includedNodes.size == input.numNodes());
        // Assert components are pairwise disjoint of problems show up
        return components;
    }
    /**
     * Returns a new graph with only the nodes which pass the provided
     * filter function. Edges connected to removed nodes are removed.
     *
     * @param graph
     * @param included
     */
    static dropNodes(graph, included) {
        const result = new Graph_1.Graph();
        graph.getNodes().forEach(n => {
            if (included(n))
                result.addNode(n);
        });
        graph.getEdges().forEach(e => {
            if (included(e.n) && included(e.n1))
                result.addEdge(e.n, e.n1, e.e);
        });
        return result;
    }
    /**
     * Gets every edge in the graph.
     * @param input
     * @returns
     */
    static getRelations(input) {
        const out = [];
        for (const node of input.getNodes()) {
            for (const other of input.getNeighbors(node, "out")) {
                out.push({ first: node, second: other, e: input.getEdge(node, other) });
            }
        }
        return out;
    }
    /**
     * Parses the graph into sets of
     * nodes grouped by depth from a center node.
     * Assumes the graph is connected.
     * @param rootNodes Contains at least one node in the graph.
     * @param count Function that determines if any given node should be
     * included in the depth count. Defaults to counting all nodes. Nodes that
     * aren't included won't be in the returned value.
     * @returns Map from depth in graph to a set of nodes at that depth.
     *
     */
    static getLevels(input, rootNodes, count = () => true) {
        const roots = new Set(rootNodes);
        const depths = new Map();
        /**
         * Recursively maps out all nodes in the graph,
         * puttin them in the depths map.
         * @param node
         */
        function mapNode(node, depth = 0) {
            var _a;
            if (roots.has(node)) {
                depth = 0;
            }
            if (depth < ((_a = depths.get(node)) !== null && _a !== void 0 ? _a : Number.MAX_VALUE)) {
                depths.set(node, depth);
            }
            const neighbors = [...input.getNeighbors(node, "both")];
            neighbors.filter(value => {
                // If we have found a shorter path to it or there was no found path to it
                return (depths.get(value) == undefined || depths.get(value) > depth) && value !== node;
            }).forEach(n => {
                mapNode(n, count(node) ? depth + 1 : depth);
            });
        }
        mapNode([...roots][0]);
        const out = new Map();
        depths.forEach((depth, node) => {
            if (!count(node))
                return;
            if (out.get(depth) == undefined) {
                out.set(depth, new Set());
            }
            out.get(depth).add(node);
        });
        return out;
    }
    /**
     * Determines if the given graph is connected, meaning that
     * it's possible to traverse between any two nodes on the graph.
     */
    static isConnected(input) {
        // Check every node has a degree of 1 or more or graph only has 1 or 0 elements
        return [...input.getNodes()].map(node => {
            return input.getDegree(node, "both") > 0;
        }).reduce((a, b) => a && b) || input.numNodes() < 2;
    }
    /**
     * Filters edges list returning a list where only one edge
     * from any edge loops is included.
     * For example if the input edges are a -> b and b -> a,
     * the result will only contain a -> b.
     * @param edges
     */
    static dropSymmetric(edges) {
        const out = [];
        function alreadyHas(edge) {
            for (const e of out)
                if (edge.n == e.n1 && edge.n1 == e.n)
                    return true;
            return false;
        }
        for (const edge of edges) {
            if (!alreadyHas(edge))
                out.push(edge);
        }
        return out;
    }
    /**
     * Creates a new graph with only the edges which passed the
     * filter function. The resulting graph may or may not be connected.
     * All the nodes of the original graph are kept.
     * @param edgeFilter Returns true if the given edge should be included in
     *      the resulting graph.
     * NOTE: NOT TESTED
     */
    static dropEdges(graph, edgeFilter) {
        const out = new Graph_1.Graph();
        for (const node of graph.getNodes()) {
            out.addNode(node);
        }
        for (const edge of graph.getEdges()) {
            if (edgeFilter(edge)) {
                if (edge instanceof Argument_1.Argument) {
                    out.addArgument(edge);
                }
                else {
                    throw new Error("Not implemented");
                }
            }
        }
        return out;
    }
}
exports.GraphMinipulator = GraphMinipulator;


/***/ }),

/***/ "./src/mathlib/MathGraphNode.ts":
/*!**************************************!*\
  !*** ./src/mathlib/MathGraphNode.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MathGraphNode = void 0;
class MathGraphNode {
    constructor() {
        this.id = MathGraphNode.nextId;
        MathGraphNode.nextId++;
    }
}
exports.MathGraphNode = MathGraphNode;
MathGraphNode.nextId = 1;


/***/ }),

/***/ "./src/mathlib/Relationship.ts":
/*!*************************************!*\
  !*** ./src/mathlib/Relationship.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Relationship = void 0;
/**
 * A way in which 2 expressions can be related.
 */
var Relationship;
(function (Relationship) {
    Relationship["Equal"] = "=";
})(Relationship || (exports.Relationship = Relationship = {}));


/***/ }),

/***/ "./src/mathlib/derivations/DerivationRules.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/derivations/DerivationRules.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.polynomialSimplificationRules = exports.factoringSimplificationRules = exports.convergentSimplificationRules = void 0;
const BreakDerivativesOverAddition_1 = __webpack_require__(/*! ./calculus/BreakDerivativesOverAddition */ "./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts");
const ConstantDerivative_1 = __webpack_require__(/*! ./calculus/ConstantDerivative */ "./src/mathlib/derivations/calculus/ConstantDerivative.ts");
const PowerRule_1 = __webpack_require__(/*! ./calculus/PowerRule */ "./src/mathlib/derivations/calculus/PowerRule.ts");
const ProductRule_1 = __webpack_require__(/*! ./calculus/ProductRule */ "./src/mathlib/derivations/calculus/ProductRule.ts");
const PullConstantsFromDerivatives_1 = __webpack_require__(/*! ./calculus/PullConstantsFromDerivatives */ "./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts");
const PullConstantsFromIntegrals_1 = __webpack_require__(/*! ./calculus/PullConstantsFromIntegrals */ "./src/mathlib/derivations/calculus/PullConstantsFromIntegrals.ts");
const QuotientRule_1 = __webpack_require__(/*! ./calculus/QuotientRule */ "./src/mathlib/derivations/calculus/QuotientRule.ts");
const ReversePowerRule_1 = __webpack_require__(/*! ./calculus/ReversePowerRule */ "./src/mathlib/derivations/calculus/ReversePowerRule.ts");
const USubstitution_1 = __webpack_require__(/*! ./calculus/USubstitution */ "./src/mathlib/derivations/calculus/USubstitution.ts");
const AdditiveIdentity_1 = __webpack_require__(/*! ./simplifications/AdditiveIdentity */ "./src/mathlib/derivations/simplifications/AdditiveIdentity.ts");
const AnythingTimesZero_1 = __webpack_require__(/*! ./simplifications/AnythingTimesZero */ "./src/mathlib/derivations/simplifications/AnythingTimesZero.ts");
const AssociativePropertyOfProductsAndSums_1 = __webpack_require__(/*! ./simplifications/AssociativePropertyOfProductsAndSums */ "./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts");
const CancelNegatives_1 = __webpack_require__(/*! ./simplifications/CancelNegatives */ "./src/mathlib/derivations/simplifications/CancelNegatives.ts");
const CombineCommonFactorsMultiplication_1 = __webpack_require__(/*! ./simplifications/CombineCommonFactorsMultiplication */ "./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts");
const CombineCommonTermsAddition_1 = __webpack_require__(/*! ./simplifications/CombineCommonTermsAddition */ "./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts");
const CombineIntegerFactors_1 = __webpack_require__(/*! ./simplifications/CombineIntegerFactors */ "./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts");
const CombineProductsAndFractions_1 = __webpack_require__(/*! ./simplifications/CombineProductsAndFractions */ "./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts");
const DistributiveProperty_1 = __webpack_require__(/*! ./simplifications/DistributiveProperty */ "./src/mathlib/derivations/simplifications/DistributiveProperty.ts");
const DivideFractions_1 = __webpack_require__(/*! ./simplifications/DivideFractions */ "./src/mathlib/derivations/simplifications/DivideFractions.ts");
const DivisionIdentity_1 = __webpack_require__(/*! ./simplifications/DivisionIdentity */ "./src/mathlib/derivations/simplifications/DivisionIdentity.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const ExponentialIdentity_1 = __webpack_require__(/*! ./simplifications/ExponentialIdentity */ "./src/mathlib/derivations/simplifications/ExponentialIdentity.ts");
const ExponentToZero_1 = __webpack_require__(/*! ./simplifications/ExponentToZero */ "./src/mathlib/derivations/simplifications/ExponentToZero.ts");
const FOIL_1 = __webpack_require__(/*! ./simplifications/FOIL */ "./src/mathlib/derivations/simplifications/FOIL.ts");
const LogOfOne_1 = __webpack_require__(/*! ./simplifications/LogOfOne */ "./src/mathlib/derivations/simplifications/LogOfOne.ts");
const MultiplicativeIdentity_1 = __webpack_require__(/*! ./simplifications/MultiplicativeIdentity */ "./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts");
const MultiplyExponentPowers_1 = __webpack_require__(/*! ./simplifications/MultiplyExponentPowers */ "./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts");
const MultiplyFractions_1 = __webpack_require__(/*! ./simplifications/MultiplyFractions */ "./src/mathlib/derivations/simplifications/MultiplyFractions.ts");
const OrderProducts_1 = __webpack_require__(/*! ./simplifications/OrderProducts */ "./src/mathlib/derivations/simplifications/OrderProducts.ts");
const OrderSums_1 = __webpack_require__(/*! ./simplifications/OrderSums */ "./src/mathlib/derivations/simplifications/OrderSums.ts");
const RemoveCommonFactorsOnTopAndBottomOfFraction_1 = __webpack_require__(/*! ./simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction */ "./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts");
const SubtractExponentsOnFractions_1 = __webpack_require__(/*! ./simplifications/SubtractExponentsOnFractions */ "./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts");
const SumCoefficientsOfAddedTerms_1 = __webpack_require__(/*! ./simplifications/SumCoefficientsOfAddedTerms */ "./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts");
/**
 * 1 input, 1 output
 * Rewrite expressions to follow math conventions
 */
const conventionRules = [
    new OrderProducts_1.OrderProducts(),
    new OrderSums_1.OrderSums(),
];
/**
 * 1 input, 1 output
 */
const evaluativeRules = [
    new EvaluateSums_1.EvaluateSums(),
    new CancelNegatives_1.CancelNegatives(),
    new CombineIntegerFactors_1.CombineIntegerFactors(),
];
const combinatoricRules = [
    new SumCoefficientsOfAddedTerms_1.SumCoefficientsOfAddedTerms(),
    new CombineCommonFactorsMultiplication_1.CombineCommonFactorsMultiplication(),
    new MultiplyExponentPowers_1.MultiplyExponentPowers(),
    new SubtractExponentsOnFractions_1.SubtractExponentsOnFractions(),
    new CombineProductsAndFractions_1.CombineProductsAndFractions(),
    new MultiplyFractions_1.MultiplyFractions(),
];
const remainingNoContextSimplificationRules = [
    new USubstitution_1.USubstitution(),
    new PowerRule_1.PowerRule(),
    new PullConstantsFromDerivatives_1.PullConstantsFromDerivatives(),
    new PullConstantsFromIntegrals_1.PullConstantsFromIntegrals(),
    new AssociativePropertyOfProductsAndSums_1.AssociativePropertyOfProductsAndSums(),
    new ProductRule_1.ProductRule(),
    new QuotientRule_1.QuotientRule(),
    new DivideFractions_1.DivideFractions(),
    new RemoveCommonFactorsOnTopAndBottomOfFraction_1.RemoveCommonFactorsFromTopAndBottomOfFraction(),
    new BreakDerivativesOverAddition_1.BreakDerivativesOverAddition(),
    new ConstantDerivative_1.ConstantDerivaties(),
    new ReversePowerRule_1.ReversePowerRule(),
];
/**
 * A list of simplification rules.
 * If and only if an earlier rule fails to
 * produce equivalent expressions should later lists
 * be used.
 * This list only contains rules which converge to one answer.
 */
exports.convergentSimplificationRules = [
    // Identity rules first
    new AnythingTimesZero_1.AnythingTimesZero(),
    new ExponentToZero_1.ExponentToZero(),
    new MultiplicativeIdentity_1.MultiplicativeIdentity(),
    new ExponentialIdentity_1.ExponentialIdentity(),
    new DivisionIdentity_1.DivisionIdentity(),
    new AdditiveIdentity_1.AdditiveIdentity(),
    new LogOfOne_1.LogOfOne(),
    ...evaluativeRules,
    ...combinatoricRules,
    ...conventionRules,
    ...remainingNoContextSimplificationRules,
];
/**
 * These rules converge to factored form.
 */
exports.factoringSimplificationRules = [
    new CombineCommonTermsAddition_1.CombineCommonTermsAddition(),
];
/**
 * These rules converge to polynomial form.
 */
exports.polynomialSimplificationRules = [
    new DistributiveProperty_1.DistributiveProperty(),
    new FOIL_1.FOIL(),
];


/***/ }),

/***/ "./src/mathlib/derivations/Deriver.ts":
/*!********************************************!*\
  !*** ./src/mathlib/derivations/Deriver.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deriveExpand = exports.wrapInGraph = void 0;
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Graph_1 = __webpack_require__(/*! ../Graph */ "./src/mathlib/Graph.ts");
const DerivationRules_1 = __webpack_require__(/*! ./DerivationRules */ "./src/mathlib/derivations/DerivationRules.ts");
const recursion_1 = __webpack_require__(/*! ./recursion */ "./src/mathlib/derivations/recursion.ts");
/**
 * Creates a new graph contianing the given node.
 */
function wrapInGraph(exp) {
    return new Graph_1.Graph().addNode(exp);
}
exports.wrapInGraph = wrapInGraph;
/**
 * Expands the given graph using derivation rules to find
 * equivalent expressions.
 */
function deriveExpand(graph, maxDepth, skipConvergentSimplifications = false) {
    const result = new DerivationResult(graph);
    result.expand(maxDepth, skipConvergentSimplifications);
    return result;
}
exports.deriveExpand = deriveExpand;
/**
 * Holds a single graph and expands it using rules.
 */
class DerivationResult {
    /**
     * Give it the graph you're going to expand.
     * @param graph
     */
    constructor(graph) {
        // All the expressions which could not be simplified further by
        // convergent simplification rules.
        this.passedConvergentSimplification = new Set();
        // All expressions which have been processed by the simplification rules
        /// regardless of the result.
        this.processedByConvergentSimplification = new Set();
        this.processedByDivergentSimplification = new Set();
        // All expressions which are products and could not be further
        // simplified by factoring simplification rules. A subset of
        // passedConvergentSimplification.
        this.passedFactoringSimplification = new Set();
        // All expressions which are sums and could not be further
        // simplified by polynomial simplification rules. A subset of
        // passedConvergentSimplification.
        this.passedPolynomialSimplification = new Set();
        this.graph = graph;
    }
    /**
     * Expands the graph arbitrarily.
     * This function is still poorly defined,
     * very experemental.
     * @param maxDepth The maximum number of iterations the
     *      deriver will do before returning. Non-negative.
     *      If null, there is no max depth.
     * @param skipConvergentSimplifications If true, convergent simplification operations
     *          aren't counted when calculating depth.
     * @param abort A signal used to prematurely abort the operation.
     */
    expand(maxDepth, skipConvergentSimplifications = false) {
        // Simplify all the expressions using the contextless simplifying rules
        // Do this until there's nothing more to simplify
        for (let i = 0; i < maxDepth; i++) {
            this.simplifyNoContextConvergent();
            this.simplifyNoContextDivergent();
        }
        //TODO: Optimize later, lets just make it work first
        // for (let i=0; i < maxDepth; i++) {
        //     if (skipConvergentSimplifications) {
        //         while (this.simplifyNoContextConvergent()) {
        //         }
        //         if (!this.simplifyNoContextDivergent()) return
        //     } else {
        //         if (!this.simplifyNoContextConvergent()) {
        //             if (!this.simplifyNoContextDivergent()) 
        //                 return
        //         }
        //     }    
        // }
    }
    /**
     * Gets a list of expressions which couldn't be simplified further.
     */
    get simplifiedExpressions() {
        return [...this.passedFactoringSimplification, ...this.passedPolynomialSimplification];
    }
    /**
     * Applies convergent simplification rules to expand the graph.
     * @returns True if there is more to simplify and this should
     *          be called again. Will be called a finite number of times.
     */
    simplifyNoContextConvergent() {
        const unsimplified = [...this.graph.getNodes()].filter(n => n instanceof Expression_1.Expression)
            .map(n => n)
            .filter(e => !this.processedByConvergentSimplification.has(e));
        let shouldDoAgain = false;
        unsimplified.forEach(e => {
            this.processedByConvergentSimplification.add(e);
            // Try to find equivalents using general convergent rules.
            for (const rule of DerivationRules_1.convergentSimplificationRules) {
                const results = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                const derivedSimplification = results[0];
                for (const r of results) {
                    this.addToGraph([r]);
                }
                if (derivedSimplification != undefined) {
                    shouldDoAgain = true;
                    return; // To next expression
                }
            }
            this.passedConvergentSimplification.add(e);
        });
        return shouldDoAgain;
    }
    /**
     * Applies divergent simplification rules to expand the graph.
     * @returns True if the function expanded the graph.
     */
    simplifyNoContextDivergent() {
        // Only operate on expressions which have not been previously done
        const candidates = [...this.graph.getNodes()].filter(n => n instanceof Expression_1.Expression)
            .map(n => n)
            .filter(e => !this.processedByDivergentSimplification.has(e)
            && this.passedConvergentSimplification.has(e));
        // True if more expressions were added to the graph
        let shouldDoAgain = false;
        candidates.forEach(e => {
            // Try to find equivalents using divergent rules.
            for (const rule of DerivationRules_1.factoringSimplificationRules) {
                const derivedSimplifications = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                shouldDoAgain || (shouldDoAgain = this.addToGraph(derivedSimplifications));
                if (derivedSimplifications.length == 0) {
                    if (e instanceof Product_1.Product)
                        this.passedFactoringSimplification.add(e);
                }
            }
            for (const rule of DerivationRules_1.polynomialSimplificationRules) {
                const derivedSimplifications = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                shouldDoAgain || (shouldDoAgain = this.addToGraph(derivedSimplifications));
                if (derivedSimplifications.length > 0) {
                    if (e instanceof Sum_1.Sum)
                        this.passedPolynomialSimplification.add(e);
                }
            }
        });
        return shouldDoAgain;
    }
    /**
     * For each given argument, adds to the graph if at least
     * one of its claim's endpoints isn't already in the graph.
     * If both end points of all arguments are already in the graph,
     * returns false.
     * @param args
     * @effects this.graph
     */
    addToGraph(args) {
        let atLeastOne = false;
        args.forEach(a => {
            if (!this.graph.contains(a.claim.n)
                || !this.graph.contains(a.claim.n1)) {
                this.graph.addArgument(a);
                atLeastOne = true;
            }
        });
        return atLeastOne;
    }
    /**
     *
     * @returns true if the given expression is in the graph
     * and has already had the contextless simplification operations
     * done to it and cannot be further simplified.
     */
    isSimplified(exp) {
        if (!this.passedConvergentSimplification.has(exp))
            return false;
        if (exp instanceof Product_1.Product)
            return this.passedFactoringSimplification.has(exp);
        if (exp instanceof Sum_1.Sum)
            return this.passedPolynomialSimplification.has(exp);
        return true;
    }
}
/**
 * Function that makes a function that gets the equivalent
 * expressions for a given one.
 * @param rules What rules the resulting function should use to
 *      find equivalents.
 * @returns A function which will use the given rules to
 *      find direct equivalents.
 */
function equivalentsFnUsing(rules) {
    return function (exp) {
        const out = new Set();
        rules.filter(r => r.applies(exp)).forEach(rule => {
            rule.apply(exp).forEach(i => {
                out.add(i);
            });
        });
        return out;
    };
}


/***/ }),

/***/ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConvergenceTarget = exports.NoContextExpressionSimplificationRule = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * A rule that takes an expression and produces one or more equivalent expressions.
 * These can use reflection to determine what
 * type of expression they're given. These rules will be recursively used
 * to derive simplified expressions.
 *
 * These rules are also contextless: they're only given the expression,
 * no other information about the problem.
 *
 * All of these rules need to converge to a simplified answer. They can't
 * form loops. Thinking about this, there are two simplified forms to
 * converge to:
 *  - Factored form c(a+b)
 *  - Polynomial form ac + bc
 */
class NoContextExpressionSimplificationRule {
    /**
     * Checks if this rule can find equivalents for the
     * given expression. Only call apply() if true.
     */
    applies(exp) {
        return this.appliesImpl(exp);
    }
    /**
     * Produces a set of expressions that are equivalent to
     * the given one. Only call if the given expression
     * passed the applies() test.
     * @param exp The expression to find an equivalent for.
     * @returns Set of equivalent expressions, not including the given one.
     */
    apply(exp) {
        //console.log(this.constructor.name + " on " + exp.toString())
        const result = this.applyImpl(exp);
        result.forEach(e => {
            (0, assert_1.assert)(e != null && e != undefined);
            (0, assert_1.assert)(e.claim.n1 !== exp, "Rule " + this.constructor.name + " produced result equivalent to ground");
            // TODO: This fuzzy test is inconlusive and can fail when two expressions are equal.
            // Don't leave it in production.
            // assert(fuzzyEquivalenceTest(exp, e.claim.n1), "Failed fuzzy equivalence test " 
            //             + exp.toUnambigiousString() + "/=" + e.claim.n1.toUnambigiousString()
            //             + " during argument " + e.argument)
        });
        return result;
    }
    /**
     * Returns the type of expression this rule's
     * results approach.
     */
    get convergenceType() {
        return ConvergenceTarget.None;
    }
}
exports.NoContextExpressionSimplificationRule = NoContextExpressionSimplificationRule;
/**
 * Plugs in some values to see if they're equivalent.
 * @param e1
 * @param e2
 */
function fuzzyEquivalenceTest(e1, e2) {
    const LIMIT = 0.001;
    for (const value of values) {
        if (Math.abs(e1.evaluate(value) - e2.evaluate(value)) > LIMIT)
            return false;
    }
    return true;
}
var ConvergenceTarget;
(function (ConvergenceTarget) {
    ConvergenceTarget[ConvergenceTarget["Factored"] = 0] = "Factored";
    ConvergenceTarget[ConvergenceTarget["Polynomial"] = 1] = "Polynomial";
    ConvergenceTarget[ConvergenceTarget["None"] = 2] = "None";
})(ConvergenceTarget || (exports.ConvergenceTarget = ConvergenceTarget = {}));
const values = (0, ThingsThatShouldBeInTheStdLib_1.setOf)(buildVariableValueMap(-2.1), buildVariableValueMap(-1.1), buildVariableValueMap(0.1), buildVariableValueMap(1.1), buildVariableValueMap(2.1), {
    valueOf(v) {
        var _a;
        return (_a = v.symbol.codePointAt(0)) !== null && _a !== void 0 ? _a : 0;
    }
}, {
    valueOf(v) {
        return v.symbol.charCodeAt(0);
    }
});
function buildVariableValueMap(val) {
    return {
        valueOf(v) {
            return val;
        }
    };
}


/***/ }),

/***/ "./src/mathlib/derivations/RelationalDerivationRule.ts":
/*!*************************************************************!*\
  !*** ./src/mathlib/derivations/RelationalDerivationRule.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RelationalDerivationRule = void 0;
/**
 * Produces truths from a set of equivalent expressions.
 */
class RelationalDerivationRule {
    /**
     *
     * @param equation A set of expressions which are equal.
     */
    apply(equation) {
        return this.applyImpl(equation);
    }
}
exports.RelationalDerivationRule = RelationalDerivationRule;
RelationalDerivationRule.rules = new Set();


/***/ }),

/***/ "./src/mathlib/derivations/algebra/DivideOnBothSides.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/algebra/DivideOnBothSides.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivideOnBothSides = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ../RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
class DivideOnBothSides extends RelationalDerivationRule_1.RelationalDerivationRule {
    applyImpl(equation) {
        const out = [];
        const combinations = cartesianProduct(equation);
        combinations.filter(pair => {
            return pair[0] instanceof Product_1.Product;
        }).forEach(pair => {
            const p = pair[0];
            const other = pair[1];
            // Some products have multiple factors
            p.factors.forEach(factor => {
                let second;
                if (other instanceof Product_1.Product) {
                    second = [...other.factors];
                }
                else {
                    second = [other];
                }
                const claim = { n: p.without(factor), n1: (0, ConvenientExpressions_1.fraction)((0, ConvenientExpressions_1.productOrNot)(...second), factor), r: Relationship_1.Relationship.Equal };
                out.push(new Argument_1.Argument(new Set([p, other]), claim, "a=b & c=d => a/c = b/d", exports.RULE_ID));
            });
        });
        return out;
    }
}
exports.DivideOnBothSides = DivideOnBothSides;
/**
 * Gets the anti-reflexive closure of the relation A x A.
 * It's symmetric and transitive.
 *
 * @param set
 */
function cartesianProduct(set) {
    const out = [];
    for (const first of set) {
        for (const second of set) {
            if (first === second)
                continue;
            out.push([first, second]);
        }
    }
    return out;
}
exports.RULE_ID = "Div on both sides";


/***/ }),

/***/ "./src/mathlib/derivations/algebra/SubtractFromBothSides.ts":
/*!******************************************************************!*\
  !*** ./src/mathlib/derivations/algebra/SubtractFromBothSides.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SubtractFromBothSides = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ../RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
class SubtractFromBothSides extends RelationalDerivationRule_1.RelationalDerivationRule {
    applyImpl(equation) {
        const out = [];
        const combinations = cartesianProduct(equation);
        // If one is addition, subtract from both sides
        // Here we filter so that only pairs where the first expression is
        // a sum are operated on. This works because combinations is symetric.
        // Now for each pair we only have to deal with the first exp being sum.
        combinations.filter(pair => {
            return pair[0] instanceof Sum_1.Sum;
        }).forEach(pair => {
            const s = pair[0];
            const other = pair[1];
            // Some Sums have multiple terms
            s.terms.filter(term => !(term instanceof Product_1.Product && term.isNegation))
                .forEach(term => {
                // If other is itself a sum, we will break it apart
                // into terms so that we can combine integer terms in the
                // final result and avoid
                // x + 2 + 2 = y + 2 => x + 2 = y + 2 - 2
                // Note: We only do this to integer terms, because that's
                // so obvious and couldn't possibly need to be explained further.
                // We don't do it to variable terms. The following is correct behavior:
                // x + a + a = y + a => x + a = y + a - a
                // TODO: This distinction is debatable. Why shouldn't the left hand
                // of the last deduction be x + a + a - a? By doing this, 
                // we produce a much more complicated and expensive graph. 
                let second;
                if (other instanceof Sum_1.Sum) {
                    second = [...other.terms];
                }
                else {
                    second = [other];
                }
                const claim = { n: s.without(term), n1: (0, ConvenientExpressions_1.sumIntuitive)(...second, (0, ConvenientExpressions_1.negative)(term)), r: Relationship_1.Relationship.Equal };
                out.push(new Argument_1.Argument(new Set([s, other]), claim, "a=b & c=d => a-c = b-d", exports.RULE_ID));
            });
        });
        return out;
    }
}
exports.SubtractFromBothSides = SubtractFromBothSides;
/**
 * Gets the anti-reflexive closure of the relation A x A.
 * It's symmetric and transitive.
 *
 * @param set
 */
function cartesianProduct(set) {
    const out = [];
    for (const first of set) {
        for (const second of set) {
            if (first === second)
                continue;
            out.push([first, second]);
        }
    }
    return out;
}
exports.RULE_ID = "Sub from both sides";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.BreakDerivativesOverAddition = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class BreakDerivativesOverAddition extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const d = exp;
        const sum = d.exp;
        const terms = [...sum.terms];
        const wrapped = terms.map(t => Derivative_1.Derivative.of(t, d.relativeTo));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
            n: d,
            r: Relationship_1.Relationship.Equal,
            n1: Sum_1.Sum.of(wrapped),
        }, "Split derivative over addition", exports.RULE_ID));
    }
}
exports.BreakDerivativesOverAddition = BreakDerivativesOverAddition;
exports.RULE_ID = "Break Derivatives over Addition";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/ConstantDerivative.ts":
/*!****************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/ConstantDerivative.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ConstantDerivaties = void 0;
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const Derivative_1 = __webpack_require__(/*! ../../../mathlib/expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
class ConstantDerivaties extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp.class === Derivative_1.DerivativeType && exp.exp.isConstant;
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(0)
        }, "Derivative of anything is zero", exports.RULE_ID));
    }
}
exports.ConstantDerivaties = ConstantDerivaties;
exports.RULE_ID = "Constant Derivative";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PowerRule.ts":
/*!*******************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PowerRule.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PowerRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Derives using the power rule
 */
class PowerRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && ((exp.exp instanceof Exponent_1.Exponent
                && exp.exp.base === exp.relativeTo
                && exp.exp.power.isConstant)
                || (exp.exp === exp.relativeTo));
    }
    /**
     * We know:
     * exp is a Derivative of an Exponent with a constant power
     * the exponent's base is the same as what the derivative is relative to
     */
    applyImpl(exp) {
        const d = exp;
        let exponent;
        if (d.exp instanceof Exponent_1.Exponent) {
            exponent = d.exp;
        }
        else {
            exponent = Exponent_1.Exponent.of(d.exp, (0, ConvenientExpressions_1.num)(1));
        }
        const result = (0, ConvenientExpressions_1.product)(exponent.power, Exponent_1.Exponent.of(exponent.base, (0, ConvenientExpressions_1.sumIntuitive)(exponent.power, (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.num)(1)))));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Power rule", exports.RULE_ID));
    }
}
exports.PowerRule = PowerRule;
exports.RULE_ID = "Power Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/ProductRule.ts":
/*!*********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/ProductRule.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ProductRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Derivatives of products
 *
 * Only operates on derivatives of products where all factors are not constant.
 */
class ProductRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Product_1.Product
            // Contains no constant factors
            && !exp.exp.factors.map(f => f.isConstant).reduce((a, b) => a || b);
        // Contains no derivatives TODO: Find a better solution to loop guarding
        //&& !exp.exp.factors.map<boolean>(f => f instanceof Derivative).reduce((a, b) => a || b)
    }
    applyImpl(exp) {
        const d = exp;
        const p = d.exp;
        const factors = p.factors;
        // For each factor, create a product containing its derivative and the other factors
        const terms = [];
        for (let i = 0; i < factors.length; i++) { // i is the factor to derivatize (what term we're on)
            const factorToDerivatize = factors[i];
            const pFactors = [];
            for (const factor of factors) { // a is the the factor we're on
                if (factor === factorToDerivatize)
                    pFactors.push(Derivative_1.Derivative.of(factor, d.relativeTo));
                else
                    pFactors.push(factor);
            }
            terms.push((0, ConvenientExpressions_1.product)(...pFactors));
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
            n: d,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sum)(...terms)
        }, "Product Rule", exports.RULE_ID));
    }
}
exports.ProductRule = ProductRule;
exports.RULE_ID = "Product Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PullConstantsFromDerivatives = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class PullConstantsFromDerivatives extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const d = exp;
        const p = d.exp;
        const constFactors = p.factors.filter(f => f.isConstant);
        const out = new Set;
        for (const factor of constFactors) {
            out.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
                n: d,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.productAndNotTimesOne)(factor, Derivative_1.Derivative.of((0, ConvenientExpressions_1.productOrNot)(...(0, ConvenientExpressions_1.removeNew)(p.factors, factor)), d.relativeTo))
            }, "Pull constant factor from derivative", exports.RULE_ID));
        }
        return out;
    }
}
exports.PullConstantsFromDerivatives = PullConstantsFromDerivatives;
exports.RULE_ID = "Pull Constants from Derivs";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PullConstantsFromIntegrals.ts":
/*!************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PullConstantsFromIntegrals.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PullConstantsFromIntegrals = void 0;
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Integral_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Product_1 = __webpack_require__(/*! ../../../mathlib/expressions/Product */ "./src/mathlib/expressions/Product.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
class PullConstantsFromIntegrals extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        if (exp.class !== Integral_1.IntegralType)
            return false;
        const i = exp;
        return i.integrand instanceof Product_1.Product && i.integrand.factors.some(f => {
            return f.isConstant;
        }) && i.integrand.factors.some(f => !f.isConstant);
    }
    applyImpl(exp) {
        const i = exp;
        const integrand = i.integrand;
        const pulledFactors = (0, ConvenientExpressions_1.productOrNot)(...integrand.factors.filter(f => f.isConstant));
        const newIntegrand = (0, ConvenientExpressions_1.productOrOne)(...integrand.factors.filter(f => !f.isConstant));
        const result = (0, ConvenientExpressions_1.product)(pulledFactors, Integral_1.Integral.of(newIntegrand, i.relativeTo));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Pull constants from integral", exports.RULE_ID));
    }
}
exports.PullConstantsFromIntegrals = PullConstantsFromIntegrals;
exports.RULE_ID = "ConstantsFromIntegrals";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/QuotientRule.ts":
/*!**********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/QuotientRule.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.QuotientRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class QuotientRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Fraction_1.Fraction;
    }
    applyImpl(exp) {
        const d = exp;
        const a = d.exp.numerator;
        const b = d.exp.denominator;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(Derivative_1.Derivative.of(a, d.relativeTo), b), (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(a, Derivative_1.Derivative.of(b, d.relativeTo)))), Exponent_1.Exponent.of(b, (0, ConvenientExpressions_1.num)(2)))
        }, "Quotient Rule", exports.RULE_ID));
    }
}
exports.QuotientRule = QuotientRule;
exports.RULE_ID = "Quotient Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/ReversePowerRule.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/ReversePowerRule.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ReversePowerRule = void 0;
const Integral_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Exponent_1 = __webpack_require__(/*! ../../../mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const Fraction_1 = __webpack_require__(/*! ../../../mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
class ReversePowerRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        if (exp.class !== Integral_1.IntegralType)
            return false;
        const i = exp;
        return (i.integrand instanceof Exponent_1.Exponent
            && (i.integrand.base === i.relativeTo
                && i.integrand.power.isConstant)
            || i.integrand === i.relativeTo);
    }
    applyImpl(exp) {
        const i = exp;
        const integrand = i.integrand;
        let result;
        if (integrand instanceof Exponent_1.Exponent) {
            result = Fraction_1.Fraction.of(Exponent_1.Exponent.of(integrand.base, (0, ConvenientExpressions_1.sum)(integrand.power, (0, ConvenientExpressions_1.num)(1))), (0, ConvenientExpressions_1.sum)(integrand.power, (0, ConvenientExpressions_1.num)(1)));
        }
        else {
            result = Exponent_1.Exponent.of(integrand, (0, ConvenientExpressions_1.num)(2));
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Reverse power rule", exports.RULE_ID));
    }
}
exports.ReversePowerRule = ReversePowerRule;
exports.RULE_ID = "Reverse Power Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/USubstitution.ts":
/*!***********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/USubstitution.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.USubstitution = void 0;
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class USubstitution extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return false; //exp instanceof Integral
    }
    applyImpl(exp) {
        throw new Error("Not implemented");
    }
}
exports.USubstitution = USubstitution;
exports.RULE_ID = "USubstitution";


/***/ }),

/***/ "./src/mathlib/derivations/recursion.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/derivations/recursion.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.equiv = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Integral_1 = __webpack_require__(/*! ../expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Logarithm_1 = __webpack_require__(/*! ../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ../expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Relationship_1 = __webpack_require__(/*! ../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * Searches for equivalents of the given
 * expression with a search depth of 1.
 * It does this by reflecting the expression's
 * type, then disbatching to a type specific equivalents
 * function.
 *
 * The specific functions use the given directEquivalents
 * function to swap out the component values of their
 * expression with equivalents.
 *
 * Ex)
 *  Given the expression
 *         (a + a) + (b * b)
 *  we disbatch to the sum specific function (because
 *  the outer most operation is addition). This disbatch
 *  function uses the directEquivalents function to swap out
 *  each of the sum's terms individually, yielding results
 *  like:
 *      -> (2a) + (b * b) with inference a + a = 2a
 *      -> (a + a) + b^2
 *
 * @param exp The expression to search for equivalents.
 * @param directEquivalents Function that takes expressions and finds equivalents.
 *              This function only needs to look for top level equivalents- recursion
 *              is handled by the equiv function.
 * @returns Array of arguments connecting the given expression to equivalents.
 */
function equiv(exp, directEquivalents) {
    if (exp instanceof Variable_1.Variable || exp instanceof Integer_1.Integer)
        return [];
    else
        switch (exp.class) {
            case Sum_1.SumType: return sumEquiv(exp, directEquivalents);
            case Product_1.ProductType: return productEquiv(exp, directEquivalents);
            case Exponent_1.ExponentType: return exponentEquiv(exp, directEquivalents);
            case Fraction_1.FractionType: return fractionEquiv(exp, directEquivalents);
            case Derivative_1.DerivativeType: return derivativeEquiv(exp, directEquivalents);
            case Logarithm_1.LogType: return logarithmEquiv(exp, directEquivalents);
            case Integral_1.IntegralType: return integralEquiv(exp, directEquivalents);
            default: throw new Error("Not implemented for " + exp.class);
        }
}
exports.equiv = equiv;
/**
 * Gets all equivalents of the given expression
 * by swapping out it's children individually.
 *
 * (a + a) + (b + b)
 * -> (2a) + (b + b) with inference a + a = 2a
 * @param exp
 * @returns Array of inferences to equivalent expressions.
 */
function sumEquiv(exp, directEquivalents) {
    const equivalentSums = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalentSums.add(inf);
    });
    // Find equivalents for each term
    for (let i = 0; i < exp.terms.length; i++) {
        const term = exp.terms[i];
        // Substitute term for each equivalent
        equiv(term, directEquivalents).forEach(a => {
            equivalentSums.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: swap(exp, i, a.claim.n1)
            }, a.argument, a.ruleId));
        });
    }
    function swap(s, i, e) {
        const terms = [...s.terms];
        terms[i] = e;
        return (0, ConvenientExpressions_1.sum)(...terms);
    }
    return [...equivalentSums];
}
function productEquiv(exp, directEquivalents) {
    const equivalentProducts = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalentProducts.add(inf);
    });
    // Find equivalents for each term
    for (let i = 0; i < exp.factors.length; i++) {
        const factor = exp.factors[i];
        // Substitute term for each equivalent
        equiv(factor, directEquivalents).forEach(alt => {
            equivalentProducts.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: swap(exp, i, alt.claim.n1),
            }, alt.argument, alt.ruleId));
        });
    }
    function swap(s, i, e) {
        const terms = [...s.factors];
        terms[i] = e;
        return (0, ConvenientExpressions_1.product)(...terms);
    }
    return [...equivalentProducts];
}
function exponentEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.base, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(alt.claim.n1, exp.power)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.power, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(exp.base, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function fractionEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.numerator, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(alt.claim.n1, exp.denominator)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.denominator, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(exp.numerator, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function derivativeEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.exp, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Derivative_1.Derivative.of(alt.claim.n1, exp.relativeTo)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.relativeTo, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Derivative_1.Derivative.of(exp.exp, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function logarithmEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(arg => {
        equivalents.add(arg);
    });
    equiv(exp.exp, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Logarithm_1.Logarithm.of(alt.claim.n1, exp.base)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.base, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Logarithm_1.Logarithm.of(exp.exp, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function integralEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(arg => {
        equivalents.add(arg);
    });
    equiv(exp.integrand, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integral_1.Integral.of(alt.claim.n1, exp.relativeTo)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.relativeTo, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integral_1.Integral.of(exp.integrand, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AdditiveIdentity.ts":
/*!*********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AdditiveIdentity.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AdditiveIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything plus 0 is anything
 */
class AdditiveIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const termsWithoutZero = exp.terms.filter(t => !(t instanceof Integer_1.Integer && t.value == 0));
        if (termsWithoutZero.length == exp.terms.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sumOrNot)(...termsWithoutZero)
        }, "Additive identity", exports.RULE_ID));
    }
}
exports.AdditiveIdentity = AdditiveIdentity;
exports.RULE_ID = "Additive Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AnythingTimesZero.ts":
/*!**********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AnythingTimesZero.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AnythingTimesZero = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class AnythingTimesZero extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        let isZero = false;
        for (const factor of product.factors)
            if (factor instanceof Integer_1.Integer && factor.value === 0) {
                isZero = true;
                break;
            }
        if (!isZero)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integer_1.Integer.of(0)
        }, "Anything times zero is zero", exports.RULE_ID));
    }
}
exports.AnythingTimesZero = AnythingTimesZero;
exports.RULE_ID = "AnythingTimesZero";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts":
/*!*****************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AssociativePropertyOfProductsAndSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Flattens products in products and sums in sums.
 *
 * Only returns one simplification of an input.
 */
class AssociativePropertyOfProductsAndSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum || exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        if (exp instanceof Sum_1.Sum) {
            const newTerms = exp.terms.map(t => {
                if (t instanceof Sum_1.Sum) {
                    return [...t.terms];
                }
                return [t];
            }).flat();
            if (newTerms.length == exp.terms.length)
                return new Set();
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.sum)(...newTerms)
            }, "Associative property of addition", exports.RULE_ID));
        }
        else {
            const newFactors = exp.factors.map(t => {
                if (t instanceof Product_1.Product) {
                    return [...t.factors];
                }
                return [t];
            }).flat();
            if (newFactors.length == exp.factors.length)
                return new Set();
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.product)(...newFactors)
            }, "Associative property of multiplication", exports.RULE_ID));
        }
    }
}
exports.AssociativePropertyOfProductsAndSums = AssociativePropertyOfProductsAndSums;
exports.RULE_ID = "Associative Property";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CancelNegatives.ts":
/*!********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CancelNegatives.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CancelNegatives = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const ConvenientExpressions_2 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
/**
 * Makes sure a product doesn't contain any negations.
 * The product is either a negation or not.
 */
class CancelNegatives extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const negatedFactors = [];
        const others = [];
        for (const f of product.factors) {
            if (f instanceof Product_1.Product && f.isNegation) {
                negatedFactors.push(f.negation);
            }
            else {
                others.push(f);
            }
        }
        const isNegation = product.isNegation;
        const negations = negatedFactors.length + (isNegation ? 1 : 0);
        if (negations < 2)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        const resultIsNegative = negations % 2 == 1;
        const result = (0, ConvenientExpressions_2.product)(...negatedFactors, ...others);
        const negatedResult = resultIsNegative ? (0, ConvenientExpressions_1.negative)(result) : result;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: negatedResult
        }, "Cancel negatives", exports.RULE_ID));
    }
}
exports.CancelNegatives = CancelNegatives;
exports.RULE_ID = "Cancel Negatives";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts":
/*!***************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineCommonFactorsMultiplication = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Combines like factors and exponents with like bases.
 */
class CombineCommonFactorsMultiplication extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product
            && !exp.isReducible;
    }
    applyImpl(exp) {
        const product = exp;
        // Find all the bases/factors in the product
        const bases = new Set();
        for (const factor of product.factors) {
            if (factor instanceof Exponent_1.Exponent)
                bases.add(factor.base);
            else
                bases.add(factor);
        }
        const equivalentExpressions = new Set();
        // For every unique factor
        for (const base of bases) {
            let powerTerms = [];
            const remainingFactors = [];
            // Count the number of times it occurs in the product
            // Collect the other factors in a list
            for (const f of product.factors) {
                if (f instanceof Exponent_1.Exponent && f.base === base) {
                    powerTerms.push(f.power);
                }
                else if (f === base) {
                    powerTerms.push((0, ConvenientExpressions_1.num)(1));
                }
                else {
                    remainingFactors.push(f);
                }
            }
            // Order the power terms correctly
            powerTerms = (0, Sum_1.orderTerms)(...powerTerms);
            // If the base only occured once, nothing to simplify
            if (powerTerms.length == 1)
                continue;
            // Create a new exponent that combines the terms
            const exponent = Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sum)(...powerTerms));
            // If there are no other factors, we're done
            if (remainingFactors.length == 0) {
                equivalentExpressions.add(exponent);
                continue;
            }
            // Insert the new exponent at the correct place in the new product
            function insertCorrectly(arr, el) {
                // Pick index
                let index = 0;
                for (let i = 0; i < arr.length; i++) {
                    if ((0, Product_1.factorOrder)(el, arr[i]) > 0) {
                        index = i + 1;
                        break;
                    }
                }
                arr.splice(index, 0, el);
            }
            insertCorrectly(remainingFactors, exponent);
            equivalentExpressions.add(Product_1.Product.of(remainingFactors));
        }
        // Make arguments for each equivalent expression
        const args = new Set();
        equivalentExpressions.forEach(e => {
            args.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(product), {
                n: product,
                r: Relationship_1.Relationship.Equal,
                n1: e,
            }, "Combine common factors multiplication", exports.RULE_ID));
        });
        return args;
    }
}
exports.CombineCommonFactorsMultiplication = CombineCommonFactorsMultiplication;
exports.RULE_ID = "CCFactors Mult";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts":
/*!*******************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineCommonTermsAddition = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const Integer_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
/**
 * a + a = 2a
 * 2a - a = a  (this means we have to check for negations)
 *
 * (bc)a + 7a = (7 + bc)a
 *
 * But not
 * 1 + 1 = 2(1)
 */
class CombineCommonTermsAddition extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum
            && !exp.isReducible;
    }
    applyImpl(exp) {
        const sum = exp;
        const args = new Set();
        const uniqueFactors = new Set();
        // Find all unique factors in all terms
        // Assume products have been flattened already (associative property)
        for (const term of sum.terms) {
            if (term instanceof Product_1.Product) {
                (0, ThingsThatShouldBeInTheStdLib_1.addAll)(uniqueFactors, ...term.factors);
                //TODO: Capture all combinations of factors
                //TODO: Capture integer factors
            }
            else
                uniqueFactors.add(term);
        }
        // Create an argument for pulling out each factor
        for (const factor of uniqueFactors) {
            if (factor.isReducible || factor.class === Integer_1.IntegerType)
                continue;
            // Figure out which terms contain it
            const relaventTerms = [];
            const otherTerms = [];
            for (const term of sum.terms) {
                if (term instanceof Product_1.Product) {
                    if ((0, ThingsThatShouldBeInTheStdLib_1.has)(term.factors, factor))
                        relaventTerms.push(term);
                    else
                        otherTerms.push(term);
                }
                else {
                    if (term === factor)
                        relaventTerms.push(Product_1.Product.of([(0, ConvenientExpressions_1.num)(1), term]));
                    else
                        otherTerms.push(term);
                }
            }
            if (relaventTerms.length < 2)
                continue;
            // Pull it out of those terms
            const coefficients = [];
            for (const term of relaventTerms) {
                coefficients.push(term.without(factor));
            }
            const pulled = (0, ConvenientExpressions_1.sumOrNot)((0, ConvenientExpressions_1.orderedProduct)(Sum_1.Sum.of(coefficients), factor), ...otherTerms);
            args.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: pulled
            }, "Combine like terms", exports.RULE_ID));
        }
        return args;
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Factored;
    }
}
exports.CombineCommonTermsAddition = CombineCommonTermsAddition;
exports.RULE_ID = "CCTerms Add";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineIntegerFactors = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Products with several integer terms are simplified to only include 1
 */
class CombineIntegerFactors extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product
            && !exp.isNegation;
    }
    applyImpl(exp) {
        const p = exp;
        const remainingFactors = [];
        let coefficient = 1;
        for (const f of p.factors) {
            if (f instanceof Integer_1.Integer) {
                coefficient *= f.value;
            }
            else
                remainingFactors.push(f);
        }
        if (p.factors.length - remainingFactors.length < 2)
            return new Set();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.productOrNot)((0, ConvenientExpressions_1.num)(coefficient), ...remainingFactors)
        }, "Multiply integer terms", exports.RULE_ID));
    }
}
exports.CombineIntegerFactors = CombineIntegerFactors;
exports.RULE_ID = "CombIntFacts";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts":
/*!********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineProductsAndFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const assert_1 = __webpack_require__(/*! ../../util/assert */ "./src/mathlib/util/assert.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Simplifies products containing fractions by moving the
 * parts of the product into the numerator of the first fraction.
 */
class CombineProductsAndFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        // All products have at least 2 factors
        const firstFraction = product.factors.filter(f => f instanceof Fraction_1.Fraction)[0];
        if (firstFraction === undefined)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // At least one of those is a fraction
        const nonFractionFactors = product.factors.filter(f => !(f instanceof Fraction_1.Fraction));
        if (nonFractionFactors.length == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // At least one of those is not a fraction
        let result;
        // Fraction and non-fraction factors partition the set of factors
        if (product.factors.length - nonFractionFactors.length == 1) {
            // There is exactly one fraction factor
            // All the factors will be combined into one factor
            result = Fraction_1.Fraction.of((0, ConvenientExpressions_1.product)(firstFraction.numerator, ...nonFractionFactors), firstFraction.denominator);
        }
        else {
            // There are multiple fractions
            const remainingFractionFactors = product.factors.filter(f => f instanceof Fraction_1.Fraction);
            (0, ConvenientExpressions_1.remove)(remainingFractionFactors, firstFraction);
            (0, assert_1.assert)(remainingFractionFactors.length > 0);
            result = (0, ConvenientExpressions_1.product)(Fraction_1.Fraction.of((0, ConvenientExpressions_1.productAndNotTimesOne)(firstFraction.numerator, ...nonFractionFactors), firstFraction.denominator), ...remainingFractionFactors);
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Combine products into fraction", exports.RULE_ID));
    }
}
exports.CombineProductsAndFractions = CombineProductsAndFractions;
exports.RULE_ID = "Prod=>Frac";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DistributiveProperty.ts":
/*!*************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DistributiveProperty.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DistributiveProperty = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Distributes multiplication over addition.
 *
 * a(b+c) = ab + ac
 */
class DistributiveProperty extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const nonSums = product.factors.filter(f => !(f instanceof Sum_1.Sum));
        if (nonSums.length == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // There is at least one non-sum factor
        const firstSum = product.factors.filter(f => f instanceof Sum_1.Sum)[0];
        if (firstSum == undefined)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // There is at least one sum
        const remainingSums = product.factors.filter(f => f instanceof Sum_1.Sum);
        (0, ConvenientExpressions_1.remove)(remainingSums, firstSum);
        const toDistribute = (0, ConvenientExpressions_1.productOrNot)(...nonSums);
        const distributed = (0, ConvenientExpressions_1.sum)(...firstSum.terms.map(t => (0, ConvenientExpressions_1.product)(toDistribute, t)));
        const result = (0, ConvenientExpressions_1.productOrNot)(distributed, ...remainingSums);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, `Distribute ${(0, ConvenientExpressions_1.productOrNot)(...nonSums).toUnambigiousString()}`, exports.RULE_ID));
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Polynomial;
    }
}
exports.DistributiveProperty = DistributiveProperty;
exports.RULE_ID = "Distributive Property";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DivideFractions.ts":
/*!********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DivideFractions.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivideFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class DivideFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction
            && exp.numerator instanceof Product_1.Product
            && exp.denominator instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const frac = exp;
        const num = frac.numerator;
        const den = frac.denominator;
        // Take the factors of the negation of any negations
        const numFactors = num.isNegation ?
            num.negation instanceof Product_1.Product ?
                num.negation.factors // Get factors if the negation is a product
                : [num.negation] // If negation isn't a product, return the negation as a list of 1
            : num.factors; // If not a negation, return the factors
        const denFactors = !den.isNegation ? den.factors
            : den.negation instanceof Product_1.Product ?
                den.negation.factors
                : [den.negation];
        // If there are any repeats, give up
        if (new Set(numFactors).size < numFactors.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        if (new Set(denFactors).size < denFactors.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Treat every factor as an exponent
        const numExponents = numFactors.map(f => {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        });
        const denExponents = denFactors.map(f => {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        });
        // For each den exponent base, create an overall sum of the powers
        const numExponentPowers = new Map();
        numExponents.forEach(exponent => {
            if (!numExponentPowers.has(exponent.base))
                numExponentPowers.set(exponent.base, []);
            numExponentPowers.get(exponent.base).push(exponent.power);
        });
        const denExponentPowers = new Map();
        denExponents.forEach(exponent => {
            if (!denExponentPowers.has(exponent.base))
                denExponentPowers.set(exponent.base, []);
            denExponentPowers.get(exponent.base).push(exponent.power);
        });
        // Any base which is in the numerator and denominator
        // will only be in the numerator
        const newNumExponentPowers = new Map(numExponentPowers);
        const newDenExponentPowers = new Map(denExponentPowers);
        denExponentPowers.forEach((powers, base) => {
            if (numExponentPowers.has(base)) {
                newNumExponentPowers.get(base).push((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.sumOrNot)(...powers)));
                newDenExponentPowers.delete(base);
            }
        });
        // Get the new factors for the numerator and denominator
        const newNumExponents = [];
        newNumExponentPowers.forEach((powers, base) => {
            newNumExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sumOrNot)(...powers)));
        });
        const newDenExponents = [];
        newDenExponentPowers.forEach((powers, base) => {
            newDenExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sumOrNot)(...powers)));
        });
        const top = (0, ConvenientExpressions_1.productOrNot)(...newNumExponents);
        const bottom = newDenExponents.length != 0 ? (0, ConvenientExpressions_1.productOrNot)(...newDenExponents) : (0, ConvenientExpressions_1.num)(1);
        // Preserve the negations removed earlier
        const result = Fraction_1.Fraction.of(num.isNegation ? (0, ConvenientExpressions_1.negative)(top) : top, den.isNegation ? (0, ConvenientExpressions_1.negative)(bottom) : bottom);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Cancel out fractions", exports.RULE_ID));
    }
}
exports.DivideFractions = DivideFractions;
exports.RULE_ID = "Cancel out fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DivisionIdentity.ts":
/*!*********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DivisionIdentity.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivisionIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything divided by 1 is the numerator
 */
class DivisionIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction
            && exp.denominator instanceof Integer_1.Integer
            && exp.denominator.value == 1;
    }
    applyImpl(exp) {
        const frac = exp;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: frac.numerator,
        }, "Division identity is 1", exports.RULE_ID));
    }
}
exports.DivisionIdentity = DivisionIdentity;
exports.RULE_ID = "Division Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/EvaluateSums.ts":
/*!*****************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/EvaluateSums.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.EvaluateSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Combine any integer terms in Sums.
 * a + 2 + 2 + 2= a + 4
 * 2 - 2 = 0
 *
 * Combines all of them at once no matter how many terms there are.
 *
 */
class EvaluateSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const sum = exp;
        const integerTerms = [...sum.terms].filter(t => t instanceof Integer_1.Integer || (t instanceof Product_1.Product && t.isNegation && t.negation instanceof Integer_1.Integer));
        if (integerTerms.length < 2) {
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        }
        const newInt = Integer_1.Integer.of(integerTerms.map(e => {
            if (e instanceof Integer_1.Integer) {
                return e.value;
            }
            return -e.negation.value;
        }).reduce((a, b) => a + b));
        const otherTerms = [...sum.terms].filter(t => !(t instanceof Integer_1.Integer) && !(t instanceof Product_1.Product && t.isNegation && t.negation instanceof Integer_1.Integer));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(sum), {
            n: sum,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sumOrNot)(...otherTerms, newInt)
        }, "Evaluated Addition", exports.RULE_ID));
    }
}
exports.EvaluateSums = EvaluateSums;
exports.RULE_ID = "Eval Addition";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/ExponentToZero.ts":
/*!*******************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/ExponentToZero.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ExponentToZero = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class ExponentToZero extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Exponent_1.Exponent
            && exp.power instanceof Integer_1.Integer
            && exp.power.value == 0;
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(1)
        }, "Anything to zero is zero", exports.RULE_ID));
    }
}
exports.ExponentToZero = ExponentToZero;
exports.RULE_ID = "Pow of Zero";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/ExponentialIdentity.ts":
/*!************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/ExponentialIdentity.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ExponentialIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything to the first is just that thing.
 * Turns any exponent with a power of 1 to that thing.
 */
class ExponentialIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Exponent_1.Exponent
            && exp.power instanceof Integer_1.Integer
            && exp.power.value == 1;
    }
    applyImpl(exp) {
        const e = exp;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(e), {
            n: e,
            r: Relationship_1.Relationship.Equal,
            n1: e.base,
        }, "Exponential Identity is 1", exports.RULE_ID));
    }
}
exports.ExponentialIdentity = ExponentialIdentity;
exports.RULE_ID = "Exponential Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/FOIL.ts":
/*!*********************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/FOIL.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.FOIL = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
/**
 * (a + b)(c + d) = ac + ad + bc + bd
 */
class FOIL extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const sums = product.factors.filter(f => f instanceof Sum_1.Sum);
        if (sums.length < 2)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        const nonSums = product.factors.filter(f => !(f instanceof Sum_1.Sum));
        const first = sums[0];
        const second = sums[1];
        const foiled = first.terms.map(t => {
            const terms = [];
            for (const t1 of second.terms) {
                terms.push((0, ConvenientExpressions_1.product)(t, t1));
            }
            return terms;
        }).flat();
        sums.splice(0, 2);
        const result = (0, ConvenientExpressions_1.productOrNot)(...nonSums, (0, ConvenientExpressions_1.sum)(...foiled), ...sums);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Foil that shit", exports.RULE_ID));
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Polynomial;
    }
}
exports.FOIL = FOIL;
exports.RULE_ID = "FOIL";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/LogOfOne.ts":
/*!*************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/LogOfOne.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.LogOfOne = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Logarithm_1 = __webpack_require__(/*! ../../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class LogOfOne extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Logarithm_1.Logarithm
            && exp.exp instanceof Integer_1.Integer
            && exp.exp.value === 1;
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(0)
        }, "Log in any base of 1 is 0", exports.RULE_ID));
    }
}
exports.LogOfOne = LogOfOne;
exports.RULE_ID = "Log of 1";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts":
/*!***************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplicativeIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * 1x = x
 * 1*1x = 1
 */
class MultiplicativeIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product
            && new Set(exp.factors).has((0, ConvenientExpressions_1.num)(1))
            && !exp.isNegation;
    }
    applyImpl(exp) {
        const p = exp;
        const newFactors = [];
        for (const factor of p.factors) {
            if (factor instanceof Integer_1.Integer && factor.value == 1)
                continue;
            newFactors.push(factor);
        }
        if (newFactors.length == 0)
            newFactors.push((0, ConvenientExpressions_1.num)(1));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.productOrNot)(...newFactors)
        }, "Multiplicative Identity", exports.RULE_ID));
    }
}
exports.MultiplicativeIdentity = MultiplicativeIdentity;
exports.RULE_ID = "Mult Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts":
/*!***************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplyExponentPowers = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class MultiplyExponentPowers extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Exponent_1.Exponent
            && exp.base instanceof Exponent_1.Exponent;
    }
    applyImpl(exp) {
        const outer = exp;
        const inner = outer.base;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(inner.base, (0, ConvenientExpressions_1.product)(inner.power, outer.power))
        }, "Exponents to exponents multiply", exports.RULE_ID));
    }
}
exports.MultiplyExponentPowers = MultiplyExponentPowers;
exports.RULE_ID = "Exp to exp";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplyFractions.ts":
/*!**********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplyFractions.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplyFractions = void 0;
const Product_1 = __webpack_require__(/*! ../../../mathlib/expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Fraction_1 = __webpack_require__(/*! ../../../mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const Integer_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
class MultiplyFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp.class === Product_1.ProductType;
    }
    applyImpl(exp) {
        const p = exp;
        const num = (0, ConvenientExpressions_1.productOrNot)(...p.factors.map(f => {
            if (f.class === Fraction_1.FractionType) {
                return f.numerator;
            }
            else {
                return f;
            }
        }));
        const den = (0, ConvenientExpressions_1.productOrOne)(...p.factors.filter(f => {
            return f.class === Fraction_1.FractionType;
        }).map(f => f.denominator));
        if (den instanceof Integer_1.Integer && den.value == 1)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(num, den)
        }, "Multiply the fractions to combine them", exports.RULE_ID));
    }
}
exports.MultiplyFractions = MultiplyFractions;
exports.RULE_ID = "Multiply Fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/OrderProducts.ts":
/*!******************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/OrderProducts.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.OrderProducts = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Reorders factors to follow convention.
 */
class OrderProducts extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const p = exp;
        const result = (0, ConvenientExpressions_1.product)(...[...p.factors].sort(Product_1.factorOrder));
        if (result === p)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Reorder product factors to match math convention", exports.RULE_ID));
    }
}
exports.OrderProducts = OrderProducts;
exports.RULE_ID = "Order products";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/OrderSums.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/OrderSums.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.OrderSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Turns sums that are unhealthy because their term order
 * is wrong into correctly ordered sums.
 */
class OrderSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum && (0, ConvenientExpressions_1.orderedSum)(exp) !== exp;
    }
    applyImpl(exp) {
        return new Set([new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.orderedSum)(exp),
            }, "Reordered", exports.RULE_ID)]);
    }
}
exports.OrderSums = OrderSums;
exports.RULE_ID = "Order Sums";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts":
/*!************************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.RemoveCommonFactorsFromTopAndBottomOfFraction = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class RemoveCommonFactorsFromTopAndBottomOfFraction extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction
            && !(exp.numerator instanceof Product_1.Product && exp.numerator.isNegation)
            && !(exp.denominator instanceof Product_1.Product && exp.denominator.isNegation);
    }
    applyImpl(exp) {
        const frac = exp;
        const top = frac.numerator;
        const bottom = frac.denominator;
        const allFactors = new Set();
        if (top instanceof Product_1.Product) {
            top.factors.forEach(f => allFactors.add(f));
        }
        else
            allFactors.add(top);
        if (bottom instanceof Product_1.Product) {
            bottom.factors.forEach(f => allFactors.add(f));
        }
        else
            allFactors.add(bottom);
        // Find factors that are in both top and bottom
        const inBoth = new Set();
        allFactors.forEach(f => {
            if ((top instanceof Product_1.Product ? (0, ThingsThatShouldBeInTheStdLib_1.has)(top.factors, f) : top === f)
                && (bottom instanceof Product_1.Product ? (0, ThingsThatShouldBeInTheStdLib_1.has)(bottom.factors, f) : bottom === f))
                inBoth.add(f);
        });
        if (inBoth.size == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Return new fraction without those
        let newTop = top;
        inBoth.forEach(f => {
            if (newTop instanceof Product_1.Product) {
                newTop = newTop.without(f);
            }
            else {
                newTop = (0, ConvenientExpressions_1.num)(1);
            }
        });
        let newBottom = bottom;
        inBoth.forEach(f => {
            if (newBottom instanceof Product_1.Product) {
                newBottom = newBottom.without(f);
            }
            else {
                newBottom = (0, ConvenientExpressions_1.num)(1);
            }
        });
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(newTop, newBottom),
        }, "Divide top and bottom by same thing", exports.RULE_ID));
    }
}
exports.RemoveCommonFactorsFromTopAndBottomOfFraction = RemoveCommonFactorsFromTopAndBottomOfFraction;
exports.RULE_ID = "Div top and bottom by same thing";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts":
/*!*********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SubtractExponentsOnFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * In all cases, any combined exponent factors will
 * be put in the numerator. It's hard to know if they
 * will evaluate to be negative or not, so we'll put
 * them all in the numerator and deal with that later.
 * TODO: Maybe we could iterate over the graph after it's
 *      done to go back and fix this? Maybe it's worth the 2^n
 *      added complexity to create nodes for every possible placement
 *      then just pathfind the easiest?
 */
class SubtractExponentsOnFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction;
    }
    applyImpl(exp) {
        const frac = exp;
        const top = frac.numerator instanceof Product_1.Product ? frac.numerator.factors : [frac.numerator];
        const bottom = frac.denominator instanceof Product_1.Product ? frac.denominator.factors : [frac.denominator];
        // Treat every factor of top and bottom as an exponent
        function asExponent(f) {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        }
        const topExponents = top.map(asExponent);
        const bottomExponents = bottom.map(asExponent);
        // Find what bases are common
        const commonBases = new Set();
        topExponents.forEach(e => {
            if ((0, ThingsThatShouldBeInTheStdLib_1.has)(bottomExponents.map(e => e.base), e.base))
                commonBases.add(e.base);
        });
        bottomExponents.forEach(e => {
            if ((0, ThingsThatShouldBeInTheStdLib_1.has)(topExponents.map(e => e.base), e.base))
                commonBases.add(e.base);
        });
        if (commonBases.size == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Separate factors which won't be effected
        const uneffectedTopFactors = top.filter(f => {
            if (f instanceof Exponent_1.Exponent)
                return !commonBases.has(f.base);
            return !commonBases.has(f);
        });
        const uneffectedBottomFactors = bottom.filter(f => {
            if (f instanceof Exponent_1.Exponent)
                return !commonBases.has(f.base);
            return !commonBases.has(f);
        });
        // Find all the terms for each base
        // Remember that the final exponent will be in the numerator
        const exponentTerms = new Map();
        topExponents.forEach(e => {
            if (!commonBases.has(e.base))
                return;
            if (!exponentTerms.has(e.base)) {
                exponentTerms.set(e.base, []);
            }
            exponentTerms.get(e.base).push(e.power);
        });
        bottomExponents.forEach(e => {
            if (!commonBases.has(e.base))
                return;
            if (!exponentTerms.has(e.base)) {
                exponentTerms.set(e.base, []);
            }
            // Negative bc we're putting these in the numerator
            exponentTerms.get(e.base).push((0, ConvenientExpressions_1.negative)(e.power));
        });
        const resultingTopExponents = [];
        exponentTerms.forEach((powerTerms, base) => {
            resultingTopExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sum)(...powerTerms)));
        });
        if (uneffectedBottomFactors.length == 0)
            uneffectedBottomFactors.push((0, ConvenientExpressions_1.num)(1));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of((0, ConvenientExpressions_1.productOrNot)(...resultingTopExponents, ...uneffectedTopFactors), (0, ConvenientExpressions_1.productOrNot)(...uneffectedBottomFactors)),
        }, "Sum exponents in both numerator and denominator", exports.RULE_ID));
    }
}
exports.SubtractExponentsOnFractions = SubtractExponentsOnFractions;
exports.RULE_ID = "Sum exponents in num and den in fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts":
/*!********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SumCoefficientsOfAddedTerms = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Takes sums of several added products and combines ones that only
 * have different coefficients.
 *
 * a + 2a = 3a
 * a - 2a = -1a
 */
class SumCoefficientsOfAddedTerms extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const terms = exp.terms;
        // Split the terms into product and not products
        const productTerms = [];
        const nonProductTerms = [];
        for (const term of terms) {
            if (term instanceof Product_1.Product && term.factors[0] instanceof Integer_1.Integer) {
                productTerms.push(term);
            }
            else {
                nonProductTerms.push(term);
            }
        }
        // Sort the product terms into groups of common factors
        const groups = new Map();
        for (const term of productTerms) {
            const first = term.factors[0];
            const temp = [...term.factors];
            temp.splice(0, 1);
            const group = (0, ConvenientExpressions_1.productOrNot)(...temp);
            if (!groups.has(group))
                groups.set(group, { coefficient: first.value, moreThanOne: false });
            else {
                groups.get(group).coefficient += first.value;
                groups.get(group).moreThanOne = true;
            }
        }
        // For every group with more than one product, produce a new argument
        const out = new Set();
        groups.forEach((obj, group) => {
            if (!obj.moreThanOne)
                return;
            const productTermsNotCombined = productTerms.filter(t => {
                const temp = [...t.factors];
                temp.splice(0, 1);
                const termWithoutLeadingCoefficient = (0, ConvenientExpressions_1.productOrNot)(...temp);
                return group !== termWithoutLeadingCoefficient;
            });
            out.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.sumOrNot)((0, ConvenientExpressions_1.productAndNotTimesOne)((0, ConvenientExpressions_1.num)(obj.coefficient), group), ...nonProductTerms, ...productTermsNotCombined)
            }, "Combining like terms", exports.RULE_ID));
        });
        return out;
    }
}
exports.SumCoefficientsOfAddedTerms = SumCoefficientsOfAddedTerms;
exports.RULE_ID = "SumCoefficients of added terms";


/***/ }),

/***/ "./src/mathlib/expressions/Derivative.ts":
/*!***********************************************!*\
  !*** ./src/mathlib/expressions/Derivative.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DerivativeType = exports.Derivative = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
/**
 *
 */
class Derivative extends Expression_1.Expression {
    static of(exp, relativeTo) {
        const hash = exp.hash + relativeTo.hash;
        if (!this.instances.has(hash))
            this.instances.set(hash, new Derivative(exp, relativeTo));
        return this.instances.get(hash);
    }
    constructor(exp, relativeTo) {
        super();
        this.class = exports.DerivativeType;
        this.exp = exp;
        this.relativeTo = relativeTo;
        Object.freeze(this.exp);
        Object.freeze(this.relativeTo);
        this.isReducible = false; //TODO: Determine if a derivative is reducible
        this.isConstant = false; // TODO: Determine if a derivative is constant
        this.childCount = 2 + exp.childCount + relativeTo.childCount;
    }
    toString() {
        return "d/d" + this.relativeTo.toString() + "(" + this.exp.toString() + ")";
    }
    toUnambigiousString() {
        return "(d/d" + this.relativeTo.toUnambigiousString() + ")" + this.exp.toUnambigiousString();
    }
    get hash() {
        return this.class + this.exp.hash + this.relativeTo.hash;
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        return "<mfrac><mn>d</mn><mrow><mn>d</mn>" + wrapIfNeeded(this.relativeTo) + "</mrow></mfrac>" + wrapIfNeeded(this.exp);
    }
    evaluate(values) {
        // Maybe later
        return NaN;
    }
}
exports.Derivative = Derivative;
Derivative.instances = new Map();
exports.DerivativeType = "Derivative";


/***/ }),

/***/ "./src/mathlib/expressions/Exponent.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Exponent.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExponentType = exports.Exponent = void 0;
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Fraction_1 = __webpack_require__(/*! ./Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
class Exponent extends Expression_1.Expression {
    static of(base, power) {
        const hash = base.hash + power.hash;
        if (!Exponent.instances.has(hash)) {
            Exponent.instances.set(hash, new Exponent(base, power));
        }
        return Exponent.instances.get(hash);
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType || exp.class == Fraction_1.FractionType)
                return (0, MathMLHelpers_1.inRow)((0, MathMLHelpers_1.inParen)(exp.toMathXML()));
            return exp.toMathXML();
        }
        return "<msup>" + wrapIfNeeded(this.base) + (0, MathMLHelpers_1.inRow)(this.power.toMathXML()) + "</msup>";
    }
    toString() {
        return "(" + this.base + ")^(" + this.power + ")";
    }
    toUnambigiousString() {
        return "(" + this.base + ")^(" + this.power + ")";
    }
    get hash() {
        return "Pow" + this.base.hash + this.power.hash;
    }
    evaluate(values) {
        return Math.pow(this.base.evaluate(values), this.power.evaluate(values));
    }
    constructor(base, power) {
        super();
        this.class = exports.ExponentType;
        this.base = base;
        this.power = power;
        Object.freeze(this.base);
        Object.freeze(this.power);
        // The integers are closed over exponentiation
        this.isReducible = (base.isReducible || base.class === Integer_1.IntegerType) && (power.isReducible || power.class === Integer_1.IntegerType); // && Math.pow(base.reduced.value, power.reduced.value) % 1 == 0
        this.isConstant = base.isConstant && power.isConstant;
        this.childCount = 2 + base.childCount + power.childCount;
    }
}
exports.Exponent = Exponent;
Exponent.instances = new Map();
exports.ExponentType = "Exponent";


/***/ }),

/***/ "./src/mathlib/expressions/Expression.ts":
/*!***********************************************!*\
  !*** ./src/mathlib/expressions/Expression.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Expression = void 0;
const MathGraphNode_1 = __webpack_require__(/*! ../MathGraphNode */ "./src/mathlib/MathGraphNode.ts");
/**
 * Base of all mathematical expressions.
 * All children should implement fly-wheel pattern.
 * All children should be immutable.
 */
class Expression extends MathGraphNode_1.MathGraphNode {
}
exports.Expression = Expression;


/***/ }),

/***/ "./src/mathlib/expressions/Fraction.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Fraction.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FractionType = exports.Fraction = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Fraction extends Expression_1.Expression {
    static of(numerator, denominator) {
        const hash = numerator.hash + denominator.hash;
        if (!this.instance.has(hash))
            this.instance.set(hash, new Fraction(numerator, denominator));
        return this.instance.get(hash);
    }
    constructor(num, denom) {
        super();
        this.class = exports.FractionType;
        this.numerator = num;
        this.denominator = denom;
        Object.freeze(this.numerator);
        Object.freeze(this.denominator);
        /*
        A fraction is reducible if the denom | num.
            <=> num = k * denom where k is an integer.

        This makes proving reducibility hard.
        TODO: Decide if it's worth implementing reducibility for Fractions
        */
        this.isReducible = false;
        this.isConstant = num.isConstant && denom.isConstant;
        this.childCount = 2 + num.childCount + denom.childCount;
    }
    toString() {
        return this.numerator.toString() + " / " + this.denominator.toString();
    }
    toUnambigiousString() {
        return `(${this.numerator.toUnambigiousString()})/(${this.denominator.toUnambigiousString()})`;
    }
    get hash() {
        return exports.FractionType + this.numerator.hash + this.denominator.hash;
    }
    toMathXML() {
        return "<mfrac><mrow>" + this.numerator.toMathXML() + "</mrow><mrow>" + this.denominator.toMathXML() + "</mrow></mfrac>";
    }
    evaluate(values) {
        return this.numerator.evaluate(values) / this.denominator.evaluate(values);
    }
}
exports.Fraction = Fraction;
Fraction.instance = new Map();
exports.FractionType = "Fraction";


/***/ }),

/***/ "./src/mathlib/expressions/Integer.ts":
/*!********************************************!*\
  !*** ./src/mathlib/expressions/Integer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IntegerType = exports.Integer = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
/**
 * Integer
 * Positive or negative
 */
class Integer extends Expression_1.Expression {
    static of(value) {
        if (!Integer.instances.has(value)) {
            Integer.instances.set(value, new Integer(value));
        }
        return Integer.instances.get(value);
    }
    constructor(value) {
        super();
        this.class = exports.IntegerType;
        this.isReducible = false;
        this.isConstant = true;
        this.childCount = 0;
        this.value = value;
        (0, assert_1.assert)(this.value % 1 == 0, "Creating non-integer integer " + this.value);
    }
    /**
     * @returns A positive version of this integer.
     */
    butPositive() {
        return Integer.of(Math.abs(this.value));
    }
    toMathXML() {
        return "<mn>" + this.value + "</mn>";
    }
    toString() {
        return "" + this.value;
    }
    toUnambigiousString() {
        return "" + this.value;
    }
    get hash() {
        return "Int" + this.value;
    }
    evaluate(values) {
        return this.value;
    }
}
exports.Integer = Integer;
Integer.instances = new Map();
exports.IntegerType = "Integer";


/***/ }),

/***/ "./src/mathlib/expressions/Integral.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Integral.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IntegralType = exports.Integral = void 0;
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
/**
 * An indefinate integral (for now).
 * TODO: Should we separate definate/indefinate integrals?
 */
class Integral extends Expression_1.Expression {
    static of(integrand, relativeTo) {
        if (!this.instances.has(integrand.hash + relativeTo.hash))
            this.instances.set(integrand.hash + relativeTo.hash, new Integral(integrand, relativeTo));
        return this.instances.get(integrand.hash + relativeTo.hash);
    }
    constructor(integrand, relativeTo) {
        super();
        this.class = exports.IntegralType;
        this.integrand = integrand;
        this.relativeTo = relativeTo;
        Object.freeze(this.integrand);
        Object.freeze(this.relativeTo);
        this.isReducible = false;
        this.isConstant = false;
        this.childCount = 2 + integrand.childCount + relativeTo.childCount;
    }
    toString() {
        return "âˆ«" + this.integrand.toString();
    }
    toUnambigiousString() {
        return "âˆ«(" + this.integrand.toUnambigiousString() + ")" + this.relativeTo.toUnambigiousString();
    }
    get hash() {
        return "âˆ«" + this.integrand.toString() + this.relativeTo.toString();
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType)
                return (0, MathMLHelpers_1.inParen)(exp.toMathXML());
            return exp.toMathXML();
        }
        return "<mrow><mo>âˆ«</mo>" + wrapIfNeeded(this.integrand) + "<mn>d</mn>" + wrapIfNeeded(this.relativeTo) + "</mrow>";
    }
    evaluate(values) {
        // Nah fuck this bro
        return NaN;
    }
}
exports.Integral = Integral;
Integral.instances = new Map();
exports.IntegralType = "Integral";


/***/ }),

/***/ "./src/mathlib/expressions/Logarithm.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/expressions/Logarithm.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LogType = exports.Logarithm = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Logarithm extends Expression_1.Expression {
    static of(exp, base) {
        const hash = exp.hash + base.hash;
        if (!this.instances.has(hash))
            this.instances.set(hash, new Logarithm(exp, base));
        return this.instances.get(hash);
    }
    constructor(exp, base) {
        super();
        this.class = exports.LogType;
        this.exp = exp;
        this.base = base;
        Object.freeze(this.exp);
        Object.freeze(this.base);
        this.isReducible = false; //TODO: Determine if a logarithm is reducible
        this.isConstant = exp.isConstant && base.isConstant;
        this.childCount = 2 + exp.childCount + base.childCount;
    }
    toMathXML() {
        return `<mrow>
            <msub><mtext>log</mtext>${this.base.toMathXML()}</msub>
            <mrow>${this.exp.toMathXML()}</mrow>
        </row>`;
    }
    toString() {
        return `log${this.base.toString()}(${this.exp.toString()})`;
    }
    toUnambigiousString() {
        return `log(${this.base.toUnambigiousString()})(${this.exp.toUnambigiousString()})`;
    }
    get hash() {
        throw new Error("Method not implemented.");
    }
    evaluate(values) {
        return Math.log(this.exp.evaluate(values)) / Math.log(this.base.evaluate(values));
    }
}
exports.Logarithm = Logarithm;
Logarithm.instances = new Map();
exports.LogType = "Logarithm";


/***/ }),

/***/ "./src/mathlib/expressions/Product.ts":
/*!********************************************!*\
  !*** ./src/mathlib/expressions/Product.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.factorOrder = exports.ProductType = exports.Product = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Exponent_1 = __webpack_require__(/*! ./Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ./Variable */ "./src/mathlib/expressions/Variable.ts");
/**
 * A mathematical product with 2 or more factors.
 */
class Product extends Expression_1.Expression {
    /**
     * For efficiency, products are compared by reference.
     * Here we ensure === <=> ==
     * @param factors
     * @returns
     */
    static of(factors) {
        const hash = factors.map(e => e.hash).join("");
        if (!Product.instances.has(hash))
            Product.instances.set(hash, new Product(factors));
        return Product.instances.get(hash);
    }
    constructor(factors) {
        super();
        this.class = exports.ProductType;
        (0, assert_1.assert)(factors.length >= 2, "Creating product with less than 2 factors.");
        this.factors = factors;
        Object.freeze(this.factors);
        let reducible = true;
        this.factors.forEach(f => {
            reducible && (reducible = f.isReducible || f.class == Integer_1.IntegerType);
        });
        // The integers are closed over multiplication
        this.isReducible = reducible;
        let healthy = true;
        healthy && (healthy = this.numNegatives() < 2);
        let isNegation = factors.length == 2;
        isNegation && (isNegation = factors.filter(e => {
            return e instanceof Integer_1.Integer && e.value == -1;
        }).length == 1);
        this.isNegation = isNegation;
        this.isConstant = this.factors.map(f => f.isConstant).reduce((a, b) => a && b);
        this.childCount = factors.length + factors.map(f => f.childCount).reduce((a, b) => a + b) - (this.isNegation ? 1 : 0);
    }
    /**
     * Get the value that this product is negating
     * -1 * exp returns exp.
     * @throws if product isn't a negation.
     */
    get negation() {
        (0, assert_1.assert)(this.isNegation, "Trying to get negation from non-negating sum");
        if (this.factors[0].class == Integer_1.IntegerType && this.factors[0].value == -1)
            return this.factors[1];
        return this.factors[0];
    }
    /**
     * Returns a new Expression without the given factor.
     * If the product contains the factor multiple times,
     * only removes one. If it doesn't contain the factor,
     * returns itself.
     * @param exp A factor in this product.
     */
    without(exp) {
        const newFactors = [...this.factors];
        const index = newFactors.findIndex((value) => {
            return value === exp;
        });
        if (index == -1)
            return this;
        newFactors.splice(index, 1);
        if (newFactors.length < 2) {
            return newFactors[0]; // Gauranteed there's one term here
        }
        return Product.of(newFactors);
    }
    toMathXML() {
        let out = "";
        function wrapIfNeeded(exp) {
            if (exp.class == exports.ProductType || exp.class == Sum_1.SumType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        // Either this is a negation, or a list of products
        // First the negation case...
        if (this.isNegation) {
            out += "<mo>-</mo>";
            out += wrapIfNeeded(this.negation);
            return out;
        }
        // If it's a list of products...
        const firstFactor = this.factors[0];
        out += wrapIfNeeded(firstFactor);
        for (let i = 1; i < this.factors.length; i++) {
            let factor = this.factors[i];
            let needsDot = (factor.class == Integer_1.IntegerType && this.factors[i - 1].class == Integer_1.IntegerType)
                || (factor instanceof Product && factor.isNegation) // If there's a negative sign, get a dot
                || (factor instanceof Integer_1.Integer && factor.value < 1);
            if (needsDot)
                out += "<mo>Â·</mo>";
            out += wrapIfNeeded(factor);
        }
        return out;
    }
    /**
     * @returns Number of negative integer products.
     */
    numNegatives() {
        let count = 0;
        this.factors.forEach(f => {
            if (f instanceof Integer_1.Integer)
                if (f.value < 0)
                    count++;
        });
        return count;
    }
    toString() {
        let out = "";
        for (const exp of this.factors) {
            if (exp instanceof Product) {
                out += "(" + exp.toString() + ")";
            }
            else {
                out += exp.toString();
            }
            out += "Â·";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    toUnambigiousString() {
        if (this.isNegation)
            return `-(${this.negation.toUnambigiousString()})`;
        let out = "";
        for (const exp of this.factors) {
            if (exp instanceof Product) {
                out += "(" + exp.toString() + ")";
            }
            else {
                out += exp.toString();
            }
            out += "Â·";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    get hash() {
        return "Product" + this.factors.map(e => e.hash).join();
    }
    evaluate(values) {
        return this.factors.map(f => f.evaluate(values)).reduce((a, b) => a * b);
    }
}
exports.Product = Product;
Product.instances = new Map();
exports.ProductType = "Product";
/**
 * Can be used in array.sort() to get properly ordered products.
 *
 * @param a
 * @param b
 * @returns Positive if a should be after b
 */
function factorOrder(a, b) {
    if (a instanceof Integer_1.Integer && b instanceof Integer_1.Integer)
        return 0;
    if (a instanceof Integer_1.Integer) {
        return aFirst;
    }
    // Alphabetical
    const symbA = a instanceof Variable_1.Variable ? a.symbol
        : a instanceof Exponent_1.Exponent ?
            a.base instanceof Variable_1.Variable ? a.base.symbol : null : null;
    const symbB = b instanceof Variable_1.Variable ? b.symbol
        : b instanceof Exponent_1.Exponent ?
            b.base instanceof Variable_1.Variable ? b.base.symbol : null : null;
    if (symbA != null && symbB != null) {
        return symbA > symbB ? aFirst : aAfter;
    }
    return 0;
}
exports.factorOrder = factorOrder;
const aFirst = 1;
const aAfter = -1;


/***/ }),

/***/ "./src/mathlib/expressions/Sum.ts":
/*!****************************************!*\
  !*** ./src/mathlib/expressions/Sum.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.orderTerms = exports.SumType = exports.Sum = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Variable_1 = __webpack_require__(/*! ./Variable */ "./src/mathlib/expressions/Variable.ts");
/**
 * Expression representing the sum of 2 or more terms.
 */
class Sum extends Expression_1.Expression {
    /**
     * Factory method consntructor.
     * @param terms Contains at least 2 elements
     */
    static of(terms) {
        const hash = terms.map(t => t.hash).join("");
        if (!Sum.instances.has(hash)) {
            Sum.instances.set(hash, new Sum(terms));
        }
        return Sum.instances.get(hash);
    }
    constructor(terms) {
        super();
        this.class = exports.SumType;
        (0, assert_1.assert)(terms.length >= 2, "Creating sum with less than 2 terms.");
        this.terms = terms;
        this.isReducible = this.terms.map(t => t.isReducible || t.class == Integer_1.IntegerType).reduce((a, b) => a && b);
        this.isConstant = this.terms.map(t => t.isConstant).reduce((a, b) => a && b);
        Object.freeze(this.terms);
        this.childCount = terms.length + terms.map(t => t.childCount).reduce((a, b) => a + b);
    }
    /**
     * Returns a new Expression without the given term.
     * If the sum contains the term multiple times,
     * only removes one. If it doesn't contain the term,
     * returns itself.
     * @param term A term in this sum.
     */
    without(term) {
        const newTerms = [...this.terms];
        const index = newTerms.findIndex((value) => {
            return value === term;
        });
        if (index == -1)
            return this;
        newTerms.splice(index, 1);
        if (newTerms.length < 2) {
            return newTerms[0]; // Gauranteed there's one term here
        }
        return Sum.of(newTerms);
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == exports.SumType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        let out = wrapIfNeeded(this.terms[0]);
        for (let i = 1; i < this.terms.length; i++) {
            const term = this.terms[i];
            // Subtract negative terms instead of adding negatives
            if (term instanceof Product_1.Product && term.isNegation) {
                out += "<mo>-</mo>" + wrapIfNeeded(term.negation);
            }
            else if (term instanceof Integer_1.Integer && term.value < 0) {
                out += "<mo>-</mo>" + wrapIfNeeded(term.butPositive());
            }
            else {
                out += "<mo>+</mo>" + wrapIfNeeded(this.terms[i]);
            }
        }
        return out;
    }
    toString() {
        let out = "";
        for (const exp of this.terms) {
            out += exp.toString() + "+";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    toUnambigiousString() {
        let out = "";
        for (const exp of this.terms) {
            out += "(" + exp.toUnambigiousString() + ")+";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    get hash() {
        return "Sum" + this.terms.map(e => e.hash).join();
    }
    evaluate(values) {
        return this.terms.map(t => t.evaluate(values)).reduce((a, b) => a + b);
    }
}
exports.Sum = Sum;
Sum.instances = new Map();
exports.SumType = "Sum";
/**
 * Returns the given terms ordered correctly to
 * be placed in a Sum. Alters the given array.
 * @param terms
 */
function orderTerms(...terms) {
    // A note about the sort function bc the documentation is cryptic
    // If a should be put before b in the sum, return a negative value
    return terms.sort((a, b) => {
        // Variables before Integers
        if (a.class == Integer_1.IntegerType && (b.class == Variable_1.VariableType || (b instanceof Product_1.Product && b.isNegation && b.negation.class == Variable_1.VariableType))) {
            return 1;
        }
        if ((a.class == Variable_1.VariableType || (a instanceof Product_1.Product && a.isNegation && a.negation.class == Variable_1.VariableType)) && b.class == Integer_1.IntegerType) {
            return -1;
        }
        return 0;
    });
}
exports.orderTerms = orderTerms;


/***/ }),

/***/ "./src/mathlib/expressions/Variable.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Variable.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VariableType = exports.Variable = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Variable extends Expression_1.Expression {
    static of(symbol) {
        if (Variable.instances.get(symbol) == undefined) {
            Variable.instances.set(symbol, new Variable(symbol));
        }
        return Variable.instances.get(symbol);
    }
    constructor(symbol) {
        super();
        this.class = exports.VariableType;
        this.isReducible = false;
        this.isConstant = false;
        this.childCount = 0;
        this.symbol = symbol;
    }
    toMathXML() {
        return "<mi>" + this.symbol + "</mi>";
    }
    toString() {
        return this.symbol;
    }
    toUnambigiousString() {
        return this.symbol;
    }
    get hash() {
        return "Var" + this.symbol;
    }
    evaluate(values) {
        return values.valueOf(this);
    }
}
exports.Variable = Variable;
Variable.instances = new Map();
exports.VariableType = "Variable";


/***/ }),

/***/ "./src/mathlib/interpreting/Interpreter.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/interpreting/Interpreter.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SkipSet = exports.Interpreter = void 0;
/**
 * Takes a graph and collapses any arguments that are obvious.
 */
class Interpreter {
    constructor(config) {
        // Null after every process call.
        this.graph = null;
        this.config = config;
    }
    processPath(path) {
        this.graph = path.graph;
        const result = new SkipSet();
        const shouldSkip = (arg) => {
            return this.config.skips.has(arg.ruleId);
        };
        const graph = this.graph;
        function recursiveAdd(node) {
            const next = findNext(node);
            if (next != null) {
                const argument = graph.getEdge(node, path.nodes[path.nodes.indexOf(node) + 1]);
                result.addSkip(node, { e: next, a: argument });
                recursiveAdd(next);
            }
        }
        // Gets the next expression to show or null if there
        // isn't one. Never returns the given expression
        function findNext(node) {
            var _a;
            let index = path.nodes.indexOf(node);
            const next = path.nodes[index + 1];
            if (next == undefined)
                return null;
            if (shouldSkip(graph.getEdge(node, next))) {
                return (_a = findNext(next)) !== null && _a !== void 0 ? _a : next;
            }
            else
                return next;
        }
        recursiveAdd(path.nodes[0]);
        this.graph = null;
        return result;
    }
    hasOneOutEdge(node) {
        var _a;
        return ((_a = this.graph) === null || _a === void 0 ? void 0 : _a.getDegree(node, "out")) == 1;
    }
}
exports.Interpreter = Interpreter;
/**
 * Currently only supports expressions.
 * TODO: Figure out arguments.
 */
class SkipSet {
    constructor() {
        this.skips = new Map();
    }
    /**
     * Finds the next expression that should be displayed.
     * The input and result expression should be displayed as
     * connected by the input's out argument, which is provided
     * in the result.
     *
     * There will be
     * exactly one simple path connecting the output and
     * result.
     * @param input
     * @return Null if the input has no skip mapped to it.
     */
    next(input) {
        if (this.skips.has(input))
            return this.skips.get(input);
        return null;
    }
    /**
     * Adds the start end pair to the skip set. If already included,
     * does nothing. If the given start already has an end assigned
     * and the assigned /= the given end, throws. If start == end,
     * does nothing.
     * @param start
     * @param end
     */
    addSkip(start, end) {
        if (start == end.e)
            return;
        if (this.skips.has(start) && this.skips.get(start) != end)
            throw new Error("Adding another end to SkipSet");
        this.skips.set(start, end);
    }
}
exports.SkipSet = SkipSet;


/***/ }),

/***/ "./src/mathlib/interpreting/Path.ts":
/*!******************************************!*\
  !*** ./src/mathlib/interpreting/Path.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Path = void 0;
/**
 * Represents a path of graphs.
 * Immutable
 */
class Path {
    constructor(graph, ...nodes) {
        this.nodes = nodes;
        this.graph = graph;
    }
    [Symbol.iterator]() {
        throw new Error("Method not implemented.");
    }
}
exports.Path = Path;


/***/ }),

/***/ "./src/mathlib/uielements/ArgumentNodeView.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/ArgumentNodeView.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ArgumentNodeView = void 0;
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
/**
 * Represents an argument node.
 */
class ArgumentNodeView extends GraphNodeView_1.GraphNodeView {
    constructor(arg, setStyle) {
        super(setStyle);
        this.argument = arg;
    }
    connectedCallback() {
        this.textContent = this.argument.argument;
        this.classList.add("argument");
    }
}
exports.ArgumentNodeView = ArgumentNodeView;
customElements.define("argument-nodeview", ArgumentNodeView, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/EdgeView.ts":
/*!********************************************!*\
  !*** ./src/mathlib/uielements/EdgeView.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EdgeView = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const UIPreferences_1 = __webpack_require__(/*! ./UIPreferences */ "./src/mathlib/uielements/UIPreferences.ts");
const Graph_1 = __webpack_require__(/*! ../Graph */ "./src/mathlib/Graph.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Represents an edge in a graph.
 */
class EdgeView extends HTMLParagraphElement {
    constructor(owner, edge) {
        super();
        this.owner = owner;
        this.edge = edge.e;
        this.first = edge.n;
        this.second = edge.n1;
        Object.freeze(this.edge);
        this.style.width = "fit-content";
        this.style.height = "fit-content";
        this.style.padding = "0";
        this.style.zIndex = "-2";
        this.style.margin = "0";
        this.style.whiteSpace = "nowrap";
        this.style.textAlign = "center";
        this.style.backgroundColor = UIPreferences_1.uiPreferences.edgeEqualsBackgroundColor;
        this.style.userSelect = "none";
        this.style.backgroundColor = "white";
        UIPreferences_1.uiPreferences.onUpdate(() => {
            this.style.backgroundColor = UIPreferences_1.uiPreferences.edgeEqualsBackgroundColor;
        });
        this.addEventListener("click", event => {
            this.owner.edgeClicked(this, event);
        });
        this.addEventListener("mouseout", event => {
        });
        this.repOk();
    }
    /**
     * Sets rotation angle of view while also
     * letting it know the angle has changed.
     * @param rad
     */
    setAngle(rad) {
        this.style.rotate = "" + rad + "rad";
        //this.textContent = "" + (rad * 2 * Math.PI / 360).toFixed(2) + "deg"
    }
    /**
     * Sets element screen width and ensures text fits
     * inside the edge.
     */
    set width(val) {
        super.style.width = val;
    }
    /**
     * Called when element is conncted to the DOM.
     */
    connectedCallback() {
        if (this.edge instanceof Argument_1.Argument) {
            this.textContent = "" + this.edge.claim.r;
        }
        else if (this.edge instanceof Graph_1.GivenEdge) {
            this.textContent = "" + this.edge.r;
        }
        else
            throw new Error("Not implemented for " + this.edge);
    }
    repOk() {
        (0, assert_1.assert)(this.first != undefined);
        (0, assert_1.assert)(this.second != undefined);
    }
}
exports.EdgeView = EdgeView;
customElements.define("edge-view", EdgeView, { extends: "p" });


/***/ }),

/***/ "./src/mathlib/uielements/EditableMathView.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/EditableMathView.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditableMathView = void 0;
/**
 * Displays math and is editable.
 */
class EditableMathView extends HTMLDivElement {
    constructor() {
        super();
        this.listeners = [];
        this._value = null;
        this.addEventListener("click", event => {
        });
    }
    connectedCallback() {
    }
    set value(e) {
        var _a;
        this._value = e;
        this.innerHTML = "<math display='block'>" + ((_a = e === null || e === void 0 ? void 0 : e.toMathXML()) !== null && _a !== void 0 ? _a : "") + "</math>";
        this.listeners.forEach(l => l(this._value));
        MathJax.typeset([this]);
    }
    get value() {
        return this._value;
    }
    /**
     * Listener will be called whenever the math
     * in the view is edited.
     * @param l
     */
    addEditListener(l) {
        this.listeners.push(l);
    }
}
exports.EditableMathView = EditableMathView;
customElements.define("editable-mathview", EditableMathView, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/ExplanationPopup.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/ExplanationPopup.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExplanationPopup = void 0;
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
class ExplanationPopup extends HTMLDivElement {
    /**
     *
     * @param arg
     * @param onClose Called after user clicks close button.
     */
    constructor(arg, onClose) {
        super();
        this.arg = arg;
        this.onClose = onClose;
        const closeButton = document.createElement('b');
        closeButton.addEventListener('click', () => {
            this.onClose();
        });
        closeButton.textContent = "Close";
        closeButton.style.userSelect = "none";
        closeButton.style.float = "right";
        this.append(closeButton);
        const text = document.createElement('div');
        text.innerHTML = arg.argument + "<br>";
        if (arg.claim.n instanceof Expression_1.Expression && arg.claim.n1 instanceof Expression_1.Expression)
            text.innerHTML += (0, MathMLHelpers_1.inMathBlock)((0, MathMLHelpers_1.inRow)(arg.claim.n.toMathXML() + " <mo>" + arg.claim.r + "</mo> " + arg.claim.n1.toMathXML())) + "<br> Derived from: <br>";
        for (const ground of arg.grounds) {
            if (ground instanceof Expression_1.Expression)
                text.innerHTML += (0, MathMLHelpers_1.inMath)(ground.toMathXML()) + "<br>";
        }
        this.append(text);
        this.style.backgroundColor = "white";
        this.style.border = "1px solid black";
        this.style.boxShadow = "0.3ch 0.3ch 0.6ch rgba(0, 0, 0, 0.5)";
        this.style.padding = "1ch";
        this.style.width = "fit-content";
        this.style.zIndex = "15";
    }
    connectedCallback() {
        MathJax.typeset([this]);
    }
}
exports.ExplanationPopup = ExplanationPopup;
customElements.define("explanation-popup", ExplanationPopup, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/ExpressionNodeView.ts":
/*!******************************************************!*\
  !*** ./src/mathlib/uielements/ExpressionNodeView.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionNodeView = void 0;
const EditableMathView_1 = __webpack_require__(/*! ./EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
/**
 * A graph node view for expression nodes.
 */
class ExpressionNodeView extends GraphNodeView_1.GraphNodeView {
    constructor(node, setStyle) {
        super(setStyle);
        this.node = node;
        this.editableMathView = new EditableMathView_1.EditableMathView();
        this.editableMathView.value = this.node;
        this.appendChild(this.editableMathView);
        this.addEventListener("click", () => {
            console.log(this.node.toUnambigiousString());
        });
    }
    connectedCallback() {
        this.classList.add("expression");
    }
}
exports.ExpressionNodeView = ExpressionNodeView;
customElements.define("expression-nodeview", ExpressionNodeView, { extends: "div" });
const colorUnhealthyNodes = true;


/***/ }),

/***/ "./src/mathlib/uielements/GraphNodeView.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/uielements/GraphNodeView.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GraphNodeView = void 0;
/**
 * An html element that represents a math graph node.
 */
class GraphNodeView extends HTMLDivElement {
    /**
     *
     * @param setStyle Function that when called
     *  should set the style for this view.
     */
    constructor(setStyle) {
        super();
        this.style.padding = "1ch";
        this.style.width = "fit-content";
        this.style.height = "fit-content";
        this.style.whiteSpace = "nowrap";
        setStyle(this);
    }
    set backgroundColor(value) {
        this.style.backgroundColor = value;
    }
}
exports.GraphNodeView = GraphNodeView;


/***/ }),

/***/ "./src/mathlib/uielements/TouchGestureRecognizer.ts":
/*!**********************************************************!*\
  !*** ./src/mathlib/uielements/TouchGestureRecognizer.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TouchGestureRecognizer = void 0;
/**
 * Interpret complicated touch gesture data.
 */
class TouchGestureRecognizer {
    constructor() {
        this.moveListeners = [];
        this.pinchListeners = [];
    }
    addMoveListener(callback) {
        this.moveListeners.push(callback);
    }
    /**
     * Adds a function that will be called when a pinch gesture has been detected.
     * @param callback Takes a center coordinate that's the average of the finger positions,
     *              the change in scale since the last call on (0, infinity) where 1 is no change,
     *              and the number of fingers in the gesture (an integer).
     */
    addPinchListener(callback) {
        this.pinchListeners.push(callback);
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchDown(event) {
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchMove(event) {
        for (const changed of event.changedTouches) {
            changed.clientX;
        }
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchEnd(event) {
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchCancel(event) {
    }
}
exports.TouchGestureRecognizer = TouchGestureRecognizer;


/***/ }),

/***/ "./src/mathlib/uielements/UIPreferences.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/uielements/UIPreferences.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.uiPreferences = void 0;
class UIPreferences {
    constructor() {
        // Preference Values
        this._edgeEqualsBackgroundColor = "none";
        this.callbacks = [];
    }
    /**
     * @param callback Function called whenever a ui preference
     * is changed.
     */
    onUpdate(callback) {
        this.callbacks.push(callback);
    }
    // Getters and Setters
    /**
     * Background color of a graph edge denoting
     * equality between two expressions.
     * Css value.
     */
    get edgeEqualsBackgroundColor() {
        return this._edgeEqualsBackgroundColor;
    }
    set edgeEqualsBackgroundColor(val) {
        this._edgeEqualsBackgroundColor = val;
        this.callbacks.forEach(c => c());
    }
}
exports.uiPreferences = new UIPreferences();


/***/ }),

/***/ "./src/mathlib/uielements/WebGraphView.ts":
/*!************************************************!*\
  !*** ./src/mathlib/uielements/WebGraphView.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebGraphView = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const GraphMinipulator_1 = __webpack_require__(/*! ../GraphMinipulator */ "./src/mathlib/GraphMinipulator.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const TouchGestureRecognizer_1 = __webpack_require__(/*! ./TouchGestureRecognizer */ "./src/mathlib/uielements/TouchGestureRecognizer.ts");
const EdgeView_1 = __webpack_require__(/*! ./EdgeView */ "./src/mathlib/uielements/EdgeView.ts");
const ExpressionNodeView_1 = __webpack_require__(/*! ./ExpressionNodeView */ "./src/mathlib/uielements/ExpressionNodeView.ts");
const ArgumentNodeView_1 = __webpack_require__(/*! ./ArgumentNodeView */ "./src/mathlib/uielements/ArgumentNodeView.ts");
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
const ExplanationPopup_1 = __webpack_require__(/*! ./ExplanationPopup */ "./src/mathlib/uielements/ExplanationPopup.ts");
/**
 * A ui element that will display a math graph in a web.
 */
class WebGraphView extends HTMLDivElement {
    /**
     * @param graph Must be fully connected.
     * @param roots Non-empty.
     */
    constructor(graph, roots, interpreter, config = undefined) {
        super();
        this.nodeColorFn = (n) => "lightblue";
        // if the mouse is down
        this.mouseDown = false;
        this.touchDown = false;
        this.scale = 1;
        // If the graph should draw argument nodes.
        this.showArguments = false;
        this.drawEdgeLines = false;
        this.debugCornerEnabled = false;
        this.resizeObserver = new ResizeObserver(_ => {
            this.arrange();
            this.updateOffset();
        });
        this.baseNodeStyle = (view) => {
            view.style.borderRadius = "1ch";
            view.style.backgroundColor = "lightblue";
            view.style.zIndex = "" + NODE_MAX_Z;
        };
        this.nodes = new Map();
        this.offsetX = 0;
        this.offsetY = 0;
        this.nodePositions = new Map();
        this.edgePositions = new Map();
        this.edges = new Map();
        this.ringElements = new Set();
        this.ringPositions = new Map();
        this.explanationPopups = [];
        this.interpreter = interpreter;
        if (config != undefined) {
            this.showArguments = config.showArguments;
            this.drawEdgeLines = config.drawEdgeLines;
            this.debugCornerEnabled = config.debugCornerEnabled;
        }
        this.style.clipPath = "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)";
        this.style.position = "relative";
        this.style.overflow = "hidden";
        this.addEventListener("mousedown", event => {
            this.mouseDown = true;
            this.touchDown = false;
        });
        this.addEventListener("mouseup", event => {
            this.mouseDown = false;
        });
        this.addEventListener("mouseleave", event => {
            this.mouseDown = false;
        });
        this.addEventListener("mousemove", (event) => {
            if (!this.mouseDown)
                return;
            this.offsetX += event.movementX / this.scale;
            this.offsetY += event.movementY / this.scale;
            this.updateOffset();
        });
        this.resizeObserver.observe(this);
        this.addEventListener("wheel", (event) => {
            const mousePos = Point(event.offsetX, event.offsetY);
            const scaleDelta = Math.pow(0.8, event.deltaY / 360);
            this.scale = scaleDelta * this.scale;
            this.updateOffset();
            return true;
        });
        this.gestureRecognizer = new TouchGestureRecognizer_1.TouchGestureRecognizer();
        this.addEventListener("touchdown", this.gestureRecognizer.processTouchDown);
        this.addEventListener("touchend", this.gestureRecognizer.processTouchEnd);
        this.addEventListener("touchcancel", this.gestureRecognizer.processTouchCancel);
        this.addEventListener("touchmove", this.gestureRecognizer.processTouchMove);
        this.gestureRecognizer.addPinchListener((center, scaleDelta, fingers) => {
        });
        this.setGraph(graph, roots);
        this.repOk();
    }
    setGraph(graph, roots) {
        this.graph = graph;
        this.rootNodes = new Set(roots);
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    /**
     * Set a function that determines the color of a node.
     * @param colorFn
     */
    setNodeColoringScheme(colorFn) {
        this.nodeColorFn = colorFn;
        this.propogateSettingsToNodes();
    }
    propogateSettingsToNodes() {
        this.nodes.forEach((view, node) => {
            view.backgroundColor = this.nodeColorFn(node);
        });
    }
    /**
     * Sets if the view should show argument nodes as nodes.
     * False by default.
     * @param val
     */
    setShowArguments(val) {
        this.showArguments = true;
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    get center() {
        return {
            x: this.offsetWidth / 2,
            y: this.offsetHeight / 2,
        };
    }
    /**
     * Follows the showArgument setting.
     * Populates this.nodes, this.edges,
     * adds the created views to the shadow dom
     * to match the graph.
     * Removes any pre-existing elements from the shadow dom.
     */
    readGraph() {
        // Clear existing
        this.nodes.forEach((view, node) => {
            this.removeChild(view);
        });
        this.nodes.clear();
        this.edges.forEach((view, edge) => {
            this.removeChild(view);
        });
        this.edges.clear();
        // Fetch nodes
        this.graph.getNodes().forEach(node => {
            if (node instanceof Expression_1.Expression) {
                const view = new ExpressionNodeView_1.ExpressionNodeView(node, this.baseNodeStyle);
                view.style.position = "absolute";
                this.nodes.set(node, view);
                this.append(view);
            }
            else if (node instanceof Argument_1.Argument) {
                if (!this.showArguments)
                    return;
                const view = new ArgumentNodeView_1.ArgumentNodeView(node, this.baseNodeStyle);
                view.style.position = "absolute";
                this.nodes.set(node, view);
                this.append(view);
            }
            else
                throw new Error("Graph contains node WebGraphView can't process.");
        });
        // Fetch edges
        GraphMinipulator_1.GraphMinipulator.dropSymmetric(this.graph.getEdges()).filter(edge => {
            // Only consider edges for which we have both endpoints on the view
            return this.nodes.has(edge.n) && this.nodes.has(edge.n1);
        }).forEach(edge => {
            const view = new EdgeView_1.EdgeView(this, edge);
            view.style.position = "absolute";
            this.edges.set(edge, view);
            this.append(view);
        });
        this.propogateSettingsToNodes();
        if (this.debugCornerEnabled) {
            const corner = document.createElement('p');
            corner.innerHTML = "Graph Nodes: " + this.graph.getNodes().size + "<br>"
                + "Visible Nodes: " + this.nodes.size + "<br>"
                + "Graph Edges: " + this.graph.getEdges().size + "<br>"
                + "Visible Edges: " + this.edges.size + "<br>";
            corner.style.zIndex = "100";
            corner.style.backgroundColor = "white";
            corner.style.width = "fit-content";
            corner.style.margin = "0";
            corner.style.padding = "1ch";
            corner.style.border = "black 1px solid";
            corner.style.position = "absolute";
            this.append(corner);
        }
        this.repOk();
    }
    connectedCallback() {
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    /**
     * Pick places for all the nodes/edges on the screen.
     * Populates the position* rep vars.
     */
    arrange() {
        this.nodePositions.clear();
        this.edgePositions.clear();
        this.ringPositions.clear();
        this.ringElements.forEach(e => {
            this.removeChild(e);
        });
        this.ringElements.clear();
        // Place nodes on a series of rings from the center using their depth in the graph
        const levels = GraphMinipulator_1.GraphMinipulator.getLevels(this.graph, this.rootNodes, node => {
            if (node instanceof Expression_1.Expression)
                return true;
            else if (node instanceof Argument_1.Argument)
                return this.showArguments;
            else
                throw new Error("New type of node");
        });
        let maxDepth = 0;
        levels.forEach((_, depth) => {
            maxDepth = Math.max(maxDepth, depth);
        });
        const center = { x: (this.clientWidth / 2), y: this.clientHeight / 2 };
        let lastRadius = 0; //px
        // Record the positions of the last ring so that we can
        // make the graph appear planar-ish. Maps nodes to angle
        // offset in radians. Angle must be < 2*Pi
        let lastPositions = null;
        for (let depth = 0; depth < maxDepth + 1; depth++) {
            const nodes = levels.get(depth);
            /**
             * Calculating the radius of the circle
             * Suppose every root node on the starting circle requires
             * a circular space to be drawn with radius nodeRadius
             * A starting circle with n of these nodes would require a
             * circumference of n * 2nodeRadius.
             * The circumference of a circle can be expressed
             * as 2*pi*r
             * => r = n * 2 * smallR / (2 * pi)
             *      = n * smallR / pi
             */
            const nodeRadius = 70; // pixels
            let radius = Math.max(nodes.size * nodeRadius / Math.PI, lastRadius + (3 * nodeRadius));
            if (depth == 0 && nodes.size == 1)
                radius = 0;
            lastRadius = radius;
            // Minimum radians necessary to keep nodes necessarily spaced at the given depth
            const stepSize = (2 * Math.PI) / Math.max(nodes.size, radius * 2 * Math.PI / (2 * 1.2 * nodeRadius));
            // Maps nodes to angles (rad)
            const ns = new Map();
            if (lastPositions != null) {
                const idealAngles = new Map();
                for (const n of nodes) {
                    // We do not assume the graph is a tree
                    // Assume the node has a parent
                    const parent = this.graph.getNeighbors(n, "in")
                        .filter(n => levels.get(depth - 1).has(n) && lastPositions.has(n))[0];
                    const idealAngle = lastPositions.get(parent);
                    idealAngles.set(n, idealAngle);
                }
                (0, assert_1.assert)(idealAngles.size == nodes.size);
                for (let i = 0; i < nodes.size; i++) {
                    for (const pair of idealAngles) {
                        let a = 0;
                        while ((0, assert_1.for_some)(ns, p => Math.abs(p[1] - pair[1]) < stepSize)) {
                            pair[1] += stepSize * a * (Math.pow((-1), (a)));
                            a++;
                        }
                        ns.set(pair[0], pair[1]);
                    }
                }
            }
            else {
                const temp = [...nodes];
                for (let i = 0; i < nodes.size; i++) {
                    ns.set(temp[i], i * stepSize);
                }
            }
            (0, assert_1.assert)(ns.size == nodes.size, "Only produced " + ns.size + " nodes instead of " + nodes.size);
            lastPositions = new Map();
            ns.forEach((angle, node) => {
                const view = this.nodes.get(node);
                //view.style.width = "" + smallR + "px"
                //view.style.height = "" + smallR + "px"
                lastPositions.set(node, angle);
                // Get the cartesian point from the radius and angle
                const x = radius * Math.cos(angle) + center.x;
                const y = radius * Math.sin(angle) + center.y;
                this.nodePositions.set(view, Point(x, y));
            });
            (0, assert_1.assert)((0, assert_1.for_all)(lastPositions.values(), pos => pos != undefined && pos != null));
            //assert(lastPositions.size > 0)
            //assert(for_all(nodes, lastPositions.has))
            const ring = document.createElement("div");
            ring.style.border = "lightgray solid 0.3ch";
            ring.style.borderRadius = "100%";
            ring.style.position = "absolute";
            ring.style.zIndex = RING_Z;
            this.appendChild(ring);
            this.ringElements.add(ring);
            this.ringPositions.set(ring, { radius: radius });
        }
        // Now arange the edges
        this.edges.forEach((view, edge) => {
            // Find the middle of the two endpts
            const firstX = this.nodePositions.get(this.nodes.get(edge.n)).x;
            const firstY = this.nodePositions.get(this.nodes.get(edge.n)).y;
            const secondX = this.nodePositions.get(this.nodes.get(edge.n1)).x;
            const secondY = this.nodePositions.get(this.nodes.get(edge.n1)).y;
            const x = (firstX + secondX) / 2;
            const y = (firstY + secondY) / 2;
            const angle = Math.atan2(secondY - firstY, secondX - firstX);
            this.edgePositions.set(view, { x: x, y: y, angle: angle });
        });
        this.repOk();
    }
    /**
     * Update the draw position of the nodes on the screen
     * to match the offset in rep. Assumes all views have a position
     * stored in the rep. Call arrange() first.
     * Also applies the scale factor to the final draw positions,
     * invisible to everyone else.
     */
    updateOffset() {
        const center = this.center;
        const scale = this.scale;
        function applyScale(i) {
            return Point(((i.x) - center.x) * scale + center.x, ((i.y) - center.y) * scale + center.y);
        }
        this.nodePositions.forEach((pos, view) => {
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY,
            });
            view.style.left = "" + (adjusted.x - (0.5 * view.offsetWidth)) + "px";
            view.style.top = "" + (adjusted.y - (0.5 * view.offsetHeight)) + "px";
        });
        this.edgePositions.forEach((pos, view) => {
            view.setAngle(pos.angle);
            if (this.drawEdgeLines) {
                const firstPos = this.nodePositions.get(this.nodes.get(view.first));
                const secondPos = this.nodePositions.get(this.nodes.get(view.second));
                view.width = "" + (scale * Math.hypot(secondPos.x - firstPos.x, secondPos.y - firstPos.y)) + "px";
                view.style.borderBottom = "black 0.1ch solid";
                view.style.borderTop = "black 0.1ch solid";
            }
            else {
                view.width = "fit-content";
                view.style.borderBottom = "none";
                view.style.borderTop = "none";
            }
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY,
            });
            view.style.left = "" + (adjusted.x - (0.5 * view.offsetWidth)) + "px";
            view.style.top = "" + (adjusted.y - (0.5 * view.offsetHeight)) + "px";
        });
        // Overlay elements change size with scale
        this.ringPositions.forEach((pos, view) => {
            const adjustedCenterPos = applyScale({
                x: center.x + this.offsetX,
                y: center.y + this.offsetY,
            });
            view.style.left = "" + (adjustedCenterPos.x - (pos.radius * scale)) + "px";
            view.style.top = "" + (adjustedCenterPos.y - (pos.radius * scale)) + "px";
            view.style.width = "" + pos.radius * 2 * scale + "px";
            view.style.aspectRatio = "1";
        });
        this.explanationPopups.forEach(val => {
            const view = val.e;
            const pos = val.pos;
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY,
            });
            view.style.left = "" + (adjusted.x - (0.5 * view.offsetWidth)) + "px";
            view.style.top = "" + (adjusted.y - (0.5 * view.offsetHeight)) + "px";
        });
        this.repOk();
    }
    /**
     * Map from relative screen coordinates (where tl of this view is (0,0))
     * to the internal coordinate system we're using.
     */
    getInternalPos(pixelPos) {
        const center = this.center;
        const scale = this.scale;
        return Point((pixelPos.x - center.x) / scale + center.x - this.offsetX, (pixelPos.y - center.y) / scale + center.y - this.offsetY);
    }
    /**
     * React to an edge being clicked.
     * @param view In this view
     * @param event The click event
     */
    edgeClicked(view, event) {
        // TODO: Don't allow dupliate explanation popups
        if (view.edge instanceof Argument_1.Argument) {
            const popup = new ExplanationPopup_1.ExplanationPopup(view.edge, () => {
                this.removeChild(popup);
                for (let i = 0; i < this.explanationPopups.length; i++) {
                    if (this.explanationPopups[i].e === popup) {
                        this.explanationPopups.splice(i, 1);
                        break;
                    }
                }
            });
            const rect = this.getBoundingClientRect();
            const realtiveX = event.clientX - rect.left;
            const relativeY = event.clientY - rect.top;
            //TODO: The position isn't correct
            //TODO: Algorithm for picking where we should put the popup so it stays out
            // of the way of the graph
            this.explanationPopups.push({
                e: popup,
                pos: this.getInternalPos(Point(realtiveX, relativeY)),
            });
            popup.style.position = "absolute";
            this.append(popup);
            this.updateOffset();
        }
        this.reorderViewStack(view);
        this.repOk();
    }
    /**
     * Set the z-index of all the elements in the graph
     * putting the given root on top and it's neighbors
     * right beneath it etc.
     * @param root
     */
    reorderViewStack(root) {
        if (root instanceof GraphNodeView_1.GraphNodeView)
            throw new Error("Not implemented");
        if (root instanceof EdgeView_1.EdgeView) {
            const roots = [root.first, root.second];
            const stackingOrder = GraphMinipulator_1.GraphMinipulator.getLevels(this.graph, roots);
            stackingOrder.forEach((nodeSet, depth) => {
                nodeSet.forEach(node => {
                    if (!this.showArguments && node instanceof Argument_1.Argument)
                        return;
                    console.log("Adjusting");
                    const nodeView = this.nodes.get(node);
                    nodeView.style.zIndex = (NODE_MAX_Z - 0.0001 * depth).toString();
                    // Edges
                    this.edges.forEach((edge, key) => {
                        if (edge.first === node || edge.second === node) {
                            edge.style.zIndex = (EDGE_MAX_Z - 0.0001 * depth).toString();
                        }
                    });
                });
            });
        }
    }
    repOk() {
        (0, assert_1.assert)(this.rootNodes.size > 0);
        (0, assert_1.assert)(GraphMinipulator_1.GraphMinipulator.isConnected(this.graph), "Graph not connected");
        if (this.showArguments)
            (0, assert_1.assert)(this.graph.getNodes().size == this.nodes.size);
    }
}
exports.WebGraphView = WebGraphView;
customElements.define("web-graphview", WebGraphView, { extends: "div" });
function Point(x, y, angle = undefined) {
    if (angle == undefined)
        return {
            x: x,
            y: y,
        };
    return {
        x: x,
        y: y,
        angle: angle,
    };
}
// Z Index constants
const DEBUG_WINDOW_Z = "100";
const NODE_MAX_Z = 5;
const NODE_MIN_Z = "4.000001";
const EDGE_MAX_Z = 4;
const EDGE_MIN_Z = "3.000001";
const RING_Z = "-10";


/***/ }),

/***/ "./src/mathlib/userinput/AntlrMathParser.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/AntlrMathParser.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parseExpression = void 0;
const antlr4_1 = __importDefault(__webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs"));
const { CommonTokenStream, CharStream } = antlr4_1.default;
const arithmeticLexer_1 = __importDefault(__webpack_require__(/*! ./arithmeticLexer */ "./src/mathlib/userinput/arithmeticLexer.ts"));
const arithmeticParser_1 = __importDefault(__webpack_require__(/*! ./arithmeticParser */ "./src/mathlib/userinput/arithmeticParser.ts"));
const MathVisitorImpl_1 = __webpack_require__(/*! ./MathVisitorImpl */ "./src/mathlib/userinput/MathVisitorImpl.ts");
const Flattener_1 = __webpack_require__(/*! ./Flattener */ "./src/mathlib/userinput/Flattener.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Parses the given input string to an expression.
 * @param input See the gramar file (.g4)
 * @returns
 */
function parseExpression(input) {
    const stream = new CharStream(input, true);
    const lexer = new arithmeticLexer_1.default(stream);
    const tokens = new CommonTokenStream(lexer);
    const parser = new arithmeticParser_1.default(tokens);
    //parser.buildParseTrees = true
    const tree = parser.expression();
    tree.accept(new Flattener_1.Flattener());
    // Print debug info
    //tree.accept(new PrintVisitor())
    const result = tree.accept(new MathVisitorImpl_1.ExpressionVisitor());
    (0, assert_1.assert)(result != null && result != undefined);
    return result;
}
exports.parseExpression = parseExpression;


/***/ }),

/***/ "./src/mathlib/userinput/Flattener.ts":
/*!********************************************!*\
  !*** ./src/mathlib/userinput/Flattener.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Flattener = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const arithmeticParser_1 = __webpack_require__(/*! ./arithmeticParser */ "./src/mathlib/userinput/arithmeticParser.ts");
const arithmeticVisitor_1 = __importDefault(__webpack_require__(/*! ./arithmeticVisitor */ "./src/mathlib/userinput/arithmeticVisitor.ts"));
/**
 * Visitor that flattens sums and products in ASTs.
 * a + (b + c) -> a + b + c
 *
 * This only happens if b + c isn't actually surrounded
 * by parens.
 *
 *        +
 *       / \
 *      a   +
 *         / \
 *        b   c
 *
 * becomes
 *
 *       +
 *      /|\
 *     a b c
 *
 *
 */
class Flattener extends arithmeticVisitor_1.default {
    constructor() {
        super(...arguments);
        this.visitSum = (ctx) => {
            const flattened = this.flattenAddition(ctx);
            for (const child of flattened.children) {
                this.visit(child);
            }
            return flattened;
        };
        this.visitProduct = (ctx) => {
            const flattened = this.flattenProduct(ctx);
            for (const child of flattened.children) {
                this.visit(child);
            }
            return flattened;
        };
    }
    printChildren(ctx) {
        let result = "";
        for (const child of ctx.children) {
            result += child.getText() + "  ";
        }
        console.log(result);
        //console.log(ctx.toStringTree(null, ctx.parser!))
    }
    /**
     * If the given sum's children are also sums,
     * sets those sums parents to the ctx.
     * The given sumcontext and all its sum children
     * must have exactly 2 expression part children.
     * This prevents the mind fuck of rearranging the
     * AST on the way back out.
     */
    flattenAddition(ctx) {
        // Check if children are sums
        // Reach down and take their children
        function takeChildren(child) {
            (0, ConvenientExpressions_1.remove)(ctx.children, child);
            // Move the expression up
            if (child._right instanceof arithmeticParser_1.SumContext) {
                takeChildren(child._right);
            }
            else {
                child._right.parentCtx = ctx;
                ctx.children.unshift(child._right);
            }
            // TODO: This isn't always correct because negation of sums
            // Or is is...
            // Also look at product flattening
            // Move the operator up
            if (child.MINUS() != null) {
                child.MINUS().parentCtx = ctx;
                ctx.children.unshift(child.MINUS());
                //remove(child.children!, child.MINUS())
            }
            else {
                child.PLUS().parentCtx = ctx;
                ctx.children.unshift(child.PLUS());
                //remove(child.children!, child.PLUS())
            }
            if (child._left instanceof arithmeticParser_1.SumContext) {
                takeChildren(child._left);
            }
            else {
                child._left.parentCtx = ctx;
                ctx.children.unshift(child._left);
            }
            child.parentCtx = undefined;
        }
        if (ctx._left instanceof arithmeticParser_1.SumContext)
            takeChildren(ctx._left);
        if (ctx._right instanceof arithmeticParser_1.SumContext)
            takeChildren(ctx._right);
        return ctx;
    }
    flattenProduct(ctx) {
        //console.log("Flattening product " + ctx.getText() + " to")
        function instanceOfProduct(child) {
            return child instanceof arithmeticParser_1.ProductContext;
        }
        // Check if children are sums
        // Reach down and take their children
        function takeChildren(child) {
            (0, ConvenientExpressions_1.remove)(ctx.children, child);
            if (instanceOfProduct(child._right)) {
                takeChildren(child._right);
            }
            else {
                child._right.parentCtx = ctx;
                ctx.children.unshift(child._right);
            }
            // Move the operator up
            if (child.TIMES() != null) {
                child.TIMES().parentCtx = ctx;
                ctx.children.unshift(child.TIMES());
            }
            if (instanceOfProduct(child._left)) {
                takeChildren(child._left);
            }
            else {
                child._left.parentCtx = ctx;
                ctx.children.unshift(child._left);
            }
            child.parentCtx = undefined;
        }
        if (instanceOfProduct(ctx._left))
            takeChildren(ctx._left);
        if (instanceOfProduct(ctx._right))
            takeChildren(ctx._right);
        //console.log(ctx.getText())
        return ctx;
    }
}
exports.Flattener = Flattener;


/***/ }),

/***/ "./src/mathlib/userinput/MathVisitorImpl.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/MathVisitorImpl.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionVisitor = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Integral_1 = __webpack_require__(/*! ../expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Logarithm_1 = __webpack_require__(/*! ../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ../expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const arithmeticVisitor_1 = __importDefault(__webpack_require__(/*! ./arithmeticVisitor */ "./src/mathlib/userinput/arithmeticVisitor.ts"));
/**
 * Reads out an expression.
 */
class ExpressionVisitor extends arithmeticVisitor_1.default {
    constructor() {
        super(...arguments);
        this.visitExpression = (ctx) => {
            return this.visit(ctx.open());
        };
        this.visitEquation = (ctx) => {
            throw new Error("Can't parse equations with this visitor");
        };
        this.visitPower = (ctx) => {
            //console.log("Power")
            //this.printChildren(ctx)
            //console.log(ctx._left.getText())
            //console.log(ctx._right.getText())
            return Exponent_1.Exponent.of(this.visit(ctx._left), this.visit(ctx._right));
        };
        this.visitParen = (ctx) => {
            return this.visit(ctx.open());
        };
        this.visitDivision = (ctx) => {
            return Fraction_1.Fraction.of(this.visit(ctx._left), this.visit(ctx._right));
        };
        this.visitProduct = (ctx) => {
            return Product_1.Product.of([
                ...ctx.closed_list().map(exp => this.visit(exp))
            ]);
        };
        this.visitRight_ClosedImplicitProduct = (ctx) => {
            //console.log("Right closed implicit product of context")
            //this.printChildren(ctx)
            return Product_1.Product.of([
                this.visit(ctx._left),
                this.visit(ctx._right)
            ]);
        };
        this.visitIntegral = (ctx) => {
            return Integral_1.Integral.of(this.visit(ctx._integrand), Variable_1.Variable.of('x'));
        };
        this.visitLog = (ctx) => {
            return Logarithm_1.Logarithm.of(this.visit(ctx._content), ctx._base == undefined ? Integer_1.Integer.of(10) : this.visit(ctx._base));
        };
        // visitUnaryOnAtom = (ctx: UnaryOnAtomContext): Expression => {
        //     const isPositive = ctx.MINUS_list.length % 2 == 0
        //     if (isPositive)
        //         return this.visit(ctx.atom())
        //     return negative(this.visit(ctx.atom()))
        // }
        this.visitUnaryOnExpression = (ctx) => {
            const isPositive = ctx.MINUS() == null;
            if (isPositive)
                return this.visit(ctx.closed());
            return (0, ConvenientExpressions_1.negative)(this.visit(ctx.closed()));
        };
        this.visitSum = (ctx) => {
            // console.log("Visiting sum with " + ctx.children!.length + " children: " + ctx.toStringTree(null, ctx.parser!))
            // this.printChildren(ctx)
            // Sum of plus and minus components
            const terms = [this.visit(ctx.children[0])];
            for (let i = 1; i < ctx.children.length; i += 2) {
                if (ctx.children[i].getText() == '-')
                    terms.push((0, ConvenientExpressions_1.negative)(this.visit(ctx.children[i + 1])));
                else {
                    terms.push(this.visit(ctx.children[i + 1]));
                }
            }
            //console.log("Printing made terms")
            for (const term of terms) {
                //console.log("  " + term.toString())
            }
            //console.log("done")
            return Sum_1.Sum.of(terms);
        };
        // visitExpression = (ctx: ExpressionContext): Expression => {
        //     // Guess what expression type it is, following pemdas
        //     if ((ctx.PLUS(0) != null || ctx.MINUS(0) != null) 
        //             && (ctx.expression_list().length ?? 0) > 1) {
        //     } else {
        //         console.log("Unknown expression type")
        //         for (const key of Object.keys(ctx)) {
        //             console.log(`${key}: ${(ctx as any)[key]}`)
        //         }
        //         for (const key of Object.getOwnPropertyNames(ctx)) {
        //             console.log(`${key}: ${(ctx as any)[key]}`)
        //         }
        //         console.log("Expressions: " + ctx.expression_list().length)
        //         console.log("Num children: " + ctx.children!.length)
        //         if (ctx.children?.length ?? 0 > 0)
        //             for (const child of ctx.children!) {
        //                 console.log("Child: " + child.getText())
        //             }
        //         throw new Error("Not implemented 1")
        //     }
        // };
        this.visitAtom = (ctx) => {
            if (ctx.VARIABLE() != null) {
                return Variable_1.Variable.of(ctx.VARIABLE().getText());
            }
            else if (ctx.SCIENTIFIC_NUMBER() != null) {
                return Integer_1.Integer.of(Number.parseFloat(ctx.SCIENTIFIC_NUMBER().getText()));
            }
            else {
                throw new Error("Not implemented");
            }
        };
        this.visitClosedAtom = (ctx) => {
            return this.visit(ctx.atom());
        };
        this.visitClosedIsRight_Closed = (ctx) => {
            return this.visit(ctx.closed());
        };
        this.visitRight_ClosedIsOpen = (ctx) => {
            return this.visit(ctx.right_closed());
        };
        this.visitRelop = (ctx) => {
            throw new Error("Shouldn't happen with this visitor impl");
        };
    }
    printChildren(ctx) {
        let result = "";
        for (const child of ctx.children) {
            result += child.getText() + "  ";
        }
        console.log(result);
    }
}
exports.ExpressionVisitor = ExpressionVisitor;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticLexer.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticLexer.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
// noinspection ES6UnusedImports,JSUnusedGlobalSymbols,JSUnusedLocalSymbols
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
class arithmeticLexer extends antlr4_1.Lexer {
    constructor(input) {
        super(input);
        this._interp = new antlr4_1.LexerATNSimulator(this, arithmeticLexer._ATN, arithmeticLexer.DecisionsToDFA, new antlr4_1.PredictionContextCache());
    }
    get grammarFileName() { return "arithmetic.g4"; }
    get literalNames() { return arithmeticLexer.literalNames; }
    get symbolicNames() { return arithmeticLexer.symbolicNames; }
    get ruleNames() { return arithmeticLexer.ruleNames; }
    get serializedATN() { return arithmeticLexer._serializedATN; }
    get channelNames() { return arithmeticLexer.channelNames; }
    get modeNames() { return arithmeticLexer.modeNames; }
    static get _ATN() {
        if (!arithmeticLexer.__ATN) {
            arithmeticLexer.__ATN = new antlr4_1.ATNDeserializer().deserialize(arithmeticLexer._serializedATN);
        }
        return arithmeticLexer.__ATN;
    }
}
arithmeticLexer.SCIENTIFIC_NUMBER = 1;
arithmeticLexer.LPAREN = 2;
arithmeticLexer.RPAREN = 3;
arithmeticLexer.PLUS = 4;
arithmeticLexer.MINUS = 5;
arithmeticLexer.TIMES = 6;
arithmeticLexer.DIV = 7;
arithmeticLexer.GT = 8;
arithmeticLexer.LT = 9;
arithmeticLexer.EQ = 10;
arithmeticLexer.POINT = 11;
arithmeticLexer.POW = 12;
arithmeticLexer.INT = 13;
arithmeticLexer.LOG = 14;
arithmeticLexer.VARIABLE = 15;
arithmeticLexer.WS = 16;
arithmeticLexer.EOF = antlr4_1.Token.EOF;
arithmeticLexer.channelNames = ["DEFAULT_TOKEN_CHANNEL", "HIDDEN"];
arithmeticLexer.literalNames = [null, null,
    "'('", "')'",
    "'+'", "'-'",
    null, "'/'",
    "'>'", "'<'",
    "'='", "'.'",
    "'^'"];
arithmeticLexer.symbolicNames = [null, "SCIENTIFIC_NUMBER",
    "LPAREN", "RPAREN",
    "PLUS", "MINUS",
    "TIMES", "DIV",
    "GT", "LT",
    "EQ", "POINT",
    "POW", "INT",
    "LOG", "VARIABLE",
    "WS"];
arithmeticLexer.modeNames = ["DEFAULT_MODE",];
arithmeticLexer.ruleNames = [
    "SCIENTIFIC_NUMBER", "NUMBER", "UNSIGNED_INTEGER", "E", "L", "O", "G",
    "SIGN", "LPAREN", "RPAREN", "PLUS", "MINUS", "TIMES", "DIV", "GT", "LT",
    "EQ", "POINT", "POW", "INT", "LOG", "VARIABLE", "WS",
];
arithmeticLexer._serializedATN = [4, 0, 16, 123, 6, -1, 2, 0,
    7, 0, 2, 1, 7, 1, 2, 2, 7, 2, 2, 3, 7, 3, 2, 4, 7, 4, 2, 5, 7, 5, 2, 6, 7, 6, 2, 7, 7, 7, 2, 8, 7, 8, 2, 9,
    7, 9, 2, 10, 7, 10, 2, 11, 7, 11, 2, 12, 7, 12, 2, 13, 7, 13, 2, 14, 7, 14, 2, 15, 7, 15, 2, 16, 7,
    16, 2, 17, 7, 17, 2, 18, 7, 18, 2, 19, 7, 19, 2, 20, 7, 20, 2, 21, 7, 21, 2, 22, 7, 22, 1, 0, 1, 0,
    1, 0, 3, 0, 51, 8, 0, 1, 0, 1, 0, 3, 0, 55, 8, 0, 1, 1, 4, 1, 58, 8, 1, 11, 1, 12, 1, 59, 1, 1, 1, 1, 4,
    1, 64, 8, 1, 11, 1, 12, 1, 65, 3, 1, 68, 8, 1, 1, 2, 4, 2, 71, 8, 2, 11, 2, 12, 2, 72, 1, 3, 1, 3, 1,
    4, 1, 4, 1, 5, 1, 5, 1, 6, 1, 6, 1, 7, 1, 7, 1, 8, 1, 8, 1, 9, 1, 9, 1, 10, 1, 10, 1, 11, 1, 11, 1, 12,
    1, 12, 1, 13, 1, 13, 1, 14, 1, 14, 1, 15, 1, 15, 1, 16, 1, 16, 1, 17, 1, 17, 1, 18, 1, 18, 1, 19, 1,
    19, 1, 19, 1, 19, 1, 20, 1, 20, 1, 20, 1, 20, 1, 21, 1, 21, 1, 22, 4, 22, 118, 8, 22, 11, 22, 12,
    22, 119, 1, 22, 1, 22, 0, 0, 23, 1, 1, 3, 0, 5, 0, 7, 0, 9, 0, 11, 0, 13, 0, 15, 0, 17, 2, 19, 3, 21,
    4, 23, 5, 25, 6, 27, 7, 29, 8, 31, 9, 33, 10, 35, 11, 37, 12, 39, 13, 41, 14, 43, 15, 45, 16, 1,
    0, 11, 2, 0, 69, 69, 101, 101, 2, 0, 76, 76, 108, 108, 2, 0, 79, 79, 111, 111, 2, 0, 71, 71, 103,
    103, 2, 0, 43, 43, 45, 45, 2, 0, 42, 42, 183, 183, 2, 0, 73, 73, 105, 105, 2, 0, 78, 78, 110, 110,
    2, 0, 84, 84, 116, 116, 2, 0, 65, 90, 97, 122, 3, 0, 9, 10, 13, 13, 32, 32, 122, 0, 1, 1, 0, 0, 0,
    0, 17, 1, 0, 0, 0, 0, 19, 1, 0, 0, 0, 0, 21, 1, 0, 0, 0, 0, 23, 1, 0, 0, 0, 0, 25, 1, 0, 0, 0, 0, 27, 1,
    0, 0, 0, 0, 29, 1, 0, 0, 0, 0, 31, 1, 0, 0, 0, 0, 33, 1, 0, 0, 0, 0, 35, 1, 0, 0, 0, 0, 37, 1, 0, 0, 0,
    0, 39, 1, 0, 0, 0, 0, 41, 1, 0, 0, 0, 0, 43, 1, 0, 0, 0, 0, 45, 1, 0, 0, 0, 1, 47, 1, 0, 0, 0, 3, 57, 1,
    0, 0, 0, 5, 70, 1, 0, 0, 0, 7, 74, 1, 0, 0, 0, 9, 76, 1, 0, 0, 0, 11, 78, 1, 0, 0, 0, 13, 80, 1, 0, 0,
    0, 15, 82, 1, 0, 0, 0, 17, 84, 1, 0, 0, 0, 19, 86, 1, 0, 0, 0, 21, 88, 1, 0, 0, 0, 23, 90, 1, 0, 0, 0,
    25, 92, 1, 0, 0, 0, 27, 94, 1, 0, 0, 0, 29, 96, 1, 0, 0, 0, 31, 98, 1, 0, 0, 0, 33, 100, 1, 0, 0, 0,
    35, 102, 1, 0, 0, 0, 37, 104, 1, 0, 0, 0, 39, 106, 1, 0, 0, 0, 41, 110, 1, 0, 0, 0, 43, 114, 1, 0,
    0, 0, 45, 117, 1, 0, 0, 0, 47, 54, 3, 3, 1, 0, 48, 50, 3, 7, 3, 0, 49, 51, 3, 15, 7, 0, 50, 49, 1, 0,
    0, 0, 50, 51, 1, 0, 0, 0, 51, 52, 1, 0, 0, 0, 52, 53, 3, 5, 2, 0, 53, 55, 1, 0, 0, 0, 54, 48, 1, 0, 0,
    0, 54, 55, 1, 0, 0, 0, 55, 2, 1, 0, 0, 0, 56, 58, 2, 48, 57, 0, 57, 56, 1, 0, 0, 0, 58, 59, 1, 0, 0,
    0, 59, 57, 1, 0, 0, 0, 59, 60, 1, 0, 0, 0, 60, 67, 1, 0, 0, 0, 61, 63, 5, 46, 0, 0, 62, 64, 2, 48, 57,
    0, 63, 62, 1, 0, 0, 0, 64, 65, 1, 0, 0, 0, 65, 63, 1, 0, 0, 0, 65, 66, 1, 0, 0, 0, 66, 68, 1, 0, 0, 0,
    67, 61, 1, 0, 0, 0, 67, 68, 1, 0, 0, 0, 68, 4, 1, 0, 0, 0, 69, 71, 2, 48, 57, 0, 70, 69, 1, 0, 0, 0,
    71, 72, 1, 0, 0, 0, 72, 70, 1, 0, 0, 0, 72, 73, 1, 0, 0, 0, 73, 6, 1, 0, 0, 0, 74, 75, 7, 0, 0, 0, 75,
    8, 1, 0, 0, 0, 76, 77, 7, 1, 0, 0, 77, 10, 1, 0, 0, 0, 78, 79, 7, 2, 0, 0, 79, 12, 1, 0, 0, 0, 80, 81,
    7, 3, 0, 0, 81, 14, 1, 0, 0, 0, 82, 83, 7, 4, 0, 0, 83, 16, 1, 0, 0, 0, 84, 85, 5, 40, 0, 0, 85, 18,
    1, 0, 0, 0, 86, 87, 5, 41, 0, 0, 87, 20, 1, 0, 0, 0, 88, 89, 5, 43, 0, 0, 89, 22, 1, 0, 0, 0, 90, 91,
    5, 45, 0, 0, 91, 24, 1, 0, 0, 0, 92, 93, 7, 5, 0, 0, 93, 26, 1, 0, 0, 0, 94, 95, 5, 47, 0, 0, 95, 28,
    1, 0, 0, 0, 96, 97, 5, 62, 0, 0, 97, 30, 1, 0, 0, 0, 98, 99, 5, 60, 0, 0, 99, 32, 1, 0, 0, 0, 100, 101,
    5, 61, 0, 0, 101, 34, 1, 0, 0, 0, 102, 103, 5, 46, 0, 0, 103, 36, 1, 0, 0, 0, 104, 105, 5, 94, 0,
    0, 105, 38, 1, 0, 0, 0, 106, 107, 7, 6, 0, 0, 107, 108, 7, 7, 0, 0, 108, 109, 7, 8, 0, 0, 109, 40,
    1, 0, 0, 0, 110, 111, 3, 9, 4, 0, 111, 112, 3, 11, 5, 0, 112, 113, 3, 13, 6, 0, 113, 42, 1, 0, 0,
    0, 114, 115, 7, 9, 0, 0, 115, 44, 1, 0, 0, 0, 116, 118, 7, 10, 0, 0, 117, 116, 1, 0, 0, 0, 118, 119,
    1, 0, 0, 0, 119, 117, 1, 0, 0, 0, 119, 120, 1, 0, 0, 0, 120, 121, 1, 0, 0, 0, 121, 122, 6, 22, 0,
    0, 122, 46, 1, 0, 0, 0, 8, 0, 50, 54, 59, 65, 67, 72, 119, 1, 6, 0, 0];
arithmeticLexer.DecisionsToDFA = arithmeticLexer._ATN.decisionToState.map((ds, index) => new antlr4_1.DFA(ds, index));
exports["default"] = arithmeticLexer;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticParser.ts":
/*!***************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticParser.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
// noinspection ES6UnusedImports,JSUnusedGlobalSymbols,JSUnusedLocalSymbols
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RelopContext = exports.AtomContext = exports.SumContext = exports.Right_ClosedIsOpenContext = exports.OpenContext = exports.Right_ClosedImplicitProductContext = exports.ClosedIsRight_ClosedContext = exports.UnaryOnExpressionContext = exports.Right_closedContext = exports.ParenContext = exports.PowerContext = exports.ClosedAtomContext = exports.DivisionContext = exports.ProductContext = exports.IntegralContext = exports.LogContext = exports.ClosedContext = exports.ExpressionContext = exports.EquationContext = void 0;
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
class arithmeticParser extends antlr4_1.Parser {
    get grammarFileName() { return "arithmetic.g4"; }
    get literalNames() { return arithmeticParser.literalNames; }
    get symbolicNames() { return arithmeticParser.symbolicNames; }
    get ruleNames() { return arithmeticParser.ruleNames; }
    get serializedATN() { return arithmeticParser._serializedATN; }
    createFailedPredicateException(predicate, message) {
        return new antlr4_1.FailedPredicateException(this, predicate, message);
    }
    constructor(input) {
        super(input);
        this._interp = new antlr4_1.ParserATNSimulator(this, arithmeticParser._ATN, arithmeticParser.DecisionsToDFA, new antlr4_1.PredictionContextCache());
    }
    // @RuleVersion(0)
    equation() {
        let localctx = new EquationContext(this, this._ctx, this.state);
        this.enterRule(localctx, 0, arithmeticParser.RULE_equation);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 14;
                this.expression();
                this.state = 15;
                this.relop();
                this.state = 16;
                this.expression();
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    expression() {
        let localctx = new ExpressionContext(this, this._ctx, this.state);
        this.enterRule(localctx, 2, arithmeticParser.RULE_expression);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 18;
                this.open(0);
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    closed(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new ClosedContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 4;
        this.enterRecursionRule(localctx, 4, arithmeticParser.RULE_closed, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 33;
                this._errHandler.sync(this);
                switch (this._input.LA(1)) {
                    case 2:
                        {
                            localctx = new ParenContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 21;
                            this.match(arithmeticParser.LPAREN);
                            this.state = 22;
                            this.open(0);
                            this.state = 23;
                            this.match(arithmeticParser.RPAREN);
                        }
                        break;
                    case 1:
                    case 15:
                        {
                            localctx = new ClosedAtomContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 25;
                            this.atom();
                        }
                        break;
                    case 13:
                        {
                            localctx = new IntegralContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 26;
                            this.match(arithmeticParser.INT);
                            this.state = 27;
                            localctx._integrand = this.closed(5);
                        }
                        break;
                    case 14:
                        {
                            localctx = new LogContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 28;
                            this.match(arithmeticParser.LOG);
                            this.state = 30;
                            this._errHandler.sync(this);
                            switch (this._interp.adaptivePredict(this._input, 0, this._ctx)) {
                                case 1:
                                    {
                                        this.state = 29;
                                        localctx._base = this.closed(0);
                                    }
                                    break;
                            }
                            this.state = 32;
                            localctx._content = this.closed(1);
                        }
                        break;
                    default:
                        throw new antlr4_1.NoViableAltException(this);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 48;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 4, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            this.state = 46;
                            this._errHandler.sync(this);
                            switch (this._interp.adaptivePredict(this._input, 3, this._ctx)) {
                                case 1:
                                    {
                                        localctx = new DivisionContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left = _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 35;
                                        if (!(this.precpred(this._ctx, 4))) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 4)");
                                        }
                                        this.state = 36;
                                        this.match(arithmeticParser.DIV);
                                        this.state = 37;
                                        localctx._right = this.closed(5);
                                    }
                                    break;
                                case 2:
                                    {
                                        localctx = new PowerContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left = _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 38;
                                        if (!(this.precpred(this._ctx, 3))) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 3)");
                                        }
                                        this.state = 39;
                                        this.match(arithmeticParser.POW);
                                        this.state = 40;
                                        localctx._right = this.closed(4);
                                    }
                                    break;
                                case 3:
                                    {
                                        localctx = new ProductContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left = _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 41;
                                        if (!(this.precpred(this._ctx, 2))) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 2)");
                                        }
                                        this.state = 43;
                                        this._errHandler.sync(this);
                                        _la = this._input.LA(1);
                                        if (_la === 6) {
                                            {
                                                this.state = 42;
                                                this.match(arithmeticParser.TIMES);
                                            }
                                        }
                                        this.state = 45;
                                        localctx._right = this.closed(3);
                                    }
                                    break;
                            }
                        }
                    }
                    this.state = 50;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 4, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    right_closed(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new Right_closedContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 6;
        this.enterRecursionRule(localctx, 6, arithmeticParser.RULE_right_closed, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 55;
                this._errHandler.sync(this);
                switch (this._input.LA(1)) {
                    case 1:
                    case 2:
                    case 13:
                    case 14:
                    case 15:
                        {
                            localctx = new ClosedIsRight_ClosedContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 52;
                            this.closed(0);
                        }
                        break;
                    case 4:
                    case 5:
                        {
                            localctx = new UnaryOnExpressionContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 53;
                            _la = this._input.LA(1);
                            if (!(_la === 4 || _la === 5)) {
                                this._errHandler.recoverInline(this);
                            }
                            else {
                                this._errHandler.reportMatch(this);
                                this.consume();
                            }
                            this.state = 54;
                            this.closed(0);
                        }
                        break;
                    default:
                        throw new antlr4_1.NoViableAltException(this);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 61;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 6, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            {
                                localctx = new Right_ClosedImplicitProductContext(this, new Right_closedContext(this, _parentctx, _parentState));
                                localctx._left = _prevctx;
                                this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_right_closed);
                                this.state = 57;
                                if (!(this.precpred(this._ctx, 1))) {
                                    throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");
                                }
                                this.state = 58;
                                localctx._right = this.closed(0);
                            }
                        }
                    }
                    this.state = 63;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 6, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    open(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new OpenContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 8;
        this.enterRecursionRule(localctx, 8, arithmeticParser.RULE_open, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                {
                    localctx = new Right_ClosedIsOpenContext(this, localctx);
                    this._ctx = localctx;
                    _prevctx = localctx;
                    this.state = 65;
                    this.right_closed(0);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 72;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 7, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            {
                                localctx = new SumContext(this, new OpenContext(this, _parentctx, _parentState));
                                localctx._left = _prevctx;
                                this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_open);
                                this.state = 67;
                                if (!(this.precpred(this._ctx, 1))) {
                                    throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");
                                }
                                this.state = 68;
                                _la = this._input.LA(1);
                                if (!(_la === 4 || _la === 5)) {
                                    this._errHandler.recoverInline(this);
                                }
                                else {
                                    this._errHandler.reportMatch(this);
                                    this.consume();
                                }
                                this.state = 69;
                                localctx._right = this.right_closed(0);
                            }
                        }
                    }
                    this.state = 74;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 7, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    atom() {
        let localctx = new AtomContext(this, this._ctx, this.state);
        this.enterRule(localctx, 10, arithmeticParser.RULE_atom);
        let _la;
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 75;
                _la = this._input.LA(1);
                if (!(_la === 1 || _la === 15)) {
                    this._errHandler.recoverInline(this);
                }
                else {
                    this._errHandler.reportMatch(this);
                    this.consume();
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    relop() {
        let localctx = new RelopContext(this, this._ctx, this.state);
        this.enterRule(localctx, 12, arithmeticParser.RULE_relop);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 77;
                this.match(arithmeticParser.EQ);
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    sempred(localctx, ruleIndex, predIndex) {
        switch (ruleIndex) {
            case 2:
                return this.closed_sempred(localctx, predIndex);
            case 3:
                return this.right_closed_sempred(localctx, predIndex);
            case 4:
                return this.open_sempred(localctx, predIndex);
        }
        return true;
    }
    closed_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 0:
                return this.precpred(this._ctx, 4);
            case 1:
                return this.precpred(this._ctx, 3);
            case 2:
                return this.precpred(this._ctx, 2);
        }
        return true;
    }
    right_closed_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 3:
                return this.precpred(this._ctx, 1);
        }
        return true;
    }
    open_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 4:
                return this.precpred(this._ctx, 1);
        }
        return true;
    }
    static get _ATN() {
        if (!arithmeticParser.__ATN) {
            arithmeticParser.__ATN = new antlr4_1.ATNDeserializer().deserialize(arithmeticParser._serializedATN);
        }
        return arithmeticParser.__ATN;
    }
}
arithmeticParser.SCIENTIFIC_NUMBER = 1;
arithmeticParser.LPAREN = 2;
arithmeticParser.RPAREN = 3;
arithmeticParser.PLUS = 4;
arithmeticParser.MINUS = 5;
arithmeticParser.TIMES = 6;
arithmeticParser.DIV = 7;
arithmeticParser.GT = 8;
arithmeticParser.LT = 9;
arithmeticParser.EQ = 10;
arithmeticParser.POINT = 11;
arithmeticParser.POW = 12;
arithmeticParser.INT = 13;
arithmeticParser.LOG = 14;
arithmeticParser.VARIABLE = 15;
arithmeticParser.WS = 16;
arithmeticParser.EOF = antlr4_1.Token.EOF;
arithmeticParser.RULE_equation = 0;
arithmeticParser.RULE_expression = 1;
arithmeticParser.RULE_closed = 2;
arithmeticParser.RULE_right_closed = 3;
arithmeticParser.RULE_open = 4;
arithmeticParser.RULE_atom = 5;
arithmeticParser.RULE_relop = 6;
arithmeticParser.literalNames = [null, null,
    "'('", "')'",
    "'+'", "'-'",
    null, "'/'",
    "'>'", "'<'",
    "'='", "'.'",
    "'^'"];
arithmeticParser.symbolicNames = [null, "SCIENTIFIC_NUMBER",
    "LPAREN", "RPAREN",
    "PLUS", "MINUS",
    "TIMES", "DIV",
    "GT", "LT",
    "EQ", "POINT",
    "POW", "INT",
    "LOG", "VARIABLE",
    "WS"];
// tslint:disable:no-trailing-whitespace
arithmeticParser.ruleNames = [
    "equation", "expression", "closed", "right_closed", "open", "atom", "relop",
];
arithmeticParser._serializedATN = [4, 1, 16, 80, 2, 0, 7, 0, 2,
    1, 7, 1, 2, 2, 7, 2, 2, 3, 7, 3, 2, 4, 7, 4, 2, 5, 7, 5, 2, 6, 7, 6, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1,
    2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 3, 2, 31, 8, 2, 1, 2, 3, 2, 34, 8, 2, 1, 2, 1, 2,
    1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 3, 2, 44, 8, 2, 1, 2, 5, 2, 47, 8, 2, 10, 2, 12, 2, 50, 9, 2, 1, 3,
    1, 3, 1, 3, 1, 3, 3, 3, 56, 8, 3, 1, 3, 1, 3, 5, 3, 60, 8, 3, 10, 3, 12, 3, 63, 9, 3, 1, 4, 1, 4, 1, 4,
    1, 4, 1, 4, 1, 4, 5, 4, 71, 8, 4, 10, 4, 12, 4, 74, 9, 4, 1, 5, 1, 5, 1, 6, 1, 6, 1, 6, 0, 3, 4, 6, 8, 7,
    0, 2, 4, 6, 8, 10, 12, 0, 2, 1, 0, 4, 5, 2, 0, 1, 1, 15, 15, 83, 0, 14, 1, 0, 0, 0, 2, 18, 1, 0, 0, 0,
    4, 33, 1, 0, 0, 0, 6, 55, 1, 0, 0, 0, 8, 64, 1, 0, 0, 0, 10, 75, 1, 0, 0, 0, 12, 77, 1, 0, 0, 0, 14, 15,
    3, 2, 1, 0, 15, 16, 3, 12, 6, 0, 16, 17, 3, 2, 1, 0, 17, 1, 1, 0, 0, 0, 18, 19, 3, 8, 4, 0, 19, 3, 1,
    0, 0, 0, 20, 21, 6, 2, -1, 0, 21, 22, 5, 2, 0, 0, 22, 23, 3, 8, 4, 0, 23, 24, 5, 3, 0, 0, 24, 34, 1,
    0, 0, 0, 25, 34, 3, 10, 5, 0, 26, 27, 5, 13, 0, 0, 27, 34, 3, 4, 2, 5, 28, 30, 5, 14, 0, 0, 29, 31,
    3, 4, 2, 0, 30, 29, 1, 0, 0, 0, 30, 31, 1, 0, 0, 0, 31, 32, 1, 0, 0, 0, 32, 34, 3, 4, 2, 1, 33, 20, 1,
    0, 0, 0, 33, 25, 1, 0, 0, 0, 33, 26, 1, 0, 0, 0, 33, 28, 1, 0, 0, 0, 34, 48, 1, 0, 0, 0, 35, 36, 10,
    4, 0, 0, 36, 37, 5, 7, 0, 0, 37, 47, 3, 4, 2, 5, 38, 39, 10, 3, 0, 0, 39, 40, 5, 12, 0, 0, 40, 47, 3,
    4, 2, 4, 41, 43, 10, 2, 0, 0, 42, 44, 5, 6, 0, 0, 43, 42, 1, 0, 0, 0, 43, 44, 1, 0, 0, 0, 44, 45, 1,
    0, 0, 0, 45, 47, 3, 4, 2, 3, 46, 35, 1, 0, 0, 0, 46, 38, 1, 0, 0, 0, 46, 41, 1, 0, 0, 0, 47, 50, 1, 0,
    0, 0, 48, 46, 1, 0, 0, 0, 48, 49, 1, 0, 0, 0, 49, 5, 1, 0, 0, 0, 50, 48, 1, 0, 0, 0, 51, 52, 6, 3, -1,
    0, 52, 56, 3, 4, 2, 0, 53, 54, 7, 0, 0, 0, 54, 56, 3, 4, 2, 0, 55, 51, 1, 0, 0, 0, 55, 53, 1, 0, 0, 0,
    56, 61, 1, 0, 0, 0, 57, 58, 10, 1, 0, 0, 58, 60, 3, 4, 2, 0, 59, 57, 1, 0, 0, 0, 60, 63, 1, 0, 0, 0,
    61, 59, 1, 0, 0, 0, 61, 62, 1, 0, 0, 0, 62, 7, 1, 0, 0, 0, 63, 61, 1, 0, 0, 0, 64, 65, 6, 4, -1, 0, 65,
    66, 3, 6, 3, 0, 66, 72, 1, 0, 0, 0, 67, 68, 10, 1, 0, 0, 68, 69, 7, 0, 0, 0, 69, 71, 3, 6, 3, 0, 70,
    67, 1, 0, 0, 0, 71, 74, 1, 0, 0, 0, 72, 70, 1, 0, 0, 0, 72, 73, 1, 0, 0, 0, 73, 9, 1, 0, 0, 0, 74, 72,
    1, 0, 0, 0, 75, 76, 7, 1, 0, 0, 76, 11, 1, 0, 0, 0, 77, 78, 5, 10, 0, 0, 78, 13, 1, 0, 0, 0, 8, 30, 33,
    43, 46, 48, 55, 61, 72];
arithmeticParser.DecisionsToDFA = arithmeticParser._ATN.decisionToState.map((ds, index) => new antlr4_1.DFA(ds, index));
exports["default"] = arithmeticParser;
class EquationContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    expression_list() {
        return this.getTypedRuleContexts(ExpressionContext);
    }
    expression(i) {
        return this.getTypedRuleContext(ExpressionContext, i);
    }
    relop() {
        return this.getTypedRuleContext(RelopContext, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_equation;
    }
    enterRule(listener) {
        if (listener.enterEquation) {
            listener.enterEquation(this);
        }
    }
    exitRule(listener) {
        if (listener.exitEquation) {
            listener.exitEquation(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitEquation) {
            return visitor.visitEquation(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.EquationContext = EquationContext;
class ExpressionContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_expression;
    }
    enterRule(listener) {
        if (listener.enterExpression) {
            listener.enterExpression(this);
        }
    }
    exitRule(listener) {
        if (listener.exitExpression) {
            listener.exitExpression(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitExpression) {
            return visitor.visitExpression(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ExpressionContext = ExpressionContext;
class ClosedContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_closed;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.ClosedContext = ClosedContext;
class LogContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    LOG() {
        return this.getToken(arithmeticParser.LOG, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterLog) {
            listener.enterLog(this);
        }
    }
    exitRule(listener) {
        if (listener.exitLog) {
            listener.exitLog(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitLog) {
            return visitor.visitLog(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.LogContext = LogContext;
class IntegralContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    INT() {
        return this.getToken(arithmeticParser.INT, 0);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterIntegral) {
            listener.enterIntegral(this);
        }
    }
    exitRule(listener) {
        if (listener.exitIntegral) {
            listener.exitIntegral(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitIntegral) {
            return visitor.visitIntegral(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.IntegralContext = IntegralContext;
class ProductContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    TIMES() {
        return this.getToken(arithmeticParser.TIMES, 0);
    }
    enterRule(listener) {
        if (listener.enterProduct) {
            listener.enterProduct(this);
        }
    }
    exitRule(listener) {
        if (listener.exitProduct) {
            listener.exitProduct(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitProduct) {
            return visitor.visitProduct(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ProductContext = ProductContext;
class DivisionContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    DIV() {
        return this.getToken(arithmeticParser.DIV, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterDivision) {
            listener.enterDivision(this);
        }
    }
    exitRule(listener) {
        if (listener.exitDivision) {
            listener.exitDivision(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitDivision) {
            return visitor.visitDivision(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.DivisionContext = DivisionContext;
class ClosedAtomContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    atom() {
        return this.getTypedRuleContext(AtomContext, 0);
    }
    enterRule(listener) {
        if (listener.enterClosedAtom) {
            listener.enterClosedAtom(this);
        }
    }
    exitRule(listener) {
        if (listener.exitClosedAtom) {
            listener.exitClosedAtom(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitClosedAtom) {
            return visitor.visitClosedAtom(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ClosedAtomContext = ClosedAtomContext;
class PowerContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    POW() {
        return this.getToken(arithmeticParser.POW, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterPower) {
            listener.enterPower(this);
        }
    }
    exitRule(listener) {
        if (listener.exitPower) {
            listener.exitPower(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitPower) {
            return visitor.visitPower(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.PowerContext = PowerContext;
class ParenContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    LPAREN() {
        return this.getToken(arithmeticParser.LPAREN, 0);
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    RPAREN() {
        return this.getToken(arithmeticParser.RPAREN, 0);
    }
    enterRule(listener) {
        if (listener.enterParen) {
            listener.enterParen(this);
        }
    }
    exitRule(listener) {
        if (listener.exitParen) {
            listener.exitParen(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitParen) {
            return visitor.visitParen(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ParenContext = ParenContext;
class Right_closedContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_right_closed;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.Right_closedContext = Right_closedContext;
class UnaryOnExpressionContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    PLUS() {
        return this.getToken(arithmeticParser.PLUS, 0);
    }
    MINUS() {
        return this.getToken(arithmeticParser.MINUS, 0);
    }
    enterRule(listener) {
        if (listener.enterUnaryOnExpression) {
            listener.enterUnaryOnExpression(this);
        }
    }
    exitRule(listener) {
        if (listener.exitUnaryOnExpression) {
            listener.exitUnaryOnExpression(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitUnaryOnExpression) {
            return visitor.visitUnaryOnExpression(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.UnaryOnExpressionContext = UnaryOnExpressionContext;
class ClosedIsRight_ClosedContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterClosedIsRight_Closed) {
            listener.enterClosedIsRight_Closed(this);
        }
    }
    exitRule(listener) {
        if (listener.exitClosedIsRight_Closed) {
            listener.exitClosedIsRight_Closed(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitClosedIsRight_Closed) {
            return visitor.visitClosedIsRight_Closed(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ClosedIsRight_ClosedContext = ClosedIsRight_ClosedContext;
class Right_ClosedImplicitProductContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterRight_ClosedImplicitProduct) {
            listener.enterRight_ClosedImplicitProduct(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRight_ClosedImplicitProduct) {
            listener.exitRight_ClosedImplicitProduct(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRight_ClosedImplicitProduct) {
            return visitor.visitRight_ClosedImplicitProduct(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.Right_ClosedImplicitProductContext = Right_ClosedImplicitProductContext;
class OpenContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_open;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.OpenContext = OpenContext;
class Right_ClosedIsOpenContext extends OpenContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterRight_ClosedIsOpen) {
            listener.enterRight_ClosedIsOpen(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRight_ClosedIsOpen) {
            listener.exitRight_ClosedIsOpen(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRight_ClosedIsOpen) {
            return visitor.visitRight_ClosedIsOpen(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.Right_ClosedIsOpenContext = Right_ClosedIsOpenContext;
class SumContext extends OpenContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    PLUS() {
        return this.getToken(arithmeticParser.PLUS, 0);
    }
    MINUS() {
        return this.getToken(arithmeticParser.MINUS, 0);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterSum) {
            listener.enterSum(this);
        }
    }
    exitRule(listener) {
        if (listener.exitSum) {
            listener.exitSum(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitSum) {
            return visitor.visitSum(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.SumContext = SumContext;
class AtomContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    SCIENTIFIC_NUMBER() {
        return this.getToken(arithmeticParser.SCIENTIFIC_NUMBER, 0);
    }
    VARIABLE() {
        return this.getToken(arithmeticParser.VARIABLE, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_atom;
    }
    enterRule(listener) {
        if (listener.enterAtom) {
            listener.enterAtom(this);
        }
    }
    exitRule(listener) {
        if (listener.exitAtom) {
            listener.exitAtom(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitAtom) {
            return visitor.visitAtom(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.AtomContext = AtomContext;
class RelopContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    EQ() {
        return this.getToken(arithmeticParser.EQ, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_relop;
    }
    enterRule(listener) {
        if (listener.enterRelop) {
            listener.enterRelop(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRelop) {
            listener.exitRelop(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRelop) {
            return visitor.visitRelop(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.RelopContext = RelopContext;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticVisitor.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticVisitor.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
Object.defineProperty(exports, "__esModule", ({ value: true }));
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
/**
 * This interface defines a complete generic visitor for a parse tree produced
 * by `arithmeticParser`.
 *
 * @param <Result> The return type of the visit operation. Use `void` for
 * operations with no return type.
 */
class arithmeticVisitor extends antlr4_1.ParseTreeVisitor {
}
exports["default"] = arithmeticVisitor;


/***/ }),

/***/ "./src/mathlib/util/MathMLHelpers.ts":
/*!*******************************************!*\
  !*** ./src/mathlib/util/MathMLHelpers.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.inMathBlock = exports.inMath = exports.inRow = exports.inParen = void 0;
/**
 * Wraps the given mathml string in mathml parenthases.
 * @param str
 */
function inParen(str) {
    return "<mo>(</mo>" + str + "<mo>)</mo>";
}
exports.inParen = inParen;
/**
 * Puts the given mathml expression in a row so that
 * it doesn't get divided by mathjax.
 * @param str
 * @returns
 */
function inRow(str) {
    return "<mrow>" + str + "</mrow>";
}
exports.inRow = inRow;
/**
 * Wraps the given string in <math></math>
 * @param str
 */
function inMath(str) {
    return "<math>" + str + "</math>";
}
exports.inMath = inMath;
/**
 * Wraps the given string in <math display='block'></math>
 * @param str
 */
function inMathBlock(str) {
    return "<math display='block'>" + str + "</math>";
}
exports.inMathBlock = inMathBlock;


/***/ }),

/***/ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts":
/*!***********************************************************!*\
  !*** ./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.has = exports.addAll = exports.setOf = void 0;
function setOf(...arr) {
    const out = new Set();
    arr.forEach(e => out.add(e));
    return out;
}
exports.setOf = setOf;
/**
 * Adds the given elements to the given collection
 * @param collection
 * @param elements
 */
function addAll(collection, ...elements) {
    for (const e of elements) {
        collection.add(e);
    }
}
exports.addAll = addAll;
/**
 * Checks if the given element is in the given collection
 * using referencial equality.
 * @param collection
 * @param element
 * @returns True if the collection has the element, false otherwise.
 */
function has(collection, element) {
    for (const e of collection) {
        if (e === element)
            return true;
    }
    return false;
}
exports.has = has;


/***/ }),

/***/ "./src/mathlib/util/assert.ts":
/*!************************************!*\
  !*** ./src/mathlib/util/assert.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.for_some = exports.for_all = exports.assert = void 0;
/**
 * Checks if the given expression evaluated to true. If not, throws error
 * with the message given.
 * @param msg Displayed if the expression is false. Defaults to "Failed Assert"
 */
function assert(exp, msg = "Failed assert") {
    if (!exp)
        throw new Error(msg);
}
exports.assert = assert;
function for_all(iterable, exp) {
    for (const i of iterable) {
        if (!exp(i))
            return false;
    }
    return true;
}
exports.for_all = for_all;
function for_some(iterable, exp) {
    for (const i of iterable) {
        if (exp(i))
            return true;
    }
    return false;
}
exports.for_some = for_some;


/***/ }),

/***/ "./node_modules/antlr4/dist/antlr4.web.cjs":
/*!*************************************************!*\
  !*** ./node_modules/antlr4/dist/antlr4.web.cjs ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

(()=>{var t={92:()=>{}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}n.r(r),n.d(r,{ATN:()=>Fe,ATNDeserializer:()=>Ho,BailErrorStrategy:()=>ta,CharStream:()=>aa,CharStreams:()=>va,CommonToken:()=>yi,CommonTokenStream:()=>Ra,DFA:()=>cc,DiagnosticErrorListener:()=>Ic,ErrorListener:()=>Go,FailedPredicateException:()=>jc,InputStream:()=>aa,Interval:()=>B,IntervalSet:()=>V,LL1Analyzer:()=>Ie,Lexer:()=>Ui,LexerATNSimulator:()=>Eu,NoViableAltException:()=>Bu,ParseTreeListener:()=>yc,ParseTreeVisitor:()=>vc,ParseTreeWalker:()=>gc,Parser:()=>Ua,ParserATNSimulator:()=>Yu,ParserRuleContext:()=>el,PredictionContextCache:()=>Xu,PredictionMode:()=>Iu,RecognitionException:()=>xi,RuleContext:()=>ee,RuleNode:()=>Ut,TerminalNode:()=>Ht,Token:()=>o,arrayToString:()=>b,default:()=>Ol});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}var n,r;return n=t,(r=[{key:"getTokenSource",value:function(){return this.source[0]}},{key:"getInputStream",value:function(){return this.source[1]}},{key:"text",get:function(){return this._text},set:function(t){this._text=t}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function i(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}o.INVALID_TYPE=0,o.EPSILON=-2,o.MIN_USER_TOKEN_TYPE=1,o.EOF=-1,o.DEFAULT_CHANNEL=0,o.HIDDEN_CHANNEL=1;var c=Math.round(Math.random()*Math.pow(2,32));function a(t){if(!t)return 0;var e,n,r=u(t),o="string"===r?t:!("object"!==r||!t.toString)&&t.toString();if(!o)return 0;for(var i=3&o.length,a=o.length-i,l=c,s=3432918353,f=461845907,p=0;p<a;)n=255&o.charCodeAt(p)|(255&o.charCodeAt(++p))<<8|(255&o.charCodeAt(++p))<<16|(255&o.charCodeAt(++p))<<24,++p,l=27492+(65535&(e=5*(65535&(l=(l^=n=(65535&(n=(n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295)<<13|l>>>19))+((5*(l>>>16)&65535)<<16)&4294967295))+((58964+(e>>>16)&65535)<<16);switch(n=0,i){case 3:n^=(255&o.charCodeAt(p+2))<<16;case 2:n^=(255&o.charCodeAt(p+1))<<8;case 1:l^=n=(65535&(n=(n=(65535&(n^=255&o.charCodeAt(p)))*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295}return l^=o.length,l=2246822507*(65535&(l^=l>>>16))+((2246822507*(l>>>16)&65535)<<16)&4294967295,l=3266489909*(65535&(l^=l>>>13))+((3266489909*(l>>>16)&65535)<<16)&4294967295,(l^=l>>>16)>>>0}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count=0,this.hash=0}var e,n,r;return e=t,n=[{key:"update",value:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{var n=0;switch(l(e)){case"undefined":case"function":continue;case"number":case"boolean":n=e;break;case"string":n=a(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}n=(n*=3432918353)<<15|n>>>17,n*=461845907,this.count=this.count+1;var r=this.hash^n;r=5*(r=r<<13|r>>>19)+3864292196,this.hash=r}}}},{key:"finish",value:function(){var t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,(t*=3266489909)^t>>>16}}],r=[{key:"hashStuff",value:function(){var e=new t;return e.update.apply(e,arguments),e.finish()}}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return t?"string"==typeof t?a(t):t.hashCode():-1}function y(t,e){return t?t.equals(e):t===e}function h(t){return null===t?"null":t}function b(t){return Array.isArray(t)?"["+t.map(h).join(", ")+"]":"null"}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}var m="h-",g=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||y}var e,n;return e=t,n=[{key:"add",value:function(t){var e=m+this.hashFunction(t);if(e in this.data){for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return n.push(t),t}return this.data[e]=[t],t}},{key:"has",value:function(t){return null!=this.get(t)}},{key:"get",value:function(t){var e=m+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return null}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(m)})).flatMap((function(e){return t.data[e]}),this)}},{key:"toString",value:function(){return b(this.values())}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(m)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}function k(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var j=function(){function t(){T(this,t)}return k(t,[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"evaluate",value:function(t,e){}},{key:"evalPrecedence",value:function(t,e){return this}}],[{key:"andContext",value:function(e,n){if(null===e||e===t.NONE)return n;if(null===n||n===t.NONE)return e;var r=new x(e,n);return 1===r.opnds.length?r.opnds[0]:r}},{key:"orContext",value:function(e,n){if(null===e)return n;if(null===n)return e;if(e===t.NONE||n===t.NONE)return t.NONE;var r=new R(e,n);return 1===r.opnds.length?r.opnds[0]:r}}]),t}(),x=function(t){S(n,t);var e=w(n);function n(t,r){var o;T(this,n),o=e.call(this);var i=new g;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var u=C(i);if(u.length>0){var c=null;u.map((function(t){(null===c||t.precedence<c.precedence)&&(c=t)})),i.add(c)}return o.opnds=Array.from(i.values()),o}return k(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"AND")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],u=i.evalPrecedence(t,e);if(n|=u!==i,null===u)return null;u!==j.NONE&&r.push(u)}if(!n)return this;if(0===r.length)return j.NONE;var c=null;return r.map((function(t){c=null===c?t:j.andContext(c,t)})),c}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("&&")}}]),n}(j),R=function(t){S(n,t);var e=w(n);function n(t,r){var o;T(this,n),o=e.call(this);var i=new g;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var u=C(i);if(u.length>0){var c=u.sort((function(t,e){return t.compareTo(e)})),a=c[c.length-1];i.add(a)}return o.opnds=Array.from(i.values()),o}return k(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"OR")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],u=i.evalPrecedence(t,e);if(n|=u!==i,u===j.NONE)return j.NONE;null!==u&&r.push(u)}if(!n)return this;if(0===r.length)return null;return r.map((function(t){return t})),null}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("||")}}]),n}(j);function C(t){var e=[];return t.values().map((function(t){t instanceof j.PrecedencePredicate&&e.push(t)})),e}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}function I(t,e){if(null===t){var n={state:null,alt:null,context:null,semanticContext:null};return e&&(n.reachesIntoOuterContext=0),n}var r={};return r.state=t.state||null,r.alt=void 0===t.alt?null:t.alt,r.context=t.context||null,r.semanticContext=t.semanticContext||null,e&&(r.reachesIntoOuterContext=t.reachesIntoOuterContext||0,r.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),r}var L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.checkContext(e,n),e=I(e),n=I(n,!0),this.state=null!==e.state?e.state:n.state,this.alt=null!==e.alt?e.alt:n.alt,this.context=null!==e.context?e.context:n.context,this.semanticContext=null!==e.semanticContext?e.semanticContext:null!==n.semanticContext?n.semanticContext:j.NONE,this.reachesIntoOuterContext=n.reachesIntoOuterContext,this.precedenceFilterSuppressed=n.precedenceFilterSuppressed}var e,n;return e=t,(n=[{key:"checkContext",value:function(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}},{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&(null===this.context?null===e.context:this.context.equals(e.context))&&this.semanticContext.equals(e.semanticContext)&&this.precedenceFilterSuppressed===e.precedenceFilterSuppressed}},{key:"hashCodeForConfigSet",value:function(){var t=new f;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}},{key:"equalsForConfigSet",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.semanticContext.equals(e.semanticContext)}},{key:"toString",value:function(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==j.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var B=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=e,this.stop=n}var e,n;return e=t,(n=[{key:"clone",value:function(){return new t(this.start,this.stop)}},{key:"contains",value:function(t){return t>=this.start&&t<this.stop}},{key:"toString",value:function(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}},{key:"length",get:function(){return this.stop-this.start}}])&&F(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===M(o)?o:String(o)),r)}var o}B.INVALID_INTERVAL=new B(-1,-2);var V=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intervals=null,this.readOnly=!1}var e,n;return e=t,n=[{key:"first",value:function(t){return null===this.intervals||0===this.intervals.length?o.INVALID_TYPE:this.intervals[0].start}},{key:"addOne",value:function(t){this.addInterval(new B(t,t+1))}},{key:"addRange",value:function(t,e){this.addInterval(new B(t,e+1))}},{key:"addInterval",value:function(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new B(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new B(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}},{key:"addSet",value:function(t){var e=this;return null!==t.intervals&&t.intervals.forEach((function(t){return e.addInterval(t)}),this),this}},{key:"reduce",value:function(t){if(t<this.intervals.length-1){var e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new B(e.start,n.stop),this.intervals.splice(t+1,1))}}},{key:"complement",value:function(e,n){var r=new t;return r.addInterval(new B(e,n+1)),null!==this.intervals&&this.intervals.forEach((function(t){return r.removeRange(t)})),r}},{key:"contains",value:function(t){if(null===this.intervals)return!1;for(var e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}},{key:"removeRange",value:function(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals)for(var e=0,n=0;n<this.intervals.length;n++){var r=this.intervals[e];if(t.stop<=r.start)return;if(t.start>r.start&&t.stop<r.stop){this.intervals[e]=new B(r.start,t.start);var o=new B(t.stop,r.stop);return void this.intervals.splice(e,0,o)}t.start<=r.start&&t.stop>=r.stop?(this.intervals.splice(e,1),e-=1):t.start<r.stop?this.intervals[e]=new B(r.start,t.start):t.stop<r.stop&&(this.intervals[e]=new B(t.stop,r.stop)),e+=1}}},{key:"removeOne",value:function(t){if(null!==this.intervals)for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new B(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new B(n.start,n.stop-1));if(t<n.stop-1){var r=new B(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}},{key:"toString",value:function(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}},{key:"toCharString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var n=this.intervals[e];n.stop===n.start+1?n.start===o.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toIndexString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var n=this.intervals[e];n.stop===n.start+1?n.start===o.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toTokenString",value:function(t,e){for(var n=[],r=0;r<this.intervals.length;r++)for(var o=this.intervals[r],i=o.start;i<o.stop;i++)n.push(this.elementName(t,e,i));return n.length>1?"{"+n.join(", ")+"}":n[0]}},{key:"elementName",value:function(t,e,n){return n===o.EOF?"<EOF>":n===o.EPSILON?"<EPSILON>":t[n]||e[n]}},{key:"length",get:function(){return this.intervals.map((function(t){return t.length})).reduce((function(t,e){return t+e}))}}],n&&U(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===z(o)?o:String(o)),r)}var o}var H=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=null,this.stateNumber=t.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}var e,n;return e=t,(n=[{key:"toString",value:function(){return this.stateNumber}},{key:"equals",value:function(e){return e instanceof t&&this.stateNumber===e.stateNumber}},{key:"isNonGreedyExitState",value:function(){return!1}},{key:"addTransition",value:function(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function G(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return W(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}H.INVALID_TYPE=0,H.BASIC=1,H.RULE_START=2,H.BLOCK_START=3,H.PLUS_BLOCK_START=4,H.STAR_BLOCK_START=5,H.TOKEN_START=6,H.RULE_STOP=7,H.BLOCK_END=8,H.STAR_LOOP_BACK=9,H.STAR_LOOP_ENTRY=10,H.PLUS_LOOP_BACK=11,H.LOOP_END=12,H.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],H.INVALID_STATE_NUMBER=-1;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(n);if(r){var o=X(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return G(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.RULE_STOP,G(t,W(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===J(o)?o:String(o)),r)}var o}function Z(t,e,n){return e&&Q(t.prototype,e),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var tt=Z((function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e)throw"target cannot be null.";this.target=e,this.isEpsilon=!1,this.label=null}));function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===et(o)?o:String(o)),r)}var o}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}tt.EPSILON=1,tt.RANGE=2,tt.RULE=3,tt.PREDICATE=4,tt.ATOM=5,tt.ACTION=6,tt.SET=7,tt.NOT_SET=8,tt.WILDCARD=9,tt.PRECEDENCE=10,tt.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],tt.serializationTypes={EpsilonTransition:tt.EPSILON,RangeTransition:tt.RANGE,RuleTransition:tt.RULE,PredicateTransition:tt.PREDICATE,AtomTransition:tt.ATOM,ActionTransition:tt.ACTION,SetTransition:tt.SET,NotSetTransition:tt.NOT_SET,WildcardTransition:tt.WILDCARD,PrecedencePredicateTransition:tt.PRECEDENCE};var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(r);if(o){var n=ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).ruleIndex=e,o.precedence=n,o.followState=r,o.serializationType=tt.RULE,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}}])&&nt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ut(o)?o:String(o)),r)}var o}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(r);if(i){var n=lt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t)).serializationType=tt.SET,null!=e?n.label=e:(n.label=new V,n.label.addOne(o.INVALID_TYPE)),n}return e=c,(n=[{key:"matches",value:function(t,e,n){return this.label.contains(t)}},{key:"toString",value:function(){return this.label.toString()}}])&&ct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(tt);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ft(o)?o:String(o)),r)}var o}function yt(){return yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},yt.apply(this,arguments)}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ht(t,e)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(o){var n=bt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).serializationType=tt.NOT_SET,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n&&!yt(bt(u.prototype),"matches",this).call(this,t,e,n)}},{key:"toString",value:function(){return"~"+yt(bt(u.prototype),"toString",this).call(this)}}])&&pt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(st);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dt(o)?o:String(o)),r)}var o}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(r);if(o){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).serializationType=tt.WILDCARD,e}return e=u,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n}},{key:"toString",value:function(){return"."}}])&&mt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pt(n);if(r){var o=Pt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(tt);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Et(o)?o:String(o)),r)}var o}function jt(t,e,n){return e&&kt(t.prototype,e),n&&kt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Nt(t,e){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nt(t,e)}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},It(t)}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=It(n);if(r){var o=It(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ct(n);if(r){var o=Ct(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(jt((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}))));function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Dt(o)?o:String(o)),r)}var o}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mt(r);if(o){var n=Mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return e=u,(n=[{key:"ruleContext",get:function(){throw new Error("missing interface implementation")}}])&&Ft(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Lt);function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function zt(t,e){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zt(t,e)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qt(n);if(r){var o=qt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lt);function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(n);if(r){var o=Gt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ht),Xt={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);var r=Xt.getNodeText(t,e);r=function(t,e){return t=t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);var o=t.getChildCount();if(0===o)return r;var i="("+r+" ";o>0&&(r=Xt.toStringTree(t.getChild(0),e),i=i.concat(r));for(var u=1;u<o;u++)r=Xt.toStringTree(t.getChild(u),e),i=i.concat(" "+r);return i.concat(")")},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof Ut){var r=t.ruleContext.getAltNumber();return 0!=r?e[t.ruleIndex]+":"+r:e[t.ruleIndex]}if(t instanceof Wt)return t.toString();if(t instanceof Ht&&null!==t.symbol)return t.symbol.text}var i=t.getPayload();return i instanceof o?i.text:t.getPayload().toString()},getChildren:function(t){for(var e=[],n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){var e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return Xt.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return Xt.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){var r=[];return Xt._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof Ht?t.symbol.type===e&&r.push(t):!n&&t instanceof Ut&&t.ruleIndex===e&&r.push(t);for(var o=0;o<t.getChildCount();o++)Xt._findAllNodes(t.getChild(o),e,n,r)},descendants:function(t){for(var e=[t],n=0;n<t.getChildCount();n++)e=e.concat(Xt.descendants(t.getChild(n)));return e}};const $t=Xt;function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jt(o)?o:String(o)),r)}var o}function Zt(t,e){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(r);if(o){var n=te(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this)).parentCtx=t||null,n.invokingState=e||-1,n}return e=u,(n=[{key:"depth",value:function(){for(var t=0,e=this;null!==e;)e=e.parentCtx,t+=1;return t}},{key:"isEmpty",value:function(){return-1===this.invokingState}},{key:"getSourceInterval",value:function(){return B.INVALID_INTERVAL}},{key:"ruleContext",get:function(){return this}},{key:"getPayload",value:function(){return this}},{key:"getText",value:function(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}},{key:"getAltNumber",value:function(){return 0}},{key:"setAltNumber",value:function(t){}},{key:"getChild",value:function(t){return null}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitChildren(this)}},{key:"toStringTree",value:function(t,e){return $t.toStringTree(this,t,e)}},{key:"toString",value:function(t,e){t=t||null,e=e||null;for(var n=this,r="[";null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{var o=n.ruleIndex;r+=o>=0&&o<t.length?t[o]:""+o}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+"]"}}])&&Qt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ut);function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ne(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ne(o)?o:String(o)),r)}var o}var oe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cachedHashCode=e}var e,n;return e=t,(n=[{key:"isEmpty",value:function(){return this===t.EMPTY}},{key:"hasEmptyPath",value:function(){return this.getReturnState(this.length-1)===t.EMPTY_RETURN_STATE}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}}])&&re(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ie(o)?o:String(o)),r)}var o}function ce(t,e){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ce(t,e)}function ae(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return le(t)}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}oe.EMPTY=null,oe.EMPTY_RETURN_STATE=2147483647,oe.globalNodeCount=1,oe.id=oe.globalNodeCount,oe.trace_atn_sim=!1;var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ce(t,e)}(c,t);var e,n,r,o,u=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(r);if(o){var n=se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ae(this,t)});function c(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var r=new f;r.update(t,e);var o=r.finish();return(n=u.call(this,o)).parents=t,n.returnStates=e,ae(n,le(n))}return e=c,n=[{key:"isEmpty",value:function(){return this.returnStates[0]===oe.EMPTY_RETURN_STATE}},{key:"getParent",value:function(t){return this.parents[t]}},{key:"getReturnState",value:function(t){return this.returnStates[t]}},{key:"equals",value:function(t){return this===t||t instanceof c&&this.hashCode()===t.hashCode()&&i(this.returnStates,t.returnStates)&&i(this.parents,t.parents)}},{key:"toString",value:function(){if(this.isEmpty())return"[]";for(var t="[",e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==oe.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}},{key:"length",get:function(){return this.returnStates.length}}],n&&ue(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(oe);function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===pe(o)?o:String(o)),r)}var o}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(c,t);var e,n,r,o,i,u=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=be(o);if(i){var n=be(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var r,o=new f;return null!==t?o.update(t,e):o.update(1),r=o.finish(),(n=u.call(this,r)).parentCtx=t,n.returnState=e,n}return e=c,r=[{key:"create",value:function(t,e){return e===oe.EMPTY_RETURN_STATE&&null===t?oe.EMPTY:new c(t,e)}}],(n=[{key:"getParent",value:function(t){return this.parentCtx}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t||t instanceof c&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}},{key:"toString",value:function(){var t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===oe.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}},{key:"length",get:function(){return 1}}])&&ye(e.prototype,n),r&&ye(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(oe);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===de(o)?o:String(o)),r)}var o}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}var Oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Se(r);if(o){var n=Se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,null,oe.EMPTY_RETURN_STATE)}return e=u,(n=[{key:"isEmpty",value:function(){return!0}},{key:"getParent",value:function(t){return null}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t}},{key:"toString",value:function(){return"$"}}])&&me(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ve);function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==we(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===we(o)?o:String(o)),r)}var o}oe.EMPTY=new Oe;var Pe="h-",Te=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||y}var e,n;return e=t,n=[{key:"set",value:function(t,e){var n=Pe+this.hashFunction(t);if(n in this.data){for(var r=this.data[n],o=0;o<r.length;o++){var i=r[o];if(this.equalsFunction(t,i.key)){var u=i.value;return i.value=e,u}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}},{key:"containsKey",value:function(t){var e=Pe+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return!0}return!1}},{key:"get",value:function(t){var e=Pe+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return o.value}return null}},{key:"entries",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(Pe)})).flatMap((function(e){return t.data[e]}),this)}},{key:"getKeys",value:function(){return this.entries().map((function(t){return t.key}))}},{key:"getValues",value:function(){return this.entries().map((function(t){return t.value}))}},{key:"toString",value:function(){return"["+this.entries().map((function(t){return"{"+t.key+":"+t.value+"}"})).join(", ")+"]"}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(Pe)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&_e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ee(t,e){if(null==e&&(e=ee.EMPTY),null===e.parentCtx||e===ee.EMPTY)return oe.EMPTY;var n=Ee(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return ve.create(n,r.followState.stateNumber)}function ke(t,e,n){if(t.isEmpty())return t;var r=n.get(t)||null;if(null!==r)return r;if(null!==(r=e.get(t)))return n.set(t,r),r;for(var o=!1,i=[],u=0;u<i.length;u++){var c=ke(t.getParent(u),e,n);if(o||c!==t.getParent(u)){if(!o){i=[];for(var a=0;a<t.length;a++)i[a]=t.getParent(a);o=!0}i[u]=c}}if(!o)return e.add(t),n.set(t,t),t;var l;return l=0===i.length?oe.EMPTY:1===i.length?ve.create(i[0],t.getReturnState(0)):new fe(i,t.returnStates),e.add(l),n.set(l,l),n.set(t,l),l}function je(t,e,n,r){if(t===e)return t;if(t instanceof ve&&e instanceof ve)return function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return o;if(null!==(o=r.get(e,t)))return o}var i=function(t,e,n){if(n){if(t===oe.EMPTY)return oe.EMPTY;if(e===oe.EMPTY)return oe.EMPTY}else{if(t===oe.EMPTY&&e===oe.EMPTY)return oe.EMPTY;if(t===oe.EMPTY){var r=[e.returnState,oe.EMPTY_RETURN_STATE],o=[e.parentCtx,null];return new fe(o,r)}if(e===oe.EMPTY){var i=[t.returnState,oe.EMPTY_RETURN_STATE],u=[t.parentCtx,null];return new fe(u,i)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){var u=je(t.parentCtx,e.parentCtx,n,r);if(u===t.parentCtx)return t;if(u===e.parentCtx)return e;var c=ve.create(u,t.returnState);return null!==r&&r.set(t,e,c),c}var a=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(a=t.parentCtx),null!==a){var l=[t.returnState,e.returnState];t.returnState>e.returnState&&(l[0]=e.returnState,l[1]=t.returnState);var s=new fe([a,a],l);return null!==r&&r.set(t,e,s),s}var f=[t.returnState,e.returnState],p=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(f[0]=e.returnState,f[1]=t.returnState,p=[e.parentCtx,t.parentCtx]);var y=new fe(p,f);return null!==r&&r.set(t,e,y),y}(t,e,n,r);if(n){if(t instanceof Oe)return t;if(e instanceof Oe)return e}return t instanceof ve&&(t=new fe([t.getParent()],[t.returnState])),e instanceof ve&&(e=new fe([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o;if(null!==(o=r.get(e,t)))return oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o}for(var i=0,u=0,c=0,a=new Array(t.returnStates.length+e.returnStates.length).fill(0),l=new Array(t.returnStates.length+e.returnStates.length).fill(null);i<t.returnStates.length&&u<e.returnStates.length;){var s=t.parents[i],f=e.parents[u];if(t.returnStates[i]===e.returnStates[u]){var p=t.returnStates[i];p===oe.EMPTY_RETURN_STATE&&null===s&&null===f||null!==s&&null!==f&&s===f?(l[c]=s,a[c]=p):(l[c]=je(s,f,n,r),a[c]=p),i+=1,u+=1}else t.returnStates[i]<e.returnStates[u]?(l[c]=s,a[c]=t.returnStates[i],i+=1):(l[c]=f,a[c]=e.returnStates[u],u+=1);c+=1}if(i<t.returnStates.length)for(var y=i;y<t.returnStates.length;y++)l[c]=t.parents[y],a[c]=t.returnStates[y],c+=1;else for(var h=u;h<e.returnStates.length;h++)l[c]=e.parents[h],a[c]=e.returnStates[h],c+=1;if(c<l.length){if(1===c){var b=ve.create(l[0],a[0]);return null!==r&&r.set(t,e,b),b}l=l.slice(0,c),a=a.slice(0,c)}var v=new fe(l,a);return v.equals(t)?(null!==r&&r.set(t,e,t),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):v.equals(e)?(null!==r&&r.set(t,e,e),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){for(var e=new Te,n=0;n<t.length;n++){var r=t[n];e.containsKey(r)||e.set(r,r)}for(var o=0;o<t.length;o++)t[o]=e.get(t[o])}(l),null!==r&&r.set(t,e,v),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+v),v)}(t,e,n,r)}function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===xe(o)?o:String(o)),r)}var o}var Ce=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=[]}var e,n;return e=t,(n=[{key:"add",value:function(t){this.data[t]=!0}},{key:"or",value:function(t){var e=this;Object.keys(t.data).map((function(t){return e.add(t)}),this)}},{key:"remove",value:function(t){delete this.data[t]}},{key:"has",value:function(t){return!0===this.data[t]}},{key:"values",value:function(){return Object.keys(this.data)}},{key:"minValue",value:function(){return Math.min.apply(null,this.values())}},{key:"hashCode",value:function(){return f.hashStuff(this.values())}},{key:"equals",value:function(e){return e instanceof t&&i(this.data,e.data)}},{key:"toString",value:function(){return"{"+this.values().join(", ")+"}"}},{key:"length",get:function(){return this.values().length}}])&&Re(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ae(o)?o:String(o)),r)}var o}var Ie=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e}var e,n;return e=t,n=[{key:"getDecisionLookahead",value:function(e){if(null===e)return null;for(var n=e.transitions.length,r=[],o=0;o<n;o++){r[o]=new V;var i=new g;this._LOOK(e.transition(o).target,null,oe.EMPTY,r[o],i,new Ce,!1,!1),(0===r[o].length||r[o].contains(t.HIT_PRED))&&(r[o]=null)}return r}},{key:"LOOK",value:function(t,e,n){var r=new V,o=null!==(n=n||null)?Ee(t.atn,n):null;return this._LOOK(t,e,o,r,new g,new Ce,!0,!0),r}},{key:"_LOOK",value:function(e,n,r,i,u,c,a,l){var s=new L({state:e,alt:0,context:r},null);if(!u.has(s)){if(u.add(s),e===n){if(null===r)return void i.addOne(o.EPSILON);if(r.isEmpty()&&l)return void i.addOne(o.EOF)}if(e instanceof $){if(null===r)return void i.addOne(o.EPSILON);if(r.isEmpty()&&l)return void i.addOne(o.EOF);if(r!==oe.EMPTY){var f=c.has(e.ruleIndex);try{c.remove(e.ruleIndex);for(var p=0;p<r.length;p++){var y=this.atn.states[r.getReturnState(p)];this._LOOK(y,n,r.getParent(p),i,u,c,a,l)}}finally{f&&c.add(e.ruleIndex)}return}}for(var h=0;h<e.transitions.length;h++){var b=e.transitions[h];if(b.constructor===it){if(c.has(b.target.ruleIndex))continue;var v=ve.create(r,b.followState.stateNumber);try{c.add(b.target.ruleIndex),this._LOOK(b.target,n,v,i,u,c,a,l)}finally{c.remove(b.target.ruleIndex)}}else if(b instanceof Tt)a?this._LOOK(b.target,n,r,i,u,c,a,l):i.addOne(t.HIT_PRED);else if(b.isEpsilon)this._LOOK(b.target,n,r,i,u,c,a,l);else if(b.constructor===Ot)i.addRange(o.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{var d=b.label;null!==d&&(b instanceof vt&&(d=d.complement(o.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(d))}}}}}],n&&Ne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Le(o)?o:String(o)),r)}var o}Ie.HIT_PRED=o.INVALID_TYPE;var Fe=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.grammarType=e,this.maxTokenType=n,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}var e,n;return e=t,(n=[{key:"nextTokensInContext",value:function(t,e){return new Ie(this).LOOK(t,null,e)}},{key:"nextTokensNoContext",value:function(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}},{key:"nextTokens",value:function(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}},{key:"addState",value:function(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}},{key:"removeState",value:function(t){this.states[t.stateNumber]=null}},{key:"defineDecisionState",value:function(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}},{key:"getDecisionState",value:function(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}},{key:"getExpectedTokens",value:function(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";var n=this.states[t],r=this.nextTokens(n);if(!r.contains(o.EPSILON))return r;var i=new V;for(i.addSet(r),i.removeOne(o.EPSILON);null!==e&&e.invokingState>=0&&r.contains(o.EPSILON);){var u=this.states[e.invokingState].transitions[0];r=this.nextTokens(u.followState),i.addSet(r),i.removeOne(o.EPSILON),e=e.parentCtx}return r.contains(o.EPSILON)&&i.addOne(o.EOF),i}}])&&De(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Fe.INVALID_ALT_NUMBER=0;function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Me(t,e)}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(t)}var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ue(n);if(r){var o=Ue(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BASIC,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function qe(t,e){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qe(t,e)}function He(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ye(n);if(r){var o=Ye(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return He(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).decision=-1,t.nonGreedy=!1,He(t,Ke(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}function $e(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(t){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qe(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qe(n);if(r){var o=Qe(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return $e(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).endState=null,$e(t,Je(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}function nn(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rn(t)}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=on(n);if(r){var o=on(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BLOCK_END,t.startState=null,nn(t,rn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function cn(t){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(t)}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}function ln(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sn(t)}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fn(t){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fn(t)}var pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fn(n);if(r){var o=fn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return ln(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.LOOP_END,t.loopBackState=null,ln(t,sn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function hn(t,e){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hn(t,e)}function bn(t,e){if(e&&("object"===yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vn(t)}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dn(t)}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dn(n);if(r){var o=dn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return bn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.RULE_START,t.stopState=null,t.isPrecedenceRule=!1,bn(t,vn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function Sn(t,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sn(t,e)}function On(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wn(t)}function wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}var Pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_n(n);if(r){var o=_n(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return On(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.TOKEN_START,On(t,wn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function En(t,e){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},En(t,e)}function kn(t,e){if(e&&("object"===Tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jn(t)}function jn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xn(n);if(r){var o=xn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return kn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.PLUS_LOOP_BACK,kn(t,jn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function An(t,e){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},An(t,e)}function Nn(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&An(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(n);if(r){var o=Ln(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_LOOP_BACK,Nn(t,In(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}function Mn(t,e){if(e&&("object"===Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Un(t)}function Un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(t)}var zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(n);if(r){var o=Vn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Mn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_LOOP_ENTRY,t.loopBackState=null,t.isPrecedenceDecision=null,Mn(t,Un(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hn(t,e)}function Kn(t,e){if(e&&("object"===qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yn(t)}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gn(n);if(r){var o=Gn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Kn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.PLUS_BLOCK_START,t.loopBackState=null,Kn(t,Yn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function $n(t,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$n(t,e)}function Jn(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zn(t){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zn(t)}var tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zn(n);if(r){var o=Zn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Jn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_BLOCK_START,Jn(t,Qn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function nr(t,e){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nr(t,e)}function rr(t,e){if(e&&("object"===er(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}function or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}var ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ir(n);if(r){var o=ir(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return rr(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BLOCK_START,rr(t,or(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function cr(t){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(t)}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==cr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===cr(o)?o:String(o)),r)}var o}function lr(t,e){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lr(t,e)}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sr(t)}var fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sr(r);if(o){var n=sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).label_=e,n.label=n.makeLabel(),n.serializationType=tt.ATOM,n}return e=u,(n=[{key:"makeLabel",value:function(){var t=new V;return t.addOne(this.label_),t}},{key:"matches",value:function(t,e,n){return this.label_===t}},{key:"toString",value:function(){return this.label_}}])&&ar(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===pr(o)?o:String(o)),r)}var o}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}var vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=br(r);if(o){var n=br(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).serializationType=tt.RANGE,r.start=e,r.stop=n,r.label=r.makeLabel(),r}return e=u,(n=[{key:"makeLabel",value:function(){var t=new V;return t.addRange(this.start,this.stop),t}},{key:"matches",value:function(t,e,n){return t>=this.start&&t<=this.stop}},{key:"toString",value:function(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}])&&yr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dr(o)?o:String(o)),r)}var o}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sr(r);if(o){var n=Sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).serializationType=tt.ACTION,o.ruleIndex=e,o.actionIndex=void 0===n?-1:n,o.isCtxDependent=void 0!==r&&r,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"action_"+this.ruleIndex+":"+this.actionIndex}}])&&mr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==wr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===wr(o)?o:String(o)),r)}var o}function Pr(t,e){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pr(t,e)}function Tr(t){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tr(t)}var Er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tr(r);if(o){var n=Tr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).serializationType=tt.EPSILON,n.isEpsilon=!0,n.outermostPrecedenceReturn=e,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"epsilon"}}])&&_r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==kr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==kr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===kr(o)?o:String(o)),r)}var o}function xr(t,e){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xr(t,e)}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}var Cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(r);if(o){var n=Rr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this)).ruleIndex=void 0===t?-1:t,r.predIndex=void 0===e?-1:e,r.isCtxDependent=void 0!==n&&n,r}return e=u,(n=[{key:"evaluate",value:function(t,e){var n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}},{key:"updateHashCode",value:function(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}},{key:"toString",value:function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}])&&jr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(j);function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ar(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ar(o)?o:String(o)),r)}var o}function Ir(t,e){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ir(t,e)}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lr(t)}j.NONE=new Cr;var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ir(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lr(r);if(o){var n=Lr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).serializationType=tt.PREDICATE,o.ruleIndex=e,o.predIndex=n,o.isCtxDependent=r,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new Cr(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"toString",value:function(){return"pred_"+this.ruleIndex+":"+this.predIndex}}])&&Nr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Tt);function Fr(t){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(t)}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Fr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Fr(o)?o:String(o)),r)}var o}function Mr(t,e){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mr(t,e)}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}var Vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ur(r);if(o){var n=Ur(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).precedence=void 0===t?0:t,e}return e=u,(n=[{key:"evaluate",value:function(t,e){return t.precpred(e,this.precedence)}},{key:"evalPrecedence",value:function(t,e){return t.precpred(e,this.precedence)?j.NONE:null}},{key:"compareTo",value:function(t){return this.precedence-t.precedence}},{key:"updateHashCode",value:function(t){t.update(this.precedence)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.precedence===t.precedence}},{key:"toString",value:function(){return"{"+this.precedence+">=prec}?"}}])&&Br(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(j);function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===zr(o)?o:String(o)),r)}var o}function Hr(t,e){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hr(t,e)}function Kr(t){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kr(t)}j.PrecedencePredicate=Vr;var Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kr(r);if(o){var n=Kr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).serializationType=tt.PRECEDENCE,n.precedence=e,n.isEpsilon=!0,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new Vr(this.precedence)}},{key:"toString",value:function(){return this.precedence+" >= _p"}}])&&qr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Tt);function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gr(o)?o:String(o)),r)}var o}function Xr(t,e,n){return e&&Wr(t.prototype,e),n&&Wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var $r=Xr((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e=null),this.readOnly=!1,this.verifyATN=null===e||e.verifyATN,this.generateRuleBypassTransitions=null!==e&&e.generateRuleBypassTransitions}));$r.defaultOptions=new $r,$r.defaultOptions.readOnly=!0;function Jr(t){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(t)}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jr(o)?o:String(o)),r)}var o}var Zr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actionType=e,this.isPositionDependent=!1}var e,n;return e=t,(n=[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.actionType)}},{key:"equals",value:function(t){return this===t}}])&&Qr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==to(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==to(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===to(o)?o:String(o)),r)}var o}function no(t,e){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},no(t,e)}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(t)}var oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ro(r);if(o){var n=ro(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,6)}return e=u,(n=[{key:"execute",value:function(t){t.skip()}},{key:"toString",value:function(){return"skip"}}])&&eo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==io(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===io(o)?o:String(o)),r)}var o}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ao(t)}oo.INSTANCE=new oo;var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ao(r);if(o){var n=ao(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,0)).channel=t,e}return e=u,(n=[{key:"execute",value:function(t){t._channel=this.channel}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.channel)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.channel===t.channel}},{key:"toString",value:function(){return"channel("+this.channel+")"}}])&&uo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function so(t){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(t)}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==so(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===so(o)?o:String(o)),r)}var o}function po(t,e){return po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},po(t,e)}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&po(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yo(r);if(o){var n=yo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===so(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,1)).ruleIndex=t,n.actionIndex=e,n.isPositionDependent=!0,n}return e=u,(n=[{key:"execute",value:function(t){t.action(null,this.ruleIndex,this.actionIndex)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}])&&fo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==bo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===bo(o)?o:String(o)),r)}var o}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mo(t,e)}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},go(t)}var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=go(r);if(o){var n=go(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,3)}return e=u,(n=[{key:"execute",value:function(t){t.more()}},{key:"toString",value:function(){return"more"}}])&&vo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oo(o)?o:String(o)),r)}var o}function _o(t,e){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_o(t,e)}function Po(t){return Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(t)}So.INSTANCE=new So;var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Po(r);if(o){var n=Po(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,7)).type=t,e}return e=u,(n=[{key:"execute",value:function(t){t.type=this.type}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.type)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.type===t.type}},{key:"toString",value:function(){return"type("+this.type+")"}}])&&wo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Eo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Eo(o)?o:String(o)),r)}var o}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jo(t,e)}function xo(t){return xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xo(t)}var Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xo(r);if(o){var n=xo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,5)).mode=t,e}return e=u,(n=[{key:"execute",value:function(t){t.pushMode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.mode===t.mode}},{key:"toString",value:function(){return"pushMode("+this.mode+")"}}])&&ko(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Co(t){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Co(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Co(o)?o:String(o)),r)}var o}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Io(r);if(o){var n=Io(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,4)}return e=u,(n=[{key:"execute",value:function(t){t.popMode()}},{key:"toString",value:function(){return"popMode"}}])&&Ao(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Do(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Do(o)?o:String(o)),r)}var o}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bo(t,e)}function Mo(t){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(t)}Lo.INSTANCE=new Lo;var Uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mo(r);if(o){var n=Mo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,2)).mode=t,e}return e=u,(n=[{key:"execute",value:function(t){t.mode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.mode===t.mode}},{key:"toString",value:function(){return"mode("+this.mode+")"}}])&&Fo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vo(o)?o:String(o)),r)}var o}function qo(t,e){var n=[];return n[t-1]=e,n.map((function(t){return e}))}var Ho=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e&&(e=$r.defaultOptions),this.deserializationOptions=e,this.stateFactories=null,this.actionFactories=null}var e,n;return e=t,n=[{key:"deserialize",value:function(t){var e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();var n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);var r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}},{key:"reset",value:function(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){var e=t.split("").map((function(t){var e=t.charCodeAt(0);return e>1?e-2:e+65534}));return e[0]=t.charCodeAt(0),this.data=e,this.pos=0,!0}return this.data=t,this.pos=0,!1}},{key:"skipUUID",value:function(){for(var t=0;t++<8;)this.readInt()}},{key:"checkVersion",value:function(t){var e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}},{key:"readATN",value:function(){var t=this.readInt(),e=this.readInt();return new Fe(t,e)}},{key:"readStates",value:function(t,e){for(var n,r,o,i=[],u=[],c=this.readInt(),a=0;a<c;a++){var l=this.readInt();if(l!==H.INVALID_TYPE){var s=this.readInt();e&&65535===s&&(s=-1);var f=this.stateFactory(l,s);if(l===H.LOOP_END){var p=this.readInt();i.push([f,p])}else if(f instanceof Ze){var y=this.readInt();u.push([f,y])}t.addState(f)}else t.addState(null)}for(n=0;n<i.length;n++)(r=i[n])[0].loopBackState=t.states[r[1]];for(n=0;n<u.length;n++)(r=u[n])[0].endState=t.states[r[1]];var h=this.readInt();for(n=0;n<h;n++)o=this.readInt(),t.states[o].nonGreedy=!0;var b=this.readInt();for(n=0;n<b;n++)o=this.readInt(),t.states[o].isPrecedenceRule=!0}},{key:"readRules",value:function(t,e){var n,r=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=qo(r,0)),t.ruleToStartState=qo(r,0),n=0;n<r;n++){var i=this.readInt();if(t.ruleToStartState[n]=t.states[i],0===t.grammarType){var u=this.readInt();e&&65535===u&&(u=o.EOF),t.ruleToTokenType[n]=u}}for(t.ruleToStopState=qo(r,0),n=0;n<t.states.length;n++){var c=t.states[n];c instanceof $&&(t.ruleToStopState[c.ruleIndex]=c,t.ruleToStartState[c.ruleIndex].stopState=c)}}},{key:"readModes",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt();t.modeToStartState.push(t.states[r])}}},{key:"readSets",value:function(t,e,n){for(var r=this.readInt(),o=0;o<r;o++){var i=new V;e.push(i);var u=this.readInt();0!==this.readInt()&&i.addOne(-1);for(var c=0;c<u;c++){var a=n(),l=n();i.addRange(a,l)}}}},{key:"readEdges",value:function(t,e){var n,r,o,i,u,c=this.readInt();for(n=0;n<c;n++){var a=this.readInt(),l=this.readInt(),s=this.readInt(),f=this.readInt(),p=this.readInt(),y=this.readInt();i=this.edgeFactory(t,s,a,l,f,p,y,e),t.states[a].addTransition(i)}for(n=0;n<t.states.length;n++)for(o=t.states[n],r=0;r<o.transitions.length;r++){var h=o.transitions[r];if(h instanceof it){var b=-1;t.ruleToStartState[h.target.ruleIndex].isPrecedenceRule&&0===h.precedence&&(b=h.target.ruleIndex),i=new Er(h.followState,b),t.ruleToStopState[h.target.ruleIndex].addTransition(i)}}for(n=0;n<t.states.length;n++){if((o=t.states[n])instanceof Ze){if(null===o.endState)throw"IllegalState";if(null!==o.endState.startState)throw"IllegalState";o.endState.startState=o}if(o instanceof Rn)for(r=0;r<o.transitions.length;r++)(u=o.transitions[r].target)instanceof Wn&&(u.loopBackState=o);else if(o instanceof Dn)for(r=0;r<o.transitions.length;r++)(u=o.transitions[r].target)instanceof zn&&(u.loopBackState=o)}}},{key:"readDecisions",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt(),o=t.states[r];t.decisionToState.push(o),o.decision=n}}},{key:"readLexerActions",value:function(t,e){if(0===t.grammarType){var n=this.readInt();t.lexerActions=qo(n,null);for(var r=0;r<n;r++){var o=this.readInt(),i=this.readInt();e&&65535===i&&(i=-1);var u=this.readInt();e&&65535===u&&(u=-1),t.lexerActions[r]=this.lexerActionFactory(o,i,u)}}}},{key:"generateRuleBypassTransitions",value:function(t){var e,n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}},{key:"generateRuleBypassTransition",value:function(t,e){var n,r,o=new ur;o.ruleIndex=e,t.addState(o);var i=new un;i.ruleIndex=e,t.addState(i),o.endState=i,t.defineDecisionState(o),i.startState=o;var u=null,c=null;if(t.ruleToStartState[e].isPrecedenceRule){for(c=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){c=r,u=r.loopBackState.transitions[0];break}if(null===u)throw"Couldn't identify final state of the precedence rule prefix section."}else c=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(var a=0;a<r.transitions.length;a++){var l=r.transitions[a];l!==u&&l.target===c&&(l.target=i)}}for(var s=t.ruleToStartState[e],f=s.transitions.length;f>0;)o.addTransition(s.transitions[f-1]),s.transitions=s.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Er(o)),i.addTransition(new Er(c));var p=new Ve;t.addState(p),p.addTransition(new fr(i,t.ruleToTokenType[e])),o.addTransition(new Er(p))}},{key:"stateIsEndStateFor",value:function(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof zn))return null;var n=t.transitions[t.transitions.length-1].target;return n instanceof pn&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof $?t:null}},{key:"markPrecedenceDecisions",value:function(t){for(var e=0;e<t.states.length;e++){var n=t.states[e];if(n instanceof zn&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){var r=n.transitions[n.transitions.length-1].target;r instanceof pn&&r.epsilonOnlyTransitions&&r.transitions[0].target instanceof $&&(n.isPrecedenceDecision=!0)}}}},{key:"verifyATN",value:function(t){if(this.deserializationOptions.verifyATN)for(var e=0;e<t.states.length;e++){var n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof Wn)this.checkCondition(null!==n.loopBackState);else if(n instanceof zn)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof tr)this.checkCondition(n.transitions[1].target instanceof pn),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof pn))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof tr),this.checkCondition(n.nonGreedy)}else n instanceof Dn?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof zn)):n instanceof pn?this.checkCondition(null!==n.loopBackState):n instanceof mn?this.checkCondition(null!==n.stopState):n instanceof Ze?this.checkCondition(null!==n.endState):n instanceof un?this.checkCondition(null!==n.startState):n instanceof Ge?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof $)}}},{key:"checkCondition",value:function(t,e){if(!t)throw null==e&&(e="IllegalState"),e}},{key:"readInt",value:function(){return this.data[this.pos++]}},{key:"readInt32",value:function(){return this.readInt()|this.readInt()<<16}},{key:"edgeFactory",value:function(t,e,n,r,i,u,c,a){var l=t.states[r];switch(e){case tt.EPSILON:return new Er(l);case tt.RANGE:return new vr(l,0!==c?o.EOF:i,u);case tt.RULE:return new it(t.states[i],u,c,l);case tt.PREDICATE:return new Dr(l,i,u,0!==c);case tt.PRECEDENCE:return new Yr(l,i);case tt.ATOM:return new fr(l,0!==c?o.EOF:i);case tt.ACTION:return new Or(l,i,u,0!==c);case tt.SET:return new st(l,a[i]);case tt.NOT_SET:return new vt(l,a[i]);case tt.WILDCARD:return new Ot(l);default:throw"The specified transition type: "+e+" is not valid."}}},{key:"stateFactory",value:function(t,e){if(null===this.stateFactories){var n=[];n[H.INVALID_TYPE]=null,n[H.BASIC]=function(){return new Ve},n[H.RULE_START]=function(){return new mn},n[H.BLOCK_START]=function(){return new ur},n[H.PLUS_BLOCK_START]=function(){return new Wn},n[H.STAR_BLOCK_START]=function(){return new tr},n[H.TOKEN_START]=function(){return new Pn},n[H.RULE_STOP]=function(){return new $},n[H.BLOCK_END]=function(){return new un},n[H.STAR_LOOP_BACK]=function(){return new Dn},n[H.STAR_LOOP_ENTRY]=function(){return new zn},n[H.PLUS_LOOP_BACK]=function(){return new Rn},n[H.LOOP_END]=function(){return new pn},this.stateFactories=n}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";var r=this.stateFactories[t]();if(null!==r)return r.ruleIndex=e,r}},{key:"lexerActionFactory",value:function(t,e,n){if(null===this.actionFactories){var r=[];r[0]=function(t,e){return new lo(t)},r[1]=function(t,e){return new ho(t,e)},r[2]=function(t,e){return new Uo(t)},r[3]=function(t,e){return So.INSTANCE},r[4]=function(t,e){return Lo.INSTANCE},r[5]=function(t,e){return new Ro(t)},r[6]=function(t,e){return oo.INSTANCE},r[7]=function(t,e){return new To(t)},this.actionFactories=r}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}],n&&zo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ko(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ko(o)?o:String(o)),r)}var o}var Go=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){}}])&&Yo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Wo(o)?o:String(o)),r)}var o}function $o(t,e){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$o(t,e)}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(t)}var Qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$o(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jo(r);if(o){var n=Jo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){console.error("line "+n+":"+r+" "+o)}}])&&Xo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function Zo(t){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(t)}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Zo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Zo(o)?o:String(o)),r)}var o}function ei(t,e){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ei(t,e)}function ni(t,e){if(e&&("object"===Zo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ri(t)}function ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oi(t)}Qo.INSTANCE=new Qo;var ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ei(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oi(r);if(o){var n=oi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ni(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this),null===t)throw"delegates";return e.delegates=t,ni(e,ri(e))}return e=u,n=[{key:"syntaxError",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.syntaxError(t,e,n,r,o,i)}))}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){this.delegates.map((function(c){return c.reportAmbiguity(t,e,n,r,o,i,u)}))}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.reportAttemptingFullContext(t,e,n,r,o,i)}))}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.reportContextSensitivity(t,e,n,r,o,i)}))}}],n&&ti(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ui(o)?o:String(o)),r)}var o}var ai=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[Qo.INSTANCE],this._interp=null,this._stateNumber=-1}var e,n;return e=t,n=[{key:"checkVersion",value:function(t){var e="4.13.0";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}},{key:"addErrorListener",value:function(t){this._listeners.push(t)}},{key:"removeErrorListeners",value:function(){this._listeners=[]}},{key:"getLiteralNames",value:function(){return Object.getPrototypeOf(this).constructor.literalNames||[]}},{key:"getSymbolicNames",value:function(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}},{key:"getTokenNames",value:function(){if(!this.tokenNames){var t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(var r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}},{key:"getTokenTypeMap",value:function(){var t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";var e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=o.EOF,this.tokenTypeMapCache[t]=e),e}},{key:"getRuleIndexMap",value:function(){var t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";var e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}},{key:"getTokenType",value:function(t){var e=this.getTokenTypeMap()[t];return void 0!==e?e:o.INVALID_TYPE}},{key:"getErrorHeader",value:function(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===o.EOF?"<EOF>":"<"+t.type+">"),"'"+(e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"))+"'"}},{key:"getErrorListenerDispatch",value:function(){return new ii(this._listeners)}},{key:"sempred",value:function(t,e,n){return!0}},{key:"precpred",value:function(t,e){return!0}},{key:"atn",get:function(){return this._interp.atn}},{key:"state",get:function(){return this._stateNumber},set:function(t){this._stateNumber=t}}],n&&ci(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===li(o)?o:String(o)),r)}var o}function fi(t,e){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fi(t,e)}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pi(t)}ai.tokenTypeMapCache={},ai.ruleIndexMapCache={};var yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fi(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pi(r);if(i){var n=pi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,n,r,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(a=u.call(this)).source=void 0!==t?t:c.EMPTY_SOURCE,a.type=void 0!==e?e:null,a.channel=void 0!==n?n:o.DEFAULT_CHANNEL,a.start=void 0!==r?r:-1,a.stop=void 0!==i?i:-1,a.tokenIndex=-1,null!==a.source[0]?(a.line=t[0].line,a.column=t[0].column):a.column=-1,a}return e=c,(n=[{key:"clone",value:function(){var t=new c(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}},{key:"cloneWithType",value:function(t){var e=new c(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===o.EOF&&(e.text=""),e}},{key:"toString",value:function(){var t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}},{key:"text",get:function(){if(null!==this._text)return this._text;var t=this.getInputStream();if(null===t)return null;var e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"},set:function(t){this._text=t}}])&&si(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o);function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function bi(t,e){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bi(t,e)}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vi(t)}function di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hi(o)?o:String(o)),r)}var o}function mi(t,e,n){return e&&di(t.prototype,e),n&&di(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}yi.EMPTY_SOURCE=[null,null];var Si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bi(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=vi(e);if(n){var o=vi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t){var e;return gi(this,o),(e=r.call(this)).copyText=void 0!==t&&t,e}return mi(o,[{key:"create",value:function(t,e,n,r,o,i,u,c){var a=new yi(t,e,r,o,i);return a.line=u,a.column=c,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(o,i)),a}},{key:"createThin",value:function(t,e){var n=new yi(null,t);return n.text=e,n}}]),o}(mi((function t(){gi(this,t)})));function Oi(t){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(t)}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oi(o)?o:String(o)),r)}var o}function _i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pi(t){var e="function"==typeof Map?new Map:void 0;return Pi=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ti(t,arguments,ji(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ki(r,t)},Pi(t)}function Ti(t,e,n){return Ti=Ei()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ki(o,n.prototype),o},Ti.apply(null,arguments)}function Ei(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ki(t,e){return ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ki(t,e)}function ji(t){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(t)}Si.DEFAULT=new Si;var xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ki(t,e)}(u,t);var e,n,r,o,i=(r=u,o=Ei(),function(){var t,e=ji(r);if(o){var n=ji(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _i(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t.message),Error.captureStackTrace&&Error.captureStackTrace(_i(e),u),e.message=t.message,e.recognizer=t.recognizer,e.input=t.input,e.ctx=t.ctx,e.offendingToken=null,e.offendingState=-1,null!==e.recognizer&&(e.offendingState=e.recognizer.state),e}return e=u,(n=[{key:"getExpectedTokens",value:function(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}},{key:"toString",value:function(){return this.message}}])&&wi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Pi(Error));function Ri(t){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(t)}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ri(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ri(o)?o:String(o)),r)}var o}function Ai(t,e){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ai(t,e)}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ni(t)}var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ni(r);if(o){var n=Ni(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,{message:"",recognizer:t,input:e,ctx:null})).startIndex=n,o.deadEndConfigs=r,o}return e=u,(n=[{key:"toString",value:function(){var t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new B(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}])&&Ci(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(xi);function Li(t){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(t)}function Di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Li(o)?o:String(o)),r)}var o}function Fi(t,e){return Fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fi(t,e)}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mi(t){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mi(t)}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fi(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mi(r);if(i){var n=Mi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this))._input=t,e._factory=Si.DEFAULT,e._tokenFactorySourcePair=[Bi(e),t],e._interp=null,e._token=null,e._tokenStartCharIndex=-1,e._tokenStartLine=-1,e._tokenStartColumn=-1,e._hitEOF=!1,e._channel=o.DEFAULT_CHANNEL,e._type=o.INVALID_TYPE,e._modeStack=[],e._mode=c.DEFAULT_MODE,e._text=null,e}return e=c,n=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._token=null,this._type=o.INVALID_TYPE,this._channel=o.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=c.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}},{key:"nextToken",value:function(){if(null===this._input)throw"nextToken requires a non-null input stream.";var t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=o.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;for(var e=!1;;){this._type=o.INVALID_TYPE;var n=c.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof xi))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===o.EOF&&(this._hitEOF=!0),this._type===o.INVALID_TYPE&&(this._type=n),this._type===c.SKIP){e=!0;break}if(this._type!==c.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}},{key:"skip",value:function(){this._type=c.SKIP}},{key:"more",value:function(){this._type=c.MORE}},{key:"mode",value:function(t){this._mode=t}},{key:"pushMode",value:function(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}},{key:"popMode",value:function(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}},{key:"emitToken",value:function(t){this._token=t}},{key:"emit",value:function(){var t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}},{key:"emitEOF",value:function(){var t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,o.EOF,null,o.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}},{key:"getCharIndex",value:function(){return this._input.index}},{key:"getAllTokens",value:function(){for(var t=[],e=this.nextToken();e.type!==o.EOF;)t.push(e),e=this.nextToken();return t}},{key:"notifyListeners",value:function(t){var e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),o="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,o,t)}},{key:"getErrorDisplay",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e.join("")}},{key:"getErrorDisplayForChar",value:function(t){return t.charCodeAt(0)===o.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}},{key:"getCharErrorDisplay",value:function(t){return"'"+this.getErrorDisplayForChar(t)+"'"}},{key:"recover",value:function(t){this._input.LA(1)!==o.EOF&&(t instanceof Ii?this._interp.consume(this._input):this._input.consume())}},{key:"inputStream",get:function(){return this._input},set:function(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}},{key:"sourceName",get:function(){return this._input.sourceName}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"line",get:function(){return this._interp.line},set:function(t){this._interp.line=t}},{key:"column",get:function(){return this._interp.column},set:function(t){this._interp.column=t}},{key:"text",get:function(){return null!==this._text?this._text:this._interp.getText(this._input)},set:function(t){this._text=t}}],n&&Di(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(ai);function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vi(o)?o:String(o)),r)}var o}function qi(t){return t.hashCodeForConfigSet()}function Hi(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Ui.DEFAULT_MODE=0,Ui.MORE=-2,Ui.SKIP=-3,Ui.DEFAULT_TOKEN_CHANNEL=o.DEFAULT_CHANNEL,Ui.HIDDEN=o.HIDDEN_CHANNEL,Ui.MIN_CHAR_VALUE=0,Ui.MAX_CHAR_VALUE=1114111;var Ki=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configLookup=new g(qi,Hi),this.fullCtx=void 0===e||e,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}var e,n;return e=t,n=[{key:"add",value:function(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==j.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);var n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;var r=!this.fullCtx,o=je(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=o,!0}},{key:"getStates",value:function(){for(var t=new g,e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}},{key:"getPredicates",value:function(){for(var t=[],e=0;e<this.configs.length;e++){var n=this.configs[e].semanticContext;n!==j.NONE&&t.push(n.semanticContext)}return t}},{key:"optimizeConfigs",value:function(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];n.context=t.getCachedContext(n.context)}}},{key:"addAll",value:function(t){for(var e=0;e<t.length;e++)this.add(t[e]);return!1}},{key:"equals",value:function(e){return this===e||e instanceof t&&i(this.configs,e.configs)&&this.fullCtx===e.fullCtx&&this.uniqueAlt===e.uniqueAlt&&this.conflictingAlts===e.conflictingAlts&&this.hasSemanticContext===e.hasSemanticContext&&this.dipsIntoOuterContext===e.dipsIntoOuterContext}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}},{key:"updateHashCode",value:function(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}},{key:"isEmpty",value:function(){return 0===this.configs.length}},{key:"contains",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}},{key:"containsFast",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}},{key:"clear",value:function(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new g}},{key:"setReadonly",value:function(t){this.readOnly=t,t&&(this.configLookup=null)}},{key:"toString",value:function(){return b(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==Fe.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}},{key:"items",get:function(){return this.configs}},{key:"length",get:function(){return this.configs.length}}],n&&zi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Yi(t){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(t)}function Gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Yi(o)?o:String(o)),r)}var o}var Wi=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null===e&&(e=-1),null===n&&(n=new Ki),this.stateNumber=e,this.configs=n,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}var e,n;return e=t,n=[{key:"getAltSet",value:function(){var t=new g;if(null!==this.configs)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.configs.equals(e.configs)}},{key:"toString",value:function(){var t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}}],n&&Gi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function $i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Xi(o)?o:String(o)),r)}var o}var Ji=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e,this.sharedContextCache=n,this}var e,n;return e=t,n=[{key:"getCachedContext",value:function(t){if(null===this.sharedContextCache)return t;var e=new Te;return ke(t,this.sharedContextCache,e)}}],n&&$i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qi(t){return Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(t)}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}function tu(t){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(t)}Ji.ERROR=new Wi(2147483647,new Ki);var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tu(n);if(r){var o=tu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).configLookup=new g,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ki);function nu(t){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(t)}function ru(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==nu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==nu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===nu(o)?o:String(o)),r)}var o}function ou(){return ou="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=au(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ou.apply(this,arguments)}function iu(t,e){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iu(t,e)}function uu(t,e){if(e&&("object"===nu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cu(t)}function cu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function au(t){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},au(t)}var lu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iu(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=au(r);if(o){var n=au(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return uu(this,t)});function u(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=i.call(this,t,e);var r=t.lexerActionExecutor||null;return n.lexerActionExecutor=r||(null!==e?e.lexerActionExecutor:null),n.passedThroughNonGreedyDecision=null!==e&&n.checkNonGreedyDecision(e,n.state),n.hashCodeForConfigSet=u.prototype.hashCode,n.equalsForConfigSet=u.prototype.equals,uu(n,cu(n))}return e=u,(n=[{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&ou(au(u.prototype),"equals",this).call(this,t)}},{key:"checkNonGreedyDecision",value:function(t,e){return t.passedThroughNonGreedyDecision||e instanceof Ge&&e.nonGreedy}}])&&ru(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(L);function su(t){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(t)}function fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==su(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===su(o)?o:String(o)),r)}var o}function pu(t,e){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pu(t,e)}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(t)}var hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pu(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yu(r);if(o){var n=yu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e.actionType)).offset=t,n.action=e,n.isPositionDependent=!0,n}return e=u,(n=[{key:"execute",value:function(t){this.action.execute(t)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.offset,this.action)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.offset===t.offset&&this.action===t.action}}])&&fu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function bu(t){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(t)}function vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==bu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===bu(o)?o:String(o)),r)}var o}var du=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lexerActions=null===e?[]:e,this.cachedHashCode=f.hashStuff(e),this}var e,n,r;return e=t,n=[{key:"fixOffsetBeforeMatch",value:function(e){for(var n=null,r=0;r<this.lexerActions.length;r++)!this.lexerActions[r].isPositionDependent||this.lexerActions[r]instanceof hu||(null===n&&(n=this.lexerActions.concat([])),n[r]=new hu(e,this.lexerActions[r]));return null===n?this:new t(n)}},{key:"execute",value:function(t,e,n){var r=!1,o=e.index;try{for(var i=0;i<this.lexerActions.length;i++){var u=this.lexerActions[i];if(u instanceof hu){var c=u.offset;e.seek(n+c),u=u.action,r=n+c!==o}else u.isPositionDependent&&(e.seek(o),r=!1);u.execute(t)}}finally{r&&e.seek(o)}}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}},{key:"equals",value:function(e){if(this===e)return!0;if(e instanceof t){if(this.cachedHashCode!=e.cachedHashCode)return!1;if(this.lexerActions.length!=e.lexerActions.length)return!1;for(var n=this.lexerActions.length,r=0;r<n;++r)if(!this.lexerActions[r].equals(e.lexerActions[r]))return!1;return!0}return!1}}],r=[{key:"append",value:function(e,n){return new t(null===e?[n]:e.lexerActions.concat([n]))}}],n&&vu(e.prototype,n),r&&vu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mu(t,e){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mu(t,e)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}function Su(t){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(t)}function Ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Su(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Su(o)?o:String(o)),r)}var o}function _u(t,e,n){return e&&wu(t.prototype,e),n&&wu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pu(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}var Tu=function(){function t(){Ou(this,t),Pu(this)}return _u(t,[{key:"reset",value:function(){Pu(this)}}]),t}(),Eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=gu(e);if(n){var o=gu(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,o){var u;return Ou(this,i),(u=r.call(this,e,o)).decisionToDFA=n,u.recog=t,u.startIndex=-1,u.line=1,u.column=0,u.mode=Ui.DEFAULT_MODE,u.prevAccept=new Tu,u}return _u(i,[{key:"copyState",value:function(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}},{key:"match",value:function(t,e){this.mode=e;var n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();var r=this.decisionToDFA[e];return null===r.s0?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}},{key:"reset",value:function(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Ui.DEFAULT_MODE}},{key:"matchATN",value:function(t){var e=this.atn.modeToStartState[this.mode];i.debug&&console.log("matchATN mode "+this.mode+" start: "+e);var n=this.mode,r=this.computeStartState(t,e),o=r.hasSemanticContext;r.hasSemanticContext=!1;var u=this.addDFAState(r);o||(this.decisionToDFA[this.mode].s0=u);var c=this.execATN(t,u);return i.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),c}},{key:"execATN",value:function(t,e){i.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);for(var n=t.LA(1),r=e;;){i.debug&&console.log("execATN loop starting closure: "+r.configs);var u=this.getExistingTargetState(r,n);if(null===u&&(u=this.computeTargetState(t,r,n)),u===Ji.ERROR)break;if(n!==o.EOF&&this.consume(t),u.isAcceptState&&(this.captureSimState(this.prevAccept,t,u),n===o.EOF))break;n=t.LA(1),r=u}return this.failOrAccept(this.prevAccept,t,r.configs,n)}},{key:"getExistingTargetState",value:function(t,e){if(null===t.edges||e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE)return null;var n=t.edges[e-i.MIN_DFA_EDGE];return void 0===n&&(n=null),i.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}},{key:"computeTargetState",value:function(t,e,n){var r=new eu;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,Ji.ERROR),Ji.ERROR):this.addDFAEdge(e,n,null,r)}},{key:"failOrAccept",value:function(t,e,n,r){if(null!==this.prevAccept.dfaState){var i=t.dfaState.lexerActionExecutor;return this.accept(e,i,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===o.EOF&&e.index===this.startIndex)return o.EOF;throw new Ii(this.recog,e,this.startIndex,n)}},{key:"getReachableConfigSet",value:function(t,e,n,r){for(var u=Fe.INVALID_ALT_NUMBER,c=0;c<e.items.length;c++){var a=e.items[c],l=a.alt===u;if(!l||!a.passedThroughNonGreedyDecision){i.debug&&console.log("testing %s at %s\n",this.getTokenName(r),a.toString(this.recog,!0));for(var s=0;s<a.state.transitions.length;s++){var f=a.state.transitions[s],p=this.getReachableTarget(f,r);if(null!==p){var y=a.lexerActionExecutor;null!==y&&(y=y.fixOffsetBeforeMatch(t.index-this.startIndex));var h=r===o.EOF,b=new lu({state:p,lexerActionExecutor:y},a);this.closure(t,b,n,l,!0,h)&&(u=a.alt)}}}}}},{key:"accept",value:function(t,e,n,r,o,u){i.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=o,this.column=u,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,Ui.MAX_CHAR_VALUE)?t.target:null}},{key:"computeStartState",value:function(t,e){for(var n=oe.EMPTY,r=new eu,o=0;o<e.transitions.length;o++){var i=e.transitions[o].target,u=new lu({state:i,alt:o+1,context:n},null);this.closure(t,u,r,!1,!1,!1)}return r}},{key:"closure",value:function(t,e,n,r,o,u){var c=null;if(i.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof $){if(i.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new lu({state:e.state,context:oe.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(var a=0;a<e.context.length;a++)if(e.context.getReturnState(a)!==oe.EMPTY_RETURN_STATE){var l=e.context.getParent(a),s=this.atn.states[e.context.getReturnState(a)];c=new lu({state:s,context:l},e),r=this.closure(t,c,n,r,o,u)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(var f=0;f<e.state.transitions.length;f++){var p=e.state.transitions[f];null!==(c=this.getEpsilonTarget(t,e,p,n,o,u))&&(r=this.closure(t,c,n,r,o,u))}return r}},{key:"getEpsilonTarget",value:function(t,e,n,r,u,c){var a=null;if(n.serializationType===tt.RULE){var l=ve.create(e.context,n.followState.stateNumber);a=new lu({state:n.target,context:l},e)}else{if(n.serializationType===tt.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===tt.PREDICATE)i.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,u)&&(a=new lu({state:n.target},e));else if(n.serializationType===tt.ACTION)if(null===e.context||e.context.hasEmptyPath()){var s=du.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);a=new lu({state:n.target,lexerActionExecutor:s},e)}else a=new lu({state:n.target},e);else n.serializationType===tt.EPSILON?a=new lu({state:n.target},e):n.serializationType!==tt.ATOM&&n.serializationType!==tt.RANGE&&n.serializationType!==tt.SET||c&&n.matches(o.EOF,0,Ui.MAX_CHAR_VALUE)&&(a=new lu({state:n.target},e))}return a}},{key:"evaluatePredicate",value:function(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);var o=this.column,i=this.line,u=t.index,c=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=o,this.line=i,t.seek(u),t.release(c)}}},{key:"captureSimState",value:function(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}},{key:"addDFAEdge",value:function(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){var o=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),o)return n}return e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE||(i.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-i.MIN_DFA_EDGE]=n),n}},{key:"addDFAState",value:function(t){for(var e=new Wi(null,t),n=null,r=0;r<t.items.length;r++){var o=t.items[r];if(o.state instanceof $){n=o;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);var i=this.decisionToDFA[this.mode],u=i.states.get(e);if(null!==u)return u;var c=e;return c.stateNumber=i.states.length,t.setReadonly(!0),c.configs=t,i.states.add(c),c}},{key:"getDFA",value:function(t){return this.decisionToDFA[t]}},{key:"getText",value:function(t){return t.getText(this.startIndex,t.index-1)}},{key:"consume",value:function(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}},{key:"getTokenName",value:function(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}]),i}(Ji);function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ku(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ku(o)?o:String(o)),r)}var o}Eu.debug=!1,Eu.dfa_debug=!1,Eu.MIN_DFA_EDGE=0,Eu.MAX_DFA_EDGE=127;var xu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.alt=n,this.pred=e}var e,n;return e=t,(n=[{key:"toString",value:function(){return"("+this.pred+", "+this.alt+")"}}])&&ju(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ru(t){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(t)}function Cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ru(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ru(o)?o:String(o)),r)}var o}var Au=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={}}var e,n;return e=t,(n=[{key:"get",value:function(t){return this.data["k-"+t]||null}},{key:"set",value:function(t,e){this.data["k-"+t]=e}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith("k-")})).map((function(e){return t.data[e]}),this)}}])&&Cu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Nu={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(Nu.allConfigsInRuleStopStates(e))return!0;if(t===Nu.SLL&&e.hasSemanticContext){for(var n=new Ki,r=0;r<e.items.length;r++){var o=e.items[r];o=new L({semanticContext:j.NONE},o),n.add(o)}e=n}var i=Nu.getConflictingAltSubsets(e);return Nu.hasConflictingAltSet(i)&&!Nu.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(var e=0;e<t.items.length;e++)if(t.items[e].state instanceof $)return!0;return!1},allConfigsInRuleStopStates:function(t){for(var e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof $))return!1;return!0},resolvesToJustOneViableAlt:function(t){return Nu.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!Nu.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){var e=Nu.getAlts(t);return 1===e.length?e.minValue():Fe.INVALID_ALT_NUMBER},getAlts:function(t){var e=new Ce;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){var e=new Te;return e.hashFunction=function(t){f.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){var n=e.get(t);null===n&&(n=new Ce,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){var e=new Au;return t.items.map((function(t){var n=e.get(t.state);null===n&&(n=new Ce,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){for(var e=Nu.getStateToAltMap(t).values(),n=0;n<e.length;n++)if(1===e[n].length)return!0;return!1},getSingleViableAlt:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n].minValue();if(null===e)e=r;else if(e!==r)return Fe.INVALID_ALT_NUMBER}return e}};const Iu=Nu;function Lu(t){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(t)}function Du(t,e){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Du(t,e)}function Fu(t){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(t)}var Bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fu(n);if(r){var o=Fu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,r,u,c){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),c=c||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),(a=o.call(this,{message:"",recognizer:t,input:e,ctx:c})).deadEndConfigs=u,a.startToken=n,a.offendingToken=r,a}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function Mu(t){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(t)}function Uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Mu(o)?o:String(o)),r)}var o}var Vu=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaultMapCtor=e||Te,this.cacheMap=new this.defaultMapCtor}var e,n;return e=t,(n=[{key:"get",value:function(t,e){var n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}},{key:"set",value:function(t,e,n){var r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}])&&Uu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zu(t){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===zu(o)?o:String(o)),r)}var o}function Hu(t,e){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hu(t,e)}function Ku(t){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(t)}var Yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hu(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ku(r);if(i){var n=Ku(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=u.call(this,e,r)).parser=t,o.decisionToDFA=n,o.predictionMode=Iu.LL,o._input=null,o._startIndex=0,o._outerContext=null,o._dfa=null,o.mergeCache=null,o.debug=!1,o.debug_closure=!1,o.debug_add=!1,o.trace_atn_sim=!1,o.dfa_debug=!1,o.retry_debug=!1,o}return e=c,n=[{key:"reset",value:function(){}},{key:"adaptivePredict",value:function(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;var r=this.decisionToDFA[e];this._dfa=r;var o=t.mark(),i=t.index;try{var u;if(null===(u=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0)){null===n&&(n=ee.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));var c=this.computeStartState(r.atnStartState,ee.EMPTY,!1);r.precedenceDfa?(r.s0.configs=c,c=this.applyPrecedenceFilter(c),u=this.addDFAState(r,new Wi(null,c)),r.setPrecedenceStartState(this.parser.getPrecedence(),u)):(u=this.addDFAState(r,new Wi(null,c)),r.s0=u)}var a=this.execATN(r,u,t,i,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),a}finally{this._dfa=null,this.mergeCache=null,t.seek(i),t.release(o)}}},{key:"execATN",value:function(t,e,n,r,i){var u;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);var c=e;this.debug&&console.log("s0 = "+e);for(var a=n.LA(1);;){var l=this.getExistingTargetState(c,a);if(null===l&&(l=this.computeTargetState(t,c,a)),l===Ji.ERROR){var s=this.noViableAlt(n,i,c.configs,r);if(n.seek(r),(u=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(c.configs,i))!==Fe.INVALID_ALT_NUMBER)return u;throw s}if(l.requiresFullContext&&this.predictionMode!==Iu.SLL){var f=null;if(null!==l.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");var p=n.index;if(p!==r&&n.seek(r),1===(f=this.evalSemanticContext(l.predicates,i,!0)).length)return this.debug&&console.log("Full LL avoided"),f.minValue();p!==r&&n.seek(p)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+l);var y=this.computeStartState(t.atnStartState,i,!0);return this.reportAttemptingFullContext(t,f,l.configs,r,n.index),this.execATNWithFullContext(t,l,y,n,r,i)}if(l.isAcceptState){if(null===l.predicates)return l.prediction;var h=n.index;n.seek(r);var b=this.evalSemanticContext(l.predicates,i,!0);if(0===b.length)throw this.noViableAlt(n,i,l.configs,r);return 1===b.length||this.reportAmbiguity(t,l,r,h,!1,b,l.configs),b.minValue()}c=l,a!==o.EOF&&(n.consume(),a=n.LA(1))}}},{key:"getExistingTargetState",value:function(t,e){var n=t.edges;return null===n?null:n[e+1]||null}},{key:"computeTargetState",value:function(t,e,n){var r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,Ji.ERROR),Ji.ERROR;var o=new Wi(null,r),i=this.getUniqueAlt(r);if(this.debug){var u=Iu.getConflictingAltSubsets(r);console.log("SLL altSubSets="+b(u)+", configs="+r+", predict="+i+", allSubsetsConflict="+Iu.allSubsetsConflict(u)+", conflictingAlts="+this.getConflictingAlts(r))}return i!==Fe.INVALID_ALT_NUMBER?(o.isAcceptState=!0,o.configs.uniqueAlt=i,o.prediction=i):Iu.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(o.configs.conflictingAlts=this.getConflictingAlts(r),o.requiresFullContext=!0,o.isAcceptState=!0,o.prediction=o.configs.conflictingAlts.minValue()),o.isAcceptState&&o.configs.hasSemanticContext&&(this.predicateDFAState(o,this.atn.getDecisionState(t.decision)),null!==o.predicates&&(o.prediction=Fe.INVALID_ALT_NUMBER)),this.addDFAEdge(t,e,n,o)}},{key:"predicateDFAState",value:function(t,e){var n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),o=this.getPredsForAmbigAlts(r,t.configs,n);null!==o?(t.predicates=this.getPredicatePredictions(r,o),t.prediction=Fe.INVALID_ALT_NUMBER):t.prediction=r.minValue()}},{key:"execATNWithFullContext",value:function(t,e,n,r,i,u){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+n);var c,a=!1,l=n;r.seek(i);for(var s=r.LA(1),f=-1;;){if(null===(c=this.computeReachSet(l,s,!0))){var p=this.noViableAlt(r,u,l,i);r.seek(i);var y=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(l,u);if(y!==Fe.INVALID_ALT_NUMBER)return y;throw p}var h=Iu.getConflictingAltSubsets(c);if(this.debug&&console.log("LL altSubSets="+h+", predict="+Iu.getUniqueAlt(h)+", resolvesToJustOneViableAlt="+Iu.resolvesToJustOneViableAlt(h)),c.uniqueAlt=this.getUniqueAlt(c),c.uniqueAlt!==Fe.INVALID_ALT_NUMBER){f=c.uniqueAlt;break}if(this.predictionMode!==Iu.LL_EXACT_AMBIG_DETECTION){if((f=Iu.resolvesToJustOneViableAlt(h))!==Fe.INVALID_ALT_NUMBER)break}else if(Iu.allSubsetsConflict(h)&&Iu.allSubsetsEqual(h)){a=!0,f=Iu.getSingleViableAlt(h);break}l=c,s!==o.EOF&&(r.consume(),s=r.LA(1))}return c.uniqueAlt!==Fe.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,f,c,i,r.index),f):(this.reportAmbiguity(t,e,i,r.index,a,null,c),f)}},{key:"computeReachSet",value:function(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new Vu);for(var r=new Ki(n),i=null,u=0;u<t.items.length;u++){var c=t.items[u];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+c),c.state instanceof $)(n||e===o.EOF)&&(null===i&&(i=[]),i.push(c),this.debug_add&&console.log("added "+c+" to skippedStopStates"));else for(var a=0;a<c.state.transitions.length;a++){var l=c.state.transitions[a],s=this.getReachableTarget(l,e);if(null!==s){var f=new L({state:s},c);r.add(f,this.mergeCache),this.debug_add&&console.log("added "+f+" to intermediate")}}}var p=null;if(null===i&&e!==o.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==Fe.INVALID_ALT_NUMBER)&&(p=r),null===p){p=new Ki(n);for(var y=new g,h=e===o.EOF,b=0;b<r.items.length;b++)this.closure(r.items[b],p,y,!1,n,h)}if(e===o.EOF&&(p=this.removeAllConfigsNotInRuleStopState(p,p===r)),!(null===i||n&&Iu.hasConfigInRuleStopState(p)))for(var v=0;v<i.length;v++)p.add(i[v],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+p),0===p.items.length?null:p}},{key:"removeAllConfigsNotInRuleStopState",value:function(t,e){if(Iu.allConfigsInRuleStopStates(t))return t;for(var n=new Ki(t.fullCtx),r=0;r<t.items.length;r++){var i=t.items[r];if(i.state instanceof $)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(o.EPSILON)){var u=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new L({state:u},i),this.mergeCache)}}return n}},{key:"computeStartState",value:function(t,e,n){var r=Ee(this.atn,e),o=new Ki(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(var i=0;i<t.transitions.length;i++){var u=t.transitions[i].target,c=new L({state:u,alt:i+1,context:r},null),a=new g;this.closure(c,o,a,!0,n,!1)}return o}},{key:"applyPrecedenceFilter",value:function(t){for(var e,n=[],r=new Ki(t.fullCtx),o=0;o<t.items.length;o++)if(1===(e=t.items[o]).alt){var i=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==i&&(n[e.state.stateNumber]=e.context,i!==e.semanticContext?r.add(new L({semanticContext:i},e),this.mergeCache):r.add(e,this.mergeCache))}for(var u=0;u<t.items.length;u++)if(1!==(e=t.items[u]).alt){if(!e.precedenceFilterSuppressed){var c=n[e.state.stateNumber]||null;if(null!==c&&c.equals(e.context))continue}r.add(e,this.mergeCache)}return r}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}},{key:"getPredsForAmbigAlts",value:function(t,e,n){for(var r=[],o=0;o<e.items.length;o++){var i=e.items[o];t.has(i.alt)&&(r[i.alt]=j.orContext(r[i.alt]||null,i.semanticContext))}for(var u=0,c=1;c<n+1;c++){var a=r[c]||null;null===a?r[c]=j.NONE:a!==j.NONE&&(u+=1)}return 0===u&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+b(r)),r}},{key:"getPredicatePredictions",value:function(t,e){for(var n=[],r=!1,o=1;o<e.length;o++){var i=e[o];null!==t&&t.has(o)&&n.push(new xu(i,o)),i!==j.NONE&&(r=!0)}return r?n:null}},{key:"getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule",value:function(t,e){var n=this.splitAccordingToSemanticValidity(t,e),r=n[0],o=n[1],i=this.getAltThatFinishedDecisionEntryRule(r);return i!==Fe.INVALID_ALT_NUMBER||o.items.length>0&&(i=this.getAltThatFinishedDecisionEntryRule(o))!==Fe.INVALID_ALT_NUMBER?i:Fe.INVALID_ALT_NUMBER}},{key:"getAltThatFinishedDecisionEntryRule",value:function(t){for(var e=[],n=0;n<t.items.length;n++){var r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof $&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?Fe.INVALID_ALT_NUMBER:Math.min.apply(null,e)}},{key:"splitAccordingToSemanticValidity",value:function(t,e){for(var n=new Ki(t.fullCtx),r=new Ki(t.fullCtx),o=0;o<t.items.length;o++){var i=t.items[o];i.semanticContext!==j.NONE?i.semanticContext.evaluate(this.parser,e)?n.add(i):r.add(i):n.add(i)}return[n,r]}},{key:"evalSemanticContext",value:function(t,e,n){for(var r=new Ce,o=0;o<t.length;o++){var i=t[o];if(i.pred!==j.NONE){var u=i.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+i+"="+u),u&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+i.alt),r.add(i.alt),!n))break}else if(r.add(i.alt),!n)break}return r}},{key:"closure",value:function(t,e,n,r,o,i){this.closureCheckingStopState(t,e,n,r,o,0,i)}},{key:"closureCheckingStopState",value:function(t,e,n,r,o,i,u){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof $){if(!t.context.isEmpty()){for(var c=0;c<t.context.length;c++)if(t.context.getReturnState(c)!==oe.EMPTY_RETURN_STATE){var a=this.atn.states[t.context.getReturnState(c)],l=t.context.getParent(c),s={state:a,alt:t.alt,context:l,semanticContext:t.semanticContext},f=new L(s,null);f.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(f,e,n,r,o,i-1,u)}else{if(o){e.add(new L({state:t.state,context:oe.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,o,i,u)}return}if(o)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,o,i,u)}},{key:"closure_",value:function(t,e,n,r,o,i,u){var c=t.state;c.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(var a=0;a<c.transitions.length;a++)if(0!==a||!this.canDropLoopEntryEdgeInLeftRecursiveRule(t)){var l=c.transitions[a],s=r&&!(l instanceof Or),f=this.getEpsilonTarget(t,l,s,0===i,o,u);if(null!==f){var p=i;if(t.state instanceof $){if(null!==this._dfa&&this._dfa.precedenceDfa&&l.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(f.precedenceFilterSuppressed=!0),f.reachesIntoOuterContext+=1,n.add(f)!==f)continue;e.dipsIntoOuterContext=!0,p-=1,this.debug&&console.log("dips into outer ctx: "+f)}else{if(!l.isEpsilon&&n.add(f)!==f)continue;l instanceof it&&p>=0&&(p+=1)}this.closureCheckingStopState(f,e,n,s,o,p,u)}}}},{key:"canDropLoopEntryEdgeInLeftRecursiveRule",value:function(t){var e=t.state;if(e.stateType!==H.STAR_LOOP_ENTRY)return!1;if(e.stateType!==H.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;for(var n=t.context.length,r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;for(var o=e.transitions[0].target.endState.stateNumber,i=this.atn.states[o],u=0;u<n;u++){var c=t.context.getReturnState(u),a=this.atn.states[c];if(1!==a.transitions.length||!a.transitions[0].isEpsilon)return!1;var l=a.transitions[0].target;if(!(a.stateType===H.BLOCK_END&&l===e||a===i||l===i||l.stateType===H.BLOCK_END&&1===l.transitions.length&&l.transitions[0].isEpsilon&&l.transitions[0].target===e))return!1}return!0}},{key:"getRuleName",value:function(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}},{key:"getEpsilonTarget",value:function(t,e,n,r,i,u){switch(e.serializationType){case tt.RULE:return this.ruleTransition(t,e);case tt.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case tt.PREDICATE:return this.predTransition(t,e,n,r,i);case tt.ACTION:return this.actionTransition(t,e);case tt.EPSILON:return new L({state:e.target},t);case tt.ATOM:case tt.RANGE:case tt.SET:return u&&e.matches(o.EOF,0,1)?new L({state:e.target},t):null;default:return null}}},{key:"actionTransition",value:function(t,e){if(this.debug){var n=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+n)}return new L({state:e.target},t)}},{key:"precedenceTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+b(this.parser.getRuleInvocationStack())));var i=null;if(n&&r)if(o){var u=this._input.index;this._input.seek(this._startIndex);var c=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(i=new L({state:e.target},t))}else{var a=j.andContext(t.semanticContext,e.getPredicate());i=new L({state:e.target,semanticContext:a},t)}else i=new L({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"predTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+b(this.parser.getRuleInvocationStack())));var i=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(o){var u=this._input.index;this._input.seek(this._startIndex);var c=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(i=new L({state:e.target},t))}else{var a=j.andContext(t.semanticContext,e.getPredicate());i=new L({state:e.target,semanticContext:a},t)}else i=new L({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"ruleTransition",value:function(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);var n=e.followState,r=ve.create(t.context,n.stateNumber);return new L({state:e.target,context:r},t)}},{key:"getConflictingAlts",value:function(t){var e=Iu.getConflictingAltSubsets(t);return Iu.getAlts(e)}},{key:"getConflictingAltsOrUniqueAlt",value:function(t){var e=null;return t.uniqueAlt!==Fe.INVALID_ALT_NUMBER?(e=new Ce).add(t.uniqueAlt):e=t.conflictingAlts,e}},{key:"getTokenName",value:function(t){if(t===o.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}},{key:"getLookaheadName",value:function(t){return this.getTokenName(t.LA(1))}},{key:"dumpDeadEndConfigs",value:function(t){console.log("dead end configs: ");for(var e=t.getDeadEndConfigs(),n=0;n<e.length;n++){var r=e[n],o="no edges";if(r.state.transitions.length>0){var i=r.state.transitions[0];i instanceof fr?o="Atom "+this.getTokenName(i.label):i instanceof st&&(o=(i instanceof vt?"~":"")+"Set "+i.set)}console.error(r.toString(this.parser,!0)+":"+o)}}},{key:"noViableAlt",value:function(t,e,n,r){return new Bu(this.parser,t,t.get(r),t.LT(1),n,e)}},{key:"getUniqueAlt",value:function(t){for(var e=Fe.INVALID_ALT_NUMBER,n=0;n<t.items.length;n++){var r=t.items[n];if(e===Fe.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return Fe.INVALID_ALT_NUMBER}return e}},{key:"addDFAEdge",value:function(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){var o=null===this.parser?null:this.parser.literalNames,i=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(o,i))}return r}},{key:"addDFAState",value:function(t,e){if(e===Ji.ERROR)return e;var n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new B(r,o+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,o,e,n)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new B(r,o+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,o,e,n)}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){if(this.debug||this.retry_debug){var c=new B(n,r+1);console.log("reportAmbiguity "+i+":"+u+", input="+this.parser.getTokenStream().getText(c))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,o,i,u)}}],n&&qu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ji);function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function Wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gu(o)?o:String(o)),r)}var o}var Xu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Te}var e,n;return e=t,(n=[{key:"add",value:function(t){if(t===oe.EMPTY)return oe.EMPTY;var e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}},{key:"get",value:function(t){return this.cache.get(t)||null}},{key:"length",get:function(){return this.cache.length}}])&&Wu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const $u={ATN:Fe,ATNDeserializer:Ho,LexerATNSimulator:Eu,ParserATNSimulator:Yu,PredictionMode:Iu,PredictionContextCache:Xu};function Ju(t){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(t)}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ju(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ju(o)?o:String(o)),r)}var o}var Zu=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dfa=e,this.literalNames=n||[],this.symbolicNames=r||[]}var e,n;return e=t,n=[{key:"toString",value:function(){if(null===this.dfa.s0)return null;for(var t="",e=this.dfa.sortedStates(),n=0;n<e.length;n++){var r=e[n];if(null!==r.edges)for(var o=r.edges.length,i=0;i<o;i++){var u=r.edges[i]||null;null!==u&&2147483647!==u.stateNumber&&(t=(t=(t=(t=(t=(t=t.concat(this.getStateString(r))).concat("-")).concat(this.getEdgeLabel(i))).concat("->")).concat(this.getStateString(u))).concat("\n"))}}return 0===t.length?null:t}},{key:"getEdgeLabel",value:function(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}},{key:"getStateString",value:function(t){var e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+b(t.predicates):e+"=>"+t.prediction.toString():e}}],n&&Qu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tc(t){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(t)}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===tc(o)?o:String(o)),r)}var o}function nc(t,e){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nc(t,e)}function rc(t){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rc(t)}var oc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rc(r);if(o){var n=rc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t,null)}return e=u,n=[{key:"getEdgeLabel",value:function(t){return"'"+String.fromCharCode(t)+"'"}}],n&&ec(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zu);function ic(t){return ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(t)}function uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ic(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ic(o)?o:String(o)),r)}var o}var cc=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===n&&(n=0),this.atnStartState=e,this.decision=n,this._states=new g,this.s0=null,this.precedenceDfa=!1,e instanceof zn&&e.isPrecedenceDecision){this.precedenceDfa=!0;var r=new Wi(null,new Ki);r.edges=[],r.isAcceptState=!1,r.requiresFullContext=!1,this.s0=r}}var e,n;return e=t,(n=[{key:"getPrecedenceStartState",value:function(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}},{key:"setPrecedenceStartState",value:function(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}},{key:"setPrecedenceDfa",value:function(t){if(this.precedenceDfa!==t){if(this._states=new g,t){var e=new Wi(null,new Ki);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}else this.s0=null;this.precedenceDfa=t}}},{key:"sortedStates",value:function(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}},{key:"toString",value:function(t,e){return t=t||null,e=e||null,null===this.s0?"":new Zu(this,t,e).toString()}},{key:"toLexerString",value:function(){return null===this.s0?"":new oc(this).toString()}},{key:"states",get:function(){return this._states}}])&&uc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const ac={DFA:cc,DFASerializer:Zu,LexerDFASerializer:oc,PredPrediction:xu},lc={PredictionContext:oe},sc={Interval:B,IntervalSet:V};function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==fc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===fc(o)?o:String(o)),r)}var o}var yc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}},{key:"enterEveryRule",value:function(t){}},{key:"exitEveryRule",value:function(t){}}])&&pc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function hc(t){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(t)}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hc(o)?o:String(o)),r)}var o}var vc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visit",value:function(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}},{key:"visitChildren",value:function(t){return t.children?this.visit(t.children):null}},{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}}])&&bc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function dc(t){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(t)}function mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dc(o)?o:String(o)),r)}var o}var gc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"walk",value:function(t,e){if(e instanceof Wt||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof Ht)t.visitTerminal(e);else{this.enterRule(t,e);for(var n=0;n<e.getChildCount();n++){var r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}},{key:"enterRule",value:function(t,e){var n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}},{key:"exitRule",value:function(t,e){var n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}],n&&mc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();gc.DEFAULT=new gc;const Sc={Trees:$t,RuleNode:Ut,ErrorNode:Wt,TerminalNode:Ht,ParseTreeListener:yc,ParseTreeVisitor:vc,ParseTreeWalker:gc};function Oc(t){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(t)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}function _c(t){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_c(t)}var Pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_c(n);if(r){var o=_c(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx})).offendingToken=t.getCurrentToken(),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function Tc(t){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(t)}function Ec(t,e){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ec(t,e)}function kc(t){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kc(t)}var jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ec(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kc(n);if(r){var o=kc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,{message:xc(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});var u=t._interp.atn.states[t.state].transitions[0];return u instanceof Dr?(r.ruleIndex=u.ruleIndex,r.predicateIndex=u.predIndex):(r.ruleIndex=0,r.predicateIndex=0),r.predicate=e,r.offendingToken=t.getCurrentToken(),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function xc(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Rc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Rc(o)?o:String(o)),r)}var o}function Ac(t,e){return Ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ac(t,e)}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nc(t)}var Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ac(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nc(r);if(o){var n=Nc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),t=t||!0,(e=i.call(this)).exactOnly=t,e}return e=u,n=[{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){if(!this.exactOnly||o){var c="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(i,u)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(c)}}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){var u="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(u)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){var u="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(u)}},{key:"getDecisionDescription",value:function(t,e){var n=e.decision,r=e.atnStartState.ruleIndex,o=t.ruleNames;if(r<0||r>=o.length)return""+n;var i=o[r]||null;return null===i||0===i.length?""+n:"".concat(n," (").concat(i,")")}},{key:"getConflictingAlts",value:function(t,e){if(null!==t)return t;for(var n=new Ce,r=0;r<e.items.length;r++)n.add(e.items[r].alt);return"{".concat(n.values().join(", "),"}")}}],n&&Cc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function Lc(t){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(t)}function Dc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fc(t){var e="function"==typeof Map?new Map:void 0;return Fc=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Bc(t,arguments,Vc(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Uc(r,t)},Fc(t)}function Bc(t,e,n){return Bc=Mc()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Uc(o,n.prototype),o},Bc.apply(null,arguments)}function Mc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Uc(t,e){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uc(t,e)}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(t)}var zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uc(t,e)}(i,t);var e,n,r,o=(n=i,r=Mc(),function(){var t,e=Vc(n);if(r){var o=Vc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dc(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),Error.captureStackTrace(Dc(t),i),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Fc(Error));function qc(t){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(t)}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qc(o)?o:String(o)),r)}var o}function Kc(t){return Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(t)}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Kc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Kc(o)?o:String(o)),r)}var o}function Gc(t,e){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gc(t,e)}function Wc(t){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wc(t)}var Xc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gc(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wc(r);if(i){var n=Wc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this)).errorRecoveryMode=!1,t.lastErrorIndex=-1,t.lastErrorStates=null,t.nextTokensContext=null,t.nextTokenState=0,t}return e=c,n=[{key:"reset",value:function(t){this.endErrorCondition(t)}},{key:"beginErrorCondition",value:function(t){this.errorRecoveryMode=!0}},{key:"inErrorRecoveryMode",value:function(t){return this.errorRecoveryMode}},{key:"endErrorCondition",value:function(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}},{key:"reportMatch",value:function(t){this.endErrorCondition(t)}},{key:"reportError",value:function(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Bu?this.reportNoViableAlternative(t,e):e instanceof Pc?this.reportInputMismatch(t,e):e instanceof jc?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}},{key:"recover",value:function(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);var n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}},{key:"sync",value:function(t){if(!this.inErrorRecoveryMode(t)){var e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=H.INVALID_STATE_NUMBER);if(r.contains(o.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case H.BLOCK_START:case H.STAR_BLOCK_START:case H.PLUS_BLOCK_START:case H.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new Pc(t);case H.PLUS_LOOP_BACK:case H.STAR_LOOP_BACK:this.reportUnwantedToken(t);var i=new V;i.addSet(t.getExpectedTokens());var u=i.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,u)}}}},{key:"reportNoViableAlternative",value:function(t,e){var n,r=t.getTokenStream();n=null!==r?e.startToken.type===o.EOF?"<EOF>":r.getText(new B(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";var i="no viable alternative at input "+this.escapeWSAndQuote(n);t.notifyErrorListeners(i,e.offendingToken,e)}},{key:"reportInputMismatch",value:function(t,e){var n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportFailedPredicate",value:function(t,e){var n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportUnwantedToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}}},{key:"reportMissingToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}}},{key:"recoverInline",value:function(t){var e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new Pc(t)}},{key:"singleTokenInsertion",value:function(t){var e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}},{key:"singleTokenDeletion",value:function(t){var e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();var n=t.getCurrentToken();return this.reportMatch(t),n}return null}},{key:"getMissingSymbol",value:function(t){var e,n=t.getCurrentToken(),r=this.getExpectedTokens(t).first();e=r===o.EOF?"<missing EOF>":"<missing "+t.literalNames[r]+">";var i=n,u=t.getTokenStream().LT(-1);return i.type===o.EOF&&null!==u&&(i=u),t.getTokenFactory().create(i.source,r,e,o.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}},{key:"getExpectedTokens",value:function(t){return t.getExpectedTokens()}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===o.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}},{key:"escapeWSAndQuote",value:function(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}},{key:"getErrorRecoverySet",value:function(t){for(var e=t._interp.atn,n=t._ctx,r=new V;null!==n&&n.invokingState>=0;){var i=e.states[n.invokingState].transitions[0],u=e.nextTokens(i.followState);r.addSet(u),n=n.parentCtx}return r.removeOne(o.EPSILON),r}},{key:"consumeUntil",value:function(t,e){for(var n=t.getTokenStream().LA(1);n!==o.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}],n&&Yc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"reset",value:function(t){}},{key:"recoverInline",value:function(t){}},{key:"recover",value:function(t,e){}},{key:"sync",value:function(t){}},{key:"inErrorRecoveryMode",value:function(t){}},{key:"reportError",value:function(t){}}])&&Hc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function $c(t){return $c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(t)}function Jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$c(o)?o:String(o)),r)}var o}function Qc(t,e){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qc(t,e)}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zc(t)}var ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qc(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zc(r);if(o){var n=Zc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,n=[{key:"recover",value:function(t,e){for(var n=t._ctx;null!==n;)n.exception=e,n=n.parentCtx;throw new zc(e)}},{key:"recoverInline",value:function(t){this.recover(t,new Pc(t))}},{key:"sync",value:function(t){}}],n&&Jc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Xc);const ea={RecognitionException:xi,NoViableAltException:Bu,LexerNoViableAltException:Ii,InputMismatchException:Pc,FailedPredicateException:jc,DiagnosticErrorListener:Ic,BailErrorStrategy:ta,DefaultErrorStrategy:Xc,ErrorListener:Go};function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==na(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===na(o)?o:String(o)),r)}var o}var oa=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="<empty>",this.strdata=e,this.decodeToUnicodeCodePoints=n||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(var r=0;r<this.strdata.length;){var o=this.strdata.codePointAt(r);this.data.push(o),r+=o<=65535?1:2}else{this.data=new Array(this.strdata.length);for(var i=0;i<this.strdata.length;i++)this.data[i]=this.strdata.charCodeAt(i)}this._size=this.data.length}var e,n;return e=t,n=[{key:"reset",value:function(){this._index=0}},{key:"consume",value:function(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}},{key:"LA",value:function(t){if(0===t)return 0;t<0&&(t+=1);var e=this._index+t-1;return e<0||e>=this._size?o.EOF:this.data[e]}},{key:"LT",value:function(t){return this.LA(t)}},{key:"mark",value:function(){return-1}},{key:"release",value:function(t){}},{key:"seek",value:function(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}},{key:"getText",value:function(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){for(var n="",r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}},{key:"toString",value:function(){return this.strdata}},{key:"index",get:function(){return this._index}},{key:"size",get:function(){return this._size}}],n&&ra(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ia(t){return ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(t)}function ua(t,e){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ua(t,e)}function ca(t){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ca(t)}var aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ua(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ca(n);if(r){var o=ca(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(oa),la=n(92);function sa(t){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(t)}function fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==sa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===sa(o)?o:String(o)),r)}var o}function pa(t,e){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pa(t,e)}function ya(t){return ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ya(t)}var ha="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,ba=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pa(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ya(r);if(o){var n=ya(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===sa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!ha)throw new Error("FileStream is only available when running in Node!");var o=la.readFileSync(t,e||"utf-8");return(r=i.call(this,o,n)).fileName=t,r}return e=u,n=[{key:"fromPath",value:function(t,e,n){if(!ha)throw new Error("FileStream is only available when running in Node!");la.readFile(t,e,(function(t,e){var r=null;null!==e&&(r=new oa(e,!0)),n(t,r)}))}}],null&&0,n&&fa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(aa);const va={fromString:function(t){return new oa(t,!0)},fromBlob:function(t,e,n,r){var o=new window.FileReader;o.onload=function(t){var e=new oa(t.target.result,!0);n(e)},o.onerror=r,o.readAsText(t,e)},fromBuffer:function(t,e){return new oa(t.toString(e),!0)},fromPath:function(t,e,n){ba.fromPath(t,e,n)},fromPathSync:function(t,e){return new ba(t,e)}},da={arrayToString:b,stringToCharArray:function(t){for(var e=new Uint16Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};function ma(t){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(t)}function ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ma(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ma(o)?o:String(o)),r)}var o}function Sa(t,e,n){return e&&ga(t.prototype,e),n&&ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oa(t){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(t)}function wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oa(o)?o:String(o)),r)}var o}function _a(t,e){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_a(t,e)}function Pa(t){return Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pa(t)}var Ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_a(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pa(r);if(i){var n=Pa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this)).tokenSource=t,e.tokens=[],e.index=-1,e.fetchedEOF=!1,e}return e=c,n=[{key:"mark",value:function(){return 0}},{key:"release",value:function(t){}},{key:"reset",value:function(){this.seek(0)}},{key:"seek",value:function(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}},{key:"size",get:function(){return this.tokens.length}},{key:"get",value:function(t){return this.lazyInit(),this.tokens[t]}},{key:"consume",value:function(){if(!(this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length))&&this.LA(1)===o.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}},{key:"sync",value:function(t){var e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}},{key:"fetch",value:function(t){if(this.fetchedEOF)return 0;for(var e=0;e<t;e++){var n=this.tokenSource.nextToken();if(n.tokenIndex=this.tokens.length,this.tokens.push(n),n.type===o.EOF)return this.fetchedEOF=!0,e+1}return t}},{key:"getTokens",value:function(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();var r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(var i=t;i<e;i++){var u=this.tokens[i];if(u.type===o.EOF)break;(null===n||n.contains(u.type))&&r.push(u)}return r}},{key:"LA",value:function(t){return this.LT(t).type}},{key:"LB",value:function(t){return this.index-t<0?null:this.tokens[this.index-t]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);var e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}},{key:"adjustSeekIndex",value:function(t){return t}},{key:"lazyInit",value:function(){-1===this.index&&this.setup()}},{key:"setup",value:function(){this.sync(0),this.index=this.adjustSeekIndex(0)}},{key:"setTokenSource",value:function(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}},{key:"nextTokenOnChannel",value:function(t,e){if(this.sync(t),t>=this.tokens.length)return-1;for(var n=this.tokens[t];n.channel!==this.channel;){if(n.type===o.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}},{key:"previousTokenOnChannel",value:function(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}},{key:"getHiddenTokensToRight",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.nextTokenOnChannel(t+1,Ui.DEFAULT_TOKEN_CHANNEL),r=t+1,o=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,o,e)}},{key:"getHiddenTokensToLeft",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.previousTokenOnChannel(t-1,Ui.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;var r=n+1,o=t-1;return this.filterForChannel(r,o,e)}},{key:"filterForChannel",value:function(t,e,n){for(var r=[],o=t;o<e+1;o++){var i=this.tokens[o];-1===n?i.channel!==Ui.DEFAULT_TOKEN_CHANNEL&&r.push(i):i.channel===n&&r.push(i)}return 0===r.length?null:r}},{key:"getSourceName",value:function(){return this.tokenSource.getSourceName()}},{key:"getText",value:function(t){this.lazyInit(),this.fill(),t||(t=new B(0,this.tokens.length-1));var e=t.start;e instanceof o&&(e=e.tokenIndex);var n=t.stop;if(n instanceof o&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);for(var r="",i=e;i<n+1;i++){var u=this.tokens[i];if(u.type===o.EOF)break;r+=u.text}return r}},{key:"fill",value:function(){for(this.lazyInit();1e3===this.fetch(1e3););}}],n&&wa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Sa((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)})));function Ea(t){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(t)}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ea(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ea(o)?o:String(o)),r)}var o}function ja(t,e){return ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ja(t,e)}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}Object.defineProperty(Ta,"size",{get:function(){return this.tokens.length}});var Ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ja(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xa(r);if(i){var n=xa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ea(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t)).channel=void 0===e?o.DEFAULT_CHANNEL:e,n}return e=c,n=[{key:"adjustSeekIndex",value:function(t){return this.nextTokenOnChannel(t,this.channel)}},{key:"LB",value:function(t){if(0===t||this.index-t<0)return null;for(var e=this.index,n=1;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);for(var e=this.index,n=1;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}},{key:"getNumberOfOnChannelTokens",value:function(){var t=0;this.fill();for(var e=0;e<this.tokens.length;e++){var n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===o.EOF)break}return t}}],n&&ka(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ta);function Ca(t){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(t)}function Aa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ca(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ca(o)?o:String(o)),r)}var o}function Na(t,e){return Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Na(t,e)}function Ia(t){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ia(t)}var La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Na(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ia(r);if(o){var n=Ia(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).parser=t,e}return e=u,(n=[{key:"enterEveryRule",value:function(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}},{key:"visitTerminal",value:function(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}},{key:"exitEveryRule",value:function(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}])&&Aa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(yc);function Da(t){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(t)}function Fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Da(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Da(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Da(o)?o:String(o)),r)}var o}function Ba(t,e){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ba(t,e)}function Ma(t){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ma(t)}var Ua=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ba(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ma(r);if(i){var n=Ma(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Da(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this))._input=null,e._errHandler=new Xc,e._precedenceStack=[],e._precedenceStack.push(0),e._ctx=null,e.buildParseTrees=!0,e._tracer=null,e._parseListeners=null,e._syntaxErrors=0,e.setInputStream(t),e}return e=c,n=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}},{key:"match",value:function(t){var e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}},{key:"matchWildcard",value:function(){var t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}},{key:"getParseListeners",value:function(){return this._parseListeners||[]}},{key:"addParseListener",value:function(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}},{key:"removeParseListener",value:function(t){if(null!==this._parseListeners){var e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}},{key:"removeParseListeners",value:function(){this._parseListeners=null}},{key:"triggerEnterRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}},{key:"triggerExitRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}},{key:"getTokenFactory",value:function(){return this._input.tokenSource._factory}},{key:"setTokenFactory",value:function(t){this._input.tokenSource._factory=t}},{key:"getATNWithBypassAlts",value:function(){var t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";var e=this.bypassAltsAtnCache[t];if(null===e){var n=new $r;n.generateRuleBypassTransitions=!0,e=new Ho(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}},{key:"getInputStream",value:function(){return this.getTokenStream()}},{key:"setInputStream",value:function(t){this.setTokenStream(t)}},{key:"getTokenStream",value:function(){return this._input}},{key:"setTokenStream",value:function(t){this._input=null,this.reset(),this._input=t}},{key:"syntaxErrorsCount",get:function(){return this._syntaxErrors}},{key:"getCurrentToken",value:function(){return this._input.LT(1)}},{key:"notifyErrorListeners",value:function(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;var r=e.line,o=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,o,t,n)}},{key:"consume",value:function(){var t=this.getCurrentToken();t.type!==o.EOF&&this.getInputStream().consume();var e,n=null!==this._parseListeners&&this._parseListeners.length>0;return(this.buildParseTrees||n)&&((e=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t)).invokingState=this.state,n&&this._parseListeners.forEach((function(t){e instanceof Wt||void 0!==e.isErrorNode&&e.isErrorNode()?t.visitErrorNode(e):e instanceof Ht&&t.visitTerminal(e)}))),t}},{key:"addContextToParseTree",value:function(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}},{key:"enterRule",value:function(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}},{key:"exitRule",value:function(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}},{key:"enterOuterAlt",value:function(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}},{key:"getPrecedence",value:function(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}},{key:"enterRecursionRule",value:function(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}},{key:"pushNewRecursionContext",value:function(t,e,n){var r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}},{key:"unrollRecursionContexts",value:function(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);var e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}},{key:"getInvokingContext",value:function(t){for(var e=this._ctx;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}},{key:"precpred",value:function(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}},{key:"inContext",value:function(t){return!1}},{key:"isExpectedToken",value:function(t){var e=this._interp.atn,n=this._ctx,r=e.states[this.state],i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(o.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(o.EPSILON);){var u=e.states[n.invokingState].transitions[0];if((i=e.nextTokens(u.followState)).contains(t))return!0;n=n.parentCtx}return!(!i.contains(o.EPSILON)||t!==o.EOF)}},{key:"getExpectedTokens",value:function(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}},{key:"getExpectedTokensWithinCurrentRule",value:function(){var t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}},{key:"getRuleIndex",value:function(t){var e=this.getRuleIndexMap()[t];return null!==e?e:-1}},{key:"getRuleInvocationStack",value:function(t){null===(t=t||null)&&(t=this._ctx);for(var e=[];null!==t;){var n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}},{key:"getDFAStrings",value:function(){return this._interp.decisionToDFA.toString()}},{key:"dumpDFA",value:function(){for(var t=!1,e=0;e<this._interp.decisionToDFA.length;e++){var n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}},{key:"getSourceName",value:function(){return this._input.sourceName}},{key:"setTrace",value:function(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new La(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}],n&&Fa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(ai);function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Va(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Va(o)?o:String(o)),r)}var o}function qa(t,e){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qa(t,e)}function Ha(t){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(t)}Ua.bypassAltsAtnCache={};var Ka=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qa(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ha(r);if(i){var n=Ha(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this)).parentCtx=null,e.symbol=t,e}return e=c,(n=[{key:"getChild",value:function(t){return null}},{key:"getSymbol",value:function(){return this.symbol}},{key:"getParent",value:function(){return this.parentCtx}},{key:"getPayload",value:function(){return this.symbol}},{key:"getSourceInterval",value:function(){if(null===this.symbol)return B.INVALID_INTERVAL;var t=this.symbol.tokenIndex;return new B(t,t)}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitTerminal(this)}},{key:"getText",value:function(){return this.symbol.text}},{key:"toString",value:function(){return this.symbol.type===o.EOF?"<EOF>":this.symbol.text}}])&&za(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ht);function Ya(t){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ya(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ya(o)?o:String(o)),r)}var o}function Wa(t,e){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wa(t,e)}function Xa(t){return Xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(t)}var $a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xa(r);if(o){var n=Xa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ya(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(n=[{key:"isErrorNode",value:function(){return!0}},{key:"accept",value:function(t){return t.visitErrorNode(this)}}])&&Ga(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ka);function Ja(t){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(t)}function Qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ja(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ja(o)?o:String(o)),r)}var o}function Za(t,e){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Za(t,e)}function tl(t){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tl(t)}var el=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Za(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tl(r);if(o){var n=tl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).children=null,n.start=null,n.stop=null,n.exception=null,n}return e=u,n=[{key:"copyFrom",value:function(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof $a&&(this.children.push(t),t.parentCtx=this)}),this))}},{key:"enterRule",value:function(t){}},{key:"exitRule",value:function(t){}},{key:"addChild",value:function(t){return null===this.children&&(this.children=[]),this.children.push(t),t}},{key:"removeLastChild",value:function(){null!==this.children&&this.children.pop()}},{key:"addTokenNode",value:function(t){var e=new Ka(t);return this.addChild(e),e.parentCtx=this,e}},{key:"addErrorNode",value:function(t){var e=new $a(t);return this.addChild(e),e.parentCtx=this,e}},{key:"getChild",value:function(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}},{key:"getToken",value:function(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof Ht&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}},{key:"getTokens",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof Ht&&r.symbol.type===t&&e.push(r)}return e}},{key:"getTypedRuleContext",value:function(t,e){return this.getChild(e,t)}},{key:"getTypedRuleContexts",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof t&&e.push(r)}return e}},{key:"getChildCount",value:function(){return null===this.children?0:this.children.length}},{key:"getSourceInterval",value:function(){return null===this.start||null===this.stop?B.INVALID_INTERVAL:new B(this.start.tokenIndex,this.stop.tokenIndex)}}],n&&Qa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ee);function nl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rl(t,e)}function rl(t,e){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rl(t,e)}function ol(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=il(t);if(e){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function il(t){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},il(t)}function ul(t){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(t)}function cl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return al(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?al(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function al(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pl(r.key),r)}}function fl(t,e,n){return e&&sl(t.prototype,e),n&&sl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pl(t){var e=function(t,e){if("object"!==ul(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ul(e)?e:String(e)}ee.EMPTY=new el;var yl,hl,bl,vl=function(){function t(e){ll(this,t),this.tokens=e,this.programs=new Map}return fl(t,[{key:"getTokenStream",value:function(){return this.tokens}},{key:"insertAfter",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),u=new gl(this.tokens,r,i.length,n);i.push(u)}},{key:"insertBefore",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),u=new ml(this.tokens,r,i.length,n);i.push(u)}},{key:"replaceSingle",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;this.replace(e,e,n,r)}},{key:"replace",value:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_PROGRAM_NAME;if("number"!=typeof e&&(e=e.tokenIndex),"number"!=typeof n&&(n=n.tokenIndex),e>n||e<0||n<0||n>=this.tokens.size)throw new RangeError("replace: range invalid: ".concat(e,"..").concat(n,"(size=").concat(this.tokens.size,")"));var i=this.getProgram(o),u=new Sl(this.tokens,e,n,i.length,r);i.push(u)}},{key:"delete",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;void 0===n&&(n=e),this.replace(e,n,null,r)}},{key:"getProgram",value:function(t){var e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}},{key:"initializeProgram",value:function(t){var e=[];return this.programs.set(t,e),e}},{key:"getText",value:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_PROGRAM_NAME;n=e instanceof B?e:new B(0,this.tokens.size-1),"string"==typeof e&&(r=e);var i=this.programs.get(r),u=n.start,c=n.stop;if(c>this.tokens.size-1&&(c=this.tokens.size-1),u<0&&(u=0),null==i||0===i.length)return this.tokens.getText(new B(u,c));for(var a=[],l=this.reduceToSingleOperationPerIndex(i),s=u;s<=c&&s<this.tokens.size;){var f=l.get(s);l.delete(s);var p=this.tokens.get(s);null==f?(p.type!==o.EOF&&a.push(String(p.text)),s++):s=f.execute(a)}if(c===this.tokens.size-1){var y,h=cl(l.values());try{for(h.s();!(y=h.n()).done;){var b=y.value;b.index>=this.tokens.size-1&&a.push(b.text.toString())}}catch(t){h.e(t)}finally{h.f()}}return a.join("")}},{key:"reduceToSingleOperationPerIndex",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null!=n&&n instanceof Sl){var r,o=n,i=cl(this.getKindOfOps(t,ml,e));try{for(i.s();!(r=i.n()).done;){var u=r.value;u.index===o.index?(t[u.instructionIndex]=void 0,o.text=u.text.toString()+(null!=o.text?o.text.toString():"")):u.index>o.index&&u.index<=o.lastIndex&&(t[u.instructionIndex]=void 0)}}catch(t){i.e(t)}finally{i.f()}var c,a=cl(this.getKindOfOps(t,Sl,e));try{for(a.s();!(c=a.n()).done;){var l=c.value;if(l.index>=o.index&&l.lastIndex<=o.lastIndex)t[l.instructionIndex]=void 0;else{var s=l.lastIndex<o.index||l.index>o.lastIndex;if(null!=l.text||null!=o.text||s){if(!s)throw new Error("replace op boundaries of ".concat(o," overlap with previous ").concat(l))}else t[l.instructionIndex]=void 0,o.index=Math.min(l.index,o.index),o.lastIndex=Math.max(l.lastIndex,o.lastIndex)}}}catch(t){a.e(t)}finally{a.f()}}}for(var f=0;f<t.length;f++){var p=t[f];if(null!=p&&p instanceof ml){var y,h=p,b=cl(this.getKindOfOps(t,ml,f));try{for(b.s();!(y=b.n()).done;){var v=y.value;v.index===h.index&&(v instanceof gl?(h.text=this.catOpText(v.text,h.text),t[v.instructionIndex]=void 0):v instanceof ml&&(h.text=this.catOpText(h.text,v.text),t[v.instructionIndex]=void 0))}}catch(t){b.e(t)}finally{b.f()}var d,m=cl(this.getKindOfOps(t,Sl,f));try{for(m.s();!(d=m.n()).done;){var g=d.value;if(h.index!==g.index){if(h.index>=g.index&&h.index<=g.lastIndex)throw new Error("insert op ".concat(h," within boundaries of previous ").concat(g))}else g.text=this.catOpText(h.text,g.text),t[f]=void 0}}catch(t){m.e(t)}finally{m.f()}}}var S,O=new Map,w=cl(t);try{for(w.s();!(S=w.n()).done;){var _=S.value;if(null!=_){if(null!=O.get(_.index))throw new Error("should only be one op per index");O.set(_.index,_)}}}catch(t){w.e(t)}finally{w.f()}return O}},{key:"catOpText",value:function(t,e){var n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}},{key:"getKindOfOps",value:function(t,e,n){return t.slice(0,n).filter((function(t){return t&&t instanceof e}))}}]),t}();yl=vl,bl="default",(hl=pl(hl="DEFAULT_PROGRAM_NAME"))in yl?Object.defineProperty(yl,hl,{value:bl,enumerable:!0,configurable:!0,writable:!0}):yl[hl]=bl;var dl=function(){function t(e,n,r,o){ll(this,t),this.tokens=e,this.instructionIndex=r,this.index=n,this.text=void 0===o?"":o}return fl(t,[{key:"toString",value:function(){var t=this.constructor.name,e=t.indexOf("$");return"<"+(t=t.substring(e+1,t.length))+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}]),t}(),ml=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i){return ll(this,n),e.call(this,t,r,o,i)}return fl(n,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==o.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}]),n}(dl),gl=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i){return ll(this,n),e.call(this,t,r+1,o,i)}return fl(n)}(ml),Sl=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i,u){var c;return ll(this,n),(c=e.call(this,t,r,i,u)).lastIndex=o,c}return fl(n,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}},{key:"toString",value:function(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}]),n}(dl);const Ol={atn:$u,dfa:ac,context:lc,misc:sc,tree:Sc,error:ea,Token:o,CommonToken:yi,CharStreams:va,CharStream:aa,InputStream:aa,CommonTokenStream:Ra,Lexer:Ui,Parser:Ua,ParserRuleContext:el,Interval:B,IntervalSet:V,LL1Analyzer:Ie,Utils:da,TokenStreamRewriter:vl}})();var o=exports;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=antlr4.web.cjs.map

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var exports = __webpack_exports__;
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
const LoadPrimaryPage_1 = __webpack_require__(/*! ./LoadPrimaryPage */ "./src/LoadPrimaryPage.ts");
const LoadExpressionTestPage_1 = __webpack_require__(/*! ./LoadExpressionTestPage */ "./src/LoadExpressionTestPage.ts");
const LoadInputParseTestPage_1 = __webpack_require__(/*! ./LoadInputParseTestPage */ "./src/LoadInputParseTestPage.ts");
const LoadSolverPage_1 = __webpack_require__(/*! ./LoadSolverPage */ "./src/LoadSolverPage.ts");
const LoadSimplificationTestPage_1 = __webpack_require__(/*! ./LoadSimplificationTestPage */ "./src/LoadSimplificationTestPage.ts");
window.onload = () => {
    setTimeout(function () {
        /**
          * Populate html elements by their class.
          */
        const classes = document.getElementsByTagName('body')[0].classList;
        if (classes.contains('expressionTestPage')) {
            (0, LoadExpressionTestPage_1.loadExpressionsTestPage)();
        }
        else if (classes.contains('primaryIntegrator')) {
            (0, LoadPrimaryPage_1.loadPrimaryPage)();
        }
        else if (classes.contains('inputParseTest')) {
            (0, LoadInputParseTestPage_1.loadInputParseTestPage)();
        }
        else if (classes.contains('solve_in_steps')) {
            (0, LoadSolverPage_1.loadSolverPage)();
        }
        else if (classes.contains('mathTests')) {
            (0, LoadSimplificationTestPage_1.loadSimplificationTestPage)();
        }
    }, 100);
};

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGlCQUFpQixnQ0FBZ0M7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZCQUE2Qjs7QUFFbEQ7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBCQUEwQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3ZGQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBLGVBQWUsbUJBQU8sQ0FBQyw0REFBZTs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCO0FBQ3pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNCQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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QUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7O0FDaEpBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQy9EQTs7QUFFQSxlQUFlLG1CQUFPLENBQUMsa0VBQWE7QUFDcEMsaUJBQWlCLG1CQUFPLENBQUMsc0VBQWU7QUFDeEMsc0JBQXNCLG1CQUFPLENBQUMsbUZBQXVCO0FBQ3JELDZCQUE2QixtQkFBTyxDQUFDLG9HQUE2Qjs7QUFFbEU7O0FBRUEsaUJBQWlCO0FBQ2pCLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDaFFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FB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LEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdEUsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFO0lBQ3RFLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3ZFLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN0RSxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUU7SUFDdkUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRztJQUN4RSxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHO0lBQ3pFLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3ZFLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUU7SUFDeEUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRTtJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN0RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUU7SUFDdkUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRztJQUN6RSxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxFQUFFO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUc7SUFDekUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxHQUFHLEVB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RUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN4RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFO0lBQ3hFLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRTtJQUN0RSxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUU7SUFDeEUsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztBQVlaLCtCQUFjLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUUsQ0FBQyxFQUFpQixFQUFFLEtBQWEsRUFBRSxFQUFFLENBQUMsSUFBSSxZQUFHLENBQUMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFFLENBQUM7cUJBeGxCMUcsZ0JBQWdCO0FBNGxCckMsTUFBYSxlQUFnQixTQUFRLDBCQUFpQjtJQUNyRCxZ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OztVQUVBO1VBQ0E7VUFDQTs7Ozs7Ozs7Ozs7OztBQ3RCQSxtR0FBb0Q7QUFDcEQsd0hBQWtFO0FBQ2xFLHdIQUFrRTtBQUNsRSxnR0FBa0Q7QUFDbEQsb0lBQTBFO0FBRTFFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFO0lBQ2pCLFVBQVUsQ0FDTjtRQUNHOztZQUVJO1FBQ0gsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVM7UUFFbEUsSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7WUFDeEMsb0RBQXVCLEdBQUU7U0FDNUI7YUFBTSxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUM5QyxxQ0FBZSxHQUFFO1NBQ3BCO2FBQU0sSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFDM0MsbURBQXNCLEdBQUU7U0FDM0I7YUFBTSxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUMzQyxtQ0FBYyxHQUFFO1NBQ25CO2FBQU0sSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFO1lBQ3RDLDJEQUEwQixHQUFFO1NBQy9CO0lBQ0wsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBRWhCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5ldmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGguZ3JhcGgvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvTm9kZUhlYXAuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvYS1ncmVlZHktc3Rhci5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9hLXN0YXIuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvZGVmYXVsdFNldHRpbmdzLmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL2hldXJpc3RpY3MuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvbWFrZVNlYXJjaFN0YXRlUG9vbC5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9uYmEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvbmJhL21ha2VOQkFTZWFyY2hTdGF0ZVBvb2wuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL0xvYWRFeHByZXNzaW9uVGVzdFBhZ2UudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9Mb2FkSW5wdXRQYXJzZVRlc3RQYWdlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvTG9hZFByaW1hcnlQYWdlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvTG9hZFNpbXBsaWZpY2F0aW9uVGVzdFBhZ2UudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9Mb2FkU29sdmVyUGFnZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvQXJndW1lbnQudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9ucy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvR3JhcGgudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL0dyYXBoTWluaXB1bGF0b3IudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL01hdGhHcmFwaE5vZGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL1JlbGF0aW9uc2hpcC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvRGVyaXZhdGlvblJ1bGVzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9EZXJpdmVyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9SZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2FsZ2VicmEvRGl2aWRlT25Cb3RoU2lkZXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2FsZ2VicmEvU3VidHJhY3RGcm9tQm90aFNpZGVzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9CcmVha0Rlcml2YXRpdmVzT3ZlckFkZGl0aW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9Db25zdGFudERlcml2YXRpdmUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL1Bvd2VyUnVsZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvY2FsY3VsdXMvUHJvZHVjdFJ1bGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL1B1bGxDb25zdGFudHNGcm9tRGVyaXZhdGl2ZXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL1B1bGxDb25zdGFudHNGcm9tSW50ZWdyYWxzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9RdW90aWVudFJ1bGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL1JldmVyc2VQb3dlclJ1bGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL1VTdWJzdGl0dXRpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3JlY3Vyc2lvbi50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0FkZGl0aXZlSWRlbnRpdHkudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Bbnl0aGluZ1RpbWVzWmVyby50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0Fzc29jaWF0aXZlUHJvcGVydHlPZlByb2R1Y3RzQW5kU3Vtcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0NhbmNlbE5lZ2F0aXZlcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0NvbWJpbmVDb21tb25GYWN0b3JzTXVsdGlwbGljYXRpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lQ29tbW9uVGVybXNBZGRpdGlvbi50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0NvbWJpbmVJbnRlZ2VyRmFjdG9ycy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0NvbWJpbmVQcm9kdWN0c0FuZEZyYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0Rpc3RyaWJ1dGl2ZVByb3BlcnR5LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvRGl2aWRlRnJhY3Rpb25zLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvRGl2aXNpb25JZGVudGl0eS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0V2YWx1YXRlU3Vtcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0V4cG9uZW50VG9aZXJvLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvRXhwb25lbnRpYWxJZGVudGl0eS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0ZPSUwudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Mb2dPZk9uZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL011bHRpcGxpY2F0aXZlSWRlbnRpdHkudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9NdWx0aXBseUV4cG9uZW50UG93ZXJzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvTXVsdGlwbHlGcmFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9PcmRlclByb2R1Y3RzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvT3JkZXJTdW1zLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvUmVtb3ZlQ29tbW9uRmFjdG9yc09uVG9wQW5kQm90dG9tT2ZGcmFjdGlvbi50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL1N1YnRyYWN0RXhwb25lbnRzT25GcmFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9TdW1Db2VmZmljaWVudHNPZkFkZGVkVGVybXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL0Rlcml2YXRpdmUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL0V4cG9uZW50LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9FeHByZXNzaW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9GcmFjdGlvbi50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvSW50ZWdlci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvSW50ZWdyYWwudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL0xvZ2FyaXRobS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvU3VtLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9WYXJpYWJsZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvaW50ZXJwcmV0aW5nL0ludGVycHJldGVyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9pbnRlcnByZXRpbmcvUGF0aC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9Bcmd1bWVudE5vZGVWaWV3LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL0VkZ2VWaWV3LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL0VkaXRhYmxlTWF0aFZpZXcudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvRXhwbGFuYXRpb25Qb3B1cC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9FeHByZXNzaW9uTm9kZVZpZXcudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvR3JhcGhOb2RlVmlldy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9Ub3VjaEdlc3R1cmVSZWNvZ25pemVyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL1VJUHJlZmVyZW5jZXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvV2ViR3JhcGhWaWV3LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvQW50bHJNYXRoUGFyc2VyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvRmxhdHRlbmVyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvTWF0aFZpc2l0b3JJbXBsLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvYXJpdGhtZXRpY0xleGVyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvYXJpdGhtZXRpY1BhcnNlci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWNWaXNpdG9yLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91dGlsL01hdGhNTEhlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3V0aWwvYXNzZXJ0LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvYW50bHI0L2Rpc3QvYW50bHI0LndlYi5janMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBldmVudGlmeShzdWJqZWN0KSB7XG4gIHZhbGlkYXRlU3ViamVjdChzdWJqZWN0KTtcblxuICB2YXIgZXZlbnRzU3RvcmFnZSA9IGNyZWF0ZUV2ZW50c1N0b3JhZ2Uoc3ViamVjdCk7XG4gIHN1YmplY3Qub24gPSBldmVudHNTdG9yYWdlLm9uO1xuICBzdWJqZWN0Lm9mZiA9IGV2ZW50c1N0b3JhZ2Uub2ZmO1xuICBzdWJqZWN0LmZpcmUgPSBldmVudHNTdG9yYWdlLmZpcmU7XG4gIHJldHVybiBzdWJqZWN0O1xufTtcblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRzU3RvcmFnZShzdWJqZWN0KSB7XG4gIC8vIFN0b3JlIGFsbCBldmVudCBsaXN0ZW5lcnMgdG8gdGhpcyBoYXNoLiBLZXkgaXMgZXZlbnQgbmFtZSwgdmFsdWUgaXMgYXJyYXlcbiAgLy8gb2YgY2FsbGJhY2sgcmVjb3Jkcy5cbiAgLy9cbiAgLy8gQSBjYWxsYmFjayByZWNvcmQgY29uc2lzdHMgb2YgY2FsbGJhY2sgZnVuY3Rpb24gYW5kIGl0cyBvcHRpb25hbCBjb250ZXh0OlxuICAvLyB7ICdldmVudE5hbWUnID0+IFt7Y2FsbGJhY2s6IGZ1bmN0aW9uLCBjdHg6IG9iamVjdH1dIH1cbiAgdmFyIHJlZ2lzdGVyZWRFdmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIHJldHVybiB7XG4gICAgb246IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYWxsYmFjayBpcyBleHBlY3RlZCB0byBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgICB2YXIgaGFuZGxlcnMgPSByZWdpc3RlcmVkRXZlbnRzW2V2ZW50TmFtZV07XG4gICAgICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgICAgIGhhbmRsZXJzID0gcmVnaXN0ZXJlZEV2ZW50c1tldmVudE5hbWVdID0gW107XG4gICAgICB9XG4gICAgICBoYW5kbGVycy5wdXNoKHtjYWxsYmFjazogY2FsbGJhY2ssIGN0eDogY3R4fSk7XG5cbiAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH0sXG5cbiAgICBvZmY6IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgd2FudFRvUmVtb3ZlQWxsID0gKHR5cGVvZiBldmVudE5hbWUgPT09ICd1bmRlZmluZWQnKTtcbiAgICAgIGlmICh3YW50VG9SZW1vdmVBbGwpIHtcbiAgICAgICAgLy8gS2lsbGluZyBvbGQgZXZlbnRzIHN0b3JhZ2Ugc2hvdWxkIGJlIGVub3VnaCBpbiB0aGlzIGNhc2U6XG4gICAgICAgIHJlZ2lzdGVyZWRFdmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlZ2lzdGVyZWRFdmVudHNbZXZlbnROYW1lXSkge1xuICAgICAgICB2YXIgZGVsZXRlQWxsQ2FsbGJhY2tzRm9yRXZlbnQgPSAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgaWYgKGRlbGV0ZUFsbENhbGxiYWNrc0ZvckV2ZW50KSB7XG4gICAgICAgICAgZGVsZXRlIHJlZ2lzdGVyZWRFdmVudHNbZXZlbnROYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gcmVnaXN0ZXJlZEV2ZW50c1tldmVudE5hbWVdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2ldLmNhbGxiYWNrID09PSBjYWxsYmFjaykge1xuICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9LFxuXG4gICAgZmlyZTogZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgdmFyIGNhbGxiYWNrcyA9IHJlZ2lzdGVyZWRFdmVudHNbZXZlbnROYW1lXTtcbiAgICAgIGlmICghY2FsbGJhY2tzKSB7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlyZUFyZ3VtZW50cztcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmaXJlQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICB9XG4gICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjYWxsYmFja0luZm8gPSBjYWxsYmFja3NbaV07XG4gICAgICAgIGNhbGxiYWNrSW5mby5jYWxsYmFjay5hcHBseShjYWxsYmFja0luZm8uY3R4LCBmaXJlQXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVN1YmplY3Qoc3ViamVjdCkge1xuICBpZiAoIXN1YmplY3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50aWZ5IGNhbm5vdCB1c2UgZmFsc3kgb2JqZWN0IGFzIGV2ZW50cyBzdWJqZWN0Jyk7XG4gIH1cbiAgdmFyIHJlc2VydmVkV29yZHMgPSBbJ29uJywgJ2ZpcmUnLCAnb2ZmJ107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzZXJ2ZWRXb3Jkcy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChzdWJqZWN0Lmhhc093blByb3BlcnR5KHJlc2VydmVkV29yZHNbaV0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdWJqZWN0IGNhbm5vdCBiZSBldmVudGlmaWVkLCBzaW5jZSBpdCBhbHJlYWR5IGhhcyBwcm9wZXJ0eSAnXCIgKyByZXNlcnZlZFdvcmRzW2ldICsgXCInXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3IENvbnRhaW5zIGRlZmluaXRpb24gb2YgdGhlIGNvcmUgZ3JhcGggb2JqZWN0LlxuICovXG5cbi8vIFRPRE86IG5lZWQgdG8gY2hhbmdlIHN0b3JhZ2UgbGF5ZXI6XG4vLyAxLiBCZSBhYmxlIHRvIGdldCBhbGwgbm9kZXMgTygxKVxuLy8gMi4gQmUgYWJsZSB0byBnZXQgbnVtYmVyIG9mIGxpbmtzIE8oMSlcblxuLyoqXG4gKiBAZXhhbXBsZVxuICogIHZhciBncmFwaCA9IHJlcXVpcmUoJ25ncmFwaC5ncmFwaCcpKCk7XG4gKiAgZ3JhcGguYWRkTm9kZSgxKTsgICAgIC8vIGdyYXBoIGhhcyBvbmUgbm9kZS5cbiAqICBncmFwaC5hZGRMaW5rKDIsIDMpOyAgLy8gbm93IGdyYXBoIGNvbnRhaW5zIHRocmVlIG5vZGVzIGFuZCBvbmUgbGluay5cbiAqXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlR3JhcGg7XG5cbnZhciBldmVudGlmeSA9IHJlcXVpcmUoJ25ncmFwaC5ldmVudHMnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGdyYXBoXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUdyYXBoKG9wdGlvbnMpIHtcbiAgLy8gR3JhcGggc3RydWN0dXJlIGlzIG1haW50YWluZWQgYXMgZGljdGlvbmFyeSBvZiBub2Rlc1xuICAvLyBhbmQgYXJyYXkgb2YgbGlua3MuIEVhY2ggbm9kZSBoYXMgJ2xpbmtzJyBwcm9wZXJ0eSB3aGljaFxuICAvLyBob2xkIGFsbCBsaW5rcyByZWxhdGVkIHRvIHRoYXQgbm9kZS4gQW5kIGdlbmVyYWwgbGlua3NcbiAgLy8gYXJyYXkgaXMgdXNlZCB0byBzcGVlZCB1cCBhbGwgbGlua3MgZW51bWVyYXRpb24uIFRoaXMgaXMgaW5lZmZpY2llbnRcbiAgLy8gaW4gdGVybXMgb2YgbWVtb3J5LCBidXQgc2ltcGxpZmllcyBjb2RpbmcuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoJ3VuaXF1ZUxpbmtJZCcgaW4gb3B0aW9ucykge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICduZ3JhcGguZ3JhcGg6IFN0YXJ0aW5nIGZyb20gdmVyc2lvbiAwLjE0IGB1bmlxdWVMaW5rSWRgIGlzIGRlcHJlY2F0ZWQuXFxuJyArXG4gICAgICAnVXNlIGBtdWx0aWdyYXBoYCBvcHRpb24gaW5zdGVhZFxcbicsXG4gICAgICAnXFxuJyxcbiAgICAgICdOb3RlOiB0aGVyZSBpcyBhbHNvIGNoYW5nZSBpbiBkZWZhdWx0IGJlaGF2aW9yOiBGcm9tIG5vdyBvbiBlYWNoIGdyYXBoXFxuJytcbiAgICAgICdpcyBjb25zaWRlcmVkIHRvIGJlIG5vdCBhIG11bHRpZ3JhcGggYnkgZGVmYXVsdCAoZWFjaCBlZGdlIGlzIHVuaXF1ZSkuJ1xuICAgICk7XG5cbiAgICBvcHRpb25zLm11bHRpZ3JhcGggPSBvcHRpb25zLnVuaXF1ZUxpbmtJZDtcbiAgfVxuXG4gIC8vIERlYXIgcmVhZGVyLCB0aGUgbm9uLW11bHRpZ3JhcGhzIGRvIG5vdCBndWFyYW50ZWUgdGhhdCB0aGVyZSBpcyBvbmx5XG4gIC8vIG9uZSBsaW5rIGZvciBhIGdpdmVuIHBhaXIgb2Ygbm9kZS4gV2hlbiB0aGlzIG9wdGlvbiBpcyBzZXQgdG8gZmFsc2VcbiAgLy8gd2UgY2FuIHNhdmUgc29tZSBtZW1vcnkgYW5kIENQVSAoMTglIGZhc3RlciBmb3Igbm9uLW11bHRpZ3JhcGgpO1xuICBpZiAob3B0aW9ucy5tdWx0aWdyYXBoID09PSB1bmRlZmluZWQpIG9wdGlvbnMubXVsdGlncmFwaCA9IGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgTWFwICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gVE9ETzogU2hvdWxkIHdlIHBvbHlmaWxsIGl0IG91cnNlbHZlcz8gV2UgZG9uJ3QgdXNlIG11Y2ggb3BlcmF0aW9ucyB0aGVyZS4uXG4gICAgdGhyb3cgbmV3IEVycm9yKCduZ3JhcGguZ3JhcGggcmVxdWlyZXMgYE1hcGAgdG8gYmUgZGVmaW5lZC4gUGxlYXNlIHBvbHlmaWxsIGl0IGJlZm9yZSB1c2luZyBuZ3JhcGgnKTtcbiAgfSBcblxuICB2YXIgbm9kZXMgPSBuZXcgTWFwKCk7IC8vIG5vZGVJZCA9PiBOb2RlXG4gIHZhciBsaW5rcyA9IG5ldyBNYXAoKTsgLy8gbGlua0lkID0+IExpbmtcbiAgICAvLyBIYXNoIG9mIG11bHRpLWVkZ2VzLiBVc2VkIHRvIHRyYWNrIGlkcyBvZiBlZGdlcyBiZXR3ZWVuIHNhbWUgbm9kZXNcbiAgdmFyIG11bHRpRWRnZXMgPSB7fTtcbiAgdmFyIHN1c3BlbmRFdmVudHMgPSAwO1xuXG4gIHZhciBjcmVhdGVMaW5rID0gb3B0aW9ucy5tdWx0aWdyYXBoID8gY3JlYXRlVW5pcXVlTGluayA6IGNyZWF0ZVNpbmdsZUxpbmssXG5cbiAgICAvLyBPdXIgZ3JhcGggQVBJIHByb3ZpZGVzIG1lYW5zIHRvIGxpc3RlbiB0byBncmFwaCBjaGFuZ2VzLiBVc2VycyBjYW4gc3Vic2NyaWJlXG4gICAgLy8gdG8gYmUgbm90aWZpZWQgYWJvdXQgY2hhbmdlcyBpbiB0aGUgZ3JhcGggYnkgdXNpbmcgYG9uYCBtZXRob2QuIEhvd2V2ZXJcbiAgICAvLyBpbiBzb21lIGNhc2VzIHRoZXkgZG9uJ3QgdXNlIGl0LiBUbyBhdm9pZCB1bm5lY2Vzc2FyeSBtZW1vcnkgY29uc3VtcHRpb25cbiAgICAvLyB3ZSB3aWxsIG5vdCByZWNvcmQgZ3JhcGggY2hhbmdlcyB1bnRpbCB3ZSBoYXZlIGF0IGxlYXN0IG9uZSBzdWJzY3JpYmVyLlxuICAgIC8vIENvZGUgYmVsb3cgc3VwcG9ydHMgdGhpcyBvcHRpbWl6YXRpb24uXG4gICAgLy9cbiAgICAvLyBBY2N1bXVsYXRlcyBhbGwgY2hhbmdlcyBtYWRlIGR1cmluZyBncmFwaCB1cGRhdGVzLlxuICAgIC8vIEVhY2ggY2hhbmdlIGVsZW1lbnQgY29udGFpbnM6XG4gICAgLy8gIGNoYW5nZVR5cGUgLSBvbmUgb2YgdGhlIHN0cmluZ3M6ICdhZGQnLCAncmVtb3ZlJyBvciAndXBkYXRlJztcbiAgICAvLyAgbm9kZSAtIGlmIGNoYW5nZSBpcyByZWxhdGVkIHRvIG5vZGUgdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gY2hhbmdlZCBncmFwaCdzIG5vZGU7XG4gICAgLy8gIGxpbmsgLSBpZiBjaGFuZ2UgaXMgcmVsYXRlZCB0byBsaW5rIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIGNoYW5nZWQgZ3JhcGgncyBsaW5rO1xuICAgIGNoYW5nZXMgPSBbXSxcbiAgICByZWNvcmRMaW5rQ2hhbmdlID0gbm9vcCxcbiAgICByZWNvcmROb2RlQ2hhbmdlID0gbm9vcCxcbiAgICBlbnRlck1vZGlmaWNhdGlvbiA9IG5vb3AsXG4gICAgZXhpdE1vZGlmaWNhdGlvbiA9IG5vb3A7XG5cbiAgLy8gdGhpcyBpcyBvdXIgcHVibGljIEFQSTpcbiAgdmFyIGdyYXBoUGFydCA9IHtcbiAgICAvKipcbiAgICAgKiBTb21ldGltZXMgZHVjayB0eXBpbmcgY291bGQgYmUgc2xvdy4gR2l2aW5nIGNsaWVudHMgYSBoaW50IGFib3V0IGRhdGEgc3RydWN0dXJlXG4gICAgICogdmlhIGV4cGxpY2l0IHZlcnNpb24gbnVtYmVyIGhlcmU6XG4gICAgICovXG4gICAgdmVyc2lvbjogMjAuMCxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgbm9kZSB0byB0aGUgZ3JhcGguIElmIG5vZGUgd2l0aCBnaXZlbiBpZCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZ3JhcGhcbiAgICAgKiBpdHMgZGF0YSBpcyBleHRlbmRlZCB3aXRoIHdoYXRldmVyIGNvbWVzIGluICdkYXRhJyBhcmd1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlSWQgdGhlIG5vZGUncyBpZGVudGlmaWVyLiBBIHN0cmluZyBvciBudW1iZXIgaXMgcHJlZmVycmVkLlxuICAgICAqIEBwYXJhbSBbZGF0YV0gYWRkaXRpb25hbCBkYXRhIGZvciB0aGUgbm9kZSBiZWluZyBhZGRlZC4gSWYgbm9kZSBhbHJlYWR5XG4gICAgICogICBleGlzdHMgaXRzIGRhdGEgb2JqZWN0IGlzIGF1Z21lbnRlZCB3aXRoIHRoZSBuZXcgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7bm9kZX0gVGhlIG5ld2x5IGFkZGVkIG5vZGUgb3Igbm9kZSB3aXRoIGdpdmVuIGlkIGlmIGl0IGFscmVhZHkgZXhpc3RzLlxuICAgICAqL1xuICAgIGFkZE5vZGU6IGFkZE5vZGUsXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGluayB0byB0aGUgZ3JhcGguIFRoZSBmdW5jdGlvbiBhbHdheXMgY3JlYXRlIGEgbmV3XG4gICAgICogbGluayBiZXR3ZWVuIHR3byBub2Rlcy4gSWYgb25lIG9mIHRoZSBub2RlcyBkb2VzIG5vdCBleGlzdHNcbiAgICAgKiBhIG5ldyBub2RlIGlzIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbUlkIGxpbmsgc3RhcnQgbm9kZSBpZDtcbiAgICAgKiBAcGFyYW0gdG9JZCBsaW5rIGVuZCBub2RlIGlkO1xuICAgICAqIEBwYXJhbSBbZGF0YV0gYWRkaXRpb25hbCBkYXRhIHRvIGJlIHNldCBvbiB0aGUgbmV3IGxpbms7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtsaW5rfSBUaGUgbmV3bHkgY3JlYXRlZCBsaW5rXG4gICAgICovXG4gICAgYWRkTGluazogYWRkTGluayxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGluayBmcm9tIHRoZSBncmFwaC4gSWYgbGluayBkb2VzIG5vdCBleGlzdCBkb2VzIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGluayAtIG9iamVjdCByZXR1cm5lZCBieSBhZGRMaW5rKCkgb3IgZ2V0TGlua3MoKSBtZXRob2RzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBsaW5rIHdhcyByZW1vdmVkOyBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgcmVtb3ZlTGluazogcmVtb3ZlTGluayxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbm9kZSB3aXRoIGdpdmVuIGlkIGZyb20gdGhlIGdyYXBoLiBJZiBub2RlIGRvZXMgbm90IGV4aXN0IGluIHRoZSBncmFwaFxuICAgICAqIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlSWQgbm9kZSdzIGlkZW50aWZpZXIgcGFzc2VkIHRvIGFkZE5vZGUoKSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgbm9kZSB3YXMgcmVtb3ZlZDsgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHJlbW92ZU5vZGU6IHJlbW92ZU5vZGUsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG5vZGUgd2l0aCBnaXZlbiBpZGVudGlmaWVyLiBJZiBub2RlIGRvZXMgbm90IGV4aXN0IHVuZGVmaW5lZCB2YWx1ZSBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlSWQgcmVxdWVzdGVkIG5vZGUgaWRlbnRpZmllcjtcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge25vZGV9IGluIHdpdGggcmVxdWVzdGVkIGlkZW50aWZpZXIgb3IgdW5kZWZpbmVkIGlmIG5vIHN1Y2ggbm9kZSBleGlzdHMuXG4gICAgICovXG4gICAgZ2V0Tm9kZTogZ2V0Tm9kZSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgbnVtYmVyIG9mIG5vZGVzIGluIHRoaXMgZ3JhcGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiBub2RlcyBpbiB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgZ2V0Tm9kZUNvdW50OiBnZXROb2RlQ291bnQsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRvdGFsIG51bWJlciBvZiBsaW5rcyBpbiB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgZ2V0TGlua0NvdW50OiBnZXRMaW5rQ291bnQsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRvdGFsIG51bWJlciBvZiBsaW5rcyBpbiB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgZ2V0RWRnZUNvdW50OiBnZXRMaW5rQ291bnQsXG5cbiAgICAvKipcbiAgICAgKiBTeW5vbnltIGZvciBgZ2V0TGlua0NvdW50KClgXG4gICAgICovXG4gICAgZ2V0TGlua3NDb3VudDogZ2V0TGlua0NvdW50LFxuICAgIFxuICAgIC8qKlxuICAgICAqIFN5bm9ueW0gZm9yIGBnZXROb2RlQ291bnQoKWBcbiAgICAgKi9cbiAgICBnZXROb2Rlc0NvdW50OiBnZXROb2RlQ291bnQsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBsaW5rcyAoaW5ib3VuZCBhbmQgb3V0Ym91bmQpIGZyb20gdGhlIG5vZGUgd2l0aCBnaXZlbiBpZC5cbiAgICAgKiBJZiBub2RlIHdpdGggZ2l2ZW4gaWQgaXMgbm90IGZvdW5kIG51bGwgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZUlkIHJlcXVlc3RlZCBub2RlIGlkZW50aWZpZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIFNldCBvZiBsaW5rcyBmcm9tIGFuZCB0byByZXF1ZXN0ZWQgbm9kZSBpZiBzdWNoIG5vZGUgZXhpc3RzO1xuICAgICAqICAgb3RoZXJ3aXNlIG51bGwgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgZ2V0TGlua3M6IGdldExpbmtzLFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBjYWxsYmFjayBvbiBlYWNoIG5vZGUgb2YgdGhlIGdyYXBoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbihub2RlKX0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gYmUgaW52b2tlZC4gVGhlIGZ1bmN0aW9uXG4gICAgICogICBpcyBwYXNzZWQgb25lIGFyZ3VtZW50OiB2aXNpdGVkIG5vZGUuXG4gICAgICovXG4gICAgZm9yRWFjaE5vZGU6IGZvckVhY2hOb2RlLFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBjYWxsYmFjayBvbiBldmVyeSBsaW5rZWQgKGFkamFjZW50KSBub2RlIHRvIHRoZSBnaXZlbiBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZUlkIElkZW50aWZpZXIgb2YgdGhlIHJlcXVlc3RlZCBub2RlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb24obm9kZSwgbGluayl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBhbGwgbGlua2VkIG5vZGVzLlxuICAgICAqICAgVGhlIGZ1bmN0aW9uIGlzIHBhc3NlZCB0d28gcGFyYW1ldGVyczogYWRqYWNlbnQgbm9kZSBhbmQgbGluayBvYmplY3QgaXRzZWxmLlxuICAgICAqIEBwYXJhbSBvcmllbnRlZCBpZiB0cnVlIGdyYXBoIHRyZWF0ZWQgYXMgb3JpZW50ZWQuXG4gICAgICovXG4gICAgZm9yRWFjaExpbmtlZE5vZGU6IGZvckVhY2hMaW5rZWROb2RlLFxuXG4gICAgLyoqXG4gICAgICogRW51bWVyYXRlcyBhbGwgbGlua3MgaW4gdGhlIGdyYXBoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uKGxpbmspfSBjYWxsYmFjayBGdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gYWxsIGxpbmtzIGluIHRoZSBncmFwaC5cbiAgICAgKiAgIFRoZSBmdW5jdGlvbiBpcyBwYXNzZWQgb25lIHBhcmFtZXRlcjogZ3JhcGgncyBsaW5rIG9iamVjdC5cbiAgICAgKlxuICAgICAqIExpbmsgb2JqZWN0IGNvbnRhaW5zIGF0IGxlYXN0IHRoZSBmb2xsb3dpbmcgZmllbGRzOlxuICAgICAqICBmcm9tSWQgLSBub2RlIGlkIHdoZXJlIGxpbmsgc3RhcnRzO1xuICAgICAqICB0b0lkIC0gbm9kZSBpZCB3aGVyZSBsaW5rIGVuZHMsXG4gICAgICogIGRhdGEgLSBhZGRpdGlvbmFsIGRhdGEgcGFzc2VkIHRvIGdyYXBoLmFkZExpbmsoKSBtZXRob2QuXG4gICAgICovXG4gICAgZm9yRWFjaExpbms6IGZvckVhY2hMaW5rLFxuXG4gICAgLyoqXG4gICAgICogU3VzcGVuZCBhbGwgbm90aWZpY2F0aW9ucyBhYm91dCBncmFwaCBjaGFuZ2VzIHVudGlsXG4gICAgICogZW5kVXBkYXRlIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBiZWdpblVwZGF0ZTogZW50ZXJNb2RpZmljYXRpb24sXG5cbiAgICAvKipcbiAgICAgKiBSZXN1bWVzIGFsbCBub3RpZmljYXRpb25zIGFib3V0IGdyYXBoIGNoYW5nZXMgYW5kIGZpcmVzXG4gICAgICogZ3JhcGggJ2NoYW5nZWQnIGV2ZW50IGluIGNhc2UgdGhlcmUgYXJlIGFueSBwZW5kaW5nIGNoYW5nZXMuXG4gICAgICovXG4gICAgZW5kVXBkYXRlOiBleGl0TW9kaWZpY2F0aW9uLFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgbm9kZXMgYW5kIGxpbmtzIGZyb20gdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIGNsZWFyOiBjbGVhcixcblxuICAgIC8qKlxuICAgICAqIERldGVjdHMgd2hldGhlciB0aGVyZSBpcyBhIGxpbmsgYmV0d2VlbiB0d28gbm9kZXMuXG4gICAgICogT3BlcmF0aW9uIGNvbXBsZXhpdHkgaXMgTyhuKSB3aGVyZSBuIC0gbnVtYmVyIG9mIGxpbmtzIG9mIGEgbm9kZS5cbiAgICAgKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIGlzIHN5bm9ueW0gZm9yIGdldExpbmsoKVxuICAgICAqXG4gICAgICogQHJldHVybnMgbGluayBpZiB0aGVyZSBpcyBvbmUuIG51bGwgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGhhc0xpbms6IGdldExpbmssXG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIHdoZXRoZXIgdGhlcmUgaXMgYSBub2RlIHdpdGggZ2l2ZW4gaWRcbiAgICAgKiBcbiAgICAgKiBPcGVyYXRpb24gY29tcGxleGl0eSBpcyBPKDEpXG4gICAgICogTk9URTogdGhpcyBmdW5jdGlvbiBpcyBzeW5vbnltIGZvciBnZXROb2RlKClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIG5vZGUgaWYgdGhlcmUgaXMgb25lOyBGYWxzeSB2YWx1ZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaGFzTm9kZTogZ2V0Tm9kZSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gZWRnZSBiZXR3ZWVuIHR3byBub2Rlcy5cbiAgICAgKiBPcGVyYXRpb24gY29tcGxleGl0eSBpcyBPKG4pIHdoZXJlIG4gLSBudW1iZXIgb2YgbGlua3Mgb2YgYSBub2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZyb21JZCBsaW5rIHN0YXJ0IGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdG9JZCBsaW5rIGVuZCBpZGVudGlmaWVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBsaW5rIGlmIHRoZXJlIGlzIG9uZTsgdW5kZWZpbmVkIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBnZXRMaW5rOiBnZXRMaW5rXG4gIH07XG5cbiAgLy8gdGhpcyB3aWxsIGFkZCBgb24oKWAgYW5kIGBmaXJlKClgIG1ldGhvZHMuXG4gIGV2ZW50aWZ5KGdyYXBoUGFydCk7XG5cbiAgbW9uaXRvclN1YnNjcmliZXJzKCk7XG5cbiAgcmV0dXJuIGdyYXBoUGFydDtcblxuICBmdW5jdGlvbiBtb25pdG9yU3Vic2NyaWJlcnMoKSB7XG4gICAgdmFyIHJlYWxPbiA9IGdyYXBoUGFydC5vbjtcblxuICAgIC8vIHJlcGxhY2UgcmVhbCBgb25gIHdpdGggb3VyIHRlbXBvcmFyeSBvbiwgd2hpY2ggd2lsbCB0cmlnZ2VyIGNoYW5nZVxuICAgIC8vIG1vZGlmaWNhdGlvbiBtb25pdG9yaW5nOlxuICAgIGdyYXBoUGFydC5vbiA9IG9uO1xuXG4gICAgZnVuY3Rpb24gb24oKSB7XG4gICAgICAvLyBub3cgaXQncyB0aW1lIHRvIHN0YXJ0IHRyYWNraW5nIHN0dWZmOlxuICAgICAgZ3JhcGhQYXJ0LmJlZ2luVXBkYXRlID0gZW50ZXJNb2RpZmljYXRpb24gPSBlbnRlck1vZGlmaWNhdGlvblJlYWw7XG4gICAgICBncmFwaFBhcnQuZW5kVXBkYXRlID0gZXhpdE1vZGlmaWNhdGlvbiA9IGV4aXRNb2RpZmljYXRpb25SZWFsO1xuICAgICAgcmVjb3JkTGlua0NoYW5nZSA9IHJlY29yZExpbmtDaGFuZ2VSZWFsO1xuICAgICAgcmVjb3JkTm9kZUNoYW5nZSA9IHJlY29yZE5vZGVDaGFuZ2VSZWFsO1xuXG4gICAgICAvLyB0aGlzIHdpbGwgcmVwbGFjZSBjdXJyZW50IGBvbmAgbWV0aG9kIHdpdGggcmVhbCBwdWIvc3ViIGZyb20gYGV2ZW50aWZ5YC5cbiAgICAgIGdyYXBoUGFydC5vbiA9IHJlYWxPbjtcbiAgICAgIC8vIGRlbGVnYXRlIHRvIHJlYWwgYG9uYCBoYW5kbGVyOlxuICAgICAgcmV0dXJuIHJlYWxPbi5hcHBseShncmFwaFBhcnQsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjb3JkTGlua0NoYW5nZVJlYWwobGluaywgY2hhbmdlVHlwZSkge1xuICAgIGNoYW5nZXMucHVzaCh7XG4gICAgICBsaW5rOiBsaW5rLFxuICAgICAgY2hhbmdlVHlwZTogY2hhbmdlVHlwZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVjb3JkTm9kZUNoYW5nZVJlYWwobm9kZSwgY2hhbmdlVHlwZSkge1xuICAgIGNoYW5nZXMucHVzaCh7XG4gICAgICBub2RlOiBub2RlLFxuICAgICAgY2hhbmdlVHlwZTogY2hhbmdlVHlwZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTm9kZShub2RlSWQsIGRhdGEpIHtcbiAgICBpZiAobm9kZUlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBub2RlIGlkZW50aWZpZXInKTtcbiAgICB9XG5cbiAgICBlbnRlck1vZGlmaWNhdGlvbigpO1xuXG4gICAgdmFyIG5vZGUgPSBnZXROb2RlKG5vZGVJZCk7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICBub2RlID0gbmV3IE5vZGUobm9kZUlkLCBkYXRhKTtcbiAgICAgIHJlY29yZE5vZGVDaGFuZ2Uobm9kZSwgJ2FkZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLmRhdGEgPSBkYXRhO1xuICAgICAgcmVjb3JkTm9kZUNoYW5nZShub2RlLCAndXBkYXRlJyk7XG4gICAgfVxuXG4gICAgbm9kZXMuc2V0KG5vZGVJZCwgbm9kZSk7XG5cbiAgICBleGl0TW9kaWZpY2F0aW9uKCk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb2RlKG5vZGVJZCkge1xuICAgIHJldHVybiBub2Rlcy5nZXQobm9kZUlkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZUlkKSB7XG4gICAgdmFyIG5vZGUgPSBnZXROb2RlKG5vZGVJZCk7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZW50ZXJNb2RpZmljYXRpb24oKTtcblxuICAgIHZhciBwcmV2TGlua3MgPSBub2RlLmxpbmtzO1xuICAgIGlmIChwcmV2TGlua3MpIHtcbiAgICAgIHByZXZMaW5rcy5mb3JFYWNoKHJlbW92ZUxpbmtJbnN0YW5jZSk7XG4gICAgICBub2RlLmxpbmtzID0gbnVsbDtcbiAgICB9XG5cbiAgICBub2Rlcy5kZWxldGUobm9kZUlkKTtcblxuICAgIHJlY29yZE5vZGVDaGFuZ2Uobm9kZSwgJ3JlbW92ZScpO1xuXG4gICAgZXhpdE1vZGlmaWNhdGlvbigpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGFkZExpbmsoZnJvbUlkLCB0b0lkLCBkYXRhKSB7XG4gICAgZW50ZXJNb2RpZmljYXRpb24oKTtcblxuICAgIHZhciBmcm9tTm9kZSA9IGdldE5vZGUoZnJvbUlkKSB8fCBhZGROb2RlKGZyb21JZCk7XG4gICAgdmFyIHRvTm9kZSA9IGdldE5vZGUodG9JZCkgfHwgYWRkTm9kZSh0b0lkKTtcblxuICAgIHZhciBsaW5rID0gY3JlYXRlTGluayhmcm9tSWQsIHRvSWQsIGRhdGEpO1xuICAgIHZhciBpc1VwZGF0ZSA9IGxpbmtzLmhhcyhsaW5rLmlkKTtcblxuICAgIGxpbmtzLnNldChsaW5rLmlkLCBsaW5rKTtcblxuICAgIC8vIFRPRE86IHRoaXMgaXMgbm90IGNvb2wuIE9uIGxhcmdlIGdyYXBocyBwb3RlbnRpYWxseSB3b3VsZCBjb25zdW1lIG1vcmUgbWVtb3J5LlxuICAgIGFkZExpbmtUb05vZGUoZnJvbU5vZGUsIGxpbmspO1xuICAgIGlmIChmcm9tSWQgIT09IHRvSWQpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBhcmUgbm90IGR1cGxpY2F0aW5nIGxpbmtzIGZvciBzZWxmLWxvb3BzXG4gICAgICBhZGRMaW5rVG9Ob2RlKHRvTm9kZSwgbGluayk7XG4gICAgfVxuXG4gICAgcmVjb3JkTGlua0NoYW5nZShsaW5rLCBpc1VwZGF0ZSA/ICd1cGRhdGUnIDogJ2FkZCcpO1xuXG4gICAgZXhpdE1vZGlmaWNhdGlvbigpO1xuXG4gICAgcmV0dXJuIGxpbms7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTaW5nbGVMaW5rKGZyb21JZCwgdG9JZCwgZGF0YSkge1xuICAgIHZhciBsaW5rSWQgPSBtYWtlTGlua0lkKGZyb21JZCwgdG9JZCk7XG4gICAgdmFyIHByZXZMaW5rID0gbGlua3MuZ2V0KGxpbmtJZCk7XG4gICAgaWYgKHByZXZMaW5rKSB7XG4gICAgICBwcmV2TGluay5kYXRhID0gZGF0YTtcbiAgICAgIHJldHVybiBwcmV2TGluaztcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IExpbmsoZnJvbUlkLCB0b0lkLCBkYXRhLCBsaW5rSWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVW5pcXVlTGluayhmcm9tSWQsIHRvSWQsIGRhdGEpIHtcbiAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyL2Zhc3RlciB3YXkgdG8gc3RvcmUgbXVsdGlncmFwaHNcbiAgICB2YXIgbGlua0lkID0gbWFrZUxpbmtJZChmcm9tSWQsIHRvSWQpO1xuICAgIHZhciBpc011bHRpRWRnZSA9IG11bHRpRWRnZXMuaGFzT3duUHJvcGVydHkobGlua0lkKTtcbiAgICBpZiAoaXNNdWx0aUVkZ2UgfHwgZ2V0TGluayhmcm9tSWQsIHRvSWQpKSB7XG4gICAgICBpZiAoIWlzTXVsdGlFZGdlKSB7XG4gICAgICAgIG11bHRpRWRnZXNbbGlua0lkXSA9IDA7XG4gICAgICB9XG4gICAgICB2YXIgc3VmZml4ID0gJ0AnICsgKCsrbXVsdGlFZGdlc1tsaW5rSWRdKTtcbiAgICAgIGxpbmtJZCA9IG1ha2VMaW5rSWQoZnJvbUlkICsgc3VmZml4LCB0b0lkICsgc3VmZml4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IExpbmsoZnJvbUlkLCB0b0lkLCBkYXRhLCBsaW5rSWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZUNvdW50KCkge1xuICAgIHJldHVybiBub2Rlcy5zaXplO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGlua0NvdW50KCkge1xuICAgIHJldHVybiBsaW5rcy5zaXplO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGlua3Mobm9kZUlkKSB7XG4gICAgdmFyIG5vZGUgPSBnZXROb2RlKG5vZGVJZCk7XG4gICAgcmV0dXJuIG5vZGUgPyBub2RlLmxpbmtzIDogbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUxpbmsobGluaywgb3RoZXJJZCkge1xuICAgIGlmIChvdGhlcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxpbmsgPSBnZXRMaW5rKGxpbmssIG90aGVySWQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVtb3ZlTGlua0luc3RhbmNlKGxpbmspO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTGlua0luc3RhbmNlKGxpbmspIHtcbiAgICBpZiAoIWxpbmspIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFsaW5rcy5nZXQobGluay5pZCkpIHJldHVybiBmYWxzZTtcblxuICAgIGVudGVyTW9kaWZpY2F0aW9uKCk7XG5cbiAgICBsaW5rcy5kZWxldGUobGluay5pZCk7XG5cbiAgICB2YXIgZnJvbU5vZGUgPSBnZXROb2RlKGxpbmsuZnJvbUlkKTtcbiAgICB2YXIgdG9Ob2RlID0gZ2V0Tm9kZShsaW5rLnRvSWQpO1xuXG4gICAgaWYgKGZyb21Ob2RlKSB7XG4gICAgICBmcm9tTm9kZS5saW5rcy5kZWxldGUobGluayk7XG4gICAgfVxuXG4gICAgaWYgKHRvTm9kZSkge1xuICAgICAgdG9Ob2RlLmxpbmtzLmRlbGV0ZShsaW5rKTtcbiAgICB9XG5cbiAgICByZWNvcmRMaW5rQ2hhbmdlKGxpbmssICdyZW1vdmUnKTtcblxuICAgIGV4aXRNb2RpZmljYXRpb24oKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGluayhmcm9tTm9kZUlkLCB0b05vZGVJZCkge1xuICAgIGlmIChmcm9tTm9kZUlkID09PSB1bmRlZmluZWQgfHwgdG9Ob2RlSWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbGlua3MuZ2V0KG1ha2VMaW5rSWQoZnJvbU5vZGVJZCwgdG9Ob2RlSWQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGVudGVyTW9kaWZpY2F0aW9uKCk7XG4gICAgZm9yRWFjaE5vZGUoZnVuY3Rpb24obm9kZSkge1xuICAgICAgcmVtb3ZlTm9kZShub2RlLmlkKTtcbiAgICB9KTtcbiAgICBleGl0TW9kaWZpY2F0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JFYWNoTGluayhjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciB2YWx1ZXNJdGVyYXRvciA9IGxpbmtzLnZhbHVlcygpO1xuICAgICAgdmFyIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHdoaWxlICghbmV4dFZhbHVlLmRvbmUpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKG5leHRWYWx1ZS52YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gY2xpZW50IGRvZXNuJ3Qgd2FudCB0byBwcm9jZWVkLiBSZXR1cm4uXG4gICAgICAgIH1cbiAgICAgICAgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZvckVhY2hMaW5rZWROb2RlKG5vZGVJZCwgY2FsbGJhY2ssIG9yaWVudGVkKSB7XG4gICAgdmFyIG5vZGUgPSBnZXROb2RlKG5vZGVJZCk7XG5cbiAgICBpZiAobm9kZSAmJiBub2RlLmxpbmtzICYmIHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKG9yaWVudGVkKSB7XG4gICAgICAgIHJldHVybiBmb3JFYWNoT3JpZW50ZWRMaW5rKG5vZGUubGlua3MsIG5vZGVJZCwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZvckVhY2hOb25PcmllbnRlZExpbmsobm9kZS5saW5rcywgbm9kZUlkLCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICBmdW5jdGlvbiBmb3JFYWNoTm9uT3JpZW50ZWRMaW5rKGxpbmtzLCBub2RlSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHF1aXRGYXN0O1xuXG4gICAgdmFyIHZhbHVlc0l0ZXJhdG9yID0gbGlua3MudmFsdWVzKCk7XG4gICAgdmFyIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICB3aGlsZSAoIW5leHRWYWx1ZS5kb25lKSB7XG4gICAgICB2YXIgbGluayA9IG5leHRWYWx1ZS52YWx1ZTtcbiAgICAgIHZhciBsaW5rZWROb2RlSWQgPSBsaW5rLmZyb21JZCA9PT0gbm9kZUlkID8gbGluay50b0lkIDogbGluay5mcm9tSWQ7XG4gICAgICBxdWl0RmFzdCA9IGNhbGxiYWNrKG5vZGVzLmdldChsaW5rZWROb2RlSWQpLCBsaW5rKTtcbiAgICAgIGlmIChxdWl0RmFzdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ2xpZW50IGRvZXMgbm90IG5lZWQgbW9yZSBpdGVyYXRpb25zLiBCcmVhayBub3cuXG4gICAgICB9XG4gICAgICBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICBmdW5jdGlvbiBmb3JFYWNoT3JpZW50ZWRMaW5rKGxpbmtzLCBub2RlSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHF1aXRGYXN0O1xuICAgIHZhciB2YWx1ZXNJdGVyYXRvciA9IGxpbmtzLnZhbHVlcygpO1xuICAgIHZhciBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgd2hpbGUgKCFuZXh0VmFsdWUuZG9uZSkge1xuICAgICAgdmFyIGxpbmsgPSBuZXh0VmFsdWUudmFsdWU7XG4gICAgICBpZiAobGluay5mcm9tSWQgPT09IG5vZGVJZCkge1xuICAgICAgICBxdWl0RmFzdCA9IGNhbGxiYWNrKG5vZGVzLmdldChsaW5rLnRvSWQpLCBsaW5rKTtcbiAgICAgICAgaWYgKHF1aXRGYXN0KSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7IC8vIENsaWVudCBkb2VzIG5vdCBuZWVkIG1vcmUgaXRlcmF0aW9ucy4gQnJlYWsgbm93LlxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gd2Ugd2lsbCBub3QgZmlyZSBhbnl0aGluZyB1bnRpbCB1c2VycyBvZiB0aGlzIGxpYnJhcnkgZXhwbGljaXRseSBjYWxsIGBvbigpYFxuICAvLyBtZXRob2QuXG4gIGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4gIC8vIEVudGVyLCBFeGl0IG1vZGlmaWNhdGlvbiBhbGxvd3MgYnVsayBncmFwaCB1cGRhdGVzIHdpdGhvdXQgZmlyaW5nIGV2ZW50cy5cbiAgZnVuY3Rpb24gZW50ZXJNb2RpZmljYXRpb25SZWFsKCkge1xuICAgIHN1c3BlbmRFdmVudHMgKz0gMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4aXRNb2RpZmljYXRpb25SZWFsKCkge1xuICAgIHN1c3BlbmRFdmVudHMgLT0gMTtcbiAgICBpZiAoc3VzcGVuZEV2ZW50cyA9PT0gMCAmJiBjaGFuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGdyYXBoUGFydC5maXJlKCdjaGFuZ2VkJywgY2hhbmdlcyk7XG4gICAgICBjaGFuZ2VzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZm9yRWFjaE5vZGUoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIGl0ZXJhdGUgb3ZlciBncmFwaCBub2Rlcy4gWW91IHBhc3NlZCAnICsgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXNJdGVyYXRvciA9IG5vZGVzLnZhbHVlcygpO1xuICAgIHZhciBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgd2hpbGUgKCFuZXh0VmFsdWUuZG9uZSkge1xuICAgICAgaWYgKGNhbGxiYWNrKG5leHRWYWx1ZS52YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIGNsaWVudCBkb2Vzbid0IHdhbnQgdG8gcHJvY2VlZC4gUmV0dXJuLlxuICAgICAgfVxuICAgICAgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIHN0cnVjdHVyZSB0byByZXByZXNlbnQgbm9kZTtcbiAqL1xuZnVuY3Rpb24gTm9kZShpZCwgZGF0YSkge1xuICB0aGlzLmlkID0gaWQ7XG4gIHRoaXMubGlua3MgPSBudWxsO1xuICB0aGlzLmRhdGEgPSBkYXRhO1xufVxuXG5mdW5jdGlvbiBhZGRMaW5rVG9Ob2RlKG5vZGUsIGxpbmspIHtcbiAgaWYgKG5vZGUubGlua3MpIHtcbiAgICBub2RlLmxpbmtzLmFkZChsaW5rKTtcbiAgfSBlbHNlIHtcbiAgICBub2RlLmxpbmtzID0gbmV3IFNldChbbGlua10pO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgc3RydWN0dXJlIHRvIHJlcHJlc2VudCBsaW5rcztcbiAqL1xuZnVuY3Rpb24gTGluayhmcm9tSWQsIHRvSWQsIGRhdGEsIGlkKSB7XG4gIHRoaXMuZnJvbUlkID0gZnJvbUlkO1xuICB0aGlzLnRvSWQgPSB0b0lkO1xuICB0aGlzLmRhdGEgPSBkYXRhO1xuICB0aGlzLmlkID0gaWQ7XG59XG5cbmZ1bmN0aW9uIG1ha2VMaW5rSWQoZnJvbUlkLCB0b0lkKSB7XG4gIHJldHVybiBmcm9tSWQudG9TdHJpbmcoKSArICfwn5GJICcgKyB0b0lkLnRvU3RyaW5nKCk7XG59XG4iLCIvKipcbiAqIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3RpbnlxdWV1ZVxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBWbGFkaW1pciBBZ2Fmb25raW4gaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvdGlueXF1ZXVlL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIFxuICogQWRhcHRlZCBmb3IgUGF0aEZpbmRpbmcgbmVlZHMgYnkgQGFudmFrYVxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBBbmRyZWkgS2FzaGNoYVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IE5vZGVIZWFwO1xuXG5mdW5jdGlvbiBOb2RlSGVhcChkYXRhLCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBOb2RlSGVhcCkpIHJldHVybiBuZXcgTm9kZUhlYXAoZGF0YSwgb3B0aW9ucyk7XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgLy8gYXNzdW1lIGZpcnN0IGFyZ3VtZW50IGlzIG91ciBjb25maWcgb2JqZWN0O1xuICAgIG9wdGlvbnMgPSBkYXRhO1xuICAgIGRhdGEgPSBbXTtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHRoaXMuZGF0YSA9IGRhdGEgfHwgW107XG4gIHRoaXMubGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgdGhpcy5jb21wYXJlID0gb3B0aW9ucy5jb21wYXJlIHx8IGRlZmF1bHRDb21wYXJlO1xuICB0aGlzLnNldE5vZGVJZCA9IG9wdGlvbnMuc2V0Tm9kZUlkIHx8IG5vb3A7XG5cbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIGZvciAodmFyIGkgPSAodGhpcy5sZW5ndGggPj4gMSk7IGkgPj0gMDsgaS0tKSB0aGlzLl9kb3duKGkpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuc2V0Tm9kZUlkKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLnNldE5vZGVJZCh0aGlzLmRhdGFbaV0sIGkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmUoYSwgYikge1xuICByZXR1cm4gYSAtIGI7XG59XG5cbk5vZGVIZWFwLnByb3RvdHlwZSA9IHtcblxuICBwdXNoOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuZGF0YS5wdXNoKGl0ZW0pO1xuICAgIHRoaXMuc2V0Tm9kZUlkKGl0ZW0sIHRoaXMubGVuZ3RoKTtcbiAgICB0aGlzLmxlbmd0aCsrO1xuICAgIHRoaXMuX3VwKHRoaXMubGVuZ3RoIC0gMSk7XG4gIH0sXG5cbiAgcG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgdmFyIHRvcCA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLmxlbmd0aC0tO1xuXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5kYXRhWzBdID0gdGhpcy5kYXRhW3RoaXMubGVuZ3RoXTtcbiAgICAgIHRoaXMuc2V0Tm9kZUlkKHRoaXMuZGF0YVswXSwgMCk7XG4gICAgICB0aGlzLl9kb3duKDApO1xuICAgIH1cbiAgICB0aGlzLmRhdGEucG9wKCk7XG5cbiAgICByZXR1cm4gdG9wO1xuICB9LFxuXG4gIHBlZWs6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhWzBdO1xuICB9LFxuXG4gIHVwZGF0ZUl0ZW06IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB0aGlzLl9kb3duKHBvcyk7XG4gICAgdGhpcy5fdXAocG9zKTtcbiAgfSxcblxuICBfdXA6IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgY29tcGFyZSA9IHRoaXMuY29tcGFyZTtcbiAgICB2YXIgc2V0Tm9kZUlkID0gdGhpcy5zZXROb2RlSWQ7XG4gICAgdmFyIGl0ZW0gPSBkYXRhW3Bvc107XG5cbiAgICB3aGlsZSAocG9zID4gMCkge1xuICAgICAgdmFyIHBhcmVudCA9IChwb3MgLSAxKSA+PiAxO1xuICAgICAgdmFyIGN1cnJlbnQgPSBkYXRhW3BhcmVudF07XG4gICAgICBpZiAoY29tcGFyZShpdGVtLCBjdXJyZW50KSA+PSAwKSBicmVhaztcbiAgICAgICAgZGF0YVtwb3NdID0gY3VycmVudDtcblxuICAgICAgIHNldE5vZGVJZChjdXJyZW50LCBwb3MpO1xuICAgICAgIHBvcyA9IHBhcmVudDtcbiAgICB9XG5cbiAgICBkYXRhW3Bvc10gPSBpdGVtO1xuICAgIHNldE5vZGVJZChpdGVtLCBwb3MpO1xuICB9LFxuXG4gIF9kb3duOiBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGNvbXBhcmUgPSB0aGlzLmNvbXBhcmU7XG4gICAgdmFyIGhhbGZMZW5ndGggPSB0aGlzLmxlbmd0aCA+PiAxO1xuICAgIHZhciBpdGVtID0gZGF0YVtwb3NdO1xuICAgIHZhciBzZXROb2RlSWQgPSB0aGlzLnNldE5vZGVJZDtcblxuICAgIHdoaWxlIChwb3MgPCBoYWxmTGVuZ3RoKSB7XG4gICAgICB2YXIgbGVmdCA9IChwb3MgPDwgMSkgKyAxO1xuICAgICAgdmFyIHJpZ2h0ID0gbGVmdCArIDE7XG4gICAgICB2YXIgYmVzdCA9IGRhdGFbbGVmdF07XG5cbiAgICAgIGlmIChyaWdodCA8IHRoaXMubGVuZ3RoICYmIGNvbXBhcmUoZGF0YVtyaWdodF0sIGJlc3QpIDwgMCkge1xuICAgICAgICBsZWZ0ID0gcmlnaHQ7XG4gICAgICAgIGJlc3QgPSBkYXRhW3JpZ2h0XTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJlKGJlc3QsIGl0ZW0pID49IDApIGJyZWFrO1xuXG4gICAgICBkYXRhW3Bvc10gPSBiZXN0O1xuICAgICAgc2V0Tm9kZUlkKGJlc3QsIHBvcyk7XG4gICAgICBwb3MgPSBsZWZ0O1xuICAgIH1cblxuICAgIGRhdGFbcG9zXSA9IGl0ZW07XG4gICAgc2V0Tm9kZUlkKGl0ZW0sIHBvcyk7XG4gIH1cbn07IiwiLyoqXG4gKiBQZXJmb3JtcyBzdWJvcHRpbWFsLCBncmVlZCBBIFN0YXIgcGF0aCBmaW5kaW5nLlxuICogVGhpcyBmaW5kZXIgZG9lcyBub3QgbmVjZXNzYXJ5IGZpbmRzIHRoZSBzaG9ydGVzdCBwYXRoLiBUaGUgcGF0aFxuICogdGhhdCBpdCBmaW5kcyBpcyB2ZXJ5IGNsb3NlIHRvIHRoZSBzaG9ydGVzdCBvbmUuIEl0IGlzIHZlcnkgZmFzdCB0aG91Z2guXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gYVN0YXJCaTtcblxudmFyIE5vZGVIZWFwID0gcmVxdWlyZSgnLi9Ob2RlSGVhcCcpO1xudmFyIG1ha2VTZWFyY2hTdGF0ZVBvb2wgPSByZXF1aXJlKCcuL21ha2VTZWFyY2hTdGF0ZVBvb2wnKTtcbnZhciBoZXVyaXN0aWNzID0gcmVxdWlyZSgnLi9oZXVyaXN0aWNzJyk7XG52YXIgZGVmYXVsdFNldHRpbmdzID0gcmVxdWlyZSgnLi9kZWZhdWx0U2V0dGluZ3MnKTtcblxudmFyIEJZX0ZST00gPSAxO1xudmFyIEJZX1RPID0gMjtcbnZhciBOT19QQVRIID0gZGVmYXVsdFNldHRpbmdzLk5PX1BBVEg7XG5cbm1vZHVsZS5leHBvcnRzLmwyID0gaGV1cmlzdGljcy5sMjtcbm1vZHVsZS5leHBvcnRzLmwxID0gaGV1cmlzdGljcy5sMTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHBhdGhmaW5kZXIuIEEgcGF0aGZpbmRlciBoYXMganVzdCBvbmUgbWV0aG9kOlxuICogYGZpbmQoZnJvbUlkLCB0b0lkKWAsIGl0IG1heSBiZSBleHRlbmRlZCBpbiBmdXR1cmUuXG4gKiBcbiAqIE5PVEU6IEFsZ29yaXRobSBpbXBsZW1lbnRlZCBpbiB0aGlzIGNvZGUgRE9FUyBOT1QgZmluZCBvcHRpbWFsIHBhdGguXG4gKiBZZXQgdGhlIHBhdGggdGhhdCBpdCBmaW5kcyBpcyBhbHdheXMgbmVhciBvcHRpbWFsLCBhbmQgaXQgZmluZHMgaXQgdmVyeSBmYXN0LlxuICogXG4gKiBAcGFyYW0ge25ncmFwaC5ncmFwaH0gZ3JhcGggaW5zdGFuY2UuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW52YWthL25ncmFwaC5ncmFwaFxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB0aGF0IGNvbmZpZ3VyZXMgc2VhcmNoXG4gKiBAcGFyYW0ge0Z1bmN0aW9uKGEsIGIpfSBvcHRpb25zLmhldXJpc3RpYyAtIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGVzdGltYXRlZCBkaXN0YW5jZSBiZXR3ZWVuXG4gKiBub2RlcyBgYWAgYW5kIGBiYC4gIERlZmF1bHRzIGZ1bmN0aW9uIHJldHVybnMgMCwgd2hpY2ggbWFrZXMgdGhpcyBzZWFyY2ggZXF1aXZhbGVudCB0byBEaWprc3RyYSBzZWFyY2guXG4gKiBAcGFyYW0ge0Z1bmN0aW9uKGEsIGIpfSBvcHRpb25zLmRpc3RhbmNlIC0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYWN0dWFsIGRpc3RhbmNlIGJldHdlZW4gdHdvXG4gKiBub2RlcyBgYWAgYW5kIGBiYC4gQnkgZGVmYXVsdCB0aGlzIGlzIHNldCB0byByZXR1cm4gZ3JhcGgtdGhlb3JldGljYWwgZGlzdGFuY2UgKGFsd2F5cyAxKTtcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5vcmllbnRlZCAtIHdoZXRoZXIgZ3JhcGggc2hvdWxkIGJlIGNvbnNpZGVyZWQgb3JpZW50ZWQgb3Igbm90LlxuICogXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIHBhdGhmaW5kZXIgd2l0aCBzaW5nbGUgbWV0aG9kIGBmaW5kKClgLlxuICovXG5mdW5jdGlvbiBhU3RhckJpKGdyYXBoLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAvLyB3aGV0aGVyIHRyYXZlcnNhbCBzaG91bGQgYmUgY29uc2lkZXJlZCBvdmVyIG9yaWVudGVkIGdyYXBoLlxuICB2YXIgb3JpZW50ZWQgPSBvcHRpb25zLm9yaWVudGVkO1xuXG4gIHZhciBoZXVyaXN0aWMgPSBvcHRpb25zLmhldXJpc3RpYztcbiAgaWYgKCFoZXVyaXN0aWMpIGhldXJpc3RpYyA9IGRlZmF1bHRTZXR0aW5ncy5oZXVyaXN0aWM7XG5cbiAgdmFyIGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZTtcbiAgaWYgKCFkaXN0YW5jZSkgZGlzdGFuY2UgPSBkZWZhdWx0U2V0dGluZ3MuZGlzdGFuY2U7XG4gIHZhciBwb29sID0gbWFrZVNlYXJjaFN0YXRlUG9vbCgpO1xuXG4gIHJldHVybiB7XG4gICAgZmluZDogZmluZFxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbmQoZnJvbUlkLCB0b0lkKSB7XG4gICAgLy8gTm90IHN1cmUgaWYgd2Ugc2hvdWxkIHJldHVybiBOT19QQVRIIG9yIHRocm93LiBUaHJvdyBzZWVtIHRvIGJlIG1vcmVcbiAgICAvLyBoZWxwZnVsIHRvIGRlYnVnIGVycm9ycy4gU28sIHRocm93aW5nLlxuICAgIHZhciBmcm9tID0gZ3JhcGguZ2V0Tm9kZShmcm9tSWQpO1xuICAgIGlmICghZnJvbSkgdGhyb3cgbmV3IEVycm9yKCdmcm9tSWQgaXMgbm90IGRlZmluZWQgaW4gdGhpcyBncmFwaDogJyArIGZyb21JZCk7XG4gICAgdmFyIHRvID0gZ3JhcGguZ2V0Tm9kZSh0b0lkKTtcbiAgICBpZiAoIXRvKSB0aHJvdyBuZXcgRXJyb3IoJ3RvSWQgaXMgbm90IGRlZmluZWQgaW4gdGhpcyBncmFwaDogJyArIHRvSWQpO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm4gW2Zyb21dOyAvLyB0cml2aWFsIGNhc2UuXG5cbiAgICBwb29sLnJlc2V0KCk7XG5cbiAgICB2YXIgY2FsbFZpc2l0b3IgPSBvcmllbnRlZCA/IG9yaWVudGVkVmlzaXRvciA6IG5vbk9yaWVudGVkVmlzaXRvcjtcblxuICAgIC8vIE1hcHMgbm9kZUlkIHRvIE5vZGVTZWFyY2hTdGF0ZS5cbiAgICB2YXIgbm9kZVN0YXRlID0gbmV3IE1hcCgpO1xuXG4gICAgdmFyIG9wZW5TZXRGcm9tID0gbmV3IE5vZGVIZWFwKHtcbiAgICAgIGNvbXBhcmU6IGRlZmF1bHRTZXR0aW5ncy5jb21wYXJlRlNjb3JlLFxuICAgICAgc2V0Tm9kZUlkOiBkZWZhdWx0U2V0dGluZ3Muc2V0SGVhcEluZGV4XG4gICAgfSk7XG5cbiAgICB2YXIgb3BlblNldFRvID0gbmV3IE5vZGVIZWFwKHtcbiAgICAgIGNvbXBhcmU6IGRlZmF1bHRTZXR0aW5ncy5jb21wYXJlRlNjb3JlLFxuICAgICAgc2V0Tm9kZUlkOiBkZWZhdWx0U2V0dGluZ3Muc2V0SGVhcEluZGV4XG4gICAgfSk7XG5cblxuICAgIHZhciBzdGFydE5vZGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKGZyb20pO1xuICAgIG5vZGVTdGF0ZS5zZXQoZnJvbUlkLCBzdGFydE5vZGUpO1xuXG4gICAgLy8gRm9yIHRoZSBmaXJzdCBub2RlLCBmU2NvcmUgaXMgY29tcGxldGVseSBoZXVyaXN0aWMuXG4gICAgc3RhcnROb2RlLmZTY29yZSA9IGhldXJpc3RpYyhmcm9tLCB0byk7XG4gICAgLy8gVGhlIGNvc3Qgb2YgZ29pbmcgZnJvbSBzdGFydCB0byBzdGFydCBpcyB6ZXJvLlxuICAgIHN0YXJ0Tm9kZS5kaXN0YW5jZVRvU291cmNlID0gMDtcbiAgICBvcGVuU2V0RnJvbS5wdXNoKHN0YXJ0Tm9kZSk7XG4gICAgc3RhcnROb2RlLm9wZW4gPSBCWV9GUk9NO1xuXG4gICAgdmFyIGVuZE5vZGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKHRvKTtcbiAgICBlbmROb2RlLmZTY29yZSA9IGhldXJpc3RpYyh0bywgZnJvbSk7XG4gICAgZW5kTm9kZS5kaXN0YW5jZVRvU291cmNlID0gMDtcbiAgICBvcGVuU2V0VG8ucHVzaChlbmROb2RlKTtcbiAgICBlbmROb2RlLm9wZW4gPSBCWV9UTztcblxuICAgIC8vIENvc3Qgb2YgdGhlIGJlc3Qgc29sdXRpb24gZm91bmQgc28gZmFyLiBVc2VkIGZvciBhY2N1cmF0ZSB0ZXJtaW5hdGlvblxuICAgIHZhciBsTWluID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHZhciBtaW5Gcm9tO1xuICAgIHZhciBtaW5UbztcblxuICAgIHZhciBjdXJyZW50U2V0ID0gb3BlblNldEZyb207XG4gICAgdmFyIGN1cnJlbnRPcGVuZXIgPSBCWV9GUk9NO1xuXG4gICAgd2hpbGUgKG9wZW5TZXRGcm9tLmxlbmd0aCA+IDAgJiYgb3BlblNldFRvLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChvcGVuU2V0RnJvbS5sZW5ndGggPCBvcGVuU2V0VG8ubGVuZ3RoKSB7XG4gICAgICAgIC8vIHdlIHBpY2sgYSBzZXQgd2l0aCBsZXNzIGVsZW1lbnRzXG4gICAgICAgIGN1cnJlbnRPcGVuZXIgPSBCWV9GUk9NO1xuICAgICAgICBjdXJyZW50U2V0ID0gb3BlblNldEZyb207XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50T3BlbmVyID0gQllfVE87XG4gICAgICAgIGN1cnJlbnRTZXQgPSBvcGVuU2V0VG87XG4gICAgICB9XG5cbiAgICAgIHZhciBjdXJyZW50ID0gY3VycmVudFNldC5wb3AoKTtcblxuICAgICAgLy8gbm8gbmVlZCB0byB2aXNpdCB0aGlzIG5vZGUgYW55bW9yZVxuICAgICAgY3VycmVudC5jbG9zZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoY3VycmVudC5kaXN0YW5jZVRvU291cmNlID4gbE1pbikgY29udGludWU7XG5cbiAgICAgIGdyYXBoLmZvckVhY2hMaW5rZWROb2RlKGN1cnJlbnQubm9kZS5pZCwgY2FsbFZpc2l0b3IpO1xuXG4gICAgICBpZiAobWluRnJvbSAmJiBtaW5Ubykge1xuICAgICAgICAvLyBUaGlzIGlzIG5vdCBuZWNlc3NhcnkgdGhlIGJlc3QgcGF0aCwgYnV0IHdlIGFyZSBzbyBncmVlZHkgdGhhdCB3ZVxuICAgICAgICAvLyBjYW4ndCByZXNpc3Q6XG4gICAgICAgIHJldHVybiByZWNvbnN0cnVjdEJpRGlyZWN0aW9uYWxQYXRoKG1pbkZyb20sIG1pblRvKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTk9fUEFUSDsgLy8gTm8gcGF0aC5cblxuICAgIGZ1bmN0aW9uIG5vbk9yaWVudGVkVmlzaXRvcihvdGhlck5vZGUsIGxpbmspIHtcbiAgICAgIHJldHVybiB2aXNpdE5vZGUob3RoZXJOb2RlLCBsaW5rLCBjdXJyZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcmllbnRlZFZpc2l0b3Iob3RoZXJOb2RlLCBsaW5rKSB7XG4gICAgICAvLyBGb3Igb3JpdG5lZCBncmFwaHMgd2UgbmVlZCB0byByZXZlcnNlIGdyYXBoLCB3aGVuIHRyYXZlbGluZ1xuICAgICAgLy8gYmFja3dhcmRzLiBTbywgd2UgdXNlIG5vbi1vcmllbnRlZCBuZ3JhcGgncyB0cmF2ZXJzYWwsIGFuZCBcbiAgICAgIC8vIGZpbHRlciBsaW5rIG9yaWVudGF0aW9uIGhlcmUuXG4gICAgICBpZiAoY3VycmVudE9wZW5lciA9PT0gQllfRlJPTSkge1xuICAgICAgICBpZiAobGluay5mcm9tSWQgPT09IGN1cnJlbnQubm9kZS5pZCkgcmV0dXJuIHZpc2l0Tm9kZShvdGhlck5vZGUsIGxpbmssIGN1cnJlbnQpXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRPcGVuZXIgPT09IEJZX1RPKSB7XG4gICAgICAgIGlmIChsaW5rLnRvSWQgPT09IGN1cnJlbnQubm9kZS5pZCkgcmV0dXJuIHZpc2l0Tm9kZShvdGhlck5vZGUsIGxpbmssIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbkV4aXQoY3VycmVudE5vZGUpIHtcbiAgICAgIHZhciBvcGVuZXIgPSBjdXJyZW50Tm9kZS5vcGVuXG4gICAgICBpZiAob3BlbmVyICYmIG9wZW5lciAhPT0gY3VycmVudE9wZW5lcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlY29uc3RydWN0QmlEaXJlY3Rpb25hbFBhdGgoYSwgYikge1xuICAgICAgdmFyIHBhdGhPZk5vZGVzID0gW107XG4gICAgICB2YXIgYVBhcmVudCA9IGE7XG4gICAgICB3aGlsZShhUGFyZW50KSB7XG4gICAgICAgIHBhdGhPZk5vZGVzLnB1c2goYVBhcmVudC5ub2RlKTtcbiAgICAgICAgYVBhcmVudCA9IGFQYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgdmFyIGJQYXJlbnQgPSBiO1xuICAgICAgd2hpbGUgKGJQYXJlbnQpIHtcbiAgICAgICAgcGF0aE9mTm9kZXMudW5zaGlmdChiUGFyZW50Lm5vZGUpO1xuICAgICAgICBiUGFyZW50ID0gYlBhcmVudC5wYXJlbnRcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRoT2ZOb2RlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aXNpdE5vZGUob3RoZXJOb2RlLCBsaW5rLCBjYW1lRnJvbSkge1xuICAgICAgdmFyIG90aGVyU2VhcmNoU3RhdGUgPSBub2RlU3RhdGUuZ2V0KG90aGVyTm9kZS5pZCk7XG4gICAgICBpZiAoIW90aGVyU2VhcmNoU3RhdGUpIHtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUob3RoZXJOb2RlKTtcbiAgICAgICAgbm9kZVN0YXRlLnNldChvdGhlck5vZGUuaWQsIG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBwcm9jZXNzZWQgdGhpcyBub2RlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjYW5FeGl0KG90aGVyU2VhcmNoU3RhdGUsIGNhbWVGcm9tKSkge1xuICAgICAgICAvLyB0aGlzIG5vZGUgd2FzIG9wZW5lZCBieSBhbHRlcm5hdGl2ZSBvcGVuZXIuIFRoZSBzZXRzIGludGVyc2VjdCBub3csXG4gICAgICAgIC8vIHdlIGZvdW5kIGFuIG9wdGltYWwgcGF0aCwgdGhhdCBnb2VzIHRocm91Z2ggKnRoaXMqIG5vZGUuIEhvd2V2ZXIsIHRoZXJlXG4gICAgICAgIC8vIGlzIG5vIGd1YXJhbnRlZSB0aGF0IHRoaXMgaXMgdGhlIGdsb2JhbCBvcHRpbWFsIHNvbHV0aW9uIHBhdGguXG5cbiAgICAgICAgdmFyIHBvdGVudGlhbExNaW4gPSBvdGhlclNlYXJjaFN0YXRlLmRpc3RhbmNlVG9Tb3VyY2UgKyBjYW1lRnJvbS5kaXN0YW5jZVRvU291cmNlO1xuICAgICAgICBpZiAocG90ZW50aWFsTE1pbiA8IGxNaW4pIHtcbiAgICAgICAgICBtaW5Gcm9tID0gb3RoZXJTZWFyY2hTdGF0ZTtcbiAgICAgICAgICBtaW5UbyA9IGNhbWVGcm9tXG4gICAgICAgICAgbE1pbiA9IHBvdGVudGlhbExNaW47XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgYXJlIGRvbmUgd2l0aCB0aGlzIG5vZGUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRlbnRhdGl2ZURpc3RhbmNlID0gY2FtZUZyb20uZGlzdGFuY2VUb1NvdXJjZSArIGRpc3RhbmNlKG90aGVyU2VhcmNoU3RhdGUubm9kZSwgY2FtZUZyb20ubm9kZSwgbGluayk7XG5cbiAgICAgIGlmICh0ZW50YXRpdmVEaXN0YW5jZSA+PSBvdGhlclNlYXJjaFN0YXRlLmRpc3RhbmNlVG9Tb3VyY2UpIHtcbiAgICAgICAgLy8gVGhpcyB3b3VsZCBvbmx5IG1ha2Ugb3VyIHBhdGggbG9uZ2VyLiBJZ25vcmUgdGhpcyByb3V0ZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDaG9vc2UgdGFyZ2V0IGJhc2VkIG9uIGN1cnJlbnQgd29ya2luZyBzZXQ6XG4gICAgICB2YXIgdGFyZ2V0ID0gKGN1cnJlbnRPcGVuZXIgPT09IEJZX0ZST00pID8gdG8gOiBmcm9tO1xuICAgICAgdmFyIG5ld0ZTY29yZSA9IHRlbnRhdGl2ZURpc3RhbmNlICsgaGV1cmlzdGljKG90aGVyU2VhcmNoU3RhdGUubm9kZSwgdGFyZ2V0KTtcbiAgICAgIGlmIChuZXdGU2NvcmUgPj0gbE1pbikge1xuICAgICAgICAvLyB0aGlzIGNhbid0IGJlIG9wdGltYWwgcGF0aCwgYXMgd2UgaGF2ZSBhbHJlYWR5IGZvdW5kIGEgc2hvcnRlciBwYXRoLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvdGhlclNlYXJjaFN0YXRlLmZTY29yZSA9IG5ld0ZTY29yZTtcblxuICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUub3BlbiA9PT0gMCkge1xuICAgICAgICAvLyBSZW1lbWJlciB0aGlzIG5vZGUgaW4gdGhlIGN1cnJlbnQgc2V0XG4gICAgICAgIGN1cnJlbnRTZXQucHVzaChvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgICAgY3VycmVudFNldC51cGRhdGVJdGVtKG90aGVyU2VhcmNoU3RhdGUuaGVhcEluZGV4KTtcblxuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLm9wZW4gPSBjdXJyZW50T3BlbmVyO1xuICAgICAgfVxuXG4gICAgICAvLyBiaW5nbyEgd2UgZm91bmQgc2hvcnRlciBwYXRoOlxuICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5wYXJlbnQgPSBjYW1lRnJvbTtcbiAgICAgIG90aGVyU2VhcmNoU3RhdGUuZGlzdGFuY2VUb1NvdXJjZSA9IHRlbnRhdGl2ZURpc3RhbmNlO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBQZXJmb3JtcyBhIHVuaS1kaXJlY3Rpb25hbCBBIFN0YXIgc2VhcmNoIG9uIGdyYXBoLlxuICogXG4gKiBXZSB3aWxsIHRyeSB0byBtaW5pbWl6ZSBmKG4pID0gZyhuKSArIGgobiksIHdoZXJlXG4gKiBnKG4pIGlzIGFjdHVhbCBkaXN0YW5jZSBmcm9tIHNvdXJjZSBub2RlIHRvIGBuYCwgYW5kXG4gKiBoKG4pIGlzIGhldXJpc3RpYyBkaXN0YW5jZSBmcm9tIGBuYCB0byB0YXJnZXQgbm9kZS5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBhU3RhclBhdGhTZWFyY2g7XG5cbnZhciBOb2RlSGVhcCA9IHJlcXVpcmUoJy4vTm9kZUhlYXAnKTtcbnZhciBtYWtlU2VhcmNoU3RhdGVQb29sID0gcmVxdWlyZSgnLi9tYWtlU2VhcmNoU3RhdGVQb29sJyk7XG52YXIgaGV1cmlzdGljcyA9IHJlcXVpcmUoJy4vaGV1cmlzdGljcycpO1xudmFyIGRlZmF1bHRTZXR0aW5ncyA9IHJlcXVpcmUoJy4vZGVmYXVsdFNldHRpbmdzLmpzJyk7XG5cbnZhciBOT19QQVRIID0gZGVmYXVsdFNldHRpbmdzLk5PX1BBVEg7XG5cbm1vZHVsZS5leHBvcnRzLmwyID0gaGV1cmlzdGljcy5sMjtcbm1vZHVsZS5leHBvcnRzLmwxID0gaGV1cmlzdGljcy5sMTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHBhdGhmaW5kZXIuIEEgcGF0aGZpbmRlciBoYXMganVzdCBvbmUgbWV0aG9kOlxuICogYGZpbmQoZnJvbUlkLCB0b0lkKWAsIGl0IG1heSBiZSBleHRlbmRlZCBpbiBmdXR1cmUuXG4gKiBcbiAqIEBwYXJhbSB7bmdyYXBoLmdyYXBofSBncmFwaCBpbnN0YW5jZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnZha2EvbmdyYXBoLmdyYXBoXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB0aGF0IGNvbmZpZ3VyZXMgc2VhcmNoXG4gKiBAcGFyYW0ge0Z1bmN0aW9uKGEsIGIpfSBvcHRpb25zLmhldXJpc3RpYyAtIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGVzdGltYXRlZCBkaXN0YW5jZSBiZXR3ZWVuXG4gKiBub2RlcyBgYWAgYW5kIGBiYC4gVGhpcyBmdW5jdGlvbiBzaG91bGQgbmV2ZXIgb3ZlcmVzdGltYXRlIGFjdHVhbCBkaXN0YW5jZSBiZXR3ZWVuIHR3b1xuICogbm9kZXMgKG90aGVyd2lzZSB0aGUgZm91bmQgcGF0aCB3aWxsIG5vdCBiZSB0aGUgc2hvcnRlc3QpLiBEZWZhdWx0cyBmdW5jdGlvbiByZXR1cm5zIDAsXG4gKiB3aGljaCBtYWtlcyB0aGlzIHNlYXJjaCBlcXVpdmFsZW50IHRvIERpamtzdHJhIHNlYXJjaC5cbiAqIEBwYXJhbSB7RnVuY3Rpb24oYSwgYil9IG9wdGlvbnMuZGlzdGFuY2UgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhY3R1YWwgZGlzdGFuY2UgYmV0d2VlbiB0d29cbiAqIG5vZGVzIGBhYCBhbmQgYGJgLiBCeSBkZWZhdWx0IHRoaXMgaXMgc2V0IHRvIHJldHVybiBncmFwaC10aGVvcmV0aWNhbCBkaXN0YW5jZSAoYWx3YXlzIDEpO1xuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLm9yaWVudGVkIC0gd2hldGhlciBncmFwaCBzaG91bGQgYmUgY29uc2lkZXJlZCBvcmllbnRlZCBvciBub3QuXG4gKiBcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgcGF0aGZpbmRlciB3aXRoIHNpbmdsZSBtZXRob2QgYGZpbmQoKWAuXG4gKi9cbmZ1bmN0aW9uIGFTdGFyUGF0aFNlYXJjaChncmFwaCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgLy8gd2hldGhlciB0cmF2ZXJzYWwgc2hvdWxkIGJlIGNvbnNpZGVyZWQgb3ZlciBvcmllbnRlZCBncmFwaC5cbiAgdmFyIG9yaWVudGVkID0gb3B0aW9ucy5vcmllbnRlZDtcblxuICB2YXIgaGV1cmlzdGljID0gb3B0aW9ucy5oZXVyaXN0aWM7XG4gIGlmICghaGV1cmlzdGljKSBoZXVyaXN0aWMgPSBkZWZhdWx0U2V0dGluZ3MuaGV1cmlzdGljO1xuXG4gIHZhciBkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2U7XG4gIGlmICghZGlzdGFuY2UpIGRpc3RhbmNlID0gZGVmYXVsdFNldHRpbmdzLmRpc3RhbmNlO1xuICB2YXIgcG9vbCA9IG1ha2VTZWFyY2hTdGF0ZVBvb2woKTtcblxuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIEZpbmRzIGEgcGF0aCBiZXR3ZWVuIG5vZGUgYGZyb21JZGAgYW5kIGB0b0lkYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IG9mIG5vZGVzIGJldHdlZW4gYHRvSWRgIGFuZCBgZnJvbUlkYC4gRW1wdHkgYXJyYXkgaXMgcmV0dXJuZWRcbiAgICAgKiBpZiBubyBwYXRoIGlzIGZvdW5kLlxuICAgICAqL1xuICAgIGZpbmQ6IGZpbmRcbiAgfTtcblxuICBmdW5jdGlvbiBmaW5kKGZyb21JZCwgdG9JZCkge1xuICAgIHZhciBmcm9tID0gZ3JhcGguZ2V0Tm9kZShmcm9tSWQpO1xuICAgIGlmICghZnJvbSkgdGhyb3cgbmV3IEVycm9yKCdmcm9tSWQgaXMgbm90IGRlZmluZWQgaW4gdGhpcyBncmFwaDogJyArIGZyb21JZCk7XG4gICAgdmFyIHRvID0gZ3JhcGguZ2V0Tm9kZSh0b0lkKTtcbiAgICBpZiAoIXRvKSB0aHJvdyBuZXcgRXJyb3IoJ3RvSWQgaXMgbm90IGRlZmluZWQgaW4gdGhpcyBncmFwaDogJyArIHRvSWQpO1xuICAgIHBvb2wucmVzZXQoKTtcblxuICAgIC8vIE1hcHMgbm9kZUlkIHRvIE5vZGVTZWFyY2hTdGF0ZS5cbiAgICB2YXIgbm9kZVN0YXRlID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gdGhlIG5vZGVzIHRoYXQgd2Ugc3RpbGwgbmVlZCB0byBldmFsdWF0ZVxuICAgIHZhciBvcGVuU2V0ID0gbmV3IE5vZGVIZWFwKHtcbiAgICAgIGNvbXBhcmU6IGRlZmF1bHRTZXR0aW5ncy5jb21wYXJlRlNjb3JlLFxuICAgICAgc2V0Tm9kZUlkOiBkZWZhdWx0U2V0dGluZ3Muc2V0SGVhcEluZGV4XG4gICAgfSk7XG5cbiAgICB2YXIgc3RhcnROb2RlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZShmcm9tKTtcbiAgICBub2RlU3RhdGUuc2V0KGZyb21JZCwgc3RhcnROb2RlKTtcblxuICAgIC8vIEZvciB0aGUgZmlyc3Qgbm9kZSwgZlNjb3JlIGlzIGNvbXBsZXRlbHkgaGV1cmlzdGljLlxuICAgIHN0YXJ0Tm9kZS5mU2NvcmUgPSBoZXVyaXN0aWMoZnJvbSwgdG8pO1xuXG4gICAgLy8gVGhlIGNvc3Qgb2YgZ29pbmcgZnJvbSBzdGFydCB0byBzdGFydCBpcyB6ZXJvLlxuICAgIHN0YXJ0Tm9kZS5kaXN0YW5jZVRvU291cmNlID0gMDtcbiAgICBvcGVuU2V0LnB1c2goc3RhcnROb2RlKTtcbiAgICBzdGFydE5vZGUub3BlbiA9IDE7XG5cbiAgICB2YXIgY2FtZUZyb207XG5cbiAgICB3aGlsZSAob3BlblNldC5sZW5ndGggPiAwKSB7XG4gICAgICBjYW1lRnJvbSA9IG9wZW5TZXQucG9wKCk7XG4gICAgICBpZiAoZ29hbFJlYWNoZWQoY2FtZUZyb20sIHRvKSkgcmV0dXJuIHJlY29uc3RydWN0UGF0aChjYW1lRnJvbSk7XG5cbiAgICAgIC8vIG5vIG5lZWQgdG8gdmlzaXQgdGhpcyBub2RlIGFueW1vcmVcbiAgICAgIGNhbWVGcm9tLmNsb3NlZCA9IHRydWU7XG4gICAgICBncmFwaC5mb3JFYWNoTGlua2VkTm9kZShjYW1lRnJvbS5ub2RlLmlkLCB2aXNpdE5laWdoYm91ciwgb3JpZW50ZWQpO1xuICAgIH1cblxuICAgIC8vIElmIHdlIGdvdCBoZXJlLCB0aGVuIHRoZXJlIGlzIG5vIHBhdGguXG4gICAgcmV0dXJuIE5PX1BBVEg7XG5cbiAgICBmdW5jdGlvbiB2aXNpdE5laWdoYm91cihvdGhlck5vZGUsIGxpbmspIHtcbiAgICAgIHZhciBvdGhlclNlYXJjaFN0YXRlID0gbm9kZVN0YXRlLmdldChvdGhlck5vZGUuaWQpO1xuICAgICAgaWYgKCFvdGhlclNlYXJjaFN0YXRlKSB7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKG90aGVyTm9kZSk7XG4gICAgICAgIG5vZGVTdGF0ZS5zZXQob3RoZXJOb2RlLmlkLCBvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUuY2xvc2VkKSB7XG4gICAgICAgIC8vIEFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgbm9kZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUub3BlbiA9PT0gMCkge1xuICAgICAgICAvLyBSZW1lbWJlciB0aGlzIG5vZGUuXG4gICAgICAgIG9wZW5TZXQucHVzaChvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5vcGVuID0gMTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRlbnRhdGl2ZURpc3RhbmNlID0gY2FtZUZyb20uZGlzdGFuY2VUb1NvdXJjZSArIGRpc3RhbmNlKG90aGVyTm9kZSwgY2FtZUZyb20ubm9kZSwgbGluayk7XG4gICAgICBpZiAodGVudGF0aXZlRGlzdGFuY2UgPj0gb3RoZXJTZWFyY2hTdGF0ZS5kaXN0YW5jZVRvU291cmNlKSB7XG4gICAgICAgIC8vIFRoaXMgd291bGQgb25seSBtYWtlIG91ciBwYXRoIGxvbmdlci4gSWdub3JlIHRoaXMgcm91dGUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gYmluZ28hIHdlIGZvdW5kIHNob3J0ZXIgcGF0aDpcbiAgICAgIG90aGVyU2VhcmNoU3RhdGUucGFyZW50ID0gY2FtZUZyb207XG4gICAgICBvdGhlclNlYXJjaFN0YXRlLmRpc3RhbmNlVG9Tb3VyY2UgPSB0ZW50YXRpdmVEaXN0YW5jZTtcbiAgICAgIG90aGVyU2VhcmNoU3RhdGUuZlNjb3JlID0gdGVudGF0aXZlRGlzdGFuY2UgKyBoZXVyaXN0aWMob3RoZXJTZWFyY2hTdGF0ZS5ub2RlLCB0byk7XG5cbiAgICAgIG9wZW5TZXQudXBkYXRlSXRlbShvdGhlclNlYXJjaFN0YXRlLmhlYXBJbmRleCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdvYWxSZWFjaGVkKHNlYXJjaFN0YXRlLCB0YXJnZXROb2RlKSB7XG4gIHJldHVybiBzZWFyY2hTdGF0ZS5ub2RlID09PSB0YXJnZXROb2RlO1xufVxuXG5mdW5jdGlvbiByZWNvbnN0cnVjdFBhdGgoc2VhcmNoU3RhdGUpIHtcbiAgdmFyIHBhdGggPSBbc2VhcmNoU3RhdGUubm9kZV07XG4gIHZhciBwYXJlbnQgPSBzZWFyY2hTdGF0ZS5wYXJlbnQ7XG5cbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIHBhdGgucHVzaChwYXJlbnQubm9kZSk7XG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgfVxuXG4gIHJldHVybiBwYXRoO1xufVxuIiwiLy8gV2UgcmV1c2UgaW5zdGFuY2Ugb2YgYXJyYXksIGJ1dCB3ZSB0cmllIHRvIGZyZWV6ZSBpdCBhcyB3ZWxsLFxuLy8gc28gdGhhdCBjb25zdW1lcnMgZG9uJ3QgbW9kaWZ5IGl0LiBNYXliZSBpdCdzIGEgYmFkIGlkZWEuXG52YXIgTk9fUEFUSCA9IFtdO1xuaWYgKHR5cGVvZiBPYmplY3QuZnJlZXplID09PSAnZnVuY3Rpb24nKSBPYmplY3QuZnJlZXplKE5PX1BBVEgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gUGF0aCBzZWFyY2ggc2V0dGluZ3NcbiAgaGV1cmlzdGljOiBibGluZEhldXJpc3RpYyxcbiAgZGlzdGFuY2U6IGNvbnN0YW50RGlzdGFuY2UsXG4gIGNvbXBhcmVGU2NvcmU6IGNvbXBhcmVGU2NvcmUsXG4gIE5PX1BBVEg6IE5PX1BBVEgsXG5cbiAgLy8gaGVhcCBzZXR0aW5nc1xuICBzZXRIZWFwSW5kZXg6IHNldEhlYXBJbmRleCxcblxuICAvLyBuYmE6XG4gIHNldEgxOiBzZXRIMSxcbiAgc2V0SDI6IHNldEgyLFxuICBjb21wYXJlRjFTY29yZTogY29tcGFyZUYxU2NvcmUsXG4gIGNvbXBhcmVGMlNjb3JlOiBjb21wYXJlRjJTY29yZSxcbn1cblxuZnVuY3Rpb24gYmxpbmRIZXVyaXN0aWMoLyogYSwgYiAqLykge1xuICAvLyBibGluZCBoZXVyaXN0aWMgbWFrZXMgdGhpcyBzZWFyY2ggZXF1YWwgdG8gcGxhaW4gRGlqa3N0cmEgcGF0aCBzZWFyY2guXG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBjb25zdGFudERpc3RhbmNlKC8qIGEsIGIgKi8pIHtcbiAgcmV0dXJuIDE7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVGU2NvcmUoYSwgYikge1xuICB2YXIgcmVzdWx0ID0gYS5mU2NvcmUgLSBiLmZTY29yZTtcbiAgLy8gVE9ETzogQ2FuIEkgaW1wcm92ZSBzcGVlZCB3aXRoIHNtYXJ0ZXIgdGllcy1icmVha2luZz9cbiAgLy8gSSB0cmllZCBkaXN0YW5jZVRvU291cmNlLCBidXQgaXQgZGlkbid0IHNlZW0gdG8gaGF2ZSBtdWNoIGVmZmVjdFxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBzZXRIZWFwSW5kZXgobm9kZVNlYXJjaFN0YXRlLCBoZWFwSW5kZXgpIHtcbiAgbm9kZVNlYXJjaFN0YXRlLmhlYXBJbmRleCA9IGhlYXBJbmRleDtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUYxU2NvcmUoYSwgYikge1xuICByZXR1cm4gYS5mMSAtIGIuZjE7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVGMlNjb3JlKGEsIGIpIHtcbiAgcmV0dXJuIGEuZjIgLSBiLmYyO1xufVxuXG5mdW5jdGlvbiBzZXRIMShub2RlLCBoZWFwSW5kZXgpIHtcbiAgbm9kZS5oMSA9IGhlYXBJbmRleDtcbn1cblxuZnVuY3Rpb24gc2V0SDIobm9kZSwgaGVhcEluZGV4KSB7XG4gIG5vZGUuaDIgPSBoZWFwSW5kZXg7XG59IiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGwyOiBsMixcbiAgbDE6IGwxXG59O1xuXG4vKipcbiAqIEV1Y2xpZCBkaXN0YW5jZSAobDIgbm9ybSk7XG4gKiBcbiAqIEBwYXJhbSB7Kn0gYSBcbiAqIEBwYXJhbSB7Kn0gYiBcbiAqL1xuZnVuY3Rpb24gbDIoYSwgYikge1xuICB2YXIgZHggPSBhLnggLSBiLng7XG4gIHZhciBkeSA9IGEueSAtIGIueTtcbiAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG59XG5cbi8qKlxuICogTWFuaGF0dGFuIGRpc3RhbmNlIChsMSBub3JtKTtcbiAqIEBwYXJhbSB7Kn0gYSBcbiAqIEBwYXJhbSB7Kn0gYiBcbiAqL1xuZnVuY3Rpb24gbDEoYSwgYikge1xuICB2YXIgZHggPSBhLnggLSBiLng7XG4gIHZhciBkeSA9IGEueSAtIGIueTtcbiAgcmV0dXJuIE1hdGguYWJzKGR4KSArIE1hdGguYWJzKGR5KTtcbn1cbiIsIi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgc2luZ2xlIHNlYXJjaCBub2RlIGluIHRoZSBleHBsb3JhdGlvbiB0cmVlIGZvclxuICogQSogYWxnb3JpdGhtLlxuICogXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSAgb3JpZ2luYWwgbm9kZSBpbiB0aGUgZ3JhcGhcbiAqL1xuZnVuY3Rpb24gTm9kZVNlYXJjaFN0YXRlKG5vZGUpIHtcbiAgdGhpcy5ub2RlID0gbm9kZTtcblxuICAvLyBIb3cgd2UgY2FtZSB0byB0aGlzIG5vZGU/XG4gIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICB0aGlzLm9wZW4gPSAwO1xuXG4gIHRoaXMuZGlzdGFuY2VUb1NvdXJjZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgLy8gdGhlIGYobikgPSBnKG4pICsgaChuKSB2YWx1ZVxuICB0aGlzLmZTY29yZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAvLyB1c2VkIHRvIHJlY29uc3RydWN0IGhlYXAgd2hlbiBmU2NvcmUgaXMgdXBkYXRlZC5cbiAgdGhpcy5oZWFwSW5kZXggPSAtMTtcbn07XG5cbmZ1bmN0aW9uIG1ha2VTZWFyY2hTdGF0ZVBvb2woKSB7XG4gIHZhciBjdXJyZW50SW5DYWNoZSA9IDA7XG4gIHZhciBub2RlQ2FjaGUgPSBbXTtcblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZU5ld1N0YXRlOiBjcmVhdGVOZXdTdGF0ZSxcbiAgICByZXNldDogcmVzZXRcbiAgfTtcblxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBjdXJyZW50SW5DYWNoZSA9IDA7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOZXdTdGF0ZShub2RlKSB7XG4gICAgdmFyIGNhY2hlZCA9IG5vZGVDYWNoZVtjdXJyZW50SW5DYWNoZV07XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgLy8gVE9ETzogVGhpcyBhbG1vc3QgZHVwbGljYXRlcyBjb25zdHJ1Y3RvciBjb2RlLiBOb3Qgc3VyZSBpZlxuICAgICAgLy8gaXQgd291bGQgaW1wYWN0IHBlcmZvcm1hbmNlIGlmIEkgbW92ZSB0aGlzIGNvZGUgaW50byBhIGZ1bmN0aW9uXG4gICAgICBjYWNoZWQubm9kZSA9IG5vZGU7XG4gICAgICAvLyBIb3cgd2UgY2FtZSB0byB0aGlzIG5vZGU/XG4gICAgICBjYWNoZWQucGFyZW50ID0gbnVsbDtcblxuICAgICAgY2FjaGVkLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgY2FjaGVkLm9wZW4gPSAwO1xuXG4gICAgICBjYWNoZWQuZGlzdGFuY2VUb1NvdXJjZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIC8vIHRoZSBmKG4pID0gZyhuKSArIGgobikgdmFsdWVcbiAgICAgIGNhY2hlZC5mU2NvcmUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgIC8vIHVzZWQgdG8gcmVjb25zdHJ1Y3QgaGVhcCB3aGVuIGZTY29yZSBpcyB1cGRhdGVkLlxuICAgICAgY2FjaGVkLmhlYXBJbmRleCA9IC0xO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZCA9IG5ldyBOb2RlU2VhcmNoU3RhdGUobm9kZSk7XG4gICAgICBub2RlQ2FjaGVbY3VycmVudEluQ2FjaGVdID0gY2FjaGVkO1xuICAgIH1cbiAgICBjdXJyZW50SW5DYWNoZSsrO1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gbWFrZVNlYXJjaFN0YXRlUG9vbDsiLCJtb2R1bGUuZXhwb3J0cyA9IG5iYTtcblxudmFyIE5vZGVIZWFwID0gcmVxdWlyZSgnLi4vTm9kZUhlYXAnKTtcbnZhciBoZXVyaXN0aWNzID0gcmVxdWlyZSgnLi4vaGV1cmlzdGljcycpO1xudmFyIGRlZmF1bHRTZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRTZXR0aW5ncy5qcycpO1xudmFyIG1ha2VOQkFTZWFyY2hTdGF0ZVBvb2wgPSByZXF1aXJlKCcuL21ha2VOQkFTZWFyY2hTdGF0ZVBvb2wuanMnKTtcblxudmFyIE5PX1BBVEggPSBkZWZhdWx0U2V0dGluZ3MuTk9fUEFUSDtcblxubW9kdWxlLmV4cG9ydHMubDIgPSBoZXVyaXN0aWNzLmwyO1xubW9kdWxlLmV4cG9ydHMubDEgPSBoZXVyaXN0aWNzLmwxO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgcGF0aGZpbmRlci4gQSBwYXRoZmluZGVyIGhhcyBqdXN0IG9uZSBtZXRob2Q6XG4gKiBgZmluZChmcm9tSWQsIHRvSWQpYC5cbiAqIFxuICogVGhpcyBpcyBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgTkJBKiBhbGdvcml0aG0gZGVzY3JpYmVkIGluIFxuICogXG4gKiAgXCJZZXQgYW5vdGhlciBiaWRpcmVjdGlvbmFsIGFsZ29yaXRobSBmb3Igc2hvcnRlc3QgcGF0aHNcIiBwYXBlciBieSBXaW0gUGlqbHMgYW5kIEhlbmsgUG9zdFxuICogXG4gKiBUaGUgcGFwZXIgaXMgYXZhaWxhYmxlIGhlcmU6IGh0dHBzOi8vcmVwdWIuZXVyLm5sL3B1Yi8xNjEwMC9laTIwMDktMTAucGRmXG4gKiBcbiAqIEBwYXJhbSB7bmdyYXBoLmdyYXBofSBncmFwaCBpbnN0YW5jZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnZha2EvbmdyYXBoLmdyYXBoXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB0aGF0IGNvbmZpZ3VyZXMgc2VhcmNoXG4gKiBAcGFyYW0ge0Z1bmN0aW9uKGEsIGIpfSBvcHRpb25zLmhldXJpc3RpYyAtIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGVzdGltYXRlZCBkaXN0YW5jZSBiZXR3ZWVuXG4gKiBub2RlcyBgYWAgYW5kIGBiYC4gVGhpcyBmdW5jdGlvbiBzaG91bGQgbmV2ZXIgb3ZlcmVzdGltYXRlIGFjdHVhbCBkaXN0YW5jZSBiZXR3ZWVuIHR3b1xuICogbm9kZXMgKG90aGVyd2lzZSB0aGUgZm91bmQgcGF0aCB3aWxsIG5vdCBiZSB0aGUgc2hvcnRlc3QpLiBEZWZhdWx0cyBmdW5jdGlvbiByZXR1cm5zIDAsXG4gKiB3aGljaCBtYWtlcyB0aGlzIHNlYXJjaCBlcXVpdmFsZW50IHRvIERpamtzdHJhIHNlYXJjaC5cbiAqIEBwYXJhbSB7RnVuY3Rpb24oYSwgYil9IG9wdGlvbnMuZGlzdGFuY2UgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhY3R1YWwgZGlzdGFuY2UgYmV0d2VlbiB0d29cbiAqIG5vZGVzIGBhYCBhbmQgYGJgLiBCeSBkZWZhdWx0IHRoaXMgaXMgc2V0IHRvIHJldHVybiBncmFwaC10aGVvcmV0aWNhbCBkaXN0YW5jZSAoYWx3YXlzIDEpO1xuICogXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIHBhdGhmaW5kZXIgd2l0aCBzaW5nbGUgbWV0aG9kIGBmaW5kKClgLlxuICovXG5mdW5jdGlvbiBuYmEoZ3JhcGgsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIC8vIHdoZXRoZXIgdHJhdmVyc2FsIHNob3VsZCBiZSBjb25zaWRlcmVkIG92ZXIgb3JpZW50ZWQgZ3JhcGguXG4gIHZhciBvcmllbnRlZCA9IG9wdGlvbnMub3JpZW50ZWQ7XG4gIHZhciBxdWl0RmFzdCA9IG9wdGlvbnMucXVpdEZhc3Q7XG5cbiAgdmFyIGhldXJpc3RpYyA9IG9wdGlvbnMuaGV1cmlzdGljO1xuICBpZiAoIWhldXJpc3RpYykgaGV1cmlzdGljID0gZGVmYXVsdFNldHRpbmdzLmhldXJpc3RpYztcblxuICB2YXIgZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlO1xuICBpZiAoIWRpc3RhbmNlKSBkaXN0YW5jZSA9IGRlZmF1bHRTZXR0aW5ncy5kaXN0YW5jZTtcblxuICAvLyBEdXJpbmcgc3RyZXNzIHRlc3RzIEkgbm90aWNlZCB0aGF0IGdhcmJhZ2UgY29sbGVjdGlvbiB3YXMgb25lIG9mIHRoZSBoZWF2aWVzdFxuICAvLyBjb250cmlidXRvcnMgdG8gdGhlIGFsZ29yaXRobSdzIHNwZWVkLiBTbyBJJ20gdXNpbmcgYW4gb2JqZWN0IHBvb2wgdG8gcmVjeWNsZSBub2Rlcy5cbiAgdmFyIHBvb2wgPSBtYWtlTkJBU2VhcmNoU3RhdGVQb29sKCk7XG5cbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBGaW5kcyBhIHBhdGggYmV0d2VlbiBub2RlIGBmcm9tSWRgIGFuZCBgdG9JZGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBvZiBub2RlcyBiZXR3ZWVuIGB0b0lkYCBhbmQgYGZyb21JZGAuIEVtcHR5IGFycmF5IGlzIHJldHVybmVkXG4gICAgICogaWYgbm8gcGF0aCBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBmaW5kOiBmaW5kXG4gIH07XG5cbiAgZnVuY3Rpb24gZmluZChmcm9tSWQsIHRvSWQpIHtcbiAgICAvLyBJIG11c3QgYXBvbG9naXplIGZvciB0aGUgY29kZSBkdXBsaWNhdGlvbi4gVGhpcyB3YXMgdGhlIGVhc2llc3Qgd2F5IGZvciBtZSB0b1xuICAgIC8vIGltcGxlbWVudCB0aGUgYWxnb3JpdGhtIGZhc3QuXG4gICAgdmFyIGZyb20gPSBncmFwaC5nZXROb2RlKGZyb21JZCk7XG4gICAgaWYgKCFmcm9tKSB0aHJvdyBuZXcgRXJyb3IoJ2Zyb21JZCBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIGdyYXBoOiAnICsgZnJvbUlkKTtcbiAgICB2YXIgdG8gPSBncmFwaC5nZXROb2RlKHRvSWQpO1xuICAgIGlmICghdG8pIHRocm93IG5ldyBFcnJvcigndG9JZCBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIGdyYXBoOiAnICsgdG9JZCk7XG5cbiAgICBwb29sLnJlc2V0KCk7XG5cbiAgICAvLyBJIG11c3QgYWxzbyBhcG9sb2dpemUgZm9yIHNvbWV3aGF0IGNyeXB0aWMgbmFtZXMuIFRoZSBOQkEqIGlzIGJpLWRpcmVjdGlvbmFsXG4gICAgLy8gc2VhcmNoIGFsZ29yaXRobSwgd2hpY2ggbWVhbnMgaXQgcnVucyB0d28gc2VhcmNoZXMgaW4gcGFyYWxsZWwuIE9uZSBpcyBjYWxsZWRcbiAgICAvLyBmb3J3YXJkIHNlYXJjaCBhbmQgaXQgcnVucyBmcm9tIHNvdXJjZSBub2RlIHRvIHRhcmdldCwgd2hpbGUgdGhlIG90aGVyIG9uZVxuICAgIC8vIChiYWNrd2FyZCBzZWFyY2gpIHJ1bnMgZnJvbSB0YXJnZXQgdG8gc291cmNlLlxuXG4gICAgLy8gRXZlcnl3aGVyZSB3aGVyZSB5b3Ugc2VlIGAxYCBpdCBtZWFucyBpdCdzIGZvciB0aGUgZm9yd2FyZCBzZWFyY2guIGAyYCBpcyBmb3IgXG4gICAgLy8gYmFja3dhcmQgc2VhcmNoLlxuXG4gICAgLy8gRm9yIG9yaWVudGVkIGdyYXBoIHBhdGggZmluZGluZywgd2UgbmVlZCB0byByZXZlcnNlIHRoZSBncmFwaCwgc28gdGhhdFxuICAgIC8vIGJhY2t3YXJkIHNlYXJjaCB2aXNpdHMgY29ycmVjdCBsaW5rLiBPYnZpb3VzbHkgd2UgZG9uJ3Qgd2FudCB0byBkdXBsaWNhdGVcbiAgICAvLyB0aGUgZ3JhcGgsIGluc3RlYWQgd2UgYWx3YXlzIHRyYXZlcnNlIHRoZSBncmFwaCBhcyBub24tb3JpZW50ZWQsIGFuZCBmaWx0ZXJcbiAgICAvLyBlZGdlcyBpbiBgdmlzaXROMU9yaWVudGVkL3Zpc2l0TjJPcml0ZW50ZWRgXG4gICAgdmFyIGZvcndhcmRWaXNpdG9yID0gb3JpZW50ZWQgPyB2aXNpdE4xT3JpZW50ZWQgOiB2aXNpdE4xO1xuICAgIHZhciByZXZlcnNlVmlzaXRvciA9IG9yaWVudGVkID8gdmlzaXROMk9yaWVudGVkIDogdmlzaXROMjtcblxuICAgIC8vIE1hcHMgbm9kZUlkIHRvIE5CQVNlYXJjaFN0YXRlLlxuICAgIHZhciBub2RlU3RhdGUgPSBuZXcgTWFwKCk7XG5cbiAgICAvLyBUaGVzZSB0d28gaGVhcHMgc3RvcmUgbm9kZXMgYnkgdGhlaXIgdW5kZXJlc3RpbWF0ZWQgdmFsdWVzLlxuICAgIHZhciBvcGVuMVNldCA9IG5ldyBOb2RlSGVhcCh7XG4gICAgICBjb21wYXJlOiBkZWZhdWx0U2V0dGluZ3MuY29tcGFyZUYxU2NvcmUsXG4gICAgICBzZXROb2RlSWQ6IGRlZmF1bHRTZXR0aW5ncy5zZXRIMVxuICAgIH0pO1xuICAgIHZhciBvcGVuMlNldCA9IG5ldyBOb2RlSGVhcCh7XG4gICAgICBjb21wYXJlOiBkZWZhdWx0U2V0dGluZ3MuY29tcGFyZUYyU2NvcmUsXG4gICAgICBzZXROb2RlSWQ6IGRlZmF1bHRTZXR0aW5ncy5zZXRIMlxuICAgIH0pO1xuXG4gICAgLy8gVGhpcyBpcyB3aGVyZSBib3RoIHNlYXJjaGVzIHdpbGwgbWVldC5cbiAgICB2YXIgbWluTm9kZTtcblxuICAgIC8vIFRoZSBzbWFsbGVzdCBwYXRoIGxlbmd0aCBzZWVuIHNvIGZhciBpcyBzdG9yZWQgaGVyZTpcbiAgICB2YXIgbE1pbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAgIC8vIFdlIHN0YXJ0IGJ5IHB1dHRpbmcgc3RhcnQvZW5kIG5vZGVzIHRvIHRoZSBjb3JyZXNwb25kaW5nIGhlYXBzXG4gICAgLy8gSWYgdmFyaWFibGUgbmFtZXMgbGlrZSBgZjFgLCBgZzFgIGFyZSB0b28gY29uZnVzaW5nLCBwbGVhc2UgcmVmZXJcbiAgICAvLyB0byBtYWtlTkJBU2VhcmNoU3RhdGVQb29sLmpzIGZpbGUsIHdoaWNoIGhhcyBkZXRhaWxlZCBkZXNjcmlwdGlvbi5cbiAgICB2YXIgc3RhcnROb2RlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZShmcm9tKTtcbiAgICBub2RlU3RhdGUuc2V0KGZyb21JZCwgc3RhcnROb2RlKTsgXG4gICAgc3RhcnROb2RlLmcxID0gMDtcbiAgICB2YXIgZjEgPSBoZXVyaXN0aWMoZnJvbSwgdG8pO1xuICAgIHN0YXJ0Tm9kZS5mMSA9IGYxO1xuICAgIG9wZW4xU2V0LnB1c2goc3RhcnROb2RlKTtcblxuICAgIHZhciBlbmROb2RlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZSh0byk7XG4gICAgbm9kZVN0YXRlLnNldCh0b0lkLCBlbmROb2RlKTtcbiAgICBlbmROb2RlLmcyID0gMDtcbiAgICB2YXIgZjIgPSBmMTsgLy8gdGhleSBzaG91bGQgYWdyZWUgb3JpZ2luYWxseVxuICAgIGVuZE5vZGUuZjIgPSBmMjtcbiAgICBvcGVuMlNldC5wdXNoKGVuZE5vZGUpXG5cbiAgICAvLyB0aGUgYGNhbWVGcm9tYCB2YXJpYWJsZSBpcyBhY2Nlc3NlZCBieSBib3RoIHNlYXJjaGVzLCBzbyB0aGF0IHdlIGNhbiBzdG9yZSBwYXJlbnRzLlxuICAgIHZhciBjYW1lRnJvbTtcblxuICAgIC8vIHRoaXMgaXMgdGhlIG1haW4gYWxnb3JpdGhtIGxvb3A6XG4gICAgd2hpbGUgKG9wZW4yU2V0Lmxlbmd0aCAmJiBvcGVuMVNldC5sZW5ndGgpIHtcbiAgICAgIGlmIChvcGVuMVNldC5sZW5ndGggPCBvcGVuMlNldC5sZW5ndGgpIHtcbiAgICAgICAgZm9yd2FyZFNlYXJjaCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV2ZXJzZVNlYXJjaCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocXVpdEZhc3QgJiYgbWluTm9kZSkgYnJlYWs7XG4gICAgfVxuXG4gICAgdmFyIHBhdGggPSByZWNvbnN0cnVjdFBhdGgobWluTm9kZSk7XG4gICAgcmV0dXJuIHBhdGg7IC8vIHRoZSBwdWJsaWMgQVBJIGlzIG92ZXJcblxuICAgIGZ1bmN0aW9uIGZvcndhcmRTZWFyY2goKSB7XG4gICAgICBjYW1lRnJvbSA9IG9wZW4xU2V0LnBvcCgpO1xuICAgICAgaWYgKGNhbWVGcm9tLmNsb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNhbWVGcm9tLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgIGlmIChjYW1lRnJvbS5mMSA8IGxNaW4gJiYgKGNhbWVGcm9tLmcxICsgZjIgLSBoZXVyaXN0aWMoZnJvbSwgY2FtZUZyb20ubm9kZSkpIDwgbE1pbikge1xuICAgICAgICBncmFwaC5mb3JFYWNoTGlua2VkTm9kZShjYW1lRnJvbS5ub2RlLmlkLCBmb3J3YXJkVmlzaXRvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcGVuMVNldC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSB1c2VkIGluIHJldmVyc2Ugc2VhcmNoXG4gICAgICAgIGYxID0gb3BlbjFTZXQucGVlaygpLmYxO1xuICAgICAgfSBcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXZlcnNlU2VhcmNoKCkge1xuICAgICAgY2FtZUZyb20gPSBvcGVuMlNldC5wb3AoKTtcbiAgICAgIGlmIChjYW1lRnJvbS5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2FtZUZyb20uY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgaWYgKGNhbWVGcm9tLmYyIDwgbE1pbiAmJiAoY2FtZUZyb20uZzIgKyBmMSAtIGhldXJpc3RpYyhjYW1lRnJvbS5ub2RlLCB0bykpIDwgbE1pbikge1xuICAgICAgICBncmFwaC5mb3JFYWNoTGlua2VkTm9kZShjYW1lRnJvbS5ub2RlLmlkLCByZXZlcnNlVmlzaXRvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcGVuMlNldC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSB1c2VkIGluIGZvcndhcmQgc2VhcmNoXG4gICAgICAgIGYyID0gb3BlbjJTZXQucGVlaygpLmYyO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpc2l0TjEob3RoZXJOb2RlLCBsaW5rKSB7XG4gICAgICB2YXIgb3RoZXJTZWFyY2hTdGF0ZSA9IG5vZGVTdGF0ZS5nZXQob3RoZXJOb2RlLmlkKTtcbiAgICAgIGlmICghb3RoZXJTZWFyY2hTdGF0ZSkge1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZShvdGhlck5vZGUpO1xuICAgICAgICBub2RlU3RhdGUuc2V0KG90aGVyTm9kZS5pZCwgb3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLmNsb3NlZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgdGVudGF0aXZlRGlzdGFuY2UgPSBjYW1lRnJvbS5nMSArIGRpc3RhbmNlKGNhbWVGcm9tLm5vZGUsIG90aGVyTm9kZSwgbGluayk7XG5cbiAgICAgIGlmICh0ZW50YXRpdmVEaXN0YW5jZSA8IG90aGVyU2VhcmNoU3RhdGUuZzEpIHtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5nMSA9IHRlbnRhdGl2ZURpc3RhbmNlO1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLmYxID0gdGVudGF0aXZlRGlzdGFuY2UgKyBoZXVyaXN0aWMob3RoZXJTZWFyY2hTdGF0ZS5ub2RlLCB0byk7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUucDEgPSBjYW1lRnJvbTtcbiAgICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUuaDEgPCAwKSB7XG4gICAgICAgICAgb3BlbjFTZXQucHVzaChvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuMVNldC51cGRhdGVJdGVtKG90aGVyU2VhcmNoU3RhdGUuaDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcG90ZW50aWFsTWluID0gb3RoZXJTZWFyY2hTdGF0ZS5nMSArIG90aGVyU2VhcmNoU3RhdGUuZzI7XG4gICAgICBpZiAocG90ZW50aWFsTWluIDwgbE1pbikgeyBcbiAgICAgICAgbE1pbiA9IHBvdGVudGlhbE1pbjtcbiAgICAgICAgbWluTm9kZSA9IG90aGVyU2VhcmNoU3RhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlzaXROMihvdGhlck5vZGUsIGxpbmspIHtcbiAgICAgIHZhciBvdGhlclNlYXJjaFN0YXRlID0gbm9kZVN0YXRlLmdldChvdGhlck5vZGUuaWQpO1xuICAgICAgaWYgKCFvdGhlclNlYXJjaFN0YXRlKSB7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKG90aGVyTm9kZSk7XG4gICAgICAgIG5vZGVTdGF0ZS5zZXQob3RoZXJOb2RlLmlkLCBvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUuY2xvc2VkKSByZXR1cm47XG5cbiAgICAgIHZhciB0ZW50YXRpdmVEaXN0YW5jZSA9IGNhbWVGcm9tLmcyICsgZGlzdGFuY2UoY2FtZUZyb20ubm9kZSwgb3RoZXJOb2RlLCBsaW5rKTtcblxuICAgICAgaWYgKHRlbnRhdGl2ZURpc3RhbmNlIDwgb3RoZXJTZWFyY2hTdGF0ZS5nMikge1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLmcyID0gdGVudGF0aXZlRGlzdGFuY2U7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUuZjIgPSB0ZW50YXRpdmVEaXN0YW5jZSArIGhldXJpc3RpYyhmcm9tLCBvdGhlclNlYXJjaFN0YXRlLm5vZGUpO1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLnAyID0gY2FtZUZyb207XG4gICAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLmgyIDwgMCkge1xuICAgICAgICAgIG9wZW4yU2V0LnB1c2gob3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlbjJTZXQudXBkYXRlSXRlbShvdGhlclNlYXJjaFN0YXRlLmgyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHBvdGVudGlhbE1pbiA9IG90aGVyU2VhcmNoU3RhdGUuZzEgKyBvdGhlclNlYXJjaFN0YXRlLmcyO1xuICAgICAgaWYgKHBvdGVudGlhbE1pbiA8IGxNaW4pIHtcbiAgICAgICAgbE1pbiA9IHBvdGVudGlhbE1pbjtcbiAgICAgICAgbWluTm9kZSA9IG90aGVyU2VhcmNoU3RhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlzaXROMk9yaWVudGVkKG90aGVyTm9kZSwgbGluaykge1xuICAgICAgLy8gd2UgYXJlIGdvaW5nIGJhY2t3YXJkcywgZ3JhcGggbmVlZHMgdG8gYmUgcmV2ZXJzZWQuIFxuICAgICAgaWYgKGxpbmsudG9JZCA9PT0gY2FtZUZyb20ubm9kZS5pZCkgcmV0dXJuIHZpc2l0TjIob3RoZXJOb2RlLCBsaW5rKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmlzaXROMU9yaWVudGVkKG90aGVyTm9kZSwgbGluaykge1xuICAgICAgLy8gdGhpcyBpcyBmb3J3YXJkIGRpcmVjdGlvbiwgc28gd2Ugc2hvdWxkIGJlIGNvbWluZyBGUk9NOlxuICAgICAgaWYgKGxpbmsuZnJvbUlkID09PSBjYW1lRnJvbS5ub2RlLmlkKSByZXR1cm4gdmlzaXROMShvdGhlck5vZGUsIGxpbmspO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZWNvbnN0cnVjdFBhdGgoc2VhcmNoU3RhdGUpIHtcbiAgaWYgKCFzZWFyY2hTdGF0ZSkgcmV0dXJuIE5PX1BBVEg7XG5cbiAgdmFyIHBhdGggPSBbc2VhcmNoU3RhdGUubm9kZV07XG4gIHZhciBwYXJlbnQgPSBzZWFyY2hTdGF0ZS5wMTtcblxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgcGF0aC5wdXNoKHBhcmVudC5ub2RlKTtcbiAgICBwYXJlbnQgPSBwYXJlbnQucDE7XG4gIH1cblxuICB2YXIgY2hpbGQgPSBzZWFyY2hTdGF0ZS5wMjtcblxuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBwYXRoLnVuc2hpZnQoY2hpbGQubm9kZSk7XG4gICAgY2hpbGQgPSBjaGlsZC5wMjtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gbWFrZU5CQVNlYXJjaFN0YXRlUG9vbDtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBpbnN0YW5jZSBvZiBOQkFTZWFyY2hTdGF0ZS4gVGhlIGluc3RhbmNlIHN0b3JlcyBpbmZvcm1hdGlvblxuICogYWJvdXQgc2VhcmNoIHN0YXRlLCBhbmQgaXMgdXNlZCBieSBOQkEqIGFsZ29yaXRobS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSAtIG9yaWdpbmFsIGdyYXBoIG5vZGVcbiAqL1xuZnVuY3Rpb24gTkJBU2VhcmNoU3RhdGUobm9kZSkge1xuICAvKipcbiAgICogT3JpZ2luYWwgZ3JhcGggbm9kZS5cbiAgICovXG4gIHRoaXMubm9kZSA9IG5vZGU7XG5cbiAgLyoqXG4gICAqIFBhcmVudCBvZiB0aGlzIG5vZGUgaW4gZm9yd2FyZCBzZWFyY2hcbiAgICovXG4gIHRoaXMucDEgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBQYXJlbnQgb2YgdGhpcyBub2RlIGluIHJldmVyc2Ugc2VhcmNoXG4gICAqL1xuICB0aGlzLnAyID0gbnVsbDtcblxuICAvKipcbiAgICogSWYgdGhpcyBpcyBzZXQgdG8gdHJ1ZSwgdGhlbiB0aGUgbm9kZSB3YXMgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICogYW5kIHdlIHNob3VsZCBub3QgdG91Y2ggaXQgYW55bW9yZS5cbiAgICovXG4gIHRoaXMuY2xvc2VkID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEFjdHVhbCBkaXN0YW5jZSBmcm9tIHRoaXMgbm9kZSB0byBpdHMgcGFyZW50IGluIGZvcndhcmQgc2VhcmNoXG4gICAqL1xuICB0aGlzLmcxID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gIC8qKlxuICAgKiBBY3R1YWwgZGlzdGFuY2UgZnJvbSB0aGlzIG5vZGUgdG8gaXRzIHBhcmVudCBpbiByZXZlcnNlIHNlYXJjaFxuICAgKi9cbiAgdGhpcy5nMiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuXG4gIC8qKlxuICAgKiBVbmRlcmVzdGltYXRlZCBkaXN0YW5jZSBmcm9tIHRoaXMgbm9kZSB0byB0aGUgcGF0aC1maW5kaW5nIHNvdXJjZS5cbiAgICovXG4gIHRoaXMuZjEgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgLyoqXG4gICAqIFVuZGVyZXN0aW1hdGVkIGRpc3RhbmNlIGZyb20gdGhpcyBub2RlIHRvIHRoZSBwYXRoLWZpbmRpbmcgdGFyZ2V0LlxuICAgKi9cbiAgdGhpcy5mMiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAvLyB1c2VkIHRvIHJlY29uc3RydWN0IGhlYXAgd2hlbiBmU2NvcmUgaXMgdXBkYXRlZC4gVE9ETzogZG8gSSBuZWVkIHRoZW0gYm90aD9cblxuICAvKipcbiAgICogSW5kZXggb2YgdGhpcyBub2RlIGluIHRoZSBmb3J3YXJkIGhlYXAuXG4gICAqL1xuICB0aGlzLmgxID0gLTE7XG5cbiAgLyoqXG4gICAqIEluZGV4IG9mIHRoaXMgbm9kZSBpbiB0aGUgcmV2ZXJzZSBoZWFwLlxuICAgKi9cbiAgdGhpcy5oMiA9IC0xO1xufVxuXG4vKipcbiAqIEFzIHBhdGgtZmluZGluZyBpcyBtZW1vcnktaW50ZW5zaXZlIHByb2Nlc3MsIHdlIHdhbnQgdG8gcmVkdWNlIHByZXNzdXJlIG9uXG4gKiBnYXJiYWdlIGNvbGxlY3Rvci4gVGhpcyBjbGFzcyBoZWxwcyB1cyB0byByZWN5Y2xlIHBhdGgtZmluZGluZyBub2RlcyBhbmQgc2lnbmlmaWNhbnRseVxuICogcmVkdWNlcyB0aGUgc2VhcmNoIHRpbWUgKH4yMCUgZmFzdGVyIHRoYW4gd2l0aG91dCBpdCkuXG4gKi9cbmZ1bmN0aW9uIG1ha2VOQkFTZWFyY2hTdGF0ZVBvb2woKSB7XG4gIHZhciBjdXJyZW50SW5DYWNoZSA9IDA7XG4gIHZhciBub2RlQ2FjaGUgPSBbXTtcblxuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTkJBU2VhcmNoU3RhdGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBjcmVhdGVOZXdTdGF0ZTogY3JlYXRlTmV3U3RhdGUsXG5cbiAgICAvKipcbiAgICAgKiBNYXJrcyBhbGwgY3JlYXRlZCBpbnN0YW5jZXMgYXZhaWxhYmxlIGZvciByZWN5Y2xpbmcuXG4gICAgICovXG4gICAgcmVzZXQ6IHJlc2V0XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgY3VycmVudEluQ2FjaGUgPSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTmV3U3RhdGUobm9kZSkge1xuICAgIHZhciBjYWNoZWQgPSBub2RlQ2FjaGVbY3VycmVudEluQ2FjaGVdO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgIC8vIFRPRE86IFRoaXMgYWxtb3N0IGR1cGxpY2F0ZXMgY29uc3RydWN0b3IgY29kZS4gTm90IHN1cmUgaWZcbiAgICAgIC8vIGl0IHdvdWxkIGltcGFjdCBwZXJmb3JtYW5jZSBpZiBJIG1vdmUgdGhpcyBjb2RlIGludG8gYSBmdW5jdGlvblxuICAgICAgY2FjaGVkLm5vZGUgPSBub2RlO1xuXG4gICAgICAvLyBIb3cgd2UgY2FtZSB0byB0aGlzIG5vZGU/XG4gICAgICBjYWNoZWQucDEgPSBudWxsO1xuICAgICAgY2FjaGVkLnAyID0gbnVsbDtcblxuICAgICAgY2FjaGVkLmNsb3NlZCA9IGZhbHNlO1xuXG4gICAgICBjYWNoZWQuZzEgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICBjYWNoZWQuZzIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICBjYWNoZWQuZjEgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICBjYWNoZWQuZjIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAgIC8vIHVzZWQgdG8gcmVjb25zdHJ1Y3QgaGVhcCB3aGVuIGZTY29yZSBpcyB1cGRhdGVkLlxuICAgICAgY2FjaGVkLmgxID0gLTE7XG4gICAgICBjYWNoZWQuaDIgPSAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVkID0gbmV3IE5CQVNlYXJjaFN0YXRlKG5vZGUpO1xuICAgICAgbm9kZUNhY2hlW2N1cnJlbnRJbkNhY2hlXSA9IGNhY2hlZDtcbiAgICB9XG4gICAgY3VycmVudEluQ2FjaGUrKztcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgYVN0YXI6IHJlcXVpcmUoJy4vYS1zdGFyL2Etc3Rhci5qcycpLFxuICBhR3JlZWR5OiByZXF1aXJlKCcuL2Etc3Rhci9hLWdyZWVkeS1zdGFyJyksXG4gIG5iYTogcmVxdWlyZSgnLi9hLXN0YXIvbmJhL2luZGV4LmpzJyksXG59XG4iLCJpbXBvcnQgeyBhLCBiLCBjLCBpbnQsIG5lZ2F0aXZlLCBudW0sIHByb2R1Y3QsIHN1bSwgeCwgeSB9IGZyb20gXCIuL21hdGhsaWIvQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IERlcml2YXRpdmUgfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0Rlcml2YXRpdmVcIlxuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCJcbmltcG9ydCB7IEludGVncmFsIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ3JhbFwiXG5pbXBvcnQgeyBFZGl0YWJsZU1hdGhWaWV3IH0gZnJvbSBcIi4vbWF0aGxpYi91aWVsZW1lbnRzL0VkaXRhYmxlTWF0aFZpZXdcIlxuXG4vKipcbiAqIENhbGxlZCBhZnRlciB0aGUgZG9tIGlzIGxvYWRlZC5cbiAqIFBvcHVsYXRlcyB0aGUgYm9keSBlbGVtZW50IG9mIHRoZSBkb2N1bWVudFxuICogd2l0aCB0aGUgdGVzdCBleHByZXNzaW9ucyBwYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRXhwcmVzc2lvbnNUZXN0UGFnZSgpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSBhcyBIVE1MQm9keUVsZW1lbnRcblxuICAgIGZ1bmN0aW9uIHAoY29udGVudDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgZS5pbm5lclRleHQgPSBjb250ZW50XG4gICAgICAgIHBhZ2UuYXBwZW5kKGUpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlldyhleHA6IEV4cHJlc3Npb24pIHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBFZGl0YWJsZU1hdGhWaWV3KClcbiAgICAgICAgZS52YWx1ZSA9IGV4cFxuICAgICAgICBwYWdlLmFwcGVuZChlKVxuICAgIH1cblxuICAgIHAoXCJUaGUgc3VtIG9mIGEsIGEsIGFuZCBhXCIpXG4gICAgdmlldyhzdW0oYSwgYSwgYSkpXG5cbiAgICBwKFwiSW50ZWdyYWwgb2YgYSBvdmVyIGIgd2l0aCByZXNwZWN0IHRvIGNcIilcbiAgICB2aWV3KEludGVncmFsLm9mKEZyYWN0aW9uLm9mKGEsIGIpLCBjKSlcblxuICAgIHAoXCJJbnRlZ3JhbCBvZiAoYSBvdmVyIGEpIG92ZXIgYiB3aXRoIHJlc3BlY3QgdG8gY1wiKVxuICAgIHZpZXcoSW50ZWdyYWwub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoYSwgYSksIGIpLCBjKSlcblxuICAgIHAoXCJJbnRlZ3JhbCBvZiAoKGEgb3ZlciBhKSBvdmVyIGEpIG92ZXIgYiB3aXRoIHJlc3BlY3QgdG8gY1wiKVxuICAgIHZpZXcoSW50ZWdyYWwub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoYSwgYSksIGEpLCBiKSwgYykpXG5cbiAgICBwKFwiSW50ZWdyYWwgb2YgKCgoYSBvdmVyIGEpIG92ZXIgYSkgb3ZlciBhKSBvdmVyIGIgd2l0aCByZXNwZWN0IHRvIGNcIilcbiAgICB2aWV3KEludGVncmFsLm9mKEZyYWN0aW9uLm9mKEZyYWN0aW9uLm9mKEZyYWN0aW9uLm9mKEZyYWN0aW9uLm9mKGEsIGEpLCBhKSwgYSksIGIpLCBjKSlcblxuICAgIHAoXCJJbnRlZ3JhbCBvZiAoKCgoYSBvdmVyIGEpIG92ZXIgYSkgb3ZlciBhKSBvdmVyIGEpIG92ZXIgYiB3aXRoIHJlc3BlY3QgdG8gY1wiKVxuICAgIHZpZXcoSW50ZWdyYWwub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoYSwgYSksIGEpLCBhKSwgYSksIGIpLCBjKSlcbiAgICBcbiAgICBwKFwiXCIpXG4gICAgdmlldyhpbnQoRnJhY3Rpb24ub2Yoc3VtKG5lZ2F0aXZlKGIpLCBFeHBvbmVudC5vZihzdW0oeCwgYSksIEZyYWN0aW9uLm9mKG51bSgxKSwgbnVtKDIpKSkpLCBwcm9kdWN0KG51bSgyKSwgYSkpLCB4KSlcblxuICAgIHAoXCJQcm9kdWN0IG9mIHggYW5kIHlcIilcbiAgICB2aWV3KHByb2R1Y3QoeCwgeSkpXG5cbiAgICBwKFwiUHJvZHVjdCBvZiAoeC0xKSwgLTEgYW5kIHlcIilcbiAgICB2aWV3KHByb2R1Y3Qoc3VtKHgsIG5lZ2F0aXZlKG51bSgxKSkpLCBudW0oLTEpLCB5KSlcblxuICAgIHAoXCJOZWdhdGlvbiBvZiB4IChSZXBlZCBhcyB0aGUgcHJvcGR1Y3Qgb2YgLTEgYW5kIHgpXCIpXG4gICAgdmlldyhuZWdhdGl2ZSh4KSlcblxuICAgIHAoXCJTdW0gb2YgeCBhbmQgLXhcIilcbiAgICB2aWV3KHN1bSh4LCBuZWdhdGl2ZSh4KSkpXG5cbiAgICBwKFwiU3VtIG9mIC14IGFuZCB4XCIpXG4gICAgdmlldyhzdW0obmVnYXRpdmUoeCksIHgpKVxuXG4gICAgcChcIkRlcml2YXRpdmUgb2YgdGhlIHNxdWFyZSBvZiB4IHdpdGggcmVzcGVjdCB0byB4XCIpXG4gICAgdmlldyhEZXJpdmF0aXZlLm9mKEV4cG9uZW50Lm9mKHgsIG51bSgyKSksIHgpKVxuXG4gICAgcChcIkRlcml2YXRpdmUgKCh4XjIpIC0gMikgd2l0aCByZXNwZWN0IHRvIHhcIilcbiAgICB2aWV3KERlcml2YXRpdmUub2YoRXhwb25lbnQub2Yoc3VtKHgsIG51bSgtMikpLCBudW0oMikpLCB4KSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcblxufSIsImltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIm1hdGhqc1wiO1xuaW1wb3J0IHsgYSwgYiwgYywgZCwgZnJhY3Rpb24sIG5lZ2F0aXZlLCBudW0sIHByb2R1Y3QsIHN1bSwgeCwgeSB9IGZyb20gXCIuL21hdGhsaWIvQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwb25lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IExvZ2FyaXRobSB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvTG9nYXJpdGhtXCI7XG5pbXBvcnQgeyBFZGl0YWJsZU1hdGhWaWV3IH0gZnJvbSBcIi4vbWF0aGxpYi91aWVsZW1lbnRzL0VkaXRhYmxlTWF0aFZpZXdcIjtcbmltcG9ydCB7IHBhcnNlRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvdXNlcmlucHV0L0FudGxyTWF0aFBhcnNlclwiO1xuaW1wb3J0IHsgUG93ZXJDb250ZXh0IH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvYXJpdGhtZXRpY1BhcnNlclwiO1xuXG4vKipcbiAqIENhbGxlZCBhZnRlciBET00gaXMgbG9hZGVkLlxuICogU3Vic3RpdHV0ZXMgdGhlIGJvZHkgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnRcbiAqIHdpdGggdGhlIHByaW1hcnkgaW50ZWdyYXRvciB2aWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZElucHV0UGFyc2VUZXN0UGFnZSgpIHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSBhcyBIVE1MQm9keUVsZW1lbnRcbiAgICBwYWdlLnN0eWxlLnBhZGRpbmcgPSBcIjhjaFwiXG5cbiAgICBmdW5jdGlvbiBwKGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICBlLmlubmVyVGV4dCA9IGNvbnRlbnRcbiAgICAgICAgcmV0dXJuIGVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aWV3KGV4cDogRXhwcmVzc2lvbik6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBFZGl0YWJsZU1hdGhWaWV3KClcbiAgICAgICAgZS52YWx1ZSA9IGV4cFxuICAgICAgICByZXR1cm4gZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByaW50IHRoZSBwYXJzZWQgZXhwcmVzc2lvbiB0byB0aGUgcGFnZS5cbiAgICAgKiBAcGFyYW0gaW5wdXQgVXNlciBpbnB1dCBzdHJpbmcgdG8gcGFyc2UuXG4gICAgICogQHBhcmFtIGV4cGxhbmF0aW9uIFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4cHJlc3Npb24oaW5wdXQ6IHN0cmluZywgZXhwbGFuYXRpb246IHN0cmluZyB8IG51bGwgPSBudWxsKSB7XG4gICAgICAgIHBhZ2UuYXBwZW5kKHAoXCJJbnB1dDogICAgICAgXCIgKyBpbnB1dCkpXG4gICAgICAgIGlmIChleHBsYW5hdGlvbiAhPSBudWxsKSBwYWdlLmFwcGVuZChwKGV4cGxhbmF0aW9uKSlcbiAgICAgICAgcGFnZS5hcHBlbmQodmlldyhwYXJzZUV4cHJlc3Npb24oaW5wdXQpISBhcyBFeHByZXNzaW9uKSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBpbnRlcm5hbCBleHByZXNzaW9uLCBjb252ZXJ0cyBpdFxuICAgICAqIHRvIGEgc3RyaW5nLCB0aGVuIHBhcnNlcyB0aGF0IHN0cmluZyBpbnRvIFxuICAgICAqIGFuIGV4cHJlc3Npb24uXG4gICAgICogQHBhcmFtIGlucHV0IFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHR3b1dheShpbnB1dDogRXhwcmVzc2lvbik6IHZvaWQge1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJylcbiAgICAgICAgdGFibGUuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICB0YWJsZS5zdHlsZS53aWR0aCA9ICc3MCUnXG4gICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJylcbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQocm93KVxuXG4gICAgICAgIGNvbnN0IGRhdGExID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgICBjb25zdCBkYXRhMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgICAgY29uc3QgZGF0YTMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChkYXRhMSlcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGRhdGEyKVxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoZGF0YTMpXG4gICAgICAgIGRhdGExLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAgICAgZGF0YTIuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICBkYXRhMy5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG5cbiAgICAgICAgZGF0YTEuYXBwZW5kQ2hpbGQodmlldyhpbnB1dCkpXG4gICAgICAgIGNvbnN0IHRleHQgPSBwKGlucHV0LnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSlcbiAgICAgICAgdGV4dC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICAgIHRleHQuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIlxuICAgICAgICBkYXRhMi5hcHBlbmRDaGlsZCh0ZXh0KVxuICAgICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHBhcnNlRXhwcmVzc2lvbihpbnB1dC50b1VuYW1iaWdpb3VzU3RyaW5nKCkpXG4gICAgICAgIGRhdGEzLmFwcGVuZENoaWxkKHZpZXcocGFyc2VSZXN1bHQpKVxuICAgICAgICBwYWdlLmFwcGVuZCh0YWJsZSlcblxuICAgICAgICAvLyBDb25kaXRpb25hbCBmb3JtYXR0aW5nXG4gICAgICAgIGlmIChpbnB1dCA9PT0gcGFyc2VSZXN1bHQpIHtcbiAgICAgICAgICAgIGRhdGEzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibGlnaHRncmVlblwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFeHByZXNzaW9uIHN0cmluZ3MgdG8gdGVzdFxuICAgIGV4cHJlc3Npb24oXCJpbnQoeClkeCtjXCIpXG4gICAgZXhwcmVzc2lvbihcImEvYmludHhcIilcblxuICAgIGV4cHJlc3Npb24oXCJhXmIrY1wiLCBcIlRoZSArYyBzaG91bGRuJ3QgYmUgaW4gdGhlIGV4cG9uZW50XCIpXG4gICAgZXhwcmVzc2lvbihcImErYl5jXCIpXG4gICAgZXhwcmVzc2lvbiAoXCIoYStiKV5jXCIpXG5cbiAgICBleHByZXNzaW9uKFwiLWEtYitjXCIpXG4gICAgZXhwcmVzc2lvbihcIi1hKy1iK2NcIilcbiAgICBleHByZXNzaW9uKFwiYStiK2NcIilcbiAgICBleHByZXNzaW9uKFwiLShhK2IpXCIpXG4gICAgZXhwcmVzc2lvbihcIi1hKGErYilcIilcbiAgICBleHByZXNzaW9uKFwiYSsoYitjKVwiKVxuICAgIGV4cHJlc3Npb24oXCJhLWItY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhKmIrY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhL2IrY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhL2IvY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhYngtZFwiKVxuICAgIGV4cHJlc3Npb24oXCItYWJ4LWRcIilcbiAgICBleHByZXNzaW9uKFwiLWEtYngtZFwiKVxuICAgIGV4cHJlc3Npb24oXCJhYmNkXCIpXG4gICAgZXhwcmVzc2lvbihcImEqYipjKmRcIilcbiAgICBleHByZXNzaW9uKFwiYWIqY2RcIilcblxuICAgIGV4cHJlc3Npb24oXCJpbnQ0eCsyXCIpXG4gICAgZXhwcmVzc2lvbihcImludCg0eCsyKVwiKVxuXG4gICAgZXhwcmVzc2lvbihcImxvZ3hcIilcbiAgICBleHByZXNzaW9uKFwibG9nKHgpXCIpXG4gICAgZXhwcmVzc2lvbihcIig1LygyeC0zKS0oMy8oKDJ4LTMpXjIpKVwiKVxuICAgIGV4cHJlc3Npb24oXCIoNS8oMngtMyktKDMvKDJ4LTMpXjIpXCIpXG5cblxuICAgIHBhZ2UuYXBwZW5kKHAoXCJJbiB0aGVzZSB0ZXN0cywgYW4gdW5hbWJpZ2lvdXMgZXhwcmVzc2lvbiBpcyB3cml0dGVuIGluIHRoZSBcIiArXG4gICAgICAgIFwiIHNvdXJjZSBjb2RlLiBJdCBpcyB0aGVuIGNvbnZlcnRlZCB0byBhbiB1bmFtYmlnaW91cyBzdHJpbmcgXCIgK1xuICAgICAgICBcInJlcHJlc2VudGF0aW9uLCBhbmQgdGhlbiBwYXJzZWQgYmFjayBpbnRvIGFuIGV4cHJlc3Npb24uIFwiICtcbiAgICAgICAgXCJUaGUgZ29hbCBpcyB0aGF0IHRoaXMgcHJvY2VzcyBwcmVzZXJ2ZXMgdGhlIGV4cHJlc3Npb24uIFRoaXMgXCIgK1xuICAgICAgICBcInJlcXVpcmVzIDEpIGV4cHJlc3Npb24gLT4gc3RyaW5nIGlzIHVuYW1iaWdpb3VzIGFuZCBhY2N1cmF0ZSBhbmQgMikgXCIgKyBcbiAgICAgICAgXCJ0aGUgcGFyc2VyIGlzIHdvcmtpbmcgY29ycmVjdGx5LlwiXG4gICAgICAgICkpXG4gICAgcGFnZS5hcHBlbmQocChcIlRoZSBmaXJzdCBjb2x1bW4gaXMgYXNzdW1lZCB0byBiZSBjb3JyZWN0LCB0aGUgbWlkZGxlIGNvbGx1bW4gaGFzIFwiICsgXG4gICAgICAgIFwidGhlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIHN0cmluZyB2ZXJzaW9uIG9mIHRoZSBmaXJzdCBjb2x1bW4sIFwiICtcbiAgICAgICAgXCJhbmQgdGhlIGxhc3QgY29sdW1uIGNvbnRhaW5zIHRoZSBleHByZXNzaW9uIHBhcnNlZCBmcm9tIHRoZSBzZWNvbmQgY29sdW1uLlwiXG4gICAgICAgICkpXG4gICAgdHdvV2F5KHN1bSh4LCB5LCBhLCBiLCBjKSlcbiAgICB0d29XYXkoc3VtKHgsIHksIG5lZ2F0aXZlKGEpLCBiLCBjKSlcbiAgICB0d29XYXkoc3VtKHgsIHksIG5lZ2F0aXZlKGEpLCBuZWdhdGl2ZShiKSwgYykpXG4gICAgdHdvV2F5KHN1bSh4LCB5LCBuZWdhdGl2ZShhKSwgYiwgbmVnYXRpdmUoYykpKVxuICAgIHR3b1dheShzdW0oYSwgRXhwb25lbnQub2YoYiwgYykpKVxuICAgIHR3b1dheSAoRXhwb25lbnQub2Yoc3VtKGEsIGIpLCBjKSlcbiAgICB0d29XYXkoc3VtKG5lZ2F0aXZlKGEpLCBuZWdhdGl2ZShiKSwgYykpXG4gICAgdHdvV2F5KHN1bShhLCBiLCBjKSlcbiAgICB0d29XYXkobmVnYXRpdmUoc3VtKGEsIGIpKSlcbiAgICB0d29XYXkocHJvZHVjdChuZWdhdGl2ZShhKSwgc3VtKGEsIGIpKSlcbiAgICB0d29XYXkobmVnYXRpdmUocHJvZHVjdChhLCBzdW0oYSwgYikpKSlcbiAgICB0d29XYXkoc3VtKGEsIHN1bShiLCBjKSkpXG4gICAgdHdvV2F5KHN1bShhLCBuZWdhdGl2ZShiKSwgbmVnYXRpdmUoYykpKVxuICAgIHR3b1dheShzdW0ocHJvZHVjdChhLCBiKSwgYykpXG4gICAgdHdvV2F5KHN1bShmcmFjdGlvbihhLCBiKSwgYykpXG4gICAgdHdvV2F5KGZyYWN0aW9uKGZyYWN0aW9uKGEsIGIpLCBjKSlcbiAgICB0d29XYXkoc3VtKHByb2R1Y3QoYSwgYiwgeCksIGQpKVxuICAgIHR3b1dheShzdW0obmVnYXRpdmUocHJvZHVjdChhLCBiLCB4KSksIG5lZ2F0aXZlKGQpKSlcbiAgICB0d29XYXkoc3VtKG5lZ2F0aXZlKGEpLCBuZWdhdGl2ZShwcm9kdWN0KGIseCkpLCBuZWdhdGl2ZShkKSkpXG4gICAgdHdvV2F5KHByb2R1Y3QoYSwgYiwgYywgZCkpXG4gICAgLy8gdHdvV2F5KFwiYWIqY2RcIilcbiAgICAvLyB0d29XYXkoXCJpbnQ0eCsyXCIpXG4gICAgLy8gdHdvV2F5KFwiaW50KDR4KzIpXCIpXG4gICAgdHdvV2F5KExvZ2FyaXRobS5vZih4LCBudW0oMTApKSlcbiAgICBcbn0iLCJpbXBvcnQgeyBhLCBiLCBuZWdhdGl2ZSwgbnVtLCBwcm9kdWN0LCBzdW0sIHggfSBmcm9tIFwiLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgV2ViR3JhcGhWaWV3LCBXZWJHcmFwaFZpZXdJbml0U2V0dGluZ3MgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvV2ViR3JhcGhWaWV3XCI7XG5pbXBvcnQgeyBkZXJpdmVFeHBhbmQsIHdyYXBJbkdyYXBoIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9EZXJpdmVyXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBSZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGUgfSBmcm9tIFwiLi9tYXRobGliL2Rlcml2YXRpb25zL1JlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZVwiO1xuaW1wb3J0IHsgU3VidHJhY3RGcm9tQm90aFNpZGVzIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9hbGdlYnJhL1N1YnRyYWN0RnJvbUJvdGhTaWRlc1wiO1xuaW1wb3J0IHsgRGl2aWRlT25Cb3RoU2lkZXMgfSBmcm9tIFwiLi9tYXRobGliL2Rlcml2YXRpb25zL2FsZ2VicmEvRGl2aWRlT25Cb3RoU2lkZXNcIjtcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9WYXJpYWJsZVwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IEludGVycHJldGVyIH0gZnJvbSBcIi4vbWF0aGxpYi9pbnRlcnByZXRpbmcvSW50ZXJwcmV0ZXJcIjtcbmltcG9ydCB7IFJVTEVfSUQgYXMgRXZhbHVhdGVfU3Vtc19SdWxlIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvRXZhbHVhdGVTdW1zXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvQW50bHJNYXRoUGFyc2VyXCI7XG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5pbXBvcnQgeyBJbnRlZ3JhbCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvSW50ZWdyYWxcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuXG5cblJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZS5ydWxlcy5hZGQobmV3IFN1YnRyYWN0RnJvbUJvdGhTaWRlcygpKVxuUmVsYXRpb25hbERlcml2YXRpb25SdWxlLnJ1bGVzLmFkZChuZXcgRGl2aWRlT25Cb3RoU2lkZXMoKSlcblxuLyoqXG4gKiBDYWxsZWQgYWZ0ZXIgRE9NIGlzIGxvYWRlZC5cbiAqIFN1YnN0aXR1dGVzIHRoZSBib2R5IGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50XG4gKiB3aXRoIHRoZSBwcmltYXJ5IGludGVncmF0b3Igdmlldy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQcmltYXJ5UGFnZSgpOiB2b2lkIHtcblxuICAgIC8vcHJvZHVjdChzdW0oYSwgYiksIHN1bShhLCBuZWdhdGl2ZShiKSksIGEsIGEpXG4gICAgbGV0IHJvb3Q6IEV4cHJlc3Npb24gfCBudWxsID0gSW50ZWdyYWwub2YocHJvZHVjdChudW0oMTApLCBFeHBvbmVudC5vZih4LCBudW0oMikpKSwgeClcblxuICAgIGxldCBkZXJpdmF0aW9uUmVzdWx0ID0gZGVyaXZlRXhwYW5kKHdyYXBJbkdyYXBoKHJvb3QpLCAzMCwgdHJ1ZSlcbiAgICBjb25zdCBncmFwaCA9IGRlcml2YXRpb25SZXN1bHQuZ3JhcGhcblxuICAgIGNvbnN0IGludGVycHJldGVyID0gbmV3IEludGVycHJldGVyKHtcbiAgICAgICAgc2tpcHM6IHNldE9mKFxuICAgICAgICAgICAgRXZhbHVhdGVfU3Vtc19SdWxlXG4gICAgICAgIClcbiAgICB9KVxuXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0XCIpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnRcbiAgICBpbnB1dCEuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLmtleSAhPSBcIkVudGVyXCIpIHJldHVyblxuXG4gICAgICAgIGlucHV0LnZhbHVlID0gaW5wdXQudmFsdWUudHJpbUVuZCgpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJvb3QgPSBwYXJzZUV4cHJlc3Npb24oaW5wdXQudmFsdWUpXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYWxlcnQoXCJOb3QgYSB2YWxpZCBpbnB1dFwiKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBkZXJpdmF0aW9uUmVzdWx0ID0gZGVyaXZlRXhwYW5kKHdyYXBJbkdyYXBoKHJvb3QpLCA1LCB0cnVlKVxuICAgICAgICBjb25zdCBncmFwaCA9IGRlcml2YXRpb25SZXN1bHQuZ3JhcGhcblxuICAgICAgICBncmFwaFZpZXcuc2V0R3JhcGgoZ3JhcGgsIHNldE9mKHJvb3QpKVxuICAgIH0pXG5cblxuICAgIGNvbnN0IG91dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3V0cHV0Ym94XCIpITtcblxuICAgIGNvbnN0IGNvbmZpZzogV2ViR3JhcGhWaWV3SW5pdFNldHRpbmdzID0ge1xuICAgICAgICBzaG93QXJndW1lbnRzOiBmYWxzZSxcbiAgICAgICAgZHJhd0VkZ2VMaW5lczogdHJ1ZSxcbiAgICAgICAgZGVidWdDb3JuZXJFbmFibGVkOiB0cnVlLFxuICAgIH1cblxuICAgIGNvbnN0IGdyYXBoVmlldyA9IG5ldyBXZWJHcmFwaFZpZXcoZ3JhcGgsIG5ldyBTZXQoW3Jvb3RdKSwgaW50ZXJwcmV0ZXIsIGNvbmZpZylcbiAgICBncmFwaFZpZXcuc2V0Tm9kZUNvbG9yaW5nU2NoZW1lKG4gPT4ge1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIEV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGlmICghZGVyaXZhdGlvblJlc3VsdC5pc1NpbXBsaWZpZWQobikpIHJldHVybiBcImxpZ2h0Z3JheVwiXG5cbiAgICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgUHJvZHVjdClcbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZhdGlvblJlc3VsdC5wYXNzZWRGYWN0b3JpbmdTaW1wbGlmaWNhdGlvbi5oYXMobikpIHJldHVybiBcImNvcmFsXCJcbiAgICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgU3VtKVxuICAgICAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uUmVzdWx0LnBhc3NlZFBvbHlub21pYWxTaW1wbGlmaWNhdGlvbi5oYXMobikpIHJldHVybiBcInllbGxvd1wiXG4gICAgICAgICAgICBpZiAoZGVyaXZhdGlvblJlc3VsdC5wYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uaGFzKG4pKSByZXR1cm4gXCJsaWdodGdyZWVuXCJcbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBpZiAobiBpbnN0YW5jZW9mIFZhcmlhYmxlKSByZXR1cm4gXCJvcmFuZ2VcIlxuXG4gICAgICAgICAgICByZXR1cm4gXCJsaWdodGJsdWVcIlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcImJsYWNrXCJcbiAgICB9KVxuICAgIGdyYXBoVmlldy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIndlYi1ncmFwaHZpZXdcIilcbiAgICBvdXQuYXBwZW5kQ2hpbGQoZ3JhcGhWaWV3KVxuXG59IiwiaW1wb3J0IHsgYSwgYiwgYywgZCwgZnJhY3Rpb24sIG5lZ2F0aXZlLCBudW0sIHBvdywgcHJvZHVjdCwgc3VtLCB4LCB5IH0gZnJvbSBcIi4vbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IGRlcml2ZUV4cGFuZCwgd3JhcEluR3JhcGggfSBmcm9tIFwiLi9tYXRobGliL2Rlcml2YXRpb25zL0Rlcml2ZXJcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEVkaXRhYmxlTWF0aFZpZXcgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvRWRpdGFibGVNYXRoVmlld1wiO1xuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvQW50bHJNYXRoUGFyc2VyXCI7XG5cbi8qKlxuICogQ2FsbGVkIGFmdGVyIERPTSBpcyBsb2FkZWQuXG4gKiBTdWJzdGl0dXRlcyB0aGUgYm9keSBlbGVtZW50IGluIHRoZSBkb2N1bWVudFxuICogd2l0aCB0aGUgcHJpbWFyeSBpbnRlZ3JhdG9yIHZpZXcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU2ltcGxpZmljYXRpb25UZXN0UGFnZSgpIHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSBhcyBIVE1MQm9keUVsZW1lbnRcbiAgICBwYWdlLnN0eWxlLnBhZGRpbmcgPSBcIjhjaFwiXG5cbiAgICBmdW5jdGlvbiBwKGNvbnRlbnQ6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICBlLmlubmVyVGV4dCA9IGNvbnRlbnRcbiAgICAgICAgcmV0dXJuIGVcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aWV3KGV4cDogRXhwcmVzc2lvbik6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBFZGl0YWJsZU1hdGhWaWV3KClcbiAgICAgICAgZS52YWx1ZSA9IGV4cFxuICAgICAgICByZXR1cm4gZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSB0ZXN0IGNvbHVtbiB0byB0aGUgcGFnZS5cbiAgICAgKiBAcGFyYW0gc3RhcnQgXG4gICAgICogQHBhcmFtIGFuc3cgVGhlIGNvcnJlY3Qgc2ltcGxpZmljYXRpb24gb2YgdGhlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2ltcGxpZnkoc3RhcnQ6IEV4cHJlc3Npb24sIGFuc3c6IEV4cHJlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpXG4gICAgICAgIHRhYmxlLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAgICAgdGFibGUuc3R5bGUud2lkdGggPSAnODAlJ1xuICAgICAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHJvdylcblxuICAgICAgICBmdW5jdGlvbiBhcHBlbmQoY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgICAgIGNlbGwuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgICAgY29uc3QgZGF0YTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgIGNvbnN0IGRhdGEzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgICBhcHBlbmQoZGF0YTEpXG4gICAgICAgIGFwcGVuZChkYXRhMilcbiAgICAgICAgYXBwZW5kKGRhdGEzKVxuXG4gICAgICAgIGRhdGExLmFwcGVuZENoaWxkKHZpZXcoc3RhcnQpKVxuICAgICAgICBjb25zdCBkZXJpdmF0aW9uUmVzdWx0ID0gZGVyaXZlRXhwYW5kKHdyYXBJbkdyYXBoKHN0YXJ0KSwgNDApXG5cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGRlcml2YXRpb25SZXN1bHQuc2ltcGxpZmllZEV4cHJlc3Npb25zXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMubGVuZ3RoKVxuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGFibGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIlxuICAgICAgICAgICAgcGFnZS5hcHBlbmQodGFibGUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBkYXRhMi5hcHBlbmRDaGlsZCh2aWV3KHJlc3VsdHNbMF0pKVxuICAgICAgICBkYXRhMy5hcHBlbmRDaGlsZCh2aWV3KGFuc3cpKVxuXG4gICAgICAgIHBhZ2UuYXBwZW5kKHRhYmxlKVxuXG4gICAgICAgIC8vIENvbmRpdGlvbmFsIGZvcm1hdHRpbmdcbiAgICAgICAgaWYgKHJlc3VsdHNbMF0gPT09IGFuc3cpIHtcbiAgICAgICAgICAgIGRhdGEyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibGlnaHRncmVlblwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiXG4gICAgICAgICAgICBjb25zdCBkYXRhNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgICAgICAgIGNvbnN0IGRhdGE1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgICAgICAgY29uc3QgZGF0YTYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgICAgICBhcHBlbmQoZGF0YTQpXG4gICAgICAgICAgICBhcHBlbmQoZGF0YTUpXG4gICAgICAgICAgICBhcHBlbmQoZGF0YTYpXG4gICAgICAgICAgICBkYXRhNC5pbm5lckhUTUwgPSByZXN1bHRzWzBdLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSArIFwiPGJyPlwiICsgYW5zdy50b1VuYW1iaWdpb3VzU3RyaW5nKClcbiAgICAgICAgICAgIGRhdGE1LmlubmVySFRNTCA9IFwiSGFzaGVzOiA8YnI+XCIgKyByZXN1bHRzWzBdLmhhc2ggKyBcIjxicj5cIiArIGFuc3cuaGFzaFxuICAgICAgICAgICAgZGF0YTYuaW5uZXJIVE1MID0gXCJJRHM6IFwiICsgcmVzdWx0c1swXS5pZCArIFwiPGJyPlwiICsgYW5zdy5pZCBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdyYXBwZXIgZm9yIHNpbXBsaWZ5IHRoYXQgcGFyc2VzIHN0cmluZ3NcbiAgICAgKiBAcGFyYW0gaW5wdXQgXG4gICAgICogQHBhcmFtIGFuc3cgXG4gICAgICovXG4gICAgZnVuY3Rpb24gcFNpbXAoaW5wdXQ6IHN0cmluZywgYW5zdzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGlucHV0RXhwID0gcGFyc2VFeHByZXNzaW9uKGlucHV0KVxuICAgICAgICBjb25zdCBhbnN3RXhwID0gcGFyc2VFeHByZXNzaW9uKGFuc3cpXG4gICAgICAgIHNpbXBsaWZ5KGlucHV0RXhwLCBhbnN3RXhwKVxuICAgIH1cblxuICAgIC8vIEV4cHJlc3Npb25zIGFuZCB0aGVpciBjb3JyZWN0IHNpbXBsaWZpY2F0aW9uc1xuICAgIHNpbXBsaWZ5KHN1bSh4LCB4KSwgcHJvZHVjdChudW0oMiksIHgpKVxuICAgIHNpbXBsaWZ5KHByb2R1Y3QoeCwgeCksIHBvdyh4LCBudW0oMikpKVxuICAgIHNpbXBsaWZ5KHN1bShhLCBhLCBiKSwgc3VtKHByb2R1Y3QobnVtKDIpLCBhKSwgYikpXG4gICAgc2ltcGxpZnkocHJvZHVjdChwb3coYSwgYiksIHBvdyhjLCBiKSksIHByb2R1Y3QocG93KGEsIGIpLCBwb3coYywgYikpKVxuICAgIHNpbXBsaWZ5KHByb2R1Y3QocG93KGEsIGIpLCBwb3coYSwgYykpLCBwb3coYSwgc3VtKGIsIGMpKSlcbiAgICBzaW1wbGlmeShwcm9kdWN0KHBvdyhhLCBiKSwgcG93KGEsIGIpKSwgcG93KGEsIHByb2R1Y3QobnVtKDIpLCBiKSkpXG4gICAgcFNpbXAoXCIoYStiKShhK2IpXCIsIFwiKGErYileMlwiKVxuICAgIHBTaW1wKFwiKGErYikoYS1iKVwiLCBcImFeMi1iXjJcIilcbiAgICBwU2ltcChcImJeMipiXCIsIFwiYl4zXCIpXG4gICAgLy8gUmFuZG9tIG9ubGluZSBwcm9ibGVtc1xuICAgIHBTaW1wKFwiKC0oMS94KSsxKSgoeF4yKS8oeC0xKSlcIiwgXCJ4XCIpXG4gICAgcFNpbXAoXCIoM3grMjd5KzE1eikvKHgrOXkrNXopXCIsIFwiM1wiKVxuICAgIHBTaW1wKFwiKHheMi05KS8oeCszKVwiLCBcIih4LTMpXCIpXG4gICAgcFNpbXAoXCJ4KzMqKDEwK3kpLTd4LXlcIiwgXCItNngrMnkrMzBcIilcbiAgICBwU2ltcChcIig1LygyeC0zKS0oMy8oKDJ4LTMpXjIpKVwiLCBcIigyKDV4LTkpKS8oKDJ4LTMpXjIpXCIpXG5cbiAgICBcbn0iLCJpbXBvcnQgeyBkZXJpdmVFeHBhbmQsIHdyYXBJbkdyYXBoIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9EZXJpdmVyXCJcbmltcG9ydCB7IEdyYXBoRWRnZSB9IGZyb20gXCIuL21hdGhsaWIvR3JhcGhcIlxuaW1wb3J0IHsgRWRpdGFibGVNYXRoVmlldyB9IGZyb20gXCIuL21hdGhsaWIvdWllbGVtZW50cy9FZGl0YWJsZU1hdGhWaWV3XCJcbmltcG9ydCBwYXRoIGZyb20gXCJuZ3JhcGgucGF0aFwiXG5pbXBvcnQgY3JlYXRlR3JhcGggZnJvbSBcIm5ncmFwaC5ncmFwaFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi9tYXRobGliL01hdGhHcmFwaE5vZGVcIlxuaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi9tYXRobGliL0FyZ3VtZW50XCJcbmltcG9ydCB7IEFyZ3VtZW50Tm9kZVZpZXcgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvQXJndW1lbnROb2RlVmlld1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uTm9kZVZpZXcgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvRXhwcmVzc2lvbk5vZGVWaWV3XCJcbmltcG9ydCB7IEdyYXBoTWluaXB1bGF0b3IgfSBmcm9tIFwiLi9tYXRobGliL0dyYXBoTWluaXB1bGF0b3JcIlxuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvQW50bHJNYXRoUGFyc2VyXCJcbmltcG9ydCB7IEludGVycHJldGVyIH0gZnJvbSBcIi4vbWF0aGxpYi9pbnRlcnByZXRpbmcvSW50ZXJwcmV0ZXJcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi9tYXRobGliL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgUlVMRV9JRCBhcyBFdmFsdWF0ZV9TdW1zX1J1bGUgfSBmcm9tIFwiLi9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9FdmFsdWF0ZVN1bXNcIlxuaW1wb3J0IHsgUGF0aCB9IGZyb20gXCIuL21hdGhsaWIvaW50ZXJwcmV0aW5nL1BhdGhcIlxuXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU29sdmVyUGFnZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dFZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvYmxlbScpISBhcyBIVE1MVGV4dEFyZWFFbGVtZW50XG4gICAgY29uc3QgcHJvYmxlbVZpZXdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwcmVzc2lvblZpZXdEaXYnKSBhcyBIVE1MRGl2RWxlbWVudFxuICAgIGNvbnN0IHNvbHV0aW9uVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb2x1dGlvbicpISBhcyBFZGl0YWJsZU1hdGhWaWV3XG4gICAgY29uc3Qgc3RlcExpc3RWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXBzJykhXG5cbiAgICAvLyBQb3B1bGF0ZSB1aVxuICAgIGNvbnN0IHByb2JsZW1WaWV3ID0gbmV3IEVkaXRhYmxlTWF0aFZpZXcoKVxuICAgIHByb2JsZW1WaWV3RGl2LmFwcGVuZENoaWxkKHByb2JsZW1WaWV3KVxuXG4gICAgaW5wdXRWaWV3LmZvY3VzKClcblxuICAgIGlucHV0Vmlldy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xuICAgICAgICAvLyBQYXJzZSBpbnB1dFxuICAgICAgICBsZXQgZXhwOiBFeHByZXNzaW9uXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHAgPSBwYXJzZUV4cHJlc3Npb24oaW5wdXRWaWV3LnZhbHVlKVxuICAgICAgICAgICAgcHJvYmxlbVZpZXcudmFsdWUgPSBleHBcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RlcExpc3RWaWV3LnN0eWxlLm9wYWNpdHkgPSBcIjAuNlwiXG4gICAgICAgICAgICBwcm9ibGVtVmlldy52YWx1ZSA9IG51bGxcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHdlcmUgYWJsZSB0byBwYXJzZSB0aGUgaW5wdXRcbiAgICAgICAgc3RlcExpc3RWaWV3LnN0eWxlLm9wYWNpdHkgPSBcIjFcIlxuXG4gICAgICAgIC8vIENsZWFyIHRoZSBwcmV2aW91cyByZXN1bHRcbiAgICAgICAgd2hpbGUgKHN0ZXBMaXN0Vmlldy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcucmVtb3ZlQ2hpbGQoc3RlcExpc3RWaWV3LmNoaWxkcmVuWzBdKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RlcHMgPSBnZXRTb2x1dGlvbihleHApXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKHN0ZXBzLm5vZGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcudGV4dENvbnRlbnQgPSBcIkNhbm5vdCBTaW1wbGlmeVwiXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ZXBMaXN0Vmlldy50ZXh0Q29udGVudCA9IFwiXCJcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEludGVycHJldCB0aGUgc29sdXRpb25cbiAgICAgICAgY29uc3QgaW50ZXJwcmV0ZXIgPSBuZXcgSW50ZXJwcmV0ZXIoe1xuICAgICAgICAgICAgc2tpcHM6IHNldE9mKFxuICAgICAgICAgICAgICAgIEV2YWx1YXRlX1N1bXNfUnVsZVxuICAgICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBza2lwU2V0ID0gaW50ZXJwcmV0ZXIucHJvY2Vzc1BhdGgoc3RlcHMpXG5cbiAgICAgICAgLy8gRGlzcGxheSBuZXcgcmVzdWx0XG4gICAgICAgIHNvbHV0aW9uVmlldy52YWx1ZSA9IHN0ZXBzLm5vZGVzW3N0ZXBzLm5vZGVzLmxlbmd0aCAtIDFdIGFzIEV4cHJlc3Npb25cblxuICAgICAgICBmdW5jdGlvbiByZWN1cnNpdmVBZGQobm9kZTogRXhwcmVzc2lvbik6IHZvaWQge1xuXG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcuYXBwZW5kQ2hpbGQobmV3IEV4cHJlc3Npb25Ob2RlVmlldyhub2RlLCB2aWV3ID0+IHt9KSlcblxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHNraXBTZXQubmV4dChub2RlKVxuICAgIFxuICAgICAgICAgICAgaWYgKG5leHQgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IG5leHQuYVxuICAgICAgICAgICAgc3RlcExpc3RWaWV3LmFwcGVuZENoaWxkKG5ldyBBcmd1bWVudE5vZGVWaWV3KGFyZywgdmlldyA9PiB7fSkpXG4gICAgICAgICAgICByZWN1cnNpdmVBZGQobmV4dC5lKVxuICAgICAgICB9ICAgIFxuXG4gICAgICAgIHJlY3Vyc2l2ZUFkZChzdGVwcy5ub2Rlc1swXSlcbiAgICAgICAgXG4gICAgfSlcbn1cblxuLyoqXG4gKiBTaW1wbGlmaWVzIHRoZSBnaXZlbiBleHByZXNzaW9uIHJldHVybmluZyBhbiBhcnJheVxuICogb2Ygc3RlcHMgZW5kaW5nIGluIHRoZSBhbnN3ZXIuXG4gKiBUaGUgbGFzdCBub2RlIHdpbGwgYmUgYW4gZXhwcmVzc2lvbi5cbiAqIFJlc3VsdCBwYXRoIHdpbGwgaGF2ZSBubyBub2RlcyBpZiB0aGVyZSBpcyBubyBzb2x1dGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0U29sdXRpb24ocHJvYmxlbTogRXhwcmVzc2lvbik6IFBhdGg8RXhwcmVzc2lvbj4ge1xuICAgIGNvbnN0IGdyYXBoID0gd3JhcEluR3JhcGgocHJvYmxlbSlcbiAgICBjb25zdCBkZXJpdmF0aW9uUmVzdWx0ID0gZGVyaXZlRXhwYW5kKGdyYXBoLCA1MCwgdHJ1ZSlcblxuICAgIGxldCBzaW1wbGlmaWVkOiBFeHByZXNzaW9uID0gcHJvYmxlbVxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmFwaC5nZXROb2RlcygpKSB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uUmVzdWx0LmlzU2ltcGxpZmllZChub2RlKSlcbiAgICAgICAgICAgICAgICBpZiAoc2ltcGxpZmllZC5jaGlsZENvdW50ID4gbm9kZS5jaGlsZENvdW50KVxuICAgICAgICAgICAgICAgICAgICBzaW1wbGlmaWVkID0gbm9kZSBhcyBFeHByZXNzaW9uXG4gICAgfVxuXG4gICAgLy8gQ29weSB0aGUgcmVzdWx0aW5nIGdyYXBoIGludG8gYSBsaWJyYXJ5IGltcGxlbWVudGF0aW9uIG9mIGdyYXBoXG4gICAgY29uc3QgbGlicmFyeUdyYXBoID0gY3JlYXRlR3JhcGg8TWF0aEdyYXBoTm9kZSwgR3JhcGhFZGdlPigpXG4gICAgZ3JhcGguZ2V0Tm9kZXMoKS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICBsaWJyYXJ5R3JhcGguYWRkTm9kZShuLmlkLCBuKVxuICAgIH0pXG5cbiAgICAvLyBJIGFzc3VtZSB0aGF0IGxpYnJhcnkgZ3JhcGggaXNuJ3QgZGlyZWN0ZWRcbiAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgR3JhcGhNaW5pcHVsYXRvci5kcm9wU3ltbWV0cmljKGdyYXBoLmdldEVkZ2VzKCkpKSB7XG4gICAgICAgIGlmIChlZGdlLmUgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgbGlicmFyeUdyYXBoLmFkZExpbmsoZWRnZS5uLmlkLCBlZGdlLmUuaWQpXG4gICAgICAgICAgICBsaWJyYXJ5R3JhcGguYWRkTGluayhlZGdlLmUuaWQsIGVkZ2UubjEuaWQpXG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAvLyBpZiAoZWRnZS5uIGluc3RhbmNlb2YgRXhwcmVzc2lvbiAmJiBlZGdlLm4xIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGBlZGdlICR7ZWRnZS5ufSBBTkQgJHtlZGdlLm4xfWApXG4gICAgfVxuXG4gICAgLy8gRG8gcGF0aCBmaW5kaW5nIG9wZXJhdGlvbiBvbiBpdFxuICAgIGNvbnN0IHBhdGhGaW5kZXIgPSBwYXRoLm5iYTxNYXRoR3JhcGhOb2RlLCBHcmFwaEVkZ2U+KGxpYnJhcnlHcmFwaClcbiAgICBjb25zdCByZXN1bHRQYXRoID0gcGF0aEZpbmRlci5maW5kKHByb2JsZW0uaWQsIHNpbXBsaWZpZWQhLmlkKS5yZXZlcnNlKClcblxuICAgIGNvbnN0IHR5cGVkUmVzdWx0UGF0aCA9IHJlc3VsdFBhdGgubWFwKG5vZGUgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhIGluc3RhbmNlb2YgQXJndW1lbnQpXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5kYXRhIGFzIEFyZ3VtZW50XG4gICAgICAgIGVsc2UgaWYgKG5vZGUuZGF0YSBpbnN0YW5jZW9mIEV4cHJlc3Npb24pXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5kYXRhIGFzIEV4cHJlc3Npb25cbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICB9KS5maWx0ZXIobm9kZSA9PiBub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbikgYXMgRXhwcmVzc2lvbltdXG5cbiAgICByZXR1cm4gbmV3IFBhdGgoZ3JhcGgsIC4uLnR5cGVkUmVzdWx0UGF0aCkgICAgXG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4vR3JhcGhcIjtcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi9NYXRoR3JhcGhOb2RlXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCI7XG5cbi8qKlxuICogQ29ubmVjdHMgb25lIG9yIG1vcmUgbm9kZXMgKGdyb3VuZHMpIHRvIG9uZSBvciBtb3JlIG5vZGVzIChjbGFpbXMpLlxuICogQ29udGFpbnMgYW4gZXhwbGFuYXRpb24vYXJndW1lbnQgZm9yIHRoZSBjb25uZWN0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQXJndW1lbnQgZXh0ZW5kcyBNYXRoR3JhcGhOb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcihncm91bmRzOiBTZXQ8RXhwcmVzc2lvbj4sIGNsYWltOiB7bjogRXhwcmVzc2lvbiwgcjogUmVsYXRpb25zaGlwLCBuMTogRXhwcmVzc2lvbn0sIGFyZ3VtZW50OiBzdHJpbmcsIHJ1bGVJZDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5ncm91bmRzID0gZ3JvdW5kc1xuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuZ3JvdW5kcylcbiAgICAgICAgdGhpcy5jbGFpbSA9IGNsYWltXG4gICAgICAgIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudFxuICAgICAgICB0aGlzLnJ1bGVJZCA9IHJ1bGVJZFxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG4gICAgZXhwcmVzc2lvbkVkZ2U6IHRydWUgPSB0cnVlXG4gICAgZ2V0IHJlbGF0aW9uc2hpcCgpOiBSZWxhdGlvbnNoaXAge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFpbS5yXG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIkFyZ3VtZW50IFwiICsgdGhpcy5jbGFpbS5yXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHdvIG91dCBtYXRoIGdyYXBoIG5vZGVzIHRoYXQgYXJlIHJlbGF0ZWQgYnkgdGhpcyBBcnVnbWVudC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhaW06IHtuOiBFeHByZXNzaW9uLCByOiBSZWxhdGlvbnNoaXAsIG4xOiBFeHByZXNzaW9ufTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXhwbGFuYXRpb24gdGhhdCBjb25uZWN0cyB0aGUgYXJndW1lbnQncyBncm91bmRzIHRvIFxuICAgICAqIGl0J3MgY2xhaW1lZCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgdHdvIG91dCBub2Rlcy5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJndW1lbnQ6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBOb2RlcyB0aGF0IGhhdmUgYW4gZWRnZSBwb2ludGluZyB0byB0aGlzIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBncm91bmRzOiBTZXQ8RXhwcmVzc2lvbj47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIHJ1bGUgd2hpY2ggZ2VuZXJhdGVkIHRoaXMgYXJndW1lbnQuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IHJ1bGVJZDogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSByZXBPaygpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZ3JvdW5kcyAhPSBudWxsKVxuICAgICAgICBmb3IoY29uc3QgZ3JvdW5kIG9mIHRoaXMuZ3JvdW5kcykge1xuICAgICAgICAgICAgYXNzZXJ0KGdyb3VuZCAhPSBudWxsICYmIGdyb3VuZCAhPSB1bmRlZmluZWQpXG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KHRoaXMuY2xhaW0ubiAhPSBudWxsICYmIHRoaXMuY2xhaW0ubiAhPSB1bmRlZmluZWQpXG4gICAgICAgIGFzc2VydCh0aGlzLmNsYWltLm4xICE9IG51bGwgJiYgdGhpcy5jbGFpbS5uMSAhPSB1bmRlZmluZWQpXG4gICAgICAgIGFzc2VydCh0aGlzLmNsYWltLnIgIT0gdW5kZWZpbmVkICYmIHRoaXMuY2xhaW0uciAhPSBudWxsKVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvRnJhY3Rpb25cIjtcbmltcG9ydCB7IEludGVncmFsIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvSW50ZWdyYWxcIjtcbmltcG9ydCB7IGZhY3Rvck9yZGVyLCBQcm9kdWN0IH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgb3JkZXJUZXJtcywgU3VtLCBTdW1UeXBlIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCI7XG5pbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmFjdGlvbihudW06IEV4cHJlc3Npb24sIGRlbjogRXhwcmVzc2lvbik6IEZyYWN0aW9uIHtcbiAgICByZXR1cm4gRnJhY3Rpb24ub2YobnVtLCBkZW4pXG59XG5cbi8qKlxuICogQSBjb252ZW5pZW5jZSBtZXRob2QgZm9yIFN1bS5vZigpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdW0oLi4udGVybXM6IEV4cHJlc3Npb25bXSk6IFN1bSB7XG4gICAgcmV0dXJuIFN1bS5vZih0ZXJtcylcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBjb3JyZWN0bHkgb3JkZXJlZCBzdW0gb2YgdGhlIGdpdmVuIHN1bS5cbiAqIDEgKyBhID0gYSArIDFcbiAqIEZvbGxvd3MgdGhlIHNwZWMgZ2l2ZW4gaW4gdGhlIFN1bS50cyBmaWxlLlxuICogQHBhcmFtIHN1bSBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJlZFN1bShzdW06IFN1bSk6IFN1bSB7XG4gICAgY29uc3Qgb3JkZXJlZCA9IG9yZGVyVGVybXMoLi4uc3VtLnRlcm1zKVxuICAgIHJldHVybiBTdW0ub2Yob3JkZXJlZClcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhlIGdpdmVuIHRlcm1zLCBldmFsdWF0aW5nIGFueSBpbnRlZ2VyIHRlcm1zLlxuICogUHV0cyBmaW5hbCBjb25zdGFudCBpbnRlZ2VyIGFzIHRoZSBsYXN0IHRlcm0uXG4gKiBJZiB0aGUgcmVzdWx0IGlzIGEgc3VtLCBpdCB3aWxsIG5vdCBoYXZlIHRoZSBpbnRlZ2VyIDAgYXMgYSB0ZXJtLlxuICogSWYgYWxsIGdpdmVuIHRlcm1zIHN1bSB0byB6ZXJvLCB0aGUgaW50ZWdlciB6ZXJvIHdpbGwgYmUgcmV0dXJuZWQuXG4gKiBAcGFyYW0gdGVybXMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdW1FdmFsSW50ZWdlclRlcm1zKC4uLnRlcm1zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uIHtcbiAgICBjb25zdCBpbnRlZ2VycyA9IHRlcm1zLmZpbHRlcihlID0+IGUgaW5zdGFuY2VvZiBJbnRlZ2VyKS5sZW5ndGhcbiAgICBpZiAoaW50ZWdlcnMgPCAyKSByZXR1cm4gc3VtKC4uLnRlcm1zKVxuXG4gICAgY29uc3Qgbm9uSW50VGVybXMgPSB0ZXJtcy5maWx0ZXIoZSA9PiAhKGUgaW5zdGFuY2VvZiBJbnRlZ2VyKSlcbiAgICBjb25zdCBpbnRUZXJtID0gdGVybXMuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIEludGVnZXIpXG4gICAgICAgIC5tYXA8SW50ZWdlcj4oZSA9PiBlIGFzIEludGVnZXIpXG4gICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IG51bShhLnZhbHVlICsgYi52YWx1ZSkpXG5cbiAgICBpZiAoaW50VGVybS52YWx1ZSA9PSAwKSB7XG4gICAgICAgIGlmIChub25JbnRUZXJtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtKC4uLm5vbkludFRlcm1zKVxuICAgICAgICB9IGVsc2UgaWYgKG5vbkludFRlcm1zLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9uSW50VGVybXNbMF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRUZXJtXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9uSW50VGVybXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRUZXJtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtKC4uLm5vbkludFRlcm1zLCBpbnRUZXJtKVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN1bSBvZiB0aGUgZ2l2ZW4gdGVybXMuIEV2YWx1YXRlcyBhbnlcbiAqIGludGVnZXIgdGVybXMuIEFkZGl0aW9uYWxseSBjYW5jZWxzIG91dCBhbnkgcG9zaXRpdmVcbiAqIG5lZ2F0aXZlIHRlcm1zLlxuICogXG4gKiBTaW1wbGlmaWVzXG4gKiAgeCArIGEgLSBhID0geFxuICogeCArIGFiIC0gYWIgPSB4XG4gKiB4ICsgMmFiIC0gMmFiID0geFxuICogYSAtIGEgPSAwXG4gKiBcbiAqIERvZXNuJ3QgYWZmZWN0XG4gKiAgeCArIDJhIC0gYVxuICogQHBhcmFtIHRlcm1zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VtSW50dWl0aXZlKC4uLnRlcm1zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uIHtcbiAgICBjb25zdCBpbnRFdmFsID0gIHN1bUV2YWxJbnRlZ2VyVGVybXMoLi4udGVybXMpXG4gICAgaWYgKGludEV2YWwuY2xhc3MgIT0gU3VtVHlwZSkgcmV0dXJuIGludEV2YWxcbiAgICB0ZXJtcyA9IFsuLi4oaW50RXZhbCBhcyBTdW0pLnRlcm1zXVxuXG4gICAgLy8gRmluZCBvcHBvc2l0ZSBwYWlyc1xuICAgIC8vIFRoZXkgd2lsbCB0YWtlIHRoZSBmb3JtXG4gICAgLy8gICAgICBleHAgKyAtMSAqIGV4cFxuICAgIC8vIEkgYXNzdW1lIGhlcmUgdGhhdCB0aGUgb25seSB3YXkgdG8gbm90YXRlXG4gICAgLy8gbmVnYXRpdml0eSBpcyBieSBtdWx0aXBseWluZyBieSAtMVxuICAgIHRlcm1zOiBmb3IgKGNvbnN0IHQgb2YgdGVybXMpIHtcbiAgICAgICAgY29uc3Qgb3RoZXJUZXJtcyA9IFsuLi50ZXJtc11cbiAgICAgICAgcmVtb3ZlKG90aGVyVGVybXMsIHQpXG5cbiAgICAgICAgZm9yIChjb25zdCBvdGhlciBvZiBvdGhlclRlcm1zKSB7XG4gICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyLmlzTmVnYXRpb24gJiYgb3RoZXIubmVnYXRpb24gPT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHRlcm1zLCBvdGhlcilcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHRlcm1zLCB0KVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSB0ZXJtc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0ZXJtcy5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIEludGVnZXIub2YoMClcbiAgICBlbHNlIGlmICh0ZXJtcy5sZW5ndGggPT0gMSlcbiAgICAgICAgcmV0dXJuIHRlcm1zWzBdXG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gc3VtKC4uLnRlcm1zKVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBzdW0gb2YgdGhlIGdpdmVuIHRlcm1zIG9yIGlmIG9ubHkgMSBcbiAqIGlzIGdpdmVuIHJldHVybnMgdGhhdCB0ZXJtLlxuICogQHBhcmFtIHRlcm1zIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdW1Pck5vdCguLi50ZXJtczogRXhwcmVzc2lvbltdKTogRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRlcm1zLmxlbmd0aCA9PSAxKSByZXR1cm4gdGVybXNbMF1cbiAgICBlbHNlIHJldHVybiBzdW0oLi4udGVybXMpXG59XG5cbi8qKlxuICogUHJvZHVjZXMgYSBwcm9kdWN0IGZyb20gdGhlIGdpdmVuIGZhY3RvcnNcbiAqIHdoZXJlIHRoZSBmYWN0b3JzIGFyZSBvcmRlcmVkIGFjY29yZGluZyB0byBjb252ZW50aW9uLlxuICogQHBhcmFtIGZhY3RvcnMgQXQgbGVhc3QgMlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJlZFByb2R1Y3QoLi4uZmFjdG9yczogRXhwcmVzc2lvbltdKTogUHJvZHVjdCB7XG4gICAgZmFjdG9ycy5zb3J0KGZhY3Rvck9yZGVyKVxuICAgIHJldHVybiBwcm9kdWN0KC4uLmZhY3RvcnMpXG59XG5cbi8qKlxuICogQ29udmVuaWVuY2Ugd3JhcHBlciBmdW5jdGlvbiBmb3IgRXhwb25lbnQub2ZcbiAqIEBwYXJhbSBiYXNlIFxuICogQHBhcmFtIHBvd2VyIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb3coYmFzZTogRXhwcmVzc2lvbiwgcG93ZXI6IEV4cHJlc3Npb24pOiBFeHBvbmVudCB7XG4gICAgcmV0dXJuIEV4cG9uZW50Lm9mKGJhc2UsIHBvd2VyKVxufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGZpcnN0IGluc3RhbmNlIG9mIHRoZSBnaXZlblxuICogZWxlbWVudCBmcm9tIHRoZSBhcnJheS4gUmVhbGx5IHNob3VsZCBiZVxuICogcGFydCBvZiB0aGUgc3RkIGxpYnJhcnkuIElkZW50aWZpZXMgb2JqZWN0XG4gKiB3aXRoIHJlZmVyZW5jaWFsIGVxdWFsaXR5LlxuICogQHBhcmFtIGFycmF5IFxuICogQHBhcmFtIGVsZW1lbnQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmU8VD4oYXJyYXk6IFRbXSwgZWxlbWVudDogVCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJheVtpXSA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBHZXRzIGEgbmV3IGFycmF5IHdpdGhvdXQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIHRoZSBnaXZlblxuICogZWxlbWVudC4gUmVhbGx5IHNob3VsZCBiZVxuICogcGFydCBvZiB0aGUgc3RkIGxpYnJhcnkuIElkZW50aWZpZXMgb2JqZWN0XG4gKiB3aXRoIHJlZmVyZW5jaWFsIGVxdWFsaXR5LlxuICogQHBhcmFtIGFycmF5IFxuICogQHBhcmFtIGVsZW1lbnQgXG4gKi9cbiBleHBvcnQgZnVuY3Rpb24gcmVtb3ZlTmV3PFQ+KGFycmF5OiBUW10sIGVsZW1lbnQ6IFQpOiBUW10ge1xuICAgIGNvbnN0IGlucHV0ID0gWy4uLmFycmF5XVxuICAgIGZvciAobGV0IGk9MDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpbnB1dFtpXSA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgaW5wdXQuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiBhcnJheSBkb2Vzbid0IGNvbnRhaW4gZWxlbWVudCBcIiArIGVsZW1lbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0KC4uLmZhY3RvcnM6IEV4cHJlc3Npb25bXSk6IFByb2R1Y3Qge1xuICAgIGZhY3RvcnMuZm9yRWFjaChmID0+IGFzc2VydChmICE9IG51bGwgJiYgZiAhPSB1bmRlZmluZWQsIFwiTWFraW5nIHByb2R1Y3Qgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCBmYWN0b3JcIikpXG4gICAgcmV0dXJuIFByb2R1Y3Qub2YoZmFjdG9ycylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0aXZlKGV4cHJlc3Npb246IEV4cHJlc3Npb24pOiBFeHByZXNzaW9uIHtcbiAgICBhc3NlcnQoZXhwcmVzc2lvbiAhPSB1bmRlZmluZWQsIFwiVGFraW5nIG5lZ2F0aXZlIG9mIHVuZGVmaW5lZCBleHByZXNzaW9uXCIpXG4gICAgaWYgKGV4cHJlc3Npb24gaW5zdGFuY2VvZiBJbnRlZ2VyKSByZXR1cm4gSW50ZWdlci5vZigtZXhwcmVzc2lvbi52YWx1ZSlcbiAgICBlbHNlIHJldHVybiBQcm9kdWN0Lm9mKFtJbnRlZ2VyLm9mKC0xKSwgZXhwcmVzc2lvbl0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudW0odmFsOiBudW1iZXIpOiBJbnRlZ2VyIHtcbiAgICByZXR1cm4gSW50ZWdlci5vZih2YWwpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2KHN5bWJvbDogc3RyaW5nKTogVmFyaWFibGUge1xuICAgIHJldHVybiBWYXJpYWJsZS5vZihzeW1ib2wpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnQoaW50ZWdyYW5kOiBFeHByZXNzaW9uLCByZXNwZWN0VG86IEV4cHJlc3Npb24pOiBJbnRlZ3JhbCB7XG4gICAgcmV0dXJuIEludGVncmFsLm9mKGludGVncmFuZCwgcmVzcGVjdFRvKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVuY2VBcmd1bWVudChmaXJzdDogRXhwcmVzc2lvbiwgc2Vjb25kOiBFeHByZXNzaW9uLCBleHBsYW5hdGlvbjogc3RyaW5nKTogQXJndW1lbnQge1xuICAgIHJldHVybiBuZXcgQXJndW1lbnQoc2V0T2YoZmlyc3QpLCB7XG4gICAgICAgIG46IGZpcnN0LFxuICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgIG4xOiBzZWNvbmQsXG4gICAgfSwgZXhwbGFuYXRpb24sIFwiVEVTVF9BUkdVTUVOVFwiKVxufVxuXG4vKipcbiAqIFxuICogQHJldHVybnMgVGhlIHByb2R1Y3Qgb2YgdGhlIGdpdmVuIGZhY3RvcnMsIG9yIHRoZSBvbmx5IGZhY3RvciBnaXZlblxuICogaWYgb25seSBvbmUgZ2l2ZW4uIFRocm93cyBpZiBubyBleHByZXNzaW9ucyBhcmUgZ2l2ZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0T3JOb3QoLi4uZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSk6IEV4cHJlc3Npb24ge1xuICAgIGFzc2VydChleHByZXNzaW9ucy5sZW5ndGggPiAwKVxuICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT0gMSkgcmV0dXJuIGV4cHJlc3Npb25zWzBdXG4gICAgcmV0dXJuIHByb2R1Y3QoLi4uZXhwcmVzc2lvbnMpXG59XG5cbi8qKlxuICogVGFrZXMgdGhlIHByb2R1Y3Qgb2YgdGhlIGdpdmVuIGV4cHJlc3Npb25zLiBJZiBub25lIGFyZVxuICogZ2l2ZW4sIDEuIElmIG9uZSBpcyBnaXZlbiwgdGhhdCBvbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0T3JPbmUoLi4uZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSk6IEV4cHJlc3Npb24ge1xuICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bSgxKVxuICAgIH0gZWxzZSByZXR1cm4gcHJvZHVjdE9yTm90KC4uLmV4cHJlc3Npb25zKVxufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBwcm9kdWN0IG9mIHRoZSBnaXZlbiB0ZXJtcyBleGxjdWRpbmcgdGhlIGZpcnN0IGlmIFxuICogICAgICAgICAgaXQncyBvbmUuIElmIHRoZSByZXN1bHRpbmcgdGVybXMgbGlzdCBpcyBvbmx5IG9uZSB0ZXJtLFxuICogICAgICAgICAgcmV0dXJucyB0aGUgb25seSB0ZXJtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvZHVjdEFuZE5vdFRpbWVzT25lKC4uLmV4cHJlc3Npb25zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uIHtcbiAgICBpZiAoZXhwcmVzc2lvbnNbMF0gaW5zdGFuY2VvZiBJbnRlZ2VyICYmIGV4cHJlc3Npb25zWzBdLnZhbHVlID09IDEpIHtcbiAgICAgICAgZXhwcmVzc2lvbnMuc2hpZnQoKVxuICAgICAgICByZXR1cm4gcHJvZHVjdE9yTm90KC4uLmV4cHJlc3Npb25zKVxuICAgIH1cbiAgICByZXR1cm4gcHJvZHVjdE9yTm90KC4uLmV4cHJlc3Npb25zKVxufVxuXG5mdW5jdGlvbiBzZXRPZiguLi5leHByZXNzaW9uczogRXhwcmVzc2lvbltdKTogU2V0PEV4cHJlc3Npb24+IHtcbiAgICBjb25zdCBvdXQgPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcbiAgICBleHByZXNzaW9ucy5mb3JFYWNoKGUgPT4gb3V0LmFkZChlKSlcbiAgICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydCBjb25zdCBhID0gdignYScpXG5leHBvcnQgY29uc3QgYiA9IHYoJ2InKVxuZXhwb3J0IGNvbnN0IGMgPSB2KCdjJylcbmV4cG9ydCBjb25zdCBkID0gdignZCcpXG5leHBvcnQgY29uc3QgZSA9IHYoJ2UnKVxuZXhwb3J0IGNvbnN0IGYgPSB2KCdmJylcblxuZXhwb3J0IGNvbnN0IHggPSB2KCd4JylcbmV4cG9ydCBjb25zdCB5ID0gdigneScpIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi9NYXRoR3JhcGhOb2RlXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCI7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgZ3JhcGggb2YgZXhwcmVzc2lvbnMgYW5kIHN0YXRlbWVudHNcbiAqIGluY2x1ZGluZyBldmVyeXRoaW5nIHdlIGtub3cgYWJvdXQgYSBwcm9ibGVtLlxuICogQ29ubmVjdHMgR3JhcGhOb2RlcyB2aWEgSW5mZXJlbmNlcyBmb3IgZWRnZXMuXG4gKiBcbiAqIEl0J3MgYSBkaWdyYXBoLiBUT0RPOiBJdCBtYXkgYWxzbyBuZWVkIHRvIGJlIGEgbXVsdGlncmFwaC4uLlxuICovXG5leHBvcnQgY2xhc3MgR3JhcGgge1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm5vZGVzID0gbmV3IFNldDxNYXRoR3JhcGhOb2RlPigpXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMgPSBuZXcgTWFwPE1hdGhHcmFwaE5vZGUsIFNldDxNYXRoR3JhcGhOb2RlPj4oKVxuICAgICAgICB0aGlzLmVkZ2VzID0gbmV3IE1hcDxNYXRoR3JhcGhOb2RlLCBNYXA8TWF0aEdyYXBoTm9kZSwgR3JhcGhFZGdlPj4oKVxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIGV4cHJlc3Npb24gdG8gdGhlIHByb2JsZW0uXG4gICAgICogQHBhcmFtIG5vZGUgXG4gICAgICogQHJldHVybnMgdGhlIHNhbWUgZ3JhcGggZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyBhZGROb2RlKG5vZGU6IE1hdGhHcmFwaE5vZGUpOiBHcmFwaCB7XG4gICAgICAgIHRoaXMubm9kZXMuYWRkKG5vZGUpXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQXJndW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQXJndW1lbnQobm9kZSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gZWxlbWVudHMgZ2l2ZW4gYnkgdGhlIHVzZXIgdG8gdGhlIGdyYXBoLlxuICAgICAqIFNob3VsZCBub3QgYmUgY2FsbGVkIHRvIGFkZCBkZXJpdmVkIHRydXRocyBiYyB0aGlzIHdvbid0IHN0b3JlIGFuIGV4cGxhbmF0aW9uLlxuICAgICAqIEFkZHMgZ2l2ZW4gbm9kZXMgaWYgdGhleSBhcmVuJ3QgYWxyZWFkeSBvbiB0aGUgZ3JhcGguXG4gICAgICogQHBhcmFtIG4gXG4gICAgICogQHBhcmFtIG4xIFxuICAgICAqIEBwYXJhbSByIFxuICAgICAqIEByZXR1cm5zIHNlbGYgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgcHVibGljIGFkZFJlbGF0aW9uc2hpcChuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgcjogUmVsYXRpb25zaGlwKTogR3JhcGgge1xuICAgICAgICB0aGlzLmFkZE5vZGUobilcbiAgICAgICAgdGhpcy5hZGROb2RlKG4xKVxuXG4gICAgICAgIC8vIERlZmluZWQgYm90aCB3YXlzIGJlY2F1c2UgdGhlIHVzZXIgaXMgZ2l2aW5nIGl0XG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGQobiwgbjEsIG5ldyBHaXZlbkVkZ2UocikpXG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGQobjEsIG4sIG5ldyBHaXZlbkVkZ2UocikpXG5cbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5vZGUgcmVwcmVzZW50aW5nIGFuIGFjdW11bGF0aW9uIG9mIGZhY3RzXG4gICAgICogdGhhdCBsZWFkcyB0byBhIGNvbmNsdXNpb24uXG4gICAgICogVGhlIHJlbGF0aW9uc2hpcCBjbGFpbWVkIGJ5IHRoZSBhcmd1bWVudCBpcyBkaXJlY3RlZFxuICAgICAqIGZyb20gbiB0byBuMSB3aXRoIHRoZSBhcmd1bWVudCBhcyB0aGUgZWRnZS5cbiAgICAgKiBAcGFyYW0gYSBcbiAgICAgKiBAcmV0dXJucyB0aGUgc2FtZSBncmFwaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZEFyZ3VtZW50KGE6IEFyZ3VtZW50KTogR3JhcGgge1xuICAgICAgICB0aGlzLm5vZGVzLmFkZChhKVxuXG4gICAgICAgIC8vIEFkZCB0aGUgZ3JvdW5kc1xuICAgICAgICBmb3IgKGNvbnN0IGdyb3VuZCBvZiBhLmdyb3VuZHMpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZXMuYWRkKGdyb3VuZClcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxBZGQoZ3JvdW5kLCBhLCBBcmd1bWVudEVkZ2UuVG8pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgdGhlIGNsYWltXG4gICAgICAgIGNvbnN0IGNsYWltID0gYS5jbGFpbVxuICAgICAgICB0aGlzLmFkZE5vZGUoY2xhaW0ubilcbiAgICAgICAgdGhpcy5hZGROb2RlKGNsYWltLm4xKVxuICAgICAgICB0aGlzLmludGVybmFsQWRkKGEsIGNsYWltLm4sIEFyZ3VtZW50RWRnZS5Gcm9tKVxuICAgICAgICB0aGlzLmludGVybmFsQWRkKGEsIGNsYWltLm4xLCBBcmd1bWVudEVkZ2UuRnJvbSlcbiAgICAgICAgdGhpcy5pbnRlcm5hbEFkZChjbGFpbS5uLCBjbGFpbS5uMSwgYSlcblxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgc2FtZSBncmFwaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZEFyZ3VtZW50cyguLi5hOiBBcmd1bWVudFtdKTogR3JhcGgge1xuICAgICAgICBhLmZvckVhY2goYXJnID0+IHRoaXMuYWRkQXJndW1lbnQoYXJnKSlcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiBkaXJlY3RlZCBlZGdlIHRvIHRoZSBncmFwaC4gSWYgZWl0aGVyIG5vZGVcbiAgICAgKiBpcyBtaXNzaW5nIGZyb20gdGhlIGdyYXBoLCBhZGRzIGl0LlxuICAgICAqIEBwYXJhbSBuIFxuICAgICAqIEBwYXJhbSBuMSBcbiAgICAgKiBAcGFyYW0gZSBcbiAgICAgKiBAcmV0dXJucyBUaGlzLlxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRFZGdlKG46IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2UpOiBHcmFwaCB7XG4gICAgICAgIHRoaXMuYWRkTm9kZShuKVxuICAgICAgICB0aGlzLmFkZE5vZGUobjEpXG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGQobiwgbjEsIGUpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNldCBvZiBuZWlnaGJvcnMgb2YgYSBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlIFxuICAgICAqIEBwYXJhbSBkaXJlY3Rpb24gTm9kZXMgdGhhdCBhcmUgYWRqYWNlbnQgdG8gdGhpcyBub2RlLCBmcm9tIHRoaXMgbm9kZSwgb3IgZWl0aGVyLlxuICAgICAqIEByZXR1cm5zIFVuZGVmaW5lZCBpZiB0aGUgbm9kZSBpc24ndCBpbiB0aGlzIGdyYXBoLiBPdGhlcndpc2UsIGEgc2V0IG9mIGNvbm5lY3RlZCBub2Rlcy5cbiAgICAgKiAgICAgICAgICBJZiB0aGUgbm9kZSBpcyBpbiB0aGUgZ3JhcGggYnV0IGlzbid0IGNvbm5lY3RlZCB0byBhbnl0aGluZywgcmV0dXJucyBlbXB0eSBzZXQuXG4gICAgICovXG4gICAgcHVibGljIGdldE5laWdoYm9ycyhub2RlOiBNYXRoR3JhcGhOb2RlLCBkaXJlY3Rpb246IFwiaW5cIiB8IFwib3V0XCIgfCBcImJvdGhcIik6IE1hdGhHcmFwaE5vZGVbXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXMobm9kZSkpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT0gXCJvdXRcIikge1xuICAgICAgICAgICAgcmV0dXJuIFsuLi50aGlzLmNvbm5lY3Rpb25zLmdldChub2RlKSFdXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFkamFjZW50VG8gPSBuZXcgU2V0PE1hdGhHcmFwaE5vZGU+KClcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmdldChuKT8uaGFzKG5vZGUpKSBhZGphY2VudFRvLmFkZChuKVxuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT0gXCJpblwiKSByZXR1cm4gWy4uLmFkamFjZW50VG9dXG5cbiAgICAgICAgZm9yIChjb25zdCBuIG9mIHRoaXMuY29ubmVjdGlvbnMuZ2V0KG5vZGUpID8/IFtdKSBhZGphY2VudFRvLmFkZChuKVxuXG4gICAgICAgIHJldHVybiBbLi4uYWRqYWNlbnRUb11cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgZWRnZXMgdGhpcyBub2RlIGhhcy5cbiAgICAgKiBAcGFyYW0gbm9kZSBUaGUgbm9kZSBiZWluZyBjb25zZGVyZWQuXG4gICAgICogQHBhcmFtIGRpcmVjdGlvbiBDb3VudCBvbmx5IHRoZSBlZGdlcyBnb2luZyB0b3dhcmRzIHRoaXMgbm9kZSwgYXdheSBmcm9tIFxuICAgICAqICAgICAgICAgIGl0LCBvciBib3RoLlxuICAgICAqIEByZXR1cm5zID49IDAsIHVuZGVmaW5lZCBpZiB0aGUgZ2l2ZW4gbm9kZSBpc24ndCBpbiB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgcHVibGljIGdldERlZ3JlZShub2RlOiBNYXRoR3JhcGhOb2RlLCBkaXJlY3Rpb246IFwiaW5cIiB8IFwib3V0XCIgfCBcImJvdGhcIik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXMobm9kZSkpIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcIm91dFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9ucy5nZXQobm9kZSk/LnNpemUgPz8gMFxuICAgICAgICB9XG4gICAgICAgIGxldCBkZWdJbiA9IDBcbiAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbnMuZ2V0KG4pID09IHVuZGVmaW5lZCkgcmV0dXJuXG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5nZXQobikhLmhhcyhub2RlKSkgZGVnSW4rK1xuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImluXCIpXG4gICAgICAgICAgICByZXR1cm4gZGVnSW5cblxuICAgICAgICByZXR1cm4gZGVnSW4gKyAodGhpcy5jb25uZWN0aW9ucy5nZXQobm9kZSk/LnNpemUgPz8gMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbiBOb2RlIGluIHRoZSBncmFwaC5cbiAgICAgKiBAcGFyYW0gbjEgSW4gdGhlIGdyYXBoLlxuICAgICAqIEByZXR1cm5zIFVuZGVmaW5lZCBpZiBlaXRoZXIgbm9kZSBpc24ndCBpbiB0aGUgZ3JhcGggb3IgdGhleSdyZSBub3RcbiAgICAgKiBjb25uZWN0ZWQuXG4gICAgICovXG4gICAgcHVibGljIGdldEVkZ2UobjogTWF0aEdyYXBoTm9kZSwgbjE6IE1hdGhHcmFwaE5vZGUpOiBHcmFwaEVkZ2UgfCB1bmRlZmluZWQge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGdlcy5nZXQobik/LmdldChuMSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbnRhaW5zKG5vZGU6IE1hdGhHcmFwaE5vZGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuaGFzKG5vZGUpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgQSBuZXcgc2V0IGNvbnRhaW5pbmcgYWxsIHRoZSBub2RlcyBpbiB0aGUgZ3JhcGhcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Tm9kZXMoKTogU2V0PE1hdGhHcmFwaE5vZGU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4odGhpcy5ub2RlcylcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RWRnZXMoKTogU2V0PHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfT4ge1xuICAgICAgICBjb25zdCBvdXQgPSBuZXcgU2V0PHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfT4oKVxuICAgICAgICB0aGlzLmVkZ2VzLmZvckVhY2goKG1hcCwgZmlyc3QpID0+IHtcbiAgICAgICAgICAgIG1hcC5mb3JFYWNoKChlZGdlLCBzZWNvbmQpID0+IHtcbiAgICAgICAgICAgICAgICBvdXQuYWRkKHtuOiBmaXJzdCwgbjE6IHNlY29uZCwgZTogZWRnZX0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgcHVibGljIG51bU5vZGVzKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLnNpemVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBncmFwaCBub2RlcyBhbmQgZWRnZXMgdG8gdGhpcyBvbmUuXG4gICAgICogQHBhcmFtIGdyYXBoIFxuICAgICAqIEByZXR1cm5zIHRoZSBzYW1lIGdyYXBoIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkR3JhcGgoZ3JhcGg6IEdyYXBoKTogR3JhcGgge1xuICAgICAgICBncmFwaC5ub2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5hZGQobm9kZSlcbiAgICAgICAgfSlcbiAgICAgICAgZ3JhcGguZWRnZXMuZm9yRWFjaCgobWFwLCBub2RlMSkgPT4ge1xuICAgICAgICAgICAgbWFwLmZvckVhY2goKGVkZ2UsIG5vZGUyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UgaW5zdGFuY2VvZiBBcmd1bWVudCkgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQXJndW1lbnQoZWRnZSlcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlZGdlID09IFwic3VwcG9ydHNcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsQWRkKG5vZGUxLCBub2RlMiwgQXJndW1lbnRFZGdlLlRvKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWRnZSA9PSBcImNsYWltc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxBZGQobm9kZTEsIG5vZGUyLCBBcmd1bWVudEVkZ2UuRnJvbSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIEVkZ2UgVHlwZVwiKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBvdXQgPSBcIkdyYXBoKFYgPSB7XCI7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBvdXQgKz0gbm9kZS50b1N0cmluZygpICsgXCIsXCJcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpICsgXCJ9LCBFID0ge1wiXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZm9yRWFjaCgoc2V0LCBzcmMpID0+IHtcbiAgICAgICAgICAgIHNldC5mb3JFYWNoKGRlc3QgPT4ge1xuICAgICAgICAgICAgICAgIG91dCArPSBzcmMudG9TdHJpbmcoKSArIFwiIC0+IFwiICsgZGVzdC50b1N0cmluZygpICsgXCIsIFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBvdXQgKz0gXCJ9IEVkZ2UgQ291bnQ6IFwiICsgdGhpcy5jb25uZWN0aW9ucy5zaXplXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIHByaXZhdGUgaW50ZXJuYWxBZGQobjogTWF0aEdyYXBoTm9kZSwgbjE6IE1hdGhHcmFwaE5vZGUsIGU6IEdyYXBoRWRnZSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5nZXQobikgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5zZXQobiwgbmV3IFNldDxNYXRoR3JhcGhOb2RlPigpKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZ2V0KG4pIS5hZGQobjEpXG4gICAgICAgIGlmICh0aGlzLmVkZ2VzLmdldChuKSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZWRnZXMuc2V0KG4sIG5ldyBNYXA8RXhwcmVzc2lvbiwgR3JhcGhFZGdlPigpKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWRnZXMuZ2V0KG4pIS5zZXQobjEsIGUpO1xuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcE9rKCkge1xuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBhc3NlcnQodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPSB1bmRlZmluZWQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gQWxsIGNvbm5lY3Rpb25zL2VkZ2VzIGhhdmUgbm9kZXNcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBhc3NlcnQodGhpcy5ub2Rlcy5oYXMoa2V5KSlcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMubm9kZXMuaGFzKG4pKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmVkZ2VzLmZvckVhY2goKG1hcCwgZmlyc3QpID0+IHtcbiAgICAgICAgICAgIG1hcC5mb3JFYWNoKChlZGdlLCBzZWNvbmQpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5ub2Rlcy5oYXMoZmlyc3QpKVxuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLm5vZGVzLmhhcyhzZWNvbmQpKVxuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLmNvbm5lY3Rpb25zLmdldChmaXJzdCkhLmhhcyhzZWNvbmQpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSByZWFkb25seSBub2RlczogU2V0PE1hdGhHcmFwaE5vZGU+XG4gICAgLy8gUXVpY2tseSBhY2Nlc3MgYWxsIGNvbm5lY3Rpb25zIG9mIGEgbm9kZVxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29ubmVjdGlvbnM6IE1hcDxNYXRoR3JhcGhOb2RlLCBTZXQ8TWF0aEdyYXBoTm9kZT4+XG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGNvbm5lY3Rpb24gYmV0d2VlbiB0d28gbm9kZXNcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkZ2VzOiBNYXA8TWF0aEdyYXBoTm9kZSwgTWFwPE1hdGhHcmFwaE5vZGUsIEdyYXBoRWRnZT4+XG59XG5cbmV4cG9ydCBlbnVtIEFyZ3VtZW50RWRnZSB7XG4gICAgVG8gPSBcInN1cHBvcnRzXCIsXG4gICAgRnJvbSA9IFwiY2xhaW1zXCJcbn1cblxuLyoqXG4gKiBFZGdlcyBpbiB0aGUgZ3JhcGggY2FuIGJlIGluZmVyZW5jZXMgd2hpY2ggaG9sZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiBhYm91dCB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gbm9kZXMsIG9yIFwidG9BY3VtdWxhdGlvblwiIHdoaWNoIG1lYW5zXG4gKiB0aGUgZmlyc3Qgbm9kZSBpcyBhIGxvZ2ljYWwgZGVwZW5kYW5jeSBvZiBhbiBhY3VtdWxhdGlvbi5cbiAqIFdoZW4gYW4gYXJndW1lbnQgcmVzdWx0cyBpbiB0d28gZXhwcmVzc2lvbnMgdGhhdCBhcmUgZXF1YWwsIHRoZSBleHByZXNzaW9uc1xuICogYXJlIGNvbm5lY3RlZCBieSB0aGF0IEFyZ3VtZW50LlxuICovXG5leHBvcnQgdHlwZSBHcmFwaEVkZ2UgPSBBcmd1bWVudCB8IEFyZ3VtZW50RWRnZSB8IEdpdmVuRWRnZVxuXG4vKipcbiAqIENvbW11bmljYXRlcyBhIHJlbGF0aW9uaGlwIGdpdmVuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgY2xhc3MgR2l2ZW5FZGdlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocjogUmVsYXRpb25zaGlwKSB7XG4gICAgICAgIHRoaXMuciA9IHJcbiAgICB9XG4gICAgcHVibGljIHJlYWRvbmx5IHI6IFJlbGF0aW9uc2hpcFxufVxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgR3JhcGhFZGdlLCBHcmFwaCB9IGZyb20gXCIuL0dyYXBoXCI7XG5pbXBvcnQgeyBNYXRoR3JhcGhOb2RlIH0gZnJvbSBcIi4vTWF0aEdyYXBoTm9kZVwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi91dGlsL2Fzc2VydFwiO1xuXG4vKipcbiAqIFRvb2wgdG8gZG8gb3BlcmF0aW9ucyBvbiBncmFwaHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBHcmFwaE1pbmlwdWxhdG9yIHtcbiAgICAvKipcbiAgICAgKiBGaW5kIG5vZGVzIG9mIGNvbXBvbmVudHMgb2YgYSBncmFwaCB3aGVyZSBvbmx5IGVkZ2VzIGZvciB3aGljaFxuICAgICAqIHRoZSBjYWxsYmFjayBmdW5jdGlvbiByZXR1cm5zIHRydWUgYXJlIGNvbnNpZGVyZWQuXG4gICAgICogQHBhcmFtIFxuICAgICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldENvbXBvbmVudE5vZGVzKGlucHV0OiBHcmFwaCwgaXNDb25uZWN0ZWQ6IChlOiBHcmFwaEVkZ2UpID0+IGJvb2xlYW4pOiBTZXQ8U2V0PE1hdGhHcmFwaE5vZGU+PiB7XG4gICAgICAgIGNvbnN0IGluY2x1ZGVkTm9kZXMgPSBuZXcgU2V0PE1hdGhHcmFwaE5vZGU+KClcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IG5ldyBTZXQ8U2V0PE1hdGhHcmFwaE5vZGU+PigpXG5cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGlucHV0LmdldE5vZGVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlZE5vZGVzLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4oKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRBbGxDb25uZWN0ZWQobjogTWF0aEdyYXBoTm9kZSk6IHZvaWQge1xuICAgICAgICAgICAgICAgIGluY2x1ZGVkTm9kZXMuYWRkKG4pXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5oYXMobikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmFkZChuKVxuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuZWlnaGJvciBvZiBpbnB1dC5nZXROZWlnaGJvcnMobiwgXCJib3RoXCIpISkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ29ubmVjdGVkKGlucHV0LmdldEVkZ2UobiwgbmVpZ2hib3IpISkpIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIGdldEFsbENvbm5lY3RlZChuZWlnaGJvcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdldEFsbENvbm5lY3RlZChub2RlKVxuICAgICAgICAgICAgY29tcG9uZW50LmFkZChub2RlKVxuICAgICAgICAgICAgY29tcG9uZW50cy5hZGQoY29tcG9uZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgYXNzZXJ0KGluY2x1ZGVkTm9kZXMuc2l6ZSA9PSBpbnB1dC5udW1Ob2RlcygpKVxuICAgICAgICAvLyBBc3NlcnQgY29tcG9uZW50cyBhcmUgcGFpcndpc2UgZGlzam9pbnQgb2YgcHJvYmxlbXMgc2hvdyB1cFxuXG4gICAgICAgIHJldHVybiBjb21wb25lbnRzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBncmFwaCB3aXRoIG9ubHkgdGhlIG5vZGVzIHdoaWNoIHBhc3MgdGhlIHByb3ZpZGVkXG4gICAgICogZmlsdGVyIGZ1bmN0aW9uLiBFZGdlcyBjb25uZWN0ZWQgdG8gcmVtb3ZlZCBub2RlcyBhcmUgcmVtb3ZlZC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZ3JhcGggXG4gICAgICogQHBhcmFtIGluY2x1ZGVkIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZHJvcE5vZGVzKGdyYXBoOiBHcmFwaCwgaW5jbHVkZWQ6IChub2RlOiBNYXRoR3JhcGhOb2RlKSA9PiBib29sZWFuKTogR3JhcGgge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgR3JhcGgoKTtcbiAgICAgICAgZ3JhcGguZ2V0Tm9kZXMoKS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVkKG4pKSByZXN1bHQuYWRkTm9kZShuKVxuICAgICAgICB9KVxuICAgICAgICBncmFwaC5nZXRFZGdlcygpLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZWQoZS5uKSAmJiBpbmNsdWRlZChlLm4xKSkgcmVzdWx0LmFkZEVkZ2UoZS5uLCBlLm4xLCBlLmUpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGV2ZXJ5IGVkZ2UgaW4gdGhlIGdyYXBoLlxuICAgICAqIEBwYXJhbSBpbnB1dCBcbiAgICAgKiBAcmV0dXJucyBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldFJlbGF0aW9ucyhpbnB1dDogR3JhcGgpOiB7Zmlyc3Q6IE1hdGhHcmFwaE5vZGUsIHNlY29uZDogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfVtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiB7Zmlyc3Q6IE1hdGhHcmFwaE5vZGUsIHNlY29uZDogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfVtdID0gW11cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGlucHV0LmdldE5vZGVzKCkpIHsgICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3RoZXIgb2YgaW5wdXQuZ2V0TmVpZ2hib3JzKG5vZGUsIFwib3V0XCIpISkge1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKHtmaXJzdDogbm9kZSwgc2Vjb25kOiBvdGhlciwgZTogaW5wdXQuZ2V0RWRnZShub2RlLCBvdGhlcikhfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSBncmFwaCBpbnRvIHNldHMgb2ZcbiAgICAgKiBub2RlcyBncm91cGVkIGJ5IGRlcHRoIGZyb20gYSBjZW50ZXIgbm9kZS5cbiAgICAgKiBBc3N1bWVzIHRoZSBncmFwaCBpcyBjb25uZWN0ZWQuXG4gICAgICogQHBhcmFtIHJvb3ROb2RlcyBDb250YWlucyBhdCBsZWFzdCBvbmUgbm9kZSBpbiB0aGUgZ3JhcGguXG4gICAgICogQHBhcmFtIGNvdW50IEZ1bmN0aW9uIHRoYXQgZGV0ZXJtaW5lcyBpZiBhbnkgZ2l2ZW4gbm9kZSBzaG91bGQgYmVcbiAgICAgKiBpbmNsdWRlZCBpbiB0aGUgZGVwdGggY291bnQuIERlZmF1bHRzIHRvIGNvdW50aW5nIGFsbCBub2Rlcy4gTm9kZXMgdGhhdCBcbiAgICAgKiBhcmVuJ3QgaW5jbHVkZWQgd29uJ3QgYmUgaW4gdGhlIHJldHVybmVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIE1hcCBmcm9tIGRlcHRoIGluIGdyYXBoIHRvIGEgc2V0IG9mIG5vZGVzIGF0IHRoYXQgZGVwdGguXG4gICAgICogXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRMZXZlbHMoaW5wdXQ6IEdyYXBoLCByb290Tm9kZXM6IEl0ZXJhYmxlPE1hdGhHcmFwaE5vZGU+LCBjb3VudDogKG46IE1hdGhHcmFwaE5vZGUpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlKTogTWFwPG51bWJlciwgU2V0PE1hdGhHcmFwaE5vZGU+PiB7XG4gICAgICAgIGNvbnN0IHJvb3RzID0gbmV3IFNldChyb290Tm9kZXMpXG4gICAgICAgIGNvbnN0IGRlcHRocyA9IG5ldyBNYXA8TWF0aEdyYXBoTm9kZSwgbnVtYmVyPigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWN1cnNpdmVseSBtYXBzIG91dCBhbGwgbm9kZXMgaW4gdGhlIGdyYXBoLFxuICAgICAgICAgKiBwdXR0aW4gdGhlbSBpbiB0aGUgZGVwdGhzIG1hcC5cbiAgICAgICAgICogQHBhcmFtIG5vZGUgXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBtYXBOb2RlKG5vZGU6IE1hdGhHcmFwaE5vZGUsIGRlcHRoOiBudW1iZXIgPSAwKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAocm9vdHMuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgZGVwdGggPSAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVwdGggPCAoZGVwdGhzLmdldChub2RlKSA/PyBOdW1iZXIuTUFYX1ZBTFVFKSkge1xuICAgICAgICAgICAgICAgIGRlcHRocy5zZXQobm9kZSwgZGVwdGgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZWlnaGJvcnMgPSBbLi4uaW5wdXQuZ2V0TmVpZ2hib3JzKG5vZGUsIFwiYm90aFwiKSFdO1xuICAgICAgICAgICAgbmVpZ2hib3JzLmZpbHRlcih2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBmb3VuZCBhIHNob3J0ZXIgcGF0aCB0byBpdCBvciB0aGVyZSB3YXMgbm8gZm91bmQgcGF0aCB0byBpdFxuICAgICAgICAgICAgICAgIHJldHVybiAoZGVwdGhzLmdldCh2YWx1ZSkgPT0gdW5kZWZpbmVkIHx8IGRlcHRocy5nZXQodmFsdWUpISA+IGRlcHRoKSAmJiB2YWx1ZSAhPT0gbm9kZVxuICAgICAgICAgICAgfSkuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICAgICAgICBtYXBOb2RlKG4sIGNvdW50KG5vZGUpID8gZGVwdGggKyAxIDogZGVwdGgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgbWFwTm9kZShbLi4ucm9vdHNdWzBdKTtcblxuICAgICAgICBjb25zdCBvdXQgPSBuZXcgTWFwPG51bWJlciwgU2V0PE1hdGhHcmFwaE5vZGU+PigpXG4gICAgICAgIGRlcHRocy5mb3JFYWNoKChkZXB0aCwgbm9kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb3VudChub2RlKSkgcmV0dXJuXG4gICAgICAgICAgICBpZiAob3V0LmdldChkZXB0aCkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3V0LnNldChkZXB0aCwgbmV3IFNldCgpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0LmdldChkZXB0aCkhLmFkZChub2RlKVxuICAgICAgICB9KVxuXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIGdyYXBoIGlzIGNvbm5lY3RlZCwgbWVhbmluZyB0aGF0XG4gICAgICogaXQncyBwb3NzaWJsZSB0byB0cmF2ZXJzZSBiZXR3ZWVuIGFueSB0d28gbm9kZXMgb24gdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgaXNDb25uZWN0ZWQoaW5wdXQ6IEdyYXBoKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIENoZWNrIGV2ZXJ5IG5vZGUgaGFzIGEgZGVncmVlIG9mIDEgb3IgbW9yZSBvciBncmFwaCBvbmx5IGhhcyAxIG9yIDAgZWxlbWVudHNcbiAgICAgICAgcmV0dXJuIFsuLi5pbnB1dC5nZXROb2RlcygpXS5tYXA8Ym9vbGVhbj4obm9kZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQuZ2V0RGVncmVlKG5vZGUsIFwiYm90aFwiKSEgPiAwXG4gICAgICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gYSAmJiBiKSB8fCBpbnB1dC5udW1Ob2RlcygpIDwgMlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgZWRnZXMgbGlzdCByZXR1cm5pbmcgYSBsaXN0IHdoZXJlIG9ubHkgb25lIGVkZ2VcbiAgICAgKiBmcm9tIGFueSBlZGdlIGxvb3BzIGlzIGluY2x1ZGVkLlxuICAgICAqIEZvciBleGFtcGxlIGlmIHRoZSBpbnB1dCBlZGdlcyBhcmUgYSAtPiBiIGFuZCBiIC0+IGEsXG4gICAgICogdGhlIHJlc3VsdCB3aWxsIG9ubHkgY29udGFpbiBhIC0+IGIuXG4gICAgICogQHBhcmFtIGVkZ2VzIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZHJvcFN5bW1ldHJpYyhlZGdlczogSXRlcmFibGU8e246IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9Pik6IHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfVtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiB7bjogTWF0aEdyYXBoTm9kZSwgbjE6IE1hdGhHcmFwaE5vZGUsIGU6IEdyYXBoRWRnZX1bXSA9IFtdXG5cbiAgICAgICAgZnVuY3Rpb24gYWxyZWFkeUhhcyhlZGdlOiB7bjogTWF0aEdyYXBoTm9kZSwgbjE6IE1hdGhHcmFwaE5vZGUsIGU6IEdyYXBoRWRnZX0pOiBib29sZWFuIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBvdXQpIFxuICAgICAgICAgICAgICAgIGlmIChlZGdlLm4gPT0gZS5uMSAmJiBlZGdlLm4xID09IGUubikgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgZWRnZSBvZiBlZGdlcykge1xuICAgICAgICAgICAgaWYgKCFhbHJlYWR5SGFzKGVkZ2UpKSBvdXQucHVzaChlZGdlKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZ3JhcGggd2l0aCBvbmx5IHRoZSBlZGdlcyB3aGljaCBwYXNzZWQgdGhlXG4gICAgICogZmlsdGVyIGZ1bmN0aW9uLiBUaGUgcmVzdWx0aW5nIGdyYXBoIG1heSBvciBtYXkgbm90IGJlIGNvbm5lY3RlZC5cbiAgICAgKiBBbGwgdGhlIG5vZGVzIG9mIHRoZSBvcmlnaW5hbCBncmFwaCBhcmUga2VwdC5cbiAgICAgKiBAcGFyYW0gZWRnZUZpbHRlciBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGVkZ2Ugc2hvdWxkIGJlIGluY2x1ZGVkIGluIFxuICAgICAqICAgICAgdGhlIHJlc3VsdGluZyBncmFwaC5cbiAgICAgKiBOT1RFOiBOT1QgVEVTVEVEXG4gICAgICovXG4gICAgIHB1YmxpYyBzdGF0aWMgZHJvcEVkZ2VzKGdyYXBoOiBHcmFwaCwgZWRnZUZpbHRlcjogKGU6IHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfSkgPT4gQm9vbGVhbik6IEdyYXBoIHtcbiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IEdyYXBoKClcblxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgZ3JhcGguZ2V0Tm9kZXMoKSkge1xuICAgICAgICAgICAgb3V0LmFkZE5vZGUobm9kZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgZWRnZSBvZiBncmFwaC5nZXRFZGdlcygpKSB7XG4gICAgICAgICAgICBpZiAoZWRnZUZpbHRlcihlZGdlKSkge1xuICAgICAgICAgICAgICAgIGlmIChlZGdlIGluc3RhbmNlb2YgQXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LmFkZEFyZ3VtZW50KGVkZ2UpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbn0iLCJcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1hdGhHcmFwaE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlkID0gTWF0aEdyYXBoTm9kZS5uZXh0SWRcbiAgICAgICAgTWF0aEdyYXBoTm9kZS5uZXh0SWQrK1xuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBuZXh0SWQgPSAxXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaWQ6IG51bWJlcjtcbn0iLCJcbi8qKlxuICogQSB3YXkgaW4gd2hpY2ggMiBleHByZXNzaW9ucyBjYW4gYmUgcmVsYXRlZC5cbiAqL1xuZXhwb3J0IGVudW0gUmVsYXRpb25zaGlwIHtcbiAgICBFcXVhbCA9IFwiPVwiLFxufSIsImltcG9ydCB7IEJyZWFrRGVyaXZhdGl2ZXNPdmVyQWRkaXRpb24gfSBmcm9tIFwiLi9jYWxjdWx1cy9CcmVha0Rlcml2YXRpdmVzT3ZlckFkZGl0aW9uXCJcbmltcG9ydCB7IENvbnN0YW50RGVyaXZhdGllcyB9IGZyb20gXCIuL2NhbGN1bHVzL0NvbnN0YW50RGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBQb3dlclJ1bGUgfSBmcm9tIFwiLi9jYWxjdWx1cy9Qb3dlclJ1bGVcIlxuaW1wb3J0IHsgUHJvZHVjdFJ1bGUgfSBmcm9tIFwiLi9jYWxjdWx1cy9Qcm9kdWN0UnVsZVwiXG5pbXBvcnQgeyBQdWxsQ29uc3RhbnRzRnJvbURlcml2YXRpdmVzIH0gZnJvbSBcIi4vY2FsY3VsdXMvUHVsbENvbnN0YW50c0Zyb21EZXJpdmF0aXZlc1wiXG5pbXBvcnQgeyBQdWxsQ29uc3RhbnRzRnJvbUludGVncmFscyB9IGZyb20gXCIuL2NhbGN1bHVzL1B1bGxDb25zdGFudHNGcm9tSW50ZWdyYWxzXCJcbmltcG9ydCB7IFF1b3RpZW50UnVsZSB9IGZyb20gXCIuL2NhbGN1bHVzL1F1b3RpZW50UnVsZVwiXG5pbXBvcnQgeyBSZXZlcnNlUG93ZXJSdWxlIH0gZnJvbSBcIi4vY2FsY3VsdXMvUmV2ZXJzZVBvd2VyUnVsZVwiXG5pbXBvcnQgeyBVU3Vic3RpdHV0aW9uIH0gZnJvbSBcIi4vY2FsY3VsdXMvVVN1YnN0aXR1dGlvblwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5pbXBvcnQgeyBBZGRpdGl2ZUlkZW50aXR5IH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0FkZGl0aXZlSWRlbnRpdHlcIlxuaW1wb3J0IHsgQW55dGhpbmdUaW1lc1plcm8gfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQW55dGhpbmdUaW1lc1plcm9cIlxuaW1wb3J0IHsgQXNzb2NpYXRpdmVQcm9wZXJ0eU9mUHJvZHVjdHNBbmRTdW1zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0Fzc29jaWF0aXZlUHJvcGVydHlPZlByb2R1Y3RzQW5kU3Vtc1wiXG5pbXBvcnQgeyBDYW5jZWxOZWdhdGl2ZXMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQ2FuY2VsTmVnYXRpdmVzXCJcbmltcG9ydCB7IENvbWJpbmVDb21tb25GYWN0b3JzTXVsdGlwbGljYXRpb24gfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQ29tYmluZUNvbW1vbkZhY3RvcnNNdWx0aXBsaWNhdGlvblwiXG5pbXBvcnQgeyBDb21iaW5lQ29tbW9uVGVybXNBZGRpdGlvbiB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lQ29tbW9uVGVybXNBZGRpdGlvblwiXG5pbXBvcnQgeyBDb21iaW5lSW50ZWdlckZhY3RvcnMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQ29tYmluZUludGVnZXJGYWN0b3JzXCJcbmltcG9ydCB7IENvbWJpbmVQcm9kdWN0c0FuZEZyYWN0aW9ucyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lUHJvZHVjdHNBbmRGcmFjdGlvbnNcIlxuaW1wb3J0IHsgRGlzdHJpYnV0aXZlUHJvcGVydHkgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvRGlzdHJpYnV0aXZlUHJvcGVydHlcIlxuaW1wb3J0IHsgRGl2aWRlRnJhY3Rpb25zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0RpdmlkZUZyYWN0aW9uc1wiXG5pbXBvcnQgeyBEaXZpc2lvbklkZW50aXR5IH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0RpdmlzaW9uSWRlbnRpdHlcIlxuaW1wb3J0IHsgRXZhbHVhdGVTdW1zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0V2YWx1YXRlU3Vtc1wiXG5pbXBvcnQgeyBFeHBvbmVudGlhbElkZW50aXR5IH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0V4cG9uZW50aWFsSWRlbnRpdHlcIlxuaW1wb3J0IHsgRXhwb25lbnRUb1plcm8gfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvRXhwb25lbnRUb1plcm9cIlxuaW1wb3J0IHsgRk9JTCB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9GT0lMXCJcbmltcG9ydCB7IExvZ09mT25lIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0xvZ09mT25lXCJcbmltcG9ydCB7IE11bHRpcGxpY2F0aXZlSWRlbnRpdHkgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvTXVsdGlwbGljYXRpdmVJZGVudGl0eVwiXG5pbXBvcnQgeyBNdWx0aXBseUV4cG9uZW50UG93ZXJzIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL011bHRpcGx5RXhwb25lbnRQb3dlcnNcIlxuaW1wb3J0IHsgTXVsdGlwbHlGcmFjdGlvbnMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvTXVsdGlwbHlGcmFjdGlvbnNcIlxuaW1wb3J0IHsgT3JkZXJQcm9kdWN0cyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9PcmRlclByb2R1Y3RzXCJcbmltcG9ydCB7IE9yZGVyU3VtcyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9PcmRlclN1bXNcIlxuaW1wb3J0IHsgUmVtb3ZlQ29tbW9uRmFjdG9yc0Zyb21Ub3BBbmRCb3R0b21PZkZyYWN0aW9uIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL1JlbW92ZUNvbW1vbkZhY3RvcnNPblRvcEFuZEJvdHRvbU9mRnJhY3Rpb25cIlxuaW1wb3J0IHsgU3VidHJhY3RFeHBvbmVudHNPbkZyYWN0aW9ucyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9TdWJ0cmFjdEV4cG9uZW50c09uRnJhY3Rpb25zXCJcbmltcG9ydCB7IFN1bUNvZWZmaWNpZW50c09mQWRkZWRUZXJtcyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9TdW1Db2VmZmljaWVudHNPZkFkZGVkVGVybXNcIlxuXG4vKipcbiAqIDEgaW5wdXQsIDEgb3V0cHV0XG4gKiBSZXdyaXRlIGV4cHJlc3Npb25zIHRvIGZvbGxvdyBtYXRoIGNvbnZlbnRpb25zXG4gKi9cbiBjb25zdCBjb252ZW50aW9uUnVsZXMgPSBbXG4gICAgbmV3IE9yZGVyUHJvZHVjdHMoKSxcbiAgICBuZXcgT3JkZXJTdW1zKCksXG5dXG5cbi8qKlxuICogMSBpbnB1dCwgMSBvdXRwdXRcbiAqL1xuY29uc3QgZXZhbHVhdGl2ZVJ1bGVzID0gW1xuICAgIG5ldyBFdmFsdWF0ZVN1bXMoKSxcbiAgICBuZXcgQ2FuY2VsTmVnYXRpdmVzKCksXG4gICAgbmV3IENvbWJpbmVJbnRlZ2VyRmFjdG9ycygpLFxuXVxuXG5jb25zdCBjb21iaW5hdG9yaWNSdWxlcyA9IFtcbiAgICBuZXcgU3VtQ29lZmZpY2llbnRzT2ZBZGRlZFRlcm1zKCksXG4gICAgbmV3IENvbWJpbmVDb21tb25GYWN0b3JzTXVsdGlwbGljYXRpb24oKSxcbiAgICBuZXcgTXVsdGlwbHlFeHBvbmVudFBvd2VycygpLFxuICAgIG5ldyBTdWJ0cmFjdEV4cG9uZW50c09uRnJhY3Rpb25zKCksXG4gICAgbmV3IENvbWJpbmVQcm9kdWN0c0FuZEZyYWN0aW9ucygpLFxuICAgIG5ldyBNdWx0aXBseUZyYWN0aW9ucygpLFxuXVxuXG5jb25zdCByZW1haW5pbmdOb0NvbnRleHRTaW1wbGlmaWNhdGlvblJ1bGVzOiBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlW10gPSBbXG4gICAgbmV3IFVTdWJzdGl0dXRpb24oKSxcbiAgICBuZXcgUG93ZXJSdWxlKCksXG4gICAgbmV3IFB1bGxDb25zdGFudHNGcm9tRGVyaXZhdGl2ZXMoKSxcbiAgICBuZXcgUHVsbENvbnN0YW50c0Zyb21JbnRlZ3JhbHMoKSxcbiAgICBuZXcgQXNzb2NpYXRpdmVQcm9wZXJ0eU9mUHJvZHVjdHNBbmRTdW1zKCksXG4gICAgbmV3IFByb2R1Y3RSdWxlKCksXG4gICAgbmV3IFF1b3RpZW50UnVsZSgpLFxuICAgIG5ldyBEaXZpZGVGcmFjdGlvbnMoKSxcbiAgICBuZXcgUmVtb3ZlQ29tbW9uRmFjdG9yc0Zyb21Ub3BBbmRCb3R0b21PZkZyYWN0aW9uKCksXG4gICAgbmV3IEJyZWFrRGVyaXZhdGl2ZXNPdmVyQWRkaXRpb24oKSxcbiAgICBuZXcgQ29uc3RhbnREZXJpdmF0aWVzKCksXG4gICAgbmV3IFJldmVyc2VQb3dlclJ1bGUoKSxcbl1cblxuLyoqXG4gKiBBIGxpc3Qgb2Ygc2ltcGxpZmljYXRpb24gcnVsZXMuXG4gKiBJZiBhbmQgb25seSBpZiBhbiBlYXJsaWVyIHJ1bGUgZmFpbHMgdG8gXG4gKiBwcm9kdWNlIGVxdWl2YWxlbnQgZXhwcmVzc2lvbnMgc2hvdWxkIGxhdGVyIGxpc3RzXG4gKiBiZSB1c2VkLlxuICogVGhpcyBsaXN0IG9ubHkgY29udGFpbnMgcnVsZXMgd2hpY2ggY29udmVyZ2UgdG8gb25lIGFuc3dlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnZlcmdlbnRTaW1wbGlmaWNhdGlvblJ1bGVzOiBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlW10gPSBbXG4gICAgLy8gSWRlbnRpdHkgcnVsZXMgZmlyc3RcbiAgICBuZXcgQW55dGhpbmdUaW1lc1plcm8oKSxcbiAgICBuZXcgRXhwb25lbnRUb1plcm8oKSxcbiAgICBuZXcgTXVsdGlwbGljYXRpdmVJZGVudGl0eSgpLFxuICAgIG5ldyBFeHBvbmVudGlhbElkZW50aXR5KCksXG4gICAgbmV3IERpdmlzaW9uSWRlbnRpdHkoKSxcbiAgICBuZXcgQWRkaXRpdmVJZGVudGl0eSgpLFxuICAgIG5ldyBMb2dPZk9uZSgpLFxuICAgIC4uLmV2YWx1YXRpdmVSdWxlcyxcbiAgICAuLi5jb21iaW5hdG9yaWNSdWxlcyxcbiAgICAuLi5jb252ZW50aW9uUnVsZXMsXG4gICAgLi4ucmVtYWluaW5nTm9Db250ZXh0U2ltcGxpZmljYXRpb25SdWxlcyxcbl1cblxuLyoqXG4gKiBUaGVzZSBydWxlcyBjb252ZXJnZSB0byBmYWN0b3JlZCBmb3JtLlxuICovXG5leHBvcnQgY29uc3QgZmFjdG9yaW5nU2ltcGxpZmljYXRpb25SdWxlcyA6IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVbXSA9IFtcbiAgICBuZXcgQ29tYmluZUNvbW1vblRlcm1zQWRkaXRpb24oKSxcbl1cblxuLyoqXG4gKiBUaGVzZSBydWxlcyBjb252ZXJnZSB0byBwb2x5bm9taWFsIGZvcm0uXG4gKi9cbmV4cG9ydCBjb25zdCBwb2x5bm9taWFsU2ltcGxpZmljYXRpb25SdWxlcyA6IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVbXSA9IFtcbiAgICBuZXcgRGlzdHJpYnV0aXZlUHJvcGVydHkoKSwgXG4gICAgbmV3IEZPSUwoKSxcbl0iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4uL0dyYXBoXCI7XG5pbXBvcnQgeyBjb252ZXJnZW50U2ltcGxpZmljYXRpb25SdWxlcywgZmFjdG9yaW5nU2ltcGxpZmljYXRpb25SdWxlcywgcG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uUnVsZXMgfSBmcm9tIFwiLi9EZXJpdmF0aW9uUnVsZXNcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5pbXBvcnQgeyBlcXVpdiB9IGZyb20gXCIuL3JlY3Vyc2lvblwiO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZ3JhcGggY29udGlhbmluZyB0aGUgZ2l2ZW4gbm9kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBJbkdyYXBoKGV4cDogRXhwcmVzc2lvbik6IEdyYXBoIHtcbiAgICByZXR1cm4gbmV3IEdyYXBoKCkuYWRkTm9kZShleHApXG59XG5cbi8qKlxuICogRXhwYW5kcyB0aGUgZ2l2ZW4gZ3JhcGggdXNpbmcgZGVyaXZhdGlvbiBydWxlcyB0byBmaW5kIFxuICogZXF1aXZhbGVudCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZUV4cGFuZChcbiAgICBncmFwaDogR3JhcGgsXG4gICAgbWF4RGVwdGg6IG51bWJlciwgXG4gICAgc2tpcENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbnM6IGJvb2xlYW4gPSBmYWxzZVxuICAgICk6IERlcml2YXRpb25SZXN1bHQge1xuXG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IERlcml2YXRpb25SZXN1bHQoZ3JhcGgpXG4gICAgXG4gICAgcmVzdWx0LmV4cGFuZChtYXhEZXB0aCwgc2tpcENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbnMpXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBIb2xkcyBhIHNpbmdsZSBncmFwaCBhbmQgZXhwYW5kcyBpdCB1c2luZyBydWxlcy5cbiAqL1xuY2xhc3MgRGVyaXZhdGlvblJlc3VsdCB7XG4gICAgLyoqXG4gICAgICogR2l2ZSBpdCB0aGUgZ3JhcGggeW91J3JlIGdvaW5nIHRvIGV4cGFuZC5cbiAgICAgKiBAcGFyYW0gZ3JhcGggXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGdyYXBoOiBHcmFwaCkge1xuICAgICAgICB0aGlzLmdyYXBoID0gZ3JhcGhcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBhbmRzIHRoZSBncmFwaCBhcmJpdHJhcmlseS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHN0aWxsIHBvb3JseSBkZWZpbmVkLFxuICAgICAqIHZlcnkgZXhwZXJlbWVudGFsLlxuICAgICAqIEBwYXJhbSBtYXhEZXB0aCBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGVcbiAgICAgKiAgICAgIGRlcml2ZXIgd2lsbCBkbyBiZWZvcmUgcmV0dXJuaW5nLiBOb24tbmVnYXRpdmUuXG4gICAgICogICAgICBJZiBudWxsLCB0aGVyZSBpcyBubyBtYXggZGVwdGguXG4gICAgICogQHBhcmFtIHNraXBDb252ZXJnZW50U2ltcGxpZmljYXRpb25zIElmIHRydWUsIGNvbnZlcmdlbnQgc2ltcGxpZmljYXRpb24gb3BlcmF0aW9uc1xuICAgICAqICAgICAgICAgIGFyZW4ndCBjb3VudGVkIHdoZW4gY2FsY3VsYXRpbmcgZGVwdGguXG4gICAgICogQHBhcmFtIGFib3J0IEEgc2lnbmFsIHVzZWQgdG8gcHJlbWF0dXJlbHkgYWJvcnQgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgZXhwYW5kKG1heERlcHRoOiBudW1iZXIsIHNraXBDb252ZXJnZW50U2ltcGxpZmljYXRpb25zOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICAgICAgLy8gU2ltcGxpZnkgYWxsIHRoZSBleHByZXNzaW9ucyB1c2luZyB0aGUgY29udGV4dGxlc3Mgc2ltcGxpZnlpbmcgcnVsZXNcbiAgICAgICAgLy8gRG8gdGhpcyB1bnRpbCB0aGVyZSdzIG5vdGhpbmcgbW9yZSB0byBzaW1wbGlmeVxuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpPG1heERlcHRoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZnlOb0NvbnRleHRDb252ZXJnZW50KClcbiAgICAgICAgICAgIHRoaXMuc2ltcGxpZnlOb0NvbnRleHREaXZlcmdlbnQoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy9UT0RPOiBPcHRpbWl6ZSBsYXRlciwgbGV0cyBqdXN0IG1ha2UgaXQgd29yayBmaXJzdFxuICAgICAgICAvLyBmb3IgKGxldCBpPTA7IGkgPCBtYXhEZXB0aDsgaSsrKSB7XG4gICAgICAgIC8vICAgICBpZiAoc2tpcENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbnMpIHtcbiAgICAgICAgLy8gICAgICAgICB3aGlsZSAodGhpcy5zaW1wbGlmeU5vQ29udGV4dENvbnZlcmdlbnQoKSkge1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICBpZiAoIXRoaXMuc2ltcGxpZnlOb0NvbnRleHREaXZlcmdlbnQoKSkgcmV0dXJuXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIGlmICghdGhpcy5zaW1wbGlmeU5vQ29udGV4dENvbnZlcmdlbnQoKSkge1xuICAgICAgICAvLyAgICAgICAgICAgICBpZiAoIXRoaXMuc2ltcGxpZnlOb0NvbnRleHREaXZlcmdlbnQoKSkgXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAvLyAgICAgfSAgICBcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBsaXN0IG9mIGV4cHJlc3Npb25zIHdoaWNoIGNvdWxkbid0IGJlIHNpbXBsaWZpZWQgZnVydGhlci5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IHNpbXBsaWZpZWRFeHByZXNzaW9ucygpOiBFeHByZXNzaW9uW10ge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMucGFzc2VkRmFjdG9yaW5nU2ltcGxpZmljYXRpb24sIC4uLnRoaXMucGFzc2VkUG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgY29udmVyZ2VudCBzaW1wbGlmaWNhdGlvbiBydWxlcyB0byBleHBhbmQgdGhlIGdyYXBoLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlcmUgaXMgbW9yZSB0byBzaW1wbGlmeSBhbmQgdGhpcyBzaG91bGRcbiAgICAgKiAgICAgICAgICBiZSBjYWxsZWQgYWdhaW4uIFdpbGwgYmUgY2FsbGVkIGEgZmluaXRlIG51bWJlciBvZiB0aW1lcy5cbiAgICAgKi9cbiAgICBwcml2YXRlIHNpbXBsaWZ5Tm9Db250ZXh0Q29udmVyZ2VudCgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdW5zaW1wbGlmaWVkID0gWy4uLnRoaXMuZ3JhcGguZ2V0Tm9kZXMoKV0uZmlsdGVyKG4gPT4gbiBpbnN0YW5jZW9mIEV4cHJlc3Npb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcDxFeHByZXNzaW9uPihuID0+IG4gYXMgRXhwcmVzc2lvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGUgPT4gIXRoaXMucHJvY2Vzc2VkQnlDb252ZXJnZW50U2ltcGxpZmljYXRpb24uaGFzKGUpKVxuXG4gICAgICAgIGxldCBzaG91bGREb0FnYWluID0gZmFsc2VcbiAgICAgICAgdW5zaW1wbGlmaWVkLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NlZEJ5Q29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLmFkZChlKVxuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZmluZCBlcXVpdmFsZW50cyB1c2luZyBnZW5lcmFsIGNvbnZlcmdlbnQgcnVsZXMuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgY29udmVyZ2VudFNpbXBsaWZpY2F0aW9uUnVsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gZXF1aXYoZSwgZXF1aXZhbGVudHNGblVzaW5nKFtydWxlXSkpXG4gICAgICAgICAgICAgICAgY29uc3QgZGVyaXZlZFNpbXBsaWZpY2F0aW9uID0gcmVzdWx0c1swXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9HcmFwaChbcl0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRTaW1wbGlmaWNhdGlvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkRG9BZ2FpbiA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC8vIFRvIG5leHQgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uYWRkKGUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHNob3VsZERvQWdhaW5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGRpdmVyZ2VudCBzaW1wbGlmaWNhdGlvbiBydWxlcyB0byBleHBhbmQgdGhlIGdyYXBoLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGZ1bmN0aW9uIGV4cGFuZGVkIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBwcml2YXRlIHNpbXBsaWZ5Tm9Db250ZXh0RGl2ZXJnZW50KCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIC8vIE9ubHkgb3BlcmF0ZSBvbiBleHByZXNzaW9ucyB3aGljaCBoYXZlIG5vdCBiZWVuIHByZXZpb3VzbHkgZG9uZVxuICAgICAgICBjb25zdCBjYW5kaWRhdGVzID0gWy4uLnRoaXMuZ3JhcGguZ2V0Tm9kZXMoKV0uZmlsdGVyKG4gPT4gbiBpbnN0YW5jZW9mIEV4cHJlc3Npb24pXG4gICAgICAgICAgICAubWFwPEV4cHJlc3Npb24+KG4gPT4gbiBhcyBFeHByZXNzaW9uKVxuICAgICAgICAgICAgLmZpbHRlcihlID0+IFxuICAgICAgICAgICAgICAgICF0aGlzLnByb2Nlc3NlZEJ5RGl2ZXJnZW50U2ltcGxpZmljYXRpb24uaGFzKGUpXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5wYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uaGFzKGUpKVxuXG4gICAgICAgIC8vIFRydWUgaWYgbW9yZSBleHByZXNzaW9ucyB3ZXJlIGFkZGVkIHRvIHRoZSBncmFwaFxuICAgICAgICBsZXQgc2hvdWxkRG9BZ2FpbiA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICBjYW5kaWRhdGVzLmZvckVhY2goZSA9PiB7XG5cbiAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIGVxdWl2YWxlbnRzIHVzaW5nIGRpdmVyZ2VudCBydWxlcy5cblxuICAgICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIGZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uUnVsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmVkU2ltcGxpZmljYXRpb25zID0gZXF1aXYoZSwgZXF1aXZhbGVudHNGblVzaW5nKFtydWxlXSkpXG5cbiAgICAgICAgICAgICAgICBzaG91bGREb0FnYWluIHx8PSB0aGlzLmFkZFRvR3JhcGgoZGVyaXZlZFNpbXBsaWZpY2F0aW9ucylcblxuICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkU2ltcGxpZmljYXRpb25zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgUHJvZHVjdCkgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NlZEZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uLmFkZChlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIHBvbHlub21pYWxTaW1wbGlmaWNhdGlvblJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVyaXZlZFNpbXBsaWZpY2F0aW9ucyA9IGVxdWl2KGUsIGVxdWl2YWxlbnRzRm5Vc2luZyhbcnVsZV0pKVxuXG4gICAgICAgICAgICAgICAgc2hvdWxkRG9BZ2FpbiB8fD0gdGhpcy5hZGRUb0dyYXBoKGRlcml2ZWRTaW1wbGlmaWNhdGlvbnMpXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZFNpbXBsaWZpY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3VtKSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc2VkUG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uLmFkZChlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gc2hvdWxkRG9BZ2FpblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvciBlYWNoIGdpdmVuIGFyZ3VtZW50LCBhZGRzIHRvIHRoZSBncmFwaCBpZiBhdCBsZWFzdFxuICAgICAqIG9uZSBvZiBpdHMgY2xhaW0ncyBlbmRwb2ludHMgaXNuJ3QgYWxyZWFkeSBpbiB0aGUgZ3JhcGguXG4gICAgICogSWYgYm90aCBlbmQgcG9pbnRzIG9mIGFsbCBhcmd1bWVudHMgYXJlIGFscmVhZHkgaW4gdGhlIGdyYXBoLFxuICAgICAqIHJldHVybnMgZmFsc2UuXG4gICAgICogQHBhcmFtIGFyZ3MgXG4gICAgICogQGVmZmVjdHMgdGhpcy5ncmFwaFxuICAgICAqL1xuICAgIHByaXZhdGUgYWRkVG9HcmFwaChhcmdzOiBBcmd1bWVudFtdKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBhdExlYXN0T25lID0gZmFsc2U7XG4gICAgICAgIGFyZ3MuZm9yRWFjaChhID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5ncmFwaC5jb250YWlucyhhLmNsYWltLm4pIFxuICAgICAgICAgICAgfHwgIXRoaXMuZ3JhcGguY29udGFpbnMoYS5jbGFpbS5uMSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGguYWRkQXJndW1lbnQoYSlcbiAgICAgICAgICAgICAgICBhdExlYXN0T25lID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICBcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGF0TGVhc3RPbmU7XG4gICAgfVxuXG4gICAgcHVibGljIHJlYWRvbmx5IGdyYXBoOiBHcmFwaFxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiBpcyBpbiB0aGUgZ3JhcGhcbiAgICAgKiBhbmQgaGFzIGFscmVhZHkgaGFkIHRoZSBjb250ZXh0bGVzcyBzaW1wbGlmaWNhdGlvbiBvcGVyYXRpb25zXG4gICAgICogZG9uZSB0byBpdCBhbmQgY2Fubm90IGJlIGZ1cnRoZXIgc2ltcGxpZmllZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgaXNTaW1wbGlmaWVkKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXRoaXMucGFzc2VkQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLmhhcyhleHApKSByZXR1cm4gZmFsc2VcblxuICAgICAgICBpZiAoZXhwIGluc3RhbmNlb2YgUHJvZHVjdCkgcmV0dXJuIHRoaXMucGFzc2VkRmFjdG9yaW5nU2ltcGxpZmljYXRpb24uaGFzKGV4cClcbiAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFN1bSkgcmV0dXJuIHRoaXMucGFzc2VkUG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uLmhhcyhleHApXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIC8vIEFsbCB0aGUgZXhwcmVzc2lvbnMgd2hpY2ggY291bGQgbm90IGJlIHNpbXBsaWZpZWQgZnVydGhlciBieVxuICAgIC8vIGNvbnZlcmdlbnQgc2ltcGxpZmljYXRpb24gcnVsZXMuXG4gICAgcHVibGljIHJlYWRvbmx5IHBhc3NlZENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8RXhwcmVzc2lvbj4oKVxuXG4gICAgLy8gQWxsIGV4cHJlc3Npb25zIHdoaWNoIGhhdmUgYmVlbiBwcm9jZXNzZWQgYnkgdGhlIHNpbXBsaWZpY2F0aW9uIHJ1bGVzXG4gICAgLy8vIHJlZ2FyZGxlc3Mgb2YgdGhlIHJlc3VsdC5cbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc2VkQnlDb252ZXJnZW50U2ltcGxpZmljYXRpb24gPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJvY2Vzc2VkQnlEaXZlcmdlbnRTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8RXhwcmVzc2lvbj4oKVxuXG4gICAgLy8gQWxsIGV4cHJlc3Npb25zIHdoaWNoIGFyZSBwcm9kdWN0cyBhbmQgY291bGQgbm90IGJlIGZ1cnRoZXJcbiAgICAvLyBzaW1wbGlmaWVkIGJ5IGZhY3RvcmluZyBzaW1wbGlmaWNhdGlvbiBydWxlcy4gQSBzdWJzZXQgb2ZcbiAgICAvLyBwYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uXG4gICAgcHVibGljIHJlYWRvbmx5IHBhc3NlZEZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uID0gbmV3IFNldDxQcm9kdWN0PigpXG5cblxuXG4gICAgLy8gQWxsIGV4cHJlc3Npb25zIHdoaWNoIGFyZSBzdW1zIGFuZCBjb3VsZCBub3QgYmUgZnVydGhlclxuICAgIC8vIHNpbXBsaWZpZWQgYnkgcG9seW5vbWlhbCBzaW1wbGlmaWNhdGlvbiBydWxlcy4gQSBzdWJzZXQgb2ZcbiAgICAvLyBwYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uXG4gICAgcHVibGljIHJlYWRvbmx5IHBhc3NlZFBvbHlub21pYWxTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8U3VtPigpXG59XG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBtYWtlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgZXF1aXZhbGVudFxuICogZXhwcmVzc2lvbnMgZm9yIGEgZ2l2ZW4gb25lLlxuICogQHBhcmFtIHJ1bGVzIFdoYXQgcnVsZXMgdGhlIHJlc3VsdGluZyBmdW5jdGlvbiBzaG91bGQgdXNlIHRvIFxuICogICAgICBmaW5kIGVxdWl2YWxlbnRzLlxuICogQHJldHVybnMgQSBmdW5jdGlvbiB3aGljaCB3aWxsIHVzZSB0aGUgZ2l2ZW4gcnVsZXMgdG9cbiAqICAgICAgZmluZCBkaXJlY3QgZXF1aXZhbGVudHMuXG4gKi9cbmZ1bmN0aW9uIGVxdWl2YWxlbnRzRm5Vc2luZyhydWxlczogTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVtdKTogKGV4cDogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50PiB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgb3V0OiBTZXQ8QXJndW1lbnQ+ID0gbmV3IFNldCgpXG4gICAgICAgIHJ1bGVzLmZpbHRlcihyID0+IHIuYXBwbGllcyhleHApKS5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgICAgICAgcnVsZS5hcHBseShleHApLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgICAgICAgb3V0LmFkZChpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiO1xuXG4vKipcbiAqIEEgcnVsZSB0aGF0IHRha2VzIGFuIGV4cHJlc3Npb24gYW5kIHByb2R1Y2VzIG9uZSBvciBtb3JlIGVxdWl2YWxlbnQgZXhwcmVzc2lvbnMuXG4gKiBUaGVzZSBjYW4gdXNlIHJlZmxlY3Rpb24gdG8gZGV0ZXJtaW5lIHdoYXRcbiAqIHR5cGUgb2YgZXhwcmVzc2lvbiB0aGV5J3JlIGdpdmVuLiBUaGVzZSBydWxlcyB3aWxsIGJlIHJlY3Vyc2l2ZWx5IHVzZWRcbiAqIHRvIGRlcml2ZSBzaW1wbGlmaWVkIGV4cHJlc3Npb25zLlxuICogXG4gKiBUaGVzZSBydWxlcyBhcmUgYWxzbyBjb250ZXh0bGVzczogdGhleSdyZSBvbmx5IGdpdmVuIHRoZSBleHByZXNzaW9uLFxuICogbm8gb3RoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHByb2JsZW0uXG4gKiBcbiAqIEFsbCBvZiB0aGVzZSBydWxlcyBuZWVkIHRvIGNvbnZlcmdlIHRvIGEgc2ltcGxpZmllZCBhbnN3ZXIuIFRoZXkgY2FuJ3RcbiAqIGZvcm0gbG9vcHMuIFRoaW5raW5nIGFib3V0IHRoaXMsIHRoZXJlIGFyZSB0d28gc2ltcGxpZmllZCBmb3JtcyB0byBcbiAqIGNvbnZlcmdlIHRvOlxuICogIC0gRmFjdG9yZWQgZm9ybSBjKGErYilcbiAqICAtIFBvbHlub21pYWwgZm9ybSBhYyArIGJjXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBydWxlIGNhbiBmaW5kIGVxdWl2YWxlbnRzIGZvciB0aGVcbiAgICAgKiBnaXZlbiBleHByZXNzaW9uLiBPbmx5IGNhbGwgYXBwbHkoKSBpZiB0cnVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBsaWVzKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWVzSW1wbChleHApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBzZXQgb2YgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZXF1aXZhbGVudCB0b1xuICAgICAqIHRoZSBnaXZlbiBvbmUuIE9ubHkgY2FsbCBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvblxuICAgICAqIHBhc3NlZCB0aGUgYXBwbGllcygpIHRlc3QuXG4gICAgICogQHBhcmFtIGV4cCBUaGUgZXhwcmVzc2lvbiB0byBmaW5kIGFuIGVxdWl2YWxlbnQgZm9yLlxuICAgICAqIEByZXR1cm5zIFNldCBvZiBlcXVpdmFsZW50IGV4cHJlc3Npb25zLCBub3QgaW5jbHVkaW5nIHRoZSBnaXZlbiBvbmUuXG4gICAgICovXG4gICAgcHVibGljIGFwcGx5KGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuY29uc3RydWN0b3IubmFtZSArIFwiIG9uIFwiICsgZXhwLnRvU3RyaW5nKCkpXG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hcHBseUltcGwoZXhwKTtcbiAgICAgICAgcmVzdWx0LmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBhc3NlcnQoZSAhPSBudWxsICYmIGUgIT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYXNzZXJ0KGUuY2xhaW0ubjEgIT09IGV4cCwgXCJSdWxlIFwiICsgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICsgXCIgcHJvZHVjZWQgcmVzdWx0IGVxdWl2YWxlbnQgdG8gZ3JvdW5kXCIpXG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGZ1enp5IHRlc3QgaXMgaW5jb25sdXNpdmUgYW5kIGNhbiBmYWlsIHdoZW4gdHdvIGV4cHJlc3Npb25zIGFyZSBlcXVhbC5cbiAgICAgICAgICAgIC8vIERvbid0IGxlYXZlIGl0IGluIHByb2R1Y3Rpb24uXG4gICAgICAgICAgICAvLyBhc3NlcnQoZnV6enlFcXVpdmFsZW5jZVRlc3QoZXhwLCBlLmNsYWltLm4xKSwgXCJGYWlsZWQgZnV6enkgZXF1aXZhbGVuY2UgdGVzdCBcIiBcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICsgZXhwLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSArIFwiLz1cIiArIGUuY2xhaW0ubjEudG9VbmFtYmlnaW91c1N0cmluZygpXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICArIFwiIGR1cmluZyBhcmd1bWVudCBcIiArIGUuYXJndW1lbnQpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHR5cGUgb2YgZXhwcmVzc2lvbiB0aGlzIHJ1bGUncyBcbiAgICAgKiByZXN1bHRzIGFwcHJvYWNoLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgY29udmVyZ2VuY2VUeXBlKCk6IENvbnZlcmdlbmNlVGFyZ2V0IHtcbiAgICAgICAgcmV0dXJuIENvbnZlcmdlbmNlVGFyZ2V0Lk5vbmU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+XG59XG5cbi8qKlxuICogUGx1Z3MgaW4gc29tZSB2YWx1ZXMgdG8gc2VlIGlmIHRoZXkncmUgZXF1aXZhbGVudC5cbiAqIEBwYXJhbSBlMSBcbiAqIEBwYXJhbSBlMiBcbiAqL1xuZnVuY3Rpb24gZnV6enlFcXVpdmFsZW5jZVRlc3QoZTE6IEV4cHJlc3Npb24sIGUyOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgTElNSVQgPSAwLjAwMTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZTEuZXZhbHVhdGUodmFsdWUpIC0gZTIuZXZhbHVhdGUodmFsdWUpKSA+IExJTUlUKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZW51bSBDb252ZXJnZW5jZVRhcmdldCB7XG4gICAgRmFjdG9yZWQsXG4gICAgUG9seW5vbWlhbCxcbiAgICBOb25lLFxufVxuXG5jb25zdCB2YWx1ZXM6IFNldDxWYXJpYWJsZVZhbHVlTWFwPiA9IHNldE9mKFxuICAgIGJ1aWxkVmFyaWFibGVWYWx1ZU1hcCgtMi4xKSxcbiAgICBidWlsZFZhcmlhYmxlVmFsdWVNYXAoLTEuMSksXG4gICAgYnVpbGRWYXJpYWJsZVZhbHVlTWFwKDAuMSksXG4gICAgYnVpbGRWYXJpYWJsZVZhbHVlTWFwKDEuMSksXG4gICAgYnVpbGRWYXJpYWJsZVZhbHVlTWFwKDIuMSksXG57XG4gICAgdmFsdWVPZih2OiBWYXJpYWJsZSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB2LnN5bWJvbC5jb2RlUG9pbnRBdCgwKSA/PyAwXG4gICAgfVxufSxcbntcbiAgICB2YWx1ZU9mKHY6IFZhcmlhYmxlKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHYuc3ltYm9sLmNoYXJDb2RlQXQoMClcbiAgICB9XG59KVxuXG5mdW5jdGlvbiBidWlsZFZhcmlhYmxlVmFsdWVNYXAodmFsOiBudW1iZXIpOiBWYXJpYWJsZVZhbHVlTWFwIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZU9mKHY6IFZhcmlhYmxlKTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5cbi8qKlxuICogUHJvZHVjZXMgdHJ1dGhzIGZyb20gYSBzZXQgb2YgZXF1aXZhbGVudCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZSB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGVxdWF0aW9uIEEgc2V0IG9mIGV4cHJlc3Npb25zIHdoaWNoIGFyZSBlcXVhbC5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwbHkoZXF1YXRpb246IFNldDxFeHByZXNzaW9uPik6IEFyZ3VtZW50W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseUltcGwoZXF1YXRpb24pXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGx5SW1wbChlcXVhdGlvbjogU2V0PEV4cHJlc3Npb24+KTogQXJndW1lbnRbXVxuXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBydWxlczogU2V0PFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZT4gPSBuZXcgU2V0KClcbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBmcmFjdGlvbiwgcHJvZHVjdE9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZSB9IGZyb20gXCIuLi9SZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGVcIjtcblxuZXhwb3J0IGNsYXNzIERpdmlkZU9uQm90aFNpZGVzIGV4dGVuZHMgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGVxdWF0aW9uOiBTZXQ8RXhwcmVzc2lvbj4pOiBBcmd1bWVudFtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiBBcmd1bWVudFtdID0gW11cblxuICAgICAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBjYXJ0ZXNpYW5Qcm9kdWN0PEV4cHJlc3Npb24+KGVxdWF0aW9uKVxuXG4gICAgICAgIGNvbWJpbmF0aW9ucy5maWx0ZXIocGFpciA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFpclswXSBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgfSkuZm9yRWFjaChwYWlyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBwYWlyWzBdIGFzIFByb2R1Y3RcbiAgICAgICAgICAgIGNvbnN0IG90aGVyID0gcGFpclsxXVxuXG4gICAgICAgICAgICAvLyBTb21lIHByb2R1Y3RzIGhhdmUgbXVsdGlwbGUgZmFjdG9yc1xuICAgICAgICAgICAgcC5mYWN0b3JzLmZvckVhY2goZmFjdG9yID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kOiBFeHByZXNzaW9uW11cbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFsuLi5vdGhlci5mYWN0b3JzXVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFtvdGhlcl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhaW0gPSB7bjogcC53aXRob3V0KGZhY3RvciksIG4xOiBmcmFjdGlvbihwcm9kdWN0T3JOb3QoLi4uc2Vjb25kKSwgZmFjdG9yKSwgcjogUmVsYXRpb25zaGlwLkVxdWFsfVxuICAgICAgICAgICAgICAgIG91dC5wdXNoKG5ldyBBcmd1bWVudChuZXcgU2V0KFtwLCBvdGhlcl0pLCBjbGFpbSwgXCJhPWIgJiBjPWQgPT4gYS9jID0gYi9kXCIsIFJVTEVfSUQpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGFudGktcmVmbGV4aXZlIGNsb3N1cmUgb2YgdGhlIHJlbGF0aW9uIEEgeCBBLlxuICogSXQncyBzeW1tZXRyaWMgYW5kIHRyYW5zaXRpdmUuXG4gKiBcbiAqIEBwYXJhbSBzZXQgXG4gKi9cbiBmdW5jdGlvbiBjYXJ0ZXNpYW5Qcm9kdWN0PFQ+KHNldDogU2V0PFQ+KTogVFtdW10ge1xuICAgIGNvbnN0IG91dCA9IFtdXG4gICAgZm9yIChjb25zdCBmaXJzdCBvZiBzZXQpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWNvbmQgb2Ygc2V0KSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QgPT09IHNlY29uZCkgY29udGludWVcbiAgICAgICAgICAgIG91dC5wdXNoKFtmaXJzdCwgc2Vjb25kXSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJEaXYgb24gYm90aCBzaWRlc1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG5lZ2F0aXZlLCBzdW1JbnR1aXRpdmUgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIH0gZnJvbSBcIi4uL1JlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZVwiO1xuXG5leHBvcnQgY2xhc3MgU3VidHJhY3RGcm9tQm90aFNpZGVzIGV4dGVuZHMgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGVxdWF0aW9uOiBTZXQ8RXhwcmVzc2lvbj4pOiBBcmd1bWVudFtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiBBcmd1bWVudFtdID0gW11cbiAgICAgICAgY29uc3QgY29tYmluYXRpb25zID0gY2FydGVzaWFuUHJvZHVjdDxFeHByZXNzaW9uPihlcXVhdGlvbilcblxuICAgICAgICAvLyBJZiBvbmUgaXMgYWRkaXRpb24sIHN1YnRyYWN0IGZyb20gYm90aCBzaWRlc1xuICAgICAgICAvLyBIZXJlIHdlIGZpbHRlciBzbyB0aGF0IG9ubHkgcGFpcnMgd2hlcmUgdGhlIGZpcnN0IGV4cHJlc3Npb24gaXNcbiAgICAgICAgLy8gYSBzdW0gYXJlIG9wZXJhdGVkIG9uLiBUaGlzIHdvcmtzIGJlY2F1c2UgY29tYmluYXRpb25zIGlzIHN5bWV0cmljLlxuICAgICAgICAvLyBOb3cgZm9yIGVhY2ggcGFpciB3ZSBvbmx5IGhhdmUgdG8gZGVhbCB3aXRoIHRoZSBmaXJzdCBleHAgYmVpbmcgc3VtLlxuICAgICAgICBjb21iaW5hdGlvbnMuZmlsdGVyKHBhaXIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhaXJbMF0gaW5zdGFuY2VvZiBTdW1cbiAgICAgICAgfSkuZm9yRWFjaChwYWlyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBwYWlyWzBdIGFzIFN1bVxuICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBwYWlyWzFdXG5cbiAgICAgICAgICAgIC8vIFNvbWUgU3VtcyBoYXZlIG11bHRpcGxlIHRlcm1zXG4gICAgICAgICAgICBzLnRlcm1zLmZpbHRlcih0ZXJtID0+ICEodGVybSBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgdGVybS5pc05lZ2F0aW9uKSlcbiAgICAgICAgICAgIC5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIG90aGVyIGlzIGl0c2VsZiBhIHN1bSwgd2Ugd2lsbCBicmVhayBpdCBhcGFydFxuICAgICAgICAgICAgICAgIC8vIGludG8gdGVybXMgc28gdGhhdCB3ZSBjYW4gY29tYmluZSBpbnRlZ2VyIHRlcm1zIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGZpbmFsIHJlc3VsdCBhbmQgYXZvaWRcbiAgICAgICAgICAgICAgICAvLyB4ICsgMiArIDIgPSB5ICsgMiA9PiB4ICsgMiA9IHkgKyAyIC0gMlxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgZG8gdGhpcyB0byBpbnRlZ2VyIHRlcm1zLCBiZWNhdXNlIHRoYXQnc1xuICAgICAgICAgICAgICAgIC8vIHNvIG9idmlvdXMgYW5kIGNvdWxkbid0IHBvc3NpYmx5IG5lZWQgdG8gYmUgZXhwbGFpbmVkIGZ1cnRoZXIuXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgZG8gaXQgdG8gdmFyaWFibGUgdGVybXMuIFRoZSBmb2xsb3dpbmcgaXMgY29ycmVjdCBiZWhhdmlvcjpcbiAgICAgICAgICAgICAgICAvLyB4ICsgYSArIGEgPSB5ICsgYSA9PiB4ICsgYSA9IHkgKyBhIC0gYVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgZGlzdGluY3Rpb24gaXMgZGViYXRhYmxlLiBXaHkgc2hvdWxkbid0IHRoZSBsZWZ0IGhhbmRcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgbGFzdCBkZWR1Y3Rpb24gYmUgeCArIGEgKyBhIC0gYT8gQnkgZG9pbmcgdGhpcywgXG4gICAgICAgICAgICAgICAgLy8gd2UgcHJvZHVjZSBhIG11Y2ggbW9yZSBjb21wbGljYXRlZCBhbmQgZXhwZW5zaXZlIGdyYXBoLiBcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kOiBFeHByZXNzaW9uW11cbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBTdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gWy4uLm90aGVyLnRlcm1zXVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFtvdGhlcl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhaW0gPSB7bjogcy53aXRob3V0KHRlcm0pLCBuMTogc3VtSW50dWl0aXZlKC4uLnNlY29uZCwgbmVnYXRpdmUodGVybSkpLCByOiBSZWxhdGlvbnNoaXAuRXF1YWx9XG4gICAgICAgICAgICAgICAgb3V0LnB1c2gobmV3IEFyZ3VtZW50KG5ldyBTZXQoW3MsIG90aGVyXSksIGNsYWltLCBcImE9YiAmIGM9ZCA9PiBhLWMgPSBiLWRcIiwgUlVMRV9JRCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGFudGktcmVmbGV4aXZlIGNsb3N1cmUgb2YgdGhlIHJlbGF0aW9uIEEgeCBBLlxuICogSXQncyBzeW1tZXRyaWMgYW5kIHRyYW5zaXRpdmUuXG4gKiBcbiAqIEBwYXJhbSBzZXQgXG4gKi9cbiBmdW5jdGlvbiBjYXJ0ZXNpYW5Qcm9kdWN0PFQ+KHNldDogU2V0PFQ+KTogVFtdW10ge1xuICAgIGNvbnN0IG91dCA9IFtdXG4gICAgZm9yIChjb25zdCBmaXJzdCBvZiBzZXQpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWNvbmQgb2Ygc2V0KSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QgPT09IHNlY29uZCkgY29udGludWVcbiAgICAgICAgICAgIG91dC5wdXNoKFtmaXJzdCwgc2Vjb25kXSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJTdWIgZnJvbSBib3RoIHNpZGVzXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRGVyaXZhdGl2ZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBCcmVha0Rlcml2YXRpdmVzT3ZlckFkZGl0aW9uIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRGVyaXZhdGl2ZVxuICAgICAgICAgICAgJiYgZXhwLmV4cCBpbnN0YW5jZW9mIFN1bVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBkID0gZXhwIGFzIERlcml2YXRpdmVcbiAgICAgICAgY29uc3Qgc3VtID0gZC5leHAgYXMgU3VtXG5cbiAgICAgICAgY29uc3QgdGVybXMgPSBbLi4uc3VtLnRlcm1zXVxuICAgICAgICBjb25zdCB3cmFwcGVkID0gdGVybXMubWFwPERlcml2YXRpdmU+KHQgPT4gRGVyaXZhdGl2ZS5vZih0LCBkLnJlbGF0aXZlVG8pKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZCksIHtcbiAgICAgICAgICAgIG46IGQsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogU3VtLm9mKHdyYXBwZWQpLFxuICAgICAgICB9LCBcIlNwbGl0IGRlcml2YXRpdmUgb3ZlciBhZGRpdGlvblwiLCBSVUxFX0lEKSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkJyZWFrIERlcml2YXRpdmVzIG92ZXIgQWRkaXRpb25cIiIsImltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5pbXBvcnQgeyBudW0gfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgRGVyaXZhdGl2ZSwgRGVyaXZhdGl2ZVR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb25zdGFudERlcml2YXRpZXMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAuY2xhc3MgPT09IERlcml2YXRpdmVUeXBlICYmIChleHAgYXMgRGVyaXZhdGl2ZSkuZXhwLmlzQ29uc3RhbnRcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogbnVtKDApXG4gICAgICAgIH0sIFwiRGVyaXZhdGl2ZSBvZiBhbnl0aGluZyBpcyB6ZXJvXCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRDogc3RyaW5nID0gXCJDb25zdGFudCBEZXJpdmF0aXZlXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbmVnYXRpdmUsIG51bSwgcHJvZHVjdCwgc3VtSW50dWl0aXZlIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRGVyaXZhdGl2ZSwgRGVyaXZhdGl2ZVR5cGUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiO1xuaW1wb3J0IHsgRXhwb25lbnQsIEV4cG9uZW50VHlwZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG4vKipcbiAqIERlcml2ZXMgdXNpbmcgdGhlIHBvd2VyIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIFBvd2VyUnVsZSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIERlcml2YXRpdmUgXG4gICAgICAgICYmICgoZXhwLmV4cCBpbnN0YW5jZW9mIEV4cG9uZW50XG4gICAgICAgICAgICAmJiBleHAuZXhwLmJhc2UgPT09IGV4cC5yZWxhdGl2ZVRvXG4gICAgICAgICAgICAmJiBleHAuZXhwLnBvd2VyLmlzQ29uc3RhbnQpXG4gICAgICAgIHx8IChleHAuZXhwID09PSBleHAucmVsYXRpdmVUbykpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2Uga25vdzpcbiAgICAgKiBleHAgaXMgYSBEZXJpdmF0aXZlIG9mIGFuIEV4cG9uZW50IHdpdGggYSBjb25zdGFudCBwb3dlclxuICAgICAqIHRoZSBleHBvbmVudCdzIGJhc2UgaXMgdGhlIHNhbWUgYXMgd2hhdCB0aGUgZGVyaXZhdGl2ZSBpcyByZWxhdGl2ZSB0b1xuICAgICAqL1xuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGQgPSBleHAgYXMgRGVyaXZhdGl2ZVxuICAgICAgICBsZXQgZXhwb25lbnQ6IEV4cG9uZW50O1xuICAgICAgICBpZiAoZC5leHAgaW5zdGFuY2VvZiBFeHBvbmVudCkge1xuICAgICAgICAgICAgZXhwb25lbnQgPSBkLmV4cFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhwb25lbnQgPSBFeHBvbmVudC5vZihkLmV4cCwgbnVtKDEpKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2R1Y3QoZXhwb25lbnQucG93ZXIsIEV4cG9uZW50Lm9mKGV4cG9uZW50LmJhc2UsIHN1bUludHVpdGl2ZShleHBvbmVudC5wb3dlciwgbmVnYXRpdmUobnVtKDEpKSkpKVxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiByZXN1bHRcbiAgICAgICAgfSwgXCJQb3dlciBydWxlXCIsIFJVTEVfSUQpKVxuXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiUG93ZXIgUnVsZVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IGYsIHByb2R1Y3QsIHJlbW92ZU5ldywgc3VtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRGVyaXZhdGl2ZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogRGVyaXZhdGl2ZXMgb2YgcHJvZHVjdHNcbiAqIFxuICogT25seSBvcGVyYXRlcyBvbiBkZXJpdmF0aXZlcyBvZiBwcm9kdWN0cyB3aGVyZSBhbGwgZmFjdG9ycyBhcmUgbm90IGNvbnN0YW50LlxuICovXG5leHBvcnQgY2xhc3MgUHJvZHVjdFJ1bGUgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBEZXJpdmF0aXZlXG4gICAgICAgICYmIGV4cC5leHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgICAgIC8vIENvbnRhaW5zIG5vIGNvbnN0YW50IGZhY3RvcnNcbiAgICAgICAgJiYgIWV4cC5leHAuZmFjdG9ycy5tYXA8Ym9vbGVhbj4oZiA9PiBmLmlzQ29uc3RhbnQpLnJlZHVjZSgoYSwgYikgPT4gYSB8fCBiKVxuICAgICAgICAvLyBDb250YWlucyBubyBkZXJpdmF0aXZlcyBUT0RPOiBGaW5kIGEgYmV0dGVyIHNvbHV0aW9uIHRvIGxvb3AgZ3VhcmRpbmdcbiAgICAgICAgLy8mJiAhZXhwLmV4cC5mYWN0b3JzLm1hcDxib29sZWFuPihmID0+IGYgaW5zdGFuY2VvZiBEZXJpdmF0aXZlKS5yZWR1Y2UoKGEsIGIpID0+IGEgfHwgYilcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuXG4gICAgICAgIGNvbnN0IGQgPSBleHAgYXMgRGVyaXZhdGl2ZVxuICAgICAgICBjb25zdCBwID0gZC5leHAgYXMgUHJvZHVjdFxuICAgICAgICBjb25zdCBmYWN0b3JzID0gcC5mYWN0b3JzXG5cbiAgICAgICAgLy8gRm9yIGVhY2ggZmFjdG9yLCBjcmVhdGUgYSBwcm9kdWN0IGNvbnRhaW5pbmcgaXRzIGRlcml2YXRpdmUgYW5kIHRoZSBvdGhlciBmYWN0b3JzXG4gICAgICAgIGNvbnN0IHRlcm1zOiBQcm9kdWN0W10gPSBbXVxuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBmYWN0b3JzLmxlbmd0aDsgaSsrKSB7IC8vIGkgaXMgdGhlIGZhY3RvciB0byBkZXJpdmF0aXplICh3aGF0IHRlcm0gd2UncmUgb24pXG4gICAgICAgICAgICBjb25zdCBmYWN0b3JUb0Rlcml2YXRpemUgPSBmYWN0b3JzW2ldXG4gICAgICAgICAgICBjb25zdCBwRmFjdG9yczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIGZhY3RvcnMpIHsgLy8gYSBpcyB0aGUgdGhlIGZhY3RvciB3ZSdyZSBvblxuICAgICAgICAgICAgICAgIGlmIChmYWN0b3IgPT09IGZhY3RvclRvRGVyaXZhdGl6ZSkgcEZhY3RvcnMucHVzaChEZXJpdmF0aXZlLm9mKGZhY3RvciwgZC5yZWxhdGl2ZVRvKSlcbiAgICAgICAgICAgICAgICBlbHNlIHBGYWN0b3JzLnB1c2goZmFjdG9yKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXJtcy5wdXNoKHByb2R1Y3QoLi4ucEZhY3RvcnMpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihkKSwge1xuICAgICAgICAgICAgbjogZCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBzdW0oLi4udGVybXMpIGFzIEV4cHJlc3Npb25cbiAgICAgICAgfSwgXCJQcm9kdWN0IFJ1bGVcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJQcm9kdWN0IFJ1bGVcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBwcm9kdWN0LCBwcm9kdWN0QW5kTm90VGltZXNPbmUsIHByb2R1Y3RPck5vdCwgcmVtb3ZlLCByZW1vdmVOZXcgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0Rlcml2YXRpdmVcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuZXhwb3J0IGNsYXNzIFB1bGxDb25zdGFudHNGcm9tRGVyaXZhdGl2ZXMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBEZXJpdmF0aXZlXG4gICAgICAgICAgICAmJiBleHAuZXhwIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBkID0gZXhwIGFzIERlcml2YXRpdmVcbiAgICAgICAgY29uc3QgcCA9IGQuZXhwIGFzIFByb2R1Y3RcblxuICAgICAgICBjb25zdCBjb25zdEZhY3RvcnMgPSBwLmZhY3RvcnMuZmlsdGVyKGYgPT4gZi5pc0NvbnN0YW50KVxuXG4gICAgICAgIGNvbnN0IG91dCA9IG5ldyBTZXQ8QXJndW1lbnQ+XG4gICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIGNvbnN0RmFjdG9ycykge1xuICAgICAgICAgICAgb3V0LmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZCksIHtcbiAgICAgICAgICAgICAgICBuOiBkLFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogcHJvZHVjdEFuZE5vdFRpbWVzT25lKGZhY3RvciwgRGVyaXZhdGl2ZS5vZihwcm9kdWN0T3JOb3QoLi4ucmVtb3ZlTmV3KHAuZmFjdG9ycywgZmFjdG9yKSksIGQucmVsYXRpdmVUbykpXG4gICAgICAgICAgICB9LCBcIlB1bGwgY29uc3RhbnQgZmFjdG9yIGZyb20gZGVyaXZhdGl2ZVwiLCBSVUxFX0lEKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJQdWxsIENvbnN0YW50cyBmcm9tIERlcml2c1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuaW1wb3J0IHsgSW50ZWdyYWwsIEludGVncmFsVHlwZSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0ludGVncmFsXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgcHJvZHVjdCwgcHJvZHVjdE9yTm90LCBwcm9kdWN0T3JPbmUgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5cblxuZXhwb3J0IGNsYXNzIFB1bGxDb25zdGFudHNGcm9tSW50ZWdyYWxzIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZXhwLmNsYXNzICE9PSBJbnRlZ3JhbFR5cGUpIHJldHVybiBmYWxzZVxuICAgICAgICBjb25zdCBpID0gZXhwIGFzIEludGVncmFsXG5cbiAgICAgICAgcmV0dXJuIGkuaW50ZWdyYW5kIGluc3RhbmNlb2YgUHJvZHVjdCAmJiBpLmludGVncmFuZC5mYWN0b3JzLnNvbWUoZiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZi5pc0NvbnN0YW50XG4gICAgICAgIH0pICYmIGkuaW50ZWdyYW5kLmZhY3RvcnMuc29tZShmID0+ICFmLmlzQ29uc3RhbnQpXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGkgPSBleHAgYXMgSW50ZWdyYWxcbiAgICAgICAgY29uc3QgaW50ZWdyYW5kID0gaS5pbnRlZ3JhbmQgYXMgUHJvZHVjdFxuXG4gICAgICAgIGNvbnN0IHB1bGxlZEZhY3RvcnMgPSBwcm9kdWN0T3JOb3QoLi4uaW50ZWdyYW5kLmZhY3RvcnMuZmlsdGVyKGYgPT4gZi5pc0NvbnN0YW50KSlcbiAgICAgICAgY29uc3QgbmV3SW50ZWdyYW5kID0gcHJvZHVjdE9yT25lKC4uLmludGVncmFuZC5mYWN0b3JzLmZpbHRlcihmID0+ICFmLmlzQ29uc3RhbnQpKVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2R1Y3QocHVsbGVkRmFjdG9ycywgSW50ZWdyYWwub2YobmV3SW50ZWdyYW5kLCBpLnJlbGF0aXZlVG8pKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICB9LCBcIlB1bGwgY29uc3RhbnRzIGZyb20gaW50ZWdyYWxcIiwgUlVMRV9JRCkpXG5cbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkNvbnN0YW50c0Zyb21JbnRlZ3JhbHNcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBuZWdhdGl2ZSwgbnVtLCBwcm9kdWN0LCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0Rlcml2YXRpdmVcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuXG5leHBvcnQgY2xhc3MgUXVvdGllbnRSdWxlIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRGVyaXZhdGl2ZVxuICAgICAgICAgICAgJiYgZXhwLmV4cCBpbnN0YW5jZW9mIEZyYWN0aW9uXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGQgPSBleHAgYXMgRGVyaXZhdGl2ZVxuICAgICAgICBjb25zdCBhID0gKGQuZXhwIGFzIEZyYWN0aW9uKS5udW1lcmF0b3JcbiAgICAgICAgY29uc3QgYiA9IChkLmV4cCBhcyBGcmFjdGlvbikuZGVub21pbmF0b3JcbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YoXG4gICAgICAgICAgICAgICAgICAgIHN1bShcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3QoRGVyaXZhdGl2ZS5vZihhLCBkLnJlbGF0aXZlVG8pLCBiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlKHByb2R1Y3QoYSwgRGVyaXZhdGl2ZS5vZihiLCBkLnJlbGF0aXZlVG8pKSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgRXhwb25lbnQub2YoYiwgbnVtKDIpKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgfSwgXCJRdW90aWVudCBSdWxlXCIsIFJVTEVfSUQpKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlF1b3RpZW50IFJ1bGVcIiIsImltcG9ydCB7IEludGVncmFsLCBJbnRlZ3JhbFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ3JhbFwiO1xuaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuaW1wb3J0IHsgRXhwb25lbnQsIEV4cG9uZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvRnJhY3Rpb25cIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgbmVnYXRpdmUsIG51bSwgc3VtIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBSZXZlcnNlUG93ZXJSdWxlIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZXhwLmNsYXNzICE9PSBJbnRlZ3JhbFR5cGUpIHJldHVybiBmYWxzZVxuXG4gICAgICAgIGNvbnN0IGkgPSBleHAgYXMgSW50ZWdyYWxcblxuICAgICAgICByZXR1cm4gKGkuaW50ZWdyYW5kIGluc3RhbmNlb2YgRXhwb25lbnRcbiAgICAgICAgICAgICAgICAmJiAoaS5pbnRlZ3JhbmQuYmFzZSA9PT0gaS5yZWxhdGl2ZVRvIFxuICAgICAgICAgICAgICAgICYmIGkuaW50ZWdyYW5kLnBvd2VyLmlzQ29uc3RhbnQpXG4gICAgICAgICAgICAgICAgfHwgaS5pbnRlZ3JhbmQgPT09IGkucmVsYXRpdmVUbylcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgaSA9IGV4cCBhcyBJbnRlZ3JhbFxuICAgICAgICBjb25zdCBpbnRlZ3JhbmQgPSBpLmludGVncmFuZFxuXG4gICAgICAgIGxldCByZXN1bHQ6IEV4cHJlc3Npb25cblxuICAgICAgICBpZiAoaW50ZWdyYW5kIGluc3RhbmNlb2YgRXhwb25lbnQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEZyYWN0aW9uLm9mKEV4cG9uZW50Lm9mKGludGVncmFuZC5iYXNlLCBzdW0oaW50ZWdyYW5kLnBvd2VyLCBudW0oMSkpKSwgc3VtKGludGVncmFuZC5wb3dlciwgbnVtKDEpKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEV4cG9uZW50Lm9mKGludGVncmFuZCwgbnVtKDIpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogcmVzdWx0XG4gICAgICAgIH0sIFwiUmV2ZXJzZSBwb3dlciBydWxlXCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiUmV2ZXJzZSBQb3dlciBSdWxlXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ3JhbCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ3JhbFwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBVU3Vic3RpdHV0aW9uIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7Ly9leHAgaW5zdGFuY2VvZiBJbnRlZ3JhbFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlVTdWJzdGl0dXRpb25cIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IHByb2R1Y3QsIHN1bSB9IGZyb20gXCIuLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRGVyaXZhdGl2ZSwgRGVyaXZhdGl2ZVR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBFeHBvbmVudCwgRXhwb25lbnRUeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiwgRnJhY3Rpb25UeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiXG5pbXBvcnQgeyBJbnRlZ3JhbCwgSW50ZWdyYWxUeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ludGVncmFsXCJcbmltcG9ydCB7IExvZ2FyaXRobSwgTG9nVHlwZSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9Mb2dhcml0aG1cIlxuaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdFR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBTdW0sIFN1bVR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvU3VtXCJcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5cbi8qKlxuICogU2VhcmNoZXMgZm9yIGVxdWl2YWxlbnRzIG9mIHRoZSBnaXZlblxuICogZXhwcmVzc2lvbiB3aXRoIGEgc2VhcmNoIGRlcHRoIG9mIDEuIFxuICogSXQgZG9lcyB0aGlzIGJ5IHJlZmxlY3RpbmcgdGhlIGV4cHJlc3Npb24nc1xuICogdHlwZSwgdGhlbiBkaXNiYXRjaGluZyB0byBhIHR5cGUgc3BlY2lmaWMgZXF1aXZhbGVudHNcbiAqIGZ1bmN0aW9uLiBcbiAqIFxuICogVGhlIHNwZWNpZmljIGZ1bmN0aW9ucyB1c2UgdGhlIGdpdmVuIGRpcmVjdEVxdWl2YWxlbnRzXG4gKiBmdW5jdGlvbiB0byBzd2FwIG91dCB0aGUgY29tcG9uZW50IHZhbHVlcyBvZiB0aGVpciBcbiAqIGV4cHJlc3Npb24gd2l0aCBlcXVpdmFsZW50cy5cbiAqIFxuICogRXgpXG4gKiAgR2l2ZW4gdGhlIGV4cHJlc3Npb25cbiAqICAgICAgICAgKGEgKyBhKSArIChiICogYilcbiAqICB3ZSBkaXNiYXRjaCB0byB0aGUgc3VtIHNwZWNpZmljIGZ1bmN0aW9uIChiZWNhdXNlXG4gKiAgdGhlIG91dGVyIG1vc3Qgb3BlcmF0aW9uIGlzIGFkZGl0aW9uKS4gVGhpcyBkaXNiYXRjaFxuICogIGZ1bmN0aW9uIHVzZXMgdGhlIGRpcmVjdEVxdWl2YWxlbnRzIGZ1bmN0aW9uIHRvIHN3YXAgb3V0IFxuICogIGVhY2ggb2YgdGhlIHN1bSdzIHRlcm1zIGluZGl2aWR1YWxseSwgeWllbGRpbmcgcmVzdWx0c1xuICogIGxpa2U6XG4gKiAgICAgIC0+ICgyYSkgKyAoYiAqIGIpIHdpdGggaW5mZXJlbmNlIGEgKyBhID0gMmFcbiAqICAgICAgLT4gKGEgKyBhKSArIGJeMlxuICogXG4gKiBAcGFyYW0gZXhwIFRoZSBleHByZXNzaW9uIHRvIHNlYXJjaCBmb3IgZXF1aXZhbGVudHMuXG4gKiBAcGFyYW0gZGlyZWN0RXF1aXZhbGVudHMgRnVuY3Rpb24gdGhhdCB0YWtlcyBleHByZXNzaW9ucyBhbmQgZmluZHMgZXF1aXZhbGVudHMuXG4gKiAgICAgICAgICAgICAgVGhpcyBmdW5jdGlvbiBvbmx5IG5lZWRzIHRvIGxvb2sgZm9yIHRvcCBsZXZlbCBlcXVpdmFsZW50cy0gcmVjdXJzaW9uXG4gKiAgICAgICAgICAgICAgaXMgaGFuZGxlZCBieSB0aGUgZXF1aXYgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyBBcnJheSBvZiBhcmd1bWVudHMgY29ubmVjdGluZyB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB0byBlcXVpdmFsZW50cy5cbiAqL1xuIGV4cG9ydCBmdW5jdGlvbiBlcXVpdihleHA6IEV4cHJlc3Npb24sIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50Pik6IEFyZ3VtZW50W10ge1xuICAgIGlmIChleHAgaW5zdGFuY2VvZiBWYXJpYWJsZSB8fCBleHAgaW5zdGFuY2VvZiBJbnRlZ2VyKSByZXR1cm4gW11cbiAgICBlbHNlIHN3aXRjaChleHAuY2xhc3MpIHtcbiAgICAgICAgY2FzZSBTdW1UeXBlOiByZXR1cm4gc3VtRXF1aXYoZXhwIGFzIFN1bSwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgIGNhc2UgUHJvZHVjdFR5cGU6IHJldHVybiBwcm9kdWN0RXF1aXYoZXhwIGFzIFByb2R1Y3QsIGRpcmVjdEVxdWl2YWxlbnRzKVxuICAgICAgICBjYXNlIEV4cG9uZW50VHlwZTogcmV0dXJuIGV4cG9uZW50RXF1aXYoZXhwIGFzIEV4cG9uZW50LCBkaXJlY3RFcXVpdmFsZW50cylcbiAgICAgICAgY2FzZSBGcmFjdGlvblR5cGU6IHJldHVybiBmcmFjdGlvbkVxdWl2KGV4cCBhcyBGcmFjdGlvbiwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgIGNhc2UgRGVyaXZhdGl2ZVR5cGU6IHJldHVybiBkZXJpdmF0aXZlRXF1aXYoZXhwIGFzIERlcml2YXRpdmUsIGRpcmVjdEVxdWl2YWxlbnRzKVxuICAgICAgICBjYXNlIExvZ1R5cGU6IHJldHVybiBsb2dhcml0aG1FcXVpdihleHAgYXMgTG9nYXJpdGhtLCBkaXJlY3RFcXVpdmFsZW50cylcbiAgICAgICAgY2FzZSBJbnRlZ3JhbFR5cGU6IHJldHVybiBpbnRlZ3JhbEVxdWl2KGV4cCBhcyBJbnRlZ3JhbCwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCBmb3IgXCIgKyBleHAuY2xhc3MpXG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgYWxsIGVxdWl2YWxlbnRzIG9mIHRoZSBnaXZlbiBleHByZXNzaW9uXG4gKiBieSBzd2FwcGluZyBvdXQgaXQncyBjaGlsZHJlbiBpbmRpdmlkdWFsbHkuXG4gKiBcbiAqIChhICsgYSkgKyAoYiArIGIpXG4gKiAtPiAoMmEpICsgKGIgKyBiKSB3aXRoIGluZmVyZW5jZSBhICsgYSA9IDJhXG4gKiBAcGFyYW0gZXhwIFxuICogQHJldHVybnMgQXJyYXkgb2YgaW5mZXJlbmNlcyB0byBlcXVpdmFsZW50IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBzdW1FcXVpdihleHA6IFN1bSwgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+KTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudFN1bXM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudFN1bXMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgLy8gRmluZCBlcXVpdmFsZW50cyBmb3IgZWFjaCB0ZXJtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHAudGVybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGVybSA9IGV4cC50ZXJtc1tpXVxuXG4gICAgICAgIC8vIFN1YnN0aXR1dGUgdGVybSBmb3IgZWFjaCBlcXVpdmFsZW50XG4gICAgICAgIGVxdWl2KHRlcm0sIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGEgPT4ge1xuICAgICAgICAgICAgZXF1aXZhbGVudFN1bXMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICAgICAgbjogZXhwLCBcbiAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsIFxuICAgICAgICAgICAgICAgIG4xOiBzd2FwKGV4cCwgaSwgYS5jbGFpbS5uMSBhcyBFeHByZXNzaW9uKX0sIGEuYXJndW1lbnQsIGEucnVsZUlkKSlcbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN3YXAoczogU3VtLCBpOiBudW1iZXIsIGU6IEV4cHJlc3Npb24pOiBTdW0ge1xuICAgICAgICBjb25zdCB0ZXJtcyA9IFsuLi5zLnRlcm1zXVxuICAgICAgICB0ZXJtc1tpXSA9IGVcbiAgICAgICAgcmV0dXJuIHN1bSguLi50ZXJtcylcbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRTdW1zXVxufVxuXG5mdW5jdGlvbiBwcm9kdWN0RXF1aXYoZXhwOiBQcm9kdWN0LCBkaXJlY3RFcXVpdmFsZW50czogKGU6IEV4cHJlc3Npb24pID0+IFNldDxBcmd1bWVudD4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50UHJvZHVjdHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudFByb2R1Y3RzLmFkZChpbmYpXG4gICAgfSlcblxuICAgIC8vIEZpbmQgZXF1aXZhbGVudHMgZm9yIGVhY2ggdGVybVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwLmZhY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmFjdG9yID0gZXhwLmZhY3RvcnNbaV1cblxuICAgICAgICAvLyBTdWJzdGl0dXRlIHRlcm0gZm9yIGVhY2ggZXF1aXZhbGVudFxuICAgICAgICBlcXVpdihmYWN0b3IsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgICAgICBlcXVpdmFsZW50UHJvZHVjdHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogc3dhcChleHAsIGksIGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uKSxcbiAgICAgICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3dhcChzOiBQcm9kdWN0LCBpOiBudW1iZXIsIGU6IEV4cHJlc3Npb24pOiBQcm9kdWN0IHtcbiAgICAgICAgY29uc3QgdGVybXMgPSBbLi4ucy5mYWN0b3JzXVxuICAgICAgICB0ZXJtc1tpXSA9IGVcbiAgICAgICAgcmV0dXJuIHByb2R1Y3QoLi4udGVybXMpXG4gICAgfVxuXG4gICAgcmV0dXJuIFsuLi5lcXVpdmFsZW50UHJvZHVjdHNdXG59XG5cbmZ1bmN0aW9uIGV4cG9uZW50RXF1aXYoZXhwOiBFeHBvbmVudCwgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+KTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgZXF1aXYoZXhwLmJhc2UsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLCBcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBFeHBvbmVudC5vZihhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiwgZXhwLnBvd2VyKX0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcbiAgICBlcXVpdihleHAucG93ZXIsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IEV4cG9uZW50Lm9mKGV4cC5iYXNlLCBhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiksXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcblxuICAgIHJldHVybiBbLi4uZXF1aXZhbGVudHNdXG59XG5cbmZ1bmN0aW9uIGZyYWN0aW9uRXF1aXYoZXhwOiBGcmFjdGlvbiwgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+KTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgZXF1aXYoZXhwLm51bWVyYXRvciwgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsIFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IEZyYWN0aW9uLm9mKGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uLCBleHAuZGVub21pbmF0b3IpfSwgYWx0LmFyZ3VtZW50LCBhbHQucnVsZUlkKSlcbiAgICB9KVxuICAgIGVxdWl2KGV4cC5kZW5vbWluYXRvciwgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YoZXhwLm51bWVyYXRvciwgYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24pLFxuICAgICAgICB9LCBhbHQuYXJndW1lbnQsIGFsdC5ydWxlSWQpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufVxuXG5mdW5jdGlvbiBkZXJpdmF0aXZlRXF1aXYoZXhwOiBEZXJpdmF0aXZlLCBkaXJlY3RFcXVpdmFsZW50czogKGU6IEV4cHJlc3Npb24pID0+IFNldDxBcmd1bWVudD4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50czogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuXG4gICAgLy8gQWRkIHRvcCBsZXZlbCBlcXVpdmFsZW50c1xuICAgIGRpcmVjdEVxdWl2YWxlbnRzKGV4cCkuZm9yRWFjaChpbmYgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoaW5mKVxuICAgIH0pXG5cbiAgICBlcXVpdihleHAuZXhwLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCwgXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRGVyaXZhdGl2ZS5vZihhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiwgZXhwLnJlbGF0aXZlVG8pXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcbiAgICBlcXVpdihleHAucmVsYXRpdmVUbywgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRGVyaXZhdGl2ZS5vZihleHAuZXhwLCBhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiksXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcblxuICAgIHJldHVybiBbLi4uZXF1aXZhbGVudHNdXG59XG5cbmZ1bmN0aW9uIGxvZ2FyaXRobUVxdWl2KGV4cDogTG9nYXJpdGhtLCBkaXJlY3RFcXVpdmFsZW50czogKGU6IEV4cHJlc3Npb24pID0+IFNldDxBcmd1bWVudD4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50czogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuXG4gICAgLy8gQWRkIHRvcCBsZXZlbCBlcXVpdmFsZW50c1xuICAgIGRpcmVjdEVxdWl2YWxlbnRzKGV4cCkuZm9yRWFjaChhcmcgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoYXJnKVxuICAgIH0pXG5cbiAgICBlcXVpdihleHAuZXhwLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCwgXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogTG9nYXJpdGhtLm9mKGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uLCBleHAuYmFzZSlcbiAgICAgICAgfSwgYWx0LmFyZ3VtZW50LCBhbHQucnVsZUlkKSlcbiAgICB9KVxuICAgIGVxdWl2KGV4cC5iYXNlLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBMb2dhcml0aG0ub2YoZXhwLmV4cCwgYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24pLFxuICAgICAgICB9LCBhbHQuYXJndW1lbnQsIGFsdC5ydWxlSWQpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufVxuXG5mdW5jdGlvbiBpbnRlZ3JhbEVxdWl2KGV4cDogSW50ZWdyYWwsIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50Pik6IEFyZ3VtZW50W10ge1xuICAgIGNvbnN0IGVxdWl2YWxlbnRzOiBTZXQ8QXJndW1lbnQ+ID0gbmV3IFNldCgpXG5cbiAgICAvLyBBZGQgdG9wIGxldmVsIGVxdWl2YWxlbnRzXG4gICAgZGlyZWN0RXF1aXZhbGVudHMoZXhwKS5mb3JFYWNoKGFyZyA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChhcmcpXG4gICAgfSlcblxuICAgIGVxdWl2KGV4cC5pbnRlZ3JhbmQsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLCBcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBJbnRlZ3JhbC5vZihhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiwgZXhwLnJlbGF0aXZlVG8pXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcbiAgICBlcXVpdihleHAucmVsYXRpdmVUbywgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogSW50ZWdyYWwub2YoZXhwLmludGVncmFuZCwgYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24pLFxuICAgICAgICB9LCBhbHQuYXJndW1lbnQsIGFsdC5ydWxlSWQpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufSIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBzdW1Pck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBBbnl0aGluZyBwbHVzIDAgaXMgYW55dGhpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIEFkZGl0aXZlSWRlbnRpdHkgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBTdW1cbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgdGVybXNXaXRob3V0WmVybyA9IChleHAgYXMgU3VtKS50ZXJtcy5maWx0ZXIodCA9PiAhKHQgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIHQudmFsdWUgPT0gMCkpXG4gICAgICAgIGlmICh0ZXJtc1dpdGhvdXRaZXJvLmxlbmd0aCA9PSAoZXhwIGFzIFN1bSkudGVybXMubGVuZ3RoKSByZXR1cm4gc2V0T2YoKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHN1bU9yTm90KC4uLnRlcm1zV2l0aG91dFplcm8pXG4gICAgICAgIH0sIFwiQWRkaXRpdmUgaWRlbnRpdHlcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJBZGRpdGl2ZSBJZGVudGl0eVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBbnl0aGluZ1RpbWVzWmVybyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGV4cCBhcyBQcm9kdWN0XG5cbiAgICAgICAgbGV0IGlzWmVybyA9IGZhbHNlXG4gICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIHByb2R1Y3QuZmFjdG9ycylcbiAgICAgICAgICAgIGlmIChmYWN0b3IgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIGZhY3Rvci52YWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlzWmVybyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1plcm8pIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogSW50ZWdlci5vZigwKVxuICAgICAgICB9LCBcIkFueXRoaW5nIHRpbWVzIHplcm8gaXMgemVyb1wiLCBSVUxFX0lEKSlcbiAgICB9XG4gICAgXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJBbnl0aGluZ1RpbWVzWmVyb1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IHByb2R1Y3QsIHN1bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBTdW0sIFN1bVR5cGUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBGbGF0dGVucyBwcm9kdWN0cyBpbiBwcm9kdWN0cyBhbmQgc3VtcyBpbiBzdW1zLlxuICogXG4gKiBPbmx5IHJldHVybnMgb25lIHNpbXBsaWZpY2F0aW9uIG9mIGFuIGlucHV0LiBcbiAqL1xuZXhwb3J0IGNsYXNzIEFzc29jaWF0aXZlUHJvcGVydHlPZlByb2R1Y3RzQW5kU3VtcyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFN1bSB8fCBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGlmIChleHAgaW5zdGFuY2VvZiBTdW0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rlcm1zID0gZXhwLnRlcm1zLm1hcDxFeHByZXNzaW9uW10+KHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0IGluc3RhbmNlb2YgU3VtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4udC50ZXJtc11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0XVxuICAgICAgICAgICAgfSkuZmxhdCgpXG5cbiAgICAgICAgICAgIGlmIChuZXdUZXJtcy5sZW5ndGggPT0gZXhwLnRlcm1zLmxlbmd0aCkgcmV0dXJuIG5ldyBTZXQ8QXJndW1lbnQ+KClcblxuICAgICAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogc3VtKC4uLm5ld1Rlcm1zKVxuICAgICAgICAgICAgfSwgXCJBc3NvY2lhdGl2ZSBwcm9wZXJ0eSBvZiBhZGRpdGlvblwiLCBSVUxFX0lEKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0ZhY3RvcnMgPSAoZXhwIGFzIFByb2R1Y3QpLmZhY3RvcnMubWFwPEV4cHJlc3Npb25bXT4odCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4udC5mYWN0b3JzXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW3RdXG4gICAgICAgICAgICB9KS5mbGF0KClcbiAgICAgICAgICAgIGlmIChuZXdGYWN0b3JzLmxlbmd0aCA9PSAoZXhwIGFzIFByb2R1Y3QpLmZhY3RvcnMubGVuZ3RoKSByZXR1cm4gbmV3IFNldDxBcmd1bWVudD4oKVxuXG4gICAgICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgIG4xOiBwcm9kdWN0KC4uLm5ld0ZhY3RvcnMpXG4gICAgICAgICAgICB9LCBcIkFzc29jaWF0aXZlIHByb3BlcnR5IG9mIG11bHRpcGxpY2F0aW9uXCIsICBSVUxFX0lEKSlcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQXNzb2NpYXRpdmUgUHJvcGVydHlcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBuZWdhdGl2ZSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcbmltcG9ydCB7IHByb2R1Y3QgYXMgcHJvZHVjdE9mIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuXG5cbi8qKlxuICogTWFrZXMgc3VyZSBhIHByb2R1Y3QgZG9lc24ndCBjb250YWluIGFueSBuZWdhdGlvbnMuXG4gKiBUaGUgcHJvZHVjdCBpcyBlaXRoZXIgYSBuZWdhdGlvbiBvciBub3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYW5jZWxOZWdhdGl2ZXMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBleHAgYXMgUHJvZHVjdFxuICAgICAgICBjb25zdCBuZWdhdGVkRmFjdG9yczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgY29uc3Qgb3RoZXJzOiBFeHByZXNzaW9uW10gPSBbXVxuXG4gICAgICAgIGZvciAoY29uc3QgZiBvZiBwcm9kdWN0LmZhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgUHJvZHVjdCAmJiBmLmlzTmVnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBuZWdhdGVkRmFjdG9ycy5wdXNoKGYubmVnYXRpb24pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG90aGVycy5wdXNoKGYpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc05lZ2F0aW9uID0gcHJvZHVjdC5pc05lZ2F0aW9uXG5cbiAgICAgICAgY29uc3QgbmVnYXRpb25zID0gbmVnYXRlZEZhY3RvcnMubGVuZ3RoICsgKGlzTmVnYXRpb24gPyAxIDogMClcblxuICAgICAgICBpZiAobmVnYXRpb25zIDwgMikgcmV0dXJuIHNldE9mKClcblxuICAgICAgICBjb25zdCByZXN1bHRJc05lZ2F0aXZlID0gbmVnYXRpb25zICUgMiA9PSAxXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2R1Y3RPZiguLi5uZWdhdGVkRmFjdG9ycywgLi4ub3RoZXJzKVxuICAgICAgICBjb25zdCBuZWdhdGVkUmVzdWx0ID0gcmVzdWx0SXNOZWdhdGl2ZSA/IG5lZ2F0aXZlKHJlc3VsdCkgOiByZXN1bHRcblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBuZWdhdGVkUmVzdWx0XG4gICAgICAgIH0sIFwiQ2FuY2VsIG5lZ2F0aXZlc1wiLCBSVUxFX0lEKSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJDYW5jZWwgTmVnYXRpdmVzXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbnVtLCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IGZhY3Rvck9yZGVyLCBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IG9yZGVyVGVybXMgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuXG5cbi8qKlxuICogQ29tYmluZXMgbGlrZSBmYWN0b3JzIGFuZCBleHBvbmVudHMgd2l0aCBsaWtlIGJhc2VzLlxuICovXG5leHBvcnQgY2xhc3MgQ29tYmluZUNvbW1vbkZhY3RvcnNNdWx0aXBsaWNhdGlvbiBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgICAgICYmICFleHAuaXNSZWR1Y2libGVcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGV4cCBhcyBQcm9kdWN0O1xuXG5cbiAgICAgICAgLy8gRmluZCBhbGwgdGhlIGJhc2VzL2ZhY3RvcnMgaW4gdGhlIHByb2R1Y3RcbiAgICAgICAgY29uc3QgYmFzZXMgPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcbiAgICAgICAgZm9yIChjb25zdCBmYWN0b3Igb2YgcHJvZHVjdC5mYWN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoZmFjdG9yIGluc3RhbmNlb2YgRXhwb25lbnQpIFxuICAgICAgICAgICAgICAgIGJhc2VzLmFkZChmYWN0b3IuYmFzZSlcbiAgICAgICAgICAgIGVsc2UgYmFzZXMuYWRkKGZhY3RvcilcbiAgICAgICAgfVxuXG5cbiAgICAgICAgY29uc3QgZXF1aXZhbGVudEV4cHJlc3Npb25zID0gbmV3IFNldDxQcm9kdWN0IHwgRXhwb25lbnQ+KCk7XG4gICAgICAgIC8vIEZvciBldmVyeSB1bmlxdWUgZmFjdG9yXG4gICAgICAgIGZvciAoY29uc3QgYmFzZSBvZiBiYXNlcykge1xuICAgICAgICAgICAgbGV0IHBvd2VyVGVybXM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdGYWN0b3JzOiBFeHByZXNzaW9uW10gPSBbXTtcbiAgICAgICAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgdGltZXMgaXQgb2NjdXJzIGluIHRoZSBwcm9kdWN0XG4gICAgICAgICAgICAvLyBDb2xsZWN0IHRoZSBvdGhlciBmYWN0b3JzIGluIGEgbGlzdFxuICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIHByb2R1Y3QuZmFjdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgRXhwb25lbnQgJiYgZi5iYXNlID09PSBiYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvd2VyVGVybXMucHVzaChmLnBvd2VyKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZiA9PT0gYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3dlclRlcm1zLnB1c2gobnVtKDEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdGYWN0b3JzLnB1c2goZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPcmRlciB0aGUgcG93ZXIgdGVybXMgY29ycmVjdGx5XG4gICAgICAgICAgICBwb3dlclRlcm1zID0gb3JkZXJUZXJtcyguLi5wb3dlclRlcm1zKVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgYmFzZSBvbmx5IG9jY3VyZWQgb25jZSwgbm90aGluZyB0byBzaW1wbGlmeVxuICAgICAgICAgICAgaWYgKHBvd2VyVGVybXMubGVuZ3RoID09IDEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgZXhwb25lbnQgdGhhdCBjb21iaW5lcyB0aGUgdGVybXNcbiAgICAgICAgICAgIGNvbnN0IGV4cG9uZW50ID0gRXhwb25lbnQub2YoYmFzZSwgc3VtKC4uLnBvd2VyVGVybXMpKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gb3RoZXIgZmFjdG9ycywgd2UncmUgZG9uZVxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0ZhY3RvcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBlcXVpdmFsZW50RXhwcmVzc2lvbnMuYWRkKGV4cG9uZW50KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbnNlcnQgdGhlIG5ldyBleHBvbmVudCBhdCB0aGUgY29ycmVjdCBwbGFjZSBpbiB0aGUgbmV3IHByb2R1Y3RcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluc2VydENvcnJlY3RseShhcnI6IEV4cHJlc3Npb25bXSwgZWw6IEV4cHJlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgICAgICAgICAvLyBQaWNrIGluZGV4XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFjdG9yT3JkZXIoZWwsIGFycltpXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGkgKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMCwgZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnNlcnRDb3JyZWN0bHkocmVtYWluaW5nRmFjdG9ycywgZXhwb25lbnQpXG4gICAgICAgICAgICBlcXVpdmFsZW50RXhwcmVzc2lvbnMuYWRkKFByb2R1Y3Qub2YocmVtYWluaW5nRmFjdG9ycykpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIGFyZ3VtZW50cyBmb3IgZWFjaCBlcXVpdmFsZW50IGV4cHJlc3Npb25cbiAgICAgICAgY29uc3QgYXJncyA9IG5ldyBTZXQ8QXJndW1lbnQ+KClcbiAgICAgICAgZXF1aXZhbGVudEV4cHJlc3Npb25zLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBhcmdzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YocHJvZHVjdCksIHtcbiAgICAgICAgICAgICAgICBuOiBwcm9kdWN0LFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogZSxcbiAgICAgICAgICAgIH0sIFwiQ29tYmluZSBjb21tb24gZmFjdG9ycyBtdWx0aXBsaWNhdGlvblwiLCBSVUxFX0lEKSlcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ0NGYWN0b3JzIE11bHRcIiIsImltcG9ydCB7IG5lZ2F0aXZlLCBudW0sIG9yZGVyZWRQcm9kdWN0LCBwcm9kdWN0LCBzdW1Pck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgQ29udmVyZ2VuY2VUYXJnZXQsIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgYWRkQWxsLCBoYXMsIHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IEludGVnZXJUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuXG4vKipcbiAqIGEgKyBhID0gMmFcbiAqIDJhIC0gYSA9IGEgICh0aGlzIG1lYW5zIHdlIGhhdmUgdG8gY2hlY2sgZm9yIG5lZ2F0aW9ucylcbiAqIFxuICogKGJjKWEgKyA3YSA9ICg3ICsgYmMpYVxuICogXG4gKiBCdXQgbm90IFxuICogMSArIDEgPSAyKDEpXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21iaW5lQ29tbW9uVGVybXNBZGRpdGlvbiBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuXG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtXG4gICAgICAgICAgICAmJiAhZXhwLmlzUmVkdWNpYmxlXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgc3VtID0gZXhwIGFzIFN1bTtcbiAgICAgICAgY29uc3QgYXJncyA9IG5ldyBTZXQ8QXJndW1lbnQ+KClcblxuICAgICAgICBjb25zdCB1bmlxdWVGYWN0b3JzID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG5cbiAgICAgICAgLy8gRmluZCBhbGwgdW5pcXVlIGZhY3RvcnMgaW4gYWxsIHRlcm1zXG4gICAgICAgIC8vIEFzc3VtZSBwcm9kdWN0cyBoYXZlIGJlZW4gZmxhdHRlbmVkIGFscmVhZHkgKGFzc29jaWF0aXZlIHByb3BlcnR5KVxuICAgICAgICBmb3IgKGNvbnN0IHRlcm0gb2Ygc3VtLnRlcm1zKSB7XG4gICAgICAgICAgICBpZiAodGVybSBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBhZGRBbGwodW5pcXVlRmFjdG9ycywgLi4udGVybS5mYWN0b3JzKSBcbiAgICAgICAgICAgICAgICAvL1RPRE86IENhcHR1cmUgYWxsIGNvbWJpbmF0aW9ucyBvZiBmYWN0b3JzXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBDYXB0dXJlIGludGVnZXIgZmFjdG9yc1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHVuaXF1ZUZhY3RvcnMuYWRkKHRlcm0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBhbiBhcmd1bWVudCBmb3IgcHVsbGluZyBvdXQgZWFjaCBmYWN0b3JcbiAgICAgICAgZm9yIChjb25zdCBmYWN0b3Igb2YgdW5pcXVlRmFjdG9ycykge1xuXG4gICAgICAgICAgICBpZiAoZmFjdG9yLmlzUmVkdWNpYmxlIHx8IGZhY3Rvci5jbGFzcyA9PT0gSW50ZWdlclR5cGUpIGNvbnRpbnVlXG5cbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggdGVybXMgY29udGFpbiBpdFxuICAgICAgICAgICAgY29uc3QgcmVsYXZlbnRUZXJtczogUHJvZHVjdFtdID0gW11cbiAgICAgICAgICAgIGNvbnN0IG90aGVyVGVybXM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRlcm0gb2Ygc3VtLnRlcm1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlcm0gaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXModGVybS5mYWN0b3JzLCBmYWN0b3IpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF2ZW50VGVybXMucHVzaCh0ZXJtKVxuICAgICAgICAgICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJUZXJtcy5wdXNoKHRlcm0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm0gPT09IGZhY3RvcikgXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdmVudFRlcm1zLnB1c2goUHJvZHVjdC5vZihbbnVtKDEpLCB0ZXJtXSkpXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICAgICAgICAgICAgICBvdGhlclRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZWxhdmVudFRlcm1zLmxlbmd0aCA8IDIpIGNvbnRpbnVlXG5cbiAgICAgICAgICAgIC8vIFB1bGwgaXQgb3V0IG9mIHRob3NlIHRlcm1zXG4gICAgICAgICAgICBjb25zdCBjb2VmZmljaWVudHM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRlcm0gb2YgcmVsYXZlbnRUZXJtcykge1xuICAgICAgICAgICAgICAgIGNvZWZmaWNpZW50cy5wdXNoKHRlcm0ud2l0aG91dChmYWN0b3IpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHVsbGVkID0gc3VtT3JOb3Qob3JkZXJlZFByb2R1Y3QoU3VtLm9mKGNvZWZmaWNpZW50cyksIGZhY3RvciksIC4uLm90aGVyVGVybXMpXG5cbiAgICAgICAgICAgIGFyZ3MuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogcHVsbGVkXG4gICAgICAgICAgICB9LCBcIkNvbWJpbmUgbGlrZSB0ZXJtc1wiLCBSVUxFX0lEKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmdzXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb252ZXJnZW5jZVR5cGUoKTogQ29udmVyZ2VuY2VUYXJnZXQge1xuICAgICAgICByZXR1cm4gQ29udmVyZ2VuY2VUYXJnZXQuRmFjdG9yZWRcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJDQ1Rlcm1zIEFkZFwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG51bSwgcHJvZHVjdE9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogUHJvZHVjdHMgd2l0aCBzZXZlcmFsIGludGVnZXIgdGVybXMgYXJlIHNpbXBsaWZpZWQgdG8gb25seSBpbmNsdWRlIDFcbiAqL1xuZXhwb3J0IGNsYXNzIENvbWJpbmVJbnRlZ2VyRmFjdG9ycyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgJiYgIWV4cC5pc05lZ2F0aW9uXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHAgPSBleHAgYXMgUHJvZHVjdFxuXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0ZhY3RvcnM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgIGxldCBjb2VmZmljaWVudCA9IDFcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIHAuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBJbnRlZ2VyKSB7XG4gICAgICAgICAgICAgICAgY29lZmZpY2llbnQgKj0gZi52YWx1ZVxuICAgICAgICAgICAgfSBlbHNlICBcbiAgICAgICAgICAgICAgICByZW1haW5pbmdGYWN0b3JzLnB1c2goZilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwLmZhY3RvcnMubGVuZ3RoIC0gcmVtYWluaW5nRmFjdG9ycy5sZW5ndGggPCAyKSByZXR1cm4gbmV3IFNldDxBcmd1bWVudD4oKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHByb2R1Y3RPck5vdChudW0oY29lZmZpY2llbnQpLCAuLi5yZW1haW5pbmdGYWN0b3JzKVxuICAgICAgICB9LCBcIk11bHRpcGx5IGludGVnZXIgdGVybXNcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJDb21iSW50RmFjdHNcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBwcm9kdWN0IGFzIHByb2R1Y3RPZiwgcHJvZHVjdEFuZE5vdFRpbWVzT25lLCByZW1vdmUgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi8uLi91dGlsL2Fzc2VydFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cblxuLyoqXG4gKiBTaW1wbGlmaWVzIHByb2R1Y3RzIGNvbnRhaW5pbmcgZnJhY3Rpb25zIGJ5IG1vdmluZyB0aGVcbiAqIHBhcnRzIG9mIHRoZSBwcm9kdWN0IGludG8gdGhlIG51bWVyYXRvciBvZiB0aGUgZmlyc3QgZnJhY3Rpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21iaW5lUHJvZHVjdHNBbmRGcmFjdGlvbnMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBleHAgYXMgUHJvZHVjdDtcbiAgICAgICAgLy8gQWxsIHByb2R1Y3RzIGhhdmUgYXQgbGVhc3QgMiBmYWN0b3JzXG5cbiAgICAgICAgY29uc3QgZmlyc3RGcmFjdGlvbjogRnJhY3Rpb24gfCB1bmRlZmluZWQgPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIEZyYWN0aW9uKVswXSBhcyBGcmFjdGlvblxuICAgICAgICBpZiAoZmlyc3RGcmFjdGlvbiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gc2V0T2YoKVxuICAgICAgICAvLyBBdCBsZWFzdCBvbmUgb2YgdGhvc2UgaXMgYSBmcmFjdGlvblxuXG4gICAgICAgIGNvbnN0IG5vbkZyYWN0aW9uRmFjdG9ycyA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoZiA9PiAhKGYgaW5zdGFuY2VvZiBGcmFjdGlvbikpXG4gICAgICAgIGlmIChub25GcmFjdGlvbkZhY3RvcnMubGVuZ3RoID09IDApIHJldHVybiBzZXRPZigpXG4gICAgICAgIC8vIEF0IGxlYXN0IG9uZSBvZiB0aG9zZSBpcyBub3QgYSBmcmFjdGlvblxuXG4gICAgICAgIGxldCByZXN1bHQ6IEV4cHJlc3Npb247XG4gICAgICAgIC8vIEZyYWN0aW9uIGFuZCBub24tZnJhY3Rpb24gZmFjdG9ycyBwYXJ0aXRpb24gdGhlIHNldCBvZiBmYWN0b3JzXG4gICAgICAgIGlmIChwcm9kdWN0LmZhY3RvcnMubGVuZ3RoIC0gbm9uRnJhY3Rpb25GYWN0b3JzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBleGFjdGx5IG9uZSBmcmFjdGlvbiBmYWN0b3JcbiAgICAgICAgICAgIC8vIEFsbCB0aGUgZmFjdG9ycyB3aWxsIGJlIGNvbWJpbmVkIGludG8gb25lIGZhY3RvclxuICAgICAgICAgICAgcmVzdWx0ID0gRnJhY3Rpb24ub2YoXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RPZihmaXJzdEZyYWN0aW9uLm51bWVyYXRvciwgLi4ubm9uRnJhY3Rpb25GYWN0b3JzKSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RGcmFjdGlvbi5kZW5vbWluYXRvclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBtdWx0aXBsZSBmcmFjdGlvbnNcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0ZyYWN0aW9uRmFjdG9ycyA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoZiA9PiBmIGluc3RhbmNlb2YgRnJhY3Rpb24pXG4gICAgICAgICAgICByZW1vdmUocmVtYWluaW5nRnJhY3Rpb25GYWN0b3JzLCBmaXJzdEZyYWN0aW9uKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhc3NlcnQocmVtYWluaW5nRnJhY3Rpb25GYWN0b3JzLmxlbmd0aCA+IDApXG5cbiAgICAgICAgICAgIHJlc3VsdCA9IHByb2R1Y3RPZihcbiAgICAgICAgICAgICAgICBGcmFjdGlvbi5vZihcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEFuZE5vdFRpbWVzT25lKGZpcnN0RnJhY3Rpb24ubnVtZXJhdG9yLCAuLi5ub25GcmFjdGlvbkZhY3RvcnMpLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdEZyYWN0aW9uLmRlbm9taW5hdG9yXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAuLi5yZW1haW5pbmdGcmFjdGlvbkZhY3RvcnNcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICB9LCBcIkNvbWJpbmUgcHJvZHVjdHMgaW50byBmcmFjdGlvblwiLCBSVUxFX0lEKSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlByb2Q9PkZyYWNcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBwcm9kdWN0T3JOb3QsIHByb2R1Y3QgYXMgcHJvZHVjdE9mLCByZW1vdmUsIHN1bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vLi4vdXRpbC9hc3NlcnRcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IENvbnZlcmdlbmNlVGFyZ2V0LCBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBEaXN0cmlidXRlcyBtdWx0aXBsaWNhdGlvbiBvdmVyIGFkZGl0aW9uLlxuICogXG4gKiBhKGIrYykgPSBhYiArIGFjXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXN0cmlidXRpdmVQcm9wZXJ0eSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3Q7XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBleHAgYXMgUHJvZHVjdDtcblxuICAgICAgICBjb25zdCBub25TdW1zID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihmID0+ICEoZiBpbnN0YW5jZW9mIFN1bSkpXG4gICAgICAgIGlmIChub25TdW1zLmxlbmd0aCA9PSAwKSByZXR1cm4gc2V0T2YoKVxuICAgICAgICAvLyBUaGVyZSBpcyBhdCBsZWFzdCBvbmUgbm9uLXN1bSBmYWN0b3JcblxuICAgICAgICBjb25zdCBmaXJzdFN1bSA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoZiA9PiBmIGluc3RhbmNlb2YgU3VtKVswXSBhcyBTdW1cbiAgICAgICAgaWYgKGZpcnN0U3VtID09IHVuZGVmaW5lZCkgcmV0dXJuIHNldE9mKClcbiAgICAgICAgLy8gVGhlcmUgaXMgYXQgbGVhc3Qgb25lIHN1bVxuXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1N1bXMgPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIFN1bSlcbiAgICAgICAgcmVtb3ZlKHJlbWFpbmluZ1N1bXMsIGZpcnN0U3VtKVxuXG4gICAgICAgIGNvbnN0IHRvRGlzdHJpYnV0ZSA9IHByb2R1Y3RPck5vdCguLi5ub25TdW1zKVxuXG4gICAgICAgIGNvbnN0IGRpc3RyaWJ1dGVkID0gc3VtKC4uLmZpcnN0U3VtLnRlcm1zLm1hcCh0ID0+IHByb2R1Y3RPZih0b0Rpc3RyaWJ1dGUsIHQpKSlcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9kdWN0T3JOb3QoXG4gICAgICAgICAgICBkaXN0cmlidXRlZCxcbiAgICAgICAgICAgIC4uLnJlbWFpbmluZ1N1bXNcbiAgICAgICAgKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICB9LCBgRGlzdHJpYnV0ZSAke3Byb2R1Y3RPck5vdCguLi5ub25TdW1zKS50b1VuYW1iaWdpb3VzU3RyaW5nKCl9YCwgUlVMRV9JRCkpXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb252ZXJnZW5jZVR5cGUoKTogQ29udmVyZ2VuY2VUYXJnZXQge1xuICAgICAgICByZXR1cm4gQ29udmVyZ2VuY2VUYXJnZXQuUG9seW5vbWlhbFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkRpc3RyaWJ1dGl2ZSBQcm9wZXJ0eVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IHJlbW92ZU5ldywgbnVtIGFzIG51bU9mLCBuZWdhdGl2ZSwgc3VtT3JOb3QsIHByb2R1Y3RPck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGhhcywgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBEaXZpZGVGcmFjdGlvbnMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBGcmFjdGlvblxuICAgICAgICAgICAgJiYgZXhwLm51bWVyYXRvciBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgICAgICYmIGV4cC5kZW5vbWluYXRvciBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZnJhYyA9IGV4cCBhcyBGcmFjdGlvblxuICAgICAgICBjb25zdCBudW0gPSBmcmFjLm51bWVyYXRvciBhcyBQcm9kdWN0XG4gICAgICAgIGNvbnN0IGRlbiA9IGZyYWMuZGVub21pbmF0b3IgYXMgUHJvZHVjdFxuXG4gICAgICAgIC8vIFRha2UgdGhlIGZhY3RvcnMgb2YgdGhlIG5lZ2F0aW9uIG9mIGFueSBuZWdhdGlvbnNcbiAgICAgICAgY29uc3QgbnVtRmFjdG9ycyA9IG51bS5pc05lZ2F0aW9uID8gXG4gICAgICAgICAgICBudW0ubmVnYXRpb24gaW5zdGFuY2VvZiBQcm9kdWN0ID9cbiAgICAgICAgICAgICAgICBudW0ubmVnYXRpb24uZmFjdG9ycyAvLyBHZXQgZmFjdG9ycyBpZiB0aGUgbmVnYXRpb24gaXMgYSBwcm9kdWN0XG4gICAgICAgICAgICAgICAgOiBbbnVtLm5lZ2F0aW9uXSAgLy8gSWYgbmVnYXRpb24gaXNuJ3QgYSBwcm9kdWN0LCByZXR1cm4gdGhlIG5lZ2F0aW9uIGFzIGEgbGlzdCBvZiAxXG4gICAgICAgICAgICAgICAgOiBudW0uZmFjdG9ycyAgIC8vIElmIG5vdCBhIG5lZ2F0aW9uLCByZXR1cm4gdGhlIGZhY3RvcnNcbiAgICAgICAgY29uc3QgZGVuRmFjdG9ycyA9ICFkZW4uaXNOZWdhdGlvbiA/IGRlbi5mYWN0b3JzXG4gICAgICAgICAgICAgICAgOiBkZW4ubmVnYXRpb24gaW5zdGFuY2VvZiBQcm9kdWN0ID9cbiAgICAgICAgICAgICAgICAgICAgZGVuLm5lZ2F0aW9uLmZhY3RvcnNcbiAgICAgICAgICAgICAgICAgICAgOiBbZGVuLm5lZ2F0aW9uXVxuXG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSByZXBlYXRzLCBnaXZlIHVwXG4gICAgICAgIGlmIChuZXcgU2V0KG51bUZhY3RvcnMpLnNpemUgPCBudW1GYWN0b3JzLmxlbmd0aCkgcmV0dXJuIHNldE9mKClcbiAgICAgICAgaWYgKG5ldyBTZXQoZGVuRmFjdG9ycykuc2l6ZSA8IGRlbkZhY3RvcnMubGVuZ3RoKSByZXR1cm4gc2V0T2YoKVxuXG4gICAgICAgIC8vIFRyZWF0IGV2ZXJ5IGZhY3RvciBhcyBhbiBleHBvbmVudFxuICAgICAgICBjb25zdCBudW1FeHBvbmVudHMgPSBudW1GYWN0b3JzLm1hcDxFeHBvbmVudD4oZiA9PiB7XG4gICAgICAgICAgICBpZiAoZiBpbnN0YW5jZW9mIEV4cG9uZW50KSByZXR1cm4gZlxuICAgICAgICAgICAgZWxzZSByZXR1cm4gRXhwb25lbnQub2YoZiwgbnVtT2YoMSkpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGRlbkV4cG9uZW50cyA9IGRlbkZhY3RvcnMubWFwPEV4cG9uZW50PihmID0+IHtcbiAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgRXhwb25lbnQpIHJldHVybiBmXG4gICAgICAgICAgICBlbHNlIHJldHVybiBFeHBvbmVudC5vZihmLCBudW1PZigxKSlcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBGb3IgZWFjaCBkZW4gZXhwb25lbnQgYmFzZSwgY3JlYXRlIGFuIG92ZXJhbGwgc3VtIG9mIHRoZSBwb3dlcnNcbiAgICAgICAgY29uc3QgbnVtRXhwb25lbnRQb3dlcnMgPSBuZXcgTWFwPEV4cHJlc3Npb24sIEV4cHJlc3Npb25bXT4oKVxuICAgICAgICBudW1FeHBvbmVudHMuZm9yRWFjaChleHBvbmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoIW51bUV4cG9uZW50UG93ZXJzLmhhcyhleHBvbmVudC5iYXNlKSlcbiAgICAgICAgICAgICAgICBudW1FeHBvbmVudFBvd2Vycy5zZXQoZXhwb25lbnQuYmFzZSwgW10pXG4gICAgICAgICAgICBudW1FeHBvbmVudFBvd2Vycy5nZXQoZXhwb25lbnQuYmFzZSkhLnB1c2goZXhwb25lbnQucG93ZXIpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IGRlbkV4cG9uZW50UG93ZXJzID0gbmV3IE1hcDxFeHByZXNzaW9uLCBFeHByZXNzaW9uW10+KClcbiAgICAgICAgZGVuRXhwb25lbnRzLmZvckVhY2goZXhwb25lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKCFkZW5FeHBvbmVudFBvd2Vycy5oYXMoZXhwb25lbnQuYmFzZSkpXG4gICAgICAgICAgICAgICAgZGVuRXhwb25lbnRQb3dlcnMuc2V0KGV4cG9uZW50LmJhc2UsIFtdKVxuICAgICAgICAgICAgZGVuRXhwb25lbnRQb3dlcnMuZ2V0KGV4cG9uZW50LmJhc2UpIS5wdXNoKGV4cG9uZW50LnBvd2VyKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEFueSBiYXNlIHdoaWNoIGlzIGluIHRoZSBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yXG4gICAgICAgIC8vIHdpbGwgb25seSBiZSBpbiB0aGUgbnVtZXJhdG9yXG4gICAgICAgIGNvbnN0IG5ld051bUV4cG9uZW50UG93ZXJzID0gbmV3IE1hcDxFeHByZXNzaW9uLCBFeHByZXNzaW9uW10+KG51bUV4cG9uZW50UG93ZXJzKVxuICAgICAgICBjb25zdCBuZXdEZW5FeHBvbmVudFBvd2VycyA9IG5ldyBNYXA8RXhwcmVzc2lvbiwgRXhwcmVzc2lvbltdPihkZW5FeHBvbmVudFBvd2VycylcbiAgICAgICAgZGVuRXhwb25lbnRQb3dlcnMuZm9yRWFjaCgocG93ZXJzLCBiYXNlKSA9PiB7XG4gICAgICAgICAgICBpZiAobnVtRXhwb25lbnRQb3dlcnMuaGFzKGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgbmV3TnVtRXhwb25lbnRQb3dlcnMuZ2V0KGJhc2UpIS5wdXNoKG5lZ2F0aXZlKHN1bU9yTm90KC4uLnBvd2VycykpKVxuICAgICAgICAgICAgICAgIG5ld0RlbkV4cG9uZW50UG93ZXJzLmRlbGV0ZShiYXNlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEdldCB0aGUgbmV3IGZhY3RvcnMgZm9yIHRoZSBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yXG4gICAgICAgIGNvbnN0IG5ld051bUV4cG9uZW50czogRXhwb25lbnRbXSA9IFtdXG4gICAgICAgIG5ld051bUV4cG9uZW50UG93ZXJzLmZvckVhY2goKHBvd2VycywgYmFzZSkgPT4ge1xuICAgICAgICAgICAgbmV3TnVtRXhwb25lbnRzLnB1c2goRXhwb25lbnQub2YoYmFzZSwgc3VtT3JOb3QoLi4ucG93ZXJzKSkpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IG5ld0RlbkV4cG9uZW50czogRXhwb25lbnRbXSA9IFtdXG4gICAgICAgIG5ld0RlbkV4cG9uZW50UG93ZXJzLmZvckVhY2goKHBvd2VycywgYmFzZSkgPT4ge1xuICAgICAgICAgICAgbmV3RGVuRXhwb25lbnRzLnB1c2goRXhwb25lbnQub2YoYmFzZSwgc3VtT3JOb3QoLi4ucG93ZXJzKSkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgdG9wID0gcHJvZHVjdE9yTm90KC4uLm5ld051bUV4cG9uZW50cylcbiAgICAgICAgY29uc3QgYm90dG9tID0gbmV3RGVuRXhwb25lbnRzLmxlbmd0aCAhPSAwID8gcHJvZHVjdE9yTm90KC4uLm5ld0RlbkV4cG9uZW50cykgOiBudW1PZigxKVxuXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZSBuZWdhdGlvbnMgcmVtb3ZlZCBlYXJsaWVyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEZyYWN0aW9uLm9mKFxuICAgICAgICAgICAgbnVtLmlzTmVnYXRpb24gPyBuZWdhdGl2ZSh0b3ApIDogdG9wLFxuICAgICAgICAgICAgZGVuLmlzTmVnYXRpb24gPyBuZWdhdGl2ZShib3R0b20pIDogYm90dG9tXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiByZXN1bHRcbiAgICAgICAgfSwgXCJDYW5jZWwgb3V0IGZyYWN0aW9uc1wiLCBSVUxFX0lEKSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkNhbmNlbCBvdXQgZnJhY3Rpb25zXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbnVtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBBbnl0aGluZyBkaXZpZGVkIGJ5IDEgaXMgdGhlIG51bWVyYXRvclxuICovXG5leHBvcnQgY2xhc3MgRGl2aXNpb25JZGVudGl0eSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIEZyYWN0aW9uXG4gICAgICAgICAgICAmJiBleHAuZGVub21pbmF0b3IgaW5zdGFuY2VvZiBJbnRlZ2VyXG4gICAgICAgICAgICAmJiBleHAuZGVub21pbmF0b3IudmFsdWUgPT0gMVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBmcmFjID0gZXhwIGFzIEZyYWN0aW9uXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZnJhYyksIHtcbiAgICAgICAgICAgIG46IGZyYWMsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogZnJhYy5udW1lcmF0b3IsXG4gICAgICAgIH0sIFwiRGl2aXNpb24gaWRlbnRpdHkgaXMgMVwiLCBSVUxFX0lEKSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkRpdmlzaW9uIElkZW50aXR5XCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbmVnYXRpdmUsIHByb2R1Y3QsIHN1bU9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cblxuLyoqXG4gKiBDb21iaW5lIGFueSBpbnRlZ2VyIHRlcm1zIGluIFN1bXMuXG4gKiBhICsgMiArIDIgKyAyPSBhICsgNFxuICogMiAtIDIgPSAwXG4gKiBcbiAqIENvbWJpbmVzIGFsbCBvZiB0aGVtIGF0IG9uY2Ugbm8gbWF0dGVyIGhvdyBtYW55IHRlcm1zIHRoZXJlIGFyZS5cbiAqIFxuICovXG5leHBvcnQgY2xhc3MgRXZhbHVhdGVTdW1zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHN1bSA9IGV4cCBhcyBTdW1cbiAgICAgICAgY29uc3QgaW50ZWdlclRlcm1zID0gWy4uLnN1bS50ZXJtc10uZmlsdGVyKHQgPT4gdCBpbnN0YW5jZW9mIEludGVnZXIgfHwgKHQgaW5zdGFuY2VvZiBQcm9kdWN0ICYmIHQuaXNOZWdhdGlvbiAmJiB0Lm5lZ2F0aW9uIGluc3RhbmNlb2YgSW50ZWdlcikpXG4gICAgICAgIGlmIChpbnRlZ2VyVGVybXMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuIHNldE9mKClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdJbnQgPSBJbnRlZ2VyLm9mKGludGVnZXJUZXJtcy5tYXA8bnVtYmVyPihlID0+IHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgSW50ZWdlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLnZhbHVlXG4gICAgICAgICAgICB9IHJldHVybiAtKChlIGFzIFByb2R1Y3QpLm5lZ2F0aW9uIGFzIEludGVnZXIpLnZhbHVlXG4gICAgICAgIH0pLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpKVxuICAgICAgICBjb25zdCBvdGhlclRlcm1zID0gWy4uLnN1bS50ZXJtc10uZmlsdGVyKHQgPT4gISh0IGluc3RhbmNlb2YgSW50ZWdlcikgJiYgISh0IGluc3RhbmNlb2YgUHJvZHVjdCAmJiB0LmlzTmVnYXRpb24gJiYgdC5uZWdhdGlvbiBpbnN0YW5jZW9mIEludGVnZXIpKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2Yoc3VtKSwge1xuICAgICAgICAgICAgbjogc3VtLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHN1bU9yTm90KC4uLm90aGVyVGVybXMsIG5ld0ludClcbiAgICAgICAgfSwgXCJFdmFsdWF0ZWQgQWRkaXRpb25cIiwgUlVMRV9JRCkpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRXZhbCBBZGRpdGlvblwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG51bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBFeHBvbmVudFRvWmVybyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIEV4cG9uZW50XG4gICAgICAgICAgICAmJiBleHAucG93ZXIgaW5zdGFuY2VvZiBJbnRlZ2VyXG4gICAgICAgICAgICAmJiBleHAucG93ZXIudmFsdWUgPT0gMFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBudW0oMSlcbiAgICAgICAgfSwgXCJBbnl0aGluZyB0byB6ZXJvIGlzIHplcm9cIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJQb3cgb2YgWmVyb1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogQW55dGhpbmcgdG8gdGhlIGZpcnN0IGlzIGp1c3QgdGhhdCB0aGluZy5cbiAqIFR1cm5zIGFueSBleHBvbmVudCB3aXRoIGEgcG93ZXIgb2YgMSB0byB0aGF0IHRoaW5nLlxuICovXG5leHBvcnQgY2xhc3MgRXhwb25lbnRpYWxJZGVudGl0eSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIEV4cG9uZW50XG4gICAgICAgICAgICAmJiBleHAucG93ZXIgaW5zdGFuY2VvZiBJbnRlZ2VyXG4gICAgICAgICAgICAmJiBleHAucG93ZXIudmFsdWUgPT0gMVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBlID0gZXhwIGFzIEV4cG9uZW50XG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZSksIHtcbiAgICAgICAgICAgIG46IGUsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogZS5iYXNlLFxuICAgICAgICB9LCBcIkV4cG9uZW50aWFsIElkZW50aXR5IGlzIDFcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJFeHBvbmVudGlhbCBJZGVudGl0eVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBwcm9kdWN0IGFzIHByb2R1Y3RPZiwgcHJvZHVjdE9yTm90LCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBDb252ZXJnZW5jZVRhcmdldCwgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5cbi8qKlxuICogKGEgKyBiKShjICsgZCkgPSBhYyArIGFkICsgYmMgKyBiZFxuICovXG5leHBvcnQgY2xhc3MgRk9JTCBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGV4cCBhcyBQcm9kdWN0O1xuXG4gICAgICAgIGNvbnN0IHN1bXMgPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIFN1bSlcbiAgICAgICAgaWYgKHN1bXMubGVuZ3RoIDwgMikgcmV0dXJuIHNldE9mKClcblxuICAgICAgICBjb25zdCBub25TdW1zID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihmID0+ICEoZiBpbnN0YW5jZW9mIFN1bSkpXG5cbiAgICAgICAgY29uc3QgZmlyc3QgPSBzdW1zWzBdIGFzIFN1bVxuICAgICAgICBjb25zdCBzZWNvbmQgPSBzdW1zWzFdIGFzIFN1bVxuXG4gICAgICAgIGNvbnN0IGZvaWxlZCA9IGZpcnN0LnRlcm1zLm1hcCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRlcm1zOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCB0MSBvZiBzZWNvbmQudGVybXMpIHtcbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHByb2R1Y3RPZih0LCB0MSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGVybXNcbiAgICAgICAgfSkuZmxhdCgpXG5cbiAgICAgICAgc3Vtcy5zcGxpY2UoMCwgMilcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHJvZHVjdE9yTm90KC4uLm5vblN1bXMsIHN1bSguLi5mb2lsZWQpLCAuLi5zdW1zKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogcmVzdWx0XG4gICAgICAgIH0sIFwiRm9pbCB0aGF0IHNoaXRcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb252ZXJnZW5jZVR5cGUoKTogQ29udmVyZ2VuY2VUYXJnZXQge1xuICAgICAgICByZXR1cm4gQ29udmVyZ2VuY2VUYXJnZXQuUG9seW5vbWlhbFxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRk9JTFwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG51bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBMb2dhcml0aG0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvTG9nYXJpdGhtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuXG5leHBvcnQgY2xhc3MgTG9nT2ZPbmUgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBMb2dhcml0aG1cbiAgICAgICAgICAgICYmIGV4cC5leHAgaW5zdGFuY2VvZiBJbnRlZ2VyXG4gICAgICAgICAgICAmJiBleHAuZXhwLnZhbHVlID09PSAxXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IG51bSgwKVxuICAgICAgICB9LCBcIkxvZyBpbiBhbnkgYmFzZSBvZiAxIGlzIDBcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJMb2cgb2YgMVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG51bSwgcHJvZHVjdE9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogMXggPSB4XG4gKiAxKjF4ID0gMVxuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwbGljYXRpdmVJZGVudGl0eSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgICAgICYmIG5ldyBTZXQoZXhwLmZhY3RvcnMpLmhhcyhudW0oMSkpXG4gICAgICAgICAgICAmJiAhZXhwLmlzTmVnYXRpb25cbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcCA9IGV4cCBhcyBQcm9kdWN0XG4gICAgICAgIGNvbnN0IG5ld0ZhY3RvcnM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIHAuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGZhY3RvciBpbnN0YW5jZW9mIEludGVnZXIgJiYgZmFjdG9yLnZhbHVlID09IDEpIGNvbnRpbnVlXG4gICAgICAgICAgICBuZXdGYWN0b3JzLnB1c2goZmFjdG9yKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0ZhY3RvcnMubGVuZ3RoID09IDApIG5ld0ZhY3RvcnMucHVzaChudW0oMSkpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogcHJvZHVjdE9yTm90KC4uLm5ld0ZhY3RvcnMpXG4gICAgICAgIH0sIFwiTXVsdGlwbGljYXRpdmUgSWRlbnRpdHlcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJNdWx0IElkZW50aXR5XCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgcHJvZHVjdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5leHBvcnQgY2xhc3MgTXVsdGlwbHlFeHBvbmVudFBvd2VycyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIEV4cG9uZW50XG4gICAgICAgICAgICAmJiBleHAuYmFzZSBpbnN0YW5jZW9mIEV4cG9uZW50XG5cbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgb3V0ZXIgPSBleHAgYXMgRXhwb25lbnRcbiAgICAgICAgY29uc3QgaW5uZXIgPSBvdXRlci5iYXNlIGFzIEV4cG9uZW50XG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRXhwb25lbnQub2YoaW5uZXIuYmFzZSwgcHJvZHVjdChpbm5lci5wb3dlciwgb3V0ZXIucG93ZXIpKVxuICAgICAgICB9LCBcIkV4cG9uZW50cyB0byBleHBvbmVudHMgbXVsdGlwbHlcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJFeHAgdG8gZXhwXCIiLCJcbmltcG9ydCB7IFByb2R1Y3QsIFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuaW1wb3J0IHsgRnJhY3Rpb24sIEZyYWN0aW9uVHlwZSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBwcm9kdWN0T3JOb3QsIHByb2R1Y3RPck9uZSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5cblxuZXhwb3J0IGNsYXNzIE11bHRpcGx5RnJhY3Rpb25zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwLmNsYXNzID09PSBQcm9kdWN0VHlwZTtcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcCA9IGV4cCBhcyBQcm9kdWN0O1xuXG4gICAgICAgIGNvbnN0IG51bSA9IHByb2R1Y3RPck5vdCguLi5wLmZhY3RvcnMubWFwKGYgPT4gIHtcbiAgICAgICAgICAgIGlmIChmLmNsYXNzID09PSBGcmFjdGlvblR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGYgYXMgRnJhY3Rpb24pLm51bWVyYXRvclxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZlxuICAgICAgICAgICAgfVxuICAgICAgICB9KSlcblxuICAgICAgICBjb25zdCBkZW4gPSBwcm9kdWN0T3JPbmUoLi4ucC5mYWN0b3JzLmZpbHRlcihmID0+IHtcbiAgICAgICAgICAgIHJldHVybiBmLmNsYXNzID09PSBGcmFjdGlvblR5cGVcbiAgICAgICAgfSkubWFwKGYgPT4gKGYgYXMgRnJhY3Rpb24pLmRlbm9taW5hdG9yKSlcblxuICAgICAgICBpZiAoZGVuIGluc3RhbmNlb2YgSW50ZWdlciAmJiBkZW4udmFsdWUgPT0gMSkgcmV0dXJuIHNldE9mKClcblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBGcmFjdGlvbi5vZihudW0sIGRlbilcbiAgICAgICAgfSwgXCJNdWx0aXBseSB0aGUgZnJhY3Rpb25zIHRvIGNvbWJpbmUgdGhlbVwiLCBSVUxFX0lEKSlcblxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiTXVsdGlwbHkgRnJhY3Rpb25zXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgcHJvZHVjdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgZmFjdG9yT3JkZXIsIFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogUmVvcmRlcnMgZmFjdG9ycyB0byBmb2xsb3cgY29udmVudGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE9yZGVyUHJvZHVjdHMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHAgPSBleHAgYXMgUHJvZHVjdFxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2R1Y3QoLi4uWy4uLnAuZmFjdG9yc10uc29ydChmYWN0b3JPcmRlcikpXG4gICAgICAgIGlmIChyZXN1bHQgPT09IHApIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogcmVzdWx0XG4gICAgICAgIH0sIFwiUmVvcmRlciBwcm9kdWN0IGZhY3RvcnMgdG8gbWF0Y2ggbWF0aCBjb252ZW50aW9uXCIsIFJVTEVfSUQpKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIk9yZGVyIHByb2R1Y3RzXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBvcmRlcmVkU3VtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgU3VtLCBTdW1UeXBlIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuLyoqXG4gKiBUdXJucyBzdW1zIHRoYXQgYXJlIHVuaGVhbHRoeSBiZWNhdXNlIHRoZWlyIHRlcm0gb3JkZXJcbiAqIGlzIHdyb25nIGludG8gY29ycmVjdGx5IG9yZGVyZWQgc3Vtcy5cbiAqL1xuIGV4cG9ydCBjbGFzcyBPcmRlclN1bXMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcblxuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFN1bSAmJiBvcmRlcmVkU3VtKGV4cCkgIT09IGV4cFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICByZXR1cm4gbmV3IFNldDxBcmd1bWVudD4oW25ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogb3JkZXJlZFN1bShleHAgYXMgU3VtKSxcbiAgICAgICAgfSwgXCJSZW9yZGVyZWRcIiwgUlVMRV9JRCldKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIk9yZGVyIFN1bXNcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBudW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGhhcywgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBSZW1vdmVDb21tb25GYWN0b3JzRnJvbVRvcEFuZEJvdHRvbU9mRnJhY3Rpb24gZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBGcmFjdGlvblxuICAgICAgICAgICAgJiYgIShleHAubnVtZXJhdG9yIGluc3RhbmNlb2YgUHJvZHVjdCAmJiBleHAubnVtZXJhdG9yLmlzTmVnYXRpb24pXG4gICAgICAgICAgICAmJiAhKGV4cC5kZW5vbWluYXRvciBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgZXhwLmRlbm9taW5hdG9yLmlzTmVnYXRpb24pXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGZyYWMgPSBleHAgYXMgRnJhY3Rpb25cbiAgICAgICAgY29uc3QgdG9wID0gZnJhYy5udW1lcmF0b3JcbiAgICAgICAgY29uc3QgYm90dG9tID0gZnJhYy5kZW5vbWluYXRvclxuXG4gICAgICAgIGNvbnN0IGFsbEZhY3RvcnMgPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcbiAgICAgICAgaWYgKHRvcCBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgIHRvcC5mYWN0b3JzLmZvckVhY2goZiA9PiBhbGxGYWN0b3JzLmFkZChmKSlcbiAgICAgICAgfSBlbHNlIGFsbEZhY3RvcnMuYWRkKHRvcClcbiAgICAgICAgaWYgKGJvdHRvbSBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgIGJvdHRvbS5mYWN0b3JzLmZvckVhY2goZiA9PiBhbGxGYWN0b3JzLmFkZChmKSlcbiAgICAgICAgfSBlbHNlIGFsbEZhY3RvcnMuYWRkKGJvdHRvbSlcblxuICAgICAgICAvLyBGaW5kIGZhY3RvcnMgdGhhdCBhcmUgaW4gYm90aCB0b3AgYW5kIGJvdHRvbVxuICAgICAgICBjb25zdCBpbkJvdGggPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcbiAgICAgICAgYWxsRmFjdG9ycy5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICh0b3AgaW5zdGFuY2VvZiBQcm9kdWN0ID8gaGFzKHRvcC5mYWN0b3JzLCBmKSA6IHRvcCA9PT0gZilcbiAgICAgICAgICAgICAgICAmJiAoYm90dG9tIGluc3RhbmNlb2YgUHJvZHVjdCA/IGhhcyhib3R0b20uZmFjdG9ycywgZikgOiBib3R0b20gPT09IGYpXG4gICAgICAgICAgICApIGluQm90aC5hZGQoZikgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGluQm90aC5zaXplID09IDApIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgLy8gUmV0dXJuIG5ldyBmcmFjdGlvbiB3aXRob3V0IHRob3NlXG4gICAgICAgIGxldCBuZXdUb3A6IEV4cHJlc3Npb24gPSB0b3BcbiAgICAgICAgaW5Cb3RoLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICBpZiAobmV3VG9wIGluc3RhbmNlb2YgUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIG5ld1RvcCA9IG5ld1RvcC53aXRob3V0KGYpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1RvcCA9IG51bSgxKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSBcblxuICAgICAgICBsZXQgbmV3Qm90dG9tOiBFeHByZXNzaW9uID0gYm90dG9tXG4gICAgICAgIGluQm90aC5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgaWYgKG5ld0JvdHRvbSBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBuZXdCb3R0b20gPSBuZXdCb3R0b20ud2l0aG91dChmKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdCb3R0b20gPSBudW0oMSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihmcmFjKSwge1xuICAgICAgICAgICAgbjogZnJhYyxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBGcmFjdGlvbi5vZihuZXdUb3AsIG5ld0JvdHRvbSksXG4gICAgICAgIH0sIFwiRGl2aWRlIHRvcCBhbmQgYm90dG9tIGJ5IHNhbWUgdGhpbmdcIiwgUlVMRV9JRCkpXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRGl2IHRvcCBhbmQgYm90dG9tIGJ5IHNhbWUgdGhpbmdcIiIsImltcG9ydCBjb21tb24gZnJvbSBcIm1vY2hhL2xpYi9pbnRlcmZhY2VzL2NvbW1vblwiO1xuaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IGYsIG5lZ2F0aXZlLCBudW0sIHByb2R1Y3RPck5vdCwgc3VtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwb25lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRnJhY3Rpb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgaGFzLCBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBJbiBhbGwgY2FzZXMsIGFueSBjb21iaW5lZCBleHBvbmVudCBmYWN0b3JzIHdpbGxcbiAqIGJlIHB1dCBpbiB0aGUgbnVtZXJhdG9yLiBJdCdzIGhhcmQgdG8ga25vdyBpZiB0aGV5XG4gKiB3aWxsIGV2YWx1YXRlIHRvIGJlIG5lZ2F0aXZlIG9yIG5vdCwgc28gd2UnbGwgcHV0IFxuICogdGhlbSBhbGwgaW4gdGhlIG51bWVyYXRvciBhbmQgZGVhbCB3aXRoIHRoYXQgbGF0ZXIuXG4gKiBUT0RPOiBNYXliZSB3ZSBjb3VsZCBpdGVyYXRlIG92ZXIgdGhlIGdyYXBoIGFmdGVyIGl0J3MgXG4gKiAgICAgIGRvbmUgdG8gZ28gYmFjayBhbmQgZml4IHRoaXM/IE1heWJlIGl0J3Mgd29ydGggdGhlIDJebiBcbiAqICAgICAgYWRkZWQgY29tcGxleGl0eSB0byBjcmVhdGUgbm9kZXMgZm9yIGV2ZXJ5IHBvc3NpYmxlIHBsYWNlbWVudFxuICogICAgICB0aGVuIGp1c3QgcGF0aGZpbmQgdGhlIGVhc2llc3Q/XG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJ0cmFjdEV4cG9uZW50c09uRnJhY3Rpb25zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRnJhY3Rpb25cbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZnJhYyA9IGV4cCBhcyBGcmFjdGlvblxuICAgICAgICBjb25zdCB0b3AgPSBmcmFjLm51bWVyYXRvciBpbnN0YW5jZW9mIFByb2R1Y3QgPyBmcmFjLm51bWVyYXRvci5mYWN0b3JzIDogW2ZyYWMubnVtZXJhdG9yXVxuICAgICAgICBjb25zdCBib3R0b20gPSBmcmFjLmRlbm9taW5hdG9yIGluc3RhbmNlb2YgUHJvZHVjdCA/IGZyYWMuZGVub21pbmF0b3IuZmFjdG9ycyA6IFtmcmFjLmRlbm9taW5hdG9yXVxuXG4gICAgICAgIC8vIFRyZWF0IGV2ZXJ5IGZhY3RvciBvZiB0b3AgYW5kIGJvdHRvbSBhcyBhbiBleHBvbmVudFxuICAgICAgICBmdW5jdGlvbiBhc0V4cG9uZW50KGY6IEV4cHJlc3Npb24pOiBFeHBvbmVudCB7XG4gICAgICAgICAgICBpZiAoZiBpbnN0YW5jZW9mIEV4cG9uZW50KSByZXR1cm4gZlxuICAgICAgICAgICAgZWxzZSByZXR1cm4gRXhwb25lbnQub2YoZiwgbnVtKDEpKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvcEV4cG9uZW50cyA9IHRvcC5tYXA8RXhwb25lbnQ+KGFzRXhwb25lbnQpXG4gICAgICAgIGNvbnN0IGJvdHRvbUV4cG9uZW50cyA9IGJvdHRvbS5tYXA8RXhwb25lbnQ+KGFzRXhwb25lbnQpXG5cblxuICAgICAgICAvLyBGaW5kIHdoYXQgYmFzZXMgYXJlIGNvbW1vblxuICAgICAgICBjb25zdCBjb21tb25CYXNlcyA9IG5ldyBTZXQ8RXhwcmVzc2lvbj4oKVxuICAgICAgICB0b3BFeHBvbmVudHMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGlmIChoYXMoYm90dG9tRXhwb25lbnRzLm1hcDxFeHByZXNzaW9uPihlID0+IGUuYmFzZSksIGUuYmFzZSkpIGNvbW1vbkJhc2VzLmFkZChlLmJhc2UpXG4gICAgICAgIH0pXG4gICAgICAgIGJvdHRvbUV4cG9uZW50cy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKGhhcyh0b3BFeHBvbmVudHMubWFwPEV4cHJlc3Npb24+KGUgPT4gZS5iYXNlKSwgZS5iYXNlKSkgY29tbW9uQmFzZXMuYWRkKGUuYmFzZSlcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoY29tbW9uQmFzZXMuc2l6ZSA9PSAwKSByZXR1cm4gc2V0T2YoKVxuXG4gICAgICAgIFxuICAgICAgICAvLyBTZXBhcmF0ZSBmYWN0b3JzIHdoaWNoIHdvbid0IGJlIGVmZmVjdGVkXG4gICAgICAgIGNvbnN0IHVuZWZmZWN0ZWRUb3BGYWN0b3JzID0gdG9wLmZpbHRlciggZiA9PiB7XG4gICAgICAgICAgICBpZiAoZiBpbnN0YW5jZW9mIEV4cG9uZW50KSByZXR1cm4gIWNvbW1vbkJhc2VzLmhhcyhmLmJhc2UpXG4gICAgICAgICAgICByZXR1cm4gIWNvbW1vbkJhc2VzLmhhcyhmKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCB1bmVmZmVjdGVkQm90dG9tRmFjdG9ycyA9IGJvdHRvbS5maWx0ZXIoIGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZi5iYXNlKVxuICAgICAgICAgICAgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZilcbiAgICAgICAgfSlcblxuICAgICAgICBcbiAgICAgICAgLy8gRmluZCBhbGwgdGhlIHRlcm1zIGZvciBlYWNoIGJhc2VcbiAgICAgICAgLy8gUmVtZW1iZXIgdGhhdCB0aGUgZmluYWwgZXhwb25lbnQgd2lsbCBiZSBpbiB0aGUgbnVtZXJhdG9yXG4gICAgICAgIGNvbnN0IGV4cG9uZW50VGVybXMgPSBuZXcgTWFwPEV4cHJlc3Npb24sIEV4cHJlc3Npb25bXT4oKVxuICAgICAgICB0b3BFeHBvbmVudHMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGlmICghY29tbW9uQmFzZXMuaGFzKGUuYmFzZSkpIHJldHVyblxuICAgICAgICAgICAgaWYgKCFleHBvbmVudFRlcm1zLmhhcyhlLmJhc2UpKSB7XG4gICAgICAgICAgICAgICAgZXhwb25lbnRUZXJtcy5zZXQoZS5iYXNlLCBbXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cG9uZW50VGVybXMuZ2V0KGUuYmFzZSkhLnB1c2goZS5wb3dlcilcbiAgICAgICAgfSlcbiAgICAgICAgYm90dG9tRXhwb25lbnRzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbW1vbkJhc2VzLmhhcyhlLmJhc2UpKSByZXR1cm5cbiAgICAgICAgICAgIGlmICghZXhwb25lbnRUZXJtcy5oYXMoZS5iYXNlKSkge1xuICAgICAgICAgICAgICAgIGV4cG9uZW50VGVybXMuc2V0KGUuYmFzZSwgW10pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOZWdhdGl2ZSBiYyB3ZSdyZSBwdXR0aW5nIHRoZXNlIGluIHRoZSBudW1lcmF0b3JcbiAgICAgICAgICAgIGV4cG9uZW50VGVybXMuZ2V0KGUuYmFzZSkhLnB1c2gobmVnYXRpdmUoZS5wb3dlcikpXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHRpbmdUb3BFeHBvbmVudHM6IEV4cG9uZW50W10gPSBbXVxuICAgICAgICBleHBvbmVudFRlcm1zLmZvckVhY2goKHBvd2VyVGVybXMsIGJhc2UpID0+IHtcbiAgICAgICAgICAgIHJlc3VsdGluZ1RvcEV4cG9uZW50cy5wdXNoKEV4cG9uZW50Lm9mKGJhc2UsIHN1bSguLi5wb3dlclRlcm1zKSkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHVuZWZmZWN0ZWRCb3R0b21GYWN0b3JzLmxlbmd0aCA9PSAwKSB1bmVmZmVjdGVkQm90dG9tRmFjdG9ycy5wdXNoKG51bSgxKSlcblxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZnJhYyksIHtcbiAgICAgICAgICAgIG46IGZyYWMsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YocHJvZHVjdE9yTm90KC4uLnJlc3VsdGluZ1RvcEV4cG9uZW50cywgLi4udW5lZmZlY3RlZFRvcEZhY3RvcnMpLCBwcm9kdWN0T3JOb3QoLi4udW5lZmZlY3RlZEJvdHRvbUZhY3RvcnMpKSxcbiAgICAgICAgfSwgXCJTdW0gZXhwb25lbnRzIGluIGJvdGggbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvclwiLCBSVUxFX0lEKSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlN1bSBleHBvbmVudHMgaW4gbnVtIGFuZCBkZW4gaW4gZnJhY3Rpb25zXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbnVtLCBwcm9kdWN0LCBwcm9kdWN0QW5kTm90VGltZXNPbmUsIHByb2R1Y3RPck5vdCwgc3VtSW50dWl0aXZlLCBzdW1Pck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuaW1wb3J0IHsgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIH0gZnJvbSBcIi4uL1JlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZVwiO1xuXG4vKipcbiAqIFRha2VzIHN1bXMgb2Ygc2V2ZXJhbCBhZGRlZCBwcm9kdWN0cyBhbmQgY29tYmluZXMgb25lcyB0aGF0IG9ubHlcbiAqIGhhdmUgZGlmZmVyZW50IGNvZWZmaWNpZW50cy5cbiAqIFxuICogYSArIDJhID0gM2FcbiAqIGEgLSAyYSA9IC0xYVxuICovXG5leHBvcnQgY2xhc3MgU3VtQ29lZmZpY2llbnRzT2ZBZGRlZFRlcm1zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHRlcm1zID0gKGV4cCBhcyBTdW0pLnRlcm1zXG5cbiAgICAgICAgLy8gU3BsaXQgdGhlIHRlcm1zIGludG8gcHJvZHVjdCBhbmQgbm90IHByb2R1Y3RzXG4gICAgICAgIGNvbnN0IHByb2R1Y3RUZXJtczogUHJvZHVjdFtdID0gW11cbiAgICAgICAgY29uc3Qgbm9uUHJvZHVjdFRlcm1zOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IHRlcm0gb2YgdGVybXMpIHtcbiAgICAgICAgICAgIGlmICh0ZXJtIGluc3RhbmNlb2YgUHJvZHVjdCAmJiB0ZXJtLmZhY3RvcnNbMF0gaW5zdGFuY2VvZiBJbnRlZ2VyKSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdFRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9uUHJvZHVjdFRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvcnQgdGhlIHByb2R1Y3QgdGVybXMgaW50byBncm91cHMgb2YgY29tbW9uIGZhY3RvcnNcbiAgICAgICAgY29uc3QgZ3JvdXBzOiBNYXA8RXhwcmVzc2lvbiwge2NvZWZmaWNpZW50OiBudW1iZXIsIG1vcmVUaGFuT25lOiBib29sZWFufT4gPSBuZXcgTWFwKClcbiAgICAgICAgZm9yIChjb25zdCB0ZXJtIG9mIHByb2R1Y3RUZXJtcykge1xuXG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IHRlcm0uZmFjdG9yc1swXSBhcyBJbnRlZ2VyXG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLnRlcm0uZmFjdG9yc11cbiAgICAgICAgICAgIHRlbXAuc3BsaWNlKDAsIDEpXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHByb2R1Y3RPck5vdCguLi50ZW1wKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIWdyb3Vwcy5oYXMoZ3JvdXApKSBncm91cHMuc2V0KGdyb3VwLCB7Y29lZmZpY2llbnQ6IGZpcnN0LnZhbHVlLCBtb3JlVGhhbk9uZTogZmFsc2V9KVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzLmdldChncm91cCkhLmNvZWZmaWNpZW50ICs9IGZpcnN0LnZhbHVlXG4gICAgICAgICAgICAgICAgZ3JvdXBzLmdldChncm91cCkhLm1vcmVUaGFuT25lID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuXG4gICAgICAgIC8vIEZvciBldmVyeSBncm91cCB3aXRoIG1vcmUgdGhhbiBvbmUgcHJvZHVjdCwgcHJvZHVjZSBhIG5ldyBhcmd1bWVudFxuICAgICAgICBjb25zdCBvdXQgPSBuZXcgU2V0PEFyZ3VtZW50PigpXG4gICAgICAgIGdyb3Vwcy5mb3JFYWNoKChvYmosIGdyb3VwKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW9iai5tb3JlVGhhbk9uZSkgcmV0dXJuXG5cbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RUZXJtc05vdENvbWJpbmVkID0gcHJvZHVjdFRlcm1zLmZpbHRlcih0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLnQuZmFjdG9yc11cbiAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZSgwLCAxKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1XaXRob3V0TGVhZGluZ0NvZWZmaWNpZW50ID0gcHJvZHVjdE9yTm90KC4uLnRlbXApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwICE9PSB0ZXJtV2l0aG91dExlYWRpbmdDb2VmZmljaWVudFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgb3V0LmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgbjE6IHN1bU9yTm90KHByb2R1Y3RBbmROb3RUaW1lc09uZShudW0ob2JqLmNvZWZmaWNpZW50KSwgZ3JvdXApLCAuLi5ub25Qcm9kdWN0VGVybXMsIC4uLnByb2R1Y3RUZXJtc05vdENvbWJpbmVkKVxuICAgICAgICAgICAgfSxcIkNvbWJpbmluZyBsaWtlIHRlcm1zXCIsIFJVTEVfSUQpKVxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiU3VtQ29lZmZpY2llbnRzIG9mIGFkZGVkIHRlcm1zXCIiLCJpbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4vSW50ZWdlclwiO1xuaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdFR5cGUgfSBmcm9tIFwiLi9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBTdW1UeXBlIH0gZnJvbSBcIi4vU3VtXCI7XG5cbi8qKlxuICogXG4gKi9cbmV4cG9ydCBjbGFzcyBEZXJpdmF0aXZlIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG4gICAgcHVibGljIHN0YXRpYyBvZihleHA6IEV4cHJlc3Npb24sIHJlbGF0aXZlVG86IEV4cHJlc3Npb24pOiBEZXJpdmF0aXZlIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IGV4cC5oYXNoICsgcmVsYXRpdmVUby5oYXNoXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZXMuaGFzKGhhc2gpKVxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMuc2V0KGhhc2gsIG5ldyBEZXJpdmF0aXZlKGV4cCwgcmVsYXRpdmVUbykpXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlcy5nZXQoaGFzaCkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogTWFwPHN0cmluZywgRGVyaXZhdGl2ZT4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihleHA6IEV4cHJlc3Npb24sIHJlbGF0aXZlVG86IEV4cHJlc3Npb24pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmV4cCA9IGV4cFxuICAgICAgICB0aGlzLnJlbGF0aXZlVG8gPSByZWxhdGl2ZVRvXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5leHApXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5yZWxhdGl2ZVRvKVxuICAgICAgICB0aGlzLmlzUmVkdWNpYmxlID0gZmFsc2UgLy9UT0RPOiBEZXRlcm1pbmUgaWYgYSBkZXJpdmF0aXZlIGlzIHJlZHVjaWJsZVxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSBmYWxzZSAvLyBUT0RPOiBEZXRlcm1pbmUgaWYgYSBkZXJpdmF0aXZlIGlzIGNvbnN0YW50XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBleHAuY2hpbGRDb3VudCArIHJlbGF0aXZlVG8uY2hpbGRDb3VudFxuICAgIH1cblxuICAgIHB1YmxpYyByZWFkb25seSBleHA6IEV4cHJlc3Npb247XG4gICAgcHVibGljIHJlYWRvbmx5IHJlbGF0aXZlVG86IEV4cHJlc3Npb247XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBEZXJpdmF0aXZlVHlwZTtcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiZC9kXCIgKyB0aGlzLnJlbGF0aXZlVG8udG9TdHJpbmcoKSArIFwiKFwiICsgdGhpcy5leHAudG9TdHJpbmcoKSArIFwiKVwiXG4gICAgfVxuXG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiKGQvZFwiICsgdGhpcy5yZWxhdGl2ZVRvLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSArIFwiKVwiICsgdGhpcy5leHAudG9VbmFtYmlnaW91c1N0cmluZygpXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFzcyArIHRoaXMuZXhwLmhhc2ggKyB0aGlzLnJlbGF0aXZlVG8uaGFzaFxuICAgIH1cblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFN1bVR5cGUgfHwgZXhwLmNsYXNzID09IFByb2R1Y3RUeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIjxtbz4oPC9tbz5cIiArIGV4cC50b01hdGhYTUwoKSArIFwiPG1vPik8L21vPlwiXG4gICAgICAgICAgICByZXR1cm4gZXhwLnRvTWF0aFhNTCgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiPG1mcmFjPjxtbj5kPC9tbj48bXJvdz48bW4+ZDwvbW4+XCIgKyB3cmFwSWZOZWVkZWQodGhpcy5yZWxhdGl2ZVRvKSArIFwiPC9tcm93PjwvbWZyYWM+XCIgKyB3cmFwSWZOZWVkZWQodGhpcy5leHApXG4gICAgfVxuXG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIC8vIE1heWJlIGxhdGVyXG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuO1xuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGNvbnN0IERlcml2YXRpdmVUeXBlID0gXCJEZXJpdmF0aXZlXCIiLCJpbXBvcnQgeyBpblBhcmVuLCBpblJvdyB9IGZyb20gXCIuLi91dGlsL01hdGhNTEhlbHBlcnNcIjtcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEZyYWN0aW9uVHlwZSB9IGZyb20gXCIuL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyLCBJbnRlZ2VyVHlwZSB9IGZyb20gXCIuL0ludGVnZXJcIjtcbmltcG9ydCB7IFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtVHlwZSB9IGZyb20gXCIuL1N1bVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBFeHBvbmVudCBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2YoYmFzZTogRXhwcmVzc2lvbiwgcG93ZXI6IEV4cHJlc3Npb24pOiBFeHBvbmVudCB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBiYXNlLmhhc2ggKyBwb3dlci5oYXNoXG4gICAgICAgIGlmICghRXhwb25lbnQuaW5zdGFuY2VzLmhhcyhoYXNoKSkge1xuICAgICAgICAgICAgRXhwb25lbnQuaW5zdGFuY2VzLnNldChoYXNoLCBuZXcgRXhwb25lbnQoYmFzZSwgcG93ZXIpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFeHBvbmVudC5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXMgPSBuZXcgTWFwPHN0cmluZywgRXhwb25lbnQ+KClcblxuICAgIHB1YmxpYyBjbGFzczogc3RyaW5nID0gRXhwb25lbnRUeXBlO1xuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFN1bVR5cGUgfHwgZXhwLmNsYXNzID09IFByb2R1Y3RUeXBlIHx8IGV4cC5jbGFzcyA9PSBGcmFjdGlvblR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluUm93KGluUGFyZW4oZXhwLnRvTWF0aFhNTCgpKSlcbiAgICAgICAgICAgIHJldHVybiBleHAudG9NYXRoWE1MKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCI8bXN1cD5cIiArIHdyYXBJZk5lZWRlZCh0aGlzLmJhc2UpICsgaW5Sb3codGhpcy5wb3dlci50b01hdGhYTUwoKSkgKyBcIjwvbXN1cD5cIlxuICAgIH1cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiKFwiICsgdGhpcy5iYXNlICsgXCIpXihcIiArIHRoaXMucG93ZXIgKyBcIilcIlxuICAgIH1cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCIoXCIgKyB0aGlzLmJhc2UgKyBcIileKFwiICsgdGhpcy5wb3dlciArIFwiKVwiXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBoYXNoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlBvd1wiK3RoaXMuYmFzZS5oYXNoK3RoaXMucG93ZXIuaGFzaFxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3codGhpcy5iYXNlLmV2YWx1YXRlKHZhbHVlcyksIHRoaXMucG93ZXIuZXZhbHVhdGUodmFsdWVzKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihiYXNlOiBFeHByZXNzaW9uLCBwb3dlcjogRXhwcmVzc2lvbikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuYmFzZSA9IGJhc2VcbiAgICAgICAgdGhpcy5wb3dlciA9IHBvd2VyXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5iYXNlKVxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMucG93ZXIpXG4gICAgICAgIC8vIFRoZSBpbnRlZ2VycyBhcmUgY2xvc2VkIG92ZXIgZXhwb25lbnRpYXRpb25cbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IChiYXNlLmlzUmVkdWNpYmxlIHx8IGJhc2UuY2xhc3MgPT09IEludGVnZXJUeXBlKSAmJiAocG93ZXIuaXNSZWR1Y2libGUgfHwgcG93ZXIuY2xhc3MgPT09IEludGVnZXJUeXBlKS8vICYmIE1hdGgucG93KGJhc2UucmVkdWNlZC52YWx1ZSwgcG93ZXIucmVkdWNlZC52YWx1ZSkgJSAxID09IDBcbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gYmFzZS5pc0NvbnN0YW50ICYmIHBvd2VyLmlzQ29uc3RhbnRcbiAgICAgICAgdGhpcy5jaGlsZENvdW50ID0gMiArIGJhc2UuY2hpbGRDb3VudCArIHBvd2VyLmNoaWxkQ291bnRcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2U6IEV4cHJlc3Npb247XG4gICAgcHVibGljIHJlYWRvbmx5IHBvd2VyOiBFeHByZXNzaW9uO1xuICAgIHB1YmxpYyByZWFkb25seSBpc1JlZHVjaWJsZTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuO1xuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXI7XG59IFxuXG5leHBvcnQgY29uc3QgRXhwb25lbnRUeXBlID0gXCJFeHBvbmVudFwiIiwiaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuLi9NYXRoR3JhcGhOb2RlXCI7XG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEludGVnZXJUeXBlIH0gZnJvbSBcIi4vSW50ZWdlclwiO1xuaW1wb3J0IHsgTWF0aEVsZW1lbnQgfSBmcm9tIFwiLi9NYXRoRWxlbWVudFwiO1xuXG4vKipcbiAqIEJhc2Ugb2YgYWxsIG1hdGhlbWF0aWNhbCBleHByZXNzaW9ucy5cbiAqIEFsbCBjaGlsZHJlbiBzaG91bGQgaW1wbGVtZW50IGZseS13aGVlbCBwYXR0ZXJuLlxuICogQWxsIGNoaWxkcmVuIHNob3VsZCBiZSBpbW11dGFibGUuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFeHByZXNzaW9uIGV4dGVuZHMgTWF0aEdyYXBoTm9kZSBpbXBsZW1lbnRzIE1hdGhFbGVtZW50IHtcblxuICAgIHB1YmxpYyBhYnN0cmFjdCB0b01hdGhYTUwoKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGUgZXhwcmVzc2lvbiBjb3VsZCBiZSB3cml0dGVuIGFzIGFuIFxuICAgICAqIGludGVnZXIgYnV0IGlzbid0LlxuICAgICAqIFxuICAgICAqIFJlZHVjaWJsZTpcbiAgICAgKiAyICsgMiAtPiA0XG4gICAgICogMl40IC0+IDMyXG4gICAgICogNC8yIC0+IDJcbiAgICAgKiBcbiAgICAgKiBOb3QgUmVkdWNpYmxlOlxuICAgICAqIDFcbiAgICAgKiA0LzNcbiAgICAgKiBzcXJ0KDIpXG4gICAgICogcGlcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogVGhlIGNsYXNzIG5hbWUgb2YgdGhlIGV4cHJlc3Npb24uXG4gICAgICogRm9yIHJlZmxlY3Rpb24uXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGNsYXNzOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIGRlYnVnIHN0cmluZyB0aGF0IGFkZXF1YXRlbHkgY29tbXVuaWNhdGVzXG4gICAgICogdGhlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IHRvU3RyaW5nKCk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgc3RyaW5nIHdoaWNoIGlzIGV4YWN0bHkgd2hhdCdzIG5lY2Vzc2FyeVxuICAgICAqIHRvIGNvbW11bmljYXRlIHVuYW1naWdpb3VzbHkgdGhlIGNvbnRlbnQgb2YgdGhlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBzdHJpbmcgdGhhdCB1bmlxdWVseSBpZGVudGlmaWVzIFxuICAgICAqIHRoZSBleHByZXNzaW9uJ3MgdHlwZSBhbmQgdmFsdWVzIHN1Y2ggdGhhdFxuICAgICAqIDEuIG5vIHR3byBzdWJjbGFzc2VzIG9mIGV4cHJlc3Npb24gY291bGQgcHJvZHVjZVxuICAgICAqIHRoZSBzYW1lIGtleVxuICAgICAqIDIuIEFsbCBpbnN0YW5jZXMgb2YgZXhwcmVzc2lvbiB3aXRoIGVxdWFsIHZhbHVlcyBcbiAgICAgKiBoYXZlIHRoZSBzYW1lIGtleVxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXQgaGFzaCgpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIHRoaXMgZXhwcmVzc2lvbiBjb250YWlucyBubyB2YXJpYWJsZXMuXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGlzQ29uc3RhbnQ6IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIFBvc2l0aXZlIGludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBjb21wbGV4aXR5IG9mIHRoZSBleHByZXNzaW9uXG4gICAgICogaW5jbHVkaW5nIGl0cyBjb21wb3NpbmcgZWxlbWVudHMuIEVxdWFscyBudW1iZXIgb2YgY2hpbGRyZW5cbiAgICAgKiAgcGx1cyB0aGUgdG90YWwgY29tcGxleGl0eSBvZiBhbGwgY2hpbGRyZW4uXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGNoaWxkQ291bnQ6IG51bWJlclxuXG4gICAgLyoqXG4gICAgICogRXZhbHVhdGUgdGhlIGV4cHJlc3Npb24gcmVjdXJzaXZlbHkgc3Vic3RpdHV0aW5nIGFueSB2YXJpYWJsZXNcbiAgICAgKiB3aXRoIHRoZSBzdXBwbGllZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsdWVzIHRvIHN1YnN0aXR1dGUgdmFyaWFibGVzIHdpdGggd2hlblxuICAgICAqICAgICAgICAgIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlcjtcbn0iLCJpbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBGcmFjdGlvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2YobnVtZXJhdG9yOiBFeHByZXNzaW9uLCBkZW5vbWluYXRvcjogRXhwcmVzc2lvbik6IEZyYWN0aW9uIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IG51bWVyYXRvci5oYXNoICsgZGVub21pbmF0b3IuaGFzaFxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UuaGFzKGhhc2gpKVxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5zZXQoaGFzaCwgbmV3IEZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpKVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS5nZXQoaGFzaCkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBNYXA8c3RyaW5nLCBGcmFjdGlvbj4gPSBuZXcgTWFwKClcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG51bTogRXhwcmVzc2lvbiwgZGVub206IEV4cHJlc3Npb24pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLm51bWVyYXRvciA9IG51bVxuICAgICAgICB0aGlzLmRlbm9taW5hdG9yID0gZGVub21cbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLm51bWVyYXRvcilcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmRlbm9taW5hdG9yKVxuXG4gICAgICAgIC8qXG4gICAgICAgIEEgZnJhY3Rpb24gaXMgcmVkdWNpYmxlIGlmIHRoZSBkZW5vbSB8IG51bS5cbiAgICAgICAgICAgIDw9PiBudW0gPSBrICogZGVub20gd2hlcmUgayBpcyBhbiBpbnRlZ2VyLlxuXG4gICAgICAgIFRoaXMgbWFrZXMgcHJvdmluZyByZWR1Y2liaWxpdHkgaGFyZC5cbiAgICAgICAgVE9ETzogRGVjaWRlIGlmIGl0J3Mgd29ydGggaW1wbGVtZW50aW5nIHJlZHVjaWJpbGl0eSBmb3IgRnJhY3Rpb25zXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuaXNSZWR1Y2libGUgPSBmYWxzZVxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSBudW0uaXNDb25zdGFudCAmJiBkZW5vbS5pc0NvbnN0YW50XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBudW0uY2hpbGRDb3VudCArIGRlbm9tLmNoaWxkQ291bnRcbiAgICB9XG4gICAgcHVibGljIHJlYWRvbmx5IG51bWVyYXRvcjogRXhwcmVzc2lvblxuICAgIHB1YmxpYyByZWFkb25seSBkZW5vbWluYXRvcjogRXhwcmVzc2lvblxuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuO1xuICAgIHB1YmxpYyByZWFkb25seSBjbGFzczogc3RyaW5nID0gRnJhY3Rpb25UeXBlO1xuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5udW1lcmF0b3IudG9TdHJpbmcoKSArIFwiIC8gXCIgKyB0aGlzLmRlbm9taW5hdG9yLnRvU3RyaW5nKClcbiAgICB9XG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGAoJHt0aGlzLm51bWVyYXRvci50b1VuYW1iaWdpb3VzU3RyaW5nKCl9KS8oJHt0aGlzLmRlbm9taW5hdG9yLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKX0pYFxuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEZyYWN0aW9uVHlwZSArIHRoaXMubnVtZXJhdG9yLmhhc2ggKyB0aGlzLmRlbm9taW5hdG9yLmhhc2hcbiAgICB9XG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29uc3RhbnQ6IGJvb2xlYW47XG4gICAgcHVibGljIHRvTWF0aFhNTCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCI8bWZyYWM+PG1yb3c+XCIgKyB0aGlzLm51bWVyYXRvci50b01hdGhYTUwoKSArIFwiPC9tcm93Pjxtcm93PlwiICsgdGhpcy5kZW5vbWluYXRvci50b01hdGhYTUwoKSArIFwiPC9tcm93PjwvbWZyYWM+XCJcbiAgICB9XG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bWVyYXRvci5ldmFsdWF0ZSh2YWx1ZXMpIC8gdGhpcy5kZW5vbWluYXRvci5ldmFsdWF0ZSh2YWx1ZXMpO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyXG5cbn1cblxuZXhwb3J0IGNvbnN0IEZyYWN0aW9uVHlwZSA9IFwiRnJhY3Rpb25cIiIsImltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL2Fzc2VydFwiO1xuaW1wb3J0IHsgVmFyaWFibGVWYWx1ZU1hcCB9IGZyb20gXCIuLi9WYXJpYWJsZVZhbHVlTWFwXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiO1xuXG4vKipcbiAqIEludGVnZXJcbiAqIFBvc2l0aXZlIG9yIG5lZ2F0aXZlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlZ2VyIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG5cbiAgICBwdWJsaWMgc3RhdGljIG9mKHZhbHVlOiBudW1iZXIpOiBJbnRlZ2VyIHtcbiAgICAgICAgaWYgKCFJbnRlZ2VyLmluc3RhbmNlcy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICBJbnRlZ2VyLmluc3RhbmNlcy5zZXQodmFsdWUsIG5ldyBJbnRlZ2VyKHZhbHVlKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSW50ZWdlci5pbnN0YW5jZXMuZ2V0KHZhbHVlKSFcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzOiBNYXA8bnVtYmVyLCBJbnRlZ2VyPiA9IG5ldyBNYXAoKTtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IodmFsdWU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxuICAgICAgICBhc3NlcnQodGhpcy52YWx1ZSAlIDEgPT0gMCwgXCJDcmVhdGluZyBub24taW50ZWdlciBpbnRlZ2VyIFwiICsgdGhpcy52YWx1ZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBIHBvc2l0aXZlIHZlcnNpb24gb2YgdGhpcyBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHB1YmxpYyBidXRQb3NpdGl2ZSgpOiBJbnRlZ2VyIHtcbiAgICAgICAgcmV0dXJuIEludGVnZXIub2YoTWF0aC5hYnModGhpcy52YWx1ZSkpXG4gICAgfVxuXG4gICAgcHVibGljIGNsYXNzOiBzdHJpbmcgPSBJbnRlZ2VyVHlwZVxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiPG1uPlwiICsgdGhpcy52YWx1ZSArIFwiPC9tbj5cIlxuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJcIiArIHRoaXMudmFsdWVcbiAgICB9XG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB0aGlzLnZhbHVlXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBoYXNoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIkludFwiICsgdGhpcy52YWx1ZVxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50ID0gdHJ1ZTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudCA9IDBcbiAgICBcbn1cblxuZXhwb3J0IGNvbnN0IEludGVnZXJUeXBlID0gXCJJbnRlZ2VyXCIiLCJpbXBvcnQgeyBpblBhcmVuIH0gZnJvbSBcIi4uL3V0aWwvTWF0aE1MSGVscGVyc1wiO1xuaW1wb3J0IHsgVmFyaWFibGVWYWx1ZU1hcCB9IGZyb20gXCIuLi9WYXJpYWJsZVZhbHVlTWFwXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuL0ludGVnZXJcIjtcbmltcG9ydCB7IFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtVHlwZSB9IGZyb20gXCIuL1N1bVwiO1xuXG5cbi8qKlxuICogQW4gaW5kZWZpbmF0ZSBpbnRlZ3JhbCAoZm9yIG5vdykuXG4gKiBUT0RPOiBTaG91bGQgd2Ugc2VwYXJhdGUgZGVmaW5hdGUvaW5kZWZpbmF0ZSBpbnRlZ3JhbHM/XG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlZ3JhbCBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2YoaW50ZWdyYW5kOiBFeHByZXNzaW9uLCByZWxhdGl2ZVRvOiBFeHByZXNzaW9uKTogSW50ZWdyYWwge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzLmhhcyhpbnRlZ3JhbmQuaGFzaCArIHJlbGF0aXZlVG8uaGFzaCkpXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaW50ZWdyYW5kLmhhc2ggKyByZWxhdGl2ZVRvLmhhc2gsIG5ldyBJbnRlZ3JhbChpbnRlZ3JhbmQsIHJlbGF0aXZlVG8pKVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuZ2V0KGludGVncmFuZC5oYXNoICsgcmVsYXRpdmVUby5oYXNoKSFcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzOiBNYXA8c3RyaW5nLCBJbnRlZ3JhbD4gPSBuZXcgTWFwKClcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoaW50ZWdyYW5kOiBFeHByZXNzaW9uLCByZWxhdGl2ZVRvOiBFeHByZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5pbnRlZ3JhbmQgPSBpbnRlZ3JhbmRcbiAgICAgICAgdGhpcy5yZWxhdGl2ZVRvID0gcmVsYXRpdmVUb1xuXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5pbnRlZ3JhbmQpXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5yZWxhdGl2ZVRvKVxuXG4gICAgICAgIHRoaXMuaXNSZWR1Y2libGUgPSBmYWxzZVxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSBmYWxzZVxuICAgICAgICB0aGlzLmNoaWxkQ291bnQgPSAyICsgaW50ZWdyYW5kLmNoaWxkQ291bnQgKyByZWxhdGl2ZVRvLmNoaWxkQ291bnRcbiAgICB9XG4gICAgcHVibGljIHJlYWRvbmx5IGludGVncmFuZDogRXhwcmVzc2lvblxuICAgIHB1YmxpYyByZWFkb25seSByZWxhdGl2ZVRvOiBFeHByZXNzaW9uXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBJbnRlZ3JhbFR5cGU7XG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIuKIq1wiICsgdGhpcy5pbnRlZ3JhbmQudG9TdHJpbmcoKVxuICAgIH1cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCLiiKsoXCIgKyB0aGlzLmludGVncmFuZC50b1VuYW1iaWdpb3VzU3RyaW5nKCkgKyBcIilcIit0aGlzLnJlbGF0aXZlVG8udG9VbmFtYmlnaW91c1N0cmluZygpXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCLiiKtcIiArIHRoaXMuaW50ZWdyYW5kLnRvU3RyaW5nKCkgKyB0aGlzLnJlbGF0aXZlVG8udG9TdHJpbmcoKVxuICAgIH1cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhbjtcbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIGZ1bmN0aW9uIHdyYXBJZk5lZWRlZChleHA6IEV4cHJlc3Npb24pOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKGV4cC5jbGFzcyA9PSBTdW1UeXBlIHx8IGV4cC5jbGFzcyA9PSBQcm9kdWN0VHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5QYXJlbihleHAudG9NYXRoWE1MKCkpXG4gICAgICAgICAgICByZXR1cm4gZXhwLnRvTWF0aFhNTCgpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gXCI8bXJvdz48bW8+4oirPC9tbz5cIiArIHdyYXBJZk5lZWRlZCh0aGlzLmludGVncmFuZCkgKyBcIjxtbj5kPC9tbj5cIiArIHdyYXBJZk5lZWRlZCh0aGlzLnJlbGF0aXZlVG8pICsgXCI8L21yb3c+XCJcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgLy8gTmFoIGZ1Y2sgdGhpcyBicm9cbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyO1xuXG59XG5cbmV4cG9ydCBjb25zdCBJbnRlZ3JhbFR5cGUgPSBcIkludGVncmFsXCIiLCJpbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5cblxuZXhwb3J0IGNsYXNzIExvZ2FyaXRobSBleHRlbmRzIEV4cHJlc3Npb24ge1xuXG4gICAgcHVibGljIHN0YXRpYyBvZihleHA6IEV4cHJlc3Npb24sIGJhc2U6IEV4cHJlc3Npb24pOiBMb2dhcml0aG0ge1xuICAgICAgICBjb25zdCBoYXNoID0gZXhwLmhhc2ggKyBiYXNlLmhhc2hcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlcy5oYXMoaGFzaCkpXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaGFzaCwgbmV3IExvZ2FyaXRobShleHAsIGJhc2UpKVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIExvZ2FyaXRobT4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihleHA6IEV4cHJlc3Npb24sIGJhc2U6IEV4cHJlc3Npb24pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmV4cCA9IGV4cFxuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5leHApXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5iYXNlKVxuICAgICAgICB0aGlzLmlzUmVkdWNpYmxlID0gZmFsc2UgLy9UT0RPOiBEZXRlcm1pbmUgaWYgYSBsb2dhcml0aG0gaXMgcmVkdWNpYmxlXG4gICAgICAgIHRoaXMuaXNDb25zdGFudCA9IGV4cC5pc0NvbnN0YW50ICYmIGJhc2UuaXNDb25zdGFudFxuICAgICAgICB0aGlzLmNoaWxkQ291bnQgPSAyICsgZXhwLmNoaWxkQ291bnQgKyBiYXNlLmNoaWxkQ291bnRcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgPG1yb3c+XG4gICAgICAgICAgICA8bXN1Yj48bXRleHQ+bG9nPC9tdGV4dD4ke3RoaXMuYmFzZS50b01hdGhYTUwoKX08L21zdWI+XG4gICAgICAgICAgICA8bXJvdz4ke3RoaXMuZXhwLnRvTWF0aFhNTCgpfTwvbXJvdz5cbiAgICAgICAgPC9yb3c+YFxuICAgIH1cbiAgICBwdWJsaWMgaXNSZWR1Y2libGU6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBMb2dUeXBlO1xuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYGxvZyR7dGhpcy5iYXNlLnRvU3RyaW5nKCl9KCR7dGhpcy5leHAudG9TdHJpbmcoKX0pYFxuICAgIH1cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYGxvZygke3RoaXMuYmFzZS50b1VuYW1iaWdpb3VzU3RyaW5nKCl9KSgke3RoaXMuZXhwLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKX0pYFxuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5sb2codGhpcy5leHAuZXZhbHVhdGUodmFsdWVzKSkgLyBNYXRoLmxvZyh0aGlzLmJhc2UuZXZhbHVhdGUodmFsdWVzKSlcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29uc3RhbnQ6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IGNoaWxkQ291bnQ6IG51bWJlcjtcbiAgICBcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwOiBFeHByZXNzaW9uXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2U6IEV4cHJlc3Npb25cbn1cblxuZXhwb3J0IGNvbnN0IExvZ1R5cGUgPSBcIkxvZ2FyaXRobVwiIiwiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL3V0aWwvYXNzZXJ0XCI7XG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4vRXhwb25lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyLCBJbnRlZ2VyVHlwZSB9IGZyb20gXCIuL0ludGVnZXJcIjtcbmltcG9ydCB7IFN1bVR5cGUgfSBmcm9tIFwiLi9TdW1cIjtcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4vVmFyaWFibGVcIjtcblxuLyoqXG4gKiBBIG1hdGhlbWF0aWNhbCBwcm9kdWN0IHdpdGggMiBvciBtb3JlIGZhY3RvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9kdWN0IGV4dGVuZHMgRXhwcmVzc2lvbiB7XG4gICAgLyoqXG4gICAgICogRm9yIGVmZmljaWVuY3ksIHByb2R1Y3RzIGFyZSBjb21wYXJlZCBieSByZWZlcmVuY2UuXG4gICAgICogSGVyZSB3ZSBlbnN1cmUgPT09IDw9PiA9PVxuICAgICAqIEBwYXJhbSBmYWN0b3JzIFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgb2YoZmFjdG9yczogRXhwcmVzc2lvbltdKTogUHJvZHVjdCB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBmYWN0b3JzLm1hcDxzdHJpbmc+KGUgPT4gZS5oYXNoKS5qb2luKFwiXCIpXG4gICAgICAgIGlmICghUHJvZHVjdC5pbnN0YW5jZXMuaGFzKGhhc2gpKVxuICAgICAgICAgICAgUHJvZHVjdC5pbnN0YW5jZXMuc2V0KGhhc2gsIG5ldyBQcm9kdWN0KGZhY3RvcnMpKVxuICAgICAgICByZXR1cm4gUHJvZHVjdC5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIFByb2R1Y3Q+ID0gbmV3IE1hcCgpO1xuICAgIFxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihmYWN0b3JzOiBFeHByZXNzaW9uW10pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBhc3NlcnQoZmFjdG9ycy5sZW5ndGggPj0gMiwgXCJDcmVhdGluZyBwcm9kdWN0IHdpdGggbGVzcyB0aGFuIDIgZmFjdG9ycy5cIilcbiAgICAgICAgdGhpcy5mYWN0b3JzID0gZmFjdG9ycztcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmZhY3RvcnMpXG4gICAgICAgIFxuICAgICAgICBsZXQgcmVkdWNpYmxlID0gdHJ1ZVxuICAgICAgICB0aGlzLmZhY3RvcnMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIHJlZHVjaWJsZSAmJj0gZi5pc1JlZHVjaWJsZSB8fCBmLmNsYXNzID09IEludGVnZXJUeXBlXG4gICAgICAgIH0pXG4gICAgICAgIC8vIFRoZSBpbnRlZ2VycyBhcmUgY2xvc2VkIG92ZXIgbXVsdGlwbGljYXRpb25cbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IHJlZHVjaWJsZVxuXG4gICAgICAgIGxldCBoZWFsdGh5ID0gdHJ1ZVxuICAgICAgICBoZWFsdGh5ICYmPSB0aGlzLm51bU5lZ2F0aXZlcygpIDwgMlxuXG4gICAgICAgIGxldCBpc05lZ2F0aW9uID0gZmFjdG9ycy5sZW5ndGggPT0gMlxuICAgICAgICBpc05lZ2F0aW9uICYmPSBmYWN0b3JzLmZpbHRlcihlID0+IHtcbiAgICAgICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgSW50ZWdlciAmJiAoZSBhcyBJbnRlZ2VyKS52YWx1ZSA9PSAtMVxuICAgICAgICB9KS5sZW5ndGggPT0gMVxuICAgICAgICB0aGlzLmlzTmVnYXRpb24gPSBpc05lZ2F0aW9uXG5cbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gdGhpcy5mYWN0b3JzLm1hcDxib29sZWFuPihmID0+IGYuaXNDb25zdGFudCkucmVkdWNlKChhLCBiKSA9PiBhICYmIGIpXG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IGZhY3RvcnMubGVuZ3RoICsgZmFjdG9ycy5tYXA8bnVtYmVyPihmID0+IGYuY2hpbGRDb3VudCkucmVkdWNlKChhLCBiKSA9PiBhICsgYikgLSAodGhpcy5pc05lZ2F0aW9uID8gMSA6IDApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGlzIHByb2R1Y3QgaXMganVzdFxuICAgICAqIC0xICogYW5vdGhlciBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBpc05lZ2F0aW9uOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSB0aGF0IHRoaXMgcHJvZHVjdCBpcyBuZWdhdGluZ1xuICAgICAqIC0xICogZXhwIHJldHVybnMgZXhwLlxuICAgICAqIEB0aHJvd3MgaWYgcHJvZHVjdCBpc24ndCBhIG5lZ2F0aW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgbmVnYXRpb24oKTogRXhwcmVzc2lvbiB7XG4gICAgICAgIGFzc2VydCh0aGlzLmlzTmVnYXRpb24sIFwiVHJ5aW5nIHRvIGdldCBuZWdhdGlvbiBmcm9tIG5vbi1uZWdhdGluZyBzdW1cIilcbiAgICAgICAgaWYgKHRoaXMuZmFjdG9yc1swXS5jbGFzcyA9PSBJbnRlZ2VyVHlwZSAmJiAodGhpcy5mYWN0b3JzWzBdIGFzIEludGVnZXIpLnZhbHVlID09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yc1sxXVxuICAgICAgICByZXR1cm4gdGhpcy5mYWN0b3JzWzBdXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBFeHByZXNzaW9uIHdpdGhvdXQgdGhlIGdpdmVuIGZhY3Rvci5cbiAgICAgKiBJZiB0aGUgcHJvZHVjdCBjb250YWlucyB0aGUgZmFjdG9yIG11bHRpcGxlIHRpbWVzLCBcbiAgICAgKiBvbmx5IHJlbW92ZXMgb25lLiBJZiBpdCBkb2Vzbid0IGNvbnRhaW4gdGhlIGZhY3RvciwgXG4gICAgICogcmV0dXJucyBpdHNlbGYuXG4gICAgICogQHBhcmFtIGV4cCBBIGZhY3RvciBpbiB0aGlzIHByb2R1Y3QuXG4gICAgICovXG4gICAgcHVibGljIHdpdGhvdXQoZXhwOiBFeHByZXNzaW9uKTogRXhwcmVzc2lvbiB7XG4gICAgICAgIGNvbnN0IG5ld0ZhY3RvcnMgPSBbLi4udGhpcy5mYWN0b3JzXVxuICAgICAgICBcbiAgICAgICAgY29uc3QgaW5kZXggPSBuZXdGYWN0b3JzLmZpbmRJbmRleCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gZXhwXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkgcmV0dXJuIHRoaXNcblxuICAgICAgICBuZXdGYWN0b3JzLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgaWYgKG5ld0ZhY3RvcnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ld0ZhY3RvcnNbMF0gLy8gR2F1cmFudGVlZCB0aGVyZSdzIG9uZSB0ZXJtIGhlcmVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvZHVjdC5vZihuZXdGYWN0b3JzKVxuICAgIH1cblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG91dCA9IFwiXCJcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFByb2R1Y3RUeXBlIHx8IGV4cC5jbGFzcyA9PSBTdW1UeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIjxtbz4oPC9tbz5cIiArIGV4cC50b01hdGhYTUwoKSArIFwiPG1vPik8L21vPlwiXG4gICAgICAgICAgICByZXR1cm4gZXhwLnRvTWF0aFhNTCgpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBFaXRoZXIgdGhpcyBpcyBhIG5lZ2F0aW9uLCBvciBhIGxpc3Qgb2YgcHJvZHVjdHNcbiAgICAgICAgLy8gRmlyc3QgdGhlIG5lZ2F0aW9uIGNhc2UuLi5cbiAgICAgICAgaWYgKHRoaXMuaXNOZWdhdGlvbikge1xuICAgICAgICAgICAgb3V0ICs9IFwiPG1vPi08L21vPlwiXG4gICAgICAgICAgICBvdXQgKz0gd3JhcElmTmVlZGVkKHRoaXMubmVnYXRpb24pXG4gICAgICAgICAgICByZXR1cm4gb3V0XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBpdCdzIGEgbGlzdCBvZiBwcm9kdWN0cy4uLlxuICAgICAgICBjb25zdCBmaXJzdEZhY3RvciA9IHRoaXMuZmFjdG9yc1swXVxuICAgICAgICBvdXQgKz0gd3JhcElmTmVlZGVkKGZpcnN0RmFjdG9yKVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuZmFjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZhY3RvciA9IHRoaXMuZmFjdG9yc1tpXVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgbmVlZHNEb3QgPSAoZmFjdG9yLmNsYXNzID09IEludGVnZXJUeXBlICYmIHRoaXMuZmFjdG9yc1tpLTFdLmNsYXNzID09IEludGVnZXJUeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChmYWN0b3IgaW5zdGFuY2VvZiBQcm9kdWN0ICYmIGZhY3Rvci5pc05lZ2F0aW9uKSAvLyBJZiB0aGVyZSdzIGEgbmVnYXRpdmUgc2lnbiwgZ2V0IGEgZG90XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGZhY3RvciBpbnN0YW5jZW9mIEludGVnZXIgJiYgZmFjdG9yLnZhbHVlIDwgMSlcblxuICAgICAgICAgICAgaWYgKG5lZWRzRG90KSBvdXQgKz0gXCI8bW8+wrc8L21vPlwiIFxuICAgICAgICAgICAgb3V0ICs9IHdyYXBJZk5lZWRlZChmYWN0b3IpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBOdW1iZXIgb2YgbmVnYXRpdmUgaW50ZWdlciBwcm9kdWN0cy5cbiAgICAgKi9cbiAgICBwcml2YXRlIG51bU5lZ2F0aXZlcygpOiBudW1iZXIge1xuICAgICAgICBsZXQgY291bnQgPSAwXG4gICAgICAgIHRoaXMuZmFjdG9ycy5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBJbnRlZ2VyKVxuICAgICAgICAgICAgICAgIGlmIChmLnZhbHVlIDwgMClcbiAgICAgICAgICAgICAgICBjb3VudCsrXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBjb3VudFxuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGV4cCBvZiB0aGlzLmZhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChleHAgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFwiKFwiICsgZXhwLnRvU3RyaW5nKCkgKyBcIilcIlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gZXhwLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSBcIsK3XCJcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKDAsIG91dC5sZW5ndGggLSAxKVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuaXNOZWdhdGlvbikgXG4gICAgICAgICAgICByZXR1cm4gYC0oJHt0aGlzLm5lZ2F0aW9uLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKX0pYFxuICAgICAgICBcblxuICAgICAgICBsZXQgb3V0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGV4cCBvZiB0aGlzLmZhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChleHAgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFwiKFwiICsgZXhwLnRvU3RyaW5nKCkgKyBcIilcIlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gZXhwLnRvU3RyaW5nKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSBcIsK3XCJcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKDAsIG91dC5sZW5ndGggLSAxKVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBoYXNoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlByb2R1Y3RcIiArIHRoaXMuZmFjdG9ycy5tYXA8c3RyaW5nPihlID0+IGUuaGFzaCkuam9pbigpXG4gICAgfVxuXG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhY3RvcnMubWFwPG51bWJlcj4oZiA9PiBmLmV2YWx1YXRlKHZhbHVlcykpLnJlZHVjZSgoYSwgYikgPT4gYSAqIGIpXG4gICAgfVxuXG4gICAgLy8gQXQgbGVhc3QgMiBlbGVtZW50cywgb3JkZXIgbWF0dGVyc1xuICAgIHB1YmxpYyByZWFkb25seSBmYWN0b3JzOiBFeHByZXNzaW9uW107XG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBQcm9kdWN0VHlwZTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgUHJvZHVjdFR5cGUgPSBcIlByb2R1Y3RcIlxuXG4vKipcbiAqIENhbiBiZSB1c2VkIGluIGFycmF5LnNvcnQoKSB0byBnZXQgcHJvcGVybHkgb3JkZXJlZCBwcm9kdWN0cy5cbiAqIFxuICogQHBhcmFtIGEgXG4gKiBAcGFyYW0gYlxuICogQHJldHVybnMgUG9zaXRpdmUgaWYgYSBzaG91bGQgYmUgYWZ0ZXIgYlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmFjdG9yT3JkZXIoYTogRXhwcmVzc2lvbiwgYjogRXhwcmVzc2lvbik6IG51bWJlciB7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIGIgaW5zdGFuY2VvZiBJbnRlZ2VyKSByZXR1cm4gMFxuICAgIGlmIChhIGluc3RhbmNlb2YgSW50ZWdlcikge1xuICAgICAgICByZXR1cm4gYUZpcnN0XG4gICAgfVxuXG4gICAgLy8gQWxwaGFiZXRpY2FsXG4gICAgY29uc3Qgc3ltYkE6IHN0cmluZyB8IG51bGwgPSBhIGluc3RhbmNlb2YgVmFyaWFibGUgPyBhLnN5bWJvbFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhIGluc3RhbmNlb2YgRXhwb25lbnQgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuYmFzZSBpbnN0YW5jZW9mIFZhcmlhYmxlID8gYS5iYXNlLnN5bWJvbCA6IG51bGwgOiBudWxsXG5cbiAgICBjb25zdCBzeW1iQjogc3RyaW5nIHwgbnVsbCA9IGIgaW5zdGFuY2VvZiBWYXJpYWJsZSA/IGIuc3ltYm9sXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGIgaW5zdGFuY2VvZiBFeHBvbmVudCA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgYi5iYXNlIGluc3RhbmNlb2YgVmFyaWFibGUgPyBiLmJhc2Uuc3ltYm9sIDogbnVsbCA6IG51bGxcblxuICAgIGlmIChzeW1iQSAhPSBudWxsICYmIHN5bWJCICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJBID4gc3ltYkIgPyBhRmlyc3QgOiBhQWZ0ZXJcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIDBcbn1cblxuY29uc3QgYUZpcnN0ID0gMVxuY29uc3QgYUFmdGVyID0gLTEiLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIjtcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIsIEludGVnZXJUeXBlIH0gZnJvbSBcIi4vSW50ZWdlclwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFZhcmlhYmxlVHlwZSB9IGZyb20gXCIuL1ZhcmlhYmxlXCI7XG5cblxuLyoqXG4gKiBFeHByZXNzaW9uIHJlcHJlc2VudGluZyB0aGUgc3VtIG9mIDIgb3IgbW9yZSB0ZXJtcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1bSBleHRlbmRzIEV4cHJlc3Npb24ge1xuXG4gICAgLyoqXG4gICAgICogRmFjdG9yeSBtZXRob2QgY29uc250cnVjdG9yLlxuICAgICAqIEBwYXJhbSB0ZXJtcyBDb250YWlucyBhdCBsZWFzdCAyIGVsZW1lbnRzXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBvZih0ZXJtczogRXhwcmVzc2lvbltdKTogU3VtIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IHRlcm1zLm1hcDxzdHJpbmc+KHQgPT4gdC5oYXNoKS5qb2luKFwiXCIpXG4gICAgICAgIGlmICghU3VtLmluc3RhbmNlcy5oYXMoaGFzaCkpIHtcbiAgICAgICAgICAgIFN1bS5pbnN0YW5jZXMuc2V0KGhhc2gsIG5ldyBTdW0odGVybXMpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdW0uaW5zdGFuY2VzLmdldChoYXNoKSFcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgaW5zdGFuY2VzOiBNYXA8c3RyaW5nLCBTdW0+ID0gbmV3IE1hcCgpO1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcih0ZXJtczogRXhwcmVzc2lvbltdKXtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBhc3NlcnQodGVybXMubGVuZ3RoID49IDIsIFwiQ3JlYXRpbmcgc3VtIHdpdGggbGVzcyB0aGFuIDIgdGVybXMuXCIpXG4gICAgICAgIHRoaXMudGVybXMgPSB0ZXJtcztcbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IHRoaXMudGVybXMubWFwPGJvb2xlYW4+KHQgPT4gdC5pc1JlZHVjaWJsZSB8fCB0LmNsYXNzID09IEludGVnZXJUeXBlKS5yZWR1Y2UoKGEsIGIpID0+IGEgJiYgYilcblxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSB0aGlzLnRlcm1zLm1hcDxib29sZWFuPih0ID0+IHQuaXNDb25zdGFudCkucmVkdWNlKChhLCBiKSA9PiBhICYmIGIpXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy50ZXJtcylcbiAgICAgICAgdGhpcy5jaGlsZENvdW50ID0gdGVybXMubGVuZ3RoICsgdGVybXMubWFwPG51bWJlcj4odCA9PiB0LmNoaWxkQ291bnQpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBFeHByZXNzaW9uIHdpdGhvdXQgdGhlIGdpdmVuIHRlcm0uXG4gICAgICogSWYgdGhlIHN1bSBjb250YWlucyB0aGUgdGVybSBtdWx0aXBsZSB0aW1lcywgXG4gICAgICogb25seSByZW1vdmVzIG9uZS4gSWYgaXQgZG9lc24ndCBjb250YWluIHRoZSB0ZXJtLCBcbiAgICAgKiByZXR1cm5zIGl0c2VsZi5cbiAgICAgKiBAcGFyYW0gdGVybSBBIHRlcm0gaW4gdGhpcyBzdW0uXG4gICAgICovXG4gICAgcHVibGljIHdpdGhvdXQodGVybTogRXhwcmVzc2lvbik6IEV4cHJlc3Npb24ge1xuICAgICAgICBjb25zdCBuZXdUZXJtcyA9IFsuLi50aGlzLnRlcm1zXVxuICAgICAgICBcbiAgICAgICAgY29uc3QgaW5kZXggPSBuZXdUZXJtcy5maW5kSW5kZXgoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRlcm1cbiAgICAgICAgfSlcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSByZXR1cm4gdGhpc1xuXG4gICAgICAgIG5ld1Rlcm1zLnNwbGljZShpbmRleCwgMSlcbiAgICAgICAgaWYgKG5ld1Rlcm1zLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdUZXJtc1swXSAvLyBHYXVyYW50ZWVkIHRoZXJlJ3Mgb25lIHRlcm0gaGVyZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdW0ub2YobmV3VGVybXMpXG4gICAgfVxuXG5cbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIGZ1bmN0aW9uIHdyYXBJZk5lZWRlZChleHA6IEV4cHJlc3Npb24pOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKGV4cC5jbGFzcyA9PSBTdW1UeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIjxtbz4oPC9tbz5cIiArIGV4cC50b01hdGhYTUwoKSArIFwiPG1vPik8L21vPlwiXG4gICAgICAgICAgICByZXR1cm4gZXhwLnRvTWF0aFhNTCgpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3V0ID0gd3JhcElmTmVlZGVkKHRoaXMudGVybXNbMF0pXG4gICAgICAgIGZvciAobGV0IGk9MTsgaSA8IHRoaXMudGVybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRlcm0gPSB0aGlzLnRlcm1zW2ldXG4gICAgICAgICAgICAvLyBTdWJ0cmFjdCBuZWdhdGl2ZSB0ZXJtcyBpbnN0ZWFkIG9mIGFkZGluZyBuZWdhdGl2ZXNcbiAgICAgICAgICAgIGlmICh0ZXJtIGluc3RhbmNlb2YgUHJvZHVjdCAmJiB0ZXJtLmlzTmVnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gXCI8bW8+LTwvbW8+XCIgKyB3cmFwSWZOZWVkZWQodGVybS5uZWdhdGlvbilcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGVybSBpbnN0YW5jZW9mIEludGVnZXIgJiYgdGVybS52YWx1ZSA8ICAwKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFwiPG1vPi08L21vPlwiICsgd3JhcElmTmVlZGVkKHRlcm0uYnV0UG9zaXRpdmUoKSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFwiPG1vPis8L21vPlwiICsgd3JhcElmTmVlZGVkKHRoaXMudGVybXNbaV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG91dCA9IFwiXCJcbiAgICAgICAgZm9yIChjb25zdCBleHAgb2YgdGhpcy50ZXJtcykge1xuICAgICAgICAgICAgb3V0ICs9IGV4cC50b1N0cmluZygpICsgXCIrXCJcbiAgICAgICAgfVxuICAgICAgICBvdXQgPSBvdXQuc3Vic3RyaW5nKDAsIG91dC5sZW5ndGggLSAxKVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG91dCA9IFwiXCJcbiAgICAgICAgZm9yIChjb25zdCBleHAgb2YgdGhpcy50ZXJtcykge1xuICAgICAgICAgICAgb3V0ICs9IFwiKFwiICsgZXhwLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSArIFwiKStcIlxuICAgICAgICB9XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiU3VtXCIgKyB0aGlzLnRlcm1zLm1hcDxzdHJpbmc+KGUgPT4gZS5oYXNoKS5qb2luKClcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVybXMubWFwPG51bWJlcj4odCA9PiB0LmV2YWx1YXRlKHZhbHVlcykpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpXG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyByZWFkb25seSBjbGFzcyA9IFN1bVR5cGU7XG4gICAgLyoqXG4gICAgICogT3JkZXJlZCwgaW1tdXRhYmxlXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IHRlcm1zOiBFeHByZXNzaW9uW107XG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29uc3RhbnQ6IGJvb2xlYW5cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgU3VtVHlwZSA9IFwiU3VtXCJcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnaXZlbiB0ZXJtcyBvcmRlcmVkIGNvcnJlY3RseSB0b1xuICogYmUgcGxhY2VkIGluIGEgU3VtLiBBbHRlcnMgdGhlIGdpdmVuIGFycmF5LlxuICogQHBhcmFtIHRlcm1zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJUZXJtcyguLi50ZXJtczogRXhwcmVzc2lvbltdKTogRXhwcmVzc2lvbltdIHtcbiAgICAvLyBBIG5vdGUgYWJvdXQgdGhlIHNvcnQgZnVuY3Rpb24gYmMgdGhlIGRvY3VtZW50YXRpb24gaXMgY3J5cHRpY1xuICAgIC8vIElmIGEgc2hvdWxkIGJlIHB1dCBiZWZvcmUgYiBpbiB0aGUgc3VtLCByZXR1cm4gYSBuZWdhdGl2ZSB2YWx1ZVxuICAgIHJldHVybiB0ZXJtcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIC8vIFZhcmlhYmxlcyBiZWZvcmUgSW50ZWdlcnNcbiAgICAgICAgaWYgKGEuY2xhc3MgPT0gSW50ZWdlclR5cGUgJiYgKGIuY2xhc3MgPT0gVmFyaWFibGVUeXBlIHx8IChiIGluc3RhbmNlb2YgUHJvZHVjdCAmJiBiLmlzTmVnYXRpb24gJiYgYi5uZWdhdGlvbi5jbGFzcyA9PSBWYXJpYWJsZVR5cGUpKSkge1xuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGEuY2xhc3MgPT0gVmFyaWFibGVUeXBlIHx8IChhIGluc3RhbmNlb2YgUHJvZHVjdCAmJiBhLmlzTmVnYXRpb24gJiYgYS5uZWdhdGlvbi5jbGFzcyA9PSBWYXJpYWJsZVR5cGUpKSAmJiBiLmNsYXNzID09IEludGVnZXJUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwXG4gICAgfSlcbn0iLCJpbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4vSW50ZWdlclwiO1xuXG5leHBvcnQgY2xhc3MgVmFyaWFibGUgZXh0ZW5kcyBFeHByZXNzaW9uIHtcbiAgICBwdWJsaWMgc3RhdGljIG9mKHN5bWJvbDogc3RyaW5nKTogVmFyaWFibGUge1xuICAgICAgICBpZiAoVmFyaWFibGUuaW5zdGFuY2VzLmdldChzeW1ib2wpID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFyaWFibGUuaW5zdGFuY2VzLnNldChzeW1ib2wsIG5ldyBWYXJpYWJsZShzeW1ib2wpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBWYXJpYWJsZS5pbnN0YW5jZXMuZ2V0KHN5bWJvbCkhO1xuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXMgPSBuZXcgTWFwPHN0cmluZywgVmFyaWFibGU+KClcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHN5bWJvbDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sXG4gICAgfVxuXG4gICAgcHVibGljIGNsYXNzOiBzdHJpbmcgPSBWYXJpYWJsZVR5cGVcbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIjxtaT5cIit0aGlzLnN5bWJvbCtcIjwvbWk+XCI7XG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2w7XG4gICAgfVxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bWJvbFxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJWYXJcIit0aGlzLnN5bWJvbFxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdmFsdWVzLnZhbHVlT2YodGhpcylcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHJlYWRvbmx5IHN5bWJvbDogc3RyaW5nO1xuICAgIHB1YmxpYyByZWFkb25seSBpc1JlZHVjaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29uc3RhbnQgPSBmYWxzZTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyID0gMFxufVxuXG5leHBvcnQgY29uc3QgVmFyaWFibGVUeXBlID0gXCJWYXJpYWJsZVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiLi4vR3JhcGhcIlxuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuLi9NYXRoR3JhcGhOb2RlXCJcbmltcG9ydCB7IFBhdGggfSBmcm9tIFwiLi9QYXRoXCI7XG5cblxuLyoqXG4gKiBUYWtlcyBhIGdyYXBoIGFuZCBjb2xsYXBzZXMgYW55IGFyZ3VtZW50cyB0aGF0IGFyZSBvYnZpb3VzLlxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJwcmV0ZXIge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAoY29uZmlnOiBJbnRlcnByZXRlclNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnXG4gICAgfVxuXG4gICAgcHVibGljIHByb2Nlc3NQYXRoKHBhdGg6IFBhdGg8RXhwcmVzc2lvbj4pOiBTa2lwU2V0IHtcbiAgICAgICAgdGhpcy5ncmFwaCA9IHBhdGguZ3JhcGhcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFNraXBTZXQoKTtcblxuICAgICAgICBjb25zdCBzaG91bGRTa2lwID0gKGFyZzogQXJndW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5za2lwcy5oYXMoYXJnLnJ1bGVJZClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncmFwaCA9IHRoaXMuZ3JhcGhcblxuICAgICAgICBmdW5jdGlvbiByZWN1cnNpdmVBZGQobm9kZTogRXhwcmVzc2lvbik6IHZvaWQge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IGZpbmROZXh0KG5vZGUpXG4gICAgICAgICAgICBpZiAobmV4dCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJndW1lbnQgPSBncmFwaC5nZXRFZGdlKG5vZGUsIHBhdGgubm9kZXNbcGF0aC5ub2Rlcy5pbmRleE9mKG5vZGUpICsgMV0pIGFzIEFyZ3VtZW50XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFkZFNraXAobm9kZSwge2U6IG5leHQsIGE6IGFyZ3VtZW50fSlcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVBZGQobmV4dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldHMgdGhlIG5leHQgZXhwcmVzc2lvbiB0byBzaG93IG9yIG51bGwgaWYgdGhlcmVcbiAgICAgICAgLy8gaXNuJ3Qgb25lLiBOZXZlciByZXR1cm5zIHRoZSBnaXZlbiBleHByZXNzaW9uXG4gICAgICAgIGZ1bmN0aW9uIGZpbmROZXh0KG5vZGU6IEV4cHJlc3Npb24pOiBFeHByZXNzaW9uIHwgbnVsbCB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBwYXRoLm5vZGVzLmluZGV4T2Yobm9kZSlcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBwYXRoLm5vZGVzW2luZGV4ICsgMV1cbiAgICAgICAgICAgIGlmIChuZXh0ID09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGxcblxuICAgICAgICAgICAgaWYgKHNob3VsZFNraXAoZ3JhcGguZ2V0RWRnZShub2RlLCBuZXh0KSBhcyBBcmd1bWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmluZE5leHQobmV4dCkgPz8gbmV4dFxuICAgICAgICAgICAgfSBlbHNlIHJldHVybiBuZXh0XG4gICAgICAgIH1cblxuICAgICAgICByZWN1cnNpdmVBZGQocGF0aC5ub2Rlc1swXSlcblxuICAgICAgICB0aGlzLmdyYXBoID0gbnVsbFxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXNPbmVPdXRFZGdlKG5vZGU6IE1hdGhHcmFwaE5vZGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGg/LmdldERlZ3JlZShub2RlLCBcIm91dFwiKSA9PSAxXG4gICAgfVxuXG5cbiAgICAvLyBOdWxsIGFmdGVyIGV2ZXJ5IHByb2Nlc3MgY2FsbC5cbiAgICBwcml2YXRlIGdyYXBoOiBHcmFwaCB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnOiBJbnRlcnByZXRlclNldHRpbmdzXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJwcmV0ZXJTZXR0aW5ncyB7XG4gICAgLyoqXG4gICAgICogU2V0IG9mIHJ1bGUgaWRzLiBBcmd1bWVudHMgZ2VuZXJhdGVkIGJ5IHRoZXNlIHJ1bGVzXG4gICAgICogd2lsbCBiZSBicmlkZ2VkIG92ZXIgaW4gdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIHNraXBzOiBTZXQ8c3RyaW5nPlxufVxuXG5pbnRlcmZhY2UgU2tpcCB7XG4gICAgcmVhZG9ubHkgYTogQXJndW1lbnRcbiAgICByZWFkb25seSBlOiBFeHByZXNzaW9uXG59XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgZXhwcmVzc2lvbnMuXG4gKiBUT0RPOiBGaWd1cmUgb3V0IGFyZ3VtZW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNraXBTZXQge1xuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIG5leHQgZXhwcmVzc2lvbiB0aGF0IHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gICAgICogVGhlIGlucHV0IGFuZCByZXN1bHQgZXhwcmVzc2lvbiBzaG91bGQgYmUgZGlzcGxheWVkIGFzXG4gICAgICogY29ubmVjdGVkIGJ5IHRoZSBpbnB1dCdzIG91dCBhcmd1bWVudCwgd2hpY2ggaXMgcHJvdmlkZWRcbiAgICAgKiBpbiB0aGUgcmVzdWx0LlxuICAgICAqIFxuICAgICAqIFRoZXJlIHdpbGwgYmVcbiAgICAgKiBleGFjdGx5IG9uZSBzaW1wbGUgcGF0aCBjb25uZWN0aW5nIHRoZSBvdXRwdXQgYW5kXG4gICAgICogcmVzdWx0LlxuICAgICAqIEBwYXJhbSBpbnB1dCBcbiAgICAgKiBAcmV0dXJuIE51bGwgaWYgdGhlIGlucHV0IGhhcyBubyBza2lwIG1hcHBlZCB0byBpdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgbmV4dChpbnB1dDogRXhwcmVzc2lvbik6IFNraXAgfCBudWxsIHtcbiAgICAgICAgaWYgKHRoaXMuc2tpcHMuaGFzKGlucHV0KSkgcmV0dXJuIHRoaXMuc2tpcHMuZ2V0KGlucHV0KSFcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBzdGFydCBlbmQgcGFpciB0byB0aGUgc2tpcCBzZXQuIElmIGFscmVhZHkgaW5jbHVkZWQsXG4gICAgICogZG9lcyBub3RoaW5nLiBJZiB0aGUgZ2l2ZW4gc3RhcnQgYWxyZWFkeSBoYXMgYW4gZW5kIGFzc2lnbmVkXG4gICAgICogYW5kIHRoZSBhc3NpZ25lZCAvPSB0aGUgZ2l2ZW4gZW5kLCB0aHJvd3MuIElmIHN0YXJ0ID09IGVuZCxcbiAgICAgKiBkb2VzIG5vdGhpbmcuXG4gICAgICogQHBhcmFtIHN0YXJ0IFxuICAgICAqIEBwYXJhbSBlbmQgXG4gICAgICovXG4gICAgcHVibGljIGFkZFNraXAoc3RhcnQ6IEV4cHJlc3Npb24sIGVuZDogU2tpcCk6IHZvaWQge1xuICAgICAgICBpZiAoc3RhcnQgPT0gZW5kLmUpIHJldHVyblxuICAgICAgICBpZiAodGhpcy5za2lwcy5oYXMoc3RhcnQpICYmIHRoaXMuc2tpcHMuZ2V0KHN0YXJ0KSEgIT0gZW5kKSB0aHJvdyBuZXcgRXJyb3IoXCJBZGRpbmcgYW5vdGhlciBlbmQgdG8gU2tpcFNldFwiKVxuICAgICAgICB0aGlzLnNraXBzLnNldChzdGFydCwgZW5kKVxuICAgIH1cblxuICAgIHByaXZhdGUgc2tpcHMgPSBuZXcgTWFwPEV4cHJlc3Npb24sIHtlOiBFeHByZXNzaW9uLCBhOiBBcmd1bWVudH0+KClcbn0iLCJpbXBvcnQgeyBHcmFwaCB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBNYXRoR3JhcGhOb2RlIH0gZnJvbSBcIi4uL01hdGhHcmFwaE5vZGVcIlxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwYXRoIG9mIGdyYXBocy5cbiAqIEltbXV0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgUGF0aDxUIGV4dGVuZHMgTWF0aEdyYXBoTm9kZT4gaW1wbGVtZW50cyBJdGVyYWJsZTxNYXRoR3JhcGhOb2RlPiB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGdyYXBoOiBHcmFwaCwgLi4ubm9kZXM6IFRbXSkge1xuICAgICAgICB0aGlzLm5vZGVzID0gbm9kZXNcbiAgICAgICAgdGhpcy5ncmFwaCA9IGdyYXBoXG4gICAgfVxuICAgIFxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhdG9yPE1hdGhHcmFwaE5vZGUsIGFueSwgdW5kZWZpbmVkPiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpXG4gICAgfVxuXG4gICAgcHVibGljIHJlYWRvbmx5IG5vZGVzOiBUW11cbiAgICBwdWJsaWMgcmVhZG9ubHkgZ3JhcGg6IEdyYXBoXG59IiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IEdyYXBoTm9kZVZpZXcgfSBmcm9tIFwiLi9HcmFwaE5vZGVWaWV3XCI7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBhcmd1bWVudCBub2RlLlxuICovXG4gZXhwb3J0IGNsYXNzIEFyZ3VtZW50Tm9kZVZpZXcgZXh0ZW5kcyBHcmFwaE5vZGVWaWV3IHtcblxuICAgIGNvbnN0cnVjdG9yKGFyZzogQXJndW1lbnQsIHNldFN0eWxlOiAodmlldzogR3JhcGhOb2RlVmlldykgPT4gdm9pZCkge1xuICAgICAgICBzdXBlcihzZXRTdHlsZSlcbiAgICAgICAgdGhpcy5hcmd1bWVudCA9IGFyZ1xuICAgIH1cblxuICAgIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHRoaXMuYXJndW1lbnQuYXJndW1lbnRcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiYXJndW1lbnRcIilcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGFyZ3VtZW50OiBBcmd1bWVudDtcbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiYXJndW1lbnQtbm9kZXZpZXdcIiwgQXJndW1lbnROb2RlVmlldywge2V4dGVuZHM6IFwiZGl2XCJ9KTsiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBHcmFwaEVkZ2UgfSBmcm9tIFwiLi4vR3JhcGhcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyB1aVByZWZlcmVuY2VzIH0gZnJvbSBcIi4vVUlQcmVmZXJlbmNlc1wiXG5pbXBvcnQgeyBXZWJHcmFwaFZpZXcgfSBmcm9tIFwiLi9XZWJHcmFwaFZpZXdcIlxuaW1wb3J0IHsgR2l2ZW5FZGdlIH0gZnJvbSBcIi4uL0dyYXBoXCJcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi4vTWF0aEdyYXBoTm9kZVwiXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIlxuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZWRnZSBpbiBhIGdyYXBoLlxuICovXG5leHBvcnQgY2xhc3MgRWRnZVZpZXcgZXh0ZW5kcyBIVE1MUGFyYWdyYXBoRWxlbWVudCB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG93bmVyOiBXZWJHcmFwaFZpZXcsIGVkZ2U6IHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfSkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lclxuICAgICAgICB0aGlzLmVkZ2UgPSBlZGdlLmVcbiAgICAgICAgdGhpcy5maXJzdCA9IGVkZ2UublxuICAgICAgICB0aGlzLnNlY29uZCA9IGVkZ2UubjFcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmVkZ2UpXG5cbiAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9IFwiZml0LWNvbnRlbnRcIlxuICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IFwiZml0LWNvbnRlbnRcIlxuICAgICAgICB0aGlzLnN0eWxlLnBhZGRpbmcgPSBcIjBcIlxuICAgICAgICB0aGlzLnN0eWxlLnpJbmRleCA9IFwiLTJcIlxuICAgICAgICB0aGlzLnN0eWxlLm1hcmdpbiA9IFwiMFwiXG4gICAgICAgIHRoaXMuc3R5bGUud2hpdGVTcGFjZSA9IFwibm93cmFwXCJcbiAgICAgICAgdGhpcy5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiXG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdWlQcmVmZXJlbmNlcy5lZGdlRXF1YWxzQmFja2dyb3VuZENvbG9yXG4gICAgICAgIHRoaXMuc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiXG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiXG5cbiAgICAgICAgdWlQcmVmZXJlbmNlcy5vblVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHVpUHJlZmVyZW5jZXMuZWRnZUVxdWFsc0JhY2tncm91bmRDb2xvclxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5vd25lci5lZGdlQ2xpY2tlZCh0aGlzLCBldmVudClcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5yZXBPaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgcm90YXRpb24gYW5nbGUgb2YgdmlldyB3aGlsZSBhbHNvXG4gICAgICogbGV0dGluZyBpdCBrbm93IHRoZSBhbmdsZSBoYXMgY2hhbmdlZC5cbiAgICAgKiBAcGFyYW0gcmFkIFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRBbmdsZShyYWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnN0eWxlLnJvdGF0ZSA9IFwiXCIgKyByYWQgKyBcInJhZFwiXG4gICAgICAgIC8vdGhpcy50ZXh0Q29udGVudCA9IFwiXCIgKyAocmFkICogMiAqIE1hdGguUEkgLyAzNjApLnRvRml4ZWQoMikgKyBcImRlZ1wiXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBlbGVtZW50IHNjcmVlbiB3aWR0aCBhbmQgZW5zdXJlcyB0ZXh0IGZpdHNcbiAgICAgKiBpbnNpZGUgdGhlIGVkZ2UuXG4gICAgICovXG4gICAgcHVibGljIHNldCB3aWR0aCh2YWw6IHN0cmluZykge1xuICAgICAgICBzdXBlci5zdHlsZS53aWR0aCA9IHZhbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGVsZW1lbnQgaXMgY29ubmN0ZWQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmVkZ2UgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IFwiXCIgKyB0aGlzLmVkZ2UuY2xhaW0uclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWRnZSBpbnN0YW5jZW9mIEdpdmVuRWRnZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IFwiXCIgKyB0aGlzLmVkZ2UuclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIGZvciBcIiArIHRoaXMuZWRnZSlcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcE9rKCk6IHZvaWQge1xuICAgICAgICBhc3NlcnQodGhpcy5maXJzdCAhPSB1bmRlZmluZWQpXG4gICAgICAgIGFzc2VydCh0aGlzLnNlY29uZCAhPSB1bmRlZmluZWQpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBvd25lcjogV2ViR3JhcGhWaWV3XG4gICAgcHVibGljIHJlYWRvbmx5IGVkZ2U6IEdyYXBoRWRnZTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmlyc3Q6IE1hdGhHcmFwaE5vZGU7XG4gICAgcHVibGljIHJlYWRvbmx5IHNlY29uZDogTWF0aEdyYXBoTm9kZTtcbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiZWRnZS12aWV3XCIsIEVkZ2VWaWV3LCB7ZXh0ZW5kczogXCJwXCJ9KTsiLCJpbXBvcnQgeyBNYXRoRWxlbWVudCB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9NYXRoRWxlbWVudFwiO1xuXG5cbi8qKlxuICogRGlzcGxheXMgbWF0aCBhbmQgaXMgZWRpdGFibGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGl0YWJsZU1hdGhWaWV3IGV4dGVuZHMgSFRNTERpdkVsZW1lbnQge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcblxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHZhbHVlKGU6IE1hdGhFbGVtZW50IHwgbnVsbCkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IGVcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBcIjxtYXRoIGRpc3BsYXk9J2Jsb2NrJz5cIiArIChlPy50b01hdGhYTUwoKSA/PyBcIlwiKSArIFwiPC9tYXRoPlwiXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobCA9PiBsKHRoaXMuX3ZhbHVlKSlcbiAgICAgICAgTWF0aEpheC50eXBlc2V0KFt0aGlzXSlcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHZhbHVlKCk6IE1hdGhFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW5lciB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgbWF0aFxuICAgICAqIGluIHRoZSB2aWV3IGlzIGVkaXRlZC5cbiAgICAgKiBAcGFyYW0gbCBcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkRWRpdExpc3RlbmVyKGw6IEVkaXRhYmxlTWF0aExpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobClcbiAgICB9XG4gICAgcHJpdmF0ZSByZWFkb25seSBsaXN0ZW5lcnM6IEVkaXRhYmxlTWF0aExpc3RlbmVyW10gPSBbXVxuICAgIHByaXZhdGUgX3ZhbHVlOiBNYXRoRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG59XG5cbmV4cG9ydCB0eXBlIEVkaXRhYmxlTWF0aExpc3RlbmVyID0gKGU6IE1hdGhFbGVtZW50IHwgbnVsbCkgPT4gdm9pZDtcblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiZWRpdGFibGUtbWF0aHZpZXdcIiwgRWRpdGFibGVNYXRoVmlldywge2V4dGVuZHM6IFwiZGl2XCJ9KTtcblxuZGVjbGFyZSBjb25zdCBNYXRoSmF4OiBhbnk7IiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEdyYXBoRWRnZSB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBpbk1hdGgsIGluTWF0aEJsb2NrLCBpblJvdyB9IGZyb20gXCIuLi91dGlsL01hdGhNTEhlbHBlcnNcIlxuXG5leHBvcnQgY2xhc3MgRXhwbGFuYXRpb25Qb3B1cCBleHRlbmRzIEhUTUxEaXZFbGVtZW50IHtcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBhcmcgXG4gICAgICogQHBhcmFtIG9uQ2xvc2UgQ2FsbGVkIGFmdGVyIHVzZXIgY2xpY2tzIGNsb3NlIGJ1dHRvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXJnOiBBcmd1bWVudCwgb25DbG9zZTogKCkgPT4gdm9pZCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuYXJnID0gYXJnXG4gICAgICAgIHRoaXMub25DbG9zZSA9IG9uQ2xvc2VcblxuICAgICAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2InKVxuICAgICAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpXG4gICAgICAgIH0pXG4gICAgICAgIGNsb3NlQnV0dG9uLnRleHRDb250ZW50ID0gXCJDbG9zZVwiXG4gICAgICAgIGNsb3NlQnV0dG9uLnN0eWxlLnVzZXJTZWxlY3QgPSBcIm5vbmVcIlxuICAgICAgICBjbG9zZUJ1dHRvbi5zdHlsZS5mbG9hdCA9IFwicmlnaHRcIlxuICAgICAgICB0aGlzLmFwcGVuZChjbG9zZUJ1dHRvbilcblxuICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgdGV4dC5pbm5lckhUTUwgPSBhcmcuYXJndW1lbnQgKyBcIjxicj5cIlxuICAgICAgICBpZiAoYXJnLmNsYWltLm4gaW5zdGFuY2VvZiBFeHByZXNzaW9uICYmIGFyZy5jbGFpbS5uMSBpbnN0YW5jZW9mIEV4cHJlc3Npb24pXG4gICAgICAgIHRleHQuaW5uZXJIVE1MICs9IGluTWF0aEJsb2NrKGluUm93KGFyZy5jbGFpbS5uLnRvTWF0aFhNTCgpICsgXCIgPG1vPlwiICsgYXJnLmNsYWltLnIgKyBcIjwvbW8+IFwiICsgYXJnLmNsYWltLm4xLnRvTWF0aFhNTCgpKSkgKyBcIjxicj4gRGVyaXZlZCBmcm9tOiA8YnI+XCIgXG4gICAgICAgIGZvciAoY29uc3QgZ3JvdW5kIG9mIGFyZy5ncm91bmRzKSB7XG4gICAgICAgICAgICBpZiAoZ3JvdW5kIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgICAgICAgICB0ZXh0LmlubmVySFRNTCArPSBpbk1hdGgoZ3JvdW5kLnRvTWF0aFhNTCgpKSArIFwiPGJyPlwiXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcHBlbmQodGV4dClcblxuICAgICAgICBcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcbiAgICAgICAgdGhpcy5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgICAgIHRoaXMuc3R5bGUuYm94U2hhZG93ID0gXCIwLjNjaCAwLjNjaCAwLjZjaCByZ2JhKDAsIDAsIDAsIDAuNSlcIlxuICAgICAgICB0aGlzLnN0eWxlLnBhZGRpbmcgPSBcIjFjaFwiXG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgdGhpcy5zdHlsZS56SW5kZXggPSBcIjE1XCJcbiAgICB9XG5cbiAgICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgICAgIE1hdGhKYXgudHlwZXNldChbdGhpc10pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBhcmc6IEFyZ3VtZW50XG4gICAgcHJpdmF0ZSByZWFkb25seSBvbkNsb3NlOiAoKSA9PiB2b2lkXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImV4cGxhbmF0aW9uLXBvcHVwXCIsIEV4cGxhbmF0aW9uUG9wdXAsIHtleHRlbmRzOiBcImRpdlwifSk7XG5cbmRlY2xhcmUgY29uc3QgTWF0aEpheDogYW55IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9WYXJpYWJsZVwiO1xuaW1wb3J0IHsgRWRpdGFibGVNYXRoVmlldyB9IGZyb20gXCIuL0VkaXRhYmxlTWF0aFZpZXdcIjtcbmltcG9ydCB7IEdyYXBoTm9kZVZpZXcgfSBmcm9tIFwiLi9HcmFwaE5vZGVWaWV3XCI7XG5cbi8qKlxuICogQSBncmFwaCBub2RlIHZpZXcgZm9yIGV4cHJlc3Npb24gbm9kZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uTm9kZVZpZXcgZXh0ZW5kcyBHcmFwaE5vZGVWaWV3IHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iobm9kZTogRXhwcmVzc2lvbiwgc2V0U3R5bGU6ICh2aWV3OiBHcmFwaE5vZGVWaWV3KSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKHNldFN0eWxlKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZVxuXG4gICAgICAgIHRoaXMuZWRpdGFibGVNYXRoVmlldyA9IG5ldyBFZGl0YWJsZU1hdGhWaWV3KClcbiAgICAgICAgdGhpcy5lZGl0YWJsZU1hdGhWaWV3LnZhbHVlID0gdGhpcy5ub2RlXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5lZGl0YWJsZU1hdGhWaWV3KVxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubm9kZS50b1VuYW1iaWdpb3VzU3RyaW5nKCkpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJleHByZXNzaW9uXCIpXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG5vZGU6IEV4cHJlc3Npb247XG4gICAgcHJpdmF0ZSByZWFkb25seSBlZGl0YWJsZU1hdGhWaWV3OiBFZGl0YWJsZU1hdGhWaWV3O1xufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiZXhwcmVzc2lvbi1ub2Rldmlld1wiLCBFeHByZXNzaW9uTm9kZVZpZXcsIHtleHRlbmRzOiBcImRpdlwifSk7XG5cbmNvbnN0IGNvbG9yVW5oZWFsdGh5Tm9kZXMgPSB0cnVlIiwiLyoqXG4gKiBBbiBodG1sIGVsZW1lbnQgdGhhdCByZXByZXNlbnRzIGEgbWF0aCBncmFwaCBub2RlLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgR3JhcGhOb2RlVmlldyBleHRlbmRzIEhUTUxEaXZFbGVtZW50IHtcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZXRTdHlsZSBGdW5jdGlvbiB0aGF0IHdoZW4gY2FsbGVkXG4gICAgICogIHNob3VsZCBzZXQgdGhlIHN0eWxlIGZvciB0aGlzIHZpZXcuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2V0U3R5bGU6ICh2aWV3OiBHcmFwaE5vZGVWaWV3KSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICB0aGlzLnN0eWxlLnBhZGRpbmcgPSBcIjFjaFwiXG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgdGhpcy5zdHlsZS53aGl0ZVNwYWNlID0gXCJub3dyYXBcIlxuXG4gICAgICAgIHNldFN0eWxlKHRoaXMpXG4gICAgfVxuXG4gICAgcHVibGljIHNldCBiYWNrZ3JvdW5kQ29sb3IodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHZhbHVlXG4gICAgfVxuXG4gICAgcHVibGljIGFic3RyYWN0IGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQ7XG59IiwiLyoqXG4gKiBJbnRlcnByZXQgY29tcGxpY2F0ZWQgdG91Y2ggZ2VzdHVyZSBkYXRhLlxuICovXG5leHBvcnQgY2xhc3MgVG91Y2hHZXN0dXJlUmVjb2duaXplciB7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW92ZUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLnBpbmNoTGlzdGVuZXJzID0gW107XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE1vdmVMaXN0ZW5lcihjYWxsYmFjazogTW92ZUxpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMubW92ZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGEgcGluY2ggZ2VzdHVyZSBoYXMgYmVlbiBkZXRlY3RlZC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGFrZXMgYSBjZW50ZXIgY29vcmRpbmF0ZSB0aGF0J3MgdGhlIGF2ZXJhZ2Ugb2YgdGhlIGZpbmdlciBwb3NpdGlvbnMsXG4gICAgICogICAgICAgICAgICAgIHRoZSBjaGFuZ2UgaW4gc2NhbGUgc2luY2UgdGhlIGxhc3QgY2FsbCBvbiAoMCwgaW5maW5pdHkpIHdoZXJlIDEgaXMgbm8gY2hhbmdlLFxuICAgICAqICAgICAgICAgICAgICBhbmQgdGhlIG51bWJlciBvZiBmaW5nZXJzIGluIHRoZSBnZXN0dXJlIChhbiBpbnRlZ2VyKS5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkUGluY2hMaXN0ZW5lcihjYWxsYmFjazogUGluY2hMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICB0aGlzLnBpbmNoTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0YWtlIGFsbCB0b3VjaCBldmVudHMgZnJvbSB0aGUgdmlldyB1c2luZyBpdC5cbiAgICAgKiBAcGFyYW0gZXZlbnQgXG4gICAgICovXG4gICAgcHVibGljIHByb2Nlc3NUb3VjaERvd24oZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRha2UgYWxsIHRvdWNoIGV2ZW50cyBmcm9tIHRoZSB2aWV3IHVzaW5nIGl0LlxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKi9cbiAgICAgcHVibGljIHByb2Nlc3NUb3VjaE1vdmUoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGFuZ2VkIG9mIGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICBjaGFuZ2VkLmNsaWVudFhcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0YWtlIGFsbCB0b3VjaCBldmVudHMgZnJvbSB0aGUgdmlldyB1c2luZyBpdC5cbiAgICAgKiBAcGFyYW0gZXZlbnQgXG4gICAgICovXG4gICAgIHB1YmxpYyBwcm9jZXNzVG91Y2hFbmQoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcblxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGFrZSBhbGwgdG91Y2ggZXZlbnRzIGZyb20gdGhlIHZpZXcgdXNpbmcgaXQuXG4gICAgICogQHBhcmFtIGV2ZW50IFxuICAgICAqL1xuICAgICBwdWJsaWMgcHJvY2Vzc1RvdWNoQ2FuY2VsKGV2ZW50OiBUb3VjaEV2ZW50KTogdm9pZCB7XG5cbiAgICB9XG5cbiAgICAvL3ByaXZhdGUgbGFzdFg6IE1hcDxUb3VjaFxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBtb3ZlTGlzdGVuZXJzOiBNb3ZlTGlzdGVuZXJbXTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBpbmNoTGlzdGVuZXJzOiBQaW5jaExpc3RlbmVyW107XG59XG5cbmV4cG9ydCB0eXBlIE1vdmVMaXN0ZW5lciA9IChkZWx0YVg6IG51bWJlciwgZGVsdGFZOiBudW1iZXIsIGZpbmdlcnM6IG51bWJlcikgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIFBpbmNoTGlzdGVuZXIgPSAoY2VudGVyOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9LCBzY2FsZURlbHRhOiBudW1iZXIsIGZpbmdlcnM6IG51bWJlcikgPT4gdm9pZDsiLCJcblxuY2xhc3MgVUlQcmVmZXJlbmNlcyB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgRnVuY3Rpb24gY2FsbGVkIHdoZW5ldmVyIGEgdWkgcHJlZmVyZW5jZVxuICAgICAqIGlzIGNoYW5nZWQuXG4gICAgICovXG4gICAgIHB1YmxpYyBvblVwZGF0ZShjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKVxuICAgIH1cbiAgICBcblxuICAgIC8vIEdldHRlcnMgYW5kIFNldHRlcnNcblxuICAgIC8qKlxuICAgICAqIEJhY2tncm91bmQgY29sb3Igb2YgYSBncmFwaCBlZGdlIGRlbm90aW5nXG4gICAgICogZXF1YWxpdHkgYmV0d2VlbiB0d28gZXhwcmVzc2lvbnMuXG4gICAgICogQ3NzIHZhbHVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgZWRnZUVxdWFsc0JhY2tncm91bmRDb2xvcigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWRnZUVxdWFsc0JhY2tncm91bmRDb2xvclxuICAgIH1cbiAgICBwdWJsaWMgc2V0IGVkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3IodmFsOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fZWRnZUVxdWFsc0JhY2tncm91bmRDb2xvciA9IHZhbFxuICAgICAgICB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKGMgPT4gYygpKVxuICAgIH1cblxuXG4gICAgLy8gUHJlZmVyZW5jZSBWYWx1ZXNcbiAgICBwcml2YXRlIF9lZGdlRXF1YWxzQmFja2dyb3VuZENvbG9yOiBzdHJpbmcgPSBcIm5vbmVcIlxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2FsbGJhY2tzOiAoKCkgPT4gdm9pZClbXSA9IFtdXG59XG5cbmV4cG9ydCBjb25zdCB1aVByZWZlcmVuY2VzID0gbmV3IFVJUHJlZmVyZW5jZXMoKSIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEdyYXBoRWRnZSwgR3JhcGggfSBmcm9tIFwiLi4vR3JhcGhcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IG51bSB9IGZyb20gXCIuLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEdyYXBoTWluaXB1bGF0b3IgfSBmcm9tIFwiLi4vR3JhcGhNaW5pcHVsYXRvclwiO1xuaW1wb3J0IHsgYXNzZXJ0LCBmb3JfYWxsLCBmb3Jfc29tZSB9IGZyb20gXCIuLi91dGlsL2Fzc2VydFwiO1xuaW1wb3J0IHsgVG91Y2hHZXN0dXJlUmVjb2duaXplciB9IGZyb20gXCIuL1RvdWNoR2VzdHVyZVJlY29nbml6ZXJcIjtcbmltcG9ydCB7IEVkZ2VWaWV3IH0gZnJvbSBcIi4vRWRnZVZpZXdcIjtcbmltcG9ydCB7IEV4cHJlc3Npb25Ob2RlVmlldyB9IGZyb20gXCIuL0V4cHJlc3Npb25Ob2RlVmlld1wiO1xuaW1wb3J0IHsgQXJndW1lbnROb2RlVmlldyB9IGZyb20gXCIuL0FyZ3VtZW50Tm9kZVZpZXdcIjtcbmltcG9ydCB7IEdyYXBoTm9kZVZpZXcgfSBmcm9tIFwiLi9HcmFwaE5vZGVWaWV3XCI7XG5pbXBvcnQgeyBFeHBsYW5hdGlvblBvcHVwIH0gZnJvbSBcIi4vRXhwbGFuYXRpb25Qb3B1cFwiO1xuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuLi9NYXRoR3JhcGhOb2RlXCI7XG5pbXBvcnQgeyBudGhSb290RGVwZW5kZW5jaWVzLCBudW1iZXIgfSBmcm9tIFwibWF0aGpzXCI7XG5pbXBvcnQgeyBJbnRlcnByZXRlciB9IGZyb20gXCIuLi9pbnRlcnByZXRpbmcvSW50ZXJwcmV0ZXJcIjtcblxuLyoqXG4gKiBBIHVpIGVsZW1lbnQgdGhhdCB3aWxsIGRpc3BsYXkgYSBtYXRoIGdyYXBoIGluIGEgd2ViLlxuICovXG5leHBvcnQgY2xhc3MgV2ViR3JhcGhWaWV3IGV4dGVuZHMgSFRNTERpdkVsZW1lbnQge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBncmFwaCBNdXN0IGJlIGZ1bGx5IGNvbm5lY3RlZC5cbiAgICAgKiBAcGFyYW0gcm9vdHMgTm9uLWVtcHR5LlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihncmFwaDogR3JhcGgsIHJvb3RzOiBTZXQ8TWF0aEdyYXBoTm9kZT4sIGludGVycHJldGVyOiBJbnRlcnByZXRlciwgY29uZmlnOiBXZWJHcmFwaFZpZXdJbml0U2V0dGluZ3MgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ldyBNYXA8TWF0aEdyYXBoTm9kZSwgR3JhcGhOb2RlVmlldz4oKTtcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gMDtcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gMDtcbiAgICAgICAgdGhpcy5ub2RlUG9zaXRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmVkZ2VQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZWRnZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucmluZ0VsZW1lbnRzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLnJpbmdQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMgPSBbXVxuICAgICAgICB0aGlzLmludGVycHJldGVyID0gaW50ZXJwcmV0ZXJcblxuICAgICAgICBpZiAoY29uZmlnICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zaG93QXJndW1lbnRzID0gY29uZmlnLnNob3dBcmd1bWVudHNcbiAgICAgICAgICAgIHRoaXMuZHJhd0VkZ2VMaW5lcyA9IGNvbmZpZy5kcmF3RWRnZUxpbmVzXG4gICAgICAgICAgICB0aGlzLmRlYnVnQ29ybmVyRW5hYmxlZCA9IGNvbmZpZy5kZWJ1Z0Nvcm5lckVuYWJsZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGUuY2xpcFBhdGggPSBcInBvbHlnb24oMCUgMCUsIDEwMCUgMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIjtcbiAgICAgICAgdGhpcy5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIlxuICAgICAgICB0aGlzLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIlxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWVcbiAgICAgICAgICAgIHRoaXMudG91Y2hEb3duID0gZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW91c2VEb3duKSByZXR1cm5cbiAgICAgICAgICAgIHRoaXMub2Zmc2V0WCArPSBldmVudC5tb3ZlbWVudFggLyB0aGlzLnNjYWxlXG4gICAgICAgICAgICB0aGlzLm9mZnNldFkgKz0gZXZlbnQubW92ZW1lbnRZIC8gdGhpcy5zY2FsZVxuICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzKVxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW91c2VQb3MgPSBQb2ludChldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZURlbHRhID0gTWF0aC5wb3coMC44LCBldmVudC5kZWx0YVkgLyAzNjApXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGVEZWx0YSAqIHRoaXMuc2NhbGVcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyID0gbmV3IFRvdWNoR2VzdHVyZVJlY29nbml6ZXIoKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hkb3duXCIsIHRoaXMuZ2VzdHVyZVJlY29nbml6ZXIucHJvY2Vzc1RvdWNoRG93bilcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5nZXN0dXJlUmVjb2duaXplci5wcm9jZXNzVG91Y2hFbmQpXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIHRoaXMuZ2VzdHVyZVJlY29nbml6ZXIucHJvY2Vzc1RvdWNoQ2FuY2VsKVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5nZXN0dXJlUmVjb2duaXplci5wcm9jZXNzVG91Y2hNb3ZlKVxuICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyLmFkZFBpbmNoTGlzdGVuZXIoKGNlbnRlciwgc2NhbGVEZWx0YSwgZmluZ2VycykgPT4ge1xuXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zZXRHcmFwaChncmFwaCwgcm9vdHMpXG5cbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgcHVibGljIHNldEdyYXBoKGdyYXBoOiBHcmFwaCwgcm9vdHM6IFNldDxNYXRoR3JhcGhOb2RlPik6IHZvaWQge1xuICAgICAgICB0aGlzLmdyYXBoID0gZ3JhcGg7XG4gICAgICAgIHRoaXMucm9vdE5vZGVzID0gbmV3IFNldChyb290cyk7XG5cbiAgICAgICAgdGhpcy5yZWFkR3JhcGgoKVxuICAgICAgICB0aGlzLmFycmFuZ2UoKVxuICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIHRoZSBjb2xvciBvZiBhIG5vZGUuXG4gICAgICogQHBhcmFtIGNvbG9yRm4gXG4gICAgICovXG4gICAgcHVibGljIHNldE5vZGVDb2xvcmluZ1NjaGVtZShjb2xvckZuOiAobjogTWF0aEdyYXBoTm9kZSkgPT4gc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubm9kZUNvbG9yRm4gPSBjb2xvckZuXG4gICAgICAgIHRoaXMucHJvcG9nYXRlU2V0dGluZ3NUb05vZGVzKClcbiAgICB9XG4gICAgcHJpdmF0ZSBub2RlQ29sb3JGbjogKG46IE1hdGhHcmFwaE5vZGUpID0+IHN0cmluZyA9IChuKSA9PiBcImxpZ2h0Ymx1ZVwiXG5cbiAgICBwcml2YXRlIHByb3BvZ2F0ZVNldHRpbmdzVG9Ob2RlcygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKCh2aWV3LCBub2RlKSA9PiB7XG4gICAgICAgICAgICB2aWV3LmJhY2tncm91bmRDb2xvciA9IHRoaXMubm9kZUNvbG9yRm4obm9kZSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGlmIHRoZSB2aWV3IHNob3VsZCBzaG93IGFyZ3VtZW50IG5vZGVzIGFzIG5vZGVzLlxuICAgICAqIEZhbHNlIGJ5IGRlZmF1bHQuXG4gICAgICogQHBhcmFtIHZhbCBcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0U2hvd0FyZ3VtZW50cyh2YWw6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5zaG93QXJndW1lbnRzID0gdHJ1ZVxuICAgICAgICB0aGlzLnJlYWRHcmFwaCgpXG4gICAgICAgIHRoaXMuYXJyYW5nZSgpXG4gICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0KClcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBjZW50ZXIoKToge3g6IG51bWJlciwgeTogbnVtYmVyfSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB0aGlzLm9mZnNldFdpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IHRoaXMub2Zmc2V0SGVpZ2h0IC8gMixcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvbGxvd3MgdGhlIHNob3dBcmd1bWVudCBzZXR0aW5nLlxuICAgICAqIFBvcHVsYXRlcyB0aGlzLm5vZGVzLCB0aGlzLmVkZ2VzLFxuICAgICAqIGFkZHMgdGhlIGNyZWF0ZWQgdmlld3MgdG8gdGhlIHNoYWRvdyBkb21cbiAgICAgKiB0byBtYXRjaCB0aGUgZ3JhcGguXG4gICAgICogUmVtb3ZlcyBhbnkgcHJlLWV4aXN0aW5nIGVsZW1lbnRzIGZyb20gdGhlIHNoYWRvdyBkb20uXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkR3JhcGgoKTogdm9pZCB7XG4gICAgICAgIC8vIENsZWFyIGV4aXN0aW5nXG4gICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaCgodmlldywgbm9kZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh2aWV3KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLm5vZGVzLmNsZWFyKClcbiAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKCh2aWV3LCBlZGdlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHZpZXcpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZWRnZXMuY2xlYXIoKVxuXG4gICAgICAgIC8vIEZldGNoIG5vZGVzXG4gICAgICAgIHRoaXMuZ3JhcGguZ2V0Tm9kZXMoKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBFeHByZXNzaW9uTm9kZVZpZXcobm9kZSwgdGhpcy5iYXNlTm9kZVN0eWxlKVxuICAgICAgICAgICAgICAgIHZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnNldChub2RlLCB2aWV3KVxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKHZpZXcpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zaG93QXJndW1lbnRzKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBBcmd1bWVudE5vZGVWaWV3KG5vZGUsIHRoaXMuYmFzZU5vZGVTdHlsZSlcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5zZXQobm9kZSwgdmlldylcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZCh2aWV3KVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcihcIkdyYXBoIGNvbnRhaW5zIG5vZGUgV2ViR3JhcGhWaWV3IGNhbid0IHByb2Nlc3MuXCIpXG4gICAgICAgICAgICBcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBGZXRjaCBlZGdlc1xuICAgICAgICBHcmFwaE1pbmlwdWxhdG9yLmRyb3BTeW1tZXRyaWModGhpcy5ncmFwaC5nZXRFZGdlcygpKS5maWx0ZXIoZWRnZSA9PiB7XG4gICAgICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIGVkZ2VzIGZvciB3aGljaCB3ZSBoYXZlIGJvdGggZW5kcG9pbnRzIG9uIHRoZSB2aWV3XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5oYXMoZWRnZS5uKSAmJiB0aGlzLm5vZGVzLmhhcyhlZGdlLm4xKTtcbiAgICAgICAgfSkuZm9yRWFjaChlZGdlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRWRnZVZpZXcodGhpcywgZWRnZSlcbiAgICAgICAgICAgIHZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcbiAgICAgICAgICAgIHRoaXMuZWRnZXMuc2V0KGVkZ2UsIHZpZXcpXG4gICAgICAgICAgICB0aGlzLmFwcGVuZCh2aWV3KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMucHJvcG9nYXRlU2V0dGluZ3NUb05vZGVzKClcblxuICAgICAgICBpZiAodGhpcy5kZWJ1Z0Nvcm5lckVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICAgICAgY29ybmVyLmlubmVySFRNTCA9IFwiR3JhcGggTm9kZXM6IFwiICsgdGhpcy5ncmFwaC5nZXROb2RlcygpLnNpemUgKyBcIjxicj5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiVmlzaWJsZSBOb2RlczogXCIgKyB0aGlzLm5vZGVzLnNpemUgKyBcIjxicj5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiR3JhcGggRWRnZXM6IFwiICsgdGhpcy5ncmFwaC5nZXRFZGdlcygpLnNpemUgKyBcIjxicj5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIFwiVmlzaWJsZSBFZGdlczogXCIgKyB0aGlzLmVkZ2VzLnNpemUgKyBcIjxicj5cIlxuICAgICAgICAgICAgY29ybmVyLnN0eWxlLnpJbmRleCA9IFwiMTAwXCJcbiAgICAgICAgICAgIGNvcm5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcbiAgICAgICAgICAgIGNvcm5lci5zdHlsZS53aWR0aCA9IFwiZml0LWNvbnRlbnRcIlxuICAgICAgICAgICAgY29ybmVyLnN0eWxlLm1hcmdpbiA9IFwiMFwiXG4gICAgICAgICAgICBjb3JuZXIuc3R5bGUucGFkZGluZyA9IFwiMWNoXCJcbiAgICAgICAgICAgIGNvcm5lci5zdHlsZS5ib3JkZXIgPSBcImJsYWNrIDFweCBzb2xpZFwiXG4gICAgICAgICAgICBjb3JuZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKGNvcm5lcikgICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cblxuICAgIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5yZWFkR3JhcGgoKVxuICAgICAgICB0aGlzLmFycmFuZ2UoKVxuICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGljayBwbGFjZXMgZm9yIGFsbCB0aGUgbm9kZXMvZWRnZXMgb24gdGhlIHNjcmVlbi5cbiAgICAgKiBQb3B1bGF0ZXMgdGhlIHBvc2l0aW9uKiByZXAgdmFycy5cbiAgICAgKi9cbiAgICBwcml2YXRlIGFycmFuZ2UoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubm9kZVBvc2l0aW9ucy5jbGVhcigpXG4gICAgICAgIHRoaXMuZWRnZVBvc2l0aW9ucy5jbGVhcigpXG4gICAgICAgIHRoaXMucmluZ1Bvc2l0aW9ucy5jbGVhcigpXG4gICAgICAgIHRoaXMucmluZ0VsZW1lbnRzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGUpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMucmluZ0VsZW1lbnRzLmNsZWFyKClcbiAgICAgXG4gICAgICAgIC8vIFBsYWNlIG5vZGVzIG9uIGEgc2VyaWVzIG9mIHJpbmdzIGZyb20gdGhlIGNlbnRlciB1c2luZyB0aGVpciBkZXB0aCBpbiB0aGUgZ3JhcGhcbiAgICAgICAgY29uc3QgbGV2ZWxzID0gR3JhcGhNaW5pcHVsYXRvci5nZXRMZXZlbHModGhpcy5ncmFwaCwgdGhpcy5yb290Tm9kZXMsIG5vZGUgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFeHByZXNzaW9uKSByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFyZ3VtZW50KSByZXR1cm4gdGhpcy5zaG93QXJndW1lbnRzXG4gICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihcIk5ldyB0eXBlIG9mIG5vZGVcIilcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgbWF4RGVwdGggPSAwO1xuICAgICAgICBsZXZlbHMuZm9yRWFjaCgoXywgZGVwdGgpID0+IHtcbiAgICAgICAgICAgIG1heERlcHRoID0gTWF0aC5tYXgobWF4RGVwdGgsIGRlcHRoKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHt4OiAodGhpcy5jbGllbnRXaWR0aCAvIDIpLCB5OiB0aGlzLmNsaWVudEhlaWdodCAvIDJ9O1xuICAgICAgICBsZXQgbGFzdFJhZGl1cyA9IDAgLy9weFxuICAgICAgICAvLyBSZWNvcmQgdGhlIHBvc2l0aW9ucyBvZiB0aGUgbGFzdCByaW5nIHNvIHRoYXQgd2UgY2FuXG4gICAgICAgIC8vIG1ha2UgdGhlIGdyYXBoIGFwcGVhciBwbGFuYXItaXNoLiBNYXBzIG5vZGVzIHRvIGFuZ2xlXG4gICAgICAgIC8vIG9mZnNldCBpbiByYWRpYW5zLiBBbmdsZSBtdXN0IGJlIDwgMipQaVxuICAgICAgICBsZXQgbGFzdFBvc2l0aW9uczogTWFwPE1hdGhHcmFwaE5vZGUsIG51bWJlcj4gfCBudWxsID0gbnVsbFxuICAgICAgICBmb3IgKGxldCBkZXB0aCA9IDA7IGRlcHRoIDwgbWF4RGVwdGggKyAxOyBkZXB0aCsrKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IGxldmVscy5nZXQoZGVwdGgpIVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGN1bGF0aW5nIHRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAgICAgICAgICogU3VwcG9zZSBldmVyeSByb290IG5vZGUgb24gdGhlIHN0YXJ0aW5nIGNpcmNsZSByZXF1aXJlc1xuICAgICAgICAgICAgICogYSBjaXJjdWxhciBzcGFjZSB0byBiZSBkcmF3biB3aXRoIHJhZGl1cyBub2RlUmFkaXVzXG4gICAgICAgICAgICAgKiBBIHN0YXJ0aW5nIGNpcmNsZSB3aXRoIG4gb2YgdGhlc2Ugbm9kZXMgd291bGQgcmVxdWlyZSBhIFxuICAgICAgICAgICAgICogY2lyY3VtZmVyZW5jZSBvZiBuICogMm5vZGVSYWRpdXMuXG4gICAgICAgICAgICAgKiBUaGUgY2lyY3VtZmVyZW5jZSBvZiBhIGNpcmNsZSBjYW4gYmUgZXhwcmVzc2VkXG4gICAgICAgICAgICAgKiBhcyAyKnBpKnJcbiAgICAgICAgICAgICAqID0+IHIgPSBuICogMiAqIHNtYWxsUiAvICgyICogcGkpXG4gICAgICAgICAgICAgKiAgICAgID0gbiAqIHNtYWxsUiAvIHBpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5vZGVSYWRpdXMgPSA3MDsgLy8gcGl4ZWxzXG4gICAgICAgICAgICBsZXQgcmFkaXVzID0gTWF0aC5tYXgobm9kZXMuc2l6ZSAqIG5vZGVSYWRpdXMgLyBNYXRoLlBJLCBsYXN0UmFkaXVzICsgKDMqbm9kZVJhZGl1cykpXG4gICAgICAgICAgICBpZiAoZGVwdGggPT0gMCAmJiBub2Rlcy5zaXplID09IDEpIHJhZGl1cyA9IDBcbiAgICAgICAgICAgIGxhc3RSYWRpdXMgPSByYWRpdXM7XG5cbiAgICAgICAgICAgIC8vIE1pbmltdW0gcmFkaWFucyBuZWNlc3NhcnkgdG8ga2VlcCBub2RlcyBuZWNlc3NhcmlseSBzcGFjZWQgYXQgdGhlIGdpdmVuIGRlcHRoXG4gICAgICAgICAgICBjb25zdCBzdGVwU2l6ZSA9ICgyICogTWF0aC5QSSkgLyBNYXRoLm1heChub2Rlcy5zaXplLCByYWRpdXMqMipNYXRoLlBJIC8gKDIqMS4yKm5vZGVSYWRpdXMpKTtcbiAgICBcbiAgICAgICAgICAgIC8vIE1hcHMgbm9kZXMgdG8gYW5nbGVzIChyYWQpXG4gICAgICAgICAgICBjb25zdCBucyA9IG5ldyBNYXA8TWF0aEdyYXBoTm9kZSwgbnVtYmVyPigpO1xuXG4gICAgICAgICAgICBpZiAobGFzdFBvc2l0aW9ucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRlYWxBbmdsZXMgPSBuZXcgTWFwPE1hdGhHcmFwaE5vZGUsIG51bWJlcj4oKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG8gbm90IGFzc3VtZSB0aGUgZ3JhcGggaXMgYSB0cmVlXG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSB0aGUgbm9kZSBoYXMgYSBwYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5ncmFwaC5nZXROZWlnaGJvcnMobiwgXCJpblwiKSFcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihuID0+IGxldmVscy5nZXQoZGVwdGgtMSkhLmhhcyhuKSAmJiBsYXN0UG9zaXRpb25zIS5oYXMobikpWzBdXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkZWFsQW5nbGUgPSBsYXN0UG9zaXRpb25zLmdldChwYXJlbnQpIVxuICAgICAgICAgICAgICAgICAgICBpZGVhbEFuZ2xlcy5zZXQobiwgaWRlYWxBbmdsZSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhc3NlcnQoaWRlYWxBbmdsZXMuc2l6ZSA9PSBub2Rlcy5zaXplKVxuXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG5vZGVzLnNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgaWRlYWxBbmdsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhPTBcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChmb3Jfc29tZShucywgcCA9PiBNYXRoLmFicyhwWzFdIC0gcGFpclsxXSkgPCBzdGVwU2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlyWzFdICs9IHN0ZXBTaXplICogYSAqICgoLTEpICoqIChhKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhKytcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5zLnNldChwYWlyWzBdLCBwYWlyWzFdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLm5vZGVzXVxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpIDwgbm9kZXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5zLnNldCh0ZW1wW2ldLCBpICogc3RlcFNpemUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhc3NlcnQobnMuc2l6ZSA9PSBub2Rlcy5zaXplLCBcIk9ubHkgcHJvZHVjZWQgXCIgKyBucy5zaXplICsgXCIgbm9kZXMgaW5zdGVhZCBvZiBcIiArIG5vZGVzLnNpemUpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxhc3RQb3NpdGlvbnMgPSBuZXcgTWFwKClcbiAgICAgICAgICAgIG5zLmZvckVhY2goKGFuZ2xlLCBub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMubm9kZXMuZ2V0KG5vZGUpITtcbiAgICAgICAgICAgICAgICAvL3ZpZXcuc3R5bGUud2lkdGggPSBcIlwiICsgc21hbGxSICsgXCJweFwiXG4gICAgICAgICAgICAgICAgLy92aWV3LnN0eWxlLmhlaWdodCA9IFwiXCIgKyBzbWFsbFIgKyBcInB4XCJcbiAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb25zIS5zZXQobm9kZSwgYW5nbGUpXG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGNhcnRlc2lhbiBwb2ludCBmcm9tIHRoZSByYWRpdXMgYW5kIGFuZ2xlXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIGNlbnRlci54XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIGNlbnRlci55XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlUG9zaXRpb25zLnNldCh2aWV3LCBQb2ludCh4LCB5KSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBhc3NlcnQoZm9yX2FsbChsYXN0UG9zaXRpb25zLnZhbHVlcygpLCBwb3MgPT4gcG9zICE9IHVuZGVmaW5lZCAmJiBwb3MgIT0gbnVsbCkpXG4gICAgICAgICAgICAvL2Fzc2VydChsYXN0UG9zaXRpb25zLnNpemUgPiAwKVxuICAgICAgICAgICAgLy9hc3NlcnQoZm9yX2FsbChub2RlcywgbGFzdFBvc2l0aW9ucy5oYXMpKVxuXG4gICAgICAgICAgICBjb25zdCByaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICAgICAgcmluZy5zdHlsZS5ib3JkZXIgPSBcImxpZ2h0Z3JheSBzb2xpZCAwLjNjaFwiXG4gICAgICAgICAgICByaW5nLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiMTAwJVwiXG4gICAgICAgICAgICByaW5nLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICByaW5nLnN0eWxlLnpJbmRleCA9IFJJTkdfWlxuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChyaW5nKVxuICAgICAgICAgICAgdGhpcy5yaW5nRWxlbWVudHMuYWRkKHJpbmcpXG4gICAgICAgICAgICB0aGlzLnJpbmdQb3NpdGlvbnMuc2V0KHJpbmcsIHtyYWRpdXM6IHJhZGl1c30pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgYXJhbmdlIHRoZSBlZGdlc1xuICAgICAgICB0aGlzLmVkZ2VzLmZvckVhY2goKHZpZXcsIGVkZ2UpID0+IHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIG1pZGRsZSBvZiB0aGUgdHdvIGVuZHB0c1xuICAgICAgICAgICAgY29uc3QgZmlyc3RYID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldCh0aGlzLm5vZGVzLmdldChlZGdlLm4pISkhLng7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFkgPSB0aGlzLm5vZGVQb3NpdGlvbnMuZ2V0KHRoaXMubm9kZXMuZ2V0KGVkZ2UubikhKSEueTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFggPSB0aGlzLm5vZGVQb3NpdGlvbnMuZ2V0KHRoaXMubm9kZXMuZ2V0KGVkZ2UubjEpISkhLng7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRZID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldCh0aGlzLm5vZGVzLmdldChlZGdlLm4xKSEpIS55O1xuICAgICAgICAgICAgY29uc3QgeCA9IChmaXJzdFggKyBzZWNvbmRYKSAvIDJcbiAgICAgICAgICAgIGNvbnN0IHkgPSAoZmlyc3RZICsgc2Vjb25kWSkgLyAyXG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoc2Vjb25kWSAtIGZpcnN0WSwgc2Vjb25kWCAtIGZpcnN0WClcbiAgICAgICAgICAgIHRoaXMuZWRnZVBvc2l0aW9ucy5zZXQodmlldywge3g6IHgsIHk6IHksIGFuZ2xlOiBhbmdsZX0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBkcmF3IHBvc2l0aW9uIG9mIHRoZSBub2RlcyBvbiB0aGUgc2NyZWVuXG4gICAgICogdG8gbWF0Y2ggdGhlIG9mZnNldCBpbiByZXAuIEFzc3VtZXMgYWxsIHZpZXdzIGhhdmUgYSBwb3NpdGlvblxuICAgICAqIHN0b3JlZCBpbiB0aGUgcmVwLiBDYWxsIGFycmFuZ2UoKSBmaXJzdC5cbiAgICAgKiBBbHNvIGFwcGxpZXMgdGhlIHNjYWxlIGZhY3RvciB0byB0aGUgZmluYWwgZHJhdyBwb3NpdGlvbnMsIFxuICAgICAqIGludmlzaWJsZSB0byBldmVyeW9uZSBlbHNlLlxuICAgICAqL1xuICAgIHByaXZhdGUgdXBkYXRlT2Zmc2V0KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlcjtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnNjYWxlXG5cbiAgICAgICAgZnVuY3Rpb24gYXBwbHlTY2FsZShpOiBQb2ludCk6IFBvaW50IHtcbiAgICAgICAgICAgIHJldHVybiBQb2ludChcbiAgICAgICAgICAgICAgICAoKGkueCktY2VudGVyLngpICogc2NhbGUgKyBjZW50ZXIueCxcbiAgICAgICAgICAgICAgICAoKGkueSktY2VudGVyLnkpICogc2NhbGUgKyBjZW50ZXIueVxuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ub2RlUG9zaXRpb25zLmZvckVhY2goKHBvcywgdmlldykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWQgPSBhcHBseVNjYWxlKHtcbiAgICAgICAgICAgICAgICB4OiBwb3MueCArIHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiBwb3MueSArIHRoaXMub2Zmc2V0WSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB2aWV3LnN0eWxlLmxlZnQgPSBcIlwiICsgKGFkanVzdGVkLnggLSAoMC41ICogdmlldy5vZmZzZXRXaWR0aCkpICsgXCJweFwiXG4gICAgICAgICAgICB2aWV3LnN0eWxlLnRvcCA9IFwiXCIgKyAoYWRqdXN0ZWQueSAtICgwLjUgKiB2aWV3Lm9mZnNldEhlaWdodCkpICsgXCJweFwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5lZGdlUG9zaXRpb25zLmZvckVhY2goKHBvcywgdmlldykgPT4ge1xuICAgICAgICAgICAgdmlldy5zZXRBbmdsZShwb3MuYW5nbGUpXG4gICAgICAgICAgICBpZiAodGhpcy5kcmF3RWRnZUxpbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQb3MgPSB0aGlzLm5vZGVQb3NpdGlvbnMuZ2V0KHRoaXMubm9kZXMuZ2V0KHZpZXcuZmlyc3QpISkhXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kUG9zID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldCh0aGlzLm5vZGVzLmdldCh2aWV3LnNlY29uZCkhKSFcbiAgICAgICAgICAgICAgICB2aWV3LndpZHRoID0gXCJcIiArICAoc2NhbGUgKiBNYXRoLmh5cG90KHNlY29uZFBvcy54IC0gZmlyc3RQb3MueCwgc2Vjb25kUG9zLnkgLSBmaXJzdFBvcy55KSkgKyBcInB4XCJcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLmJvcmRlckJvdHRvbSA9IFwiYmxhY2sgMC4xY2ggc29saWRcIlxuICAgICAgICAgICAgICAgIHZpZXcuc3R5bGUuYm9yZGVyVG9wID0gXCJibGFjayAwLjFjaCBzb2xpZFwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcud2lkdGggPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLmJvcmRlckJvdHRvbSA9IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgdmlldy5zdHlsZS5ib3JkZXJUb3AgPSBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZCA9IGFwcGx5U2NhbGUoe1xuICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgdGhpcy5vZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgdGhpcy5vZmZzZXRZLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdmlldy5zdHlsZS5sZWZ0ID0gXCJcIiArIChhZGp1c3RlZC54ICAtICgwLjUgKiB2aWV3Lm9mZnNldFdpZHRoKSkgKyBcInB4XCJcbiAgICAgICAgICAgIHZpZXcuc3R5bGUudG9wID0gXCJcIiArIChhZGp1c3RlZC55ICAtICgwLjUgKiB2aWV3Lm9mZnNldEhlaWdodCkpICsgXCJweFwiXG4gICAgICAgIH0pXG4gICAgXG4gICAgICAgIC8vIE92ZXJsYXkgZWxlbWVudHMgY2hhbmdlIHNpemUgd2l0aCBzY2FsZVxuICAgICAgICB0aGlzLnJpbmdQb3NpdGlvbnMuZm9yRWFjaCgocG9zLCB2aWV3KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZENlbnRlclBvcyA9IGFwcGx5U2NhbGUoe1xuICAgICAgICAgICAgICAgIHg6IGNlbnRlci54ICsgdGhpcy5vZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IGNlbnRlci55ICsgdGhpcy5vZmZzZXRZLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHZpZXcuc3R5bGUubGVmdCA9IFwiXCIgKyAoYWRqdXN0ZWRDZW50ZXJQb3MueCAtIChwb3MucmFkaXVzICogc2NhbGUpKSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS50b3AgPSBcIlwiICsgKGFkanVzdGVkQ2VudGVyUG9zLnkgLSAocG9zLnJhZGl1cyAqIHNjYWxlKSkgKyBcInB4XCJcbiAgICAgICAgICAgIHZpZXcuc3R5bGUud2lkdGggPSBcIlwiICsgcG9zLnJhZGl1cyAqIDIgKiBzY2FsZSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS5hc3BlY3RSYXRpbyA9IFwiMVwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5leHBsYW5hdGlvblBvcHVwcy5mb3JFYWNoKHZhbCA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gdmFsLmVcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHZhbC5wb3NcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkID0gYXBwbHlTY2FsZSh7XG4gICAgICAgICAgICAgICAgeDogcG9zLnggKyB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogcG9zLnkgKyB0aGlzLm9mZnNldFksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdmlldy5zdHlsZS5sZWZ0ID0gXCJcIiArIChhZGp1c3RlZC54ICAtICgwLjUgKiB2aWV3Lm9mZnNldFdpZHRoKSkgKyBcInB4XCJcbiAgICAgICAgICAgIHZpZXcuc3R5bGUudG9wID0gXCJcIiArIChhZGp1c3RlZC55ICAtICgwLjUgKiB2aWV3Lm9mZnNldEhlaWdodCkpICsgXCJweFwiXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcCBmcm9tIHJlbGF0aXZlIHNjcmVlbiBjb29yZGluYXRlcyAod2hlcmUgdGwgb2YgdGhpcyB2aWV3IGlzICgwLDApKVxuICAgICAqIHRvIHRoZSBpbnRlcm5hbCBjb29yZGluYXRlIHN5c3RlbSB3ZSdyZSB1c2luZy5cbiAgICAgKi9cbiAgICBwcml2YXRlIGdldEludGVybmFsUG9zKHBpeGVsUG9zOiBQb2ludCk6IFBvaW50IHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIFBvaW50IChcbiAgICAgICAgICAgIChwaXhlbFBvcy54IC0gY2VudGVyLngpIC8gc2NhbGUgKyBjZW50ZXIueCAtIHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICAgIChwaXhlbFBvcy55IC0gY2VudGVyLnkpIC8gc2NhbGUgKyBjZW50ZXIueSAtIHRoaXMub2Zmc2V0WSxcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWN0IHRvIGFuIGVkZ2UgYmVpbmcgY2xpY2tlZC5cbiAgICAgKiBAcGFyYW0gdmlldyBJbiB0aGlzIHZpZXdcbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIGNsaWNrIGV2ZW50XG4gICAgICovXG4gICAgcHVibGljIGVkZ2VDbGlja2VkKHZpZXc6IEVkZ2VWaWV3LCBldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBEb24ndCBhbGxvdyBkdXBsaWF0ZSBleHBsYW5hdGlvbiBwb3B1cHNcbiAgICAgICAgXG4gICAgICAgIGlmICh2aWV3LmVkZ2UgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgY29uc3QgcG9wdXAgPSBuZXcgRXhwbGFuYXRpb25Qb3B1cCh2aWV3LmVkZ2UsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHBvcHVwKVxuICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wOyBpIDwgdGhpcy5leHBsYW5hdGlvblBvcHVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5leHBsYW5hdGlvblBvcHVwc1tpXS5lID09PSBwb3B1cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBsYW5hdGlvblBvcHVwcy5zcGxpY2UoaSwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zdCByZWN0ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWx0aXZlWCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgICAgICAgICAvL1RPRE86IFRoZSBwb3NpdGlvbiBpc24ndCBjb3JyZWN0XG4gICAgICAgICAgICAvL1RPRE86IEFsZ29yaXRobSBmb3IgcGlja2luZyB3aGVyZSB3ZSBzaG91bGQgcHV0IHRoZSBwb3B1cCBzbyBpdCBzdGF5cyBvdXRcbiAgICAgICAgICAgIC8vIG9mIHRoZSB3YXkgb2YgdGhlIGdyYXBoXG4gICAgICAgICAgICB0aGlzLmV4cGxhbmF0aW9uUG9wdXBzLnB1c2goe1xuICAgICAgICAgICAgICAgIGU6IHBvcHVwLCBcbiAgICAgICAgICAgICAgICBwb3M6IHRoaXMuZ2V0SW50ZXJuYWxQb3MoUG9pbnQocmVhbHRpdmVYLCByZWxhdGl2ZVkpKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBwb3B1cC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgdGhpcy5hcHBlbmQocG9wdXApXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldCgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlb3JkZXJWaWV3U3RhY2sodmlldylcbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB6LWluZGV4IG9mIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIGdyYXBoXG4gICAgICogcHV0dGluZyB0aGUgZ2l2ZW4gcm9vdCBvbiB0b3AgYW5kIGl0J3MgbmVpZ2hib3JzXG4gICAgICogcmlnaHQgYmVuZWF0aCBpdCBldGMuXG4gICAgICogQHBhcmFtIHJvb3QgXG4gICAgICovXG4gICAgcHJpdmF0ZSByZW9yZGVyVmlld1N0YWNrKHJvb3Q6IEVkZ2VWaWV3IHwgR3JhcGhOb2RlVmlldyk6IHZvaWQge1xuICAgICAgICBpZiAocm9vdCBpbnN0YW5jZW9mIEdyYXBoTm9kZVZpZXcpIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKVxuXG4gICAgICAgIGlmIChyb290IGluc3RhbmNlb2YgRWRnZVZpZXcpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RzID0gW3Jvb3QuZmlyc3QsIHJvb3Quc2Vjb25kXVxuICAgICAgICAgICAgY29uc3Qgc3RhY2tpbmdPcmRlciA9IEdyYXBoTWluaXB1bGF0b3IuZ2V0TGV2ZWxzKHRoaXMuZ3JhcGgsIHJvb3RzKVxuICAgICAgICAgICAgc3RhY2tpbmdPcmRlci5mb3JFYWNoKChub2RlU2V0LCBkZXB0aCkgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGVTZXQuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNob3dBcmd1bWVudHMgJiYgbm9kZSBpbnN0YW5jZW9mIEFyZ3VtZW50KSByZXR1cm5cblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFkanVzdGluZ1wiKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlVmlldyA9IHRoaXMubm9kZXMuZ2V0KG5vZGUpIVxuICAgICAgICAgICAgICAgICAgICBub2RlVmlldy5zdHlsZS56SW5kZXggPSAoTk9ERV9NQVhfWiAtIDAuMDAwMSAqIGRlcHRoKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBFZGdlc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkZ2VzLmZvckVhY2goKGVkZ2UsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkZ2UuZmlyc3QgPT09IG5vZGUgfHwgZWRnZS5zZWNvbmQgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGdlLnN0eWxlLnpJbmRleCA9IChFREdFX01BWF9aIC0gMC4wMDAxICogZGVwdGgpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcE9rKCk6IHZvaWQge1xuICAgICAgICBhc3NlcnQgKHRoaXMucm9vdE5vZGVzLnNpemUgPiAwKVxuICAgICAgICBhc3NlcnQoR3JhcGhNaW5pcHVsYXRvci5pc0Nvbm5lY3RlZCh0aGlzLmdyYXBoKSwgXCJHcmFwaCBub3QgY29ubmVjdGVkXCIpXG4gICAgICAgIGlmICh0aGlzLnNob3dBcmd1bWVudHMpIGFzc2VydCh0aGlzLmdyYXBoLmdldE5vZGVzKCkuc2l6ZSA9PSB0aGlzLm5vZGVzLnNpemUpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBncmFwaDogR3JhcGg7XG4gICAgcHJpdmF0ZSByZWFkb25seSBpbnRlcnByZXRlcjogSW50ZXJwcmV0ZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBub2RlczogTWFwPE1hdGhHcmFwaE5vZGUsIEdyYXBoTm9kZVZpZXc+O1xuICAgIC8vIFRoZSBQb3NpdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoZSBub2RlLlxuICAgIHByaXZhdGUgcmVhZG9ubHkgbm9kZVBvc2l0aW9uczogTWFwPEdyYXBoTm9kZVZpZXcsIFBvaW50PjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkZ2VzOiBNYXA8e246IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9LCBFZGdlVmlldz47XG4gICAgcHJpdmF0ZSByZWFkb25seSBlZGdlUG9zaXRpb25zOiBNYXA8RWRnZVZpZXcsIEFuZ2xlUG9pbnQ+O1xuICAgIC8vIEFtdCB0byBhZGQgdG8gbGVmdCBjb29yZGluYXRlXG4gICAgcHJpdmF0ZSBvZmZzZXRYOiBudW1iZXI7XG4gICAgLy8gQWRkZWQgdG8gdG9wIGNvb3JkaW5hdGUgb2Ygbm9kZXNcbiAgICBwcml2YXRlIG9mZnNldFk6IG51bWJlcjtcbiAgICAvLyBpZiB0aGUgbW91c2UgaXMgZG93blxuICAgIHByaXZhdGUgbW91c2VEb3duOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSB0b3VjaERvd246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgc2NhbGU6IG51bWJlciA9IDE7XG5cbiAgICAvLyBUaGVzZSBub2RlcyBhcmUgdGhlIHJvb3Qgb2YgdGhlIGdyYXBoXG4gICAgcHJpdmF0ZSByb290Tm9kZXM6IFNldDxNYXRoR3JhcGhOb2RlPjtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmluZ0VsZW1lbnRzOiBTZXQ8SFRNTEVsZW1lbnQ+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcmluZ1Bvc2l0aW9uczogTWFwPEhUTUxFbGVtZW50LCB7cmFkaXVzOiBudW1iZXJ9PjtcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9uIG9mIHRvcCBsZWZ0IG9mIHBvcHVwXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBleHBsYW5hdGlvblBvcHVwczoge2U6IEV4cGxhbmF0aW9uUG9wdXAsIHBvczogUG9pbnR9W11cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2VzdHVyZVJlY29nbml6ZXI6IFRvdWNoR2VzdHVyZVJlY29nbml6ZXI7XG5cbiAgICAvLyBJZiB0aGUgZ3JhcGggc2hvdWxkIGRyYXcgYXJndW1lbnQgbm9kZXMuXG4gICAgcHJpdmF0ZSBzaG93QXJndW1lbnRzOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBkcmF3RWRnZUxpbmVzOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBkZWJ1Z0Nvcm5lckVuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoXyA9PiB7XG4gICAgICAgIHRoaXMuYXJyYW5nZSgpXG4gICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0KClcbiAgICB9KVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBiYXNlTm9kZVN0eWxlID0gKHZpZXc6IEdyYXBoTm9kZVZpZXcpOiB2b2lkID0+IHtcbiAgICAgICAgdmlldy5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjFjaFwiXG4gICAgICAgIHZpZXcuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIlxuICAgICAgICB2aWV3LnN0eWxlLnpJbmRleCA9IFwiXCIgKyBOT0RFX01BWF9aO1xuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwid2ViLWdyYXBodmlld1wiLCBXZWJHcmFwaFZpZXcsIHtleHRlbmRzOiBcImRpdlwifSk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2ViR3JhcGhWaWV3SW5pdFNldHRpbmdzIHtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmlldyBzaG91bGQgZGlzcGxheSBhcmd1bWVudCBub2RlcyBhcyBub2Rlcy5cbiAgICAgKiBIZWxwZnVsIGZvciBkZWJ1Z2dpbmcuXG4gICAgICovXG4gICAgc2hvd0FyZ3VtZW50czogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIGRyYXdzIGEgbGluZSBmb3IgZXZlcnkgZWRnZSBjb25uZWN0aW5nXG4gICAgICogaXRzIHR3byBlbmQgcG9pbnRzLiAoTm90YXRlcyBkaXJlY3Rpb24gb2YgY29ubmVjdGlvbilcbiAgICAgKi9cbiAgICBkcmF3RWRnZUxpbmVzOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgc2hvd3MgYSBib3ggaW4gdGhlIGNvcm5lciBvZiB0aGUgdmlld1xuICAgICAqIHRoYXQgZ2l2ZXMgZGVidWcgaW5mbyBhYm91dCB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgZGVidWdDb3JuZXJFbmFibGVkOiBib29sZWFuO1xufVxuXG50eXBlIFBvaW50ID0ge3g6IG51bWJlciwgeTogbnVtYmVyfVxudHlwZSBBbmdsZVBvaW50ID0gUG9pbnQgJiB7YW5nbGU6IG51bWJlci8qUmFkaWFucyAqL31cblxuZnVuY3Rpb24gUG9pbnQoeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBQb2ludCB8IEFuZ2xlUG9pbnQge1xuICAgIGlmIChhbmdsZSA9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHksXG4gICAgICAgIGFuZ2xlOiBhbmdsZSxcbiAgICB9XG59XG5cbi8vIFogSW5kZXggY29uc3RhbnRzXG5jb25zdCBERUJVR19XSU5ET1dfWiA9IFwiMTAwXCI7XG5jb25zdCBOT0RFX01BWF9aID0gNTtcbmNvbnN0IE5PREVfTUlOX1ogPSBcIjQuMDAwMDAxXCI7XG5jb25zdCBFREdFX01BWF9aID0gNDtcbmNvbnN0IEVER0VfTUlOX1ogPSBcIjMuMDAwMDAxXCI7XG5jb25zdCBSSU5HX1ogPSBcIi0xMFwiOyIsImltcG9ydCBhbnRscjQsIHsgUGFyc2VyUnVsZUNvbnRleHQgfSBmcm9tIFwiYW50bHI0XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5jb25zdCB7IENvbW1vblRva2VuU3RyZWFtLCBDaGFyU3RyZWFtIH0gPSBhbnRscjRcbmltcG9ydCBhcml0aG1ldGljTGV4ZXIgZnJvbSBcIi4vYXJpdGhtZXRpY0xleGVyXCJcbmltcG9ydCBhcml0aG1ldGljUGFyc2VyLCB7IEV4cHJlc3Npb25Db250ZXh0LCBPcGVuQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgRXhwcmVzc2lvblZpc2l0b3IgfSBmcm9tIFwiLi9NYXRoVmlzaXRvckltcGxcIlxuaW1wb3J0IHsgUHJpbnRWaXNpdG9yIH0gZnJvbSBcIi4vUHJpbnRWaXNpdG9yXCJcbmltcG9ydCB7IEZsYXR0ZW5lciB9IGZyb20gXCIuL0ZsYXR0ZW5lclwiXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIlxuXG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gaW5wdXQgc3RyaW5nIHRvIGFuIGV4cHJlc3Npb24uXG4gKiBAcGFyYW0gaW5wdXQgU2VlIHRoZSBncmFtYXIgZmlsZSAoLmc0KVxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUV4cHJlc3Npb24oaW5wdXQ6IHN0cmluZyk6IEV4cHJlc3Npb24ge1xuXG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IENoYXJTdHJlYW0oaW5wdXQsIHRydWUpXG4gICAgY29uc3QgbGV4ZXIgPSBuZXcgYXJpdGhtZXRpY0xleGVyKHN0cmVhbSlcbiAgICBjb25zdCB0b2tlbnMgPSBuZXcgQ29tbW9uVG9rZW5TdHJlYW0obGV4ZXIpXG4gICAgY29uc3QgcGFyc2VyID0gbmV3IGFyaXRobWV0aWNQYXJzZXIodG9rZW5zKVxuICAgIC8vcGFyc2VyLmJ1aWxkUGFyc2VUcmVlcyA9IHRydWVcbiAgICBjb25zdCB0cmVlID0gcGFyc2VyLmV4cHJlc3Npb24oKVxuXG4gICAgXG5cbiAgICB0cmVlLmFjY2VwdDxPcGVuQ29udGV4dD4obmV3IEZsYXR0ZW5lcigpKVxuXG4gICAgLy8gUHJpbnQgZGVidWcgaW5mb1xuICAgIC8vdHJlZS5hY2NlcHQobmV3IFByaW50VmlzaXRvcigpKVxuXG4gICAgY29uc3QgcmVzdWx0ID0gdHJlZS5hY2NlcHQ8RXhwcmVzc2lvbj4obmV3IEV4cHJlc3Npb25WaXNpdG9yKCkpXG4gICAgYXNzZXJ0KHJlc3VsdCAhPSBudWxsICYmIHJlc3VsdCAhPSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuIiwiaW1wb3J0IHsgUGFyc2VyUnVsZUNvbnRleHQsIFBhcnNlVHJlZSwgVGVybWluYWxOb2RlIH0gZnJvbSBcImFudGxyNFwiO1xuaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSBcIi4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgQ2xvc2VkQ29udGV4dCwgRXhwcmVzc2lvbkNvbnRleHQsIE9wZW5Db250ZXh0LCBQcm9kdWN0Q29udGV4dCwgU3VtQ29udGV4dCwgVW5hcnlPbkV4cHJlc3Npb25Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IGFyaXRobWV0aWNWaXNpdG9yIGZyb20gXCIuL2FyaXRobWV0aWNWaXNpdG9yXCI7XG5cblxuLyoqXG4gKiBWaXNpdG9yIHRoYXQgZmxhdHRlbnMgc3VtcyBhbmQgcHJvZHVjdHMgaW4gQVNUcy5cbiAqIGEgKyAoYiArIGMpIC0+IGEgKyBiICsgY1xuICogXG4gKiBUaGlzIG9ubHkgaGFwcGVucyBpZiBiICsgYyBpc24ndCBhY3R1YWxseSBzdXJyb3VuZGVkIFxuICogYnkgcGFyZW5zLlxuICogXG4gKiAgICAgICAgK1xuICogICAgICAgLyBcXFxuICogICAgICBhICAgK1xuICogICAgICAgICAvIFxcXG4gKiAgICAgICAgYiAgIGNcbiAqIFxuICogYmVjb21lc1xuICogXG4gKiAgICAgICArXG4gKiAgICAgIC98XFxcbiAqICAgICBhIGIgY1xuICogICBcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgRmxhdHRlbmVyIGV4dGVuZHMgYXJpdGhtZXRpY1Zpc2l0b3I8Q2xvc2VkQ29udGV4dD4ge1xuXG4gICAgdmlzaXRTdW0gPSAoY3R4OiBTdW1Db250ZXh0KTogQ2xvc2VkQ29udGV4dCA9PiB7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZCA9IHRoaXMuZmxhdHRlbkFkZGl0aW9uKGN0eClcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmbGF0dGVuZWQuY2hpbGRyZW4hKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0KGNoaWxkKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbGF0dGVuZWRcbiAgICB9XG5cbiAgICBwcml2YXRlIHByaW50Q2hpbGRyZW4oY3R4OiBTdW1Db250ZXh0KTogdm9pZCB7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY3R4LmNoaWxkcmVuISkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNoaWxkLmdldFRleHQoKSArIFwiICBcIiBcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXG4gICAgICAgIC8vY29uc29sZS5sb2coY3R4LnRvU3RyaW5nVHJlZShudWxsLCBjdHgucGFyc2VyISkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIGdpdmVuIHN1bSdzIGNoaWxkcmVuIGFyZSBhbHNvIHN1bXMsIFxuICAgICAqIHNldHMgdGhvc2Ugc3VtcyBwYXJlbnRzIHRvIHRoZSBjdHguXG4gICAgICogVGhlIGdpdmVuIHN1bWNvbnRleHQgYW5kIGFsbCBpdHMgc3VtIGNoaWxkcmVuXG4gICAgICogbXVzdCBoYXZlIGV4YWN0bHkgMiBleHByZXNzaW9uIHBhcnQgY2hpbGRyZW4uXG4gICAgICogVGhpcyBwcmV2ZW50cyB0aGUgbWluZCBmdWNrIG9mIHJlYXJyYW5naW5nIHRoZVxuICAgICAqIEFTVCBvbiB0aGUgd2F5IGJhY2sgb3V0LlxuICAgICAqL1xuICAgIHByaXZhdGUgZmxhdHRlbkFkZGl0aW9uKGN0eDogU3VtQ29udGV4dCk6IENsb3NlZENvbnRleHQge1xuICAgICAgICAvLyBDaGVjayBpZiBjaGlsZHJlbiBhcmUgc3Vtc1xuICAgICAgICAvLyBSZWFjaCBkb3duIGFuZCB0YWtlIHRoZWlyIGNoaWxkcmVuXG4gICAgICAgIGZ1bmN0aW9uIHRha2VDaGlsZHJlbihjaGlsZDogU3VtQ29udGV4dCkge1xuICAgICAgICAgICAgcmVtb3ZlKGN0eC5jaGlsZHJlbiEsIGNoaWxkKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBNb3ZlIHRoZSBleHByZXNzaW9uIHVwXG4gICAgICAgICAgICBpZiAoY2hpbGQuX3JpZ2h0IGluc3RhbmNlb2YgU3VtQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRha2VDaGlsZHJlbihjaGlsZC5fcmlnaHQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9yaWdodC5wYXJlbnRDdHggPSBjdHhcbiAgICAgICAgICAgICAgICBjdHguY2hpbGRyZW4hLnVuc2hpZnQoY2hpbGQuX3JpZ2h0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBpc24ndCBhbHdheXMgY29ycmVjdCBiZWNhdXNlIG5lZ2F0aW9uIG9mIHN1bXNcbiAgICAgICAgICAgIC8vIE9yIGlzIGlzLi4uXG4gICAgICAgICAgICAvLyBBbHNvIGxvb2sgYXQgcHJvZHVjdCBmbGF0dGVuaW5nXG5cbiAgICAgICAgICAgIC8vIE1vdmUgdGhlIG9wZXJhdG9yIHVwXG4gICAgICAgICAgICBpZiAoY2hpbGQuTUlOVVMoKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuTUlOVVMoKS5wYXJlbnRDdHggPSBjdHhcbiAgICAgICAgICAgICAgICBjdHguY2hpbGRyZW4hLnVuc2hpZnQoY2hpbGQuTUlOVVMoKSlcbiAgICAgICAgICAgICAgICAvL3JlbW92ZShjaGlsZC5jaGlsZHJlbiEsIGNoaWxkLk1JTlVTKCkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkLlBMVVMoKS5wYXJlbnRDdHggPSBjdHhcbiAgICAgICAgICAgICAgICBjdHguY2hpbGRyZW4hLnVuc2hpZnQoY2hpbGQuUExVUygpKVxuICAgICAgICAgICAgICAgIC8vcmVtb3ZlKGNoaWxkLmNoaWxkcmVuISwgY2hpbGQuUExVUygpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoY2hpbGQuX2xlZnQgaW5zdGFuY2VvZiBTdW1Db250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGFrZUNoaWxkcmVuKGNoaWxkLl9sZWZ0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fbGVmdC5wYXJlbnRDdHggPSBjdHhcbiAgICAgICAgICAgICAgICBjdHguY2hpbGRyZW4hLnVuc2hpZnQoY2hpbGQuX2xlZnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudEN0eCA9IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguX2xlZnQgaW5zdGFuY2VvZiBTdW1Db250ZXh0KSBcbiAgICAgICAgICAgIHRha2VDaGlsZHJlbihjdHguX2xlZnQpXG4gICAgICAgIGlmIChjdHguX3JpZ2h0IGluc3RhbmNlb2YgU3VtQ29udGV4dCkgXG4gICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY3R4Ll9yaWdodClcblxuICAgICAgICByZXR1cm4gY3R4XG4gICAgfVxuXG4gICAgdmlzaXRQcm9kdWN0ID0gKGN0eDogUHJvZHVjdENvbnRleHQpOiBDbG9zZWRDb250ZXh0ID0+IHtcbiAgICAgICAgY29uc3QgZmxhdHRlbmVkID0gdGhpcy5mbGF0dGVuUHJvZHVjdChjdHgpXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmxhdHRlbmVkLmNoaWxkcmVuISkge1xuICAgICAgICAgICAgdGhpcy52aXNpdChjaGlsZClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhdHRlbmVkXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmbGF0dGVuUHJvZHVjdChjdHg6IFByb2R1Y3RDb250ZXh0KTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJGbGF0dGVuaW5nIHByb2R1Y3QgXCIgKyBjdHguZ2V0VGV4dCgpICsgXCIgdG9cIilcblxuICAgICAgICBmdW5jdGlvbiBpbnN0YW5jZU9mUHJvZHVjdChjaGlsZDogUGFyc2VyUnVsZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZCBpbnN0YW5jZW9mIFByb2R1Y3RDb250ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgY2hpbGRyZW4gYXJlIHN1bXNcbiAgICAgICAgLy8gUmVhY2ggZG93biBhbmQgdGFrZSB0aGVpciBjaGlsZHJlblxuICAgICAgICBmdW5jdGlvbiB0YWtlQ2hpbGRyZW4oY2hpbGQ6IFByb2R1Y3RDb250ZXh0KSB7XG4gICAgICAgICAgICByZW1vdmUoY3R4LmNoaWxkcmVuISwgY2hpbGQpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZU9mUHJvZHVjdChjaGlsZC5fcmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgdGFrZUNoaWxkcmVuKGNoaWxkLl9yaWdodCBhcyBQcm9kdWN0Q29udGV4dClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX3JpZ2h0LnBhcmVudEN0eCA9IGN0eFxuICAgICAgICAgICAgICAgIGN0eC5jaGlsZHJlbiEudW5zaGlmdChjaGlsZC5fcmlnaHQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE1vdmUgdGhlIG9wZXJhdG9yIHVwXG4gICAgICAgICAgICBpZiAoY2hpbGQuVElNRVMoKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuVElNRVMoKS5wYXJlbnRDdHggPSBjdHhcbiAgICAgICAgICAgICAgICBjdHguY2hpbGRyZW4hLnVuc2hpZnQoY2hpbGQuVElNRVMoKSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlT2ZQcm9kdWN0KGNoaWxkLl9sZWZ0KSkge1xuICAgICAgICAgICAgICAgIHRha2VDaGlsZHJlbihjaGlsZC5fbGVmdCBhcyBQcm9kdWN0Q29udGV4dClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2xlZnQucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLl9sZWZ0KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnRDdHggPSB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGFuY2VPZlByb2R1Y3QoY3R4Ll9sZWZ0KSlcbiAgICAgICAgICAgIHRha2VDaGlsZHJlbihjdHguX2xlZnQgYXMgUHJvZHVjdENvbnRleHQpXG4gICAgICAgIGlmIChpbnN0YW5jZU9mUHJvZHVjdChjdHguX3JpZ2h0KSkgXG4gICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY3R4Ll9yaWdodCBhcyBQcm9kdWN0Q29udGV4dClcblxuICAgICAgICAvL2NvbnNvbGUubG9nKGN0eC5nZXRUZXh0KCkpXG4gICAgICAgIHJldHVybiBjdHhcbiAgICB9XG59IiwiaW1wb3J0IGFudGxyNCBmcm9tIFwiYW50bHI0XCJcbmltcG9ydCB7IHN1bSB9IGZyb20gXCJtYXRoanNcIjtcbmltcG9ydCB7IG5lZ2F0aXZlLCBwcm9kdWN0IH0gZnJvbSBcIi4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwb25lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRnJhY3Rpb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuaW1wb3J0IHsgSW50ZWdyYWwgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvSW50ZWdyYWxcIjtcbmltcG9ydCB7IExvZ2FyaXRobSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9Mb2dhcml0aG1cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgVmFyaWFibGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvVmFyaWFibGVcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL2Fzc2VydFwiO1xuaW1wb3J0IHsgQXRvbUNvbnRleHQsIERpdmlzaW9uQ29udGV4dCwgRXF1YXRpb25Db250ZXh0LCBFeHByZXNzaW9uQ29udGV4dCwgQ2xvc2VkQ29udGV4dCwgUGFyZW5Db250ZXh0LCBQb3dlckNvbnRleHQsIFByb2R1Y3RDb250ZXh0LCBSZWxvcENvbnRleHQsIFN1bUNvbnRleHQsIFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCwgT3BlbkNvbnRleHQsIENsb3NlZEF0b21Db250ZXh0LCBDbG9zZWRJc1JpZ2h0X0Nsb3NlZENvbnRleHQsIFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQsIFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQsIEludGVncmFsQ29udGV4dCwgTG9nQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCBhcml0aG1ldGljVmlzaXRvciBmcm9tIFwiLi9hcml0aG1ldGljVmlzaXRvclwiO1xuXG4vKipcbiAqIFJlYWRzIG91dCBhbiBleHByZXNzaW9uLlxuICovXG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvblZpc2l0b3IgZXh0ZW5kcyBhcml0aG1ldGljVmlzaXRvcjxFeHByZXNzaW9uPiB7XG5cbiAgICBwcml2YXRlIHByaW50Q2hpbGRyZW4oY3R4OiBPcGVuQ29udGV4dCk6IHZvaWQge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN0eC5jaGlsZHJlbiEpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjaGlsZC5nZXRUZXh0KCkgKyBcIiAgXCJcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXG4gICAgfVxuXG4gICAgdmlzaXRFeHByZXNzaW9uID0gKGN0eDogRXhwcmVzc2lvbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4Lm9wZW4oKSlcbiAgICB9O1xuXG5cdHZpc2l0RXF1YXRpb24gPSAoY3R4OiBFcXVhdGlvbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcGFyc2UgZXF1YXRpb25zIHdpdGggdGhpcyB2aXNpdG9yXCIpXG4gICAgfTtcblxuICAgIHZpc2l0UG93ZXIgPSAoY3R4OiBQb3dlckNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlBvd2VyXCIpXG4gICAgICAgIC8vdGhpcy5wcmludENoaWxkcmVuKGN0eClcbiAgICAgICAgLy9jb25zb2xlLmxvZyhjdHguX2xlZnQuZ2V0VGV4dCgpKVxuICAgICAgICAvL2NvbnNvbGUubG9nKGN0eC5fcmlnaHQuZ2V0VGV4dCgpKVxuICAgICAgICByZXR1cm4gRXhwb25lbnQub2YoXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5fbGVmdCksXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5fcmlnaHQpXG4gICAgICAgIClcbiAgICB9XG5cbiAgICB2aXNpdFBhcmVuID0gKGN0eDogUGFyZW5Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5vcGVuKCkpXG4gICAgfVxuXG4gICAgdmlzaXREaXZpc2lvbiA9IChjdHg6IERpdmlzaW9uQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gRnJhY3Rpb24ub2YoXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5fbGVmdCksXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5fcmlnaHQpXG4gICAgICAgIClcbiAgICB9XG5cbiAgICB2aXNpdFByb2R1Y3QgPSAoY3R4OiBQcm9kdWN0Q29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gUHJvZHVjdC5vZihbXG4gICAgICAgICAgICAuLi5jdHguY2xvc2VkX2xpc3QoKS5tYXAoZXhwID0+IHRoaXMudmlzaXQoZXhwKSlcbiAgICAgICAgXSlcbiAgICB9XG5cbiAgICB2aXNpdFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdCA9IChjdHg6IFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJpZ2h0IGNsb3NlZCBpbXBsaWNpdCBwcm9kdWN0IG9mIGNvbnRleHRcIilcbiAgICAgICAgLy90aGlzLnByaW50Q2hpbGRyZW4oY3R4KVxuICAgICAgICByZXR1cm4gUHJvZHVjdC5vZihbXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5fbGVmdCksXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5fcmlnaHQpXG4gICAgICAgIF0pXG4gICAgfVxuXG4gICAgdmlzaXRJbnRlZ3JhbCA9IChjdHg6IEludGVncmFsQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gSW50ZWdyYWwub2YoXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5faW50ZWdyYW5kKSxcbiAgICAgICAgICAgIFZhcmlhYmxlLm9mKCd4JylcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHZpc2l0TG9nID0gKGN0eDogTG9nQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gTG9nYXJpdGhtLm9mKFxuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX2NvbnRlbnQpLFxuICAgICAgICAgICAgY3R4Ll9iYXNlID09IHVuZGVmaW5lZCA/IEludGVnZXIub2YoMTApIDogdGhpcy52aXNpdChjdHguX2Jhc2UpXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvLyB2aXNpdFVuYXJ5T25BdG9tID0gKGN0eDogVW5hcnlPbkF0b21Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgLy8gICAgIGNvbnN0IGlzUG9zaXRpdmUgPSBjdHguTUlOVVNfbGlzdC5sZW5ndGggJSAyID09IDBcbiAgICAvLyAgICAgaWYgKGlzUG9zaXRpdmUpXG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy52aXNpdChjdHguYXRvbSgpKVxuICAgIC8vICAgICByZXR1cm4gbmVnYXRpdmUodGhpcy52aXNpdChjdHguYXRvbSgpKSlcbiAgICAvLyB9XG5cbiAgICB2aXNpdFVuYXJ5T25FeHByZXNzaW9uID0gKGN0eDogVW5hcnlPbkV4cHJlc3Npb25Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIGNvbnN0IGlzUG9zaXRpdmUgPSBjdHguTUlOVVMoKSA9PSBudWxsXG4gICAgICAgIGlmIChpc1Bvc2l0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4LmNsb3NlZCgpKVxuICAgICAgICByZXR1cm4gbmVnYXRpdmUodGhpcy52aXNpdChjdHguY2xvc2VkKCkpKVxuICAgIH1cblxuICAgIHZpc2l0U3VtID0gKGN0eDogU3VtQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlZpc2l0aW5nIHN1bSB3aXRoIFwiICsgY3R4LmNoaWxkcmVuIS5sZW5ndGggKyBcIiBjaGlsZHJlbjogXCIgKyBjdHgudG9TdHJpbmdUcmVlKG51bGwsIGN0eC5wYXJzZXIhKSlcblxuICAgICAgICAvLyB0aGlzLnByaW50Q2hpbGRyZW4oY3R4KVxuXG4gICAgICAgIC8vIFN1bSBvZiBwbHVzIGFuZCBtaW51cyBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IHRlcm1zOiBFeHByZXNzaW9uW10gPSBbdGhpcy52aXNpdChjdHguY2hpbGRyZW4hWzBdKV07XG4gICAgICAgIGZvciAobGV0IGk9MTsgaSA8IGN0eC5jaGlsZHJlbiEubGVuZ3RoOyBpKz0gMikge1xuICAgICAgICAgICAgaWYgKGN0eC5jaGlsZHJlbiFbaV0uZ2V0VGV4dCgpID09ICctJylcbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKG5lZ2F0aXZlKHRoaXMudmlzaXQoY3R4LmNoaWxkcmVuIVtpKzFdKSkpXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHRoaXMudmlzaXQoY3R4LmNoaWxkcmVuIVtpKzFdKSlcbiAgICAgICAgICAgIH0gICBcbiAgICAgICAgfVxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiUHJpbnRpbmcgbWFkZSB0ZXJtc1wiKVxuICAgICAgICBmb3IoY29uc3QgdGVybSBvZiB0ZXJtcykge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIiAgXCIgKyB0ZXJtLnRvU3RyaW5nKCkpXG4gICAgICAgIH1cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImRvbmVcIilcbiAgICAgICAgcmV0dXJuIFN1bS5vZih0ZXJtcylcbiAgICB9XG5cblx0Ly8gdmlzaXRFeHByZXNzaW9uID0gKGN0eDogRXhwcmVzc2lvbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAvLyAgICAgLy8gR3Vlc3Mgd2hhdCBleHByZXNzaW9uIHR5cGUgaXQgaXMsIGZvbGxvd2luZyBwZW1kYXNcbiAgICAvLyAgICAgaWYgKChjdHguUExVUygwKSAhPSBudWxsIHx8IGN0eC5NSU5VUygwKSAhPSBudWxsKSBcbiAgICAvLyAgICAgICAgICAgICAmJiAoY3R4LmV4cHJlc3Npb25fbGlzdCgpLmxlbmd0aCA/PyAwKSA+IDEpIHtcbiAgICAgICAgICAgIFxuXG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gZXhwcmVzc2lvbiB0eXBlXCIpXG4gICAgLy8gICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjdHgpKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coYCR7a2V5fTogJHsoY3R4IGFzIGFueSlba2V5XX1gKVxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3R4KSkge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2tleX06ICR7KGN0eCBhcyBhbnkpW2tleV19YClcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiRXhwcmVzc2lvbnM6IFwiICsgY3R4LmV4cHJlc3Npb25fbGlzdCgpLmxlbmd0aClcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiTnVtIGNoaWxkcmVuOiBcIiArIGN0eC5jaGlsZHJlbiEubGVuZ3RoKVxuICAgIC8vICAgICAgICAgaWYgKGN0eC5jaGlsZHJlbj8ubGVuZ3RoID8/IDAgPiAwKVxuICAgIC8vICAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY3R4LmNoaWxkcmVuISkge1xuICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoaWxkOiBcIiArIGNoaWxkLmdldFRleHQoKSlcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQgMVwiKVxuICAgIC8vICAgICB9XG4gICAgLy8gfTtcblxuXHR2aXNpdEF0b20gPSAoY3R4OiBBdG9tQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICBpZiAoY3R4LlZBUklBQkxFKCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFZhcmlhYmxlLm9mKGN0eC5WQVJJQUJMRSgpLmdldFRleHQoKSlcbiAgICAgICAgfSBlbHNlIGlmIChjdHguU0NJRU5USUZJQ19OVU1CRVIoKSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gSW50ZWdlci5vZihcbiAgICAgICAgICAgICAgICBOdW1iZXIucGFyc2VGbG9hdChcbiAgICAgICAgICAgICAgICAgICAgY3R4LlNDSUVOVElGSUNfTlVNQkVSKCkuZ2V0VGV4dCgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZpc2l0Q2xvc2VkQXRvbSA9IChjdHg6IENsb3NlZEF0b21Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5hdG9tKCkpXG4gICAgfVxuXG4gICAgdmlzaXRDbG9zZWRJc1JpZ2h0X0Nsb3NlZCA9IChjdHg6IENsb3NlZElzUmlnaHRfQ2xvc2VkQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdChjdHguY2xvc2VkKCkpXG4gICAgfVxuXG4gICAgdmlzaXRSaWdodF9DbG9zZWRJc09wZW4gPSAoY3R4OiBSaWdodF9DbG9zZWRJc09wZW5Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5yaWdodF9jbG9zZWQoKSlcbiAgICB9XG5cblx0dmlzaXRSZWxvcCA9IChjdHg6IFJlbG9wQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaG91bGRuJ3QgaGFwcGVuIHdpdGggdGhpcyB2aXNpdG9yIGltcGxcIilcbiAgICB9O1xuXG59XG5cblxuXG4iLCIvLyBHZW5lcmF0ZWQgZnJvbSAuL3NyYy9tYXRobGliL3VzZXJpbnB1dC9hcml0aG1ldGljLmc0IGJ5IEFOVExSIDQuMTMuMFxuLy8gbm9pbnNwZWN0aW9uIEVTNlVudXNlZEltcG9ydHMsSlNVbnVzZWRHbG9iYWxTeW1ib2xzLEpTVW51c2VkTG9jYWxTeW1ib2xzXG5pbXBvcnQge1xuXHRBVE4sXG5cdEFUTkRlc2VyaWFsaXplcixcblx0Q2hhclN0cmVhbSxcblx0RGVjaXNpb25TdGF0ZSwgREZBLFxuXHRMZXhlcixcblx0TGV4ZXJBVE5TaW11bGF0b3IsXG5cdFJ1bGVDb250ZXh0LFxuXHRQcmVkaWN0aW9uQ29udGV4dENhY2hlLFxuXHRUb2tlblxufSBmcm9tIFwiYW50bHI0XCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBhcml0aG1ldGljTGV4ZXIgZXh0ZW5kcyBMZXhlciB7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU0NJRU5USUZJQ19OVU1CRVIgPSAxO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExQQVJFTiA9IDI7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUlBBUkVOID0gMztcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBQTFVTID0gNDtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBNSU5VUyA9IDU7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVElNRVMgPSA2O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERJViA9IDc7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgR1QgPSA4O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExUID0gOTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBFUSA9IDEwO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPSU5UID0gMTE7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUE9XID0gMTI7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSU5UID0gMTM7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTE9HID0gMTQ7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVkFSSUFCTEUgPSAxNTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBXUyA9IDE2O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVPRiA9IFRva2VuLkVPRjtcblxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGNoYW5uZWxOYW1lczogc3RyaW5nW10gPSBbIFwiREVGQVVMVF9UT0tFTl9DSEFOTkVMXCIsIFwiSElEREVOXCIgXTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBsaXRlcmFsTmFtZXM6IChzdHJpbmcgfCBudWxsKVtdID0gWyBudWxsLCBudWxsLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJygnXCIsIFwiJyknXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCInKydcIiwgXCInLSdcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLCBcIicvJ1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJz4nXCIsIFwiJzwnXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCInPSdcIiwgXCInLidcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIideJ1wiIF07XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgc3ltYm9saWNOYW1lczogKHN0cmluZyB8IG51bGwpW10gPSBbIG51bGwsIFwiU0NJRU5USUZJQ19OVU1CRVJcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJMUEFSRU5cIiwgXCJSUEFSRU5cIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQTFVTXCIsIFwiTUlOVVNcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUSU1FU1wiLCBcIkRJVlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkdUXCIsIFwiTFRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFUVwiLCBcIlBPSU5UXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUE9XXCIsIFwiSU5UXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTE9HXCIsIFwiVkFSSUFCTEVcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJXU1wiIF07XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbW9kZU5hbWVzOiBzdHJpbmdbXSA9IFsgXCJERUZBVUxUX01PREVcIiwgXTtcblxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJ1bGVOYW1lczogc3RyaW5nW10gPSBbXG5cdFx0XCJTQ0lFTlRJRklDX05VTUJFUlwiLCBcIk5VTUJFUlwiLCBcIlVOU0lHTkVEX0lOVEVHRVJcIiwgXCJFXCIsIFwiTFwiLCBcIk9cIiwgXCJHXCIsIFxuXHRcdFwiU0lHTlwiLCBcIkxQQVJFTlwiLCBcIlJQQVJFTlwiLCBcIlBMVVNcIiwgXCJNSU5VU1wiLCBcIlRJTUVTXCIsIFwiRElWXCIsIFwiR1RcIiwgXCJMVFwiLCBcblx0XHRcIkVRXCIsIFwiUE9JTlRcIiwgXCJQT1dcIiwgXCJJTlRcIiwgXCJMT0dcIiwgXCJWQVJJQUJMRVwiLCBcIldTXCIsXG5cdF07XG5cblxuXHRjb25zdHJ1Y3RvcihpbnB1dDogQ2hhclN0cmVhbSkge1xuXHRcdHN1cGVyKGlucHV0KTtcblx0XHR0aGlzLl9pbnRlcnAgPSBuZXcgTGV4ZXJBVE5TaW11bGF0b3IodGhpcywgYXJpdGhtZXRpY0xleGVyLl9BVE4sIGFyaXRobWV0aWNMZXhlci5EZWNpc2lvbnNUb0RGQSwgbmV3IFByZWRpY3Rpb25Db250ZXh0Q2FjaGUoKSk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0IGdyYW1tYXJGaWxlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJhcml0aG1ldGljLmc0XCI7IH1cblxuXHRwdWJsaWMgZ2V0IGxpdGVyYWxOYW1lcygpOiAoc3RyaW5nIHwgbnVsbClbXSB7IHJldHVybiBhcml0aG1ldGljTGV4ZXIubGl0ZXJhbE5hbWVzOyB9XG5cdHB1YmxpYyBnZXQgc3ltYm9saWNOYW1lcygpOiAoc3RyaW5nIHwgbnVsbClbXSB7IHJldHVybiBhcml0aG1ldGljTGV4ZXIuc3ltYm9saWNOYW1lczsgfVxuXHRwdWJsaWMgZ2V0IHJ1bGVOYW1lcygpOiBzdHJpbmdbXSB7IHJldHVybiBhcml0aG1ldGljTGV4ZXIucnVsZU5hbWVzOyB9XG5cblx0cHVibGljIGdldCBzZXJpYWxpemVkQVROKCk6IG51bWJlcltdIHsgcmV0dXJuIGFyaXRobWV0aWNMZXhlci5fc2VyaWFsaXplZEFUTjsgfVxuXG5cdHB1YmxpYyBnZXQgY2hhbm5lbE5hbWVzKCk6IHN0cmluZ1tdIHsgcmV0dXJuIGFyaXRobWV0aWNMZXhlci5jaGFubmVsTmFtZXM7IH1cblxuXHRwdWJsaWMgZ2V0IG1vZGVOYW1lcygpOiBzdHJpbmdbXSB7IHJldHVybiBhcml0aG1ldGljTGV4ZXIubW9kZU5hbWVzOyB9XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBfc2VyaWFsaXplZEFUTjogbnVtYmVyW10gPSBbNCwwLDE2LDEyMyw2LC0xLDIsMCxcblx0NywwLDIsMSw3LDEsMiwyLDcsMiwyLDMsNywzLDIsNCw3LDQsMiw1LDcsNSwyLDYsNyw2LDIsNyw3LDcsMiw4LDcsOCwyLDksXG5cdDcsOSwyLDEwLDcsMTAsMiwxMSw3LDExLDIsMTIsNywxMiwyLDEzLDcsMTMsMiwxNCw3LDE0LDIsMTUsNywxNSwyLDE2LDcsXG5cdDE2LDIsMTcsNywxNywyLDE4LDcsMTgsMiwxOSw3LDE5LDIsMjAsNywyMCwyLDIxLDcsMjEsMiwyMiw3LDIyLDEsMCwxLDAsXG5cdDEsMCwzLDAsNTEsOCwwLDEsMCwxLDAsMywwLDU1LDgsMCwxLDEsNCwxLDU4LDgsMSwxMSwxLDEyLDEsNTksMSwxLDEsMSw0LFxuXHQxLDY0LDgsMSwxMSwxLDEyLDEsNjUsMywxLDY4LDgsMSwxLDIsNCwyLDcxLDgsMiwxMSwyLDEyLDIsNzIsMSwzLDEsMywxLFxuXHQ0LDEsNCwxLDUsMSw1LDEsNiwxLDYsMSw3LDEsNywxLDgsMSw4LDEsOSwxLDksMSwxMCwxLDEwLDEsMTEsMSwxMSwxLDEyLFxuXHQxLDEyLDEsMTMsMSwxMywxLDE0LDEsMTQsMSwxNSwxLDE1LDEsMTYsMSwxNiwxLDE3LDEsMTcsMSwxOCwxLDE4LDEsMTksMSxcblx0MTksMSwxOSwxLDE5LDEsMjAsMSwyMCwxLDIwLDEsMjAsMSwyMSwxLDIxLDEsMjIsNCwyMiwxMTgsOCwyMiwxMSwyMiwxMixcblx0MjIsMTE5LDEsMjIsMSwyMiwwLDAsMjMsMSwxLDMsMCw1LDAsNywwLDksMCwxMSwwLDEzLDAsMTUsMCwxNywyLDE5LDMsMjEsXG5cdDQsMjMsNSwyNSw2LDI3LDcsMjksOCwzMSw5LDMzLDEwLDM1LDExLDM3LDEyLDM5LDEzLDQxLDE0LDQzLDE1LDQ1LDE2LDEsXG5cdDAsMTEsMiwwLDY5LDY5LDEwMSwxMDEsMiwwLDc2LDc2LDEwOCwxMDgsMiwwLDc5LDc5LDExMSwxMTEsMiwwLDcxLDcxLDEwMyxcblx0MTAzLDIsMCw0Myw0Myw0NSw0NSwyLDAsNDIsNDIsMTgzLDE4MywyLDAsNzMsNzMsMTA1LDEwNSwyLDAsNzgsNzgsMTEwLDExMCxcblx0MiwwLDg0LDg0LDExNiwxMTYsMiwwLDY1LDkwLDk3LDEyMiwzLDAsOSwxMCwxMywxMywzMiwzMiwxMjIsMCwxLDEsMCwwLDAsXG5cdDAsMTcsMSwwLDAsMCwwLDE5LDEsMCwwLDAsMCwyMSwxLDAsMCwwLDAsMjMsMSwwLDAsMCwwLDI1LDEsMCwwLDAsMCwyNywxLFxuXHQwLDAsMCwwLDI5LDEsMCwwLDAsMCwzMSwxLDAsMCwwLDAsMzMsMSwwLDAsMCwwLDM1LDEsMCwwLDAsMCwzNywxLDAsMCwwLFxuXHQwLDM5LDEsMCwwLDAsMCw0MSwxLDAsMCwwLDAsNDMsMSwwLDAsMCwwLDQ1LDEsMCwwLDAsMSw0NywxLDAsMCwwLDMsNTcsMSxcblx0MCwwLDAsNSw3MCwxLDAsMCwwLDcsNzQsMSwwLDAsMCw5LDc2LDEsMCwwLDAsMTEsNzgsMSwwLDAsMCwxMyw4MCwxLDAsMCxcblx0MCwxNSw4MiwxLDAsMCwwLDE3LDg0LDEsMCwwLDAsMTksODYsMSwwLDAsMCwyMSw4OCwxLDAsMCwwLDIzLDkwLDEsMCwwLDAsXG5cdDI1LDkyLDEsMCwwLDAsMjcsOTQsMSwwLDAsMCwyOSw5NiwxLDAsMCwwLDMxLDk4LDEsMCwwLDAsMzMsMTAwLDEsMCwwLDAsXG5cdDM1LDEwMiwxLDAsMCwwLDM3LDEwNCwxLDAsMCwwLDM5LDEwNiwxLDAsMCwwLDQxLDExMCwxLDAsMCwwLDQzLDExNCwxLDAsXG5cdDAsMCw0NSwxMTcsMSwwLDAsMCw0Nyw1NCwzLDMsMSwwLDQ4LDUwLDMsNywzLDAsNDksNTEsMywxNSw3LDAsNTAsNDksMSwwLFxuXHQwLDAsNTAsNTEsMSwwLDAsMCw1MSw1MiwxLDAsMCwwLDUyLDUzLDMsNSwyLDAsNTMsNTUsMSwwLDAsMCw1NCw0OCwxLDAsMCxcblx0MCw1NCw1NSwxLDAsMCwwLDU1LDIsMSwwLDAsMCw1Niw1OCwyLDQ4LDU3LDAsNTcsNTYsMSwwLDAsMCw1OCw1OSwxLDAsMCxcblx0MCw1OSw1NywxLDAsMCwwLDU5LDYwLDEsMCwwLDAsNjAsNjcsMSwwLDAsMCw2MSw2Myw1LDQ2LDAsMCw2Miw2NCwyLDQ4LDU3LFxuXHQwLDYzLDYyLDEsMCwwLDAsNjQsNjUsMSwwLDAsMCw2NSw2MywxLDAsMCwwLDY1LDY2LDEsMCwwLDAsNjYsNjgsMSwwLDAsMCxcblx0NjcsNjEsMSwwLDAsMCw2Nyw2OCwxLDAsMCwwLDY4LDQsMSwwLDAsMCw2OSw3MSwyLDQ4LDU3LDAsNzAsNjksMSwwLDAsMCxcblx0NzEsNzIsMSwwLDAsMCw3Miw3MCwxLDAsMCwwLDcyLDczLDEsMCwwLDAsNzMsNiwxLDAsMCwwLDc0LDc1LDcsMCwwLDAsNzUsXG5cdDgsMSwwLDAsMCw3Niw3Nyw3LDEsMCwwLDc3LDEwLDEsMCwwLDAsNzgsNzksNywyLDAsMCw3OSwxMiwxLDAsMCwwLDgwLDgxLFxuXHQ3LDMsMCwwLDgxLDE0LDEsMCwwLDAsODIsODMsNyw0LDAsMCw4MywxNiwxLDAsMCwwLDg0LDg1LDUsNDAsMCwwLDg1LDE4LFxuXHQxLDAsMCwwLDg2LDg3LDUsNDEsMCwwLDg3LDIwLDEsMCwwLDAsODgsODksNSw0MywwLDAsODksMjIsMSwwLDAsMCw5MCw5MSxcblx0NSw0NSwwLDAsOTEsMjQsMSwwLDAsMCw5Miw5Myw3LDUsMCwwLDkzLDI2LDEsMCwwLDAsOTQsOTUsNSw0NywwLDAsOTUsMjgsXG5cdDEsMCwwLDAsOTYsOTcsNSw2MiwwLDAsOTcsMzAsMSwwLDAsMCw5OCw5OSw1LDYwLDAsMCw5OSwzMiwxLDAsMCwwLDEwMCwxMDEsXG5cdDUsNjEsMCwwLDEwMSwzNCwxLDAsMCwwLDEwMiwxMDMsNSw0NiwwLDAsMTAzLDM2LDEsMCwwLDAsMTA0LDEwNSw1LDk0LDAsXG5cdDAsMTA1LDM4LDEsMCwwLDAsMTA2LDEwNyw3LDYsMCwwLDEwNywxMDgsNyw3LDAsMCwxMDgsMTA5LDcsOCwwLDAsMTA5LDQwLFxuXHQxLDAsMCwwLDExMCwxMTEsMyw5LDQsMCwxMTEsMTEyLDMsMTEsNSwwLDExMiwxMTMsMywxMyw2LDAsMTEzLDQyLDEsMCwwLFxuXHQwLDExNCwxMTUsNyw5LDAsMCwxMTUsNDQsMSwwLDAsMCwxMTYsMTE4LDcsMTAsMCwwLDExNywxMTYsMSwwLDAsMCwxMTgsMTE5LFxuXHQxLDAsMCwwLDExOSwxMTcsMSwwLDAsMCwxMTksMTIwLDEsMCwwLDAsMTIwLDEyMSwxLDAsMCwwLDEyMSwxMjIsNiwyMiwwLFxuXHQwLDEyMiw0NiwxLDAsMCwwLDgsMCw1MCw1NCw1OSw2NSw2Nyw3MiwxMTksMSw2LDAsMF07XG5cblx0cHJpdmF0ZSBzdGF0aWMgX19BVE46IEFUTjtcblx0cHVibGljIHN0YXRpYyBnZXQgX0FUTigpOiBBVE4ge1xuXHRcdGlmICghYXJpdGhtZXRpY0xleGVyLl9fQVROKSB7XG5cdFx0XHRhcml0aG1ldGljTGV4ZXIuX19BVE4gPSBuZXcgQVRORGVzZXJpYWxpemVyKCkuZGVzZXJpYWxpemUoYXJpdGhtZXRpY0xleGVyLl9zZXJpYWxpemVkQVROKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYXJpdGhtZXRpY0xleGVyLl9fQVROO1xuXHR9XG5cblxuXHRzdGF0aWMgRGVjaXNpb25zVG9ERkEgPSBhcml0aG1ldGljTGV4ZXIuX0FUTi5kZWNpc2lvblRvU3RhdGUubWFwKCAoZHM6IERlY2lzaW9uU3RhdGUsIGluZGV4OiBudW1iZXIpID0+IG5ldyBERkEoZHMsIGluZGV4KSApO1xufSIsIi8vIEdlbmVyYXRlZCBmcm9tIC4vc3JjL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWMuZzQgYnkgQU5UTFIgNC4xMy4wXG4vLyBub2luc3BlY3Rpb24gRVM2VW51c2VkSW1wb3J0cyxKU1VudXNlZEdsb2JhbFN5bWJvbHMsSlNVbnVzZWRMb2NhbFN5bWJvbHNcblxuaW1wb3J0IHtcblx0QVROLFxuXHRBVE5EZXNlcmlhbGl6ZXIsIERlY2lzaW9uU3RhdGUsIERGQSwgRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uLFxuXHRSZWNvZ25pdGlvbkV4Y2VwdGlvbiwgTm9WaWFibGVBbHRFeGNlcHRpb24sIEJhaWxFcnJvclN0cmF0ZWd5LFxuXHRQYXJzZXIsIFBhcnNlckFUTlNpbXVsYXRvcixcblx0UnVsZUNvbnRleHQsIFBhcnNlclJ1bGVDb250ZXh0LCBQcmVkaWN0aW9uTW9kZSwgUHJlZGljdGlvbkNvbnRleHRDYWNoZSxcblx0VGVybWluYWxOb2RlLCBSdWxlTm9kZSxcblx0VG9rZW4sIFRva2VuU3RyZWFtLFxuXHRJbnRlcnZhbCwgSW50ZXJ2YWxTZXRcbn0gZnJvbSAnYW50bHI0JztcbmltcG9ydCBhcml0aG1ldGljTGlzdGVuZXIgZnJvbSBcIi4vYXJpdGhtZXRpY0xpc3RlbmVyLmpzXCI7XG5pbXBvcnQgYXJpdGhtZXRpY1Zpc2l0b3IgZnJvbSBcIi4vYXJpdGhtZXRpY1Zpc2l0b3IuanNcIjtcblxuLy8gZm9yIHJ1bm5pbmcgdGVzdHMgd2l0aCBwYXJhbWV0ZXJzLCBUT0RPOiBkaXNjdXNzIHN0cmF0ZWd5IGZvciB0eXBlZCBwYXJhbWV0ZXJzIGluIENJXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbnR5cGUgaW50ID0gbnVtYmVyO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBhcml0aG1ldGljUGFyc2VyIGV4dGVuZHMgUGFyc2VyIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBTQ0lFTlRJRklDX05VTUJFUiA9IDE7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTFBBUkVOID0gMjtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBSUEFSRU4gPSAzO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBMVVMgPSA0O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IE1JTlVTID0gNTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBUSU1FUyA9IDY7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRElWID0gNztcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBHVCA9IDg7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTFQgPSA5O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVRID0gMTA7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUE9JTlQgPSAxMTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBQT1cgPSAxMjtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBJTlQgPSAxMztcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBMT0cgPSAxNDtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBWQVJJQUJMRSA9IDE1O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFdTID0gMTY7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRU9GID0gVG9rZW4uRU9GO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfZXF1YXRpb24gPSAwO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfZXhwcmVzc2lvbiA9IDE7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUlVMRV9jbG9zZWQgPSAyO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfcmlnaHRfY2xvc2VkID0gMztcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX29wZW4gPSA0O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfYXRvbSA9IDU7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUlVMRV9yZWxvcCA9IDY7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGl0ZXJhbE5hbWVzOiAoc3RyaW5nIHwgbnVsbClbXSA9IFsgbnVsbCwgbnVsbCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIicoJ1wiLCBcIicpJ1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJysnXCIsIFwiJy0nXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgXCInLydcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIic+J1wiLCBcIic8J1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJz0nXCIsIFwiJy4nXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCInXidcIiBdO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHN5bWJvbGljTmFtZXM6IChzdHJpbmcgfCBudWxsKVtdID0gWyBudWxsLCBcIlNDSUVOVElGSUNfTlVNQkVSXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTFBBUkVOXCIsIFwiUlBBUkVOXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUExVU1wiLCBcIk1JTlVTXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVElNRVNcIiwgXCJESVZcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJHVFwiLCBcIkxUXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRVFcIiwgXCJQT0lOVFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlBPV1wiLCBcIklOVFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkxPR1wiLCBcIlZBUklBQkxFXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiV1NcIiBdO1xuXHQvLyB0c2xpbnQ6ZGlzYWJsZTpuby10cmFpbGluZy13aGl0ZXNwYWNlXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcnVsZU5hbWVzOiBzdHJpbmdbXSA9IFtcblx0XHRcImVxdWF0aW9uXCIsIFwiZXhwcmVzc2lvblwiLCBcImNsb3NlZFwiLCBcInJpZ2h0X2Nsb3NlZFwiLCBcIm9wZW5cIiwgXCJhdG9tXCIsIFwicmVsb3BcIixcblx0XTtcblx0cHVibGljIGdldCBncmFtbWFyRmlsZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiYXJpdGhtZXRpYy5nNFwiOyB9XG5cdHB1YmxpYyBnZXQgbGl0ZXJhbE5hbWVzKCk6IChzdHJpbmcgfCBudWxsKVtdIHsgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIubGl0ZXJhbE5hbWVzOyB9XG5cdHB1YmxpYyBnZXQgc3ltYm9saWNOYW1lcygpOiAoc3RyaW5nIHwgbnVsbClbXSB7IHJldHVybiBhcml0aG1ldGljUGFyc2VyLnN5bWJvbGljTmFtZXM7IH1cblx0cHVibGljIGdldCBydWxlTmFtZXMoKTogc3RyaW5nW10geyByZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5ydWxlTmFtZXM7IH1cblx0cHVibGljIGdldCBzZXJpYWxpemVkQVROKCk6IG51bWJlcltdIHsgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuX3NlcmlhbGl6ZWRBVE47IH1cblxuXHRwcm90ZWN0ZWQgY3JlYXRlRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uKHByZWRpY2F0ZT86IHN0cmluZywgbWVzc2FnZT86IHN0cmluZyk6IEZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbiB7XG5cdFx0cmV0dXJuIG5ldyBGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb24odGhpcywgcHJlZGljYXRlLCBtZXNzYWdlKTtcblx0fVxuXG5cdGNvbnN0cnVjdG9yKGlucHV0OiBUb2tlblN0cmVhbSkge1xuXHRcdHN1cGVyKGlucHV0KTtcblx0XHR0aGlzLl9pbnRlcnAgPSBuZXcgUGFyc2VyQVROU2ltdWxhdG9yKHRoaXMsIGFyaXRobWV0aWNQYXJzZXIuX0FUTiwgYXJpdGhtZXRpY1BhcnNlci5EZWNpc2lvbnNUb0RGQSwgbmV3IFByZWRpY3Rpb25Db250ZXh0Q2FjaGUoKSk7XG5cdH1cblx0Ly8gQFJ1bGVWZXJzaW9uKDApXG5cdHB1YmxpYyBlcXVhdGlvbigpOiBFcXVhdGlvbkNvbnRleHQge1xuXHRcdGxldCBsb2NhbGN0eDogRXF1YXRpb25Db250ZXh0ID0gbmV3IEVxdWF0aW9uQ29udGV4dCh0aGlzLCB0aGlzLl9jdHgsIHRoaXMuc3RhdGUpO1xuXHRcdHRoaXMuZW50ZXJSdWxlKGxvY2FsY3R4LCAwLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfZXF1YXRpb24pO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmVudGVyT3V0ZXJBbHQobG9jYWxjdHgsIDEpO1xuXHRcdFx0e1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDE0O1xuXHRcdFx0dGhpcy5leHByZXNzaW9uKCk7XG5cdFx0XHR0aGlzLnN0YXRlID0gMTU7XG5cdFx0XHR0aGlzLnJlbG9wKCk7XG5cdFx0XHR0aGlzLnN0YXRlID0gMTY7XG5cdFx0XHR0aGlzLmV4cHJlc3Npb24oKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKHJlKSB7XG5cdFx0XHRpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuXHRcdFx0XHRsb2NhbGN0eC5leGNlcHRpb24gPSByZTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSk7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyByZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZmluYWxseSB7XG5cdFx0XHR0aGlzLmV4aXRSdWxlKCk7XG5cdFx0fVxuXHRcdHJldHVybiBsb2NhbGN0eDtcblx0fVxuXHQvLyBAUnVsZVZlcnNpb24oMClcblx0cHVibGljIGV4cHJlc3Npb24oKTogRXhwcmVzc2lvbkNvbnRleHQge1xuXHRcdGxldCBsb2NhbGN0eDogRXhwcmVzc2lvbkNvbnRleHQgPSBuZXcgRXhwcmVzc2lvbkNvbnRleHQodGhpcywgdGhpcy5fY3R4LCB0aGlzLnN0YXRlKTtcblx0XHR0aGlzLmVudGVyUnVsZShsb2NhbGN0eCwgMiwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2V4cHJlc3Npb24pO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmVudGVyT3V0ZXJBbHQobG9jYWxjdHgsIDEpO1xuXHRcdFx0e1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDE4O1xuXHRcdFx0dGhpcy5vcGVuKDApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjYXRjaCAocmUpIHtcblx0XHRcdGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG5cdFx0XHRcdGxvY2FsY3R4LmV4Y2VwdGlvbiA9IHJlO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IHJlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmaW5hbGx5IHtcblx0XHRcdHRoaXMuZXhpdFJ1bGUoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGxvY2FsY3R4O1xuXHR9XG5cblx0cHVibGljIGNsb3NlZCgpOiBDbG9zZWRDb250ZXh0O1xuXHRwdWJsaWMgY2xvc2VkKF9wOiBudW1iZXIpOiBDbG9zZWRDb250ZXh0O1xuXHQvLyBAUnVsZVZlcnNpb24oMClcblx0cHVibGljIGNsb3NlZChfcD86IG51bWJlcik6IENsb3NlZENvbnRleHQge1xuXHRcdGlmIChfcCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRfcCA9IDA7XG5cdFx0fVxuXG5cdFx0bGV0IF9wYXJlbnRjdHg6IFBhcnNlclJ1bGVDb250ZXh0ID0gdGhpcy5fY3R4O1xuXHRcdGxldCBfcGFyZW50U3RhdGU6IG51bWJlciA9IHRoaXMuc3RhdGU7XG5cdFx0bGV0IGxvY2FsY3R4OiBDbG9zZWRDb250ZXh0ID0gbmV3IENsb3NlZENvbnRleHQodGhpcywgdGhpcy5fY3R4LCBfcGFyZW50U3RhdGUpO1xuXHRcdGxldCBfcHJldmN0eDogQ2xvc2VkQ29udGV4dCA9IGxvY2FsY3R4O1xuXHRcdGxldCBfc3RhcnRTdGF0ZTogbnVtYmVyID0gNDtcblx0XHR0aGlzLmVudGVyUmVjdXJzaW9uUnVsZShsb2NhbGN0eCwgNCwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2Nsb3NlZCwgX3ApO1xuXHRcdGxldCBfbGE6IG51bWJlcjtcblx0XHR0cnkge1xuXHRcdFx0bGV0IF9hbHQ6IG51bWJlcjtcblx0XHRcdHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSk7XG5cdFx0XHR7XG5cdFx0XHR0aGlzLnN0YXRlID0gMzM7XG5cdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRzd2l0Y2ggKHRoaXMuX2lucHV0LkxBKDEpKSB7XG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRcdHtcblx0XHRcdFx0bG9jYWxjdHggPSBuZXcgUGFyZW5Db250ZXh0KHRoaXMsIGxvY2FsY3R4KTtcblx0XHRcdFx0dGhpcy5fY3R4ID0gbG9jYWxjdHg7XG5cdFx0XHRcdF9wcmV2Y3R4ID0gbG9jYWxjdHg7XG5cblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDIxO1xuXHRcdFx0XHR0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuTFBBUkVOKTtcblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDIyO1xuXHRcdFx0XHR0aGlzLm9wZW4oMCk7XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSAyMztcblx0XHRcdFx0dGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLlJQQVJFTik7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRjYXNlIDE1OlxuXHRcdFx0XHR7XG5cdFx0XHRcdGxvY2FsY3R4ID0gbmV3IENsb3NlZEF0b21Db250ZXh0KHRoaXMsIGxvY2FsY3R4KTtcblx0XHRcdFx0dGhpcy5fY3R4ID0gbG9jYWxjdHg7XG5cdFx0XHRcdF9wcmV2Y3R4ID0gbG9jYWxjdHg7XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSAyNTtcblx0XHRcdFx0dGhpcy5hdG9tKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0XHR7XG5cdFx0XHRcdGxvY2FsY3R4ID0gbmV3IEludGVncmFsQ29udGV4dCh0aGlzLCBsb2NhbGN0eCk7XG5cdFx0XHRcdHRoaXMuX2N0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHR0aGlzLnN0YXRlID0gMjY7XG5cdFx0XHRcdHRoaXMubWF0Y2goYXJpdGhtZXRpY1BhcnNlci5JTlQpO1xuXHRcdFx0XHR0aGlzLnN0YXRlID0gMjc7XG5cdFx0XHRcdChsb2NhbGN0eCBhcyBJbnRlZ3JhbENvbnRleHQpLl9pbnRlZ3JhbmQgPSB0aGlzLmNsb3NlZCg1KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMTQ6XG5cdFx0XHRcdHtcblx0XHRcdFx0bG9jYWxjdHggPSBuZXcgTG9nQ29udGV4dCh0aGlzLCBsb2NhbGN0eCk7XG5cdFx0XHRcdHRoaXMuX2N0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHR0aGlzLnN0YXRlID0gMjg7XG5cdFx0XHRcdHRoaXMubWF0Y2goYXJpdGhtZXRpY1BhcnNlci5MT0cpO1xuXHRcdFx0XHR0aGlzLnN0YXRlID0gMzA7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKTtcblx0XHRcdFx0c3dpdGNoICggdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgMCwgdGhpcy5fY3R4KSApIHtcblx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHR0aGlzLnN0YXRlID0gMjk7XG5cdFx0XHRcdFx0KGxvY2FsY3R4IGFzIExvZ0NvbnRleHQpLl9iYXNlID0gdGhpcy5jbG9zZWQoMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSAzMjtcblx0XHRcdFx0KGxvY2FsY3R4IGFzIExvZ0NvbnRleHQpLl9jb250ZW50ID0gdGhpcy5jbG9zZWQoMSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgTm9WaWFibGVBbHRFeGNlcHRpb24odGhpcyk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9jdHguc3RvcCA9IHRoaXMuX2lucHV0LkxUKC0xKTtcblx0XHRcdHRoaXMuc3RhdGUgPSA0ODtcblx0XHRcdHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKTtcblx0XHRcdF9hbHQgPSB0aGlzLl9pbnRlcnAuYWRhcHRpdmVQcmVkaWN0KHRoaXMuX2lucHV0LCA0LCB0aGlzLl9jdHgpO1xuXHRcdFx0d2hpbGUgKF9hbHQgIT09IDIgJiYgX2FsdCAhPT0gQVROLklOVkFMSURfQUxUX05VTUJFUikge1xuXHRcdFx0XHRpZiAoX2FsdCA9PT0gMSkge1xuXHRcdFx0XHRcdGlmICh0aGlzLl9wYXJzZUxpc3RlbmVycyAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRyaWdnZXJFeGl0UnVsZUV2ZW50KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF9wcmV2Y3R4ID0gbG9jYWxjdHg7XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdHRoaXMuc3RhdGUgPSA0Njtcblx0XHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRcdFx0c3dpdGNoICggdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgMywgdGhpcy5fY3R4KSApIHtcblx0XHRcdFx0XHRjYXNlIDE6XG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBEaXZpc2lvbkNvbnRleHQodGhpcywgbmV3IENsb3NlZENvbnRleHQodGhpcywgX3BhcmVudGN0eCwgX3BhcmVudFN0YXRlKSk7XG5cdFx0XHRcdFx0XHQobG9jYWxjdHggYXMgRGl2aXNpb25Db250ZXh0KS5fbGVmdCA9IF9wcmV2Y3R4O1xuXHRcdFx0XHRcdFx0dGhpcy5wdXNoTmV3UmVjdXJzaW9uQ29udGV4dChsb2NhbGN0eCwgX3N0YXJ0U3RhdGUsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9jbG9zZWQpO1xuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDM1O1xuXHRcdFx0XHRcdFx0aWYgKCEodGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDQpKSkge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyB0aGlzLmNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihcInRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCA0KVwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSAzNjtcblx0XHRcdFx0XHRcdHRoaXMubWF0Y2goYXJpdGhtZXRpY1BhcnNlci5ESVYpO1xuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDM3O1xuXHRcdFx0XHRcdFx0KGxvY2FsY3R4IGFzIERpdmlzaW9uQ29udGV4dCkuX3JpZ2h0ID0gdGhpcy5jbG9zZWQoNSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIDI6XG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBQb3dlckNvbnRleHQodGhpcywgbmV3IENsb3NlZENvbnRleHQodGhpcywgX3BhcmVudGN0eCwgX3BhcmVudFN0YXRlKSk7XG5cdFx0XHRcdFx0XHQobG9jYWxjdHggYXMgUG93ZXJDb250ZXh0KS5fbGVmdCA9IF9wcmV2Y3R4O1xuXHRcdFx0XHRcdFx0dGhpcy5wdXNoTmV3UmVjdXJzaW9uQ29udGV4dChsb2NhbGN0eCwgX3N0YXJ0U3RhdGUsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9jbG9zZWQpO1xuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDM4O1xuXHRcdFx0XHRcdFx0aWYgKCEodGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDMpKSkge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyB0aGlzLmNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihcInRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAzKVwiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSAzOTtcblx0XHRcdFx0XHRcdHRoaXMubWF0Y2goYXJpdGhtZXRpY1BhcnNlci5QT1cpO1xuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDQwO1xuXHRcdFx0XHRcdFx0KGxvY2FsY3R4IGFzIFBvd2VyQ29udGV4dCkuX3JpZ2h0ID0gdGhpcy5jbG9zZWQoNCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIDM6XG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBQcm9kdWN0Q29udGV4dCh0aGlzLCBuZXcgQ2xvc2VkQ29udGV4dCh0aGlzLCBfcGFyZW50Y3R4LCBfcGFyZW50U3RhdGUpKTtcblx0XHRcdFx0XHRcdChsb2NhbGN0eCBhcyBQcm9kdWN0Q29udGV4dCkuX2xlZnQgPSBfcHJldmN0eDtcblx0XHRcdFx0XHRcdHRoaXMucHVzaE5ld1JlY3Vyc2lvbkNvbnRleHQobG9jYWxjdHgsIF9zdGFydFN0YXRlLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfY2xvc2VkKTtcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSA0MTtcblx0XHRcdFx0XHRcdGlmICghKHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAyKSkpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgdGhpcy5jcmVhdGVGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb24oXCJ0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMilcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlID0gNDM7XG5cdFx0XHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRcdFx0XHRfbGEgPSB0aGlzLl9pbnB1dC5MQSgxKTtcblx0XHRcdFx0XHRcdGlmIChfbGE9PT02KSB7XG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDQyO1xuXHRcdFx0XHRcdFx0XHR0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuVElNRVMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSA0NTtcblx0XHRcdFx0XHRcdChsb2NhbGN0eCBhcyBQcm9kdWN0Q29udGV4dCkuX3JpZ2h0ID0gdGhpcy5jbG9zZWQoMyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSA1MDtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0XHRfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgNCwgdGhpcy5fY3R4KTtcblx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKHJlKSB7XG5cdFx0XHRpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuXHRcdFx0XHRsb2NhbGN0eC5leGNlcHRpb24gPSByZTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSk7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyByZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZmluYWxseSB7XG5cdFx0XHR0aGlzLnVucm9sbFJlY3Vyc2lvbkNvbnRleHRzKF9wYXJlbnRjdHgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbG9jYWxjdHg7XG5cdH1cblxuXHRwdWJsaWMgcmlnaHRfY2xvc2VkKCk6IFJpZ2h0X2Nsb3NlZENvbnRleHQ7XG5cdHB1YmxpYyByaWdodF9jbG9zZWQoX3A6IG51bWJlcik6IFJpZ2h0X2Nsb3NlZENvbnRleHQ7XG5cdC8vIEBSdWxlVmVyc2lvbigwKVxuXHRwdWJsaWMgcmlnaHRfY2xvc2VkKF9wPzogbnVtYmVyKTogUmlnaHRfY2xvc2VkQ29udGV4dCB7XG5cdFx0aWYgKF9wID09PSB1bmRlZmluZWQpIHtcblx0XHRcdF9wID0gMDtcblx0XHR9XG5cblx0XHRsZXQgX3BhcmVudGN0eDogUGFyc2VyUnVsZUNvbnRleHQgPSB0aGlzLl9jdHg7XG5cdFx0bGV0IF9wYXJlbnRTdGF0ZTogbnVtYmVyID0gdGhpcy5zdGF0ZTtcblx0XHRsZXQgbG9jYWxjdHg6IFJpZ2h0X2Nsb3NlZENvbnRleHQgPSBuZXcgUmlnaHRfY2xvc2VkQ29udGV4dCh0aGlzLCB0aGlzLl9jdHgsIF9wYXJlbnRTdGF0ZSk7XG5cdFx0bGV0IF9wcmV2Y3R4OiBSaWdodF9jbG9zZWRDb250ZXh0ID0gbG9jYWxjdHg7XG5cdFx0bGV0IF9zdGFydFN0YXRlOiBudW1iZXIgPSA2O1xuXHRcdHRoaXMuZW50ZXJSZWN1cnNpb25SdWxlKGxvY2FsY3R4LCA2LCBhcml0aG1ldGljUGFyc2VyLlJVTEVfcmlnaHRfY2xvc2VkLCBfcCk7XG5cdFx0bGV0IF9sYTogbnVtYmVyO1xuXHRcdHRyeSB7XG5cdFx0XHRsZXQgX2FsdDogbnVtYmVyO1xuXHRcdFx0dGhpcy5lbnRlck91dGVyQWx0KGxvY2FsY3R4LCAxKTtcblx0XHRcdHtcblx0XHRcdHRoaXMuc3RhdGUgPSA1NTtcblx0XHRcdHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKTtcblx0XHRcdHN3aXRjaCAodGhpcy5faW5wdXQuTEEoMSkpIHtcblx0XHRcdGNhc2UgMTpcblx0XHRcdGNhc2UgMjpcblx0XHRcdGNhc2UgMTM6XG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0e1xuXHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBDbG9zZWRJc1JpZ2h0X0Nsb3NlZENvbnRleHQodGhpcywgbG9jYWxjdHgpO1xuXHRcdFx0XHR0aGlzLl9jdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0X3ByZXZjdHggPSBsb2NhbGN0eDtcblxuXHRcdFx0XHR0aGlzLnN0YXRlID0gNTI7XG5cdFx0XHRcdHRoaXMuY2xvc2VkKDApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0Y2FzZSA1OlxuXHRcdFx0XHR7XG5cdFx0XHRcdGxvY2FsY3R4ID0gbmV3IFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCh0aGlzLCBsb2NhbGN0eCk7XG5cdFx0XHRcdHRoaXMuX2N0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHR0aGlzLnN0YXRlID0gNTM7XG5cdFx0XHRcdF9sYSA9IHRoaXMuX2lucHV0LkxBKDEpO1xuXHRcdFx0XHRpZighKF9sYT09PTQgfHwgX2xhPT09NSkpIHtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZWNvdmVySW5saW5lKHRoaXMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVwb3J0TWF0Y2godGhpcyk7XG5cdFx0XHRcdCAgICB0aGlzLmNvbnN1bWUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnN0YXRlID0gNTQ7XG5cdFx0XHRcdHRoaXMuY2xvc2VkKDApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IE5vVmlhYmxlQWx0RXhjZXB0aW9uKHRoaXMpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fY3R4LnN0b3AgPSB0aGlzLl9pbnB1dC5MVCgtMSk7XG5cdFx0XHR0aGlzLnN0YXRlID0gNjE7XG5cdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgNiwgdGhpcy5fY3R4KTtcblx0XHRcdHdoaWxlIChfYWx0ICE9PSAyICYmIF9hbHQgIT09IEFUTi5JTlZBTElEX0FMVF9OVU1CRVIpIHtcblx0XHRcdFx0aWYgKF9hbHQgPT09IDEpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5fcGFyc2VMaXN0ZW5lcnMgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0dGhpcy50cmlnZ2VyRXhpdFJ1bGVFdmVudCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0bG9jYWxjdHggPSBuZXcgUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0Q29udGV4dCh0aGlzLCBuZXcgUmlnaHRfY2xvc2VkQ29udGV4dCh0aGlzLCBfcGFyZW50Y3R4LCBfcGFyZW50U3RhdGUpKTtcblx0XHRcdFx0XHQobG9jYWxjdHggYXMgUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0Q29udGV4dCkuX2xlZnQgPSBfcHJldmN0eDtcblx0XHRcdFx0XHR0aGlzLnB1c2hOZXdSZWN1cnNpb25Db250ZXh0KGxvY2FsY3R4LCBfc3RhcnRTdGF0ZSwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX3JpZ2h0X2Nsb3NlZCk7XG5cdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDU3O1xuXHRcdFx0XHRcdGlmICghKHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAxKSkpIHtcblx0XHRcdFx0XHRcdHRocm93IHRoaXMuY3JlYXRlRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uKFwidGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDEpXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLnN0YXRlID0gNTg7XG5cdFx0XHRcdFx0KGxvY2FsY3R4IGFzIFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQpLl9yaWdodCA9IHRoaXMuY2xvc2VkKDApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDYzO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRcdF9hbHQgPSB0aGlzLl9pbnRlcnAuYWRhcHRpdmVQcmVkaWN0KHRoaXMuX2lucHV0LCA2LCB0aGlzLl9jdHgpO1xuXHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRjYXRjaCAocmUpIHtcblx0XHRcdGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG5cdFx0XHRcdGxvY2FsY3R4LmV4Y2VwdGlvbiA9IHJlO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IHJlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmaW5hbGx5IHtcblx0XHRcdHRoaXMudW5yb2xsUmVjdXJzaW9uQ29udGV4dHMoX3BhcmVudGN0eCk7XG5cdFx0fVxuXHRcdHJldHVybiBsb2NhbGN0eDtcblx0fVxuXG5cdHB1YmxpYyBvcGVuKCk6IE9wZW5Db250ZXh0O1xuXHRwdWJsaWMgb3BlbihfcDogbnVtYmVyKTogT3BlbkNvbnRleHQ7XG5cdC8vIEBSdWxlVmVyc2lvbigwKVxuXHRwdWJsaWMgb3BlbihfcD86IG51bWJlcik6IE9wZW5Db250ZXh0IHtcblx0XHRpZiAoX3AgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0X3AgPSAwO1xuXHRcdH1cblxuXHRcdGxldCBfcGFyZW50Y3R4OiBQYXJzZXJSdWxlQ29udGV4dCA9IHRoaXMuX2N0eDtcblx0XHRsZXQgX3BhcmVudFN0YXRlOiBudW1iZXIgPSB0aGlzLnN0YXRlO1xuXHRcdGxldCBsb2NhbGN0eDogT3BlbkNvbnRleHQgPSBuZXcgT3BlbkNvbnRleHQodGhpcywgdGhpcy5fY3R4LCBfcGFyZW50U3RhdGUpO1xuXHRcdGxldCBfcHJldmN0eDogT3BlbkNvbnRleHQgPSBsb2NhbGN0eDtcblx0XHRsZXQgX3N0YXJ0U3RhdGU6IG51bWJlciA9IDg7XG5cdFx0dGhpcy5lbnRlclJlY3Vyc2lvblJ1bGUobG9jYWxjdHgsIDgsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9vcGVuLCBfcCk7XG5cdFx0bGV0IF9sYTogbnVtYmVyO1xuXHRcdHRyeSB7XG5cdFx0XHRsZXQgX2FsdDogbnVtYmVyO1xuXHRcdFx0dGhpcy5lbnRlck91dGVyQWx0KGxvY2FsY3R4LCAxKTtcblx0XHRcdHtcblx0XHRcdHtcblx0XHRcdGxvY2FsY3R4ID0gbmV3IFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQodGhpcywgbG9jYWxjdHgpO1xuXHRcdFx0dGhpcy5fY3R4ID0gbG9jYWxjdHg7XG5cdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXG5cdFx0XHR0aGlzLnN0YXRlID0gNjU7XG5cdFx0XHR0aGlzLnJpZ2h0X2Nsb3NlZCgwKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2N0eC5zdG9wID0gdGhpcy5faW5wdXQuTFQoLTEpO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDcyO1xuXHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0X2FsdCA9IHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QodGhpcy5faW5wdXQsIDcsIHRoaXMuX2N0eCk7XG5cdFx0XHR3aGlsZSAoX2FsdCAhPT0gMiAmJiBfYWx0ICE9PSBBVE4uSU5WQUxJRF9BTFRfTlVNQkVSKSB7XG5cdFx0XHRcdGlmIChfYWx0ID09PSAxKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX3BhcnNlTGlzdGVuZXJzICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdHRoaXMudHJpZ2dlckV4aXRSdWxlRXZlbnQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0X3ByZXZjdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdGxvY2FsY3R4ID0gbmV3IFN1bUNvbnRleHQodGhpcywgbmV3IE9wZW5Db250ZXh0KHRoaXMsIF9wYXJlbnRjdHgsIF9wYXJlbnRTdGF0ZSkpO1xuXHRcdFx0XHRcdChsb2NhbGN0eCBhcyBTdW1Db250ZXh0KS5fbGVmdCA9IF9wcmV2Y3R4O1xuXHRcdFx0XHRcdHRoaXMucHVzaE5ld1JlY3Vyc2lvbkNvbnRleHQobG9jYWxjdHgsIF9zdGFydFN0YXRlLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfb3Blbik7XG5cdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDY3O1xuXHRcdFx0XHRcdGlmICghKHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAxKSkpIHtcblx0XHRcdFx0XHRcdHRocm93IHRoaXMuY3JlYXRlRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uKFwidGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDEpXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLnN0YXRlID0gNjg7XG5cdFx0XHRcdFx0X2xhID0gdGhpcy5faW5wdXQuTEEoMSk7XG5cdFx0XHRcdFx0aWYoIShfbGE9PT00IHx8IF9sYT09PTUpKSB7XG5cdFx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZWNvdmVySW5saW5lKHRoaXMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVwb3J0TWF0Y2godGhpcyk7XG5cdFx0XHRcdFx0ICAgIHRoaXMuY29uc3VtZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLnN0YXRlID0gNjk7XG5cdFx0XHRcdFx0KGxvY2FsY3R4IGFzIFN1bUNvbnRleHQpLl9yaWdodCA9IHRoaXMucmlnaHRfY2xvc2VkKDApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDc0O1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRcdF9hbHQgPSB0aGlzLl9pbnRlcnAuYWRhcHRpdmVQcmVkaWN0KHRoaXMuX2lucHV0LCA3LCB0aGlzLl9jdHgpO1xuXHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRjYXRjaCAocmUpIHtcblx0XHRcdGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG5cdFx0XHRcdGxvY2FsY3R4LmV4Y2VwdGlvbiA9IHJlO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IHJlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmaW5hbGx5IHtcblx0XHRcdHRoaXMudW5yb2xsUmVjdXJzaW9uQ29udGV4dHMoX3BhcmVudGN0eCk7XG5cdFx0fVxuXHRcdHJldHVybiBsb2NhbGN0eDtcblx0fVxuXHQvLyBAUnVsZVZlcnNpb24oMClcblx0cHVibGljIGF0b20oKTogQXRvbUNvbnRleHQge1xuXHRcdGxldCBsb2NhbGN0eDogQXRvbUNvbnRleHQgPSBuZXcgQXRvbUNvbnRleHQodGhpcywgdGhpcy5fY3R4LCB0aGlzLnN0YXRlKTtcblx0XHR0aGlzLmVudGVyUnVsZShsb2NhbGN0eCwgMTAsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9hdG9tKTtcblx0XHRsZXQgX2xhOiBudW1iZXI7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSk7XG5cdFx0XHR7XG5cdFx0XHR0aGlzLnN0YXRlID0gNzU7XG5cdFx0XHRfbGEgPSB0aGlzLl9pbnB1dC5MQSgxKTtcblx0XHRcdGlmKCEoX2xhPT09MSB8fCBfbGE9PT0xNSkpIHtcblx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3ZlcklubGluZSh0aGlzKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydE1hdGNoKHRoaXMpO1xuXHRcdFx0ICAgIHRoaXMuY29uc3VtZSgpO1xuXHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRjYXRjaCAocmUpIHtcblx0XHRcdGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG5cdFx0XHRcdGxvY2FsY3R4LmV4Y2VwdGlvbiA9IHJlO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IHJlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmaW5hbGx5IHtcblx0XHRcdHRoaXMuZXhpdFJ1bGUoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGxvY2FsY3R4O1xuXHR9XG5cdC8vIEBSdWxlVmVyc2lvbigwKVxuXHRwdWJsaWMgcmVsb3AoKTogUmVsb3BDb250ZXh0IHtcblx0XHRsZXQgbG9jYWxjdHg6IFJlbG9wQ29udGV4dCA9IG5ldyBSZWxvcENvbnRleHQodGhpcywgdGhpcy5fY3R4LCB0aGlzLnN0YXRlKTtcblx0XHR0aGlzLmVudGVyUnVsZShsb2NhbGN0eCwgMTIsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9yZWxvcCk7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSk7XG5cdFx0XHR7XG5cdFx0XHR0aGlzLnN0YXRlID0gNzc7XG5cdFx0XHR0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuRVEpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjYXRjaCAocmUpIHtcblx0XHRcdGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG5cdFx0XHRcdGxvY2FsY3R4LmV4Y2VwdGlvbiA9IHJlO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IHJlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRmaW5hbGx5IHtcblx0XHRcdHRoaXMuZXhpdFJ1bGUoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGxvY2FsY3R4O1xuXHR9XG5cblx0cHVibGljIHNlbXByZWQobG9jYWxjdHg6IFJ1bGVDb250ZXh0LCBydWxlSW5kZXg6IG51bWJlciwgcHJlZEluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcblx0XHRzd2l0Y2ggKHJ1bGVJbmRleCkge1xuXHRcdGNhc2UgMjpcblx0XHRcdHJldHVybiB0aGlzLmNsb3NlZF9zZW1wcmVkKGxvY2FsY3R4IGFzIENsb3NlZENvbnRleHQsIHByZWRJbmRleCk7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0cmV0dXJuIHRoaXMucmlnaHRfY2xvc2VkX3NlbXByZWQobG9jYWxjdHggYXMgUmlnaHRfY2xvc2VkQ29udGV4dCwgcHJlZEluZGV4KTtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gdGhpcy5vcGVuX3NlbXByZWQobG9jYWxjdHggYXMgT3BlbkNvbnRleHQsIHByZWRJbmRleCk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHByaXZhdGUgY2xvc2VkX3NlbXByZWQobG9jYWxjdHg6IENsb3NlZENvbnRleHQsIHByZWRJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0c3dpdGNoIChwcmVkSW5kZXgpIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRyZXR1cm4gdGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDQpO1xuXHRcdGNhc2UgMTpcblx0XHRcdHJldHVybiB0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMyk7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0cmV0dXJuIHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAyKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cHJpdmF0ZSByaWdodF9jbG9zZWRfc2VtcHJlZChsb2NhbGN0eDogUmlnaHRfY2xvc2VkQ29udGV4dCwgcHJlZEluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcblx0XHRzd2l0Y2ggKHByZWRJbmRleCkge1xuXHRcdGNhc2UgMzpcblx0XHRcdHJldHVybiB0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMSk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHByaXZhdGUgb3Blbl9zZW1wcmVkKGxvY2FsY3R4OiBPcGVuQ29udGV4dCwgcHJlZEluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcblx0XHRzd2l0Y2ggKHByZWRJbmRleCkge1xuXHRcdGNhc2UgNDpcblx0XHRcdHJldHVybiB0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMSk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBfc2VyaWFsaXplZEFUTjogbnVtYmVyW10gPSBbNCwxLDE2LDgwLDIsMCw3LDAsMixcblx0MSw3LDEsMiwyLDcsMiwyLDMsNywzLDIsNCw3LDQsMiw1LDcsNSwyLDYsNyw2LDEsMCwxLDAsMSwwLDEsMCwxLDEsMSwxLDEsXG5cdDIsMSwyLDEsMiwxLDIsMSwyLDEsMiwxLDIsMSwyLDEsMiwxLDIsMywyLDMxLDgsMiwxLDIsMywyLDM0LDgsMiwxLDIsMSwyLFxuXHQxLDIsMSwyLDEsMiwxLDIsMSwyLDEsMiwzLDIsNDQsOCwyLDEsMiw1LDIsNDcsOCwyLDEwLDIsMTIsMiw1MCw5LDIsMSwzLFxuXHQxLDMsMSwzLDEsMywzLDMsNTYsOCwzLDEsMywxLDMsNSwzLDYwLDgsMywxMCwzLDEyLDMsNjMsOSwzLDEsNCwxLDQsMSw0LFxuXHQxLDQsMSw0LDEsNCw1LDQsNzEsOCw0LDEwLDQsMTIsNCw3NCw5LDQsMSw1LDEsNSwxLDYsMSw2LDEsNiwwLDMsNCw2LDgsNyxcblx0MCwyLDQsNiw4LDEwLDEyLDAsMiwxLDAsNCw1LDIsMCwxLDEsMTUsMTUsODMsMCwxNCwxLDAsMCwwLDIsMTgsMSwwLDAsMCxcblx0NCwzMywxLDAsMCwwLDYsNTUsMSwwLDAsMCw4LDY0LDEsMCwwLDAsMTAsNzUsMSwwLDAsMCwxMiw3NywxLDAsMCwwLDE0LDE1LFxuXHQzLDIsMSwwLDE1LDE2LDMsMTIsNiwwLDE2LDE3LDMsMiwxLDAsMTcsMSwxLDAsMCwwLDE4LDE5LDMsOCw0LDAsMTksMywxLFxuXHQwLDAsMCwyMCwyMSw2LDIsLTEsMCwyMSwyMiw1LDIsMCwwLDIyLDIzLDMsOCw0LDAsMjMsMjQsNSwzLDAsMCwyNCwzNCwxLFxuXHQwLDAsMCwyNSwzNCwzLDEwLDUsMCwyNiwyNyw1LDEzLDAsMCwyNywzNCwzLDQsMiw1LDI4LDMwLDUsMTQsMCwwLDI5LDMxLFxuXHQzLDQsMiwwLDMwLDI5LDEsMCwwLDAsMzAsMzEsMSwwLDAsMCwzMSwzMiwxLDAsMCwwLDMyLDM0LDMsNCwyLDEsMzMsMjAsMSxcblx0MCwwLDAsMzMsMjUsMSwwLDAsMCwzMywyNiwxLDAsMCwwLDMzLDI4LDEsMCwwLDAsMzQsNDgsMSwwLDAsMCwzNSwzNiwxMCxcblx0NCwwLDAsMzYsMzcsNSw3LDAsMCwzNyw0NywzLDQsMiw1LDM4LDM5LDEwLDMsMCwwLDM5LDQwLDUsMTIsMCwwLDQwLDQ3LDMsXG5cdDQsMiw0LDQxLDQzLDEwLDIsMCwwLDQyLDQ0LDUsNiwwLDAsNDMsNDIsMSwwLDAsMCw0Myw0NCwxLDAsMCwwLDQ0LDQ1LDEsXG5cdDAsMCwwLDQ1LDQ3LDMsNCwyLDMsNDYsMzUsMSwwLDAsMCw0NiwzOCwxLDAsMCwwLDQ2LDQxLDEsMCwwLDAsNDcsNTAsMSwwLFxuXHQwLDAsNDgsNDYsMSwwLDAsMCw0OCw0OSwxLDAsMCwwLDQ5LDUsMSwwLDAsMCw1MCw0OCwxLDAsMCwwLDUxLDUyLDYsMywtMSxcblx0MCw1Miw1NiwzLDQsMiwwLDUzLDU0LDcsMCwwLDAsNTQsNTYsMyw0LDIsMCw1NSw1MSwxLDAsMCwwLDU1LDUzLDEsMCwwLDAsXG5cdDU2LDYxLDEsMCwwLDAsNTcsNTgsMTAsMSwwLDAsNTgsNjAsMyw0LDIsMCw1OSw1NywxLDAsMCwwLDYwLDYzLDEsMCwwLDAsXG5cdDYxLDU5LDEsMCwwLDAsNjEsNjIsMSwwLDAsMCw2Miw3LDEsMCwwLDAsNjMsNjEsMSwwLDAsMCw2NCw2NSw2LDQsLTEsMCw2NSxcblx0NjYsMyw2LDMsMCw2Niw3MiwxLDAsMCwwLDY3LDY4LDEwLDEsMCwwLDY4LDY5LDcsMCwwLDAsNjksNzEsMyw2LDMsMCw3MCxcblx0NjcsMSwwLDAsMCw3MSw3NCwxLDAsMCwwLDcyLDcwLDEsMCwwLDAsNzIsNzMsMSwwLDAsMCw3Myw5LDEsMCwwLDAsNzQsNzIsXG5cdDEsMCwwLDAsNzUsNzYsNywxLDAsMCw3NiwxMSwxLDAsMCwwLDc3LDc4LDUsMTAsMCwwLDc4LDEzLDEsMCwwLDAsOCwzMCwzMyxcblx0NDMsNDYsNDgsNTUsNjEsNzJdO1xuXG5cdHByaXZhdGUgc3RhdGljIF9fQVROOiBBVE47XG5cdHB1YmxpYyBzdGF0aWMgZ2V0IF9BVE4oKTogQVROIHtcblx0XHRpZiAoIWFyaXRobWV0aWNQYXJzZXIuX19BVE4pIHtcblx0XHRcdGFyaXRobWV0aWNQYXJzZXIuX19BVE4gPSBuZXcgQVRORGVzZXJpYWxpemVyKCkuZGVzZXJpYWxpemUoYXJpdGhtZXRpY1BhcnNlci5fc2VyaWFsaXplZEFUTik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuX19BVE47XG5cdH1cblxuXG5cdHN0YXRpYyBEZWNpc2lvbnNUb0RGQSA9IGFyaXRobWV0aWNQYXJzZXIuX0FUTi5kZWNpc2lvblRvU3RhdGUubWFwKCAoZHM6IERlY2lzaW9uU3RhdGUsIGluZGV4OiBudW1iZXIpID0+IG5ldyBERkEoZHMsIGluZGV4KSApO1xuXG59XG5cbmV4cG9ydCBjbGFzcyBFcXVhdGlvbkNvbnRleHQgZXh0ZW5kcyBQYXJzZXJSdWxlQ29udGV4dCB7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcj86IGFyaXRobWV0aWNQYXJzZXIsIHBhcmVudD86IFBhcnNlclJ1bGVDb250ZXh0LCBpbnZva2luZ1N0YXRlPzogbnVtYmVyKSB7XG5cdFx0c3VwZXIocGFyZW50LCBpbnZva2luZ1N0YXRlKTtcbiAgICBcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHR9XG5cdHB1YmxpYyBleHByZXNzaW9uX2xpc3QoKTogRXhwcmVzc2lvbkNvbnRleHRbXSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dHMoRXhwcmVzc2lvbkNvbnRleHQpIGFzIEV4cHJlc3Npb25Db250ZXh0W107XG5cdH1cblx0cHVibGljIGV4cHJlc3Npb24oaTogbnVtYmVyKTogRXhwcmVzc2lvbkNvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoRXhwcmVzc2lvbkNvbnRleHQsIGkpIGFzIEV4cHJlc3Npb25Db250ZXh0O1xuXHR9XG5cdHB1YmxpYyByZWxvcCgpOiBSZWxvcENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoUmVsb3BDb250ZXh0LCAwKSBhcyBSZWxvcENvbnRleHQ7XG5cdH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVJbmRleCgpOiBudW1iZXIge1xuICAgIFx0cmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9lcXVhdGlvbjtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyRXF1YXRpb24pIHtcblx0IFx0XHRsaXN0ZW5lci5lbnRlckVxdWF0aW9uKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdEVxdWF0aW9uKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdEVxdWF0aW9uKHRoaXMpO1xuXHRcdH1cblx0fVxuXHQvLyBAT3ZlcnJpZGVcblx0cHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuXHRcdGlmICh2aXNpdG9yLnZpc2l0RXF1YXRpb24pIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0RXF1YXRpb24odGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5cblxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25Db250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLCBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCwgaW52b2tpbmdTdGF0ZT86IG51bWJlcikge1xuXHRcdHN1cGVyKHBhcmVudCwgaW52b2tpbmdTdGF0ZSk7XG4gICAgXHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0fVxuXHRwdWJsaWMgb3BlbigpOiBPcGVuQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChPcGVuQ29udGV4dCwgMCkgYXMgT3BlbkNvbnRleHQ7XG5cdH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVJbmRleCgpOiBudW1iZXIge1xuICAgIFx0cmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9leHByZXNzaW9uO1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJFeHByZXNzaW9uKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJFeHByZXNzaW9uKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdEV4cHJlc3Npb24pIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0RXhwcmVzc2lvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdEV4cHJlc3Npb24pIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0RXhwcmVzc2lvbih0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQ2xvc2VkQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlciwgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsIGludm9raW5nU3RhdGU/OiBudW1iZXIpIHtcblx0XHRzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpO1xuICAgIFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVJbmRleCgpOiBudW1iZXIge1xuICAgIFx0cmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9jbG9zZWQ7XG5cdH1cblx0cHVibGljIGNvcHlGcm9tKGN0eDogQ2xvc2VkQ29udGV4dCk6IHZvaWQge1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cbn1cbmV4cG9ydCBjbGFzcyBMb2dDb250ZXh0IGV4dGVuZHMgQ2xvc2VkQ29udGV4dCB7XG5cdHB1YmxpYyBfYmFzZSE6IENsb3NlZENvbnRleHQ7XG5cdHB1YmxpYyBfY29udGVudCE6IENsb3NlZENvbnRleHQ7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBDbG9zZWRDb250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgTE9HKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5MT0csIDApO1xuXHR9XG5cdHB1YmxpYyBjbG9zZWRfbGlzdCgpOiBDbG9zZWRDb250ZXh0W10ge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHRzKENsb3NlZENvbnRleHQpIGFzIENsb3NlZENvbnRleHRbXTtcblx0fVxuXHRwdWJsaWMgY2xvc2VkKGk6IG51bWJlcik6IENsb3NlZENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgaSkgYXMgQ2xvc2VkQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyTG9nKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJMb2codGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0TG9nKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdExvZyh0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdExvZykge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRMb2codGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5leHBvcnQgY2xhc3MgSW50ZWdyYWxDb250ZXh0IGV4dGVuZHMgQ2xvc2VkQ29udGV4dCB7XG5cdHB1YmxpYyBfaW50ZWdyYW5kITogQ2xvc2VkQ29udGV4dDtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IENsb3NlZENvbnRleHQpIHtcblx0XHRzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKTtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG5cdHB1YmxpYyBJTlQoKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLklOVCwgMCk7XG5cdH1cblx0cHVibGljIGNsb3NlZCgpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIDApIGFzIENsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlckludGVncmFsKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJJbnRlZ3JhbCh0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRJbnRlZ3JhbCkge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRJbnRlZ3JhbCh0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdEludGVncmFsKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdEludGVncmFsKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIFByb2R1Y3RDb250ZXh0IGV4dGVuZHMgQ2xvc2VkQ29udGV4dCB7XG5cdHB1YmxpYyBfbGVmdCE6IENsb3NlZENvbnRleHQ7XG5cdHB1YmxpYyBfcmlnaHQhOiBDbG9zZWRDb250ZXh0O1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIGNsb3NlZF9saXN0KCk6IENsb3NlZENvbnRleHRbXSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dHMoQ2xvc2VkQ29udGV4dCkgYXMgQ2xvc2VkQ29udGV4dFtdO1xuXHR9XG5cdHB1YmxpYyBjbG9zZWQoaTogbnVtYmVyKTogQ2xvc2VkQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChDbG9zZWRDb250ZXh0LCBpKSBhcyBDbG9zZWRDb250ZXh0O1xuXHR9XG5cdHB1YmxpYyBUSU1FUygpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuVElNRVMsIDApO1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJQcm9kdWN0KSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJQcm9kdWN0KHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdFByb2R1Y3QpIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0UHJvZHVjdCh0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdFByb2R1Y3QpIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0UHJvZHVjdCh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cbmV4cG9ydCBjbGFzcyBEaXZpc2lvbkNvbnRleHQgZXh0ZW5kcyBDbG9zZWRDb250ZXh0IHtcblx0cHVibGljIF9sZWZ0ITogQ2xvc2VkQ29udGV4dDtcblx0cHVibGljIF9yaWdodCE6IENsb3NlZENvbnRleHQ7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBDbG9zZWRDb250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgRElWKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5ESVYsIDApO1xuXHR9XG5cdHB1YmxpYyBjbG9zZWRfbGlzdCgpOiBDbG9zZWRDb250ZXh0W10ge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHRzKENsb3NlZENvbnRleHQpIGFzIENsb3NlZENvbnRleHRbXTtcblx0fVxuXHRwdWJsaWMgY2xvc2VkKGk6IG51bWJlcik6IENsb3NlZENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgaSkgYXMgQ2xvc2VkQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyRGl2aXNpb24pIHtcblx0IFx0XHRsaXN0ZW5lci5lbnRlckRpdmlzaW9uKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdERpdmlzaW9uKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdERpdmlzaW9uKHRoaXMpO1xuXHRcdH1cblx0fVxuXHQvLyBAT3ZlcnJpZGVcblx0cHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuXHRcdGlmICh2aXNpdG9yLnZpc2l0RGl2aXNpb24pIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0RGl2aXNpb24odGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5leHBvcnQgY2xhc3MgQ2xvc2VkQXRvbUNvbnRleHQgZXh0ZW5kcyBDbG9zZWRDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IENsb3NlZENvbnRleHQpIHtcblx0XHRzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKTtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG5cdHB1YmxpYyBhdG9tKCk6IEF0b21Db250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KEF0b21Db250ZXh0LCAwKSBhcyBBdG9tQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyQ2xvc2VkQXRvbSkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyQ2xvc2VkQXRvbSh0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRDbG9zZWRBdG9tKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdENsb3NlZEF0b20odGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRDbG9zZWRBdG9tKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENsb3NlZEF0b20odGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5leHBvcnQgY2xhc3MgUG93ZXJDb250ZXh0IGV4dGVuZHMgQ2xvc2VkQ29udGV4dCB7XG5cdHB1YmxpYyBfbGVmdCE6IENsb3NlZENvbnRleHQ7XG5cdHB1YmxpYyBfcmlnaHQhOiBDbG9zZWRDb250ZXh0O1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIFBPVygpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuUE9XLCAwKTtcblx0fVxuXHRwdWJsaWMgY2xvc2VkX2xpc3QoKTogQ2xvc2VkQ29udGV4dFtdIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0cyhDbG9zZWRDb250ZXh0KSBhcyBDbG9zZWRDb250ZXh0W107XG5cdH1cblx0cHVibGljIGNsb3NlZChpOiBudW1iZXIpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIGkpIGFzIENsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlclBvd2VyKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJQb3dlcih0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRQb3dlcikge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRQb3dlcih0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdFBvd2VyKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdFBvd2VyKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIFBhcmVuQ29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIExQQVJFTigpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuTFBBUkVOLCAwKTtcblx0fVxuXHRwdWJsaWMgb3BlbigpOiBPcGVuQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChPcGVuQ29udGV4dCwgMCkgYXMgT3BlbkNvbnRleHQ7XG5cdH1cblx0cHVibGljIFJQQVJFTigpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuUlBBUkVOLCAwKTtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyUGFyZW4pIHtcblx0IFx0XHRsaXN0ZW5lci5lbnRlclBhcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdFBhcmVuKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdFBhcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxuXHQvLyBAT3ZlcnJpZGVcblx0cHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuXHRcdGlmICh2aXNpdG9yLnZpc2l0UGFyZW4pIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0UGFyZW4odGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5cblxuZXhwb3J0IGNsYXNzIFJpZ2h0X2Nsb3NlZENvbnRleHQgZXh0ZW5kcyBQYXJzZXJSdWxlQ29udGV4dCB7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcj86IGFyaXRobWV0aWNQYXJzZXIsIHBhcmVudD86IFBhcnNlclJ1bGVDb250ZXh0LCBpbnZva2luZ1N0YXRlPzogbnVtYmVyKSB7XG5cdFx0c3VwZXIocGFyZW50LCBpbnZva2luZ1N0YXRlKTtcbiAgICBcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHR9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICBcdHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfcmlnaHRfY2xvc2VkO1xuXHR9XG5cdHB1YmxpYyBjb3B5RnJvbShjdHg6IFJpZ2h0X2Nsb3NlZENvbnRleHQpOiB2b2lkIHtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG59XG5leHBvcnQgY2xhc3MgVW5hcnlPbkV4cHJlc3Npb25Db250ZXh0IGV4dGVuZHMgUmlnaHRfY2xvc2VkQ29udGV4dCB7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBSaWdodF9jbG9zZWRDb250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgY2xvc2VkKCk6IENsb3NlZENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgMCkgYXMgQ2xvc2VkQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgUExVUygpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuUExVUywgMCk7XG5cdH1cblx0cHVibGljIE1JTlVTKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5NSU5VUywgMCk7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlclVuYXJ5T25FeHByZXNzaW9uKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJVbmFyeU9uRXhwcmVzc2lvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRVbmFyeU9uRXhwcmVzc2lvbikge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRVbmFyeU9uRXhwcmVzc2lvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdFVuYXJ5T25FeHByZXNzaW9uKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdFVuYXJ5T25FeHByZXNzaW9uKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIENsb3NlZElzUmlnaHRfQ2xvc2VkQ29udGV4dCBleHRlbmRzIFJpZ2h0X2Nsb3NlZENvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogUmlnaHRfY2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIGNsb3NlZCgpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIDApIGFzIENsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlckNsb3NlZElzUmlnaHRfQ2xvc2VkKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJDbG9zZWRJc1JpZ2h0X0Nsb3NlZCh0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRDbG9zZWRJc1JpZ2h0X0Nsb3NlZCkge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRDbG9zZWRJc1JpZ2h0X0Nsb3NlZCh0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdENsb3NlZElzUmlnaHRfQ2xvc2VkKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENsb3NlZElzUmlnaHRfQ2xvc2VkKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQgZXh0ZW5kcyBSaWdodF9jbG9zZWRDb250ZXh0IHtcblx0cHVibGljIF9sZWZ0ITogUmlnaHRfY2xvc2VkQ29udGV4dDtcblx0cHVibGljIF9yaWdodCE6IENsb3NlZENvbnRleHQ7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBSaWdodF9jbG9zZWRDb250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgcmlnaHRfY2xvc2VkKCk6IFJpZ2h0X2Nsb3NlZENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoUmlnaHRfY2xvc2VkQ29udGV4dCwgMCkgYXMgUmlnaHRfY2xvc2VkQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgY2xvc2VkKCk6IENsb3NlZENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgMCkgYXMgQ2xvc2VkQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0KSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3QodGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0UmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0KSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdCh0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdCkge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3QodGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5cblxuZXhwb3J0IGNsYXNzIE9wZW5Db250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLCBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCwgaW52b2tpbmdTdGF0ZT86IG51bWJlcikge1xuXHRcdHN1cGVyKHBhcmVudCwgaW52b2tpbmdTdGF0ZSk7XG4gICAgXHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0fVxuICAgIHB1YmxpYyBnZXQgcnVsZUluZGV4KCk6IG51bWJlciB7XG4gICAgXHRyZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5SVUxFX29wZW47XG5cdH1cblx0cHVibGljIGNvcHlGcm9tKGN0eDogT3BlbkNvbnRleHQpOiB2b2lkIHtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG59XG5leHBvcnQgY2xhc3MgUmlnaHRfQ2xvc2VkSXNPcGVuQ29udGV4dCBleHRlbmRzIE9wZW5Db250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IE9wZW5Db250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgcmlnaHRfY2xvc2VkKCk6IFJpZ2h0X2Nsb3NlZENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoUmlnaHRfY2xvc2VkQ29udGV4dCwgMCkgYXMgUmlnaHRfY2xvc2VkQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyUmlnaHRfQ2xvc2VkSXNPcGVuKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJSaWdodF9DbG9zZWRJc09wZW4odGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0UmlnaHRfQ2xvc2VkSXNPcGVuKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdFJpZ2h0X0Nsb3NlZElzT3Blbih0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdFJpZ2h0X0Nsb3NlZElzT3Blbikge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRSaWdodF9DbG9zZWRJc09wZW4odGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5leHBvcnQgY2xhc3MgU3VtQ29udGV4dCBleHRlbmRzIE9wZW5Db250ZXh0IHtcblx0cHVibGljIF9sZWZ0ITogT3BlbkNvbnRleHQ7XG5cdHB1YmxpYyBfcmlnaHQhOiBSaWdodF9jbG9zZWRDb250ZXh0O1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogT3BlbkNvbnRleHQpIHtcblx0XHRzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKTtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG5cdHB1YmxpYyBvcGVuKCk6IE9wZW5Db250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KE9wZW5Db250ZXh0LCAwKSBhcyBPcGVuQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgUExVUygpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuUExVUywgMCk7XG5cdH1cblx0cHVibGljIE1JTlVTKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5NSU5VUywgMCk7XG5cdH1cblx0cHVibGljIHJpZ2h0X2Nsb3NlZCgpOiBSaWdodF9jbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KFJpZ2h0X2Nsb3NlZENvbnRleHQsIDApIGFzIFJpZ2h0X2Nsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlclN1bSkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyU3VtKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdFN1bSkge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRTdW0odGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRTdW0pIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0U3VtKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuXG5cbmV4cG9ydCBjbGFzcyBBdG9tQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlciwgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsIGludm9raW5nU3RhdGU/OiBudW1iZXIpIHtcblx0XHRzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpO1xuICAgIFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdH1cblx0cHVibGljIFNDSUVOVElGSUNfTlVNQkVSKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5TQ0lFTlRJRklDX05VTUJFUiwgMCk7XG5cdH1cblx0cHVibGljIFZBUklBQkxFKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5WQVJJQUJMRSwgMCk7XG5cdH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVJbmRleCgpOiBudW1iZXIge1xuICAgIFx0cmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9hdG9tO1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJBdG9tKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJBdG9tKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdEF0b20pIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0QXRvbSh0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdEF0b20pIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0QXRvbSh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cblxuXG5leHBvcnQgY2xhc3MgUmVsb3BDb250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLCBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCwgaW52b2tpbmdTdGF0ZT86IG51bWJlcikge1xuXHRcdHN1cGVyKHBhcmVudCwgaW52b2tpbmdTdGF0ZSk7XG4gICAgXHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0fVxuXHRwdWJsaWMgRVEoKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLkVRLCAwKTtcblx0fVxuICAgIHB1YmxpYyBnZXQgcnVsZUluZGV4KCk6IG51bWJlciB7XG4gICAgXHRyZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5SVUxFX3JlbG9wO1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJSZWxvcCkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyUmVsb3AodGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0UmVsb3ApIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0UmVsb3AodGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRSZWxvcCkge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRSZWxvcCh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cbiIsIi8vIEdlbmVyYXRlZCBmcm9tIC4vc3JjL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWMuZzQgYnkgQU5UTFIgNC4xMy4wXG5cbmltcG9ydCB7UGFyc2VUcmVlVmlzaXRvcn0gZnJvbSAnYW50bHI0JztcblxuXG5pbXBvcnQgeyBFcXVhdGlvbkNvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IExvZ0NvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBJbnRlZ3JhbENvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0Q29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IERpdmlzaW9uQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IENsb3NlZEF0b21Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgUG93ZXJDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgUGFyZW5Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgVW5hcnlPbkV4cHJlc3Npb25Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgQ2xvc2VkSXNSaWdodF9DbG9zZWRDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0Q29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBTdW1Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgQXRvbUNvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBSZWxvcENvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5cblxuLyoqXG4gKiBUaGlzIGludGVyZmFjZSBkZWZpbmVzIGEgY29tcGxldGUgZ2VuZXJpYyB2aXNpdG9yIGZvciBhIHBhcnNlIHRyZWUgcHJvZHVjZWRcbiAqIGJ5IGBhcml0aG1ldGljUGFyc2VyYC5cbiAqXG4gKiBAcGFyYW0gPFJlc3VsdD4gVGhlIHJldHVybiB0eXBlIG9mIHRoZSB2aXNpdCBvcGVyYXRpb24uIFVzZSBgdm9pZGAgZm9yXG4gKiBvcGVyYXRpb25zIHdpdGggbm8gcmV0dXJuIHR5cGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4gZXh0ZW5kcyBQYXJzZVRyZWVWaXNpdG9yPFJlc3VsdD4ge1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IGBhcml0aG1ldGljUGFyc2VyLmVxdWF0aW9uYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRFcXVhdGlvbj86IChjdHg6IEVxdWF0aW9uQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IGBhcml0aG1ldGljUGFyc2VyLmV4cHJlc3Npb25gLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdEV4cHJlc3Npb24/OiAoY3R4OiBFeHByZXNzaW9uQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgTG9nYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0TG9nPzogKGN0eDogTG9nQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgSW50ZWdyYWxgXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIuY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRJbnRlZ3JhbD86IChjdHg6IEludGVncmFsQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgUHJvZHVjdGBcblx0ICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5jbG9zZWRgLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdFByb2R1Y3Q/OiAoY3R4OiBQcm9kdWN0Q29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgRGl2aXNpb25gXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIuY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXREaXZpc2lvbj86IChjdHg6IERpdmlzaW9uQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgQ2xvc2VkQXRvbWBcblx0ICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5jbG9zZWRgLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdENsb3NlZEF0b20/OiAoY3R4OiBDbG9zZWRBdG9tQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgUG93ZXJgXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIuY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRQb3dlcj86IChjdHg6IFBvd2VyQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgUGFyZW5gXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIuY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRQYXJlbj86IChjdHg6IFBhcmVuQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgVW5hcnlPbkV4cHJlc3Npb25gXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIucmlnaHRfY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRVbmFyeU9uRXhwcmVzc2lvbj86IChjdHg6IFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgQ2xvc2VkSXNSaWdodF9DbG9zZWRgXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIucmlnaHRfY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRDbG9zZWRJc1JpZ2h0X0Nsb3NlZD86IChjdHg6IENsb3NlZElzUmlnaHRfQ2xvc2VkQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0YFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLnJpZ2h0X2Nsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0UmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0PzogKGN0eDogUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0Q29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgUmlnaHRfQ2xvc2VkSXNPcGVuYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLm9wZW5gLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdFJpZ2h0X0Nsb3NlZElzT3Blbj86IChjdHg6IFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFN1bWBcblx0ICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5vcGVuYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRTdW0/OiAoY3R4OiBTdW1Db250ZXh0KSA9PiBSZXN1bHQ7XG5cdC8qKlxuXHQgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgYGFyaXRobWV0aWNQYXJzZXIuYXRvbWAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0QXRvbT86IChjdHg6IEF0b21Db250ZXh0KSA9PiBSZXN1bHQ7XG5cdC8qKlxuXHQgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgYGFyaXRobWV0aWNQYXJzZXIucmVsb3BgLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdFJlbG9wPzogKGN0eDogUmVsb3BDb250ZXh0KSA9PiBSZXN1bHQ7XG59XG5cbiIsIlxuLyoqXG4gKiBXcmFwcyB0aGUgZ2l2ZW4gbWF0aG1sIHN0cmluZyBpbiBtYXRobWwgcGFyZW50aGFzZXMuXG4gKiBAcGFyYW0gc3RyIFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5QYXJlbihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPG1vPig8L21vPlwiICsgc3RyICsgXCI8bW8+KTwvbW8+XCJcbn1cblxuLyoqXG4gKiBQdXRzIHRoZSBnaXZlbiBtYXRobWwgZXhwcmVzc2lvbiBpbiBhIHJvdyBzbyB0aGF0IFxuICogaXQgZG9lc24ndCBnZXQgZGl2aWRlZCBieSBtYXRoamF4LlxuICogQHBhcmFtIHN0ciBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5Sb3coc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxtcm93PlwiICsgc3RyICsgXCI8L21yb3c+XCJcbn1cblxuLyoqXG4gKiBXcmFwcyB0aGUgZ2l2ZW4gc3RyaW5nIGluIDxtYXRoPjwvbWF0aD5cbiAqIEBwYXJhbSBzdHIgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbk1hdGgoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxtYXRoPlwiICsgc3RyICsgXCI8L21hdGg+XCJcbn1cblxuLyoqXG4gKiBXcmFwcyB0aGUgZ2l2ZW4gc3RyaW5nIGluIDxtYXRoIGRpc3BsYXk9J2Jsb2NrJz48L21hdGg+XG4gKiBAcGFyYW0gc3RyIFxuICovXG4gZXhwb3J0IGZ1bmN0aW9uIGluTWF0aEJsb2NrKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI8bWF0aCBkaXNwbGF5PSdibG9jayc+XCIgKyBzdHIgKyBcIjwvbWF0aD5cIlxufSIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPZjxUPiguLi5hcnI6IFRbXSk6IFNldDxUPiB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IFNldDxUPigpXG4gICAgYXJyLmZvckVhY2goZSA9PiBvdXQuYWRkKGUpKVxuICAgIHJldHVybiBvdXRcbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBnaXZlbiBlbGVtZW50cyB0byB0aGUgZ2l2ZW4gY29sbGVjdGlvblxuICogQHBhcmFtIGNvbGxlY3Rpb24gXG4gKiBAcGFyYW0gZWxlbWVudHMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRBbGw8VD4oY29sbGVjdGlvbjogU2V0PFQ+LCAuLi5lbGVtZW50czogVFtdKSB7XG4gICAgZm9yIChjb25zdCBlIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgIGNvbGxlY3Rpb24uYWRkKGUpXG4gICAgfVxufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBpbiB0aGUgZ2l2ZW4gY29sbGVjdGlvblxuICogdXNpbmcgcmVmZXJlbmNpYWwgZXF1YWxpdHkuXG4gKiBAcGFyYW0gY29sbGVjdGlvbiBcbiAqIEBwYXJhbSBlbGVtZW50IFxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgY29sbGVjdGlvbiBoYXMgdGhlIGVsZW1lbnQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhczxUPihjb2xsZWN0aW9uOiBUW10sIGVsZW1lbnQ6IFQpOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGUgb2YgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAoZSA9PT0gZWxlbWVudCkgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG59IiwiXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiBldmFsdWF0ZWQgdG8gdHJ1ZS4gSWYgbm90LCB0aHJvd3MgZXJyb3JcbiAqIHdpdGggdGhlIG1lc3NhZ2UgZ2l2ZW4uXG4gKiBAcGFyYW0gbXNnIERpc3BsYXllZCBpZiB0aGUgZXhwcmVzc2lvbiBpcyBmYWxzZS4gRGVmYXVsdHMgdG8gXCJGYWlsZWQgQXNzZXJ0XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChleHA6IGJvb2xlYW4sIG1zZzogc3RyaW5nID0gXCJGYWlsZWQgYXNzZXJ0XCIpOiB2b2lkIHtcbiAgICBpZiAoIWV4cCkgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JfYWxsPFQ+KGl0ZXJhYmxlOiBJdGVyYWJsZTxUPiwgZXhwOiAodmFsOiBUKSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBpIG9mIGl0ZXJhYmxlKSB7XG4gICAgICAgIGlmICghZXhwKGkpKSByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcl9zb21lPFQ+KGl0ZXJhYmxlOiBJdGVyYWJsZTxUPiwgZXhwOiAodmFsOiBUKSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBpIG9mIGl0ZXJhYmxlKSB7XG4gICAgICAgIGlmIChleHAoaSkpIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxufSIsIigoKT0+e3ZhciB0PXs5MjooKT0+e319LGU9e307ZnVuY3Rpb24gbihyKXt2YXIgbz1lW3JdO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT1lW3JdPXtleHBvcnRzOnt9fTtyZXR1cm4gdFtyXShpLGkuZXhwb3J0cyxuKSxpLmV4cG9ydHN9bi5kPSh0LGUpPT57Zm9yKHZhciByIGluIGUpbi5vKGUscikmJiFuLm8odCxyKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7ZW51bWVyYWJsZTohMCxnZXQ6ZVtyXX0pfSxuLm89KHQsZSk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpLG4ucj10PT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX07dmFyIHI9e307KCgpPT57XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtyZXR1cm4gdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx0KGUpfWZ1bmN0aW9uIGUoZSxuKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsKHZvaWQgMCxpPWZ1bmN0aW9uKGUsbil7aWYoXCJvYmplY3RcIiE9PXQoZSl8fG51bGw9PT1lKXJldHVybiBlO3ZhciByPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1yKXt2YXIgbz1yLmNhbGwoZSxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09dChvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhlKX0oby5rZXkpLFwic3ltYm9sXCI9PT10KGkpP2k6U3RyaW5nKGkpKSxvKX12YXIgaX1uLnIociksbi5kKHIse0FUTjooKT0+RmUsQVRORGVzZXJpYWxpemVyOigpPT5IbyxCYWlsRXJyb3JTdHJhdGVneTooKT0+dGEsQ2hhclN0cmVhbTooKT0+YWEsQ2hhclN0cmVhbXM6KCk9PnZhLENvbW1vblRva2VuOigpPT55aSxDb21tb25Ub2tlblN0cmVhbTooKT0+UmEsREZBOigpPT5jYyxEaWFnbm9zdGljRXJyb3JMaXN0ZW5lcjooKT0+SWMsRXJyb3JMaXN0ZW5lcjooKT0+R28sRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uOigpPT5qYyxJbnB1dFN0cmVhbTooKT0+YWEsSW50ZXJ2YWw6KCk9PkIsSW50ZXJ2YWxTZXQ6KCk9PlYsTEwxQW5hbHl6ZXI6KCk9PkllLExleGVyOigpPT5VaSxMZXhlckFUTlNpbXVsYXRvcjooKT0+RXUsTm9WaWFibGVBbHRFeGNlcHRpb246KCk9PkJ1LFBhcnNlVHJlZUxpc3RlbmVyOigpPT55YyxQYXJzZVRyZWVWaXNpdG9yOigpPT52YyxQYXJzZVRyZWVXYWxrZXI6KCk9PmdjLFBhcnNlcjooKT0+VWEsUGFyc2VyQVROU2ltdWxhdG9yOigpPT5ZdSxQYXJzZXJSdWxlQ29udGV4dDooKT0+ZWwsUHJlZGljdGlvbkNvbnRleHRDYWNoZTooKT0+WHUsUHJlZGljdGlvbk1vZGU6KCk9Pkl1LFJlY29nbml0aW9uRXhjZXB0aW9uOigpPT54aSxSdWxlQ29udGV4dDooKT0+ZWUsUnVsZU5vZGU6KCk9PlV0LFRlcm1pbmFsTm9kZTooKT0+SHQsVG9rZW46KCk9Pm8sYXJyYXlUb1N0cmluZzooKT0+YixkZWZhdWx0OigpPT5PbH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5zb3VyY2U9bnVsbCx0aGlzLnR5cGU9bnVsbCx0aGlzLmNoYW5uZWw9bnVsbCx0aGlzLnN0YXJ0PW51bGwsdGhpcy5zdG9wPW51bGwsdGhpcy50b2tlbkluZGV4PW51bGwsdGhpcy5saW5lPW51bGwsdGhpcy5jb2x1bW49bnVsbCx0aGlzLl90ZXh0PW51bGx9dmFyIG4scjtyZXR1cm4gbj10LChyPVt7a2V5OlwiZ2V0VG9rZW5Tb3VyY2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZVswXX19LHtrZXk6XCJnZXRJbnB1dFN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlWzFdfX0se2tleTpcInRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHQ9dH19XSkmJmUobi5wcm90b3R5cGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIGkodCxlKXtpZighQXJyYXkuaXNBcnJheSh0KXx8IUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuITE7aWYodD09PWUpcmV0dXJuITA7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZighKHRbbl09PT1lW25dfHx0W25dLmVxdWFscyYmdFtuXS5lcXVhbHMoZVtuXSkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdSh0KX1vLklOVkFMSURfVFlQRT0wLG8uRVBTSUxPTj0tMixvLk1JTl9VU0VSX1RPS0VOX1RZUEU9MSxvLkVPRj0tMSxvLkRFRkFVTFRfQ0hBTk5FTD0wLG8uSElEREVOX0NIQU5ORUw9MTt2YXIgYz1NYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqTWF0aC5wb3coMiwzMikpO2Z1bmN0aW9uIGEodCl7aWYoIXQpcmV0dXJuIDA7dmFyIGUsbixyPXUodCksbz1cInN0cmluZ1wiPT09cj90OiEoXCJvYmplY3RcIiE9PXJ8fCF0LnRvU3RyaW5nKSYmdC50b1N0cmluZygpO2lmKCFvKXJldHVybiAwO2Zvcih2YXIgaT0zJm8ubGVuZ3RoLGE9by5sZW5ndGgtaSxsPWMscz0zNDMyOTE4MzUzLGY9NDYxODQ1OTA3LHA9MDtwPGE7KW49MjU1Jm8uY2hhckNvZGVBdChwKXwoMjU1Jm8uY2hhckNvZGVBdCgrK3ApKTw8OHwoMjU1Jm8uY2hhckNvZGVBdCgrK3ApKTw8MTZ8KDI1NSZvLmNoYXJDb2RlQXQoKytwKSk8PDI0LCsrcCxsPTI3NDkyKyg2NTUzNSYoZT01Kig2NTUzNSYobD0obF49bj0oNjU1MzUmKG49KG49KDY1NTM1Jm4pKnMrKCgobj4+PjE2KSpzJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxuPj4+MTcpKSpmKygoKG4+Pj4xNikqZiY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8bD4+PjE5KSkrKCg1KihsPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhlPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaChuPTAsaSl7Y2FzZSAzOm5ePSgyNTUmby5jaGFyQ29kZUF0KHArMikpPDwxNjtjYXNlIDI6bl49KDI1NSZvLmNoYXJDb2RlQXQocCsxKSk8PDg7Y2FzZSAxOmxePW49KDY1NTM1JihuPShuPSg2NTUzNSYobl49MjU1Jm8uY2hhckNvZGVBdChwKSkpKnMrKCgobj4+PjE2KSpzJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxuPj4+MTcpKSpmKygoKG4+Pj4xNikqZiY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1fXJldHVybiBsXj1vLmxlbmd0aCxsPTIyNDY4MjI1MDcqKDY1NTM1JihsXj1sPj4+MTYpKSsoKDIyNDY4MjI1MDcqKGw+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSxsPTMyNjY0ODk5MDkqKDY1NTM1JihsXj1sPj4+MTMpKSsoKDMyNjY0ODk5MDkqKGw+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSwobF49bD4+PjE2KT4+PjB9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gbD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxsKHQpfWZ1bmN0aW9uIHModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWwodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09bChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1sKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY291bnQ9MCx0aGlzLmhhc2g9MH12YXIgZSxuLHI7cmV0dXJuIGU9dCxuPVt7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgZT1hcmd1bWVudHNbdF07aWYobnVsbCE9ZSlpZihBcnJheS5pc0FycmF5KGUpKXRoaXMudXBkYXRlLmFwcGx5KHRoaXMsZSk7ZWxzZXt2YXIgbj0wO3N3aXRjaChsKGUpKXtjYXNlXCJ1bmRlZmluZWRcIjpjYXNlXCJmdW5jdGlvblwiOmNvbnRpbnVlO2Nhc2VcIm51bWJlclwiOmNhc2VcImJvb2xlYW5cIjpuPWU7YnJlYWs7Y2FzZVwic3RyaW5nXCI6bj1hKGUpO2JyZWFrO2RlZmF1bHQ6ZS51cGRhdGVIYXNoQ29kZT9lLnVwZGF0ZUhhc2hDb2RlKHRoaXMpOmNvbnNvbGUubG9nKFwiTm8gdXBkYXRlSGFzaENvZGUgZm9yIFwiK2UudG9TdHJpbmcoKSk7Y29udGludWV9bj0obio9MzQzMjkxODM1Myk8PDE1fG4+Pj4xNyxuKj00NjE4NDU5MDcsdGhpcy5jb3VudD10aGlzLmNvdW50KzE7dmFyIHI9dGhpcy5oYXNoXm47cj01KihyPXI8PDEzfHI+Pj4xOSkrMzg2NDI5MjE5Nix0aGlzLmhhc2g9cn19fX0se2tleTpcImZpbmlzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oYXNoXjQqdGhpcy5jb3VudDtyZXR1cm4gdF49dD4+PjE2LHQqPTIyNDY4MjI1MDcsdF49dD4+PjEzLCh0Kj0zMjY2NDg5OTA5KV50Pj4+MTZ9fV0scj1be2tleTpcImhhc2hTdHVmZlwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IHQ7cmV0dXJuIGUudXBkYXRlLmFwcGx5KGUsYXJndW1lbnRzKSxlLmZpbmlzaCgpfX1dLG4mJnMoZS5wcm90b3R5cGUsbiksciYmcyhlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBwKHQpe3JldHVybiB0P1wic3RyaW5nXCI9PXR5cGVvZiB0P2EodCk6dC5oYXNoQ29kZSgpOi0xfWZ1bmN0aW9uIHkodCxlKXtyZXR1cm4gdD90LmVxdWFscyhlKTp0PT09ZX1mdW5jdGlvbiBoKHQpe3JldHVybiBudWxsPT09dD9cIm51bGxcIjp0fWZ1bmN0aW9uIGIodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/XCJbXCIrdC5tYXAoaCkuam9pbihcIiwgXCIpK1wiXVwiOlwibnVsbFwifWZ1bmN0aW9uIHYodCl7cmV0dXJuIHY9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdih0KX1mdW5jdGlvbiBkKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT12KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXYocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09dihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIG09XCJoLVwiLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmRhdGE9e30sdGhpcy5oYXNoRnVuY3Rpb249ZXx8cCx0aGlzLmVxdWFsc0Z1bmN0aW9uPW58fHl9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1tK3RoaXMuaGFzaEZ1bmN0aW9uKHQpO2lmKGUgaW4gdGhpcy5kYXRhKXtmb3IodmFyIG49dGhpcy5kYXRhW2VdLHI9MDtyPG4ubGVuZ3RoO3IrKylpZih0aGlzLmVxdWFsc0Z1bmN0aW9uKHQsbltyXSkpcmV0dXJuIG5bcl07cmV0dXJuIG4ucHVzaCh0KSx0fXJldHVybiB0aGlzLmRhdGFbZV09W3RdLHR9fSx7a2V5OlwiaGFzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXRoaXMuZ2V0KHQpfX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW0rdGhpcy5oYXNoRnVuY3Rpb24odCk7aWYoZSBpbiB0aGlzLmRhdGEpZm9yKHZhciBuPXRoaXMuZGF0YVtlXSxyPTA7cjxuLmxlbmd0aDtyKyspaWYodGhpcy5lcXVhbHNGdW5jdGlvbih0LG5bcl0pKXJldHVybiBuW3JdO3JldHVybiBudWxsfX0se2tleTpcInZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5kYXRhKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgobSl9KSkuZmxhdE1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVtlXX0pLHRoaXMpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYih0aGlzLnZhbHVlcygpKX19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhcnRzV2l0aChtKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFbZV0ubGVuZ3RofSksdGhpcykucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSwwKX19XSxuJiZkKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBTKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJk8odCxlKX1mdW5jdGlvbiBPKHQsZSl7cmV0dXJuIE89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxPKHQsZSl9ZnVuY3Rpb24gdyh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLHI9Xyh0KTtpZihlKXt2YXIgbz1fKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsbyl9ZWxzZSBuPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09UChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyxuKX19ZnVuY3Rpb24gXyh0KXtyZXR1cm4gXz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sXyh0KX1mdW5jdGlvbiBQKHQpe3JldHVybiBQPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFAodCl9ZnVuY3Rpb24gVCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gRSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09UCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1QKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVAobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGsodCxlLG4pe3JldHVybiBlJiZFKHQucHJvdG90eXBlLGUpLG4mJkUodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9dmFyIGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7VCh0aGlzLHQpfXJldHVybiBrKHQsW3trZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGY7cmV0dXJuIHRoaXMudXBkYXRlSGFzaENvZGUodCksdC5maW5pc2goKX19LHtrZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7fX0se2tleTpcImV2YWxQcmVjZWRlbmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpc319XSxbe2tleTpcImFuZENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbihlLG4pe2lmKG51bGw9PT1lfHxlPT09dC5OT05FKXJldHVybiBuO2lmKG51bGw9PT1ufHxuPT09dC5OT05FKXJldHVybiBlO3ZhciByPW5ldyB4KGUsbik7cmV0dXJuIDE9PT1yLm9wbmRzLmxlbmd0aD9yLm9wbmRzWzBdOnJ9fSx7a2V5Olwib3JDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtpZihudWxsPT09ZSlyZXR1cm4gbjtpZihudWxsPT09bilyZXR1cm4gZTtpZihlPT09dC5OT05FfHxuPT09dC5OT05FKXJldHVybiB0Lk5PTkU7dmFyIHI9bmV3IFIoZSxuKTtyZXR1cm4gMT09PXIub3BuZHMubGVuZ3RoP3Iub3BuZHNbMF06cn19XSksdH0oKSx4PWZ1bmN0aW9uKHQpe1Mobix0KTt2YXIgZT13KG4pO2Z1bmN0aW9uIG4odCxyKXt2YXIgbztUKHRoaXMsbiksbz1lLmNhbGwodGhpcyk7dmFyIGk9bmV3IGc7dCBpbnN0YW5jZW9mIG4/dC5vcG5kcy5tYXAoKGZ1bmN0aW9uKHQpe2kuYWRkKHQpfSkpOmkuYWRkKHQpLHIgaW5zdGFuY2VvZiBuP3Iub3BuZHMubWFwKChmdW5jdGlvbih0KXtpLmFkZCh0KX0pKTppLmFkZChyKTt2YXIgdT1DKGkpO2lmKHUubGVuZ3RoPjApe3ZhciBjPW51bGw7dS5tYXAoKGZ1bmN0aW9uKHQpeyhudWxsPT09Y3x8dC5wcmVjZWRlbmNlPGMucHJlY2VkZW5jZSkmJihjPXQpfSkpLGkuYWRkKGMpfXJldHVybiBvLm9wbmRzPUFycmF5LmZyb20oaS52YWx1ZXMoKSksb31yZXR1cm4gayhuLFt7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgbiYmaSh0aGlzLm9wbmRzLHQub3BuZHMpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5vcG5kcyxcIkFORFwiKX19LHtrZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLm9wbmRzLmxlbmd0aDtuKyspaWYoIXRoaXMub3BuZHNbbl0uZXZhbHVhdGUodCxlKSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6XCJldmFsUHJlY2VkZW5jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSExLHI9W10sbz0wO288dGhpcy5vcG5kcy5sZW5ndGg7bysrKXt2YXIgaT10aGlzLm9wbmRzW29dLHU9aS5ldmFsUHJlY2VkZW5jZSh0LGUpO2lmKG58PXUhPT1pLG51bGw9PT11KXJldHVybiBudWxsO3UhPT1qLk5PTkUmJnIucHVzaCh1KX1pZighbilyZXR1cm4gdGhpcztpZigwPT09ci5sZW5ndGgpcmV0dXJuIGouTk9ORTt2YXIgYz1udWxsO3JldHVybiByLm1hcCgoZnVuY3Rpb24odCl7Yz1udWxsPT09Yz90OmouYW5kQ29udGV4dChjLHQpfSkpLGN9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3BuZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygpfSkpO3JldHVybih0Lmxlbmd0aD4zP3Quc2xpY2UoMyk6dCkuam9pbihcIiYmXCIpfX1dKSxufShqKSxSPWZ1bmN0aW9uKHQpe1Mobix0KTt2YXIgZT13KG4pO2Z1bmN0aW9uIG4odCxyKXt2YXIgbztUKHRoaXMsbiksbz1lLmNhbGwodGhpcyk7dmFyIGk9bmV3IGc7dCBpbnN0YW5jZW9mIG4/dC5vcG5kcy5tYXAoKGZ1bmN0aW9uKHQpe2kuYWRkKHQpfSkpOmkuYWRkKHQpLHIgaW5zdGFuY2VvZiBuP3Iub3BuZHMubWFwKChmdW5jdGlvbih0KXtpLmFkZCh0KX0pKTppLmFkZChyKTt2YXIgdT1DKGkpO2lmKHUubGVuZ3RoPjApe3ZhciBjPXUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb21wYXJlVG8oZSl9KSksYT1jW2MubGVuZ3RoLTFdO2kuYWRkKGEpfXJldHVybiBvLm9wbmRzPUFycmF5LmZyb20oaS52YWx1ZXMoKSksb31yZXR1cm4gayhuLFt7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgbiYmaSh0aGlzLm9wbmRzLHQub3BuZHMpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5vcG5kcyxcIk9SXCIpfX0se2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMub3BuZHMubGVuZ3RoO24rKylpZih0aGlzLm9wbmRzW25dLmV2YWx1YXRlKHQsZSkpcmV0dXJuITA7cmV0dXJuITF9fSx7a2V5OlwiZXZhbFByZWNlZGVuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0hMSxyPVtdLG89MDtvPHRoaXMub3BuZHMubGVuZ3RoO28rKyl7dmFyIGk9dGhpcy5vcG5kc1tvXSx1PWkuZXZhbFByZWNlZGVuY2UodCxlKTtpZihufD11IT09aSx1PT09ai5OT05FKXJldHVybiBqLk5PTkU7bnVsbCE9PXUmJnIucHVzaCh1KX1pZighbilyZXR1cm4gdGhpcztpZigwPT09ci5sZW5ndGgpcmV0dXJuIG51bGw7cmV0dXJuIHIubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKSxudWxsfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wbmRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKX0pKTtyZXR1cm4odC5sZW5ndGg+Mz90LnNsaWNlKDMpOnQpLmpvaW4oXCJ8fFwiKX19XSksbn0oaik7ZnVuY3Rpb24gQyh0KXt2YXIgZT1bXTtyZXR1cm4gdC52YWx1ZXMoKS5tYXAoKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBqLlByZWNlZGVuY2VQcmVkaWNhdGUmJmUucHVzaCh0KX0pKSxlfWZ1bmN0aW9uIEEodCl7cmV0dXJuIEE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQSh0KX1mdW5jdGlvbiBOKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1BKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09QShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gSSh0LGUpe2lmKG51bGw9PT10KXt2YXIgbj17c3RhdGU6bnVsbCxhbHQ6bnVsbCxjb250ZXh0Om51bGwsc2VtYW50aWNDb250ZXh0Om51bGx9O3JldHVybiBlJiYobi5yZWFjaGVzSW50b091dGVyQ29udGV4dD0wKSxufXZhciByPXt9O3JldHVybiByLnN0YXRlPXQuc3RhdGV8fG51bGwsci5hbHQ9dm9pZCAwPT09dC5hbHQ/bnVsbDp0LmFsdCxyLmNvbnRleHQ9dC5jb250ZXh0fHxudWxsLHIuc2VtYW50aWNDb250ZXh0PXQuc2VtYW50aWNDb250ZXh0fHxudWxsLGUmJihyLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PXQucmVhY2hlc0ludG9PdXRlckNvbnRleHR8fDAsci5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZD10LnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkfHwhMSkscn12YXIgTD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY2hlY2tDb250ZXh0KGUsbiksZT1JKGUpLG49SShuLCEwKSx0aGlzLnN0YXRlPW51bGwhPT1lLnN0YXRlP2Uuc3RhdGU6bi5zdGF0ZSx0aGlzLmFsdD1udWxsIT09ZS5hbHQ/ZS5hbHQ6bi5hbHQsdGhpcy5jb250ZXh0PW51bGwhPT1lLmNvbnRleHQ/ZS5jb250ZXh0Om4uY29udGV4dCx0aGlzLnNlbWFudGljQ29udGV4dD1udWxsIT09ZS5zZW1hbnRpY0NvbnRleHQ/ZS5zZW1hbnRpY0NvbnRleHQ6bnVsbCE9PW4uc2VtYW50aWNDb250ZXh0P24uc2VtYW50aWNDb250ZXh0OmouTk9ORSx0aGlzLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PW4ucmVhY2hlc0ludG9PdXRlckNvbnRleHQsdGhpcy5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZD1uLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImNoZWNrQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7bnVsbCE9PXQuY29udGV4dCYmdm9pZCAwIT09dC5jb250ZXh0fHxudWxsIT09ZSYmbnVsbCE9PWUuY29udGV4dCYmdm9pZCAwIT09ZS5jb250ZXh0fHwodGhpcy5jb250ZXh0PW51bGwpfX0se2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjtyZXR1cm4gdGhpcy51cGRhdGVIYXNoQ29kZSh0KSx0LmZpbmlzaCgpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5zdGF0ZS5zdGF0ZU51bWJlcix0aGlzLmFsdCx0aGlzLmNvbnRleHQsdGhpcy5zZW1hbnRpY0NvbnRleHQpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzPT09ZXx8ZSBpbnN0YW5jZW9mIHQmJnRoaXMuc3RhdGUuc3RhdGVOdW1iZXI9PT1lLnN0YXRlLnN0YXRlTnVtYmVyJiZ0aGlzLmFsdD09PWUuYWx0JiYobnVsbD09PXRoaXMuY29udGV4dD9udWxsPT09ZS5jb250ZXh0OnRoaXMuY29udGV4dC5lcXVhbHMoZS5jb250ZXh0KSkmJnRoaXMuc2VtYW50aWNDb250ZXh0LmVxdWFscyhlLnNlbWFudGljQ29udGV4dCkmJnRoaXMucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWQ9PT1lLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkfX0se2tleTpcImhhc2hDb2RlRm9yQ29uZmlnU2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjtyZXR1cm4gdC51cGRhdGUodGhpcy5zdGF0ZS5zdGF0ZU51bWJlcix0aGlzLmFsdCx0aGlzLnNlbWFudGljQ29udGV4dCksdC5maW5pc2goKX19LHtrZXk6XCJlcXVhbHNGb3JDb25maWdTZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcz09PWV8fGUgaW5zdGFuY2VvZiB0JiZ0aGlzLnN0YXRlLnN0YXRlTnVtYmVyPT09ZS5zdGF0ZS5zdGF0ZU51bWJlciYmdGhpcy5hbHQ9PT1lLmFsdCYmdGhpcy5zZW1hbnRpY0NvbnRleHQuZXF1YWxzKGUuc2VtYW50aWNDb250ZXh0KX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCIoXCIrdGhpcy5zdGF0ZStcIixcIit0aGlzLmFsdCsobnVsbCE9PXRoaXMuY29udGV4dD9cIixbXCIrdGhpcy5jb250ZXh0LnRvU3RyaW5nKCkrXCJdXCI6XCJcIikrKHRoaXMuc2VtYW50aWNDb250ZXh0IT09ai5OT05FP1wiLFwiK3RoaXMuc2VtYW50aWNDb250ZXh0LnRvU3RyaW5nKCk6XCJcIikrKHRoaXMucmVhY2hlc0ludG9PdXRlckNvbnRleHQ+MD9cIix1cD1cIit0aGlzLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0OlwiXCIpK1wiKVwifX1dKSYmTihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gRCh0KXtyZXR1cm4gRD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxEKHQpfWZ1bmN0aW9uIEYodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1EKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgQj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuc3RhcnQ9ZSx0aGlzLnN0b3A9bn12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KHRoaXMuc3RhcnQsdGhpcy5zdG9wKX19LHtrZXk6XCJjb250YWluc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj10aGlzLnN0YXJ0JiZ0PHRoaXMuc3RvcH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQ9PT10aGlzLnN0b3AtMT90aGlzLnN0YXJ0LnRvU3RyaW5nKCk6dGhpcy5zdGFydC50b1N0cmluZygpK1wiLi5cIisodGhpcy5zdG9wLTEpLnRvU3RyaW5nKCl9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcC10aGlzLnN0YXJ0fX1dKSYmRihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gTSh0KXtyZXR1cm4gTT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxNKHQpfWZ1bmN0aW9uIFUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PU0odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09TShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1NKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31CLklOVkFMSURfSU5URVJWQUw9bmV3IEIoLTEsLTIpO3ZhciBWPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5pbnRlcnZhbHM9bnVsbCx0aGlzLnJlYWRPbmx5PSExfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiZmlyc3RcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXRoaXMuaW50ZXJ2YWxzfHwwPT09dGhpcy5pbnRlcnZhbHMubGVuZ3RoP28uSU5WQUxJRF9UWVBFOnRoaXMuaW50ZXJ2YWxzWzBdLnN0YXJ0fX0se2tleTpcImFkZE9uZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYWRkSW50ZXJ2YWwobmV3IEIodCx0KzEpKX19LHtrZXk6XCJhZGRSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5hZGRJbnRlcnZhbChuZXcgQih0LGUrMSkpfX0se2tleTpcImFkZEludGVydmFsXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXRoaXMuaW50ZXJ2YWxzKXRoaXMuaW50ZXJ2YWxzPVtdLHRoaXMuaW50ZXJ2YWxzLnB1c2godC5jbG9uZSgpKTtlbHNle2Zvcih2YXIgZT0wO2U8dGhpcy5pbnRlcnZhbHMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5pbnRlcnZhbHNbZV07aWYodC5zdG9wPG4uc3RhcnQpcmV0dXJuIHZvaWQgdGhpcy5pbnRlcnZhbHMuc3BsaWNlKGUsMCx0KTtpZih0LnN0b3A9PT1uLnN0YXJ0KXJldHVybiB2b2lkKHRoaXMuaW50ZXJ2YWxzW2VdPW5ldyBCKHQuc3RhcnQsbi5zdG9wKSk7aWYodC5zdGFydDw9bi5zdG9wKXJldHVybiB0aGlzLmludGVydmFsc1tlXT1uZXcgQihNYXRoLm1pbihuLnN0YXJ0LHQuc3RhcnQpLE1hdGgubWF4KG4uc3RvcCx0LnN0b3ApKSx2b2lkIHRoaXMucmVkdWNlKGUpfXRoaXMuaW50ZXJ2YWxzLnB1c2godC5jbG9uZSgpKX19fSx7a2V5OlwiYWRkU2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbnVsbCE9PXQuaW50ZXJ2YWxzJiZ0LmludGVydmFscy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGRJbnRlcnZhbCh0KX0pLHRoaXMpLHRoaXN9fSx7a2V5OlwicmVkdWNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodDx0aGlzLmludGVydmFscy5sZW5ndGgtMSl7dmFyIGU9dGhpcy5pbnRlcnZhbHNbdF0sbj10aGlzLmludGVydmFsc1t0KzFdO2Uuc3RvcD49bi5zdG9wPyh0aGlzLmludGVydmFscy5zcGxpY2UodCsxLDEpLHRoaXMucmVkdWNlKHQpKTplLnN0b3A+PW4uc3RhcnQmJih0aGlzLmludGVydmFsc1t0XT1uZXcgQihlLnN0YXJ0LG4uc3RvcCksdGhpcy5pbnRlcnZhbHMuc3BsaWNlKHQrMSwxKSl9fX0se2tleTpcImNvbXBsZW1lbnRcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciByPW5ldyB0O3JldHVybiByLmFkZEludGVydmFsKG5ldyBCKGUsbisxKSksbnVsbCE9PXRoaXMuaW50ZXJ2YWxzJiZ0aGlzLmludGVydmFscy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gci5yZW1vdmVSYW5nZSh0KX0pKSxyfX0se2tleTpcImNvbnRhaW5zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXRoaXMuaW50ZXJ2YWxzKXJldHVybiExO2Zvcih2YXIgZT0wO2U8dGhpcy5pbnRlcnZhbHMubGVuZ3RoO2UrKylpZih0aGlzLmludGVydmFsc1tlXS5jb250YWlucyh0KSlyZXR1cm4hMDtyZXR1cm4hMX19LHtrZXk6XCJyZW1vdmVSYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQuc3RhcnQ9PT10LnN0b3AtMSl0aGlzLnJlbW92ZU9uZSh0LnN0YXJ0KTtlbHNlIGlmKG51bGwhPT10aGlzLmludGVydmFscylmb3IodmFyIGU9MCxuPTA7bjx0aGlzLmludGVydmFscy5sZW5ndGg7bisrKXt2YXIgcj10aGlzLmludGVydmFsc1tlXTtpZih0LnN0b3A8PXIuc3RhcnQpcmV0dXJuO2lmKHQuc3RhcnQ+ci5zdGFydCYmdC5zdG9wPHIuc3RvcCl7dGhpcy5pbnRlcnZhbHNbZV09bmV3IEIoci5zdGFydCx0LnN0YXJ0KTt2YXIgbz1uZXcgQih0LnN0b3Asci5zdG9wKTtyZXR1cm4gdm9pZCB0aGlzLmludGVydmFscy5zcGxpY2UoZSwwLG8pfXQuc3RhcnQ8PXIuc3RhcnQmJnQuc3RvcD49ci5zdG9wPyh0aGlzLmludGVydmFscy5zcGxpY2UoZSwxKSxlLT0xKTp0LnN0YXJ0PHIuc3RvcD90aGlzLmludGVydmFsc1tlXT1uZXcgQihyLnN0YXJ0LHQuc3RhcnQpOnQuc3RvcDxyLnN0b3AmJih0aGlzLmludGVydmFsc1tlXT1uZXcgQih0LnN0b3Asci5zdG9wKSksZSs9MX19fSx7a2V5OlwicmVtb3ZlT25lXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbCE9PXRoaXMuaW50ZXJ2YWxzKWZvcih2YXIgZT0wO2U8dGhpcy5pbnRlcnZhbHMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5pbnRlcnZhbHNbZV07aWYodDxuLnN0YXJ0KXJldHVybjtpZih0PT09bi5zdGFydCYmdD09PW4uc3RvcC0xKXJldHVybiB2b2lkIHRoaXMuaW50ZXJ2YWxzLnNwbGljZShlLDEpO2lmKHQ9PT1uLnN0YXJ0KXJldHVybiB2b2lkKHRoaXMuaW50ZXJ2YWxzW2VdPW5ldyBCKG4uc3RhcnQrMSxuLnN0b3ApKTtpZih0PT09bi5zdG9wLTEpcmV0dXJuIHZvaWQodGhpcy5pbnRlcnZhbHNbZV09bmV3IEIobi5zdGFydCxuLnN0b3AtMSkpO2lmKHQ8bi5zdG9wLTEpe3ZhciByPW5ldyBCKG4uc3RhcnQsdCk7cmV0dXJuIG4uc3RhcnQ9dCsxLHZvaWQgdGhpcy5pbnRlcnZhbHMuc3BsaWNlKGUsMCxyKX19fX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PXR8fG51bGwsZT1lfHxudWxsLG49bnx8ITEsbnVsbD09PXRoaXMuaW50ZXJ2YWxzP1wie31cIjpudWxsIT09dHx8bnVsbCE9PWU/dGhpcy50b1Rva2VuU3RyaW5nKHQsZSk6bj90aGlzLnRvQ2hhclN0cmluZygpOnRoaXMudG9JbmRleFN0cmluZygpfX0se2tleTpcInRvQ2hhclN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuaW50ZXJ2YWxzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuaW50ZXJ2YWxzW2VdO24uc3RvcD09PW4uc3RhcnQrMT9uLnN0YXJ0PT09by5FT0Y/dC5wdXNoKFwiPEVPRj5cIik6dC5wdXNoKFwiJ1wiK1N0cmluZy5mcm9tQ2hhckNvZGUobi5zdGFydCkrXCInXCIpOnQucHVzaChcIidcIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4uc3RhcnQpK1wiJy4uJ1wiK1N0cmluZy5mcm9tQ2hhckNvZGUobi5zdG9wLTEpK1wiJ1wiKX1yZXR1cm4gdC5sZW5ndGg+MT9cIntcIit0LmpvaW4oXCIsIFwiKStcIn1cIjp0WzBdfX0se2tleTpcInRvSW5kZXhTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmludGVydmFscy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmludGVydmFsc1tlXTtuLnN0b3A9PT1uLnN0YXJ0KzE/bi5zdGFydD09PW8uRU9GP3QucHVzaChcIjxFT0Y+XCIpOnQucHVzaChuLnN0YXJ0LnRvU3RyaW5nKCkpOnQucHVzaChuLnN0YXJ0LnRvU3RyaW5nKCkrXCIuLlwiKyhuLnN0b3AtMSkudG9TdHJpbmcoKSl9cmV0dXJuIHQubGVuZ3RoPjE/XCJ7XCIrdC5qb2luKFwiLCBcIikrXCJ9XCI6dFswXX19LHtrZXk6XCJ0b1Rva2VuU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0wO3I8dGhpcy5pbnRlcnZhbHMubGVuZ3RoO3IrKylmb3IodmFyIG89dGhpcy5pbnRlcnZhbHNbcl0saT1vLnN0YXJ0O2k8by5zdG9wO2krKyluLnB1c2godGhpcy5lbGVtZW50TmFtZSh0LGUsaSkpO3JldHVybiBuLmxlbmd0aD4xP1wie1wiK24uam9pbihcIiwgXCIpK1wifVwiOm5bMF19fSx7a2V5OlwiZWxlbWVudE5hbWVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIG49PT1vLkVPRj9cIjxFT0Y+XCI6bj09PW8uRVBTSUxPTj9cIjxFUFNJTE9OPlwiOnRbbl18fGVbbl19fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZXJ2YWxzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RofSkpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSkpfX1dLG4mJlUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIHoodCl7cmV0dXJuIHo9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0seih0KX1mdW5jdGlvbiBxKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT16KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXoocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09eihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIEg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmF0bj1udWxsLHRoaXMuc3RhdGVOdW1iZXI9dC5JTlZBTElEX1NUQVRFX05VTUJFUix0aGlzLnN0YXRlVHlwZT1udWxsLHRoaXMucnVsZUluZGV4PTAsdGhpcy5lcHNpbG9uT25seVRyYW5zaXRpb25zPSExLHRoaXMudHJhbnNpdGlvbnM9W10sdGhpcy5uZXh0VG9rZW5XaXRoaW5SdWxlPW51bGx9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlTnVtYmVyfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmdGhpcy5zdGF0ZU51bWJlcj09PWUuc3RhdGVOdW1iZXJ9fSx7a2V5OlwiaXNOb25HcmVlZHlFeGl0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiExfX0se2tleTpcImFkZFRyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPS0xKSwwPT09dGhpcy50cmFuc2l0aW9ucy5sZW5ndGg/dGhpcy5lcHNpbG9uT25seVRyYW5zaXRpb25zPXQuaXNFcHNpbG9uOnRoaXMuZXBzaWxvbk9ubHlUcmFuc2l0aW9ucyE9PXQuaXNFcHNpbG9uJiYodGhpcy5lcHNpbG9uT25seVRyYW5zaXRpb25zPSExKSwtMT09PWU/dGhpcy50cmFuc2l0aW9ucy5wdXNoKHQpOnRoaXMudHJhbnNpdGlvbnMuc3BsaWNlKGUsMSx0KX19XSkmJnEoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIEsodCl7cmV0dXJuIEs9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSyh0KX1mdW5jdGlvbiBZKHQsZSl7cmV0dXJuIFk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxZKHQsZSl9ZnVuY3Rpb24gRyh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09SyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIFcodCl9ZnVuY3Rpb24gVyh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBYKHQpe3JldHVybiBYPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxYKHQpfUguSU5WQUxJRF9UWVBFPTAsSC5CQVNJQz0xLEguUlVMRV9TVEFSVD0yLEguQkxPQ0tfU1RBUlQ9MyxILlBMVVNfQkxPQ0tfU1RBUlQ9NCxILlNUQVJfQkxPQ0tfU1RBUlQ9NSxILlRPS0VOX1NUQVJUPTYsSC5SVUxFX1NUT1A9NyxILkJMT0NLX0VORD04LEguU1RBUl9MT09QX0JBQ0s9OSxILlNUQVJfTE9PUF9FTlRSWT0xMCxILlBMVVNfTE9PUF9CQUNLPTExLEguTE9PUF9FTkQ9MTIsSC5zZXJpYWxpemF0aW9uTmFtZXM9W1wiSU5WQUxJRFwiLFwiQkFTSUNcIixcIlJVTEVfU1RBUlRcIixcIkJMT0NLX1NUQVJUXCIsXCJQTFVTX0JMT0NLX1NUQVJUXCIsXCJTVEFSX0JMT0NLX1NUQVJUXCIsXCJUT0tFTl9TVEFSVFwiLFwiUlVMRV9TVE9QXCIsXCJCTE9DS19FTkRcIixcIlNUQVJfTE9PUF9CQUNLXCIsXCJTVEFSX0xPT1BfRU5UUllcIixcIlBMVVNfTE9PUF9CQUNLXCIsXCJMT09QX0VORFwiXSxILklOVkFMSURfU1RBVEVfTlVNQkVSPS0xO3ZhciAkPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZZKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVgobik7aWYocil7dmFyIG89WCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gRyh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5SVUxFX1NUT1AsRyh0LFcodCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIKTtmdW5jdGlvbiBKKHQpe3JldHVybiBKPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEoodCl9ZnVuY3Rpb24gUSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09Sih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1KKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUoobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFoodCxlLG4pe3JldHVybiBlJiZRKHQucHJvdG90eXBlLGUpLG4mJlEodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9dmFyIHR0PVooKGZ1bmN0aW9uIHQoZSl7aWYoZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLG51bGw9PWUpdGhyb3dcInRhcmdldCBjYW5ub3QgYmUgbnVsbC5cIjt0aGlzLnRhcmdldD1lLHRoaXMuaXNFcHNpbG9uPSExLHRoaXMubGFiZWw9bnVsbH0pKTtmdW5jdGlvbiBldCh0KXtyZXR1cm4gZXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZXQodCl9ZnVuY3Rpb24gbnQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWV0KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWV0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWV0KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBydCh0LGUpe3JldHVybiBydD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHJ0KHQsZSl9ZnVuY3Rpb24gb3QodCl7cmV0dXJuIG90PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxvdCh0KX10dC5FUFNJTE9OPTEsdHQuUkFOR0U9Mix0dC5SVUxFPTMsdHQuUFJFRElDQVRFPTQsdHQuQVRPTT01LHR0LkFDVElPTj02LHR0LlNFVD03LHR0Lk5PVF9TRVQ9OCx0dC5XSUxEQ0FSRD05LHR0LlBSRUNFREVOQ0U9MTAsdHQuc2VyaWFsaXphdGlvbk5hbWVzPVtcIklOVkFMSURcIixcIkVQU0lMT05cIixcIlJBTkdFXCIsXCJSVUxFXCIsXCJQUkVESUNBVEVcIixcIkFUT01cIixcIkFDVElPTlwiLFwiU0VUXCIsXCJOT1RfU0VUXCIsXCJXSUxEQ0FSRFwiLFwiUFJFQ0VERU5DRVwiXSx0dC5zZXJpYWxpemF0aW9uVHlwZXM9e0Vwc2lsb25UcmFuc2l0aW9uOnR0LkVQU0lMT04sUmFuZ2VUcmFuc2l0aW9uOnR0LlJBTkdFLFJ1bGVUcmFuc2l0aW9uOnR0LlJVTEUsUHJlZGljYXRlVHJhbnNpdGlvbjp0dC5QUkVESUNBVEUsQXRvbVRyYW5zaXRpb246dHQuQVRPTSxBY3Rpb25UcmFuc2l0aW9uOnR0LkFDVElPTixTZXRUcmFuc2l0aW9uOnR0LlNFVCxOb3RTZXRUcmFuc2l0aW9uOnR0Lk5PVF9TRVQsV2lsZGNhcmRUcmFuc2l0aW9uOnR0LldJTERDQVJELFByZWNlZGVuY2VQcmVkaWNhdGVUcmFuc2l0aW9uOnR0LlBSRUNFREVOQ0V9O3ZhciBpdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmcnQodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1vdChyKTtpZihvKXt2YXIgbj1vdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWV0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUsbixyKXt2YXIgbztyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChvPWkuY2FsbCh0aGlzLHQpKS5ydWxlSW5kZXg9ZSxvLnByZWNlZGVuY2U9bixvLmZvbGxvd1N0YXRlPXIsby5zZXJpYWxpemF0aW9uVHlwZT10dC5SVUxFLG8uaXNFcHNpbG9uPSEwLG99cmV0dXJuIGU9dSwobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuITF9fV0pJiZudChlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHR0KTtmdW5jdGlvbiB1dCh0KXtyZXR1cm4gdXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdXQodCl9ZnVuY3Rpb24gY3QodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXV0KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXV0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXV0KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBhdCh0LGUpe3JldHVybiBhdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGF0KHQsZSl9ZnVuY3Rpb24gbHQodCl7cmV0dXJuIGx0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxsdCh0KX12YXIgc3Q9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmF0KHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9bHQocik7aWYoaSl7dmFyIG49bHQodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT11dChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChuPXUuY2FsbCh0aGlzLHQpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5TRVQsbnVsbCE9ZT9uLmxhYmVsPWU6KG4ubGFiZWw9bmV3IFYsbi5sYWJlbC5hZGRPbmUoby5JTlZBTElEX1RZUEUpKSxufXJldHVybiBlPWMsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmxhYmVsLmNvbnRhaW5zKHQpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbC50b1N0cmluZygpfX1dKSYmY3QoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfSh0dCk7ZnVuY3Rpb24gZnQodCl7cmV0dXJuIGZ0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGZ0KHQpfWZ1bmN0aW9uIHB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1mdCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1mdChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1mdChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24geXQoKXtyZXR1cm4geXQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PWJ0KHQpKTspO3JldHVybiB0fSh0LGUpO2lmKHIpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixlKTtyZXR1cm4gby5nZXQ/by5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/dDpuKTpvLnZhbHVlfX0seXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGh0KHQsZSl7cmV0dXJuIGh0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0saHQodCxlKX1mdW5jdGlvbiBidCh0KXtyZXR1cm4gYnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGJ0KHQpfXZhciB2dD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmaHQodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1idChyKTtpZihvKXt2YXIgbj1idCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWZ0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMsdCxlKSkuc2VyaWFsaXphdGlvblR5cGU9dHQuTk9UX1NFVCxufXJldHVybiBlPXUsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Pj1lJiZ0PD1uJiYheXQoYnQodS5wcm90b3R5cGUpLFwibWF0Y2hlc1wiLHRoaXMpLmNhbGwodGhpcyx0LGUsbil9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiflwiK3l0KGJ0KHUucHJvdG90eXBlKSxcInRvU3RyaW5nXCIsdGhpcykuY2FsbCh0aGlzKX19XSkmJnB0KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oc3QpO2Z1bmN0aW9uIGR0KHQpe3JldHVybiBkdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxkdCh0KX1mdW5jdGlvbiBtdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09ZHQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09ZHQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09ZHQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGd0KHQsZSl7cmV0dXJuIGd0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZ3QodCxlKX1mdW5jdGlvbiBTdCh0KXtyZXR1cm4gU3Q9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFN0KHQpfXZhciBPdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZ3QodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1TdChyKTtpZihvKXt2YXIgbj1TdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWR0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChlPWkuY2FsbCh0aGlzLHQpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5XSUxEQ0FSRCxlfXJldHVybiBlPXUsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Pj1lJiZ0PD1ufX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIi5cIn19XSkmJm10KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0odHQpO2Z1bmN0aW9uIHd0KHQpe3JldHVybiB3dD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx3dCh0KX1mdW5jdGlvbiBfdCh0LGUpe3JldHVybiBfdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LF90KHQsZSl9ZnVuY3Rpb24gUHQodCl7cmV0dXJuIFB0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxQdCh0KX12YXIgVHQ9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJl90KHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVB0KG4pO2lmKHIpe3ZhciBvPVB0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09d3QoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksby5jYWxsKHRoaXMsdCl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KHR0KTtmdW5jdGlvbiBFdCh0KXtyZXR1cm4gRXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRXQodCl9ZnVuY3Rpb24ga3QodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUV0KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUV0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUV0KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBqdCh0LGUsbil7cmV0dXJuIGUmJmt0KHQucHJvdG90eXBlLGUpLG4mJmt0KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIHh0KHQpe3JldHVybiB4dD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx4dCh0KX1mdW5jdGlvbiBSdCh0LGUpe3JldHVybiBSdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFJ0KHQsZSl9ZnVuY3Rpb24gQ3QodCl7cmV0dXJuIEN0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxDdCh0KX1mdW5jdGlvbiBBdCh0KXtyZXR1cm4gQXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQXQodCl9ZnVuY3Rpb24gTnQodCxlKXtyZXR1cm4gTnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxOdCh0LGUpfWZ1bmN0aW9uIEl0KHQpe3JldHVybiBJdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sSXQodCl9dmFyIEx0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZOdCh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1JdChuKTtpZihyKXt2YXIgbz1JdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUF0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZSdCh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1DdChuKTtpZihyKXt2YXIgbz1DdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXh0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KGp0KChmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX0pKSkpO2Z1bmN0aW9uIER0KHQpe3JldHVybiBEdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxEdCh0KX1mdW5jdGlvbiBGdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RHQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RHQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RHQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEJ0KHQsZSl7cmV0dXJuIEJ0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQnQodCxlKX1mdW5jdGlvbiBNdCh0KXtyZXR1cm4gTXQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE10KHQpfXZhciBVdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQnQodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1NdChyKTtpZihvKXt2YXIgbj1NdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUR0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGU9dSwobj1be2tleTpcInJ1bGVDb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBpbnRlcmZhY2UgaW1wbGVtZW50YXRpb25cIil9fV0pJiZGdChlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KEx0KTtmdW5jdGlvbiBWdCh0KXtyZXR1cm4gVnQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sVnQodCl9ZnVuY3Rpb24genQodCxlKXtyZXR1cm4genQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSx6dCh0LGUpfWZ1bmN0aW9uIHF0KHQpe3JldHVybiBxdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scXQodCl9dmFyIEh0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZ6dCh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1xdChuKTtpZihyKXt2YXIgbz1xdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVZ0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEx0KTtmdW5jdGlvbiBLdCh0KXtyZXR1cm4gS3Q9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sS3QodCl9ZnVuY3Rpb24gWXQodCxlKXtyZXR1cm4gWXQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxZdCh0LGUpfWZ1bmN0aW9uIEd0KHQpe3JldHVybiBHdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sR3QodCl9dmFyIFd0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZZdCh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1HdChuKTtpZihyKXt2YXIgbz1HdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUt0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEh0KSxYdD17dG9TdHJpbmdUcmVlOmZ1bmN0aW9uKHQsZSxuKXtlPWV8fG51bGwsbnVsbCE9PShuPW58fG51bGwpJiYoZT1uLnJ1bGVOYW1lcyk7dmFyIHI9WHQuZ2V0Tm9kZVRleHQodCxlKTtyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dC5yZXBsYWNlKC9cXHQvZyxcIlxcXFx0XCIpLnJlcGxhY2UoL1xcbi9nLFwiXFxcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXFxcclwiKX0ocik7dmFyIG89dC5nZXRDaGlsZENvdW50KCk7aWYoMD09PW8pcmV0dXJuIHI7dmFyIGk9XCIoXCIrcitcIiBcIjtvPjAmJihyPVh0LnRvU3RyaW5nVHJlZSh0LmdldENoaWxkKDApLGUpLGk9aS5jb25jYXQocikpO2Zvcih2YXIgdT0xO3U8bzt1Kyspcj1YdC50b1N0cmluZ1RyZWUodC5nZXRDaGlsZCh1KSxlKSxpPWkuY29uY2F0KFwiIFwiK3IpO3JldHVybiBpLmNvbmNhdChcIilcIil9LGdldE5vZGVUZXh0OmZ1bmN0aW9uKHQsZSxuKXtpZihlPWV8fG51bGwsbnVsbCE9PShuPW58fG51bGwpJiYoZT1uLnJ1bGVOYW1lcyksbnVsbCE9PWUpe2lmKHQgaW5zdGFuY2VvZiBVdCl7dmFyIHI9dC5ydWxlQ29udGV4dC5nZXRBbHROdW1iZXIoKTtyZXR1cm4gMCE9cj9lW3QucnVsZUluZGV4XStcIjpcIityOmVbdC5ydWxlSW5kZXhdfWlmKHQgaW5zdGFuY2VvZiBXdClyZXR1cm4gdC50b1N0cmluZygpO2lmKHQgaW5zdGFuY2VvZiBIdCYmbnVsbCE9PXQuc3ltYm9sKXJldHVybiB0LnN5bWJvbC50ZXh0fXZhciBpPXQuZ2V0UGF5bG9hZCgpO3JldHVybiBpIGluc3RhbmNlb2Ygbz9pLnRleHQ6dC5nZXRQYXlsb2FkKCkudG9TdHJpbmcoKX0sZ2V0Q2hpbGRyZW46ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuZ2V0Q2hpbGRDb3VudCgpO24rKyllLnB1c2godC5nZXRDaGlsZChuKSk7cmV0dXJuIGV9LGdldEFuY2VzdG9yczpmdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodD10LmdldFBhcmVudCgpO251bGwhPT10OyllPVt0XS5jb25jYXQoZSksdD10LmdldFBhcmVudCgpO3JldHVybiBlfSxmaW5kQWxsVG9rZW5Ob2RlczpmdW5jdGlvbih0LGUpe3JldHVybiBYdC5maW5kQWxsTm9kZXModCxlLCEwKX0sZmluZEFsbFJ1bGVOb2RlczpmdW5jdGlvbih0LGUpe3JldHVybiBYdC5maW5kQWxsTm9kZXModCxlLCExKX0sZmluZEFsbE5vZGVzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gWHQuX2ZpbmRBbGxOb2Rlcyh0LGUsbixyKSxyfSxfZmluZEFsbE5vZGVzOmZ1bmN0aW9uKHQsZSxuLHIpe24mJnQgaW5zdGFuY2VvZiBIdD90LnN5bWJvbC50eXBlPT09ZSYmci5wdXNoKHQpOiFuJiZ0IGluc3RhbmNlb2YgVXQmJnQucnVsZUluZGV4PT09ZSYmci5wdXNoKHQpO2Zvcih2YXIgbz0wO288dC5nZXRDaGlsZENvdW50KCk7bysrKVh0Ll9maW5kQWxsTm9kZXModC5nZXRDaGlsZChvKSxlLG4scil9LGRlc2NlbmRhbnRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bdF0sbj0wO248dC5nZXRDaGlsZENvdW50KCk7bisrKWU9ZS5jb25jYXQoWHQuZGVzY2VuZGFudHModC5nZXRDaGlsZChuKSkpO3JldHVybiBlfX07Y29uc3QgJHQ9WHQ7ZnVuY3Rpb24gSnQodCl7cmV0dXJuIEp0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEp0KHQpfWZ1bmN0aW9uIFF0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1KdCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1KdChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1KdChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gWnQodCxlKXtyZXR1cm4gWnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxadCh0LGUpfWZ1bmN0aW9uIHRlKHQpe3JldHVybiB0ZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sdGUodCl9dmFyIGVlPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZadCh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXRlKHIpO2lmKG8pe3ZhciBuPXRlKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09SnQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcykpLnBhcmVudEN0eD10fHxudWxsLG4uaW52b2tpbmdTdGF0ZT1lfHwtMSxufXJldHVybiBlPXUsKG49W3trZXk6XCJkZXB0aFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzO251bGwhPT1lOyllPWUucGFyZW50Q3R4LHQrPTE7cmV0dXJuIHR9fSx7a2V5OlwiaXNFbXB0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuLTE9PT10aGlzLmludm9raW5nU3RhdGV9fSx7a2V5OlwiZ2V0U291cmNlSW50ZXJ2YWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBCLklOVkFMSURfSU5URVJWQUx9fSx7a2V5OlwicnVsZUNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319LHtrZXk6XCJnZXRQYXlsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319LHtrZXk6XCJnZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuZ2V0Q2hpbGRDb3VudCgpP1wiXCI6dGhpcy5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFRleHQoKX0pKS5qb2luKFwiXCIpfX0se2tleTpcImdldEFsdE51bWJlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7a2V5Olwic2V0QWx0TnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImdldENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9fSx7a2V5OlwiZ2V0Q2hpbGRDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7a2V5OlwiYWNjZXB0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXRDaGlsZHJlbih0aGlzKX19LHtrZXk6XCJ0b1N0cmluZ1RyZWVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiAkdC50b1N0cmluZ1RyZWUodGhpcyx0LGUpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0PXR8fG51bGwsZT1lfHxudWxsO2Zvcih2YXIgbj10aGlzLHI9XCJbXCI7bnVsbCE9PW4mJm4hPT1lOyl7aWYobnVsbD09PXQpbi5pc0VtcHR5KCl8fChyKz1uLmludm9raW5nU3RhdGUpO2Vsc2V7dmFyIG89bi5ydWxlSW5kZXg7cis9bz49MCYmbzx0Lmxlbmd0aD90W29dOlwiXCIrb31udWxsPT09bi5wYXJlbnRDdHh8fG51bGw9PT10JiZuLnBhcmVudEN0eC5pc0VtcHR5KCl8fChyKz1cIiBcIiksbj1uLnBhcmVudEN0eH1yZXR1cm4gcitcIl1cIn19XSkmJlF0KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oVXQpO2Z1bmN0aW9uIG5lKHQpe3JldHVybiBuZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxuZSh0KX1mdW5jdGlvbiByZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09bmUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09bmUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09bmUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBvZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmNhY2hlZEhhc2hDb2RlPWV9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiaXNFbXB0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT10LkVNUFRZfX0se2tleTpcImhhc0VtcHR5UGF0aFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmV0dXJuU3RhdGUodGhpcy5sZW5ndGgtMSk9PT10LkVNUFRZX1JFVFVSTl9TVEFURX19LHtrZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVkSGFzaENvZGV9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmNhY2hlZEhhc2hDb2RlKX19XSkmJnJlKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBpZSh0KXtyZXR1cm4gaWU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saWUodCl9ZnVuY3Rpb24gdWUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWllKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWllKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWllKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBjZSh0LGUpe3JldHVybiBjZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGNlKHQsZSl9ZnVuY3Rpb24gYWUodCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWllKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gbGUodCl9ZnVuY3Rpb24gbGUodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gc2UodCl7cmV0dXJuIHNlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxzZSh0KX1vZS5FTVBUWT1udWxsLG9lLkVNUFRZX1JFVFVSTl9TVEFURT0yMTQ3NDgzNjQ3LG9lLmdsb2JhbE5vZGVDb3VudD0xLG9lLmlkPW9lLmdsb2JhbE5vZGVDb3VudCxvZS50cmFjZV9hdG5fc2ltPSExO3ZhciBmZT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmY2UodCxlKX0oYyx0KTt2YXIgZSxuLHIsbyx1PShyPWMsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1zZShyKTtpZihvKXt2YXIgbj1zZSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYWUodGhpcyx0KX0pO2Z1bmN0aW9uIGModCxlKXt2YXIgbjshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpO3ZhciByPW5ldyBmO3IudXBkYXRlKHQsZSk7dmFyIG89ci5maW5pc2goKTtyZXR1cm4obj11LmNhbGwodGhpcyxvKSkucGFyZW50cz10LG4ucmV0dXJuU3RhdGVzPWUsYWUobixsZShuKSl9cmV0dXJuIGU9YyxuPVt7a2V5OlwiaXNFbXB0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmV0dXJuU3RhdGVzWzBdPT09b2UuRU1QVFlfUkVUVVJOX1NUQVRFfX0se2tleTpcImdldFBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhcmVudHNbdF19fSx7a2V5OlwiZ2V0UmV0dXJuU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXR1cm5TdGF0ZXNbdF19fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgYyYmdGhpcy5oYXNoQ29kZSgpPT09dC5oYXNoQ29kZSgpJiZpKHRoaXMucmV0dXJuU3RhdGVzLHQucmV0dXJuU3RhdGVzKSYmaSh0aGlzLnBhcmVudHMsdC5wYXJlbnRzKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuXCJbXVwiO2Zvcih2YXIgdD1cIltcIixlPTA7ZTx0aGlzLnJldHVyblN0YXRlcy5sZW5ndGg7ZSsrKWU+MCYmKHQrPVwiLCBcIiksdGhpcy5yZXR1cm5TdGF0ZXNbZV0hPT1vZS5FTVBUWV9SRVRVUk5fU1RBVEU/KHQrPXRoaXMucmV0dXJuU3RhdGVzW2VdLG51bGwhPT10aGlzLnBhcmVudHNbZV0/dD10K1wiIFwiK3RoaXMucGFyZW50c1tlXTp0Kz1cIm51bGxcIik6dCs9XCIkXCI7cmV0dXJuIHQrXCJdXCJ9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmV0dXJuU3RhdGVzLmxlbmd0aH19XSxuJiZ1ZShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KG9lKTtmdW5jdGlvbiBwZSh0KXtyZXR1cm4gcGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0scGUodCl9ZnVuY3Rpb24geWUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXBlKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXBlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXBlKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBoZSh0LGUpe3JldHVybiBoZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGhlKHQsZSl9ZnVuY3Rpb24gYmUodCl7cmV0dXJuIGJlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxiZSh0KX12YXIgdmU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmhlKHQsZSl9KGMsdCk7dmFyIGUsbixyLG8saSx1PShvPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1iZShvKTtpZihpKXt2YXIgbj1iZSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXBlKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0LGUpe3ZhciBuOyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyk7dmFyIHIsbz1uZXcgZjtyZXR1cm4gbnVsbCE9PXQ/by51cGRhdGUodCxlKTpvLnVwZGF0ZSgxKSxyPW8uZmluaXNoKCksKG49dS5jYWxsKHRoaXMscikpLnBhcmVudEN0eD10LG4ucmV0dXJuU3RhdGU9ZSxufXJldHVybiBlPWMscj1be2tleTpcImNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT1vZS5FTVBUWV9SRVRVUk5fU1RBVEUmJm51bGw9PT10P29lLkVNUFRZOm5ldyBjKHQsZSl9fV0sKG49W3trZXk6XCJnZXRQYXJlbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJlbnRDdHh9fSx7a2V5OlwiZ2V0UmV0dXJuU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXR1cm5TdGF0ZX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiBjJiZ0aGlzLmhhc2hDb2RlKCk9PT10Lmhhc2hDb2RlKCkmJnRoaXMucmV0dXJuU3RhdGU9PT10LnJldHVyblN0YXRlJiYobnVsbD09dGhpcy5wYXJlbnRDdHg/bnVsbD09dC5wYXJlbnRDdHg6dGhpcy5wYXJlbnRDdHguZXF1YWxzKHQucGFyZW50Q3R4KSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW51bGw9PT10aGlzLnBhcmVudEN0eD9cIlwiOnRoaXMucGFyZW50Q3R4LnRvU3RyaW5nKCk7cmV0dXJuIDA9PT10Lmxlbmd0aD90aGlzLnJldHVyblN0YXRlPT09b2UuRU1QVFlfUkVUVVJOX1NUQVRFP1wiJFwiOlwiXCIrdGhpcy5yZXR1cm5TdGF0ZTp0aGlzLnJldHVyblN0YXRlK1wiIFwiK3R9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDF9fV0pJiZ5ZShlLnByb3RvdHlwZSxuKSxyJiZ5ZShlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30ob2UpO2Z1bmN0aW9uIGRlKHQpe3JldHVybiBkZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxkZSh0KX1mdW5jdGlvbiBtZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09ZGUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09ZGUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09ZGUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGdlKHQsZSl7cmV0dXJuIGdlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZ2UodCxlKX1mdW5jdGlvbiBTZSh0KXtyZXR1cm4gU2U9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFNlKHQpfXZhciBPZT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZ2UodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1TZShyKTtpZihvKXt2YXIgbj1TZSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWRlKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMsbnVsbCxvZS5FTVBUWV9SRVRVUk5fU1RBVEUpfXJldHVybiBlPXUsKG49W3trZXk6XCJpc0VtcHR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJnZXRQYXJlbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRSZXR1cm5TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJldHVyblN0YXRlfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCIkXCJ9fV0pJiZtZShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHZlKTtmdW5jdGlvbiB3ZSh0KXtyZXR1cm4gd2U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sd2UodCl9ZnVuY3Rpb24gX2UodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXdlKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXdlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXdlKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31vZS5FTVBUWT1uZXcgT2U7dmFyIFBlPVwiaC1cIixUZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuZGF0YT17fSx0aGlzLmhhc2hGdW5jdGlvbj1lfHxwLHRoaXMuZXF1YWxzRnVuY3Rpb249bnx8eX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49UGUrdGhpcy5oYXNoRnVuY3Rpb24odCk7aWYobiBpbiB0aGlzLmRhdGEpe2Zvcih2YXIgcj10aGlzLmRhdGFbbl0sbz0wO288ci5sZW5ndGg7bysrKXt2YXIgaT1yW29dO2lmKHRoaXMuZXF1YWxzRnVuY3Rpb24odCxpLmtleSkpe3ZhciB1PWkudmFsdWU7cmV0dXJuIGkudmFsdWU9ZSx1fX1yZXR1cm4gci5wdXNoKHtrZXk6dCx2YWx1ZTplfSksZX1yZXR1cm4gdGhpcy5kYXRhW25dPVt7a2V5OnQsdmFsdWU6ZX1dLGV9fSx7a2V5OlwiY29udGFpbnNLZXlcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1QZSt0aGlzLmhhc2hGdW5jdGlvbih0KTtpZihlIGluIHRoaXMuZGF0YSlmb3IodmFyIG49dGhpcy5kYXRhW2VdLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtpZih0aGlzLmVxdWFsc0Z1bmN0aW9uKHQsby5rZXkpKXJldHVybiEwfXJldHVybiExfX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVBlK3RoaXMuaGFzaEZ1bmN0aW9uKHQpO2lmKGUgaW4gdGhpcy5kYXRhKWZvcih2YXIgbj10aGlzLmRhdGFbZV0scj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO2lmKHRoaXMuZXF1YWxzRnVuY3Rpb24odCxvLmtleSkpcmV0dXJuIG8udmFsdWV9cmV0dXJuIG51bGx9fSx7a2V5OlwiZW50cmllc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5kYXRhKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoUGUpfSkpLmZsYXRNYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFbZV19KSx0aGlzKX19LHtrZXk6XCJnZXRLZXlzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXl9KSl9fSx7a2V5OlwiZ2V0VmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX0pKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdGhpcy5lbnRyaWVzKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cIntcIit0LmtleStcIjpcIit0LnZhbHVlK1wifVwifSkpLmpvaW4oXCIsIFwiKStcIl1cIn19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhcnRzV2l0aChQZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhW2VdLmxlbmd0aH0pLHRoaXMpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSksMCl9fV0sbiYmX2UoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIEVlKHQsZSl7aWYobnVsbD09ZSYmKGU9ZWUuRU1QVFkpLG51bGw9PT1lLnBhcmVudEN0eHx8ZT09PWVlLkVNUFRZKXJldHVybiBvZS5FTVBUWTt2YXIgbj1FZSh0LGUucGFyZW50Q3R4KSxyPXQuc3RhdGVzW2UuaW52b2tpbmdTdGF0ZV0udHJhbnNpdGlvbnNbMF07cmV0dXJuIHZlLmNyZWF0ZShuLHIuZm9sbG93U3RhdGUuc3RhdGVOdW1iZXIpfWZ1bmN0aW9uIGtlKHQsZSxuKXtpZih0LmlzRW1wdHkoKSlyZXR1cm4gdDt2YXIgcj1uLmdldCh0KXx8bnVsbDtpZihudWxsIT09cilyZXR1cm4gcjtpZihudWxsIT09KHI9ZS5nZXQodCkpKXJldHVybiBuLnNldCh0LHIpLHI7Zm9yKHZhciBvPSExLGk9W10sdT0wO3U8aS5sZW5ndGg7dSsrKXt2YXIgYz1rZSh0LmdldFBhcmVudCh1KSxlLG4pO2lmKG98fGMhPT10LmdldFBhcmVudCh1KSl7aWYoIW8pe2k9W107Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspaVthXT10LmdldFBhcmVudChhKTtvPSEwfWlbdV09Y319aWYoIW8pcmV0dXJuIGUuYWRkKHQpLG4uc2V0KHQsdCksdDt2YXIgbDtyZXR1cm4gbD0wPT09aS5sZW5ndGg/b2UuRU1QVFk6MT09PWkubGVuZ3RoP3ZlLmNyZWF0ZShpWzBdLHQuZ2V0UmV0dXJuU3RhdGUoMCkpOm5ldyBmZShpLHQucmV0dXJuU3RhdGVzKSxlLmFkZChsKSxuLnNldChsLGwpLG4uc2V0KHQsbCksbH1mdW5jdGlvbiBqZSh0LGUsbixyKXtpZih0PT09ZSlyZXR1cm4gdDtpZih0IGluc3RhbmNlb2YgdmUmJmUgaW5zdGFuY2VvZiB2ZSlyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7aWYobnVsbCE9PXIpe3ZhciBvPXIuZ2V0KHQsZSk7aWYobnVsbCE9PW8pcmV0dXJuIG87aWYobnVsbCE9PShvPXIuZ2V0KGUsdCkpKXJldHVybiBvfXZhciBpPWZ1bmN0aW9uKHQsZSxuKXtpZihuKXtpZih0PT09b2UuRU1QVFkpcmV0dXJuIG9lLkVNUFRZO2lmKGU9PT1vZS5FTVBUWSlyZXR1cm4gb2UuRU1QVFl9ZWxzZXtpZih0PT09b2UuRU1QVFkmJmU9PT1vZS5FTVBUWSlyZXR1cm4gb2UuRU1QVFk7aWYodD09PW9lLkVNUFRZKXt2YXIgcj1bZS5yZXR1cm5TdGF0ZSxvZS5FTVBUWV9SRVRVUk5fU1RBVEVdLG89W2UucGFyZW50Q3R4LG51bGxdO3JldHVybiBuZXcgZmUobyxyKX1pZihlPT09b2UuRU1QVFkpe3ZhciBpPVt0LnJldHVyblN0YXRlLG9lLkVNUFRZX1JFVFVSTl9TVEFURV0sdT1bdC5wYXJlbnRDdHgsbnVsbF07cmV0dXJuIG5ldyBmZSh1LGkpfX1yZXR1cm4gbnVsbH0odCxlLG4pO2lmKG51bGwhPT1pKXJldHVybiBudWxsIT09ciYmci5zZXQodCxlLGkpLGk7aWYodC5yZXR1cm5TdGF0ZT09PWUucmV0dXJuU3RhdGUpe3ZhciB1PWplKHQucGFyZW50Q3R4LGUucGFyZW50Q3R4LG4scik7aWYodT09PXQucGFyZW50Q3R4KXJldHVybiB0O2lmKHU9PT1lLnBhcmVudEN0eClyZXR1cm4gZTt2YXIgYz12ZS5jcmVhdGUodSx0LnJldHVyblN0YXRlKTtyZXR1cm4gbnVsbCE9PXImJnIuc2V0KHQsZSxjKSxjfXZhciBhPW51bGw7aWYoKHQ9PT1lfHxudWxsIT09dC5wYXJlbnRDdHgmJnQucGFyZW50Q3R4PT09ZS5wYXJlbnRDdHgpJiYoYT10LnBhcmVudEN0eCksbnVsbCE9PWEpe3ZhciBsPVt0LnJldHVyblN0YXRlLGUucmV0dXJuU3RhdGVdO3QucmV0dXJuU3RhdGU+ZS5yZXR1cm5TdGF0ZSYmKGxbMF09ZS5yZXR1cm5TdGF0ZSxsWzFdPXQucmV0dXJuU3RhdGUpO3ZhciBzPW5ldyBmZShbYSxhXSxsKTtyZXR1cm4gbnVsbCE9PXImJnIuc2V0KHQsZSxzKSxzfXZhciBmPVt0LnJldHVyblN0YXRlLGUucmV0dXJuU3RhdGVdLHA9W3QucGFyZW50Q3R4LGUucGFyZW50Q3R4XTt0LnJldHVyblN0YXRlPmUucmV0dXJuU3RhdGUmJihmWzBdPWUucmV0dXJuU3RhdGUsZlsxXT10LnJldHVyblN0YXRlLHA9W2UucGFyZW50Q3R4LHQucGFyZW50Q3R4XSk7dmFyIHk9bmV3IGZlKHAsZik7cmV0dXJuIG51bGwhPT1yJiZyLnNldCh0LGUseSkseX0odCxlLG4scik7aWYobil7aWYodCBpbnN0YW5jZW9mIE9lKXJldHVybiB0O2lmKGUgaW5zdGFuY2VvZiBPZSlyZXR1cm4gZX1yZXR1cm4gdCBpbnN0YW5jZW9mIHZlJiYodD1uZXcgZmUoW3QuZ2V0UGFyZW50KCldLFt0LnJldHVyblN0YXRlXSkpLGUgaW5zdGFuY2VvZiB2ZSYmKGU9bmV3IGZlKFtlLmdldFBhcmVudCgpXSxbZS5yZXR1cm5TdGF0ZV0pKSxmdW5jdGlvbih0LGUsbixyKXtpZihudWxsIT09cil7dmFyIG89ci5nZXQodCxlKTtpZihudWxsIT09bylyZXR1cm4gb2UudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJtZXJnZUFycmF5cyBhPVwiK3QrXCIsYj1cIitlK1wiIC0+IHByZXZpb3VzXCIpLG87aWYobnVsbCE9PShvPXIuZ2V0KGUsdCkpKXJldHVybiBvZS50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcIm1lcmdlQXJyYXlzIGE9XCIrdCtcIixiPVwiK2UrXCIgLT4gcHJldmlvdXNcIiksb31mb3IodmFyIGk9MCx1PTAsYz0wLGE9bmV3IEFycmF5KHQucmV0dXJuU3RhdGVzLmxlbmd0aCtlLnJldHVyblN0YXRlcy5sZW5ndGgpLmZpbGwoMCksbD1uZXcgQXJyYXkodC5yZXR1cm5TdGF0ZXMubGVuZ3RoK2UucmV0dXJuU3RhdGVzLmxlbmd0aCkuZmlsbChudWxsKTtpPHQucmV0dXJuU3RhdGVzLmxlbmd0aCYmdTxlLnJldHVyblN0YXRlcy5sZW5ndGg7KXt2YXIgcz10LnBhcmVudHNbaV0sZj1lLnBhcmVudHNbdV07aWYodC5yZXR1cm5TdGF0ZXNbaV09PT1lLnJldHVyblN0YXRlc1t1XSl7dmFyIHA9dC5yZXR1cm5TdGF0ZXNbaV07cD09PW9lLkVNUFRZX1JFVFVSTl9TVEFURSYmbnVsbD09PXMmJm51bGw9PT1mfHxudWxsIT09cyYmbnVsbCE9PWYmJnM9PT1mPyhsW2NdPXMsYVtjXT1wKToobFtjXT1qZShzLGYsbixyKSxhW2NdPXApLGkrPTEsdSs9MX1lbHNlIHQucmV0dXJuU3RhdGVzW2ldPGUucmV0dXJuU3RhdGVzW3VdPyhsW2NdPXMsYVtjXT10LnJldHVyblN0YXRlc1tpXSxpKz0xKToobFtjXT1mLGFbY109ZS5yZXR1cm5TdGF0ZXNbdV0sdSs9MSk7Yys9MX1pZihpPHQucmV0dXJuU3RhdGVzLmxlbmd0aClmb3IodmFyIHk9aTt5PHQucmV0dXJuU3RhdGVzLmxlbmd0aDt5KyspbFtjXT10LnBhcmVudHNbeV0sYVtjXT10LnJldHVyblN0YXRlc1t5XSxjKz0xO2Vsc2UgZm9yKHZhciBoPXU7aDxlLnJldHVyblN0YXRlcy5sZW5ndGg7aCsrKWxbY109ZS5wYXJlbnRzW2hdLGFbY109ZS5yZXR1cm5TdGF0ZXNbaF0sYys9MTtpZihjPGwubGVuZ3RoKXtpZigxPT09Yyl7dmFyIGI9dmUuY3JlYXRlKGxbMF0sYVswXSk7cmV0dXJuIG51bGwhPT1yJiZyLnNldCh0LGUsYiksYn1sPWwuc2xpY2UoMCxjKSxhPWEuc2xpY2UoMCxjKX12YXIgdj1uZXcgZmUobCxhKTtyZXR1cm4gdi5lcXVhbHModCk/KG51bGwhPT1yJiZyLnNldCh0LGUsdCksb2UudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJtZXJnZUFycmF5cyBhPVwiK3QrXCIsYj1cIitlK1wiIC0+IGFcIiksdCk6di5lcXVhbHMoZSk/KG51bGwhPT1yJiZyLnNldCh0LGUsZSksb2UudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJtZXJnZUFycmF5cyBhPVwiK3QrXCIsYj1cIitlK1wiIC0+IGJcIiksZSk6KGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgVGUsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2UuY29udGFpbnNLZXkocil8fGUuc2V0KHIscil9Zm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspdFtvXT1lLmdldCh0W29dKX0obCksbnVsbCE9PXImJnIuc2V0KHQsZSx2KSxvZS50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcIm1lcmdlQXJyYXlzIGE9XCIrdCtcIixiPVwiK2UrXCIgLT4gXCIrdiksdil9KHQsZSxuLHIpfWZ1bmN0aW9uIHhlKHQpe3JldHVybiB4ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx4ZSh0KX1mdW5jdGlvbiBSZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09eGUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09eGUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09eGUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBDZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuZGF0YT1bXX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmRhdGFbdF09ITB9fSx7a2V5Olwib3JcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO09iamVjdC5rZXlzKHQuZGF0YSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGQodCl9KSx0aGlzKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5kYXRhW3RdfX0se2tleTpcImhhc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEwPT09dGhpcy5kYXRhW3RdfX0se2tleTpcInZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGF0YSl9fSx7a2V5OlwibWluVmFsdWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbi5hcHBseShudWxsLHRoaXMudmFsdWVzKCkpfX0se2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5oYXNoU3R1ZmYodGhpcy52YWx1ZXMoKSl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZpKHRoaXMuZGF0YSxlLmRhdGEpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIntcIit0aGlzLnZhbHVlcygpLmpvaW4oXCIsIFwiKStcIn1cIn19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMoKS5sZW5ndGh9fV0pJiZSZShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gQWUodCl7cmV0dXJuIEFlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEFlKHQpfWZ1bmN0aW9uIE5lKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1BZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1BZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1BZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIEllPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuYXRuPWV9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJnZXREZWNpc2lvbkxvb2thaGVhZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiBudWxsO2Zvcih2YXIgbj1lLnRyYW5zaXRpb25zLmxlbmd0aCxyPVtdLG89MDtvPG47bysrKXtyW29dPW5ldyBWO3ZhciBpPW5ldyBnO3RoaXMuX0xPT0soZS50cmFuc2l0aW9uKG8pLnRhcmdldCxudWxsLG9lLkVNUFRZLHJbb10saSxuZXcgQ2UsITEsITEpLCgwPT09cltvXS5sZW5ndGh8fHJbb10uY29udGFpbnModC5ISVRfUFJFRCkpJiYocltvXT1udWxsKX1yZXR1cm4gcn19LHtrZXk6XCJMT09LXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBWLG89bnVsbCE9PShuPW58fG51bGwpP0VlKHQuYXRuLG4pOm51bGw7cmV0dXJuIHRoaXMuX0xPT0sodCxlLG8scixuZXcgZyxuZXcgQ2UsITAsITApLHJ9fSx7a2V5OlwiX0xPT0tcIix2YWx1ZTpmdW5jdGlvbihlLG4scixpLHUsYyxhLGwpe3ZhciBzPW5ldyBMKHtzdGF0ZTplLGFsdDowLGNvbnRleHQ6cn0sbnVsbCk7aWYoIXUuaGFzKHMpKXtpZih1LmFkZChzKSxlPT09bil7aWYobnVsbD09PXIpcmV0dXJuIHZvaWQgaS5hZGRPbmUoby5FUFNJTE9OKTtpZihyLmlzRW1wdHkoKSYmbClyZXR1cm4gdm9pZCBpLmFkZE9uZShvLkVPRil9aWYoZSBpbnN0YW5jZW9mICQpe2lmKG51bGw9PT1yKXJldHVybiB2b2lkIGkuYWRkT25lKG8uRVBTSUxPTik7aWYoci5pc0VtcHR5KCkmJmwpcmV0dXJuIHZvaWQgaS5hZGRPbmUoby5FT0YpO2lmKHIhPT1vZS5FTVBUWSl7dmFyIGY9Yy5oYXMoZS5ydWxlSW5kZXgpO3RyeXtjLnJlbW92ZShlLnJ1bGVJbmRleCk7Zm9yKHZhciBwPTA7cDxyLmxlbmd0aDtwKyspe3ZhciB5PXRoaXMuYXRuLnN0YXRlc1tyLmdldFJldHVyblN0YXRlKHApXTt0aGlzLl9MT09LKHksbixyLmdldFBhcmVudChwKSxpLHUsYyxhLGwpfX1maW5hbGx5e2YmJmMuYWRkKGUucnVsZUluZGV4KX1yZXR1cm59fWZvcih2YXIgaD0wO2g8ZS50cmFuc2l0aW9ucy5sZW5ndGg7aCsrKXt2YXIgYj1lLnRyYW5zaXRpb25zW2hdO2lmKGIuY29uc3RydWN0b3I9PT1pdCl7aWYoYy5oYXMoYi50YXJnZXQucnVsZUluZGV4KSljb250aW51ZTt2YXIgdj12ZS5jcmVhdGUocixiLmZvbGxvd1N0YXRlLnN0YXRlTnVtYmVyKTt0cnl7Yy5hZGQoYi50YXJnZXQucnVsZUluZGV4KSx0aGlzLl9MT09LKGIudGFyZ2V0LG4sdixpLHUsYyxhLGwpfWZpbmFsbHl7Yy5yZW1vdmUoYi50YXJnZXQucnVsZUluZGV4KX19ZWxzZSBpZihiIGluc3RhbmNlb2YgVHQpYT90aGlzLl9MT09LKGIudGFyZ2V0LG4scixpLHUsYyxhLGwpOmkuYWRkT25lKHQuSElUX1BSRUQpO2Vsc2UgaWYoYi5pc0Vwc2lsb24pdGhpcy5fTE9PSyhiLnRhcmdldCxuLHIsaSx1LGMsYSxsKTtlbHNlIGlmKGIuY29uc3RydWN0b3I9PT1PdClpLmFkZFJhbmdlKG8uTUlOX1VTRVJfVE9LRU5fVFlQRSx0aGlzLmF0bi5tYXhUb2tlblR5cGUpO2Vsc2V7dmFyIGQ9Yi5sYWJlbDtudWxsIT09ZCYmKGIgaW5zdGFuY2VvZiB2dCYmKGQ9ZC5jb21wbGVtZW50KG8uTUlOX1VTRVJfVE9LRU5fVFlQRSx0aGlzLmF0bi5tYXhUb2tlblR5cGUpKSxpLmFkZFNldChkKSl9fX19fV0sbiYmTmUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIExlKHQpe3JldHVybiBMZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxMZSh0KX1mdW5jdGlvbiBEZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09TGUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09TGUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09TGUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfUllLkhJVF9QUkVEPW8uSU5WQUxJRF9UWVBFO3ZhciBGZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuZ3JhbW1hclR5cGU9ZSx0aGlzLm1heFRva2VuVHlwZT1uLHRoaXMuc3RhdGVzPVtdLHRoaXMuZGVjaXNpb25Ub1N0YXRlPVtdLHRoaXMucnVsZVRvU3RhcnRTdGF0ZT1bXSx0aGlzLnJ1bGVUb1N0b3BTdGF0ZT1udWxsLHRoaXMubW9kZU5hbWVUb1N0YXJ0U3RhdGU9e30sdGhpcy5ydWxlVG9Ub2tlblR5cGU9bnVsbCx0aGlzLmxleGVyQWN0aW9ucz1udWxsLHRoaXMubW9kZVRvU3RhcnRTdGF0ZT1bXX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJuZXh0VG9rZW5zSW5Db250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEllKHRoaXMpLkxPT0sodCxudWxsLGUpfX0se2tleTpcIm5leHRUb2tlbnNOb0NvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQubmV4dFRva2VuV2l0aGluUnVsZXx8KHQubmV4dFRva2VuV2l0aGluUnVsZT10aGlzLm5leHRUb2tlbnNJbkNvbnRleHQodCxudWxsKSx0Lm5leHRUb2tlbldpdGhpblJ1bGUucmVhZE9ubHk9ITApLHQubmV4dFRva2VuV2l0aGluUnVsZX19LHtrZXk6XCJuZXh0VG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLm5leHRUb2tlbnNOb0NvbnRleHQodCk6dGhpcy5uZXh0VG9rZW5zSW5Db250ZXh0KHQsZSl9fSx7a2V5OlwiYWRkU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtudWxsIT09dCYmKHQuYXRuPXRoaXMsdC5zdGF0ZU51bWJlcj10aGlzLnN0YXRlcy5sZW5ndGgpLHRoaXMuc3RhdGVzLnB1c2godCl9fSx7a2V5OlwicmVtb3ZlU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnN0YXRlc1t0LnN0YXRlTnVtYmVyXT1udWxsfX0se2tleTpcImRlZmluZURlY2lzaW9uU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kZWNpc2lvblRvU3RhdGUucHVzaCh0KSx0LmRlY2lzaW9uPXRoaXMuZGVjaXNpb25Ub1N0YXRlLmxlbmd0aC0xLHQuZGVjaXNpb259fSx7a2V5OlwiZ2V0RGVjaXNpb25TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5kZWNpc2lvblRvU3RhdGUubGVuZ3RoP251bGw6dGhpcy5kZWNpc2lvblRvU3RhdGVbdF19fSx7a2V5OlwiZ2V0RXhwZWN0ZWRUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHQ8MHx8dD49dGhpcy5zdGF0ZXMubGVuZ3RoKXRocm93XCJJbnZhbGlkIHN0YXRlIG51bWJlci5cIjt2YXIgbj10aGlzLnN0YXRlc1t0XSxyPXRoaXMubmV4dFRva2VucyhuKTtpZighci5jb250YWlucyhvLkVQU0lMT04pKXJldHVybiByO3ZhciBpPW5ldyBWO2ZvcihpLmFkZFNldChyKSxpLnJlbW92ZU9uZShvLkVQU0lMT04pO251bGwhPT1lJiZlLmludm9raW5nU3RhdGU+PTAmJnIuY29udGFpbnMoby5FUFNJTE9OKTspe3ZhciB1PXRoaXMuc3RhdGVzW2UuaW52b2tpbmdTdGF0ZV0udHJhbnNpdGlvbnNbMF07cj10aGlzLm5leHRUb2tlbnModS5mb2xsb3dTdGF0ZSksaS5hZGRTZXQociksaS5yZW1vdmVPbmUoby5FUFNJTE9OKSxlPWUucGFyZW50Q3R4fXJldHVybiByLmNvbnRhaW5zKG8uRVBTSUxPTikmJmkuYWRkT25lKG8uRU9GKSxpfX1dKSYmRGUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO0ZlLklOVkFMSURfQUxUX05VTUJFUj0wO2Z1bmN0aW9uIEJlKHQpe3JldHVybiBCZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxCZSh0KX1mdW5jdGlvbiBNZSh0LGUpe3JldHVybiBNZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LE1lKHQsZSl9ZnVuY3Rpb24gVWUodCl7cmV0dXJuIFVlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxVZSh0KX12YXIgVmU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJk1lKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVVlKG4pO2lmKHIpe3ZhciBvPVVlKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09QmUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILkJBU0lDLHR9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEgpO2Z1bmN0aW9uIHplKHQpe3JldHVybiB6ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx6ZSh0KX1mdW5jdGlvbiBxZSh0LGUpe3JldHVybiBxZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHFlKHQsZSl9ZnVuY3Rpb24gSGUodCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXplKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gS2UodCl9ZnVuY3Rpb24gS2UodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gWWUodCl7cmV0dXJuIFllPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxZZSh0KX12YXIgR2U9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnFlKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVllKG4pO2lmKHIpe3ZhciBvPVllKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBIZSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5kZWNpc2lvbj0tMSx0Lm5vbkdyZWVkeT0hMSxIZSh0LEtlKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSCk7ZnVuY3Rpb24gV2UodCl7cmV0dXJuIFdlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFdlKHQpfWZ1bmN0aW9uIFhlKHQsZSl7cmV0dXJuIFhlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWGUodCxlKX1mdW5jdGlvbiAkZSh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09V2UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBKZSh0KX1mdW5jdGlvbiBKZSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBRZSh0KXtyZXR1cm4gUWU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFFlKHQpfXZhciBaZT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmWGUodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9UWUobik7aWYocil7dmFyIG89UWUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuICRlKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLmVuZFN0YXRlPW51bGwsJGUodCxKZSh0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEdlKTtmdW5jdGlvbiB0bih0KXtyZXR1cm4gdG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdG4odCl9ZnVuY3Rpb24gZW4odCxlKXtyZXR1cm4gZW49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxlbih0LGUpfWZ1bmN0aW9uIG5uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT10bihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHJuKHQpfWZ1bmN0aW9uIHJuKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIG9uKHQpe3JldHVybiBvbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sb24odCl9dmFyIHVuPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZlbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1vbihuKTtpZihyKXt2YXIgbz1vbih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbm4odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguQkxPQ0tfRU5ELHQuc3RhcnRTdGF0ZT1udWxsLG5uKHQscm4odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIKTtmdW5jdGlvbiBjbih0KXtyZXR1cm4gY249XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sY24odCl9ZnVuY3Rpb24gYW4odCxlKXtyZXR1cm4gYW49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxhbih0LGUpfWZ1bmN0aW9uIGxuKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1jbihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHNuKHQpfWZ1bmN0aW9uIHNuKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIGZuKHQpe3JldHVybiBmbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sZm4odCl9dmFyIHBuPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZhbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1mbihuKTtpZihyKXt2YXIgbz1mbih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbG4odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguTE9PUF9FTkQsdC5sb29wQmFja1N0YXRlPW51bGwsbG4odCxzbih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEgpO2Z1bmN0aW9uIHluKHQpe3JldHVybiB5bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx5bih0KX1mdW5jdGlvbiBobih0LGUpe3JldHVybiBobj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGhuKHQsZSl9ZnVuY3Rpb24gYm4odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXluKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gdm4odCl9ZnVuY3Rpb24gdm4odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gZG4odCl7cmV0dXJuIGRuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxkbih0KX12YXIgbW49ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmhuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWRuKG4pO2lmKHIpe3ZhciBvPWRuKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBibih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5SVUxFX1NUQVJULHQuc3RvcFN0YXRlPW51bGwsdC5pc1ByZWNlZGVuY2VSdWxlPSExLGJuKHQsdm4odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIKTtmdW5jdGlvbiBnbih0KXtyZXR1cm4gZ249XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZ24odCl9ZnVuY3Rpb24gU24odCxlKXtyZXR1cm4gU249T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxTbih0LGUpfWZ1bmN0aW9uIE9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1nbihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHduKHQpfWZ1bmN0aW9uIHduKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIF9uKHQpe3JldHVybiBfbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sX24odCl9dmFyIFBuPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZTbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1fbihuKTtpZihyKXt2YXIgbz1fbih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gT24odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguVE9LRU5fU1RBUlQsT24odCx3bih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEdlKTtmdW5jdGlvbiBUbih0KXtyZXR1cm4gVG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sVG4odCl9ZnVuY3Rpb24gRW4odCxlKXtyZXR1cm4gRW49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxFbih0LGUpfWZ1bmN0aW9uIGtuKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1UbihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGpuKHQpfWZ1bmN0aW9uIGpuKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIHhuKHQpe3JldHVybiB4bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0seG4odCl9dmFyIFJuPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZFbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT14bihuKTtpZihyKXt2YXIgbz14bih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4ga24odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguUExVU19MT09QX0JBQ0ssa24odCxqbih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEdlKTtmdW5jdGlvbiBDbih0KXtyZXR1cm4gQ249XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQ24odCl9ZnVuY3Rpb24gQW4odCxlKXtyZXR1cm4gQW49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxBbih0LGUpfWZ1bmN0aW9uIE5uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1DbihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIEluKHQpfWZ1bmN0aW9uIEluKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIExuKHQpe3JldHVybiBMbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTG4odCl9dmFyIERuPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZBbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1MbihuKTtpZihyKXt2YXIgbz1Mbih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gTm4odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguU1RBUl9MT09QX0JBQ0ssTm4odCxJbih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEgpO2Z1bmN0aW9uIEZuKHQpe3JldHVybiBGbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxGbih0KX1mdW5jdGlvbiBCbih0LGUpe3JldHVybiBCbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEJuKHQsZSl9ZnVuY3Rpb24gTW4odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUZuKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gVW4odCl9ZnVuY3Rpb24gVW4odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gVm4odCl7cmV0dXJuIFZuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxWbih0KX12YXIgem49ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkJuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVZuKG4pO2lmKHIpe3ZhciBvPVZuKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBNbih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5TVEFSX0xPT1BfRU5UUlksdC5sb29wQmFja1N0YXRlPW51bGwsdC5pc1ByZWNlZGVuY2VEZWNpc2lvbj1udWxsLE1uKHQsVW4odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShHZSk7ZnVuY3Rpb24gcW4odCl7cmV0dXJuIHFuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHFuKHQpfWZ1bmN0aW9uIEhuKHQsZSl7cmV0dXJuIEhuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSG4odCxlKX1mdW5jdGlvbiBLbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09cW4oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBZbih0KX1mdW5jdGlvbiBZbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBHbih0KXtyZXR1cm4gR249T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEduKHQpfXZhciBXbj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSG4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9R24obik7aWYocil7dmFyIG89R24odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIEtuKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlBMVVNfQkxPQ0tfU1RBUlQsdC5sb29wQmFja1N0YXRlPW51bGwsS24odCxZbih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KFplKTtmdW5jdGlvbiBYbih0KXtyZXR1cm4gWG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sWG4odCl9ZnVuY3Rpb24gJG4odCxlKXtyZXR1cm4gJG49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSwkbih0LGUpfWZ1bmN0aW9uIEpuKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1YbihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIFFuKHQpfWZ1bmN0aW9uIFFuKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIFpuKHQpe3JldHVybiBabj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sWm4odCl9dmFyIHRyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiYkbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1abihuKTtpZihyKXt2YXIgbz1abih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gSm4odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguU1RBUl9CTE9DS19TVEFSVCxKbih0LFFuKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oWmUpO2Z1bmN0aW9uIGVyKHQpe3JldHVybiBlcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxlcih0KX1mdW5jdGlvbiBucih0LGUpe3JldHVybiBucj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LG5yKHQsZSl9ZnVuY3Rpb24gcnIodCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWVyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gb3IodCl9ZnVuY3Rpb24gb3IodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gaXIodCl7cmV0dXJuIGlyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxpcih0KX12YXIgdXI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJm5yKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWlyKG4pO2lmKHIpe3ZhciBvPWlyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBycih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5CTE9DS19TVEFSVCxycih0LG9yKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oWmUpO2Z1bmN0aW9uIGNyKHQpe3JldHVybiBjcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxjcih0KX1mdW5jdGlvbiBhcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09Y3IodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09Y3IocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Y3Iobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGxyKHQsZSl7cmV0dXJuIGxyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbHIodCxlKX1mdW5jdGlvbiBzcih0KXtyZXR1cm4gc3I9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHNyKHQpfXZhciBmcj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmbHIodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1zcihyKTtpZihvKXt2YXIgbj1zcih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWNyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMsdCkpLmxhYmVsXz1lLG4ubGFiZWw9bi5tYWtlTGFiZWwoKSxuLnNlcmlhbGl6YXRpb25UeXBlPXR0LkFUT00sbn1yZXR1cm4gZT11LChuPVt7a2V5OlwibWFrZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgVjtyZXR1cm4gdC5hZGRPbmUodGhpcy5sYWJlbF8pLHR9fSx7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5sYWJlbF89PT10fX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbF99fV0pJiZhcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHR0KTtmdW5jdGlvbiBwcih0KXtyZXR1cm4gcHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0scHIodCl9ZnVuY3Rpb24geXIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXByKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXByKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXByKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBocih0LGUpe3JldHVybiBocj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGhyKHQsZSl9ZnVuY3Rpb24gYnIodCl7cmV0dXJuIGJyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxicih0KX12YXIgdnI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmhyKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9YnIocik7aWYobyl7dmFyIG49YnIodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1wcihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlLG4pe3ZhciByO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKHI9aS5jYWxsKHRoaXMsdCkpLnNlcmlhbGl6YXRpb25UeXBlPXR0LlJBTkdFLHIuc3RhcnQ9ZSxyLnN0b3A9bixyLmxhYmVsPXIubWFrZUxhYmVsKCkscn1yZXR1cm4gZT11LChuPVt7a2V5OlwibWFrZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgVjtyZXR1cm4gdC5hZGRSYW5nZSh0aGlzLnN0YXJ0LHRoaXMuc3RvcCksdH19LHtrZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0Pj10aGlzLnN0YXJ0JiZ0PD10aGlzLnN0b3B9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiJ1wiK1N0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5zdGFydCkrXCInLi4nXCIrU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLnN0b3ApK1wiJ1wifX1dKSYmeXIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh0dCk7ZnVuY3Rpb24gZHIodCl7cmV0dXJuIGRyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGRyKHQpfWZ1bmN0aW9uIG1yKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1kcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1kcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1kcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gZ3IodCxlKXtyZXR1cm4gZ3I9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxncih0LGUpfWZ1bmN0aW9uIFNyKHQpe3JldHVybiBTcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sU3IodCl9dmFyIE9yPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZncih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVNyKHIpO2lmKG8pe3ZhciBuPVNyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09ZHIoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSxuLHIpe3ZhciBvO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG89aS5jYWxsKHRoaXMsdCkpLnNlcmlhbGl6YXRpb25UeXBlPXR0LkFDVElPTixvLnJ1bGVJbmRleD1lLG8uYWN0aW9uSW5kZXg9dm9pZCAwPT09bj8tMTpuLG8uaXNDdHhEZXBlbmRlbnQ9dm9pZCAwIT09ciYmcixvLmlzRXBzaWxvbj0hMCxvfXJldHVybiBlPXUsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiExfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImFjdGlvbl9cIit0aGlzLnJ1bGVJbmRleCtcIjpcIit0aGlzLmFjdGlvbkluZGV4fX1dKSYmbXIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh0dCk7ZnVuY3Rpb24gd3IodCl7cmV0dXJuIHdyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHdyKHQpfWZ1bmN0aW9uIF9yKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT13cih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT13cihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT13cihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gUHIodCxlKXtyZXR1cm4gUHI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxQcih0LGUpfWZ1bmN0aW9uIFRyKHQpe3JldHVybiBUcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVHIodCl9dmFyIEVyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZQcih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVRyKHIpO2lmKG8pe3ZhciBuPVRyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09d3IoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcyx0KSkuc2VyaWFsaXphdGlvblR5cGU9dHQuRVBTSUxPTixuLmlzRXBzaWxvbj0hMCxuLm91dGVybW9zdFByZWNlZGVuY2VSZXR1cm49ZSxufXJldHVybiBlPXUsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiExfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImVwc2lsb25cIn19XSkmJl9yKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0odHQpO2Z1bmN0aW9uIGtyKHQpe3JldHVybiBrcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxrcih0KX1mdW5jdGlvbiBqcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09a3IodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09a3IocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09a3Iobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHhyKHQsZSl7cmV0dXJuIHhyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0seHIodCxlKX1mdW5jdGlvbiBScih0KXtyZXR1cm4gUnI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFJyKHQpfXZhciBDcj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmeHIodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1ScihyKTtpZihvKXt2YXIgbj1Scih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWtyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUsbil7dmFyIHI7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwocj1pLmNhbGwodGhpcykpLnJ1bGVJbmRleD12b2lkIDA9PT10Py0xOnQsci5wcmVkSW5kZXg9dm9pZCAwPT09ZT8tMTplLHIuaXNDdHhEZXBlbmRlbnQ9dm9pZCAwIT09biYmbixyfXJldHVybiBlPXUsKG49W3trZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5pc0N0eERlcGVuZGVudD9lOm51bGw7cmV0dXJuIHQuc2VtcHJlZChuLHRoaXMucnVsZUluZGV4LHRoaXMucHJlZEluZGV4KX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMucnVsZUluZGV4LHRoaXMucHJlZEluZGV4LHRoaXMuaXNDdHhEZXBlbmRlbnQpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMucnVsZUluZGV4PT09dC5ydWxlSW5kZXgmJnRoaXMucHJlZEluZGV4PT09dC5wcmVkSW5kZXgmJnRoaXMuaXNDdHhEZXBlbmRlbnQ9PT10LmlzQ3R4RGVwZW5kZW50fX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIntcIit0aGlzLnJ1bGVJbmRleCtcIjpcIit0aGlzLnByZWRJbmRleCtcIn0/XCJ9fV0pJiZqcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KGopO2Z1bmN0aW9uIEFyKHQpe3JldHVybiBBcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxBcih0KX1mdW5jdGlvbiBOcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09QXIodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09QXIocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09QXIobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIElyKHQsZSl7cmV0dXJuIElyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSXIodCxlKX1mdW5jdGlvbiBMcih0KXtyZXR1cm4gTHI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LExyKHQpfWouTk9ORT1uZXcgQ3I7dmFyIERyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZJcih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUxyKHIpO2lmKG8pe3ZhciBuPUxyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09QXIoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSxuLHIpe3ZhciBvO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG89aS5jYWxsKHRoaXMsdCkpLnNlcmlhbGl6YXRpb25UeXBlPXR0LlBSRURJQ0FURSxvLnJ1bGVJbmRleD1lLG8ucHJlZEluZGV4PW4sby5pc0N0eERlcGVuZGVudD1yLG8uaXNFcHNpbG9uPSEwLG99cmV0dXJuIGU9dSwobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuITF9fSx7a2V5OlwiZ2V0UHJlZGljYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENyKHRoaXMucnVsZUluZGV4LHRoaXMucHJlZEluZGV4LHRoaXMuaXNDdHhEZXBlbmRlbnQpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInByZWRfXCIrdGhpcy5ydWxlSW5kZXgrXCI6XCIrdGhpcy5wcmVkSW5kZXh9fV0pJiZOcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFR0KTtmdW5jdGlvbiBGcih0KXtyZXR1cm4gRnI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRnIodCl9ZnVuY3Rpb24gQnIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUZyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUZyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUZyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBNcih0LGUpe3JldHVybiBNcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LE1yKHQsZSl9ZnVuY3Rpb24gVXIodCl7cmV0dXJuIFVyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxVcih0KX12YXIgVnI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJk1yKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9VXIocik7aWYobyl7dmFyIG49VXIodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1GcihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwoZT1pLmNhbGwodGhpcykpLnByZWNlZGVuY2U9dm9pZCAwPT09dD8wOnQsZX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnByZWNwcmVkKGUsdGhpcy5wcmVjZWRlbmNlKX19LHtrZXk6XCJldmFsUHJlY2VkZW5jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucHJlY3ByZWQoZSx0aGlzLnByZWNlZGVuY2UpP2ouTk9ORTpudWxsfX0se2tleTpcImNvbXBhcmVUb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByZWNlZGVuY2UtdC5wcmVjZWRlbmNlfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5wcmVjZWRlbmNlKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLnByZWNlZGVuY2U9PT10LnByZWNlZGVuY2V9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwie1wiK3RoaXMucHJlY2VkZW5jZStcIj49cHJlY30/XCJ9fV0pJiZCcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KGopO2Z1bmN0aW9uIHpyKHQpe3JldHVybiB6cj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx6cih0KX1mdW5jdGlvbiBxcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09enIodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09enIocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09enIobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEhyKHQsZSl7cmV0dXJuIEhyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSHIodCxlKX1mdW5jdGlvbiBLcih0KXtyZXR1cm4gS3I9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEtyKHQpfWouUHJlY2VkZW5jZVByZWRpY2F0ZT1Wcjt2YXIgWXI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkhyKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9S3Iocik7aWYobyl7dmFyIG49S3IodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT16cihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzLHQpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5QUkVDRURFTkNFLG4ucHJlY2VkZW5jZT1lLG4uaXNFcHNpbG9uPSEwLG59cmV0dXJuIGU9dSwobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuITF9fSx7a2V5OlwiZ2V0UHJlZGljYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFZyKHRoaXMucHJlY2VkZW5jZSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZWNlZGVuY2UrXCIgPj0gX3BcIn19XSkmJnFyKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oVHQpO2Z1bmN0aW9uIEdyKHQpe3JldHVybiBHcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxHcih0KX1mdW5jdGlvbiBXcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09R3IodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09R3IocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09R3Iobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFhyKHQsZSxuKXtyZXR1cm4gZSYmV3IodC5wcm90b3R5cGUsZSksbiYmV3IodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9dmFyICRyPVhyKChmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdm9pZCAwPT09ZSYmKGU9bnVsbCksdGhpcy5yZWFkT25seT0hMSx0aGlzLnZlcmlmeUFUTj1udWxsPT09ZXx8ZS52ZXJpZnlBVE4sdGhpcy5nZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9ucz1udWxsIT09ZSYmZS5nZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9uc30pKTskci5kZWZhdWx0T3B0aW9ucz1uZXcgJHIsJHIuZGVmYXVsdE9wdGlvbnMucmVhZE9ubHk9ITA7ZnVuY3Rpb24gSnIodCl7cmV0dXJuIEpyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEpyKHQpfWZ1bmN0aW9uIFFyKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Kcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1KcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1KcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIFpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuYWN0aW9uVHlwZT1lLHRoaXMuaXNQb3NpdGlvbkRlcGVuZGVudD0hMX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGY7cmV0dXJuIHRoaXMudXBkYXRlSGFzaENvZGUodCksdC5maW5pc2goKX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuYWN0aW9uVHlwZSl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fX1dKSYmUXIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIHRvKHQpe3JldHVybiB0bz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx0byh0KX1mdW5jdGlvbiBlbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09dG8odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09dG8ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09dG8obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIG5vKHQsZSl7cmV0dXJuIG5vPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbm8odCxlKX1mdW5jdGlvbiBybyh0KXtyZXR1cm4gcm89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHJvKHQpfXZhciBvbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmbm8odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1ybyhyKTtpZihvKXt2YXIgbj1ybyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXRvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMsNil9cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnNraXAoKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJza2lwXCJ9fV0pJiZlbyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBpbyh0KXtyZXR1cm4gaW89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saW8odCl9ZnVuY3Rpb24gdW8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWlvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWlvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWlvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBjbyh0LGUpe3JldHVybiBjbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGNvKHQsZSl9ZnVuY3Rpb24gYW8odCl7cmV0dXJuIGFvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxhbyh0KX1vby5JTlNUQU5DRT1uZXcgb287dmFyIGxvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZjbyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWFvKHIpO2lmKG8pe3ZhciBuPWFvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09aW8oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKGU9aS5jYWxsKHRoaXMsMCkpLmNoYW5uZWw9dCxlfXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5fY2hhbm5lbD10aGlzLmNoYW5uZWx9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmFjdGlvblR5cGUsdGhpcy5jaGFubmVsKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLmNoYW5uZWw9PT10LmNoYW5uZWx9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiY2hhbm5lbChcIit0aGlzLmNoYW5uZWwrXCIpXCJ9fV0pJiZ1byhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBzbyh0KXtyZXR1cm4gc289XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sc28odCl9ZnVuY3Rpb24gZm8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXNvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXNvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXNvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBwbyh0LGUpe3JldHVybiBwbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHBvKHQsZSl9ZnVuY3Rpb24geW8odCl7cmV0dXJuIHlvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx5byh0KX12YXIgaG89ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnBvKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9eW8ocik7aWYobyl7dmFyIG49eW8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1zbyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzLDEpKS5ydWxlSW5kZXg9dCxuLmFjdGlvbkluZGV4PWUsbi5pc1Bvc2l0aW9uRGVwZW5kZW50PSEwLG59cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmFjdGlvbihudWxsLHRoaXMucnVsZUluZGV4LHRoaXMuYWN0aW9uSW5kZXgpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5hY3Rpb25UeXBlLHRoaXMucnVsZUluZGV4LHRoaXMuYWN0aW9uSW5kZXgpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMucnVsZUluZGV4PT09dC5ydWxlSW5kZXgmJnRoaXMuYWN0aW9uSW5kZXg9PT10LmFjdGlvbkluZGV4fX1dKSYmZm8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gYm8odCl7cmV0dXJuIGJvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGJvKHQpfWZ1bmN0aW9uIHZvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1ibyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1ibyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1ibyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gbW8odCxlKXtyZXR1cm4gbW89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxtbyh0LGUpfWZ1bmN0aW9uIGdvKHQpe3JldHVybiBnbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sZ28odCl9dmFyIFNvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZtbyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWdvKHIpO2lmKG8pe3ZhciBuPWdvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Ym8oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcywzKX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QubW9yZSgpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIm1vcmVcIn19XSkmJnZvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIE9vKHQpe3JldHVybiBPbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxPbyh0KX1mdW5jdGlvbiB3byh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09T28odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09T28ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09T28obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIF9vKHQsZSl7cmV0dXJuIF9vPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sX28odCxlKX1mdW5jdGlvbiBQbyh0KXtyZXR1cm4gUG89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFBvKHQpfVNvLklOU1RBTkNFPW5ldyBTbzt2YXIgVG89ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJl9vKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9UG8ocik7aWYobyl7dmFyIG49UG8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1PbyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwoZT1pLmNhbGwodGhpcyw3KSkudHlwZT10LGV9cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnR5cGU9dGhpcy50eXBlfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5hY3Rpb25UeXBlLHRoaXMudHlwZSl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy50eXBlPT09dC50eXBlfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInR5cGUoXCIrdGhpcy50eXBlK1wiKVwifX1dKSYmd28oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gRW8odCl7cmV0dXJuIEVvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEVvKHQpfWZ1bmN0aW9uIGtvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Fbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1FbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1FbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gam8odCxlKXtyZXR1cm4gam89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxqbyh0LGUpfWZ1bmN0aW9uIHhvKHQpe3JldHVybiB4bz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0seG8odCl9dmFyIFJvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZqbyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXhvKHIpO2lmKG8pe3ZhciBuPXhvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09RW8oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKGU9aS5jYWxsKHRoaXMsNSkpLm1vZGU9dCxlfXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wdXNoTW9kZSh0aGlzLm1vZGUpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5hY3Rpb25UeXBlLHRoaXMubW9kZSl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5tb2RlPT09dC5tb2RlfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInB1c2hNb2RlKFwiK3RoaXMubW9kZStcIilcIn19XSkmJmtvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIENvKHQpe3JldHVybiBDbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxDbyh0KX1mdW5jdGlvbiBBbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09Q28odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09Q28ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Q28obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIE5vKHQsZSl7cmV0dXJuIE5vPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sTm8odCxlKX1mdW5jdGlvbiBJbyh0KXtyZXR1cm4gSW89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LElvKHQpfXZhciBMbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTm8odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1JbyhyKTtpZihvKXt2YXIgbj1Jbyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUNvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMsNCl9cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnBvcE1vZGUoKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJwb3BNb2RlXCJ9fV0pJiZBbyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBEbyh0KXtyZXR1cm4gRG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRG8odCl9ZnVuY3Rpb24gRm8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PURvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PURvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PURvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBCbyh0LGUpe3JldHVybiBCbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEJvKHQsZSl9ZnVuY3Rpb24gTW8odCl7cmV0dXJuIE1vPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxNbyh0KX1Mby5JTlNUQU5DRT1uZXcgTG87dmFyIFVvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZCbyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPU1vKHIpO2lmKG8pe3ZhciBuPU1vKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09RG8oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKGU9aS5jYWxsKHRoaXMsMikpLm1vZGU9dCxlfXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5tb2RlKHRoaXMubW9kZSl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmFjdGlvblR5cGUsdGhpcy5tb2RlKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLm1vZGU9PT10Lm1vZGV9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwibW9kZShcIit0aGlzLm1vZGUrXCIpXCJ9fV0pJiZGbyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBWbyh0KXtyZXR1cm4gVm89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sVm8odCl9ZnVuY3Rpb24gem8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVZvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVZvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVZvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBxbyh0LGUpe3ZhciBuPVtdO3JldHVybiBuW3QtMV09ZSxuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGV9KSl9dmFyIEhvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLG51bGw9PWUmJihlPSRyLmRlZmF1bHRPcHRpb25zKSx0aGlzLmRlc2VyaWFsaXphdGlvbk9wdGlvbnM9ZSx0aGlzLnN0YXRlRmFjdG9yaWVzPW51bGwsdGhpcy5hY3Rpb25GYWN0b3JpZXM9bnVsbH12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImRlc2VyaWFsaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZXNldCh0KTt0aGlzLmNoZWNrVmVyc2lvbihlKSxlJiZ0aGlzLnNraXBVVUlEKCk7dmFyIG49dGhpcy5yZWFkQVROKCk7dGhpcy5yZWFkU3RhdGVzKG4sZSksdGhpcy5yZWFkUnVsZXMobixlKSx0aGlzLnJlYWRNb2RlcyhuKTt2YXIgcj1bXTtyZXR1cm4gdGhpcy5yZWFkU2V0cyhuLHIsdGhpcy5yZWFkSW50LmJpbmQodGhpcykpLGUmJnRoaXMucmVhZFNldHMobixyLHRoaXMucmVhZEludDMyLmJpbmQodGhpcykpLHRoaXMucmVhZEVkZ2VzKG4sciksdGhpcy5yZWFkRGVjaXNpb25zKG4pLHRoaXMucmVhZExleGVyQWN0aW9ucyhuLGUpLHRoaXMubWFya1ByZWNlZGVuY2VEZWNpc2lvbnMobiksdGhpcy52ZXJpZnlBVE4obiksdGhpcy5kZXNlcmlhbGl6YXRpb25PcHRpb25zLmdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb25zJiYxPT09bi5ncmFtbWFyVHlwZSYmKHRoaXMuZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvbnMobiksdGhpcy52ZXJpZnlBVE4obikpLG59fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZigzPT09KHQuY2hhckNvZGVBdD90LmNoYXJDb2RlQXQoMCk6dFswXSkpe3ZhciBlPXQuc3BsaXQoXCJcIikubWFwKChmdW5jdGlvbih0KXt2YXIgZT10LmNoYXJDb2RlQXQoMCk7cmV0dXJuIGU+MT9lLTI6ZSs2NTUzNH0pKTtyZXR1cm4gZVswXT10LmNoYXJDb2RlQXQoMCksdGhpcy5kYXRhPWUsdGhpcy5wb3M9MCwhMH1yZXR1cm4gdGhpcy5kYXRhPXQsdGhpcy5wb3M9MCwhMX19LHtrZXk6XCJza2lwVVVJRFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dCsrPDg7KXRoaXMucmVhZEludCgpfX0se2tleTpcImNoZWNrVmVyc2lvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVhZEludCgpO2lmKCF0JiY0IT09ZSl0aHJvd1wiQ291bGQgbm90IGRlc2VyaWFsaXplIEFUTiB3aXRoIHZlcnNpb24gXCIrZStcIiAoZXhwZWN0ZWQgNCkuXCJ9fSx7a2V5OlwicmVhZEFUTlwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkSW50KCksZT10aGlzLnJlYWRJbnQoKTtyZXR1cm4gbmV3IEZlKHQsZSl9fSx7a2V5OlwicmVhZFN0YXRlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHIsbyxpPVtdLHU9W10sYz10aGlzLnJlYWRJbnQoKSxhPTA7YTxjO2ErKyl7dmFyIGw9dGhpcy5yZWFkSW50KCk7aWYobCE9PUguSU5WQUxJRF9UWVBFKXt2YXIgcz10aGlzLnJlYWRJbnQoKTtlJiY2NTUzNT09PXMmJihzPS0xKTt2YXIgZj10aGlzLnN0YXRlRmFjdG9yeShsLHMpO2lmKGw9PT1ILkxPT1BfRU5EKXt2YXIgcD10aGlzLnJlYWRJbnQoKTtpLnB1c2goW2YscF0pfWVsc2UgaWYoZiBpbnN0YW5jZW9mIFplKXt2YXIgeT10aGlzLnJlYWRJbnQoKTt1LnB1c2goW2YseV0pfXQuYWRkU3RhdGUoZil9ZWxzZSB0LmFkZFN0YXRlKG51bGwpfWZvcihuPTA7bjxpLmxlbmd0aDtuKyspKHI9aVtuXSlbMF0ubG9vcEJhY2tTdGF0ZT10LnN0YXRlc1tyWzFdXTtmb3Iobj0wO248dS5sZW5ndGg7bisrKShyPXVbbl0pWzBdLmVuZFN0YXRlPXQuc3RhdGVzW3JbMV1dO3ZhciBoPXRoaXMucmVhZEludCgpO2ZvcihuPTA7bjxoO24rKylvPXRoaXMucmVhZEludCgpLHQuc3RhdGVzW29dLm5vbkdyZWVkeT0hMDt2YXIgYj10aGlzLnJlYWRJbnQoKTtmb3Iobj0wO248YjtuKyspbz10aGlzLnJlYWRJbnQoKSx0LnN0YXRlc1tvXS5pc1ByZWNlZGVuY2VSdWxlPSEwfX0se2tleTpcInJlYWRSdWxlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLnJlYWRJbnQoKTtmb3IoMD09PXQuZ3JhbW1hclR5cGUmJih0LnJ1bGVUb1Rva2VuVHlwZT1xbyhyLDApKSx0LnJ1bGVUb1N0YXJ0U3RhdGU9cW8ociwwKSxuPTA7bjxyO24rKyl7dmFyIGk9dGhpcy5yZWFkSW50KCk7aWYodC5ydWxlVG9TdGFydFN0YXRlW25dPXQuc3RhdGVzW2ldLDA9PT10LmdyYW1tYXJUeXBlKXt2YXIgdT10aGlzLnJlYWRJbnQoKTtlJiY2NTUzNT09PXUmJih1PW8uRU9GKSx0LnJ1bGVUb1Rva2VuVHlwZVtuXT11fX1mb3IodC5ydWxlVG9TdG9wU3RhdGU9cW8ociwwKSxuPTA7bjx0LnN0YXRlcy5sZW5ndGg7bisrKXt2YXIgYz10LnN0YXRlc1tuXTtjIGluc3RhbmNlb2YgJCYmKHQucnVsZVRvU3RvcFN0YXRlW2MucnVsZUluZGV4XT1jLHQucnVsZVRvU3RhcnRTdGF0ZVtjLnJ1bGVJbmRleF0uc3RvcFN0YXRlPWMpfX19LHtrZXk6XCJyZWFkTW9kZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yZWFkSW50KCksbj0wO248ZTtuKyspe3ZhciByPXRoaXMucmVhZEludCgpO3QubW9kZVRvU3RhcnRTdGF0ZS5wdXNoKHQuc3RhdGVzW3JdKX19fSx7a2V5OlwicmVhZFNldHNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMucmVhZEludCgpLG89MDtvPHI7bysrKXt2YXIgaT1uZXcgVjtlLnB1c2goaSk7dmFyIHU9dGhpcy5yZWFkSW50KCk7MCE9PXRoaXMucmVhZEludCgpJiZpLmFkZE9uZSgtMSk7Zm9yKHZhciBjPTA7Yzx1O2MrKyl7dmFyIGE9bigpLGw9bigpO2kuYWRkUmFuZ2UoYSxsKX19fX0se2tleTpcInJlYWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixvLGksdSxjPXRoaXMucmVhZEludCgpO2ZvcihuPTA7bjxjO24rKyl7dmFyIGE9dGhpcy5yZWFkSW50KCksbD10aGlzLnJlYWRJbnQoKSxzPXRoaXMucmVhZEludCgpLGY9dGhpcy5yZWFkSW50KCkscD10aGlzLnJlYWRJbnQoKSx5PXRoaXMucmVhZEludCgpO2k9dGhpcy5lZGdlRmFjdG9yeSh0LHMsYSxsLGYscCx5LGUpLHQuc3RhdGVzW2FdLmFkZFRyYW5zaXRpb24oaSl9Zm9yKG49MDtuPHQuc3RhdGVzLmxlbmd0aDtuKyspZm9yKG89dC5zdGF0ZXNbbl0scj0wO3I8by50cmFuc2l0aW9ucy5sZW5ndGg7cisrKXt2YXIgaD1vLnRyYW5zaXRpb25zW3JdO2lmKGggaW5zdGFuY2VvZiBpdCl7dmFyIGI9LTE7dC5ydWxlVG9TdGFydFN0YXRlW2gudGFyZ2V0LnJ1bGVJbmRleF0uaXNQcmVjZWRlbmNlUnVsZSYmMD09PWgucHJlY2VkZW5jZSYmKGI9aC50YXJnZXQucnVsZUluZGV4KSxpPW5ldyBFcihoLmZvbGxvd1N0YXRlLGIpLHQucnVsZVRvU3RvcFN0YXRlW2gudGFyZ2V0LnJ1bGVJbmRleF0uYWRkVHJhbnNpdGlvbihpKX19Zm9yKG49MDtuPHQuc3RhdGVzLmxlbmd0aDtuKyspe2lmKChvPXQuc3RhdGVzW25dKWluc3RhbmNlb2YgWmUpe2lmKG51bGw9PT1vLmVuZFN0YXRlKXRocm93XCJJbGxlZ2FsU3RhdGVcIjtpZihudWxsIT09by5lbmRTdGF0ZS5zdGFydFN0YXRlKXRocm93XCJJbGxlZ2FsU3RhdGVcIjtvLmVuZFN0YXRlLnN0YXJ0U3RhdGU9b31pZihvIGluc3RhbmNlb2YgUm4pZm9yKHI9MDtyPG8udHJhbnNpdGlvbnMubGVuZ3RoO3IrKykodT1vLnRyYW5zaXRpb25zW3JdLnRhcmdldClpbnN0YW5jZW9mIFduJiYodS5sb29wQmFja1N0YXRlPW8pO2Vsc2UgaWYobyBpbnN0YW5jZW9mIERuKWZvcihyPTA7cjxvLnRyYW5zaXRpb25zLmxlbmd0aDtyKyspKHU9by50cmFuc2l0aW9uc1tyXS50YXJnZXQpaW5zdGFuY2VvZiB6biYmKHUubG9vcEJhY2tTdGF0ZT1vKX19fSx7a2V5OlwicmVhZERlY2lzaW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnJlYWRJbnQoKSxuPTA7bjxlO24rKyl7dmFyIHI9dGhpcy5yZWFkSW50KCksbz10LnN0YXRlc1tyXTt0LmRlY2lzaW9uVG9TdGF0ZS5wdXNoKG8pLG8uZGVjaXNpb249bn19fSx7a2V5OlwicmVhZExleGVyQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoMD09PXQuZ3JhbW1hclR5cGUpe3ZhciBuPXRoaXMucmVhZEludCgpO3QubGV4ZXJBY3Rpb25zPXFvKG4sbnVsbCk7Zm9yKHZhciByPTA7cjxuO3IrKyl7dmFyIG89dGhpcy5yZWFkSW50KCksaT10aGlzLnJlYWRJbnQoKTtlJiY2NTUzNT09PWkmJihpPS0xKTt2YXIgdT10aGlzLnJlYWRJbnQoKTtlJiY2NTUzNT09PXUmJih1PS0xKSx0LmxleGVyQWN0aW9uc1tyXT10aGlzLmxleGVyQWN0aW9uRmFjdG9yeShvLGksdSl9fX19LHtrZXk6XCJnZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dC5ydWxlVG9TdGFydFN0YXRlLmxlbmd0aDtmb3IoZT0wO2U8bjtlKyspdC5ydWxlVG9Ub2tlblR5cGVbZV09dC5tYXhUb2tlblR5cGUrZSsxO2ZvcihlPTA7ZTxuO2UrKyl0aGlzLmdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb24odCxlKX19LHtrZXk6XCJnZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyLG89bmV3IHVyO28ucnVsZUluZGV4PWUsdC5hZGRTdGF0ZShvKTt2YXIgaT1uZXcgdW47aS5ydWxlSW5kZXg9ZSx0LmFkZFN0YXRlKGkpLG8uZW5kU3RhdGU9aSx0LmRlZmluZURlY2lzaW9uU3RhdGUobyksaS5zdGFydFN0YXRlPW87dmFyIHU9bnVsbCxjPW51bGw7aWYodC5ydWxlVG9TdGFydFN0YXRlW2VdLmlzUHJlY2VkZW5jZVJ1bGUpe2ZvcihjPW51bGwsbj0wO248dC5zdGF0ZXMubGVuZ3RoO24rKylpZihyPXQuc3RhdGVzW25dLHRoaXMuc3RhdGVJc0VuZFN0YXRlRm9yKHIsZSkpe2M9cix1PXIubG9vcEJhY2tTdGF0ZS50cmFuc2l0aW9uc1swXTticmVha31pZihudWxsPT09dSl0aHJvd1wiQ291bGRuJ3QgaWRlbnRpZnkgZmluYWwgc3RhdGUgb2YgdGhlIHByZWNlZGVuY2UgcnVsZSBwcmVmaXggc2VjdGlvbi5cIn1lbHNlIGM9dC5ydWxlVG9TdG9wU3RhdGVbZV07Zm9yKG49MDtuPHQuc3RhdGVzLmxlbmd0aDtuKyspe3I9dC5zdGF0ZXNbbl07Zm9yKHZhciBhPTA7YTxyLnRyYW5zaXRpb25zLmxlbmd0aDthKyspe3ZhciBsPXIudHJhbnNpdGlvbnNbYV07bCE9PXUmJmwudGFyZ2V0PT09YyYmKGwudGFyZ2V0PWkpfX1mb3IodmFyIHM9dC5ydWxlVG9TdGFydFN0YXRlW2VdLGY9cy50cmFuc2l0aW9ucy5sZW5ndGg7Zj4wOylvLmFkZFRyYW5zaXRpb24ocy50cmFuc2l0aW9uc1tmLTFdKSxzLnRyYW5zaXRpb25zPXMudHJhbnNpdGlvbnMuc2xpY2UoLTEpO3QucnVsZVRvU3RhcnRTdGF0ZVtlXS5hZGRUcmFuc2l0aW9uKG5ldyBFcihvKSksaS5hZGRUcmFuc2l0aW9uKG5ldyBFcihjKSk7dmFyIHA9bmV3IFZlO3QuYWRkU3RhdGUocCkscC5hZGRUcmFuc2l0aW9uKG5ldyBmcihpLHQucnVsZVRvVG9rZW5UeXBlW2VdKSksby5hZGRUcmFuc2l0aW9uKG5ldyBFcihwKSl9fSx7a2V5Olwic3RhdGVJc0VuZFN0YXRlRm9yXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LnJ1bGVJbmRleCE9PWUpcmV0dXJuIG51bGw7aWYoISh0IGluc3RhbmNlb2Ygem4pKXJldHVybiBudWxsO3ZhciBuPXQudHJhbnNpdGlvbnNbdC50cmFuc2l0aW9ucy5sZW5ndGgtMV0udGFyZ2V0O3JldHVybiBuIGluc3RhbmNlb2YgcG4mJm4uZXBzaWxvbk9ubHlUcmFuc2l0aW9ucyYmbi50cmFuc2l0aW9uc1swXS50YXJnZXQgaW5zdGFuY2VvZiAkP3Q6bnVsbH19LHtrZXk6XCJtYXJrUHJlY2VkZW5jZURlY2lzaW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5zdGF0ZXMubGVuZ3RoO2UrKyl7dmFyIG49dC5zdGF0ZXNbZV07aWYobiBpbnN0YW5jZW9mIHpuJiZ0LnJ1bGVUb1N0YXJ0U3RhdGVbbi5ydWxlSW5kZXhdLmlzUHJlY2VkZW5jZVJ1bGUpe3ZhciByPW4udHJhbnNpdGlvbnNbbi50cmFuc2l0aW9ucy5sZW5ndGgtMV0udGFyZ2V0O3IgaW5zdGFuY2VvZiBwbiYmci5lcHNpbG9uT25seVRyYW5zaXRpb25zJiZyLnRyYW5zaXRpb25zWzBdLnRhcmdldCBpbnN0YW5jZW9mICQmJihuLmlzUHJlY2VkZW5jZURlY2lzaW9uPSEwKX19fX0se2tleTpcInZlcmlmeUFUTlwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZGVzZXJpYWxpemF0aW9uT3B0aW9ucy52ZXJpZnlBVE4pZm9yKHZhciBlPTA7ZTx0LnN0YXRlcy5sZW5ndGg7ZSsrKXt2YXIgbj10LnN0YXRlc1tlXTtpZihudWxsIT09bilpZih0aGlzLmNoZWNrQ29uZGl0aW9uKG4uZXBzaWxvbk9ubHlUcmFuc2l0aW9uc3x8bi50cmFuc2l0aW9ucy5sZW5ndGg8PTEpLG4gaW5zdGFuY2VvZiBXbil0aGlzLmNoZWNrQ29uZGl0aW9uKG51bGwhPT1uLmxvb3BCYWNrU3RhdGUpO2Vsc2UgaWYobiBpbnN0YW5jZW9mIHpuKWlmKHRoaXMuY2hlY2tDb25kaXRpb24obnVsbCE9PW4ubG9vcEJhY2tTdGF0ZSksdGhpcy5jaGVja0NvbmRpdGlvbigyPT09bi50cmFuc2l0aW9ucy5sZW5ndGgpLG4udHJhbnNpdGlvbnNbMF0udGFyZ2V0IGluc3RhbmNlb2YgdHIpdGhpcy5jaGVja0NvbmRpdGlvbihuLnRyYW5zaXRpb25zWzFdLnRhcmdldCBpbnN0YW5jZW9mIHBuKSx0aGlzLmNoZWNrQ29uZGl0aW9uKCFuLm5vbkdyZWVkeSk7ZWxzZXtpZighKG4udHJhbnNpdGlvbnNbMF0udGFyZ2V0IGluc3RhbmNlb2YgcG4pKXRocm93XCJJbGxlZ2FsU3RhdGVcIjt0aGlzLmNoZWNrQ29uZGl0aW9uKG4udHJhbnNpdGlvbnNbMV0udGFyZ2V0IGluc3RhbmNlb2YgdHIpLHRoaXMuY2hlY2tDb25kaXRpb24obi5ub25HcmVlZHkpfWVsc2UgbiBpbnN0YW5jZW9mIERuPyh0aGlzLmNoZWNrQ29uZGl0aW9uKDE9PT1uLnRyYW5zaXRpb25zLmxlbmd0aCksdGhpcy5jaGVja0NvbmRpdGlvbihuLnRyYW5zaXRpb25zWzBdLnRhcmdldCBpbnN0YW5jZW9mIHpuKSk6biBpbnN0YW5jZW9mIHBuP3RoaXMuY2hlY2tDb25kaXRpb24obnVsbCE9PW4ubG9vcEJhY2tTdGF0ZSk6biBpbnN0YW5jZW9mIG1uP3RoaXMuY2hlY2tDb25kaXRpb24obnVsbCE9PW4uc3RvcFN0YXRlKTpuIGluc3RhbmNlb2YgWmU/dGhpcy5jaGVja0NvbmRpdGlvbihudWxsIT09bi5lbmRTdGF0ZSk6biBpbnN0YW5jZW9mIHVuP3RoaXMuY2hlY2tDb25kaXRpb24obnVsbCE9PW4uc3RhcnRTdGF0ZSk6biBpbnN0YW5jZW9mIEdlP3RoaXMuY2hlY2tDb25kaXRpb24obi50cmFuc2l0aW9ucy5sZW5ndGg8PTF8fG4uZGVjaXNpb24+PTApOnRoaXMuY2hlY2tDb25kaXRpb24obi50cmFuc2l0aW9ucy5sZW5ndGg8PTF8fG4gaW5zdGFuY2VvZiAkKX19fSx7a2V5OlwiY2hlY2tDb25kaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCF0KXRocm93IG51bGw9PWUmJihlPVwiSWxsZWdhbFN0YXRlXCIpLGV9fSx7a2V5OlwicmVhZEludFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YVt0aGlzLnBvcysrXX19LHtrZXk6XCJyZWFkSW50MzJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRJbnQoKXx0aGlzLnJlYWRJbnQoKTw8MTZ9fSx7a2V5OlwiZWRnZUZhY3RvcnlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksdSxjLGEpe3ZhciBsPXQuc3RhdGVzW3JdO3N3aXRjaChlKXtjYXNlIHR0LkVQU0lMT046cmV0dXJuIG5ldyBFcihsKTtjYXNlIHR0LlJBTkdFOnJldHVybiBuZXcgdnIobCwwIT09Yz9vLkVPRjppLHUpO2Nhc2UgdHQuUlVMRTpyZXR1cm4gbmV3IGl0KHQuc3RhdGVzW2ldLHUsYyxsKTtjYXNlIHR0LlBSRURJQ0FURTpyZXR1cm4gbmV3IERyKGwsaSx1LDAhPT1jKTtjYXNlIHR0LlBSRUNFREVOQ0U6cmV0dXJuIG5ldyBZcihsLGkpO2Nhc2UgdHQuQVRPTTpyZXR1cm4gbmV3IGZyKGwsMCE9PWM/by5FT0Y6aSk7Y2FzZSB0dC5BQ1RJT046cmV0dXJuIG5ldyBPcihsLGksdSwwIT09Yyk7Y2FzZSB0dC5TRVQ6cmV0dXJuIG5ldyBzdChsLGFbaV0pO2Nhc2UgdHQuTk9UX1NFVDpyZXR1cm4gbmV3IHZ0KGwsYVtpXSk7Y2FzZSB0dC5XSUxEQ0FSRDpyZXR1cm4gbmV3IE90KGwpO2RlZmF1bHQ6dGhyb3dcIlRoZSBzcGVjaWZpZWQgdHJhbnNpdGlvbiB0eXBlOiBcIitlK1wiIGlzIG5vdCB2YWxpZC5cIn19fSx7a2V5Olwic3RhdGVGYWN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihudWxsPT09dGhpcy5zdGF0ZUZhY3Rvcmllcyl7dmFyIG49W107bltILklOVkFMSURfVFlQRV09bnVsbCxuW0guQkFTSUNdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBWZX0sbltILlJVTEVfU1RBUlRdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtbn0sbltILkJMT0NLX1NUQVJUXT1mdW5jdGlvbigpe3JldHVybiBuZXcgdXJ9LG5bSC5QTFVTX0JMT0NLX1NUQVJUXT1mdW5jdGlvbigpe3JldHVybiBuZXcgV259LG5bSC5TVEFSX0JMT0NLX1NUQVJUXT1mdW5jdGlvbigpe3JldHVybiBuZXcgdHJ9LG5bSC5UT0tFTl9TVEFSVF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFBufSxuW0guUlVMRV9TVE9QXT1mdW5jdGlvbigpe3JldHVybiBuZXcgJH0sbltILkJMT0NLX0VORF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVufSxuW0guU1RBUl9MT09QX0JBQ0tdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEbn0sbltILlNUQVJfTE9PUF9FTlRSWV09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHpufSxuW0guUExVU19MT09QX0JBQ0tdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSbn0sbltILkxPT1BfRU5EXT1mdW5jdGlvbigpe3JldHVybiBuZXcgcG59LHRoaXMuc3RhdGVGYWN0b3JpZXM9bn1pZih0PnRoaXMuc3RhdGVGYWN0b3JpZXMubGVuZ3RofHxudWxsPT09dGhpcy5zdGF0ZUZhY3Rvcmllc1t0XSl0aHJvd1wiVGhlIHNwZWNpZmllZCBzdGF0ZSB0eXBlIFwiK3QrXCIgaXMgbm90IHZhbGlkLlwiO3ZhciByPXRoaXMuc3RhdGVGYWN0b3JpZXNbdF0oKTtpZihudWxsIT09cilyZXR1cm4gci5ydWxlSW5kZXg9ZSxyfX0se2tleTpcImxleGVyQWN0aW9uRmFjdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZihudWxsPT09dGhpcy5hY3Rpb25GYWN0b3JpZXMpe3ZhciByPVtdO3JbMF09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGxvKHQpfSxyWzFdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBobyh0LGUpfSxyWzJdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBVbyh0KX0sclszXT1mdW5jdGlvbih0LGUpe3JldHVybiBTby5JTlNUQU5DRX0scls0XT1mdW5jdGlvbih0LGUpe3JldHVybiBMby5JTlNUQU5DRX0scls1XT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgUm8odCl9LHJbNl09ZnVuY3Rpb24odCxlKXtyZXR1cm4gb28uSU5TVEFOQ0V9LHJbN109ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFRvKHQpfSx0aGlzLmFjdGlvbkZhY3Rvcmllcz1yfWlmKHQ+dGhpcy5hY3Rpb25GYWN0b3JpZXMubGVuZ3RofHxudWxsPT09dGhpcy5hY3Rpb25GYWN0b3JpZXNbdF0pdGhyb3dcIlRoZSBzcGVjaWZpZWQgbGV4ZXIgYWN0aW9uIHR5cGUgXCIrdCtcIiBpcyBub3QgdmFsaWQuXCI7cmV0dXJuIHRoaXMuYWN0aW9uRmFjdG9yaWVzW3RdKGUsbil9fV0sbiYmem8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIEtvKHQpe3JldHVybiBLbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxLbyh0KX1mdW5jdGlvbiBZbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09S28odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09S28ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09S28obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBHbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcInN5bnRheEVycm9yXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe319LHtrZXk6XCJyZXBvcnRBbWJpZ3VpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSx1KXt9fSx7a2V5OlwicmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe319LHtrZXk6XCJyZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7fX1dKSYmWW8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIFdvKHQpe3JldHVybiBXbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxXbyh0KX1mdW5jdGlvbiBYbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09V28odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09V28ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09V28obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uICRvKHQsZSl7cmV0dXJuICRvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sJG8odCxlKX1mdW5jdGlvbiBKbyh0KXtyZXR1cm4gSm89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEpvKHQpfXZhciBRbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmJG8odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1KbyhyKTtpZihvKXt2YXIgbj1Kbyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVdvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMpfXJldHVybiBlPXUsKG49W3trZXk6XCJzeW50YXhFcnJvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXtjb25zb2xlLmVycm9yKFwibGluZSBcIituK1wiOlwiK3IrXCIgXCIrbyl9fV0pJiZYbyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KEdvKTtmdW5jdGlvbiBabyh0KXtyZXR1cm4gWm89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sWm8odCl9ZnVuY3Rpb24gdGkodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVpvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVpvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVpvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBlaSh0LGUpe3JldHVybiBlaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGVpKHQsZSl9ZnVuY3Rpb24gbmkodCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVpvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gcmkodCl9ZnVuY3Rpb24gcmkodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gb2kodCl7cmV0dXJuIG9pPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxvaSh0KX1Rby5JTlNUQU5DRT1uZXcgUW87dmFyIGlpPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZlaSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPW9pKHIpO2lmKG8pe3ZhciBuPW9pKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuaSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtpZihmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksZT1pLmNhbGwodGhpcyksbnVsbD09PXQpdGhyb3dcImRlbGVnYXRlc1wiO3JldHVybiBlLmRlbGVnYXRlcz10LG5pKGUscmkoZSkpfXJldHVybiBlPXUsbj1be2tleTpcInN5bnRheEVycm9yXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe3RoaXMuZGVsZWdhdGVzLm1hcCgoZnVuY3Rpb24odSl7cmV0dXJuIHUuc3ludGF4RXJyb3IodCxlLG4scixvLGkpfSkpfX0se2tleTpcInJlcG9ydEFtYmlndWl0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUpe3RoaXMuZGVsZWdhdGVzLm1hcCgoZnVuY3Rpb24oYyl7cmV0dXJuIGMucmVwb3J0QW1iaWd1aXR5KHQsZSxuLHIsbyxpLHUpfSkpfX0se2tleTpcInJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt0aGlzLmRlbGVnYXRlcy5tYXAoKGZ1bmN0aW9uKHUpe3JldHVybiB1LnJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dCh0LGUsbixyLG8saSl9KSl9fSx7a2V5OlwicmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe3RoaXMuZGVsZWdhdGVzLm1hcCgoZnVuY3Rpb24odSl7cmV0dXJuIHUucmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5KHQsZSxuLHIsbyxpKX0pKX19XSxuJiZ0aShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KEdvKTtmdW5jdGlvbiB1aSh0KXtyZXR1cm4gdWk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdWkodCl9ZnVuY3Rpb24gY2kodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXVpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXVpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXVpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgYWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLl9saXN0ZW5lcnM9W1FvLklOU1RBTkNFXSx0aGlzLl9pbnRlcnA9bnVsbCx0aGlzLl9zdGF0ZU51bWJlcj0tMX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImNoZWNrVmVyc2lvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVwiNC4xMy4wXCI7ZSE9PXQmJmNvbnNvbGUubG9nKFwiQU5UTFIgcnVudGltZSBhbmQgZ2VuZXJhdGVkIGNvZGUgdmVyc2lvbnMgZGlzYWdyZWU6IFwiK2UrXCIhPVwiK3QpfX0se2tleTpcImFkZEVycm9yTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9saXN0ZW5lcnMucHVzaCh0KX19LHtrZXk6XCJyZW1vdmVFcnJvckxpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fbGlzdGVuZXJzPVtdfX0se2tleTpcImdldExpdGVyYWxOYW1lc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvci5saXRlcmFsTmFtZXN8fFtdfX0se2tleTpcImdldFN5bWJvbGljTmFtZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3Iuc3ltYm9saWNOYW1lc3x8W119fSx7a2V5OlwiZ2V0VG9rZW5OYW1lc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMudG9rZW5OYW1lcyl7dmFyIHQ9dGhpcy5nZXRMaXRlcmFsTmFtZXMoKSxlPXRoaXMuZ2V0U3ltYm9saWNOYW1lcygpLG49dC5sZW5ndGg+ZS5sZW5ndGg/dC5sZW5ndGg6ZS5sZW5ndGg7dGhpcy50b2tlbk5hbWVzPVtdO2Zvcih2YXIgcj0wO3I8bjtyKyspdGhpcy50b2tlbk5hbWVzW3JdPXRbcl18fGVbcl18fFwiPElOVkFMSURcIn1yZXR1cm4gdGhpcy50b2tlbk5hbWVzfX0se2tleTpcImdldFRva2VuVHlwZU1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRUb2tlbk5hbWVzKCk7aWYobnVsbD09PXQpdGhyb3dcIlRoZSBjdXJyZW50IHJlY29nbml6ZXIgZG9lcyBub3QgcHJvdmlkZSBhIGxpc3Qgb2YgdG9rZW4gbmFtZXMuXCI7dmFyIGU9dGhpcy50b2tlblR5cGVNYXBDYWNoZVt0XTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW59KSksZS5FT0Y9by5FT0YsdGhpcy50b2tlblR5cGVNYXBDYWNoZVt0XT1lKSxlfX0se2tleTpcImdldFJ1bGVJbmRleE1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ydWxlTmFtZXM7aWYobnVsbD09PXQpdGhyb3dcIlRoZSBjdXJyZW50IHJlY29nbml6ZXIgZG9lcyBub3QgcHJvdmlkZSBhIGxpc3Qgb2YgcnVsZSBuYW1lcy5cIjt2YXIgZT10aGlzLnJ1bGVJbmRleE1hcENhY2hlW3RdO3JldHVybiB2b2lkIDA9PT1lJiYoZT10LnJlZHVjZSgoZnVuY3Rpb24odCxlLG4pe3RbZV09bn0pKSx0aGlzLnJ1bGVJbmRleE1hcENhY2hlW3RdPWUpLGV9fSx7a2V5OlwiZ2V0VG9rZW5UeXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRUb2tlblR5cGVNYXAoKVt0XTtyZXR1cm4gdm9pZCAwIT09ZT9lOm8uSU5WQUxJRF9UWVBFfX0se2tleTpcImdldEVycm9ySGVhZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJsaW5lIFwiK3QuZ2V0T2ZmZW5kaW5nVG9rZW4oKS5saW5lK1wiOlwiK3QuZ2V0T2ZmZW5kaW5nVG9rZW4oKS5jb2x1bW59fSx7a2V5OlwiZ2V0VG9rZW5FcnJvckRpc3BsYXlcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dClyZXR1cm5cIjxubyB0b2tlbj5cIjt2YXIgZT10LnRleHQ7cmV0dXJuIG51bGw9PT1lJiYoZT10LnR5cGU9PT1vLkVPRj9cIjxFT0Y+XCI6XCI8XCIrdC50eXBlK1wiPlwiKSxcIidcIisoZT1lLnJlcGxhY2UoXCJcXG5cIixcIlxcXFxuXCIpLnJlcGxhY2UoXCJcXHJcIixcIlxcXFxyXCIpLnJlcGxhY2UoXCJcXHRcIixcIlxcXFx0XCIpKStcIidcIn19LHtrZXk6XCJnZXRFcnJvckxpc3RlbmVyRGlzcGF0Y2hcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgaWkodGhpcy5fbGlzdGVuZXJzKX19LHtrZXk6XCJzZW1wcmVkXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiEwfX0se2tleTpcInByZWNwcmVkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMH19LHtrZXk6XCJhdG5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJwLmF0bn19LHtrZXk6XCJzdGF0ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZU51bWJlcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3N0YXRlTnVtYmVyPXR9fV0sbiYmY2koZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIGxpKHQpe3JldHVybiBsaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxsaSh0KX1mdW5jdGlvbiBzaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09bGkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09bGkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09bGkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGZpKHQsZSl7cmV0dXJuIGZpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZmkodCxlKX1mdW5jdGlvbiBwaSh0KXtyZXR1cm4gcGk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHBpKHQpfWFpLnRva2VuVHlwZU1hcENhY2hlPXt9LGFpLnJ1bGVJbmRleE1hcENhY2hlPXt9O3ZhciB5aT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZmkodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1waShyKTtpZihpKXt2YXIgbj1waSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWxpKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0LGUsbixyLGkpe3ZhciBhO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKGE9dS5jYWxsKHRoaXMpKS5zb3VyY2U9dm9pZCAwIT09dD90OmMuRU1QVFlfU09VUkNFLGEudHlwZT12b2lkIDAhPT1lP2U6bnVsbCxhLmNoYW5uZWw9dm9pZCAwIT09bj9uOm8uREVGQVVMVF9DSEFOTkVMLGEuc3RhcnQ9dm9pZCAwIT09cj9yOi0xLGEuc3RvcD12b2lkIDAhPT1pP2k6LTEsYS50b2tlbkluZGV4PS0xLG51bGwhPT1hLnNvdXJjZVswXT8oYS5saW5lPXRbMF0ubGluZSxhLmNvbHVtbj10WzBdLmNvbHVtbik6YS5jb2x1bW49LTEsYX1yZXR1cm4gZT1jLChuPVt7a2V5OlwiY2xvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBjKHRoaXMuc291cmNlLHRoaXMudHlwZSx0aGlzLmNoYW5uZWwsdGhpcy5zdGFydCx0aGlzLnN0b3ApO3JldHVybiB0LnRva2VuSW5kZXg9dGhpcy50b2tlbkluZGV4LHQubGluZT10aGlzLmxpbmUsdC5jb2x1bW49dGhpcy5jb2x1bW4sdC50ZXh0PXRoaXMudGV4dCx0fX0se2tleTpcImNsb25lV2l0aFR5cGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgYyh0aGlzLnNvdXJjZSx0LHRoaXMuY2hhbm5lbCx0aGlzLnN0YXJ0LHRoaXMuc3RvcCk7cmV0dXJuIGUudG9rZW5JbmRleD10aGlzLnRva2VuSW5kZXgsZS5saW5lPXRoaXMubGluZSxlLmNvbHVtbj10aGlzLmNvbHVtbix0PT09by5FT0YmJihlLnRleHQ9XCJcIiksZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXh0O3JldHVybiB0PW51bGwhPT10P3QucmVwbGFjZSgvXFxuL2csXCJcXFxcblwiKS5yZXBsYWNlKC9cXHIvZyxcIlxcXFxyXCIpLnJlcGxhY2UoL1xcdC9nLFwiXFxcXHRcIik6XCI8bm8gdGV4dD5cIixcIltAXCIrdGhpcy50b2tlbkluZGV4K1wiLFwiK3RoaXMuc3RhcnQrXCI6XCIrdGhpcy5zdG9wK1wiPSdcIit0K1wiJyw8XCIrdGhpcy50eXBlK1wiPlwiKyh0aGlzLmNoYW5uZWw+MD9cIixjaGFubmVsPVwiK3RoaXMuY2hhbm5lbDpcIlwiKStcIixcIit0aGlzLmxpbmUrXCI6XCIrdGhpcy5jb2x1bW4rXCJdXCJ9fSx7a2V5OlwidGV4dFwiLGdldDpmdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLl90ZXh0KXJldHVybiB0aGlzLl90ZXh0O3ZhciB0PXRoaXMuZ2V0SW5wdXRTdHJlYW0oKTtpZihudWxsPT09dClyZXR1cm4gbnVsbDt2YXIgZT10LnNpemU7cmV0dXJuIHRoaXMuc3RhcnQ8ZSYmdGhpcy5zdG9wPGU/dC5nZXRUZXh0KHRoaXMuc3RhcnQsdGhpcy5zdG9wKTpcIjxFT0Y+XCJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0PXR9fV0pJiZzaShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KG8pO2Z1bmN0aW9uIGhpKHQpe3JldHVybiBoaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxoaSh0KX1mdW5jdGlvbiBiaSh0LGUpe3JldHVybiBiaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGJpKHQsZSl9ZnVuY3Rpb24gdmkodCl7cmV0dXJuIHZpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx2aSh0KX1mdW5jdGlvbiBkaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09aGkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09aGkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09aGkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIG1pKHQsZSxuKXtyZXR1cm4gZSYmZGkodC5wcm90b3R5cGUsZSksbiYmZGkodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gZ2kodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXlpLkVNUFRZX1NPVVJDRT1bbnVsbCxudWxsXTt2YXIgU2k9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmJpKHQsZSl9KG8sdCk7dmFyIGUsbixyPShlPW8sbj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQscj12aShlKTtpZihuKXt2YXIgbz12aSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KHIsYXJndW1lbnRzLG8pfWVsc2UgdD1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWhpKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gbyh0KXt2YXIgZTtyZXR1cm4gZ2kodGhpcyxvKSwoZT1yLmNhbGwodGhpcykpLmNvcHlUZXh0PXZvaWQgMCE9PXQmJnQsZX1yZXR1cm4gbWkobyxbe2tleTpcImNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUsYyl7dmFyIGE9bmV3IHlpKHQsZSxyLG8saSk7cmV0dXJuIGEubGluZT11LGEuY29sdW1uPWMsbnVsbCE9PW4/YS50ZXh0PW46dGhpcy5jb3B5VGV4dCYmbnVsbCE9PXRbMV0mJihhLnRleHQ9dFsxXS5nZXRUZXh0KG8saSkpLGF9fSx7a2V5OlwiY3JlYXRlVGhpblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHlpKG51bGwsdCk7cmV0dXJuIG4udGV4dD1lLG59fV0pLG99KG1pKChmdW5jdGlvbiB0KCl7Z2kodGhpcyx0KX0pKSk7ZnVuY3Rpb24gT2kodCl7cmV0dXJuIE9pPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE9pKHQpfWZ1bmN0aW9uIHdpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1PaSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1PaShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1PaShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gX2kodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gUGkodCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwP25ldyBNYXA6dm9pZCAwO3JldHVybiBQaT1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8KG49dCwtMT09PUZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwobikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikpKXJldHVybiB0O3ZhciBuO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2lmKHZvaWQgMCE9PWUpe2lmKGUuaGFzKHQpKXJldHVybiBlLmdldCh0KTtlLnNldCh0LHIpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gVGkodCxhcmd1bWVudHMsamkodGhpcykuY29uc3RydWN0b3IpfXJldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6cixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxraShyLHQpfSxQaSh0KX1mdW5jdGlvbiBUaSh0LGUsbil7cmV0dXJuIFRpPUVpKCk/UmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bbnVsbF07ci5wdXNoLmFwcGx5KHIsZSk7dmFyIG89bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkodCxyKSk7cmV0dXJuIG4mJmtpKG8sbi5wcm90b3R5cGUpLG99LFRpLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBFaSgpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIGtpKHQsZSl7cmV0dXJuIGtpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sa2kodCxlKX1mdW5jdGlvbiBqaSh0KXtyZXR1cm4gamk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGppKHQpfVNpLkRFRkFVTFQ9bmV3IFNpO3ZhciB4aT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYma2kodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1FaSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1qaShyKTtpZihvKXt2YXIgbj1qaSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PU9pKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gX2kodCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksZT1pLmNhbGwodGhpcyx0Lm1lc3NhZ2UpLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShfaShlKSx1KSxlLm1lc3NhZ2U9dC5tZXNzYWdlLGUucmVjb2duaXplcj10LnJlY29nbml6ZXIsZS5pbnB1dD10LmlucHV0LGUuY3R4PXQuY3R4LGUub2ZmZW5kaW5nVG9rZW49bnVsbCxlLm9mZmVuZGluZ1N0YXRlPS0xLG51bGwhPT1lLnJlY29nbml6ZXImJihlLm9mZmVuZGluZ1N0YXRlPWUucmVjb2duaXplci5zdGF0ZSksZX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZ2V0RXhwZWN0ZWRUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5yZWNvZ25pemVyP3RoaXMucmVjb2duaXplci5hdG4uZ2V0RXhwZWN0ZWRUb2tlbnModGhpcy5vZmZlbmRpbmdTdGF0ZSx0aGlzLmN0eCk6bnVsbH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVzc2FnZX19XSkmJndpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oUGkoRXJyb3IpKTtmdW5jdGlvbiBSaSh0KXtyZXR1cm4gUmk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sUmkodCl9ZnVuY3Rpb24gQ2kodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVJpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVJpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVJpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBBaSh0LGUpe3JldHVybiBBaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEFpKHQsZSl9ZnVuY3Rpb24gTmkodCl7cmV0dXJuIE5pPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxOaSh0KX12YXIgSWk9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkFpKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Tmkocik7aWYobyl7dmFyIG49TmkodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1SaShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlLG4scil7dmFyIG87cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobz1pLmNhbGwodGhpcyx7bWVzc2FnZTpcIlwiLHJlY29nbml6ZXI6dCxpbnB1dDplLGN0eDpudWxsfSkpLnN0YXJ0SW5kZXg9bixvLmRlYWRFbmRDb25maWdzPXIsb31yZXR1cm4gZT11LChuPVt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVwiXCI7cmV0dXJuIHRoaXMuc3RhcnRJbmRleD49MCYmdGhpcy5zdGFydEluZGV4PHRoaXMuaW5wdXQuc2l6ZSYmKHQ9dGhpcy5pbnB1dC5nZXRUZXh0KG5ldyBCKHRoaXMuc3RhcnRJbmRleCx0aGlzLnN0YXJ0SW5kZXgpKSksXCJMZXhlck5vVmlhYmxlQWx0RXhjZXB0aW9uXCIrdH19XSkmJkNpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oeGkpO2Z1bmN0aW9uIExpKHQpe3JldHVybiBMaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxMaSh0KX1mdW5jdGlvbiBEaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09TGkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09TGkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09TGkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEZpKHQsZSl7cmV0dXJuIEZpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sRmkodCxlKX1mdW5jdGlvbiBCaSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBNaSh0KXtyZXR1cm4gTWk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE1pKHQpfXZhciBVaT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmRmkodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1NaShyKTtpZihpKXt2YXIgbj1NaSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUxpKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gQmkodCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKGU9dS5jYWxsKHRoaXMpKS5faW5wdXQ9dCxlLl9mYWN0b3J5PVNpLkRFRkFVTFQsZS5fdG9rZW5GYWN0b3J5U291cmNlUGFpcj1bQmkoZSksdF0sZS5faW50ZXJwPW51bGwsZS5fdG9rZW49bnVsbCxlLl90b2tlblN0YXJ0Q2hhckluZGV4PS0xLGUuX3Rva2VuU3RhcnRMaW5lPS0xLGUuX3Rva2VuU3RhcnRDb2x1bW49LTEsZS5faGl0RU9GPSExLGUuX2NoYW5uZWw9by5ERUZBVUxUX0NIQU5ORUwsZS5fdHlwZT1vLklOVkFMSURfVFlQRSxlLl9tb2RlU3RhY2s9W10sZS5fbW9kZT1jLkRFRkFVTFRfTU9ERSxlLl90ZXh0PW51bGwsZX1yZXR1cm4gZT1jLG49W3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuX2lucHV0JiZ0aGlzLl9pbnB1dC5zZWVrKDApLHRoaXMuX3Rva2VuPW51bGwsdGhpcy5fdHlwZT1vLklOVkFMSURfVFlQRSx0aGlzLl9jaGFubmVsPW8uREVGQVVMVF9DSEFOTkVMLHRoaXMuX3Rva2VuU3RhcnRDaGFySW5kZXg9LTEsdGhpcy5fdG9rZW5TdGFydENvbHVtbj0tMSx0aGlzLl90b2tlblN0YXJ0TGluZT0tMSx0aGlzLl90ZXh0PW51bGwsdGhpcy5faGl0RU9GPSExLHRoaXMuX21vZGU9Yy5ERUZBVUxUX01PREUsdGhpcy5fbW9kZVN0YWNrPVtdLHRoaXMuX2ludGVycC5yZXNldCgpfX0se2tleTpcIm5leHRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuX2lucHV0KXRocm93XCJuZXh0VG9rZW4gcmVxdWlyZXMgYSBub24tbnVsbCBpbnB1dCBzdHJlYW0uXCI7dmFyIHQ9dGhpcy5faW5wdXQubWFyaygpO3RyeXtmb3IoOzspe2lmKHRoaXMuX2hpdEVPRilyZXR1cm4gdGhpcy5lbWl0RU9GKCksdGhpcy5fdG9rZW47dGhpcy5fdG9rZW49bnVsbCx0aGlzLl9jaGFubmVsPW8uREVGQVVMVF9DSEFOTkVMLHRoaXMuX3Rva2VuU3RhcnRDaGFySW5kZXg9dGhpcy5faW5wdXQuaW5kZXgsdGhpcy5fdG9rZW5TdGFydENvbHVtbj10aGlzLl9pbnRlcnAuY29sdW1uLHRoaXMuX3Rva2VuU3RhcnRMaW5lPXRoaXMuX2ludGVycC5saW5lLHRoaXMuX3RleHQ9bnVsbDtmb3IodmFyIGU9ITE7Oyl7dGhpcy5fdHlwZT1vLklOVkFMSURfVFlQRTt2YXIgbj1jLlNLSVA7dHJ5e249dGhpcy5faW50ZXJwLm1hdGNoKHRoaXMuX2lucHV0LHRoaXMuX21vZGUpfWNhdGNoKHQpe2lmKCEodCBpbnN0YW5jZW9mIHhpKSl0aHJvdyBjb25zb2xlLmxvZyh0LnN0YWNrKSx0O3RoaXMubm90aWZ5TGlzdGVuZXJzKHQpLHRoaXMucmVjb3Zlcih0KX1pZih0aGlzLl9pbnB1dC5MQSgxKT09PW8uRU9GJiYodGhpcy5faGl0RU9GPSEwKSx0aGlzLl90eXBlPT09by5JTlZBTElEX1RZUEUmJih0aGlzLl90eXBlPW4pLHRoaXMuX3R5cGU9PT1jLlNLSVApe2U9ITA7YnJlYWt9aWYodGhpcy5fdHlwZSE9PWMuTU9SRSlicmVha31pZighZSlyZXR1cm4gbnVsbD09PXRoaXMuX3Rva2VuJiZ0aGlzLmVtaXQoKSx0aGlzLl90b2tlbn19ZmluYWxseXt0aGlzLl9pbnB1dC5yZWxlYXNlKHQpfX19LHtrZXk6XCJza2lwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90eXBlPWMuU0tJUH19LHtrZXk6XCJtb3JlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl90eXBlPWMuTU9SRX19LHtrZXk6XCJtb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbW9kZT10fX0se2tleTpcInB1c2hNb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJwLmRlYnVnJiZjb25zb2xlLmxvZyhcInB1c2hNb2RlIFwiK3QpLHRoaXMuX21vZGVTdGFjay5wdXNoKHRoaXMuX21vZGUpLHRoaXMubW9kZSh0KX19LHtrZXk6XCJwb3BNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5fbW9kZVN0YWNrLmxlbmd0aCl0aHJvd1wiRW1wdHkgU3RhY2tcIjtyZXR1cm4gdGhpcy5faW50ZXJwLmRlYnVnJiZjb25zb2xlLmxvZyhcInBvcE1vZGUgYmFjayB0byBcIit0aGlzLl9tb2RlU3RhY2suc2xpY2UoMCwtMSkpLHRoaXMubW9kZSh0aGlzLl9tb2RlU3RhY2sucG9wKCkpLHRoaXMuX21vZGV9fSx7a2V5OlwiZW1pdFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fdG9rZW49dH19LHtrZXk6XCJlbWl0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9mYWN0b3J5LmNyZWF0ZSh0aGlzLl90b2tlbkZhY3RvcnlTb3VyY2VQYWlyLHRoaXMuX3R5cGUsdGhpcy5fdGV4dCx0aGlzLl9jaGFubmVsLHRoaXMuX3Rva2VuU3RhcnRDaGFySW5kZXgsdGhpcy5nZXRDaGFySW5kZXgoKS0xLHRoaXMuX3Rva2VuU3RhcnRMaW5lLHRoaXMuX3Rva2VuU3RhcnRDb2x1bW4pO3JldHVybiB0aGlzLmVtaXRUb2tlbih0KSx0fX0se2tleTpcImVtaXRFT0ZcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29sdW1uLGU9dGhpcy5saW5lLG49dGhpcy5fZmFjdG9yeS5jcmVhdGUodGhpcy5fdG9rZW5GYWN0b3J5U291cmNlUGFpcixvLkVPRixudWxsLG8uREVGQVVMVF9DSEFOTkVMLHRoaXMuX2lucHV0LmluZGV4LHRoaXMuX2lucHV0LmluZGV4LTEsZSx0KTtyZXR1cm4gdGhpcy5lbWl0VG9rZW4obiksbn19LHtrZXk6XCJnZXRDaGFySW5kZXhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dC5pbmRleH19LHtrZXk6XCJnZXRBbGxUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMubmV4dFRva2VuKCk7ZS50eXBlIT09by5FT0Y7KXQucHVzaChlKSxlPXRoaXMubmV4dFRva2VuKCk7cmV0dXJuIHR9fSx7a2V5Olwibm90aWZ5TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdG9rZW5TdGFydENoYXJJbmRleCxuPXRoaXMuX2lucHV0LmluZGV4LHI9dGhpcy5faW5wdXQuZ2V0VGV4dChlLG4pLG89XCJ0b2tlbiByZWNvZ25pdGlvbiBlcnJvciBhdDogJ1wiK3RoaXMuZ2V0RXJyb3JEaXNwbGF5KHIpK1wiJ1wiO3RoaXMuZ2V0RXJyb3JMaXN0ZW5lckRpc3BhdGNoKCkuc3ludGF4RXJyb3IodGhpcyxudWxsLHRoaXMuX3Rva2VuU3RhcnRMaW5lLHRoaXMuX3Rva2VuU3RhcnRDb2x1bW4sbyx0KX19LHtrZXk6XCJnZXRFcnJvckRpc3BsYXlcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7bisrKWUucHVzaCh0W25dKTtyZXR1cm4gZS5qb2luKFwiXCIpfX0se2tleTpcImdldEVycm9yRGlzcGxheUZvckNoYXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGFyQ29kZUF0KDApPT09by5FT0Y/XCI8RU9GPlwiOlwiXFxuXCI9PT10P1wiXFxcXG5cIjpcIlxcdFwiPT09dD9cIlxcXFx0XCI6XCJcXHJcIj09PXQ/XCJcXFxcclwiOnR9fSx7a2V5OlwiZ2V0Q2hhckVycm9yRGlzcGxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwiJ1wiK3RoaXMuZ2V0RXJyb3JEaXNwbGF5Rm9yQ2hhcih0KStcIidcIn19LHtrZXk6XCJyZWNvdmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXQuTEEoMSkhPT1vLkVPRiYmKHQgaW5zdGFuY2VvZiBJaT90aGlzLl9pbnRlcnAuY29uc3VtZSh0aGlzLl9pbnB1dCk6dGhpcy5faW5wdXQuY29uc3VtZSgpKX19LHtrZXk6XCJpbnB1dFN0cmVhbVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lucHV0PW51bGwsdGhpcy5fdG9rZW5GYWN0b3J5U291cmNlUGFpcj1bdGhpcyx0aGlzLl9pbnB1dF0sdGhpcy5yZXNldCgpLHRoaXMuX2lucHV0PXQsdGhpcy5fdG9rZW5GYWN0b3J5U291cmNlUGFpcj1bdGhpcyx0aGlzLl9pbnB1dF19fSx7a2V5Olwic291cmNlTmFtZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dC5zb3VyY2VOYW1lfX0se2tleTpcInR5cGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3R5cGU9dH19LHtrZXk6XCJsaW5lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVycC5saW5lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJwLmxpbmU9dH19LHtrZXk6XCJjb2x1bW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJwLmNvbHVtbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVycC5jb2x1bW49dH19LHtrZXk6XCJ0ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLl90ZXh0P3RoaXMuX3RleHQ6dGhpcy5faW50ZXJwLmdldFRleHQodGhpcy5faW5wdXQpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dD10fX1dLG4mJkRpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30oYWkpO2Z1bmN0aW9uIFZpKHQpe3JldHVybiBWaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxWaSh0KX1mdW5jdGlvbiB6aSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09VmkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09VmkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Vmkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHFpKHQpe3JldHVybiB0Lmhhc2hDb2RlRm9yQ29uZmlnU2V0KCl9ZnVuY3Rpb24gSGkodCxlKXtyZXR1cm4gdD09PWV8fG51bGwhPT10JiZudWxsIT09ZSYmdC5lcXVhbHNGb3JDb25maWdTZXQoZSl9VWkuREVGQVVMVF9NT0RFPTAsVWkuTU9SRT0tMixVaS5TS0lQPS0zLFVpLkRFRkFVTFRfVE9LRU5fQ0hBTk5FTD1vLkRFRkFVTFRfQ0hBTk5FTCxVaS5ISURERU49by5ISURERU5fQ0hBTk5FTCxVaS5NSU5fQ0hBUl9WQUxVRT0wLFVpLk1BWF9DSEFSX1ZBTFVFPTExMTQxMTE7dmFyIEtpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY29uZmlnTG9va3VwPW5ldyBnKHFpLEhpKSx0aGlzLmZ1bGxDdHg9dm9pZCAwPT09ZXx8ZSx0aGlzLnJlYWRPbmx5PSExLHRoaXMuY29uZmlncz1bXSx0aGlzLnVuaXF1ZUFsdD0wLHRoaXMuY29uZmxpY3RpbmdBbHRzPW51bGwsdGhpcy5oYXNTZW1hbnRpY0NvbnRleHQ9ITEsdGhpcy5kaXBzSW50b091dGVyQ29udGV4dD0hMSx0aGlzLmNhY2hlZEhhc2hDb2RlPS0xfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT1udWxsKSx0aGlzLnJlYWRPbmx5KXRocm93XCJUaGlzIHNldCBpcyByZWFkb25seVwiO3Quc2VtYW50aWNDb250ZXh0IT09ai5OT05FJiYodGhpcy5oYXNTZW1hbnRpY0NvbnRleHQ9ITApLHQucmVhY2hlc0ludG9PdXRlckNvbnRleHQ+MCYmKHRoaXMuZGlwc0ludG9PdXRlckNvbnRleHQ9ITApO3ZhciBuPXRoaXMuY29uZmlnTG9va3VwLmFkZCh0KTtpZihuPT09dClyZXR1cm4gdGhpcy5jYWNoZWRIYXNoQ29kZT0tMSx0aGlzLmNvbmZpZ3MucHVzaCh0KSwhMDt2YXIgcj0hdGhpcy5mdWxsQ3R4LG89amUobi5jb250ZXh0LHQuY29udGV4dCxyLGUpO3JldHVybiBuLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PU1hdGgubWF4KG4ucmVhY2hlc0ludG9PdXRlckNvbnRleHQsdC5yZWFjaGVzSW50b091dGVyQ29udGV4dCksdC5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZCYmKG4ucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWQ9ITApLG4uY29udGV4dD1vLCEwfX0se2tleTpcImdldFN0YXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBnLGU9MDtlPHRoaXMuY29uZmlncy5sZW5ndGg7ZSsrKXQuYWRkKHRoaXMuY29uZmlnc1tlXS5zdGF0ZSk7cmV0dXJuIHR9fSx7a2V5OlwiZ2V0UHJlZGljYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuY29uZmlncy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmNvbmZpZ3NbZV0uc2VtYW50aWNDb250ZXh0O24hPT1qLk5PTkUmJnQucHVzaChuLnNlbWFudGljQ29udGV4dCl9cmV0dXJuIHR9fSx7a2V5Olwib3B0aW1pemVDb25maWdzXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5yZWFkT25seSl0aHJvd1wiVGhpcyBzZXQgaXMgcmVhZG9ubHlcIjtpZigwIT09dGhpcy5jb25maWdMb29rdXAubGVuZ3RoKWZvcih2YXIgZT0wO2U8dGhpcy5jb25maWdzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuY29uZmlnc1tlXTtuLmNvbnRleHQ9dC5nZXRDYWNoZWRDb250ZXh0KG4uY29udGV4dCl9fX0se2tleTpcImFkZEFsbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMuYWRkKHRbZV0pO3JldHVybiExfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzPT09ZXx8ZSBpbnN0YW5jZW9mIHQmJmkodGhpcy5jb25maWdzLGUuY29uZmlncykmJnRoaXMuZnVsbEN0eD09PWUuZnVsbEN0eCYmdGhpcy51bmlxdWVBbHQ9PT1lLnVuaXF1ZUFsdCYmdGhpcy5jb25mbGljdGluZ0FsdHM9PT1lLmNvbmZsaWN0aW5nQWx0cyYmdGhpcy5oYXNTZW1hbnRpY0NvbnRleHQ9PT1lLmhhc1NlbWFudGljQ29udGV4dCYmdGhpcy5kaXBzSW50b091dGVyQ29udGV4dD09PWUuZGlwc0ludG9PdXRlckNvbnRleHR9fSx7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBmO3JldHVybiB0LnVwZGF0ZSh0aGlzLmNvbmZpZ3MpLHQuZmluaXNoKCl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWRPbmx5PygtMT09PXRoaXMuY2FjaGVkSGFzaENvZGUmJih0aGlzLmNhY2hlZEhhc2hDb2RlPXRoaXMuaGFzaENvZGUoKSksdC51cGRhdGUodGhpcy5jYWNoZWRIYXNoQ29kZSkpOnQudXBkYXRlKHRoaXMuaGFzaENvZGUoKSl9fSx7a2V5OlwiaXNFbXB0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmNvbmZpZ3MubGVuZ3RofX0se2tleTpcImNvbnRhaW5zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXRoaXMuY29uZmlnTG9va3VwKXRocm93XCJUaGlzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIHJlYWRvbmx5IHNldHMuXCI7cmV0dXJuIHRoaXMuY29uZmlnTG9va3VwLmNvbnRhaW5zKHQpfX0se2tleTpcImNvbnRhaW5zRmFzdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLmNvbmZpZ0xvb2t1cCl0aHJvd1wiVGhpcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkIGZvciByZWFkb25seSBzZXRzLlwiO3JldHVybiB0aGlzLmNvbmZpZ0xvb2t1cC5jb250YWluc0Zhc3QodCl9fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMucmVhZE9ubHkpdGhyb3dcIlRoaXMgc2V0IGlzIHJlYWRvbmx5XCI7dGhpcy5jb25maWdzPVtdLHRoaXMuY2FjaGVkSGFzaENvZGU9LTEsdGhpcy5jb25maWdMb29rdXA9bmV3IGd9fSx7a2V5Olwic2V0UmVhZG9ubHlcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWRPbmx5PXQsdCYmKHRoaXMuY29uZmlnTG9va3VwPW51bGwpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gYih0aGlzLmNvbmZpZ3MpKyh0aGlzLmhhc1NlbWFudGljQ29udGV4dD9cIixoYXNTZW1hbnRpY0NvbnRleHQ9XCIrdGhpcy5oYXNTZW1hbnRpY0NvbnRleHQ6XCJcIikrKHRoaXMudW5pcXVlQWx0IT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSP1wiLHVuaXF1ZUFsdD1cIit0aGlzLnVuaXF1ZUFsdDpcIlwiKSsobnVsbCE9PXRoaXMuY29uZmxpY3RpbmdBbHRzP1wiLGNvbmZsaWN0aW5nQWx0cz1cIit0aGlzLmNvbmZsaWN0aW5nQWx0czpcIlwiKSsodGhpcy5kaXBzSW50b091dGVyQ29udGV4dD9cIixkaXBzSW50b091dGVyQ29udGV4dFwiOlwiXCIpfX0se2tleTpcIml0ZW1zXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnc319LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWdzLmxlbmd0aH19XSxuJiZ6aShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gWWkodCl7cmV0dXJuIFlpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFlpKHQpfWZ1bmN0aW9uIEdpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1ZaSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1ZaShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1ZaShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIFdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksbnVsbD09PWUmJihlPS0xKSxudWxsPT09biYmKG49bmV3IEtpKSx0aGlzLnN0YXRlTnVtYmVyPWUsdGhpcy5jb25maWdzPW4sdGhpcy5lZGdlcz1udWxsLHRoaXMuaXNBY2NlcHRTdGF0ZT0hMSx0aGlzLnByZWRpY3Rpb249MCx0aGlzLmxleGVyQWN0aW9uRXhlY3V0b3I9bnVsbCx0aGlzLnJlcXVpcmVzRnVsbENvbnRleHQ9ITEsdGhpcy5wcmVkaWNhdGVzPW51bGwsdGhpc312YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImdldEFsdFNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGc7aWYobnVsbCE9PXRoaXMuY29uZmlncylmb3IodmFyIGU9MDtlPHRoaXMuY29uZmlncy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmNvbmZpZ3NbZV07dC5hZGQobi5hbHQpfXJldHVybiAwPT09dC5sZW5ndGg/bnVsbDp0fX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzPT09ZXx8ZSBpbnN0YW5jZW9mIHQmJnRoaXMuY29uZmlncy5lcXVhbHMoZS5jb25maWdzKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZU51bWJlcitcIjpcIit0aGlzLmNvbmZpZ3M7cmV0dXJuIHRoaXMuaXNBY2NlcHRTdGF0ZSYmKHQrPVwiPT5cIixudWxsIT09dGhpcy5wcmVkaWNhdGVzP3QrPXRoaXMucHJlZGljYXRlczp0Kz10aGlzLnByZWRpY3Rpb24pLHR9fSx7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBmO3JldHVybiB0LnVwZGF0ZSh0aGlzLmNvbmZpZ3MpLHQuZmluaXNoKCl9fV0sbiYmR2koZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIFhpKHQpe3JldHVybiBYaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxYaSh0KX1mdW5jdGlvbiAkaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09WGkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09WGkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09WGkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBKaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuYXRuPWUsdGhpcy5zaGFyZWRDb250ZXh0Q2FjaGU9bix0aGlzfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiZ2V0Q2FjaGVkQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLnNoYXJlZENvbnRleHRDYWNoZSlyZXR1cm4gdDt2YXIgZT1uZXcgVGU7cmV0dXJuIGtlKHQsdGhpcy5zaGFyZWRDb250ZXh0Q2FjaGUsZSl9fV0sbiYmJGkoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIFFpKHQpe3JldHVybiBRaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxRaSh0KX1mdW5jdGlvbiBaaSh0LGUpe3JldHVybiBaaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFppKHQsZSl9ZnVuY3Rpb24gdHUodCl7cmV0dXJuIHR1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx0dSh0KX1KaS5FUlJPUj1uZXcgV2koMjE0NzQ4MzY0NyxuZXcgS2kpO3ZhciBldT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmWmkodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9dHUobik7aWYocil7dmFyIG89dHUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1RaShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuY29uZmlnTG9va3VwPW5ldyBnLHR9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEtpKTtmdW5jdGlvbiBudSh0KXtyZXR1cm4gbnU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbnUodCl9ZnVuY3Rpb24gcnUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PW51KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PW51KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PW51KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBvdSgpe3JldHVybiBvdT1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9YXUodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSxvdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaXUodCxlKXtyZXR1cm4gaXU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxpdSh0LGUpfWZ1bmN0aW9uIHV1KHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1udShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGN1KHQpfWZ1bmN0aW9uIGN1KHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIGF1KHQpe3JldHVybiBhdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sYXUodCl9dmFyIGx1PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZpdSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWF1KHIpO2lmKG8pe3ZhciBuPWF1KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1dSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuOyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksbj1pLmNhbGwodGhpcyx0LGUpO3ZhciByPXQubGV4ZXJBY3Rpb25FeGVjdXRvcnx8bnVsbDtyZXR1cm4gbi5sZXhlckFjdGlvbkV4ZWN1dG9yPXJ8fChudWxsIT09ZT9lLmxleGVyQWN0aW9uRXhlY3V0b3I6bnVsbCksbi5wYXNzZWRUaHJvdWdoTm9uR3JlZWR5RGVjaXNpb249bnVsbCE9PWUmJm4uY2hlY2tOb25HcmVlZHlEZWNpc2lvbihlLG4uc3RhdGUpLG4uaGFzaENvZGVGb3JDb25maWdTZXQ9dS5wcm90b3R5cGUuaGFzaENvZGUsbi5lcXVhbHNGb3JDb25maWdTZXQ9dS5wcm90b3R5cGUuZXF1YWxzLHV1KG4sY3UobikpfXJldHVybiBlPXUsKG49W3trZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuc3RhdGUuc3RhdGVOdW1iZXIsdGhpcy5hbHQsdGhpcy5jb250ZXh0LHRoaXMuc2VtYW50aWNDb250ZXh0LHRoaXMucGFzc2VkVGhyb3VnaE5vbkdyZWVkeURlY2lzaW9uLHRoaXMubGV4ZXJBY3Rpb25FeGVjdXRvcil9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5wYXNzZWRUaHJvdWdoTm9uR3JlZWR5RGVjaXNpb249PT10LnBhc3NlZFRocm91Z2hOb25HcmVlZHlEZWNpc2lvbiYmKHRoaXMubGV4ZXJBY3Rpb25FeGVjdXRvcj90aGlzLmxleGVyQWN0aW9uRXhlY3V0b3IuZXF1YWxzKHQubGV4ZXJBY3Rpb25FeGVjdXRvcik6IXQubGV4ZXJBY3Rpb25FeGVjdXRvcikmJm91KGF1KHUucHJvdG90eXBlKSxcImVxdWFsc1wiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtrZXk6XCJjaGVja05vbkdyZWVkeURlY2lzaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wYXNzZWRUaHJvdWdoTm9uR3JlZWR5RGVjaXNpb258fGUgaW5zdGFuY2VvZiBHZSYmZS5ub25HcmVlZHl9fV0pJiZydShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KEwpO2Z1bmN0aW9uIHN1KHQpe3JldHVybiBzdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxzdSh0KX1mdW5jdGlvbiBmdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09c3UodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09c3UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09c3Uobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHB1KHQsZSl7cmV0dXJuIHB1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scHUodCxlKX1mdW5jdGlvbiB5dSh0KXtyZXR1cm4geXU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHl1KHQpfXZhciBodT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmcHUodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT15dShyKTtpZihvKXt2YXIgbj15dSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXN1KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMsZS5hY3Rpb25UeXBlKSkub2Zmc2V0PXQsbi5hY3Rpb249ZSxuLmlzUG9zaXRpb25EZXBlbmRlbnQ9ITAsbn1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuYWN0aW9uLmV4ZWN1dGUodCl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmFjdGlvblR5cGUsdGhpcy5vZmZzZXQsdGhpcy5hY3Rpb24pfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMub2Zmc2V0PT09dC5vZmZzZXQmJnRoaXMuYWN0aW9uPT09dC5hY3Rpb259fV0pJiZmdShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBidSh0KXtyZXR1cm4gYnU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sYnUodCl9ZnVuY3Rpb24gdnUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWJ1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWJ1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWJ1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgZHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5sZXhlckFjdGlvbnM9bnVsbD09PWU/W106ZSx0aGlzLmNhY2hlZEhhc2hDb2RlPWYuaGFzaFN0dWZmKGUpLHRoaXN9dmFyIGUsbixyO3JldHVybiBlPXQsbj1be2tleTpcImZpeE9mZnNldEJlZm9yZU1hdGNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPW51bGwscj0wO3I8dGhpcy5sZXhlckFjdGlvbnMubGVuZ3RoO3IrKykhdGhpcy5sZXhlckFjdGlvbnNbcl0uaXNQb3NpdGlvbkRlcGVuZGVudHx8dGhpcy5sZXhlckFjdGlvbnNbcl1pbnN0YW5jZW9mIGh1fHwobnVsbD09PW4mJihuPXRoaXMubGV4ZXJBY3Rpb25zLmNvbmNhdChbXSkpLG5bcl09bmV3IGh1KGUsdGhpcy5sZXhlckFjdGlvbnNbcl0pKTtyZXR1cm4gbnVsbD09PW4/dGhpczpuZXcgdChuKX19LHtrZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPSExLG89ZS5pbmRleDt0cnl7Zm9yKHZhciBpPTA7aTx0aGlzLmxleGVyQWN0aW9ucy5sZW5ndGg7aSsrKXt2YXIgdT10aGlzLmxleGVyQWN0aW9uc1tpXTtpZih1IGluc3RhbmNlb2YgaHUpe3ZhciBjPXUub2Zmc2V0O2Uuc2VlayhuK2MpLHU9dS5hY3Rpb24scj1uK2MhPT1vfWVsc2UgdS5pc1Bvc2l0aW9uRGVwZW5kZW50JiYoZS5zZWVrKG8pLHI9ITEpO3UuZXhlY3V0ZSh0KX19ZmluYWxseXtyJiZlLnNlZWsobyl9fX0se2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZWRIYXNoQ29kZX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuY2FjaGVkSGFzaENvZGUpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXM9PT1lKXJldHVybiEwO2lmKGUgaW5zdGFuY2VvZiB0KXtpZih0aGlzLmNhY2hlZEhhc2hDb2RlIT1lLmNhY2hlZEhhc2hDb2RlKXJldHVybiExO2lmKHRoaXMubGV4ZXJBY3Rpb25zLmxlbmd0aCE9ZS5sZXhlckFjdGlvbnMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj10aGlzLmxleGVyQWN0aW9ucy5sZW5ndGgscj0wO3I8bjsrK3IpaWYoIXRoaXMubGV4ZXJBY3Rpb25zW3JdLmVxdWFscyhlLmxleGVyQWN0aW9uc1tyXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9fV0scj1be2tleTpcImFwcGVuZFwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIG5ldyB0KG51bGw9PT1lP1tuXTplLmxleGVyQWN0aW9ucy5jb25jYXQoW25dKSl9fV0sbiYmdnUoZS5wcm90b3R5cGUsbiksciYmdnUoZSxyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gbXUodCxlKXtyZXR1cm4gbXU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxtdSh0LGUpfWZ1bmN0aW9uIGd1KHQpe3JldHVybiBndT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sZ3UodCl9ZnVuY3Rpb24gU3UodCl7cmV0dXJuIFN1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFN1KHQpfWZ1bmN0aW9uIE91KHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiB3dSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09U3UodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09U3UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09U3Uobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIF91KHQsZSxuKXtyZXR1cm4gZSYmd3UodC5wcm90b3R5cGUsZSksbiYmd3UodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gUHUodCl7dC5pbmRleD0tMSx0LmxpbmU9MCx0LmNvbHVtbj0tMSx0LmRmYVN0YXRlPW51bGx9dmFyIFR1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe091KHRoaXMsdCksUHUodGhpcyl9cmV0dXJuIF91KHQsW3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7UHUodGhpcyl9fV0pLHR9KCksRXU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJm11KHQsZSl9KGksdCk7dmFyIGUsbixyPShlPWksbj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQscj1ndShlKTtpZihuKXt2YXIgbz1ndSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KHIsYXJndW1lbnRzLG8pfWVsc2UgdD1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVN1KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSh0LGUsbixvKXt2YXIgdTtyZXR1cm4gT3UodGhpcyxpKSwodT1yLmNhbGwodGhpcyxlLG8pKS5kZWNpc2lvblRvREZBPW4sdS5yZWNvZz10LHUuc3RhcnRJbmRleD0tMSx1LmxpbmU9MSx1LmNvbHVtbj0wLHUubW9kZT1VaS5ERUZBVUxUX01PREUsdS5wcmV2QWNjZXB0PW5ldyBUdSx1fXJldHVybiBfdShpLFt7a2V5OlwiY29weVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jb2x1bW49dC5jb2x1bW4sdGhpcy5saW5lPXQubGluZSx0aGlzLm1vZGU9dC5tb2RlLHRoaXMuc3RhcnRJbmRleD10LnN0YXJ0SW5kZXh9fSx7a2V5OlwibWF0Y2hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubW9kZT1lO3ZhciBuPXQubWFyaygpO3RyeXt0aGlzLnN0YXJ0SW5kZXg9dC5pbmRleCx0aGlzLnByZXZBY2NlcHQucmVzZXQoKTt2YXIgcj10aGlzLmRlY2lzaW9uVG9ERkFbZV07cmV0dXJuIG51bGw9PT1yLnMwP3RoaXMubWF0Y2hBVE4odCk6dGhpcy5leGVjQVROKHQsci5zMCl9ZmluYWxseXt0LnJlbGVhc2Uobil9fX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByZXZBY2NlcHQucmVzZXQoKSx0aGlzLnN0YXJ0SW5kZXg9LTEsdGhpcy5saW5lPTEsdGhpcy5jb2x1bW49MCx0aGlzLm1vZGU9VWkuREVGQVVMVF9NT0RFfX0se2tleTpcIm1hdGNoQVROXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5hdG4ubW9kZVRvU3RhcnRTdGF0ZVt0aGlzLm1vZGVdO2kuZGVidWcmJmNvbnNvbGUubG9nKFwibWF0Y2hBVE4gbW9kZSBcIit0aGlzLm1vZGUrXCIgc3RhcnQ6IFwiK2UpO3ZhciBuPXRoaXMubW9kZSxyPXRoaXMuY29tcHV0ZVN0YXJ0U3RhdGUodCxlKSxvPXIuaGFzU2VtYW50aWNDb250ZXh0O3IuaGFzU2VtYW50aWNDb250ZXh0PSExO3ZhciB1PXRoaXMuYWRkREZBU3RhdGUocik7b3x8KHRoaXMuZGVjaXNpb25Ub0RGQVt0aGlzLm1vZGVdLnMwPXUpO3ZhciBjPXRoaXMuZXhlY0FUTih0LHUpO3JldHVybiBpLmRlYnVnJiZjb25zb2xlLmxvZyhcIkRGQSBhZnRlciBtYXRjaEFUTjogXCIrdGhpcy5kZWNpc2lvblRvREZBW25dLnRvTGV4ZXJTdHJpbmcoKSksY319LHtrZXk6XCJleGVjQVROXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpLmRlYnVnJiZjb25zb2xlLmxvZyhcInN0YXJ0IHN0YXRlIGNsb3N1cmU9XCIrZS5jb25maWdzKSxlLmlzQWNjZXB0U3RhdGUmJnRoaXMuY2FwdHVyZVNpbVN0YXRlKHRoaXMucHJldkFjY2VwdCx0LGUpO2Zvcih2YXIgbj10LkxBKDEpLHI9ZTs7KXtpLmRlYnVnJiZjb25zb2xlLmxvZyhcImV4ZWNBVE4gbG9vcCBzdGFydGluZyBjbG9zdXJlOiBcIityLmNvbmZpZ3MpO3ZhciB1PXRoaXMuZ2V0RXhpc3RpbmdUYXJnZXRTdGF0ZShyLG4pO2lmKG51bGw9PT11JiYodT10aGlzLmNvbXB1dGVUYXJnZXRTdGF0ZSh0LHIsbikpLHU9PT1KaS5FUlJPUilicmVhaztpZihuIT09by5FT0YmJnRoaXMuY29uc3VtZSh0KSx1LmlzQWNjZXB0U3RhdGUmJih0aGlzLmNhcHR1cmVTaW1TdGF0ZSh0aGlzLnByZXZBY2NlcHQsdCx1KSxuPT09by5FT0YpKWJyZWFrO249dC5MQSgxKSxyPXV9cmV0dXJuIHRoaXMuZmFpbE9yQWNjZXB0KHRoaXMucHJldkFjY2VwdCx0LHIuY29uZmlncyxuKX19LHtrZXk6XCJnZXRFeGlzdGluZ1RhcmdldFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihudWxsPT09dC5lZGdlc3x8ZTxpLk1JTl9ERkFfRURHRXx8ZT5pLk1BWF9ERkFfRURHRSlyZXR1cm4gbnVsbDt2YXIgbj10LmVkZ2VzW2UtaS5NSU5fREZBX0VER0VdO3JldHVybiB2b2lkIDA9PT1uJiYobj1udWxsKSxpLmRlYnVnJiZudWxsIT09biYmY29uc29sZS5sb2coXCJyZXVzZSBzdGF0ZSBcIit0LnN0YXRlTnVtYmVyK1wiIGVkZ2UgdG8gXCIrbi5zdGF0ZU51bWJlciksbn19LHtrZXk6XCJjb21wdXRlVGFyZ2V0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IGV1O3JldHVybiB0aGlzLmdldFJlYWNoYWJsZUNvbmZpZ1NldCh0LGUuY29uZmlncyxyLG4pLDA9PT1yLml0ZW1zLmxlbmd0aD8oci5oYXNTZW1hbnRpY0NvbnRleHR8fHRoaXMuYWRkREZBRWRnZShlLG4sSmkuRVJST1IpLEppLkVSUk9SKTp0aGlzLmFkZERGQUVkZ2UoZSxuLG51bGwscil9fSx7a2V5OlwiZmFpbE9yQWNjZXB0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7aWYobnVsbCE9PXRoaXMucHJldkFjY2VwdC5kZmFTdGF0ZSl7dmFyIGk9dC5kZmFTdGF0ZS5sZXhlckFjdGlvbkV4ZWN1dG9yO3JldHVybiB0aGlzLmFjY2VwdChlLGksdGhpcy5zdGFydEluZGV4LHQuaW5kZXgsdC5saW5lLHQuY29sdW1uKSx0LmRmYVN0YXRlLnByZWRpY3Rpb259aWYocj09PW8uRU9GJiZlLmluZGV4PT09dGhpcy5zdGFydEluZGV4KXJldHVybiBvLkVPRjt0aHJvdyBuZXcgSWkodGhpcy5yZWNvZyxlLHRoaXMuc3RhcnRJbmRleCxuKX19LHtrZXk6XCJnZXRSZWFjaGFibGVDb25maWdTZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIHU9RmUuSU5WQUxJRF9BTFRfTlVNQkVSLGM9MDtjPGUuaXRlbXMubGVuZ3RoO2MrKyl7dmFyIGE9ZS5pdGVtc1tjXSxsPWEuYWx0PT09dTtpZighbHx8IWEucGFzc2VkVGhyb3VnaE5vbkdyZWVkeURlY2lzaW9uKXtpLmRlYnVnJiZjb25zb2xlLmxvZyhcInRlc3RpbmcgJXMgYXQgJXNcXG5cIix0aGlzLmdldFRva2VuTmFtZShyKSxhLnRvU3RyaW5nKHRoaXMucmVjb2csITApKTtmb3IodmFyIHM9MDtzPGEuc3RhdGUudHJhbnNpdGlvbnMubGVuZ3RoO3MrKyl7dmFyIGY9YS5zdGF0ZS50cmFuc2l0aW9uc1tzXSxwPXRoaXMuZ2V0UmVhY2hhYmxlVGFyZ2V0KGYscik7aWYobnVsbCE9PXApe3ZhciB5PWEubGV4ZXJBY3Rpb25FeGVjdXRvcjtudWxsIT09eSYmKHk9eS5maXhPZmZzZXRCZWZvcmVNYXRjaCh0LmluZGV4LXRoaXMuc3RhcnRJbmRleCkpO3ZhciBoPXI9PT1vLkVPRixiPW5ldyBsdSh7c3RhdGU6cCxsZXhlckFjdGlvbkV4ZWN1dG9yOnl9LGEpO3RoaXMuY2xvc3VyZSh0LGIsbixsLCEwLGgpJiYodT1hLmFsdCl9fX19fX0se2tleTpcImFjY2VwdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyx1KXtpLmRlYnVnJiZjb25zb2xlLmxvZyhcIkFDVElPTiAlc1xcblwiLGUpLHQuc2VlayhyKSx0aGlzLmxpbmU9byx0aGlzLmNvbHVtbj11LG51bGwhPT1lJiZudWxsIT09dGhpcy5yZWNvZyYmZS5leGVjdXRlKHRoaXMucmVjb2csdCxuKX19LHtrZXk6XCJnZXRSZWFjaGFibGVUYXJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Lm1hdGNoZXMoZSwwLFVpLk1BWF9DSEFSX1ZBTFVFKT90LnRhcmdldDpudWxsfX0se2tleTpcImNvbXB1dGVTdGFydFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49b2UuRU1QVFkscj1uZXcgZXUsbz0wO288ZS50cmFuc2l0aW9ucy5sZW5ndGg7bysrKXt2YXIgaT1lLnRyYW5zaXRpb25zW29dLnRhcmdldCx1PW5ldyBsdSh7c3RhdGU6aSxhbHQ6bysxLGNvbnRleHQ6bn0sbnVsbCk7dGhpcy5jbG9zdXJlKHQsdSxyLCExLCExLCExKX1yZXR1cm4gcn19LHtrZXk6XCJjbG9zdXJlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLHUpe3ZhciBjPW51bGw7aWYoaS5kZWJ1ZyYmY29uc29sZS5sb2coXCJjbG9zdXJlKFwiK2UudG9TdHJpbmcodGhpcy5yZWNvZywhMCkrXCIpXCIpLGUuc3RhdGUgaW5zdGFuY2VvZiAkKXtpZihpLmRlYnVnJiYobnVsbCE9PXRoaXMucmVjb2c/Y29uc29sZS5sb2coXCJjbG9zdXJlIGF0ICVzIHJ1bGUgc3RvcCAlc1xcblwiLHRoaXMucmVjb2cucnVsZU5hbWVzW2Uuc3RhdGUucnVsZUluZGV4XSxlKTpjb25zb2xlLmxvZyhcImNsb3N1cmUgYXQgcnVsZSBzdG9wICVzXFxuXCIsZSkpLG51bGw9PT1lLmNvbnRleHR8fGUuY29udGV4dC5oYXNFbXB0eVBhdGgoKSl7aWYobnVsbD09PWUuY29udGV4dHx8ZS5jb250ZXh0LmlzRW1wdHkoKSlyZXR1cm4gbi5hZGQoZSksITA7bi5hZGQobmV3IGx1KHtzdGF0ZTplLnN0YXRlLGNvbnRleHQ6b2UuRU1QVFl9LGUpKSxyPSEwfWlmKG51bGwhPT1lLmNvbnRleHQmJiFlLmNvbnRleHQuaXNFbXB0eSgpKWZvcih2YXIgYT0wO2E8ZS5jb250ZXh0Lmxlbmd0aDthKyspaWYoZS5jb250ZXh0LmdldFJldHVyblN0YXRlKGEpIT09b2UuRU1QVFlfUkVUVVJOX1NUQVRFKXt2YXIgbD1lLmNvbnRleHQuZ2V0UGFyZW50KGEpLHM9dGhpcy5hdG4uc3RhdGVzW2UuY29udGV4dC5nZXRSZXR1cm5TdGF0ZShhKV07Yz1uZXcgbHUoe3N0YXRlOnMsY29udGV4dDpsfSxlKSxyPXRoaXMuY2xvc3VyZSh0LGMsbixyLG8sdSl9cmV0dXJuIHJ9ZS5zdGF0ZS5lcHNpbG9uT25seVRyYW5zaXRpb25zfHxyJiZlLnBhc3NlZFRocm91Z2hOb25HcmVlZHlEZWNpc2lvbnx8bi5hZGQoZSk7Zm9yKHZhciBmPTA7ZjxlLnN0YXRlLnRyYW5zaXRpb25zLmxlbmd0aDtmKyspe3ZhciBwPWUuc3RhdGUudHJhbnNpdGlvbnNbZl07bnVsbCE9PShjPXRoaXMuZ2V0RXBzaWxvblRhcmdldCh0LGUscCxuLG8sdSkpJiYocj10aGlzLmNsb3N1cmUodCxjLG4scixvLHUpKX1yZXR1cm4gcn19LHtrZXk6XCJnZXRFcHNpbG9uVGFyZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scix1LGMpe3ZhciBhPW51bGw7aWYobi5zZXJpYWxpemF0aW9uVHlwZT09PXR0LlJVTEUpe3ZhciBsPXZlLmNyZWF0ZShlLmNvbnRleHQsbi5mb2xsb3dTdGF0ZS5zdGF0ZU51bWJlcik7YT1uZXcgbHUoe3N0YXRlOm4udGFyZ2V0LGNvbnRleHQ6bH0sZSl9ZWxzZXtpZihuLnNlcmlhbGl6YXRpb25UeXBlPT09dHQuUFJFQ0VERU5DRSl0aHJvd1wiUHJlY2VkZW5jZSBwcmVkaWNhdGVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGxleGVycy5cIjtpZihuLnNlcmlhbGl6YXRpb25UeXBlPT09dHQuUFJFRElDQVRFKWkuZGVidWcmJmNvbnNvbGUubG9nKFwiRVZBTCBydWxlIFwiK24ucnVsZUluZGV4K1wiOlwiK24ucHJlZEluZGV4KSxyLmhhc1NlbWFudGljQ29udGV4dD0hMCx0aGlzLmV2YWx1YXRlUHJlZGljYXRlKHQsbi5ydWxlSW5kZXgsbi5wcmVkSW5kZXgsdSkmJihhPW5ldyBsdSh7c3RhdGU6bi50YXJnZXR9LGUpKTtlbHNlIGlmKG4uc2VyaWFsaXphdGlvblR5cGU9PT10dC5BQ1RJT04paWYobnVsbD09PWUuY29udGV4dHx8ZS5jb250ZXh0Lmhhc0VtcHR5UGF0aCgpKXt2YXIgcz1kdS5hcHBlbmQoZS5sZXhlckFjdGlvbkV4ZWN1dG9yLHRoaXMuYXRuLmxleGVyQWN0aW9uc1tuLmFjdGlvbkluZGV4XSk7YT1uZXcgbHUoe3N0YXRlOm4udGFyZ2V0LGxleGVyQWN0aW9uRXhlY3V0b3I6c30sZSl9ZWxzZSBhPW5ldyBsdSh7c3RhdGU6bi50YXJnZXR9LGUpO2Vsc2Ugbi5zZXJpYWxpemF0aW9uVHlwZT09PXR0LkVQU0lMT04/YT1uZXcgbHUoe3N0YXRlOm4udGFyZ2V0fSxlKTpuLnNlcmlhbGl6YXRpb25UeXBlIT09dHQuQVRPTSYmbi5zZXJpYWxpemF0aW9uVHlwZSE9PXR0LlJBTkdFJiZuLnNlcmlhbGl6YXRpb25UeXBlIT09dHQuU0VUfHxjJiZuLm1hdGNoZXMoby5FT0YsMCxVaS5NQVhfQ0hBUl9WQUxVRSkmJihhPW5ldyBsdSh7c3RhdGU6bi50YXJnZXR9LGUpKX1yZXR1cm4gYX19LHtrZXk6XCJldmFsdWF0ZVByZWRpY2F0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKG51bGw9PT10aGlzLnJlY29nKXJldHVybiEwO2lmKCFyKXJldHVybiB0aGlzLnJlY29nLnNlbXByZWQobnVsbCxlLG4pO3ZhciBvPXRoaXMuY29sdW1uLGk9dGhpcy5saW5lLHU9dC5pbmRleCxjPXQubWFyaygpO3RyeXtyZXR1cm4gdGhpcy5jb25zdW1lKHQpLHRoaXMucmVjb2cuc2VtcHJlZChudWxsLGUsbil9ZmluYWxseXt0aGlzLmNvbHVtbj1vLHRoaXMubGluZT1pLHQuc2Vlayh1KSx0LnJlbGVhc2UoYyl9fX0se2tleTpcImNhcHR1cmVTaW1TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0LmluZGV4PWUuaW5kZXgsdC5saW5lPXRoaXMubGluZSx0LmNvbHVtbj10aGlzLmNvbHVtbix0LmRmYVN0YXRlPW59fSx7a2V5OlwiYWRkREZBRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKHZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PXImJihyPW51bGwpLG51bGw9PT1uJiZudWxsIT09cil7dmFyIG89ci5oYXNTZW1hbnRpY0NvbnRleHQ7aWYoci5oYXNTZW1hbnRpY0NvbnRleHQ9ITEsbj10aGlzLmFkZERGQVN0YXRlKHIpLG8pcmV0dXJuIG59cmV0dXJuIGU8aS5NSU5fREZBX0VER0V8fGU+aS5NQVhfREZBX0VER0V8fChpLmRlYnVnJiZjb25zb2xlLmxvZyhcIkVER0UgXCIrdCtcIiAtPiBcIituK1wiIHVwb24gXCIrZSksbnVsbD09PXQuZWRnZXMmJih0LmVkZ2VzPVtdKSx0LmVkZ2VzW2UtaS5NSU5fREZBX0VER0VdPW4pLG59fSx7a2V5OlwiYWRkREZBU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IFdpKG51bGwsdCksbj1udWxsLHI9MDtyPHQuaXRlbXMubGVuZ3RoO3IrKyl7dmFyIG89dC5pdGVtc1tyXTtpZihvLnN0YXRlIGluc3RhbmNlb2YgJCl7bj1vO2JyZWFrfX1udWxsIT09biYmKGUuaXNBY2NlcHRTdGF0ZT0hMCxlLmxleGVyQWN0aW9uRXhlY3V0b3I9bi5sZXhlckFjdGlvbkV4ZWN1dG9yLGUucHJlZGljdGlvbj10aGlzLmF0bi5ydWxlVG9Ub2tlblR5cGVbbi5zdGF0ZS5ydWxlSW5kZXhdKTt2YXIgaT10aGlzLmRlY2lzaW9uVG9ERkFbdGhpcy5tb2RlXSx1PWkuc3RhdGVzLmdldChlKTtpZihudWxsIT09dSlyZXR1cm4gdTt2YXIgYz1lO3JldHVybiBjLnN0YXRlTnVtYmVyPWkuc3RhdGVzLmxlbmd0aCx0LnNldFJlYWRvbmx5KCEwKSxjLmNvbmZpZ3M9dCxpLnN0YXRlcy5hZGQoYyksY319LHtrZXk6XCJnZXRERkFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kZWNpc2lvblRvREZBW3RdfX0se2tleTpcImdldFRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRUZXh0KHRoaXMuc3RhcnRJbmRleCx0LmluZGV4LTEpfX0se2tleTpcImNvbnN1bWVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LkxBKDEpPT09XCJcXG5cIi5jaGFyQ29kZUF0KDApPyh0aGlzLmxpbmUrPTEsdGhpcy5jb2x1bW49MCk6dGhpcy5jb2x1bW4rPTEsdC5jb25zdW1lKCl9fSx7a2V5OlwiZ2V0VG9rZW5OYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuLTE9PT10P1wiRU9GXCI6XCInXCIrU3RyaW5nLmZyb21DaGFyQ29kZSh0KStcIidcIn19XSksaX0oSmkpO2Z1bmN0aW9uIGt1KHQpe3JldHVybiBrdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxrdSh0KX1mdW5jdGlvbiBqdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09a3UodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09a3UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09a3Uobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfUV1LmRlYnVnPSExLEV1LmRmYV9kZWJ1Zz0hMSxFdS5NSU5fREZBX0VER0U9MCxFdS5NQVhfREZBX0VER0U9MTI3O3ZhciB4dT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuYWx0PW4sdGhpcy5wcmVkPWV9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiKFwiK3RoaXMucHJlZCtcIiwgXCIrdGhpcy5hbHQrXCIpXCJ9fV0pJiZqdShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gUnUodCl7cmV0dXJuIFJ1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFJ1KHQpfWZ1bmN0aW9uIEN1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1SdSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1SdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1SdShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIEF1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5kYXRhPXt9fXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRhdGFbXCJrLVwiK3RdfHxudWxsfX0se2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5kYXRhW1wiay1cIit0XT1lfX0se2tleTpcInZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5kYXRhKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoXCJrLVwiKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFbZV19KSx0aGlzKX19XSkmJkN1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKSxOdT17U0xMOjAsTEw6MSxMTF9FWEFDVF9BTUJJR19ERVRFQ1RJT046MixoYXNTTExDb25mbGljdFRlcm1pbmF0aW5nUHJlZGljdGlvbjpmdW5jdGlvbih0LGUpe2lmKE51LmFsbENvbmZpZ3NJblJ1bGVTdG9wU3RhdGVzKGUpKXJldHVybiEwO2lmKHQ9PT1OdS5TTEwmJmUuaGFzU2VtYW50aWNDb250ZXh0KXtmb3IodmFyIG49bmV3IEtpLHI9MDtyPGUuaXRlbXMubGVuZ3RoO3IrKyl7dmFyIG89ZS5pdGVtc1tyXTtvPW5ldyBMKHtzZW1hbnRpY0NvbnRleHQ6ai5OT05FfSxvKSxuLmFkZChvKX1lPW59dmFyIGk9TnUuZ2V0Q29uZmxpY3RpbmdBbHRTdWJzZXRzKGUpO3JldHVybiBOdS5oYXNDb25mbGljdGluZ0FsdFNldChpKSYmIU51Lmhhc1N0YXRlQXNzb2NpYXRlZFdpdGhPbmVBbHQoZSl9LGhhc0NvbmZpZ0luUnVsZVN0b3BTdGF0ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQuaXRlbXMubGVuZ3RoO2UrKylpZih0Lml0ZW1zW2VdLnN0YXRlIGluc3RhbmNlb2YgJClyZXR1cm4hMDtyZXR1cm4hMX0sYWxsQ29uZmlnc0luUnVsZVN0b3BTdGF0ZXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lml0ZW1zLmxlbmd0aDtlKyspaWYoISh0Lml0ZW1zW2VdLnN0YXRlIGluc3RhbmNlb2YgJCkpcmV0dXJuITE7cmV0dXJuITB9LHJlc29sdmVzVG9KdXN0T25lVmlhYmxlQWx0OmZ1bmN0aW9uKHQpe3JldHVybiBOdS5nZXRTaW5nbGVWaWFibGVBbHQodCl9LGFsbFN1YnNldHNDb25mbGljdDpmdW5jdGlvbih0KXtyZXR1cm4hTnUuaGFzTm9uQ29uZmxpY3RpbmdBbHRTZXQodCl9LGhhc05vbkNvbmZsaWN0aW5nQWx0U2V0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKDE9PT10W2VdLmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hMX0saGFzQ29uZmxpY3RpbmdBbHRTZXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS5sZW5ndGg+MSlyZXR1cm4hMDtyZXR1cm4hMX0sYWxsU3Vic2V0c0VxdWFsOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihudWxsPT09ZSllPXI7ZWxzZSBpZihyIT09ZSlyZXR1cm4hMX1yZXR1cm4hMH0sZ2V0VW5pcXVlQWx0OmZ1bmN0aW9uKHQpe3ZhciBlPU51LmdldEFsdHModCk7cmV0dXJuIDE9PT1lLmxlbmd0aD9lLm1pblZhbHVlKCk6RmUuSU5WQUxJRF9BTFRfTlVNQkVSfSxnZXRBbHRzOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDZTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKHQpe2Uub3IodCl9KSksZX0sZ2V0Q29uZmxpY3RpbmdBbHRTdWJzZXRzOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBUZTtyZXR1cm4gZS5oYXNoRnVuY3Rpb249ZnVuY3Rpb24odCl7Zi5oYXNoU3R1ZmYodC5zdGF0ZS5zdGF0ZU51bWJlcix0LmNvbnRleHQpfSxlLmVxdWFsc0Z1bmN0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RhdGUuc3RhdGVOdW1iZXI9PT1lLnN0YXRlLnN0YXRlTnVtYmVyJiZ0LmNvbnRleHQuZXF1YWxzKGUuY29udGV4dCl9LHQuaXRlbXMubWFwKChmdW5jdGlvbih0KXt2YXIgbj1lLmdldCh0KTtudWxsPT09biYmKG49bmV3IENlLGUuc2V0KHQsbikpLG4uYWRkKHQuYWx0KX0pKSxlLmdldFZhbHVlcygpfSxnZXRTdGF0ZVRvQWx0TWFwOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBdTtyZXR1cm4gdC5pdGVtcy5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0KHQuc3RhdGUpO251bGw9PT1uJiYobj1uZXcgQ2UsZS5zZXQodC5zdGF0ZSxuKSksbi5hZGQodC5hbHQpfSkpLGV9LGhhc1N0YXRlQXNzb2NpYXRlZFdpdGhPbmVBbHQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPU51LmdldFN0YXRlVG9BbHRNYXAodCkudmFsdWVzKCksbj0wO248ZS5sZW5ndGg7bisrKWlmKDE9PT1lW25dLmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hMX0sZ2V0U2luZ2xlVmlhYmxlQWx0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXS5taW5WYWx1ZSgpO2lmKG51bGw9PT1lKWU9cjtlbHNlIGlmKGUhPT1yKXJldHVybiBGZS5JTlZBTElEX0FMVF9OVU1CRVJ9cmV0dXJuIGV9fTtjb25zdCBJdT1OdTtmdW5jdGlvbiBMdSh0KXtyZXR1cm4gTHU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTHUodCl9ZnVuY3Rpb24gRHUodCxlKXtyZXR1cm4gRHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxEdSh0LGUpfWZ1bmN0aW9uIEZ1KHQpe3JldHVybiBGdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sRnUodCl9dmFyIEJ1PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZEdSh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1GdShuKTtpZihyKXt2YXIgbz1GdSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUx1KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSh0LGUsbixyLHUsYyl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxjPWN8fHQuX2N0eCxyPXJ8fHQuZ2V0Q3VycmVudFRva2VuKCksbj1ufHx0LmdldEN1cnJlbnRUb2tlbigpLGU9ZXx8dC5nZXRJbnB1dFN0cmVhbSgpLChhPW8uY2FsbCh0aGlzLHttZXNzYWdlOlwiXCIscmVjb2duaXplcjp0LGlucHV0OmUsY3R4OmN9KSkuZGVhZEVuZENvbmZpZ3M9dSxhLnN0YXJ0VG9rZW49bixhLm9mZmVuZGluZ1Rva2VuPXIsYX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oeGkpO2Z1bmN0aW9uIE11KHQpe3JldHVybiBNdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxNdSh0KX1mdW5jdGlvbiBVdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09TXUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09TXUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09TXUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBWdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmRlZmF1bHRNYXBDdG9yPWV8fFRlLHRoaXMuY2FjaGVNYXA9bmV3IHRoaXMuZGVmYXVsdE1hcEN0b3J9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmNhY2hlTWFwLmdldCh0KXx8bnVsbDtyZXR1cm4gbnVsbD09PW4/bnVsbDpuLmdldChlKXx8bnVsbH19LHtrZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5jYWNoZU1hcC5nZXQodCl8fG51bGw7bnVsbD09PXImJihyPW5ldyB0aGlzLmRlZmF1bHRNYXBDdG9yLHRoaXMuY2FjaGVNYXAuc2V0KHQscikpLHIuc2V0KGUsbil9fV0pJiZVdShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24genUodCl7cmV0dXJuIHp1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHp1KHQpfWZ1bmN0aW9uIHF1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT16dSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT16dShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT16dShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gSHUodCxlKXtyZXR1cm4gSHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxIdSh0LGUpfWZ1bmN0aW9uIEt1KHQpe3JldHVybiBLdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sS3UodCl9dmFyIFl1PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZIdSh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUt1KHIpO2lmKGkpe3ZhciBuPUt1KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09enUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQsZSxuLHIpe3ZhciBvO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKG89dS5jYWxsKHRoaXMsZSxyKSkucGFyc2VyPXQsby5kZWNpc2lvblRvREZBPW4sby5wcmVkaWN0aW9uTW9kZT1JdS5MTCxvLl9pbnB1dD1udWxsLG8uX3N0YXJ0SW5kZXg9MCxvLl9vdXRlckNvbnRleHQ9bnVsbCxvLl9kZmE9bnVsbCxvLm1lcmdlQ2FjaGU9bnVsbCxvLmRlYnVnPSExLG8uZGVidWdfY2xvc3VyZT0hMSxvLmRlYnVnX2FkZD0hMSxvLnRyYWNlX2F0bl9zaW09ITEsby5kZmFfZGVidWc9ITEsby5yZXRyeV9kZWJ1Zz0hMSxvfXJldHVybiBlPWMsbj1be2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiYWRhcHRpdmVQcmVkaWN0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4peyh0aGlzLmRlYnVnfHx0aGlzLnRyYWNlX2F0bl9zaW0pJiZjb25zb2xlLmxvZyhcImFkYXB0aXZlUHJlZGljdCBkZWNpc2lvbiBcIitlK1wiIGV4ZWMgTEEoMSk9PVwiK3RoaXMuZ2V0TG9va2FoZWFkTmFtZSh0KStcIiBsaW5lIFwiK3QuTFQoMSkubGluZStcIjpcIit0LkxUKDEpLmNvbHVtbiksdGhpcy5faW5wdXQ9dCx0aGlzLl9zdGFydEluZGV4PXQuaW5kZXgsdGhpcy5fb3V0ZXJDb250ZXh0PW47dmFyIHI9dGhpcy5kZWNpc2lvblRvREZBW2VdO3RoaXMuX2RmYT1yO3ZhciBvPXQubWFyaygpLGk9dC5pbmRleDt0cnl7dmFyIHU7aWYobnVsbD09PSh1PXIucHJlY2VkZW5jZURmYT9yLmdldFByZWNlZGVuY2VTdGFydFN0YXRlKHRoaXMucGFyc2VyLmdldFByZWNlZGVuY2UoKSk6ci5zMCkpe251bGw9PT1uJiYobj1lZS5FTVBUWSksdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJwcmVkaWN0QVROIGRlY2lzaW9uIFwiK3IuZGVjaXNpb24rXCIgZXhlYyBMQSgxKT09XCIrdGhpcy5nZXRMb29rYWhlYWROYW1lKHQpK1wiLCBvdXRlckNvbnRleHQ9XCIrbi50b1N0cmluZyh0aGlzLnBhcnNlci5ydWxlTmFtZXMpKTt2YXIgYz10aGlzLmNvbXB1dGVTdGFydFN0YXRlKHIuYXRuU3RhcnRTdGF0ZSxlZS5FTVBUWSwhMSk7ci5wcmVjZWRlbmNlRGZhPyhyLnMwLmNvbmZpZ3M9YyxjPXRoaXMuYXBwbHlQcmVjZWRlbmNlRmlsdGVyKGMpLHU9dGhpcy5hZGRERkFTdGF0ZShyLG5ldyBXaShudWxsLGMpKSxyLnNldFByZWNlZGVuY2VTdGFydFN0YXRlKHRoaXMucGFyc2VyLmdldFByZWNlZGVuY2UoKSx1KSk6KHU9dGhpcy5hZGRERkFTdGF0ZShyLG5ldyBXaShudWxsLGMpKSxyLnMwPXUpfXZhciBhPXRoaXMuZXhlY0FUTihyLHUsdCxpLG4pO3JldHVybiB0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkRGQSBhZnRlciBwcmVkaWN0QVROOiBcIityLnRvU3RyaW5nKHRoaXMucGFyc2VyLmxpdGVyYWxOYW1lcyx0aGlzLnBhcnNlci5zeW1ib2xpY05hbWVzKSksYX1maW5hbGx5e3RoaXMuX2RmYT1udWxsLHRoaXMubWVyZ2VDYWNoZT1udWxsLHQuc2VlayhpKSx0LnJlbGVhc2Uobyl9fX0se2tleTpcImV4ZWNBVE5cIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciB1Oyh0aGlzLmRlYnVnfHx0aGlzLnRyYWNlX2F0bl9zaW0pJiZjb25zb2xlLmxvZyhcImV4ZWNBVE4gZGVjaXNpb24gXCIrdC5kZWNpc2lvbitcIiwgREZBIHN0YXRlIFwiK2UrXCIsIExBKDEpPT1cIit0aGlzLmdldExvb2thaGVhZE5hbWUobikrXCIgbGluZSBcIituLkxUKDEpLmxpbmUrXCI6XCIrbi5MVCgxKS5jb2x1bW4pO3ZhciBjPWU7dGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJzMCA9IFwiK2UpO2Zvcih2YXIgYT1uLkxBKDEpOzspe3ZhciBsPXRoaXMuZ2V0RXhpc3RpbmdUYXJnZXRTdGF0ZShjLGEpO2lmKG51bGw9PT1sJiYobD10aGlzLmNvbXB1dGVUYXJnZXRTdGF0ZSh0LGMsYSkpLGw9PT1KaS5FUlJPUil7dmFyIHM9dGhpcy5ub1ZpYWJsZUFsdChuLGksYy5jb25maWdzLHIpO2lmKG4uc2VlayhyKSwodT10aGlzLmdldFN5blZhbGlkT3JTZW1JbnZhbGlkQWx0VGhhdEZpbmlzaGVkRGVjaXNpb25FbnRyeVJ1bGUoYy5jb25maWdzLGkpKSE9PUZlLklOVkFMSURfQUxUX05VTUJFUilyZXR1cm4gdTt0aHJvdyBzfWlmKGwucmVxdWlyZXNGdWxsQ29udGV4dCYmdGhpcy5wcmVkaWN0aW9uTW9kZSE9PUl1LlNMTCl7dmFyIGY9bnVsbDtpZihudWxsIT09bC5wcmVkaWNhdGVzKXt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkRGQSBzdGF0ZSBoYXMgcHJlZHMgaW4gREZBIHNpbSBMTCBmYWlsb3ZlclwiKTt2YXIgcD1uLmluZGV4O2lmKHAhPT1yJiZuLnNlZWsociksMT09PShmPXRoaXMuZXZhbFNlbWFudGljQ29udGV4dChsLnByZWRpY2F0ZXMsaSwhMCkpLmxlbmd0aClyZXR1cm4gdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJGdWxsIExMIGF2b2lkZWRcIiksZi5taW5WYWx1ZSgpO3AhPT1yJiZuLnNlZWsocCl9dGhpcy5kZmFfZGVidWcmJmNvbnNvbGUubG9nKFwiY3R4IHNlbnNpdGl2ZSBzdGF0ZSBcIitpK1wiIGluIFwiK2wpO3ZhciB5PXRoaXMuY29tcHV0ZVN0YXJ0U3RhdGUodC5hdG5TdGFydFN0YXRlLGksITApO3JldHVybiB0aGlzLnJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dCh0LGYsbC5jb25maWdzLHIsbi5pbmRleCksdGhpcy5leGVjQVROV2l0aEZ1bGxDb250ZXh0KHQsbCx5LG4scixpKX1pZihsLmlzQWNjZXB0U3RhdGUpe2lmKG51bGw9PT1sLnByZWRpY2F0ZXMpcmV0dXJuIGwucHJlZGljdGlvbjt2YXIgaD1uLmluZGV4O24uc2VlayhyKTt2YXIgYj10aGlzLmV2YWxTZW1hbnRpY0NvbnRleHQobC5wcmVkaWNhdGVzLGksITApO2lmKDA9PT1iLmxlbmd0aCl0aHJvdyB0aGlzLm5vVmlhYmxlQWx0KG4saSxsLmNvbmZpZ3Mscik7cmV0dXJuIDE9PT1iLmxlbmd0aHx8dGhpcy5yZXBvcnRBbWJpZ3VpdHkodCxsLHIsaCwhMSxiLGwuY29uZmlncyksYi5taW5WYWx1ZSgpfWM9bCxhIT09by5FT0YmJihuLmNvbnN1bWUoKSxhPW4uTEEoMSkpfX19LHtrZXk6XCJnZXRFeGlzdGluZ1RhcmdldFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmVkZ2VzO3JldHVybiBudWxsPT09bj9udWxsOm5bZSsxXXx8bnVsbH19LHtrZXk6XCJjb21wdXRlVGFyZ2V0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5jb21wdXRlUmVhY2hTZXQoZS5jb25maWdzLG4sITEpO2lmKG51bGw9PT1yKXJldHVybiB0aGlzLmFkZERGQUVkZ2UodCxlLG4sSmkuRVJST1IpLEppLkVSUk9SO3ZhciBvPW5ldyBXaShudWxsLHIpLGk9dGhpcy5nZXRVbmlxdWVBbHQocik7aWYodGhpcy5kZWJ1Zyl7dmFyIHU9SXUuZ2V0Q29uZmxpY3RpbmdBbHRTdWJzZXRzKHIpO2NvbnNvbGUubG9nKFwiU0xMIGFsdFN1YlNldHM9XCIrYih1KStcIiwgY29uZmlncz1cIityK1wiLCBwcmVkaWN0PVwiK2krXCIsIGFsbFN1YnNldHNDb25mbGljdD1cIitJdS5hbGxTdWJzZXRzQ29uZmxpY3QodSkrXCIsIGNvbmZsaWN0aW5nQWx0cz1cIit0aGlzLmdldENvbmZsaWN0aW5nQWx0cyhyKSl9cmV0dXJuIGkhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVI/KG8uaXNBY2NlcHRTdGF0ZT0hMCxvLmNvbmZpZ3MudW5pcXVlQWx0PWksby5wcmVkaWN0aW9uPWkpOkl1Lmhhc1NMTENvbmZsaWN0VGVybWluYXRpbmdQcmVkaWN0aW9uKHRoaXMucHJlZGljdGlvbk1vZGUscikmJihvLmNvbmZpZ3MuY29uZmxpY3RpbmdBbHRzPXRoaXMuZ2V0Q29uZmxpY3RpbmdBbHRzKHIpLG8ucmVxdWlyZXNGdWxsQ29udGV4dD0hMCxvLmlzQWNjZXB0U3RhdGU9ITAsby5wcmVkaWN0aW9uPW8uY29uZmlncy5jb25mbGljdGluZ0FsdHMubWluVmFsdWUoKSksby5pc0FjY2VwdFN0YXRlJiZvLmNvbmZpZ3MuaGFzU2VtYW50aWNDb250ZXh0JiYodGhpcy5wcmVkaWNhdGVERkFTdGF0ZShvLHRoaXMuYXRuLmdldERlY2lzaW9uU3RhdGUodC5kZWNpc2lvbikpLG51bGwhPT1vLnByZWRpY2F0ZXMmJihvLnByZWRpY3Rpb249RmUuSU5WQUxJRF9BTFRfTlVNQkVSKSksdGhpcy5hZGRERkFFZGdlKHQsZSxuLG8pfX0se2tleTpcInByZWRpY2F0ZURGQVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnRyYW5zaXRpb25zLmxlbmd0aCxyPXRoaXMuZ2V0Q29uZmxpY3RpbmdBbHRzT3JVbmlxdWVBbHQodC5jb25maWdzKSxvPXRoaXMuZ2V0UHJlZHNGb3JBbWJpZ0FsdHMocix0LmNvbmZpZ3Msbik7bnVsbCE9PW8/KHQucHJlZGljYXRlcz10aGlzLmdldFByZWRpY2F0ZVByZWRpY3Rpb25zKHIsbyksdC5wcmVkaWN0aW9uPUZlLklOVkFMSURfQUxUX05VTUJFUik6dC5wcmVkaWN0aW9uPXIubWluVmFsdWUoKX19LHtrZXk6XCJleGVjQVROV2l0aEZ1bGxDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLHUpeyh0aGlzLmRlYnVnfHx0aGlzLnRyYWNlX2F0bl9zaW0pJiZjb25zb2xlLmxvZyhcImV4ZWNBVE5XaXRoRnVsbENvbnRleHQgXCIrbik7dmFyIGMsYT0hMSxsPW47ci5zZWVrKGkpO2Zvcih2YXIgcz1yLkxBKDEpLGY9LTE7Oyl7aWYobnVsbD09PShjPXRoaXMuY29tcHV0ZVJlYWNoU2V0KGwscywhMCkpKXt2YXIgcD10aGlzLm5vVmlhYmxlQWx0KHIsdSxsLGkpO3Iuc2VlayhpKTt2YXIgeT10aGlzLmdldFN5blZhbGlkT3JTZW1JbnZhbGlkQWx0VGhhdEZpbmlzaGVkRGVjaXNpb25FbnRyeVJ1bGUobCx1KTtpZih5IT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSKXJldHVybiB5O3Rocm93IHB9dmFyIGg9SXUuZ2V0Q29uZmxpY3RpbmdBbHRTdWJzZXRzKGMpO2lmKHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiTEwgYWx0U3ViU2V0cz1cIitoK1wiLCBwcmVkaWN0PVwiK0l1LmdldFVuaXF1ZUFsdChoKStcIiwgcmVzb2x2ZXNUb0p1c3RPbmVWaWFibGVBbHQ9XCIrSXUucmVzb2x2ZXNUb0p1c3RPbmVWaWFibGVBbHQoaCkpLGMudW5pcXVlQWx0PXRoaXMuZ2V0VW5pcXVlQWx0KGMpLGMudW5pcXVlQWx0IT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSKXtmPWMudW5pcXVlQWx0O2JyZWFrfWlmKHRoaXMucHJlZGljdGlvbk1vZGUhPT1JdS5MTF9FWEFDVF9BTUJJR19ERVRFQ1RJT04pe2lmKChmPUl1LnJlc29sdmVzVG9KdXN0T25lVmlhYmxlQWx0KGgpKSE9PUZlLklOVkFMSURfQUxUX05VTUJFUilicmVha31lbHNlIGlmKEl1LmFsbFN1YnNldHNDb25mbGljdChoKSYmSXUuYWxsU3Vic2V0c0VxdWFsKGgpKXthPSEwLGY9SXUuZ2V0U2luZ2xlVmlhYmxlQWx0KGgpO2JyZWFrfWw9YyxzIT09by5FT0YmJihyLmNvbnN1bWUoKSxzPXIuTEEoMSkpfXJldHVybiBjLnVuaXF1ZUFsdCE9PUZlLklOVkFMSURfQUxUX05VTUJFUj8odGhpcy5yZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHkodCxmLGMsaSxyLmluZGV4KSxmKToodGhpcy5yZXBvcnRBbWJpZ3VpdHkodCxlLGksci5pbmRleCxhLG51bGwsYyksZil9fSx7a2V5OlwiY29tcHV0ZVJlYWNoU2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiaW4gY29tcHV0ZVJlYWNoU2V0LCBzdGFydGluZyBjbG9zdXJlOiBcIit0KSxudWxsPT09dGhpcy5tZXJnZUNhY2hlJiYodGhpcy5tZXJnZUNhY2hlPW5ldyBWdSk7Zm9yKHZhciByPW5ldyBLaShuKSxpPW51bGwsdT0wO3U8dC5pdGVtcy5sZW5ndGg7dSsrKXt2YXIgYz10Lml0ZW1zW3VdO2lmKHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwidGVzdGluZyBcIit0aGlzLmdldFRva2VuTmFtZShlKStcIiBhdCBcIitjKSxjLnN0YXRlIGluc3RhbmNlb2YgJCkobnx8ZT09PW8uRU9GKSYmKG51bGw9PT1pJiYoaT1bXSksaS5wdXNoKGMpLHRoaXMuZGVidWdfYWRkJiZjb25zb2xlLmxvZyhcImFkZGVkIFwiK2MrXCIgdG8gc2tpcHBlZFN0b3BTdGF0ZXNcIikpO2Vsc2UgZm9yKHZhciBhPTA7YTxjLnN0YXRlLnRyYW5zaXRpb25zLmxlbmd0aDthKyspe3ZhciBsPWMuc3RhdGUudHJhbnNpdGlvbnNbYV0scz10aGlzLmdldFJlYWNoYWJsZVRhcmdldChsLGUpO2lmKG51bGwhPT1zKXt2YXIgZj1uZXcgTCh7c3RhdGU6c30sYyk7ci5hZGQoZix0aGlzLm1lcmdlQ2FjaGUpLHRoaXMuZGVidWdfYWRkJiZjb25zb2xlLmxvZyhcImFkZGVkIFwiK2YrXCIgdG8gaW50ZXJtZWRpYXRlXCIpfX19dmFyIHA9bnVsbDtpZihudWxsPT09aSYmZSE9PW8uRU9GJiYoMT09PXIuaXRlbXMubGVuZ3RofHx0aGlzLmdldFVuaXF1ZUFsdChyKSE9PUZlLklOVkFMSURfQUxUX05VTUJFUikmJihwPXIpLG51bGw9PT1wKXtwPW5ldyBLaShuKTtmb3IodmFyIHk9bmV3IGcsaD1lPT09by5FT0YsYj0wO2I8ci5pdGVtcy5sZW5ndGg7YisrKXRoaXMuY2xvc3VyZShyLml0ZW1zW2JdLHAseSwhMSxuLGgpfWlmKGU9PT1vLkVPRiYmKHA9dGhpcy5yZW1vdmVBbGxDb25maWdzTm90SW5SdWxlU3RvcFN0YXRlKHAscD09PXIpKSwhKG51bGw9PT1pfHxuJiZJdS5oYXNDb25maWdJblJ1bGVTdG9wU3RhdGUocCkpKWZvcih2YXIgdj0wO3Y8aS5sZW5ndGg7disrKXAuYWRkKGlbdl0sdGhpcy5tZXJnZUNhY2hlKTtyZXR1cm4gdGhpcy50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcImNvbXB1dGVSZWFjaFNldCBcIit0K1wiIC0+IFwiK3ApLDA9PT1wLml0ZW1zLmxlbmd0aD9udWxsOnB9fSx7a2V5OlwicmVtb3ZlQWxsQ29uZmlnc05vdEluUnVsZVN0b3BTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoSXUuYWxsQ29uZmlnc0luUnVsZVN0b3BTdGF0ZXModCkpcmV0dXJuIHQ7Zm9yKHZhciBuPW5ldyBLaSh0LmZ1bGxDdHgpLHI9MDtyPHQuaXRlbXMubGVuZ3RoO3IrKyl7dmFyIGk9dC5pdGVtc1tyXTtpZihpLnN0YXRlIGluc3RhbmNlb2YgJCluLmFkZChpLHRoaXMubWVyZ2VDYWNoZSk7ZWxzZSBpZihlJiZpLnN0YXRlLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnMmJnRoaXMuYXRuLm5leHRUb2tlbnMoaS5zdGF0ZSkuY29udGFpbnMoby5FUFNJTE9OKSl7dmFyIHU9dGhpcy5hdG4ucnVsZVRvU3RvcFN0YXRlW2kuc3RhdGUucnVsZUluZGV4XTtuLmFkZChuZXcgTCh7c3RhdGU6dX0saSksdGhpcy5tZXJnZUNhY2hlKX19cmV0dXJuIG59fSx7a2V5OlwiY29tcHV0ZVN0YXJ0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9RWUodGhpcy5hdG4sZSksbz1uZXcgS2kobik7dGhpcy50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcImNvbXB1dGVTdGFydFN0YXRlIGZyb20gQVROIHN0YXRlIFwiK3QrXCIgaW5pdGlhbENvbnRleHQ9XCIrci50b1N0cmluZyh0aGlzLnBhcnNlcikpO2Zvcih2YXIgaT0wO2k8dC50cmFuc2l0aW9ucy5sZW5ndGg7aSsrKXt2YXIgdT10LnRyYW5zaXRpb25zW2ldLnRhcmdldCxjPW5ldyBMKHtzdGF0ZTp1LGFsdDppKzEsY29udGV4dDpyfSxudWxsKSxhPW5ldyBnO3RoaXMuY2xvc3VyZShjLG8sYSwhMCxuLCExKX1yZXR1cm4gb319LHtrZXk6XCJhcHBseVByZWNlZGVuY2VGaWx0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj1bXSxyPW5ldyBLaSh0LmZ1bGxDdHgpLG89MDtvPHQuaXRlbXMubGVuZ3RoO28rKylpZigxPT09KGU9dC5pdGVtc1tvXSkuYWx0KXt2YXIgaT1lLnNlbWFudGljQ29udGV4dC5ldmFsUHJlY2VkZW5jZSh0aGlzLnBhcnNlcix0aGlzLl9vdXRlckNvbnRleHQpO251bGwhPT1pJiYobltlLnN0YXRlLnN0YXRlTnVtYmVyXT1lLmNvbnRleHQsaSE9PWUuc2VtYW50aWNDb250ZXh0P3IuYWRkKG5ldyBMKHtzZW1hbnRpY0NvbnRleHQ6aX0sZSksdGhpcy5tZXJnZUNhY2hlKTpyLmFkZChlLHRoaXMubWVyZ2VDYWNoZSkpfWZvcih2YXIgdT0wO3U8dC5pdGVtcy5sZW5ndGg7dSsrKWlmKDEhPT0oZT10Lml0ZW1zW3VdKS5hbHQpe2lmKCFlLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkKXt2YXIgYz1uW2Uuc3RhdGUuc3RhdGVOdW1iZXJdfHxudWxsO2lmKG51bGwhPT1jJiZjLmVxdWFscyhlLmNvbnRleHQpKWNvbnRpbnVlfXIuYWRkKGUsdGhpcy5tZXJnZUNhY2hlKX1yZXR1cm4gcn19LHtrZXk6XCJnZXRSZWFjaGFibGVUYXJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0Lm1hdGNoZXMoZSwwLHRoaXMuYXRuLm1heFRva2VuVHlwZSk/dC50YXJnZXQ6bnVsbH19LHtrZXk6XCJnZXRQcmVkc0ZvckFtYmlnQWx0c1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10sbz0wO288ZS5pdGVtcy5sZW5ndGg7bysrKXt2YXIgaT1lLml0ZW1zW29dO3QuaGFzKGkuYWx0KSYmKHJbaS5hbHRdPWoub3JDb250ZXh0KHJbaS5hbHRdfHxudWxsLGkuc2VtYW50aWNDb250ZXh0KSl9Zm9yKHZhciB1PTAsYz0xO2M8bisxO2MrKyl7dmFyIGE9cltjXXx8bnVsbDtudWxsPT09YT9yW2NdPWouTk9ORTphIT09ai5OT05FJiYodSs9MSl9cmV0dXJuIDA9PT11JiYocj1udWxsKSx0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcImdldFByZWRzRm9yQW1iaWdBbHRzIHJlc3VsdCBcIitiKHIpKSxyfX0se2tleTpcImdldFByZWRpY2F0ZVByZWRpY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W10scj0hMSxvPTE7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb107bnVsbCE9PXQmJnQuaGFzKG8pJiZuLnB1c2gobmV3IHh1KGksbykpLGkhPT1qLk5PTkUmJihyPSEwKX1yZXR1cm4gcj9uOm51bGx9fSx7a2V5OlwiZ2V0U3luVmFsaWRPclNlbUludmFsaWRBbHRUaGF0RmluaXNoZWREZWNpc2lvbkVudHJ5UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5zcGxpdEFjY29yZGluZ1RvU2VtYW50aWNWYWxpZGl0eSh0LGUpLHI9blswXSxvPW5bMV0saT10aGlzLmdldEFsdFRoYXRGaW5pc2hlZERlY2lzaW9uRW50cnlSdWxlKHIpO3JldHVybiBpIT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSfHxvLml0ZW1zLmxlbmd0aD4wJiYoaT10aGlzLmdldEFsdFRoYXRGaW5pc2hlZERlY2lzaW9uRW50cnlSdWxlKG8pKSE9PUZlLklOVkFMSURfQUxUX05VTUJFUj9pOkZlLklOVkFMSURfQUxUX05VTUJFUn19LHtrZXk6XCJnZXRBbHRUaGF0RmluaXNoZWREZWNpc2lvbkVudHJ5UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspe3ZhciByPXQuaXRlbXNbbl07KHIucmVhY2hlc0ludG9PdXRlckNvbnRleHQ+MHx8ci5zdGF0ZSBpbnN0YW5jZW9mICQmJnIuY29udGV4dC5oYXNFbXB0eVBhdGgoKSkmJmUuaW5kZXhPZihyLmFsdCk8MCYmZS5wdXNoKHIuYWx0KX1yZXR1cm4gMD09PWUubGVuZ3RoP0ZlLklOVkFMSURfQUxUX05VTUJFUjpNYXRoLm1pbi5hcHBseShudWxsLGUpfX0se2tleTpcInNwbGl0QWNjb3JkaW5nVG9TZW1hbnRpY1ZhbGlkaXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IEtpKHQuZnVsbEN0eCkscj1uZXcgS2kodC5mdWxsQ3R4KSxvPTA7bzx0Lml0ZW1zLmxlbmd0aDtvKyspe3ZhciBpPXQuaXRlbXNbb107aS5zZW1hbnRpY0NvbnRleHQhPT1qLk5PTkU/aS5zZW1hbnRpY0NvbnRleHQuZXZhbHVhdGUodGhpcy5wYXJzZXIsZSk/bi5hZGQoaSk6ci5hZGQoaSk6bi5hZGQoaSl9cmV0dXJuW24scl19fSx7a2V5OlwiZXZhbFNlbWFudGljQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bmV3IENlLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIGk9dFtvXTtpZihpLnByZWQhPT1qLk5PTkUpe3ZhciB1PWkucHJlZC5ldmFsdWF0ZSh0aGlzLnBhcnNlcixlKTtpZigodGhpcy5kZWJ1Z3x8dGhpcy5kZmFfZGVidWcpJiZjb25zb2xlLmxvZyhcImV2YWwgcHJlZCBcIitpK1wiPVwiK3UpLHUmJigodGhpcy5kZWJ1Z3x8dGhpcy5kZmFfZGVidWcpJiZjb25zb2xlLmxvZyhcIlBSRURJQ1QgXCIraS5hbHQpLHIuYWRkKGkuYWx0KSwhbikpYnJlYWt9ZWxzZSBpZihyLmFkZChpLmFsdCksIW4pYnJlYWt9cmV0dXJuIHJ9fSx7a2V5OlwiY2xvc3VyZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt0aGlzLmNsb3N1cmVDaGVja2luZ1N0b3BTdGF0ZSh0LGUsbixyLG8sMCxpKX19LHtrZXk6XCJjbG9zdXJlQ2hlY2tpbmdTdG9wU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSx1KXtpZigodGhpcy50cmFjZV9hdG5fc2ltfHx0aGlzLmRlYnVnX2Nsb3N1cmUpJiZjb25zb2xlLmxvZyhcImNsb3N1cmUoXCIrdC50b1N0cmluZyh0aGlzLnBhcnNlciwhMCkrXCIpXCIpLHQuc3RhdGUgaW5zdGFuY2VvZiAkKXtpZighdC5jb250ZXh0LmlzRW1wdHkoKSl7Zm9yKHZhciBjPTA7Yzx0LmNvbnRleHQubGVuZ3RoO2MrKylpZih0LmNvbnRleHQuZ2V0UmV0dXJuU3RhdGUoYykhPT1vZS5FTVBUWV9SRVRVUk5fU1RBVEUpe3ZhciBhPXRoaXMuYXRuLnN0YXRlc1t0LmNvbnRleHQuZ2V0UmV0dXJuU3RhdGUoYyldLGw9dC5jb250ZXh0LmdldFBhcmVudChjKSxzPXtzdGF0ZTphLGFsdDp0LmFsdCxjb250ZXh0Omwsc2VtYW50aWNDb250ZXh0OnQuc2VtYW50aWNDb250ZXh0fSxmPW5ldyBMKHMsbnVsbCk7Zi5yZWFjaGVzSW50b091dGVyQ29udGV4dD10LnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0LHRoaXMuY2xvc3VyZUNoZWNraW5nU3RvcFN0YXRlKGYsZSxuLHIsbyxpLTEsdSl9ZWxzZXtpZihvKXtlLmFkZChuZXcgTCh7c3RhdGU6dC5zdGF0ZSxjb250ZXh0Om9lLkVNUFRZfSx0KSx0aGlzLm1lcmdlQ2FjaGUpO2NvbnRpbnVlfXRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiRkFMTElORyBvZmYgcnVsZSBcIit0aGlzLmdldFJ1bGVOYW1lKHQuc3RhdGUucnVsZUluZGV4KSksdGhpcy5jbG9zdXJlXyh0LGUsbixyLG8saSx1KX1yZXR1cm59aWYobylyZXR1cm4gdm9pZCBlLmFkZCh0LHRoaXMubWVyZ2VDYWNoZSk7dGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJGQUxMSU5HIG9mZiBydWxlIFwiK3RoaXMuZ2V0UnVsZU5hbWUodC5zdGF0ZS5ydWxlSW5kZXgpKX10aGlzLmNsb3N1cmVfKHQsZSxuLHIsbyxpLHUpfX0se2tleTpcImNsb3N1cmVfXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGksdSl7dmFyIGM9dC5zdGF0ZTtjLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnN8fGUuYWRkKHQsdGhpcy5tZXJnZUNhY2hlKTtmb3IodmFyIGE9MDthPGMudHJhbnNpdGlvbnMubGVuZ3RoO2ErKylpZigwIT09YXx8IXRoaXMuY2FuRHJvcExvb3BFbnRyeUVkZ2VJbkxlZnRSZWN1cnNpdmVSdWxlKHQpKXt2YXIgbD1jLnRyYW5zaXRpb25zW2FdLHM9ciYmIShsIGluc3RhbmNlb2YgT3IpLGY9dGhpcy5nZXRFcHNpbG9uVGFyZ2V0KHQsbCxzLDA9PT1pLG8sdSk7aWYobnVsbCE9PWYpe3ZhciBwPWk7aWYodC5zdGF0ZSBpbnN0YW5jZW9mICQpe2lmKG51bGwhPT10aGlzLl9kZmEmJnRoaXMuX2RmYS5wcmVjZWRlbmNlRGZhJiZsLm91dGVybW9zdFByZWNlZGVuY2VSZXR1cm49PT10aGlzLl9kZmEuYXRuU3RhcnRTdGF0ZS5ydWxlSW5kZXgmJihmLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkPSEwKSxmLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0Kz0xLG4uYWRkKGYpIT09Ziljb250aW51ZTtlLmRpcHNJbnRvT3V0ZXJDb250ZXh0PSEwLHAtPTEsdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJkaXBzIGludG8gb3V0ZXIgY3R4OiBcIitmKX1lbHNle2lmKCFsLmlzRXBzaWxvbiYmbi5hZGQoZikhPT1mKWNvbnRpbnVlO2wgaW5zdGFuY2VvZiBpdCYmcD49MCYmKHArPTEpfXRoaXMuY2xvc3VyZUNoZWNraW5nU3RvcFN0YXRlKGYsZSxuLHMsbyxwLHUpfX19fSx7a2V5OlwiY2FuRHJvcExvb3BFbnRyeUVkZ2VJbkxlZnRSZWN1cnNpdmVSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGF0ZTtpZihlLnN0YXRlVHlwZSE9PUguU1RBUl9MT09QX0VOVFJZKXJldHVybiExO2lmKGUuc3RhdGVUeXBlIT09SC5TVEFSX0xPT1BfRU5UUll8fCFlLmlzUHJlY2VkZW5jZURlY2lzaW9ufHx0LmNvbnRleHQuaXNFbXB0eSgpfHx0LmNvbnRleHQuaGFzRW1wdHlQYXRoKCkpcmV0dXJuITE7Zm9yKHZhciBuPXQuY29udGV4dC5sZW5ndGgscj0wO3I8bjtyKyspaWYodGhpcy5hdG4uc3RhdGVzW3QuY29udGV4dC5nZXRSZXR1cm5TdGF0ZShyKV0ucnVsZUluZGV4IT09ZS5ydWxlSW5kZXgpcmV0dXJuITE7Zm9yKHZhciBvPWUudHJhbnNpdGlvbnNbMF0udGFyZ2V0LmVuZFN0YXRlLnN0YXRlTnVtYmVyLGk9dGhpcy5hdG4uc3RhdGVzW29dLHU9MDt1PG47dSsrKXt2YXIgYz10LmNvbnRleHQuZ2V0UmV0dXJuU3RhdGUodSksYT10aGlzLmF0bi5zdGF0ZXNbY107aWYoMSE9PWEudHJhbnNpdGlvbnMubGVuZ3RofHwhYS50cmFuc2l0aW9uc1swXS5pc0Vwc2lsb24pcmV0dXJuITE7dmFyIGw9YS50cmFuc2l0aW9uc1swXS50YXJnZXQ7aWYoIShhLnN0YXRlVHlwZT09PUguQkxPQ0tfRU5EJiZsPT09ZXx8YT09PWl8fGw9PT1pfHxsLnN0YXRlVHlwZT09PUguQkxPQ0tfRU5EJiYxPT09bC50cmFuc2l0aW9ucy5sZW5ndGgmJmwudHJhbnNpdGlvbnNbMF0uaXNFcHNpbG9uJiZsLnRyYW5zaXRpb25zWzBdLnRhcmdldD09PWUpKXJldHVybiExfXJldHVybiEwfX0se2tleTpcImdldFJ1bGVOYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLnBhcnNlciYmdD49MD90aGlzLnBhcnNlci5ydWxlTmFtZXNbdF06XCI8cnVsZSBcIit0K1wiPlwifX0se2tleTpcImdldEVwc2lsb25UYXJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksdSl7c3dpdGNoKGUuc2VyaWFsaXphdGlvblR5cGUpe2Nhc2UgdHQuUlVMRTpyZXR1cm4gdGhpcy5ydWxlVHJhbnNpdGlvbih0LGUpO2Nhc2UgdHQuUFJFQ0VERU5DRTpyZXR1cm4gdGhpcy5wcmVjZWRlbmNlVHJhbnNpdGlvbih0LGUsbixyLGkpO2Nhc2UgdHQuUFJFRElDQVRFOnJldHVybiB0aGlzLnByZWRUcmFuc2l0aW9uKHQsZSxuLHIsaSk7Y2FzZSB0dC5BQ1RJT046cmV0dXJuIHRoaXMuYWN0aW9uVHJhbnNpdGlvbih0LGUpO2Nhc2UgdHQuRVBTSUxPTjpyZXR1cm4gbmV3IEwoe3N0YXRlOmUudGFyZ2V0fSx0KTtjYXNlIHR0LkFUT006Y2FzZSB0dC5SQU5HRTpjYXNlIHR0LlNFVDpyZXR1cm4gdSYmZS5tYXRjaGVzKG8uRU9GLDAsMSk/bmV3IEwoe3N0YXRlOmUudGFyZ2V0fSx0KTpudWxsO2RlZmF1bHQ6cmV0dXJuIG51bGx9fX0se2tleTpcImFjdGlvblRyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuZGVidWcpe3ZhciBuPS0xPT09ZS5hY3Rpb25JbmRleD82NTUzNTplLmFjdGlvbkluZGV4O2NvbnNvbGUubG9nKFwiQUNUSU9OIGVkZ2UgXCIrZS5ydWxlSW5kZXgrXCI6XCIrbil9cmV0dXJuIG5ldyBMKHtzdGF0ZTplLnRhcmdldH0sdCl9fSx7a2V5OlwicHJlY2VkZW5jZVRyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8pe3RoaXMuZGVidWcmJihjb25zb2xlLmxvZyhcIlBSRUQgKGNvbGxlY3RQcmVkaWNhdGVzPVwiK24rXCIpIFwiK2UucHJlY2VkZW5jZStcIj49X3AsIGN0eCBkZXBlbmRlbnQ9dHJ1ZVwiKSxudWxsIT09dGhpcy5wYXJzZXImJmNvbnNvbGUubG9nKFwiY29udGV4dCBzdXJyb3VuZGluZyBwcmVkIGlzIFwiK2IodGhpcy5wYXJzZXIuZ2V0UnVsZUludm9jYXRpb25TdGFjaygpKSkpO3ZhciBpPW51bGw7aWYobiYmcilpZihvKXt2YXIgdT10aGlzLl9pbnB1dC5pbmRleDt0aGlzLl9pbnB1dC5zZWVrKHRoaXMuX3N0YXJ0SW5kZXgpO3ZhciBjPWUuZ2V0UHJlZGljYXRlKCkuZXZhbHVhdGUodGhpcy5wYXJzZXIsdGhpcy5fb3V0ZXJDb250ZXh0KTt0aGlzLl9pbnB1dC5zZWVrKHUpLGMmJihpPW5ldyBMKHtzdGF0ZTplLnRhcmdldH0sdCkpfWVsc2V7dmFyIGE9ai5hbmRDb250ZXh0KHQuc2VtYW50aWNDb250ZXh0LGUuZ2V0UHJlZGljYXRlKCkpO2k9bmV3IEwoe3N0YXRlOmUudGFyZ2V0LHNlbWFudGljQ29udGV4dDphfSx0KX1lbHNlIGk9bmV3IEwoe3N0YXRlOmUudGFyZ2V0fSx0KTtyZXR1cm4gdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJjb25maWcgZnJvbSBwcmVkIHRyYW5zaXRpb249XCIraSksaX19LHtrZXk6XCJwcmVkVHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy5kZWJ1ZyYmKGNvbnNvbGUubG9nKFwiUFJFRCAoY29sbGVjdFByZWRpY2F0ZXM9XCIrbitcIikgXCIrZS5ydWxlSW5kZXgrXCI6XCIrZS5wcmVkSW5kZXgrXCIsIGN0eCBkZXBlbmRlbnQ9XCIrZS5pc0N0eERlcGVuZGVudCksbnVsbCE9PXRoaXMucGFyc2VyJiZjb25zb2xlLmxvZyhcImNvbnRleHQgc3Vycm91bmRpbmcgcHJlZCBpcyBcIitiKHRoaXMucGFyc2VyLmdldFJ1bGVJbnZvY2F0aW9uU3RhY2soKSkpKTt2YXIgaT1udWxsO2lmKG4mJihlLmlzQ3R4RGVwZW5kZW50JiZyfHwhZS5pc0N0eERlcGVuZGVudCkpaWYobyl7dmFyIHU9dGhpcy5faW5wdXQuaW5kZXg7dGhpcy5faW5wdXQuc2Vlayh0aGlzLl9zdGFydEluZGV4KTt2YXIgYz1lLmdldFByZWRpY2F0ZSgpLmV2YWx1YXRlKHRoaXMucGFyc2VyLHRoaXMuX291dGVyQ29udGV4dCk7dGhpcy5faW5wdXQuc2Vlayh1KSxjJiYoaT1uZXcgTCh7c3RhdGU6ZS50YXJnZXR9LHQpKX1lbHNle3ZhciBhPWouYW5kQ29udGV4dCh0LnNlbWFudGljQ29udGV4dCxlLmdldFByZWRpY2F0ZSgpKTtpPW5ldyBMKHtzdGF0ZTplLnRhcmdldCxzZW1hbnRpY0NvbnRleHQ6YX0sdCl9ZWxzZSBpPW5ldyBMKHtzdGF0ZTplLnRhcmdldH0sdCk7cmV0dXJuIHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiY29uZmlnIGZyb20gcHJlZCB0cmFuc2l0aW9uPVwiK2kpLGl9fSx7a2V5OlwicnVsZVRyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiQ0FMTCBydWxlIFwiK3RoaXMuZ2V0UnVsZU5hbWUoZS50YXJnZXQucnVsZUluZGV4KStcIiwgY3R4PVwiK3QuY29udGV4dCk7dmFyIG49ZS5mb2xsb3dTdGF0ZSxyPXZlLmNyZWF0ZSh0LmNvbnRleHQsbi5zdGF0ZU51bWJlcik7cmV0dXJuIG5ldyBMKHtzdGF0ZTplLnRhcmdldCxjb250ZXh0OnJ9LHQpfX0se2tleTpcImdldENvbmZsaWN0aW5nQWx0c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPUl1LmdldENvbmZsaWN0aW5nQWx0U3Vic2V0cyh0KTtyZXR1cm4gSXUuZ2V0QWx0cyhlKX19LHtrZXk6XCJnZXRDb25mbGljdGluZ0FsdHNPclVuaXF1ZUFsdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7cmV0dXJuIHQudW5pcXVlQWx0IT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSPyhlPW5ldyBDZSkuYWRkKHQudW5pcXVlQWx0KTplPXQuY29uZmxpY3RpbmdBbHRzLGV9fSx7a2V5OlwiZ2V0VG9rZW5OYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodD09PW8uRU9GKXJldHVyblwiRU9GXCI7aWYobnVsbCE9PXRoaXMucGFyc2VyJiZudWxsIT09dGhpcy5wYXJzZXIubGl0ZXJhbE5hbWVzKXtpZighKHQ+PXRoaXMucGFyc2VyLmxpdGVyYWxOYW1lcy5sZW5ndGgmJnQ+PXRoaXMucGFyc2VyLnN5bWJvbGljTmFtZXMubGVuZ3RoKSlyZXR1cm4odGhpcy5wYXJzZXIubGl0ZXJhbE5hbWVzW3RdfHx0aGlzLnBhcnNlci5zeW1ib2xpY05hbWVzW3RdKStcIjxcIit0K1wiPlwiO2NvbnNvbGUubG9nKHQrXCIgdHR5cGUgb3V0IG9mIHJhbmdlOiBcIit0aGlzLnBhcnNlci5saXRlcmFsTmFtZXMpLGNvbnNvbGUubG9nKFwiXCIrdGhpcy5wYXJzZXIuZ2V0SW5wdXRTdHJlYW0oKS5nZXRUb2tlbnMoKSl9cmV0dXJuXCJcIit0fX0se2tleTpcImdldExvb2thaGVhZE5hbWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRUb2tlbk5hbWUodC5MQSgxKSl9fSx7a2V5OlwiZHVtcERlYWRFbmRDb25maWdzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Y29uc29sZS5sb2coXCJkZWFkIGVuZCBjb25maWdzOiBcIik7Zm9yKHZhciBlPXQuZ2V0RGVhZEVuZENvbmZpZ3MoKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl0sbz1cIm5vIGVkZ2VzXCI7aWYoci5zdGF0ZS50cmFuc2l0aW9ucy5sZW5ndGg+MCl7dmFyIGk9ci5zdGF0ZS50cmFuc2l0aW9uc1swXTtpIGluc3RhbmNlb2YgZnI/bz1cIkF0b20gXCIrdGhpcy5nZXRUb2tlbk5hbWUoaS5sYWJlbCk6aSBpbnN0YW5jZW9mIHN0JiYobz0oaSBpbnN0YW5jZW9mIHZ0P1wiflwiOlwiXCIpK1wiU2V0IFwiK2kuc2V0KX1jb25zb2xlLmVycm9yKHIudG9TdHJpbmcodGhpcy5wYXJzZXIsITApK1wiOlwiK28pfX19LHtrZXk6XCJub1ZpYWJsZUFsdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgQnUodGhpcy5wYXJzZXIsdCx0LmdldChyKSx0LkxUKDEpLG4sZSl9fSx7a2V5OlwiZ2V0VW5pcXVlQWx0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPUZlLklOVkFMSURfQUxUX05VTUJFUixuPTA7bjx0Lml0ZW1zLmxlbmd0aDtuKyspe3ZhciByPXQuaXRlbXNbbl07aWYoZT09PUZlLklOVkFMSURfQUxUX05VTUJFUillPXIuYWx0O2Vsc2UgaWYoci5hbHQhPT1lKXJldHVybiBGZS5JTlZBTElEX0FMVF9OVU1CRVJ9cmV0dXJuIGV9fSx7a2V5OlwiYWRkREZBRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiRURHRSBcIitlK1wiIC0+IFwiK3IrXCIgdXBvbiBcIit0aGlzLmdldFRva2VuTmFtZShuKSksbnVsbD09PXIpcmV0dXJuIG51bGw7aWYocj10aGlzLmFkZERGQVN0YXRlKHQsciksbnVsbD09PWV8fG48LTF8fG4+dGhpcy5hdG4ubWF4VG9rZW5UeXBlKXJldHVybiByO2lmKG51bGw9PT1lLmVkZ2VzJiYoZS5lZGdlcz1bXSksZS5lZGdlc1tuKzFdPXIsdGhpcy5kZWJ1Zyl7dmFyIG89bnVsbD09PXRoaXMucGFyc2VyP251bGw6dGhpcy5wYXJzZXIubGl0ZXJhbE5hbWVzLGk9bnVsbD09PXRoaXMucGFyc2VyP251bGw6dGhpcy5wYXJzZXIuc3ltYm9saWNOYW1lcztjb25zb2xlLmxvZyhcIkRGQT1cXG5cIit0LnRvU3RyaW5nKG8saSkpfXJldHVybiByfX0se2tleTpcImFkZERGQVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlPT09SmkuRVJST1IpcmV0dXJuIGU7dmFyIG49dC5zdGF0ZXMuZ2V0KGUpO3JldHVybiBudWxsIT09bj8odGhpcy50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcImFkZERGQVN0YXRlIFwiK2UrXCIgZXhpc3RzXCIpLG4pOihlLnN0YXRlTnVtYmVyPXQuc3RhdGVzLmxlbmd0aCxlLmNvbmZpZ3MucmVhZE9ubHl8fChlLmNvbmZpZ3Mub3B0aW1pemVDb25maWdzKHRoaXMpLGUuY29uZmlncy5zZXRSZWFkb25seSghMCkpLHRoaXMudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJhZGRERkFTdGF0ZSBuZXcgXCIrZSksdC5zdGF0ZXMuYWRkKGUpLHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiYWRkaW5nIG5ldyBERkEgc3RhdGU6IFwiK2UpLGUpfX0se2tleTpcInJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodGhpcy5kZWJ1Z3x8dGhpcy5yZXRyeV9kZWJ1Zyl7dmFyIGk9bmV3IEIocixvKzEpO2NvbnNvbGUubG9nKFwicmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0IGRlY2lzaW9uPVwiK3QuZGVjaXNpb24rXCI6XCIrbitcIiwgaW5wdXQ9XCIrdGhpcy5wYXJzZXIuZ2V0VG9rZW5TdHJlYW0oKS5nZXRUZXh0KGkpKX1udWxsIT09dGhpcy5wYXJzZXImJnRoaXMucGFyc2VyLmdldEVycm9yTGlzdGVuZXJEaXNwYXRjaCgpLnJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dCh0aGlzLnBhcnNlcix0LHIsbyxlLG4pfX0se2tleTpcInJlcG9ydENvbnRleHRTZW5zaXRpdml0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyl7aWYodGhpcy5kZWJ1Z3x8dGhpcy5yZXRyeV9kZWJ1Zyl7dmFyIGk9bmV3IEIocixvKzEpO2NvbnNvbGUubG9nKFwicmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5IGRlY2lzaW9uPVwiK3QuZGVjaXNpb24rXCI6XCIrbitcIiwgaW5wdXQ9XCIrdGhpcy5wYXJzZXIuZ2V0VG9rZW5TdHJlYW0oKS5nZXRUZXh0KGkpKX1udWxsIT09dGhpcy5wYXJzZXImJnRoaXMucGFyc2VyLmdldEVycm9yTGlzdGVuZXJEaXNwYXRjaCgpLnJlcG9ydENvbnRleHRTZW5zaXRpdml0eSh0aGlzLnBhcnNlcix0LHIsbyxlLG4pfX0se2tleTpcInJlcG9ydEFtYmlndWl0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUpe2lmKHRoaXMuZGVidWd8fHRoaXMucmV0cnlfZGVidWcpe3ZhciBjPW5ldyBCKG4scisxKTtjb25zb2xlLmxvZyhcInJlcG9ydEFtYmlndWl0eSBcIitpK1wiOlwiK3UrXCIsIGlucHV0PVwiK3RoaXMucGFyc2VyLmdldFRva2VuU3RyZWFtKCkuZ2V0VGV4dChjKSl9bnVsbCE9PXRoaXMucGFyc2VyJiZ0aGlzLnBhcnNlci5nZXRFcnJvckxpc3RlbmVyRGlzcGF0Y2goKS5yZXBvcnRBbWJpZ3VpdHkodGhpcy5wYXJzZXIsdCxuLHIsbyxpLHUpfX1dLG4mJnF1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30oSmkpO2Z1bmN0aW9uIEd1KHQpe3JldHVybiBHdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxHdSh0KX1mdW5jdGlvbiBXdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09R3UodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09R3UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09R3Uobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBYdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY2FjaGU9bmV3IFRlfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQ9PT1vZS5FTVBUWSlyZXR1cm4gb2UuRU1QVFk7dmFyIGU9dGhpcy5jYWNoZS5nZXQodCl8fG51bGw7cmV0dXJuIG51bGwhPT1lP2U6KHRoaXMuY2FjaGUuc2V0KHQsdCksdCl9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FjaGUuZ2V0KHQpfHxudWxsfX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlLmxlbmd0aH19XSkmJld1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtjb25zdCAkdT17QVROOkZlLEFUTkRlc2VyaWFsaXplcjpIbyxMZXhlckFUTlNpbXVsYXRvcjpFdSxQYXJzZXJBVE5TaW11bGF0b3I6WXUsUHJlZGljdGlvbk1vZGU6SXUsUHJlZGljdGlvbkNvbnRleHRDYWNoZTpYdX07ZnVuY3Rpb24gSnUodCl7cmV0dXJuIEp1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEp1KHQpfWZ1bmN0aW9uIFF1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1KdSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1KdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1KdShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIFp1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmRmYT1lLHRoaXMubGl0ZXJhbE5hbWVzPW58fFtdLHRoaXMuc3ltYm9saWNOYW1lcz1yfHxbXX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5kZmEuczApcmV0dXJuIG51bGw7Zm9yKHZhciB0PVwiXCIsZT10aGlzLmRmYS5zb3J0ZWRTdGF0ZXMoKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aWYobnVsbCE9PXIuZWRnZXMpZm9yKHZhciBvPXIuZWRnZXMubGVuZ3RoLGk9MDtpPG87aSsrKXt2YXIgdT1yLmVkZ2VzW2ldfHxudWxsO251bGwhPT11JiYyMTQ3NDgzNjQ3IT09dS5zdGF0ZU51bWJlciYmKHQ9KHQ9KHQ9KHQ9KHQ9KHQ9dC5jb25jYXQodGhpcy5nZXRTdGF0ZVN0cmluZyhyKSkpLmNvbmNhdChcIi1cIikpLmNvbmNhdCh0aGlzLmdldEVkZ2VMYWJlbChpKSkpLmNvbmNhdChcIi0+XCIpKS5jb25jYXQodGhpcy5nZXRTdGF0ZVN0cmluZyh1KSkpLmNvbmNhdChcIlxcblwiKSl9fXJldHVybiAwPT09dC5sZW5ndGg/bnVsbDp0fX0se2tleTpcImdldEVkZ2VMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD9cIkVPRlwiOm51bGwhPT10aGlzLmxpdGVyYWxOYW1lc3x8bnVsbCE9PXRoaXMuc3ltYm9saWNOYW1lcz90aGlzLmxpdGVyYWxOYW1lc1t0LTFdfHx0aGlzLnN5bWJvbGljTmFtZXNbdC0xXTpTdHJpbmcuZnJvbUNoYXJDb2RlKHQtMSl9fSx7a2V5OlwiZ2V0U3RhdGVTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0odC5pc0FjY2VwdFN0YXRlP1wiOlwiOlwiXCIpK1wic1wiK3Quc3RhdGVOdW1iZXIrKHQucmVxdWlyZXNGdWxsQ29udGV4dD9cIl5cIjpcIlwiKTtyZXR1cm4gdC5pc0FjY2VwdFN0YXRlP251bGwhPT10LnByZWRpY2F0ZXM/ZStcIj0+XCIrYih0LnByZWRpY2F0ZXMpOmUrXCI9PlwiK3QucHJlZGljdGlvbi50b1N0cmluZygpOmV9fV0sbiYmUXUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIHRjKHQpe3JldHVybiB0Yz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx0Yyh0KX1mdW5jdGlvbiBlYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09dGModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09dGMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09dGMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIG5jKHQsZSl7cmV0dXJuIG5jPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbmModCxlKX1mdW5jdGlvbiByYyh0KXtyZXR1cm4gcmM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHJjKHQpfXZhciBvYz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmbmModCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1yYyhyKTtpZihvKXt2YXIgbj1yYyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXRjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzLHQsbnVsbCl9cmV0dXJuIGU9dSxuPVt7a2V5OlwiZ2V0RWRnZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCInXCIrU3RyaW5nLmZyb21DaGFyQ29kZSh0KStcIidcIn19XSxuJiZlYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFp1KTtmdW5jdGlvbiBpYyh0KXtyZXR1cm4gaWM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saWModCl9ZnVuY3Rpb24gdWModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWljKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWljKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWljKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgY2M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7aWYoZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHZvaWQgMD09PW4mJihuPTApLHRoaXMuYXRuU3RhcnRTdGF0ZT1lLHRoaXMuZGVjaXNpb249bix0aGlzLl9zdGF0ZXM9bmV3IGcsdGhpcy5zMD1udWxsLHRoaXMucHJlY2VkZW5jZURmYT0hMSxlIGluc3RhbmNlb2Ygem4mJmUuaXNQcmVjZWRlbmNlRGVjaXNpb24pe3RoaXMucHJlY2VkZW5jZURmYT0hMDt2YXIgcj1uZXcgV2kobnVsbCxuZXcgS2kpO3IuZWRnZXM9W10sci5pc0FjY2VwdFN0YXRlPSExLHIucmVxdWlyZXNGdWxsQ29udGV4dD0hMSx0aGlzLnMwPXJ9fXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImdldFByZWNlZGVuY2VTdGFydFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMucHJlY2VkZW5jZURmYSl0aHJvd1wiT25seSBwcmVjZWRlbmNlIERGQXMgbWF5IGNvbnRhaW4gYSBwcmVjZWRlbmNlIHN0YXJ0IHN0YXRlLlwiO3JldHVybiB0PDB8fHQ+PXRoaXMuczAuZWRnZXMubGVuZ3RoP251bGw6dGhpcy5zMC5lZGdlc1t0XXx8bnVsbH19LHtrZXk6XCJzZXRQcmVjZWRlbmNlU3RhcnRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMucHJlY2VkZW5jZURmYSl0aHJvd1wiT25seSBwcmVjZWRlbmNlIERGQXMgbWF5IGNvbnRhaW4gYSBwcmVjZWRlbmNlIHN0YXJ0IHN0YXRlLlwiO3Q8MHx8KHRoaXMuczAuZWRnZXNbdF09ZSl9fSx7a2V5Olwic2V0UHJlY2VkZW5jZURmYVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJlY2VkZW5jZURmYSE9PXQpe2lmKHRoaXMuX3N0YXRlcz1uZXcgZyx0KXt2YXIgZT1uZXcgV2kobnVsbCxuZXcgS2kpO2UuZWRnZXM9W10sZS5pc0FjY2VwdFN0YXRlPSExLGUucmVxdWlyZXNGdWxsQ29udGV4dD0hMSx0aGlzLnMwPWV9ZWxzZSB0aGlzLnMwPW51bGw7dGhpcy5wcmVjZWRlbmNlRGZhPXR9fX0se2tleTpcInNvcnRlZFN0YXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlcy52YWx1ZXMoKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnN0YXRlTnVtYmVyLWUuc3RhdGVOdW1iZXJ9KSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0PXR8fG51bGwsZT1lfHxudWxsLG51bGw9PT10aGlzLnMwP1wiXCI6bmV3IFp1KHRoaXMsdCxlKS50b1N0cmluZygpfX0se2tleTpcInRvTGV4ZXJTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5zMD9cIlwiOm5ldyBvYyh0aGlzKS50b1N0cmluZygpfX0se2tleTpcInN0YXRlc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZXN9fV0pJiZ1YyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7Y29uc3QgYWM9e0RGQTpjYyxERkFTZXJpYWxpemVyOlp1LExleGVyREZBU2VyaWFsaXplcjpvYyxQcmVkUHJlZGljdGlvbjp4dX0sbGM9e1ByZWRpY3Rpb25Db250ZXh0Om9lfSxzYz17SW50ZXJ2YWw6QixJbnRlcnZhbFNldDpWfTtmdW5jdGlvbiBmYyh0KXtyZXR1cm4gZmM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZmModCl9ZnVuY3Rpb24gcGModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWZjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWZjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWZjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgeWM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJ2aXNpdFRlcm1pbmFsXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcInZpc2l0RXJyb3JOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImVudGVyRXZlcnlSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImV4aXRFdmVyeVJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fV0pJiZwYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gaGModCl7cmV0dXJuIGhjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGhjKHQpfWZ1bmN0aW9uIGJjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1oYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1oYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1oYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIHZjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwidmlzaXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWNjZXB0KHRoaXMpfSksdGhpcyk6dC5hY2NlcHQodGhpcyl9fSx7a2V5OlwidmlzaXRDaGlsZHJlblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoaWxkcmVuP3RoaXMudmlzaXQodC5jaGlsZHJlbik6bnVsbH19LHtrZXk6XCJ2aXNpdFRlcm1pbmFsXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcInZpc2l0RXJyb3JOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX1dKSYmYmMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIGRjKHQpe3JldHVybiBkYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxkYyh0KX1mdW5jdGlvbiBtYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09ZGModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09ZGMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09ZGMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBnYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5Olwid2Fsa1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoZSBpbnN0YW5jZW9mIFd0fHx2b2lkIDAhPT1lLmlzRXJyb3JOb2RlJiZlLmlzRXJyb3JOb2RlKCkpdC52aXNpdEVycm9yTm9kZShlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBIdCl0LnZpc2l0VGVybWluYWwoZSk7ZWxzZXt0aGlzLmVudGVyUnVsZSh0LGUpO2Zvcih2YXIgbj0wO248ZS5nZXRDaGlsZENvdW50KCk7bisrKXt2YXIgcj1lLmdldENoaWxkKG4pO3RoaXMud2Fsayh0LHIpfXRoaXMuZXhpdFJ1bGUodCxlKX19fSx7a2V5OlwiZW50ZXJSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnJ1bGVDb250ZXh0O3QuZW50ZXJFdmVyeVJ1bGUobiksbi5lbnRlclJ1bGUodCl9fSx7a2V5OlwiZXhpdFJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUucnVsZUNvbnRleHQ7bi5leGl0UnVsZSh0KSx0LmV4aXRFdmVyeVJ1bGUobil9fV0sbiYmbWMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2djLkRFRkFVTFQ9bmV3IGdjO2NvbnN0IFNjPXtUcmVlczokdCxSdWxlTm9kZTpVdCxFcnJvck5vZGU6V3QsVGVybWluYWxOb2RlOkh0LFBhcnNlVHJlZUxpc3RlbmVyOnljLFBhcnNlVHJlZVZpc2l0b3I6dmMsUGFyc2VUcmVlV2Fsa2VyOmdjfTtmdW5jdGlvbiBPYyh0KXtyZXR1cm4gT2M9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sT2ModCl9ZnVuY3Rpb24gd2ModCxlKXtyZXR1cm4gd2M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSx3Yyh0LGUpfWZ1bmN0aW9uIF9jKHQpe3JldHVybiBfYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sX2ModCl9dmFyIFBjPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZ3Yyh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1fYyhuKTtpZihyKXt2YXIgbz1fYyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PU9jKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLChlPW8uY2FsbCh0aGlzLHttZXNzYWdlOlwiXCIscmVjb2duaXplcjp0LGlucHV0OnQuZ2V0SW5wdXRTdHJlYW0oKSxjdHg6dC5fY3R4fSkpLm9mZmVuZGluZ1Rva2VuPXQuZ2V0Q3VycmVudFRva2VuKCksZX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oeGkpO2Z1bmN0aW9uIFRjKHQpe3JldHVybiBUYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxUYyh0KX1mdW5jdGlvbiBFYyh0LGUpe3JldHVybiBFYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEVjKHQsZSl9ZnVuY3Rpb24ga2ModCl7cmV0dXJuIGtjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxrYyh0KX12YXIgamM9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkVjKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWtjKG4pO2lmKHIpe3ZhciBvPWtjKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09VGMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKHQsZSxuKXt2YXIgcjshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLHI9by5jYWxsKHRoaXMse21lc3NhZ2U6eGMoZSxufHxudWxsKSxyZWNvZ25pemVyOnQsaW5wdXQ6dC5nZXRJbnB1dFN0cmVhbSgpLGN0eDp0Ll9jdHh9KTt2YXIgdT10Ll9pbnRlcnAuYXRuLnN0YXRlc1t0LnN0YXRlXS50cmFuc2l0aW9uc1swXTtyZXR1cm4gdSBpbnN0YW5jZW9mIERyPyhyLnJ1bGVJbmRleD11LnJ1bGVJbmRleCxyLnByZWRpY2F0ZUluZGV4PXUucHJlZEluZGV4KTooci5ydWxlSW5kZXg9MCxyLnByZWRpY2F0ZUluZGV4PTApLHIucHJlZGljYXRlPWUsci5vZmZlbmRpbmdUb2tlbj10LmdldEN1cnJlbnRUb2tlbigpLHJ9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KHhpKTtmdW5jdGlvbiB4Yyh0LGUpe3JldHVybiBudWxsIT09ZT9lOlwiZmFpbGVkIHByZWRpY2F0ZToge1wiK3QrXCJ9P1wifWZ1bmN0aW9uIFJjKHQpe3JldHVybiBSYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxSYyh0KX1mdW5jdGlvbiBDYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09UmModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09UmMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09UmMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEFjKHQsZSl7cmV0dXJuIEFjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQWModCxlKX1mdW5jdGlvbiBOYyh0KXtyZXR1cm4gTmM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE5jKHQpfXZhciBJYz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQWModCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1OYyhyKTtpZihvKXt2YXIgbj1OYyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVJjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLHQ9dHx8ITAsKGU9aS5jYWxsKHRoaXMpKS5leGFjdE9ubHk9dCxlfXJldHVybiBlPXUsbj1be2tleTpcInJlcG9ydEFtYmlndWl0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUpe2lmKCF0aGlzLmV4YWN0T25seXx8byl7dmFyIGM9XCJyZXBvcnRBbWJpZ3VpdHkgZD1cIit0aGlzLmdldERlY2lzaW9uRGVzY3JpcHRpb24odCxlKStcIjogYW1iaWdBbHRzPVwiK3RoaXMuZ2V0Q29uZmxpY3RpbmdBbHRzKGksdSkrXCIsIGlucHV0PSdcIit0LmdldFRva2VuU3RyZWFtKCkuZ2V0VGV4dChuZXcgQihuLHIpKStcIidcIjt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKGMpfX19LHtrZXk6XCJyZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7dmFyIHU9XCJyZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHQgZD1cIit0aGlzLmdldERlY2lzaW9uRGVzY3JpcHRpb24odCxlKStcIiwgaW5wdXQ9J1wiK3QuZ2V0VG9rZW5TdHJlYW0oKS5nZXRUZXh0KG5ldyBCKG4scikpK1wiJ1wiO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnModSl9fSx7a2V5OlwicmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciB1PVwicmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5IGQ9XCIrdGhpcy5nZXREZWNpc2lvbkRlc2NyaXB0aW9uKHQsZSkrXCIsIGlucHV0PSdcIit0LmdldFRva2VuU3RyZWFtKCkuZ2V0VGV4dChuZXcgQihuLHIpKStcIidcIjt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKHUpfX0se2tleTpcImdldERlY2lzaW9uRGVzY3JpcHRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUuZGVjaXNpb24scj1lLmF0blN0YXJ0U3RhdGUucnVsZUluZGV4LG89dC5ydWxlTmFtZXM7aWYocjwwfHxyPj1vLmxlbmd0aClyZXR1cm5cIlwiK247dmFyIGk9b1tyXXx8bnVsbDtyZXR1cm4gbnVsbD09PWl8fDA9PT1pLmxlbmd0aD9cIlwiK246XCJcIi5jb25jYXQobixcIiAoXCIpLmNvbmNhdChpLFwiKVwiKX19LHtrZXk6XCJnZXRDb25mbGljdGluZ0FsdHNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKG51bGwhPT10KXJldHVybiB0O2Zvcih2YXIgbj1uZXcgQ2Uscj0wO3I8ZS5pdGVtcy5sZW5ndGg7cisrKW4uYWRkKGUuaXRlbXNbcl0uYWx0KTtyZXR1cm5cIntcIi5jb25jYXQobi52YWx1ZXMoKS5qb2luKFwiLCBcIiksXCJ9XCIpfX1dLG4mJkNjKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oR28pO2Z1bmN0aW9uIExjKHQpe3JldHVybiBMYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxMYyh0KX1mdW5jdGlvbiBEYyh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBGYyh0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIEZjPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwobj10LC0xPT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSkpcmV0dXJuIHQ7dmFyIG47aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7aWYodm9pZCAwIT09ZSl7aWYoZS5oYXModCkpcmV0dXJuIGUuZ2V0KHQpO2Uuc2V0KHQscil9ZnVuY3Rpb24gcigpe3JldHVybiBCYyh0LGFyZ3VtZW50cyxWYyh0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpyLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLFVjKHIsdCl9LEZjKHQpfWZ1bmN0aW9uIEJjKHQsZSxuKXtyZXR1cm4gQmM9TWMoKT9SZWZsZWN0LmNvbnN0cnVjdC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtudWxsXTtyLnB1c2guYXBwbHkocixlKTt2YXIgbz1uZXcoRnVuY3Rpb24uYmluZC5hcHBseSh0LHIpKTtyZXR1cm4gbiYmVWMobyxuLnByb3RvdHlwZSksb30sQmMuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIE1jKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24gVWModCxlKXtyZXR1cm4gVWM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxVYyh0LGUpfWZ1bmN0aW9uIFZjKHQpe3JldHVybiBWYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVmModCl9dmFyIHpjPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZVYyh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1NYygpLGZ1bmN0aW9uKCl7dmFyIHQsZT1WYyhuKTtpZihyKXt2YXIgbz1WYyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUxjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gRGModCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSx0PW8uY2FsbCh0aGlzKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShEYyh0KSxpKSx0fXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShGYyhFcnJvcikpO2Z1bmN0aW9uIHFjKHQpe3JldHVybiBxYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxxYyh0KX1mdW5jdGlvbiBIYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09cWModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09cWMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09cWMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEtjKHQpe3JldHVybiBLYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxLYyh0KX1mdW5jdGlvbiBZYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09S2ModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09S2MocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09S2Mobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEdjKHQsZSl7cmV0dXJuIEdjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sR2ModCxlKX1mdW5jdGlvbiBXYyh0KXtyZXR1cm4gV2M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFdjKHQpfXZhciBYYz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmR2ModCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1XYyhyKTtpZihpKXt2YXIgbj1XYyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUtjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYygpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKHQ9dS5jYWxsKHRoaXMpKS5lcnJvclJlY292ZXJ5TW9kZT0hMSx0Lmxhc3RFcnJvckluZGV4PS0xLHQubGFzdEVycm9yU3RhdGVzPW51bGwsdC5uZXh0VG9rZW5zQ29udGV4dD1udWxsLHQubmV4dFRva2VuU3RhdGU9MCx0fXJldHVybiBlPWMsbj1be2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lbmRFcnJvckNvbmRpdGlvbih0KX19LHtrZXk6XCJiZWdpbkVycm9yQ29uZGl0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lcnJvclJlY292ZXJ5TW9kZT0hMH19LHtrZXk6XCJpbkVycm9yUmVjb3ZlcnlNb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXJyb3JSZWNvdmVyeU1vZGV9fSx7a2V5OlwiZW5kRXJyb3JDb25kaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVycm9yUmVjb3ZlcnlNb2RlPSExLHRoaXMubGFzdEVycm9yU3RhdGVzPW51bGwsdGhpcy5sYXN0RXJyb3JJbmRleD0tMX19LHtrZXk6XCJyZXBvcnRNYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW5kRXJyb3JDb25kaXRpb24odCl9fSx7a2V5OlwicmVwb3J0RXJyb3JcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuaW5FcnJvclJlY292ZXJ5TW9kZSh0KXx8KHRoaXMuYmVnaW5FcnJvckNvbmRpdGlvbih0KSxlIGluc3RhbmNlb2YgQnU/dGhpcy5yZXBvcnROb1ZpYWJsZUFsdGVybmF0aXZlKHQsZSk6ZSBpbnN0YW5jZW9mIFBjP3RoaXMucmVwb3J0SW5wdXRNaXNtYXRjaCh0LGUpOmUgaW5zdGFuY2VvZiBqYz90aGlzLnJlcG9ydEZhaWxlZFByZWRpY2F0ZSh0LGUpOihjb25zb2xlLmxvZyhcInVua25vd24gcmVjb2duaXRpb24gZXJyb3IgdHlwZTogXCIrZS5jb25zdHJ1Y3Rvci5uYW1lKSxjb25zb2xlLmxvZyhlLnN0YWNrKSx0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKGUuZ2V0T2ZmZW5kaW5nVG9rZW4oKSxlLmdldE1lc3NhZ2UoKSxlKSkpfX0se2tleTpcInJlY292ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubGFzdEVycm9ySW5kZXg9PT10LmdldElucHV0U3RyZWFtKCkuaW5kZXgmJm51bGwhPT10aGlzLmxhc3RFcnJvclN0YXRlcyYmdGhpcy5sYXN0RXJyb3JTdGF0ZXMuaW5kZXhPZih0LnN0YXRlKT49MCYmdC5jb25zdW1lKCksdGhpcy5sYXN0RXJyb3JJbmRleD10Ll9pbnB1dC5pbmRleCxudWxsPT09dGhpcy5sYXN0RXJyb3JTdGF0ZXMmJih0aGlzLmxhc3RFcnJvclN0YXRlcz1bXSksdGhpcy5sYXN0RXJyb3JTdGF0ZXMucHVzaCh0LnN0YXRlKTt2YXIgbj10aGlzLmdldEVycm9yUmVjb3ZlcnlTZXQodCk7dGhpcy5jb25zdW1lVW50aWwodCxuKX19LHtrZXk6XCJzeW5jXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaW5FcnJvclJlY292ZXJ5TW9kZSh0KSl7dmFyIGU9dC5faW50ZXJwLmF0bi5zdGF0ZXNbdC5zdGF0ZV0sbj10LmdldFRva2VuU3RyZWFtKCkuTEEoMSkscj10LmF0bi5uZXh0VG9rZW5zKGUpO2lmKHIuY29udGFpbnMobikpcmV0dXJuIHRoaXMubmV4dFRva2Vuc0NvbnRleHQ9bnVsbCx2b2lkKHRoaXMubmV4dFRva2VuU3RhdGU9SC5JTlZBTElEX1NUQVRFX05VTUJFUik7aWYoci5jb250YWlucyhvLkVQU0lMT04pKW51bGw9PT10aGlzLm5leHRUb2tlbnNDb250ZXh0JiYodGhpcy5uZXh0VG9rZW5zQ29udGV4dD10Ll9jdHgsdGhpcy5uZXh0VG9rZW5zU3RhdGU9dC5fc3RhdGVOdW1iZXIpO2Vsc2Ugc3dpdGNoKGUuc3RhdGVUeXBlKXtjYXNlIEguQkxPQ0tfU1RBUlQ6Y2FzZSBILlNUQVJfQkxPQ0tfU1RBUlQ6Y2FzZSBILlBMVVNfQkxPQ0tfU1RBUlQ6Y2FzZSBILlNUQVJfTE9PUF9FTlRSWTppZihudWxsIT09dGhpcy5zaW5nbGVUb2tlbkRlbGV0aW9uKHQpKXJldHVybjt0aHJvdyBuZXcgUGModCk7Y2FzZSBILlBMVVNfTE9PUF9CQUNLOmNhc2UgSC5TVEFSX0xPT1BfQkFDSzp0aGlzLnJlcG9ydFVud2FudGVkVG9rZW4odCk7dmFyIGk9bmV3IFY7aS5hZGRTZXQodC5nZXRFeHBlY3RlZFRva2VucygpKTt2YXIgdT1pLmFkZFNldCh0aGlzLmdldEVycm9yUmVjb3ZlcnlTZXQodCkpO3RoaXMuY29uc3VtZVVudGlsKHQsdSl9fX19LHtrZXk6XCJyZXBvcnROb1ZpYWJsZUFsdGVybmF0aXZlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyPXQuZ2V0VG9rZW5TdHJlYW0oKTtuPW51bGwhPT1yP2Uuc3RhcnRUb2tlbi50eXBlPT09by5FT0Y/XCI8RU9GPlwiOnIuZ2V0VGV4dChuZXcgQihlLnN0YXJ0VG9rZW4udG9rZW5JbmRleCxlLm9mZmVuZGluZ1Rva2VuLnRva2VuSW5kZXgpKTpcIjx1bmtub3duIGlucHV0PlwiO3ZhciBpPVwibm8gdmlhYmxlIGFsdGVybmF0aXZlIGF0IGlucHV0IFwiK3RoaXMuZXNjYXBlV1NBbmRRdW90ZShuKTt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKGksZS5vZmZlbmRpbmdUb2tlbixlKX19LHtrZXk6XCJyZXBvcnRJbnB1dE1pc21hdGNoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1cIm1pc21hdGNoZWQgaW5wdXQgXCIrdGhpcy5nZXRUb2tlbkVycm9yRGlzcGxheShlLm9mZmVuZGluZ1Rva2VuKStcIiBleHBlY3RpbmcgXCIrZS5nZXRFeHBlY3RlZFRva2VucygpLnRvU3RyaW5nKHQubGl0ZXJhbE5hbWVzLHQuc3ltYm9saWNOYW1lcyk7dC5ub3RpZnlFcnJvckxpc3RlbmVycyhuLGUub2ZmZW5kaW5nVG9rZW4sZSl9fSx7a2V5OlwicmVwb3J0RmFpbGVkUHJlZGljYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1cInJ1bGUgXCIrdC5ydWxlTmFtZXNbdC5fY3R4LnJ1bGVJbmRleF0rXCIgXCIrZS5tZXNzYWdlO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnMobixlLm9mZmVuZGluZ1Rva2VuLGUpfX0se2tleTpcInJlcG9ydFVud2FudGVkVG9rZW5cIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5pbkVycm9yUmVjb3ZlcnlNb2RlKHQpKXt0aGlzLmJlZ2luRXJyb3JDb25kaXRpb24odCk7dmFyIGU9dC5nZXRDdXJyZW50VG9rZW4oKSxuPVwiZXh0cmFuZW91cyBpbnB1dCBcIit0aGlzLmdldFRva2VuRXJyb3JEaXNwbGF5KGUpK1wiIGV4cGVjdGluZyBcIit0aGlzLmdldEV4cGVjdGVkVG9rZW5zKHQpLnRvU3RyaW5nKHQubGl0ZXJhbE5hbWVzLHQuc3ltYm9saWNOYW1lcyk7dC5ub3RpZnlFcnJvckxpc3RlbmVycyhuLGUsbnVsbCl9fX0se2tleTpcInJlcG9ydE1pc3NpbmdUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmluRXJyb3JSZWNvdmVyeU1vZGUodCkpe3RoaXMuYmVnaW5FcnJvckNvbmRpdGlvbih0KTt2YXIgZT10LmdldEN1cnJlbnRUb2tlbigpLG49XCJtaXNzaW5nIFwiK3RoaXMuZ2V0RXhwZWN0ZWRUb2tlbnModCkudG9TdHJpbmcodC5saXRlcmFsTmFtZXMsdC5zeW1ib2xpY05hbWVzKStcIiBhdCBcIit0aGlzLmdldFRva2VuRXJyb3JEaXNwbGF5KGUpO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnMobixlLG51bGwpfX19LHtrZXk6XCJyZWNvdmVySW5saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zaW5nbGVUb2tlbkRlbGV0aW9uKHQpO2lmKG51bGwhPT1lKXJldHVybiB0LmNvbnN1bWUoKSxlO2lmKHRoaXMuc2luZ2xlVG9rZW5JbnNlcnRpb24odCkpcmV0dXJuIHRoaXMuZ2V0TWlzc2luZ1N5bWJvbCh0KTt0aHJvdyBuZXcgUGModCl9fSx7a2V5Olwic2luZ2xlVG9rZW5JbnNlcnRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldFRva2VuU3RyZWFtKCkuTEEoMSksbj10Ll9pbnRlcnAuYXRuLHI9bi5zdGF0ZXNbdC5zdGF0ZV0udHJhbnNpdGlvbnNbMF0udGFyZ2V0O3JldHVybiEhbi5uZXh0VG9rZW5zKHIsdC5fY3R4KS5jb250YWlucyhlKSYmKHRoaXMucmVwb3J0TWlzc2luZ1Rva2VuKHQpLCEwKX19LHtrZXk6XCJzaW5nbGVUb2tlbkRlbGV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRUb2tlblN0cmVhbSgpLkxBKDIpO2lmKHRoaXMuZ2V0RXhwZWN0ZWRUb2tlbnModCkuY29udGFpbnMoZSkpe3RoaXMucmVwb3J0VW53YW50ZWRUb2tlbih0KSx0LmNvbnN1bWUoKTt2YXIgbj10LmdldEN1cnJlbnRUb2tlbigpO3JldHVybiB0aGlzLnJlcG9ydE1hdGNoKHQpLG59cmV0dXJuIG51bGx9fSx7a2V5OlwiZ2V0TWlzc2luZ1N5bWJvbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLG49dC5nZXRDdXJyZW50VG9rZW4oKSxyPXRoaXMuZ2V0RXhwZWN0ZWRUb2tlbnModCkuZmlyc3QoKTtlPXI9PT1vLkVPRj9cIjxtaXNzaW5nIEVPRj5cIjpcIjxtaXNzaW5nIFwiK3QubGl0ZXJhbE5hbWVzW3JdK1wiPlwiO3ZhciBpPW4sdT10LmdldFRva2VuU3RyZWFtKCkuTFQoLTEpO3JldHVybiBpLnR5cGU9PT1vLkVPRiYmbnVsbCE9PXUmJihpPXUpLHQuZ2V0VG9rZW5GYWN0b3J5KCkuY3JlYXRlKGkuc291cmNlLHIsZSxvLkRFRkFVTFRfQ0hBTk5FTCwtMSwtMSxpLmxpbmUsaS5jb2x1bW4pfX0se2tleTpcImdldEV4cGVjdGVkVG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0RXhwZWN0ZWRUb2tlbnMoKX19LHtrZXk6XCJnZXRUb2tlbkVycm9yRGlzcGxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXJldHVyblwiPG5vIHRva2VuPlwiO3ZhciBlPXQudGV4dDtyZXR1cm4gbnVsbD09PWUmJihlPXQudHlwZT09PW8uRU9GP1wiPEVPRj5cIjpcIjxcIit0LnR5cGUrXCI+XCIpLHRoaXMuZXNjYXBlV1NBbmRRdW90ZShlKX19LHtrZXk6XCJlc2NhcGVXU0FuZFF1b3RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCInXCIrKHQ9KHQ9KHQ9dC5yZXBsYWNlKC9cXG4vZyxcIlxcXFxuXCIpKS5yZXBsYWNlKC9cXHIvZyxcIlxcXFxyXCIpKS5yZXBsYWNlKC9cXHQvZyxcIlxcXFx0XCIpKStcIidcIn19LHtrZXk6XCJnZXRFcnJvclJlY292ZXJ5U2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuX2ludGVycC5hdG4sbj10Ll9jdHgscj1uZXcgVjtudWxsIT09biYmbi5pbnZva2luZ1N0YXRlPj0wOyl7dmFyIGk9ZS5zdGF0ZXNbbi5pbnZva2luZ1N0YXRlXS50cmFuc2l0aW9uc1swXSx1PWUubmV4dFRva2VucyhpLmZvbGxvd1N0YXRlKTtyLmFkZFNldCh1KSxuPW4ucGFyZW50Q3R4fXJldHVybiByLnJlbW92ZU9uZShvLkVQU0lMT04pLHJ9fSx7a2V5OlwiY29uc3VtZVVudGlsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5nZXRUb2tlblN0cmVhbSgpLkxBKDEpO24hPT1vLkVPRiYmIWUuY29udGFpbnMobik7KXQuY29uc3VtZSgpLG49dC5nZXRUb2tlblN0cmVhbSgpLkxBKDEpfX1dLG4mJlljKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30oZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJyZWNvdmVySW5saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcInJlY292ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe319LHtrZXk6XCJzeW5jXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImluRXJyb3JSZWNvdmVyeU1vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwicmVwb3J0RXJyb3JcIix2YWx1ZTpmdW5jdGlvbih0KXt9fV0pJiZIYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCkpO2Z1bmN0aW9uICRjKHQpe3JldHVybiAkYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSwkYyh0KX1mdW5jdGlvbiBKYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09JGModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09JGMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09JGMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFFjKHQsZSl7cmV0dXJuIFFjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sUWModCxlKX1mdW5jdGlvbiBaYyh0KXtyZXR1cm4gWmM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFpjKHQpfXZhciB0YT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmUWModCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1aYyhyKTtpZihvKXt2YXIgbj1aYyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PSRjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMpfXJldHVybiBlPXUsbj1be2tleTpcInJlY292ZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Ll9jdHg7bnVsbCE9PW47KW4uZXhjZXB0aW9uPWUsbj1uLnBhcmVudEN0eDt0aHJvdyBuZXcgemMoZSl9fSx7a2V5OlwicmVjb3ZlcklubGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucmVjb3Zlcih0LG5ldyBQYyh0KSl9fSx7a2V5Olwic3luY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe319XSxuJiZKYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFhjKTtjb25zdCBlYT17UmVjb2duaXRpb25FeGNlcHRpb246eGksTm9WaWFibGVBbHRFeGNlcHRpb246QnUsTGV4ZXJOb1ZpYWJsZUFsdEV4Y2VwdGlvbjpJaSxJbnB1dE1pc21hdGNoRXhjZXB0aW9uOlBjLEZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbjpqYyxEaWFnbm9zdGljRXJyb3JMaXN0ZW5lcjpJYyxCYWlsRXJyb3JTdHJhdGVneTp0YSxEZWZhdWx0RXJyb3JTdHJhdGVneTpYYyxFcnJvckxpc3RlbmVyOkdvfTtmdW5jdGlvbiBuYSh0KXtyZXR1cm4gbmE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbmEodCl9ZnVuY3Rpb24gcmEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PW5hKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PW5hKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PW5hKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgb2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7aWYoZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMubmFtZT1cIjxlbXB0eT5cIix0aGlzLnN0cmRhdGE9ZSx0aGlzLmRlY29kZVRvVW5pY29kZUNvZGVQb2ludHM9bnx8ITEsdGhpcy5faW5kZXg9MCx0aGlzLmRhdGE9W10sdGhpcy5kZWNvZGVUb1VuaWNvZGVDb2RlUG9pbnRzKWZvcih2YXIgcj0wO3I8dGhpcy5zdHJkYXRhLmxlbmd0aDspe3ZhciBvPXRoaXMuc3RyZGF0YS5jb2RlUG9pbnRBdChyKTt0aGlzLmRhdGEucHVzaChvKSxyKz1vPD02NTUzNT8xOjJ9ZWxzZXt0aGlzLmRhdGE9bmV3IEFycmF5KHRoaXMuc3RyZGF0YS5sZW5ndGgpO2Zvcih2YXIgaT0wO2k8dGhpcy5zdHJkYXRhLmxlbmd0aDtpKyspdGhpcy5kYXRhW2ldPXRoaXMuc3RyZGF0YS5jaGFyQ29kZUF0KGkpfXRoaXMuX3NpemU9dGhpcy5kYXRhLmxlbmd0aH12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9pbmRleD0wfX0se2tleTpcImNvbnN1bWVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2luZGV4Pj10aGlzLl9zaXplKXRocm93XCJjYW5ub3QgY29uc3VtZSBFT0ZcIjt0aGlzLl9pbmRleCs9MX19LHtrZXk6XCJMQVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKDA9PT10KXJldHVybiAwO3Q8MCYmKHQrPTEpO3ZhciBlPXRoaXMuX2luZGV4K3QtMTtyZXR1cm4gZTwwfHxlPj10aGlzLl9zaXplP28uRU9GOnRoaXMuZGF0YVtlXX19LHtrZXk6XCJMVFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkxBKHQpfX0se2tleTpcIm1hcmtcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybi0xfX0se2tleTpcInJlbGVhc2VcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5Olwic2Vla1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q8PXRoaXMuX2luZGV4P3RoaXMuX2luZGV4PXQ6dGhpcy5faW5kZXg9TWF0aC5taW4odCx0aGlzLl9zaXplKX19LHtrZXk6XCJnZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlPj10aGlzLl9zaXplJiYoZT10aGlzLl9zaXplLTEpLHQ+PXRoaXMuX3NpemUpcmV0dXJuXCJcIjtpZih0aGlzLmRlY29kZVRvVW5pY29kZUNvZGVQb2ludHMpe2Zvcih2YXIgbj1cIlwiLHI9dDtyPD1lO3IrKyluKz1TdHJpbmcuZnJvbUNvZGVQb2ludCh0aGlzLmRhdGFbcl0pO3JldHVybiBufXJldHVybiB0aGlzLnN0cmRhdGEuc2xpY2UodCxlKzEpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJkYXRhfX0se2tleTpcImluZGV4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZGV4fX0se2tleTpcInNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZX19XSxuJiZyYShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gaWEodCl7cmV0dXJuIGlhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGlhKHQpfWZ1bmN0aW9uIHVhKHQsZSl7cmV0dXJuIHVhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sdWEodCxlKX1mdW5jdGlvbiBjYSh0KXtyZXR1cm4gY2E9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGNhKHQpfXZhciBhYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmdWEodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Y2Eobik7aWYocil7dmFyIG89Y2EodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1pYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkodCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLG8uY2FsbCh0aGlzLHQsZSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KG9hKSxsYT1uKDkyKTtmdW5jdGlvbiBzYSh0KXtyZXR1cm4gc2E9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sc2EodCl9ZnVuY3Rpb24gZmEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXNhKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXNhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXNhKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBwYSh0LGUpe3JldHVybiBwYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHBhKHQsZSl9ZnVuY3Rpb24geWEodCl7cmV0dXJuIHlhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx5YSh0KX12YXIgaGE9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJm51bGwhPXByb2Nlc3MudmVyc2lvbnMmJm51bGwhPXByb2Nlc3MudmVyc2lvbnMubm9kZSxiYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmcGEodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT15YShyKTtpZihvKXt2YXIgbj15YSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXNhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUsbil7dmFyIHI7aWYoZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLCFoYSl0aHJvdyBuZXcgRXJyb3IoXCJGaWxlU3RyZWFtIGlzIG9ubHkgYXZhaWxhYmxlIHdoZW4gcnVubmluZyBpbiBOb2RlIVwiKTt2YXIgbz1sYS5yZWFkRmlsZVN5bmModCxlfHxcInV0Zi04XCIpO3JldHVybihyPWkuY2FsbCh0aGlzLG8sbikpLmZpbGVOYW1lPXQscn1yZXR1cm4gZT11LG49W3trZXk6XCJmcm9tUGF0aFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZighaGEpdGhyb3cgbmV3IEVycm9yKFwiRmlsZVN0cmVhbSBpcyBvbmx5IGF2YWlsYWJsZSB3aGVuIHJ1bm5pbmcgaW4gTm9kZSFcIik7bGEucmVhZEZpbGUodCxlLChmdW5jdGlvbih0LGUpe3ZhciByPW51bGw7bnVsbCE9PWUmJihyPW5ldyBvYShlLCEwKSksbih0LHIpfSkpfX1dLG51bGwmJmZhKGUucHJvdG90eXBlLG51bGwpLG4mJmZhKGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShhYSk7Y29uc3QgdmE9e2Zyb21TdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBvYSh0LCEwKX0sZnJvbUJsb2I6ZnVuY3Rpb24odCxlLG4scil7dmFyIG89bmV3IHdpbmRvdy5GaWxlUmVhZGVyO28ub25sb2FkPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBvYSh0LnRhcmdldC5yZXN1bHQsITApO24oZSl9LG8ub25lcnJvcj1yLG8ucmVhZEFzVGV4dCh0LGUpfSxmcm9tQnVmZmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBvYSh0LnRvU3RyaW5nKGUpLCEwKX0sZnJvbVBhdGg6ZnVuY3Rpb24odCxlLG4pe2JhLmZyb21QYXRoKHQsZSxuKX0sZnJvbVBhdGhTeW5jOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBiYSh0LGUpfX0sZGE9e2FycmF5VG9TdHJpbmc6YixzdHJpbmdUb0NoYXJBcnJheTpmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IFVpbnQxNkFycmF5KHQubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDtuKyspZVtuXT10LmNoYXJDb2RlQXQobik7cmV0dXJuIGV9fTtmdW5jdGlvbiBtYSh0KXtyZXR1cm4gbWE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbWEodCl9ZnVuY3Rpb24gZ2EodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PW1hKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PW1hKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PW1hKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBTYSh0LGUsbil7cmV0dXJuIGUmJmdhKHQucHJvdG90eXBlLGUpLG4mJmdhKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIE9hKHQpe3JldHVybiBPYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxPYSh0KX1mdW5jdGlvbiB3YSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09T2EodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09T2EocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09T2Eobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIF9hKHQsZSl7cmV0dXJuIF9hPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sX2EodCxlKX1mdW5jdGlvbiBQYSh0KXtyZXR1cm4gUGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFBhKHQpfXZhciBUYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmX2EodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1QYShyKTtpZihpKXt2YXIgbj1QYSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PU9hKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChlPXUuY2FsbCh0aGlzKSkudG9rZW5Tb3VyY2U9dCxlLnRva2Vucz1bXSxlLmluZGV4PS0xLGUuZmV0Y2hlZEVPRj0hMSxlfXJldHVybiBlPWMsbj1be2tleTpcIm1hcmtcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwfX0se2tleTpcInJlbGVhc2VcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VlaygwKX19LHtrZXk6XCJzZWVrXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5sYXp5SW5pdCgpLHRoaXMuaW5kZXg9dGhpcy5hZGp1c3RTZWVrSW5kZXgodCl9fSx7a2V5Olwic2l6ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2Vucy5sZW5ndGh9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGF6eUluaXQoKSx0aGlzLnRva2Vuc1t0XX19LHtrZXk6XCJjb25zdW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighKHRoaXMuaW5kZXg+PTAmJih0aGlzLmZldGNoZWRFT0Y/dGhpcy5pbmRleDx0aGlzLnRva2Vucy5sZW5ndGgtMTp0aGlzLmluZGV4PHRoaXMudG9rZW5zLmxlbmd0aCkpJiZ0aGlzLkxBKDEpPT09by5FT0YpdGhyb3dcImNhbm5vdCBjb25zdW1lIEVPRlwiO3RoaXMuc3luYyh0aGlzLmluZGV4KzEpJiYodGhpcy5pbmRleD10aGlzLmFkanVzdFNlZWtJbmRleCh0aGlzLmluZGV4KzEpKX19LHtrZXk6XCJzeW5jXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC10aGlzLnRva2Vucy5sZW5ndGgrMTtyZXR1cm4hKGU+MCl8fHRoaXMuZmV0Y2goZSk+PWV9fSx7a2V5OlwiZmV0Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmZldGNoZWRFT0YpcmV0dXJuIDA7Zm9yKHZhciBlPTA7ZTx0O2UrKyl7dmFyIG49dGhpcy50b2tlblNvdXJjZS5uZXh0VG9rZW4oKTtpZihuLnRva2VuSW5kZXg9dGhpcy50b2tlbnMubGVuZ3RoLHRoaXMudG9rZW5zLnB1c2gobiksbi50eXBlPT09by5FT0YpcmV0dXJuIHRoaXMuZmV0Y2hlZEVPRj0hMCxlKzF9cmV0dXJuIHR9fSx7a2V5OlwiZ2V0VG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPW51bGwpLHQ8MHx8ZTwwKXJldHVybiBudWxsO3RoaXMubGF6eUluaXQoKTt2YXIgcj1bXTtlPj10aGlzLnRva2Vucy5sZW5ndGgmJihlPXRoaXMudG9rZW5zLmxlbmd0aC0xKTtmb3IodmFyIGk9dDtpPGU7aSsrKXt2YXIgdT10aGlzLnRva2Vuc1tpXTtpZih1LnR5cGU9PT1vLkVPRilicmVhazsobnVsbD09PW58fG4uY29udGFpbnModS50eXBlKSkmJnIucHVzaCh1KX1yZXR1cm4gcn19LHtrZXk6XCJMQVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkxUKHQpLnR5cGV9fSx7a2V5OlwiTEJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbmRleC10PDA/bnVsbDp0aGlzLnRva2Vuc1t0aGlzLmluZGV4LXRdfX0se2tleTpcIkxUXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5sYXp5SW5pdCgpLDA9PT10KXJldHVybiBudWxsO2lmKHQ8MClyZXR1cm4gdGhpcy5MQigtdCk7dmFyIGU9dGhpcy5pbmRleCt0LTE7cmV0dXJuIHRoaXMuc3luYyhlKSxlPj10aGlzLnRva2Vucy5sZW5ndGg/dGhpcy50b2tlbnNbdGhpcy50b2tlbnMubGVuZ3RoLTFdOnRoaXMudG9rZW5zW2VdfX0se2tleTpcImFkanVzdFNlZWtJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0fX0se2tleTpcImxhenlJbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXstMT09PXRoaXMuaW5kZXgmJnRoaXMuc2V0dXAoKX19LHtrZXk6XCJzZXR1cFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zeW5jKDApLHRoaXMuaW5kZXg9dGhpcy5hZGp1c3RTZWVrSW5kZXgoMCl9fSx7a2V5Olwic2V0VG9rZW5Tb3VyY2VcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnRva2VuU291cmNlPXQsdGhpcy50b2tlbnM9W10sdGhpcy5pbmRleD0tMSx0aGlzLmZldGNoZWRFT0Y9ITF9fSx7a2V5OlwibmV4dFRva2VuT25DaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLnN5bmModCksdD49dGhpcy50b2tlbnMubGVuZ3RoKXJldHVybi0xO2Zvcih2YXIgbj10aGlzLnRva2Vuc1t0XTtuLmNoYW5uZWwhPT10aGlzLmNoYW5uZWw7KXtpZihuLnR5cGU9PT1vLkVPRilyZXR1cm4tMTt0Kz0xLHRoaXMuc3luYyh0KSxuPXRoaXMudG9rZW5zW3RdfXJldHVybiB0fX0se2tleTpcInByZXZpb3VzVG9rZW5PbkNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcig7dD49MCYmdGhpcy50b2tlbnNbdF0uY2hhbm5lbCE9PWU7KXQtPTE7cmV0dXJuIHR9fSx7a2V5OlwiZ2V0SGlkZGVuVG9rZW5zVG9SaWdodFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9LTEpLHRoaXMubGF6eUluaXQoKSx0PDB8fHQ+PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyB0K1wiIG5vdCBpbiAwLi5cIit0aGlzLnRva2Vucy5sZW5ndGgtMTt2YXIgbj10aGlzLm5leHRUb2tlbk9uQ2hhbm5lbCh0KzEsVWkuREVGQVVMVF9UT0tFTl9DSEFOTkVMKSxyPXQrMSxvPS0xPT09bj90aGlzLnRva2Vucy5sZW5ndGgtMTpuO3JldHVybiB0aGlzLmZpbHRlckZvckNoYW5uZWwocixvLGUpfX0se2tleTpcImdldEhpZGRlblRva2Vuc1RvTGVmdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9LTEpLHRoaXMubGF6eUluaXQoKSx0PDB8fHQ+PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyB0K1wiIG5vdCBpbiAwLi5cIit0aGlzLnRva2Vucy5sZW5ndGgtMTt2YXIgbj10aGlzLnByZXZpb3VzVG9rZW5PbkNoYW5uZWwodC0xLFVpLkRFRkFVTFRfVE9LRU5fQ0hBTk5FTCk7aWYobj09PXQtMSlyZXR1cm4gbnVsbDt2YXIgcj1uKzEsbz10LTE7cmV0dXJuIHRoaXMuZmlsdGVyRm9yQ2hhbm5lbChyLG8sZSl9fSx7a2V5OlwiZmlsdGVyRm9yQ2hhbm5lbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10sbz10O288ZSsxO28rKyl7dmFyIGk9dGhpcy50b2tlbnNbb107LTE9PT1uP2kuY2hhbm5lbCE9PVVpLkRFRkFVTFRfVE9LRU5fQ0hBTk5FTCYmci5wdXNoKGkpOmkuY2hhbm5lbD09PW4mJnIucHVzaChpKX1yZXR1cm4gMD09PXIubGVuZ3RoP251bGw6cn19LHtrZXk6XCJnZXRTb3VyY2VOYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlblNvdXJjZS5nZXRTb3VyY2VOYW1lKCl9fSx7a2V5OlwiZ2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubGF6eUluaXQoKSx0aGlzLmZpbGwoKSx0fHwodD1uZXcgQigwLHRoaXMudG9rZW5zLmxlbmd0aC0xKSk7dmFyIGU9dC5zdGFydDtlIGluc3RhbmNlb2YgbyYmKGU9ZS50b2tlbkluZGV4KTt2YXIgbj10LnN0b3A7aWYobiBpbnN0YW5jZW9mIG8mJihuPW4udG9rZW5JbmRleCksbnVsbD09PWV8fG51bGw9PT1ufHxlPDB8fG48MClyZXR1cm5cIlwiO24+PXRoaXMudG9rZW5zLmxlbmd0aCYmKG49dGhpcy50b2tlbnMubGVuZ3RoLTEpO2Zvcih2YXIgcj1cIlwiLGk9ZTtpPG4rMTtpKyspe3ZhciB1PXRoaXMudG9rZW5zW2ldO2lmKHUudHlwZT09PW8uRU9GKWJyZWFrO3IrPXUudGV4dH1yZXR1cm4gcn19LHtrZXk6XCJmaWxsXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodGhpcy5sYXp5SW5pdCgpOzFlMz09PXRoaXMuZmV0Y2goMWUzKTspO319XSxuJiZ3YShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KFNhKChmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX0pKSk7ZnVuY3Rpb24gRWEodCl7cmV0dXJuIEVhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEVhKHQpfWZ1bmN0aW9uIGthKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1FYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1FYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1FYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gamEodCxlKXtyZXR1cm4gamE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxqYSh0LGUpfWZ1bmN0aW9uIHhhKHQpe3JldHVybiB4YT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0seGEodCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KFRhLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnMubGVuZ3RofX0pO3ZhciBSYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmamEodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT14YShyKTtpZihpKXt2YXIgbj14YSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUVhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKG49dS5jYWxsKHRoaXMsdCkpLmNoYW5uZWw9dm9pZCAwPT09ZT9vLkRFRkFVTFRfQ0hBTk5FTDplLG59cmV0dXJuIGU9YyxuPVt7a2V5OlwiYWRqdXN0U2Vla0luZGV4XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dFRva2VuT25DaGFubmVsKHQsdGhpcy5jaGFubmVsKX19LHtrZXk6XCJMQlwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKDA9PT10fHx0aGlzLmluZGV4LXQ8MClyZXR1cm4gbnVsbDtmb3IodmFyIGU9dGhpcy5pbmRleCxuPTE7bjw9dDspZT10aGlzLnByZXZpb3VzVG9rZW5PbkNoYW5uZWwoZS0xLHRoaXMuY2hhbm5lbCksbis9MTtyZXR1cm4gZTwwP251bGw6dGhpcy50b2tlbnNbZV19fSx7a2V5OlwiTFRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmxhenlJbml0KCksMD09PXQpcmV0dXJuIG51bGw7aWYodDwwKXJldHVybiB0aGlzLkxCKC10KTtmb3IodmFyIGU9dGhpcy5pbmRleCxuPTE7bjx0Oyl0aGlzLnN5bmMoZSsxKSYmKGU9dGhpcy5uZXh0VG9rZW5PbkNoYW5uZWwoZSsxLHRoaXMuY2hhbm5lbCkpLG4rPTE7cmV0dXJuIHRoaXMudG9rZW5zW2VdfX0se2tleTpcImdldE51bWJlck9mT25DaGFubmVsVG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wO3RoaXMuZmlsbCgpO2Zvcih2YXIgZT0wO2U8dGhpcy50b2tlbnMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy50b2tlbnNbZV07aWYobi5jaGFubmVsPT09dGhpcy5jaGFubmVsJiYodCs9MSksbi50eXBlPT09by5FT0YpYnJlYWt9cmV0dXJuIHR9fV0sbiYma2EoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShUYSk7ZnVuY3Rpb24gQ2EodCl7cmV0dXJuIENhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LENhKHQpfWZ1bmN0aW9uIEFhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1DYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1DYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1DYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gTmEodCxlKXtyZXR1cm4gTmE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxOYSh0LGUpfWZ1bmN0aW9uIElhKHQpe3JldHVybiBJYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sSWEodCl9dmFyIExhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZOYSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUlhKHIpO2lmKG8pe3ZhciBuPUlhKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Q2EoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKGU9aS5jYWxsKHRoaXMpKS5wYXJzZXI9dCxlfXJldHVybiBlPXUsKG49W3trZXk6XCJlbnRlckV2ZXJ5UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwiZW50ZXIgICBcIit0aGlzLnBhcnNlci5ydWxlTmFtZXNbdC5ydWxlSW5kZXhdK1wiLCBMVCgxKT1cIit0aGlzLnBhcnNlci5faW5wdXQuTFQoMSkudGV4dCl9fSx7a2V5OlwidmlzaXRUZXJtaW5hbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwiY29uc3VtZSBcIit0LnN5bWJvbCtcIiBydWxlIFwiK3RoaXMucGFyc2VyLnJ1bGVOYW1lc1t0aGlzLnBhcnNlci5fY3R4LnJ1bGVJbmRleF0pfX0se2tleTpcImV4aXRFdmVyeVJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcImV4aXQgICAgXCIrdGhpcy5wYXJzZXIucnVsZU5hbWVzW3QucnVsZUluZGV4XStcIiwgTFQoMSk9XCIrdGhpcy5wYXJzZXIuX2lucHV0LkxUKDEpLnRleHQpfX1dKSYmQWEoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh5Yyk7ZnVuY3Rpb24gRGEodCl7cmV0dXJuIERhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LERhKHQpfWZ1bmN0aW9uIEZhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1EYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1EYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1EYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gQmEodCxlKXtyZXR1cm4gQmE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxCYSh0LGUpfWZ1bmN0aW9uIE1hKHQpe3JldHVybiBNYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTWEodCl9dmFyIFVhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZCYSh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPU1hKHIpO2lmKGkpe3ZhciBuPU1hKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09RGEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKGU9dS5jYWxsKHRoaXMpKS5faW5wdXQ9bnVsbCxlLl9lcnJIYW5kbGVyPW5ldyBYYyxlLl9wcmVjZWRlbmNlU3RhY2s9W10sZS5fcHJlY2VkZW5jZVN0YWNrLnB1c2goMCksZS5fY3R4PW51bGwsZS5idWlsZFBhcnNlVHJlZXM9ITAsZS5fdHJhY2VyPW51bGwsZS5fcGFyc2VMaXN0ZW5lcnM9bnVsbCxlLl9zeW50YXhFcnJvcnM9MCxlLnNldElucHV0U3RyZWFtKHQpLGV9cmV0dXJuIGU9YyxuPVt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe251bGwhPT10aGlzLl9pbnB1dCYmdGhpcy5faW5wdXQuc2VlaygwKSx0aGlzLl9lcnJIYW5kbGVyLnJlc2V0KHRoaXMpLHRoaXMuX2N0eD1udWxsLHRoaXMuX3N5bnRheEVycm9ycz0wLHRoaXMuc2V0VHJhY2UoITEpLHRoaXMuX3ByZWNlZGVuY2VTdGFjaz1bXSx0aGlzLl9wcmVjZWRlbmNlU3RhY2sucHVzaCgwKSxudWxsIT09dGhpcy5faW50ZXJwJiZ0aGlzLl9pbnRlcnAucmVzZXQoKX19LHtrZXk6XCJtYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q3VycmVudFRva2VuKCk7cmV0dXJuIGUudHlwZT09PXQ/KHRoaXMuX2VyckhhbmRsZXIucmVwb3J0TWF0Y2godGhpcyksdGhpcy5jb25zdW1lKCkpOihlPXRoaXMuX2VyckhhbmRsZXIucmVjb3ZlcklubGluZSh0aGlzKSx0aGlzLmJ1aWxkUGFyc2VUcmVlcyYmLTE9PT1lLnRva2VuSW5kZXgmJnRoaXMuX2N0eC5hZGRFcnJvck5vZGUoZSkpLGV9fSx7a2V5OlwibWF0Y2hXaWxkY2FyZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRDdXJyZW50VG9rZW4oKTtyZXR1cm4gdC50eXBlPjA/KHRoaXMuX2VyckhhbmRsZXIucmVwb3J0TWF0Y2godGhpcyksdGhpcy5jb25zdW1lKCkpOih0PXRoaXMuX2VyckhhbmRsZXIucmVjb3ZlcklubGluZSh0aGlzKSx0aGlzLmJ1aWxkUGFyc2VUcmVlcyYmLTE9PT10LnRva2VuSW5kZXgmJnRoaXMuX2N0eC5hZGRFcnJvck5vZGUodCkpLHR9fSx7a2V5OlwiZ2V0UGFyc2VMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJzZUxpc3RlbmVyc3x8W119fSx7a2V5OlwiYWRkUGFyc2VMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXRocm93XCJsaXN0ZW5lclwiO251bGw9PT10aGlzLl9wYXJzZUxpc3RlbmVycyYmKHRoaXMuX3BhcnNlTGlzdGVuZXJzPVtdKSx0aGlzLl9wYXJzZUxpc3RlbmVycy5wdXNoKHQpfX0se2tleTpcInJlbW92ZVBhcnNlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5fcGFyc2VMaXN0ZW5lcnMpe3ZhciBlPXRoaXMuX3BhcnNlTGlzdGVuZXJzLmluZGV4T2YodCk7ZT49MCYmdGhpcy5fcGFyc2VMaXN0ZW5lcnMuc3BsaWNlKGUsMSksMD09PXRoaXMuX3BhcnNlTGlzdGVuZXJzLmxlbmd0aCYmKHRoaXMuX3BhcnNlTGlzdGVuZXJzPW51bGwpfX19LHtrZXk6XCJyZW1vdmVQYXJzZUxpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcGFyc2VMaXN0ZW5lcnM9bnVsbH19LHtrZXk6XCJ0cmlnZ2VyRW50ZXJSdWxlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLl9wYXJzZUxpc3RlbmVycyl7dmFyIHQ9dGhpcy5fY3R4O3RoaXMuX3BhcnNlTGlzdGVuZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZW50ZXJFdmVyeVJ1bGUodCksdC5lbnRlclJ1bGUoZSl9KSl9fX0se2tleTpcInRyaWdnZXJFeGl0UnVsZUV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5fcGFyc2VMaXN0ZW5lcnMpe3ZhciB0PXRoaXMuX2N0eDt0aGlzLl9wYXJzZUxpc3RlbmVycy5zbGljZSgwKS5yZXZlcnNlKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5leGl0UnVsZShlKSxlLmV4aXRFdmVyeVJ1bGUodCl9KSl9fX0se2tleTpcImdldFRva2VuRmFjdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0LnRva2VuU291cmNlLl9mYWN0b3J5fX0se2tleTpcInNldFRva2VuRmFjdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2lucHV0LnRva2VuU291cmNlLl9mYWN0b3J5PXR9fSx7a2V5OlwiZ2V0QVROV2l0aEJ5cGFzc0FsdHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VyaWFsaXplZEFUTigpO2lmKG51bGw9PT10KXRocm93XCJUaGUgY3VycmVudCBwYXJzZXIgZG9lcyBub3Qgc3VwcG9ydCBhbiBBVE4gd2l0aCBieXBhc3MgYWx0ZXJuYXRpdmVzLlwiO3ZhciBlPXRoaXMuYnlwYXNzQWx0c0F0bkNhY2hlW3RdO2lmKG51bGw9PT1lKXt2YXIgbj1uZXcgJHI7bi5nZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9ucz0hMCxlPW5ldyBIbyhuKS5kZXNlcmlhbGl6ZSh0KSx0aGlzLmJ5cGFzc0FsdHNBdG5DYWNoZVt0XT1lfXJldHVybiBlfX0se2tleTpcImdldElucHV0U3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUb2tlblN0cmVhbSgpfX0se2tleTpcInNldElucHV0U3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zZXRUb2tlblN0cmVhbSh0KX19LHtrZXk6XCJnZXRUb2tlblN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0fX0se2tleTpcInNldFRva2VuU3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXQ9bnVsbCx0aGlzLnJlc2V0KCksdGhpcy5faW5wdXQ9dH19LHtrZXk6XCJzeW50YXhFcnJvcnNDb3VudFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW50YXhFcnJvcnN9fSx7a2V5OlwiZ2V0Q3VycmVudFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQuTFQoMSl9fSx7a2V5Olwibm90aWZ5RXJyb3JMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7bj1ufHxudWxsLG51bGw9PT0oZT1lfHxudWxsKSYmKGU9dGhpcy5nZXRDdXJyZW50VG9rZW4oKSksdGhpcy5fc3ludGF4RXJyb3JzKz0xO3ZhciByPWUubGluZSxvPWUuY29sdW1uO3RoaXMuZ2V0RXJyb3JMaXN0ZW5lckRpc3BhdGNoKCkuc3ludGF4RXJyb3IodGhpcyxlLHIsbyx0LG4pfX0se2tleTpcImNvbnN1bWVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Q3VycmVudFRva2VuKCk7dC50eXBlIT09by5FT0YmJnRoaXMuZ2V0SW5wdXRTdHJlYW0oKS5jb25zdW1lKCk7dmFyIGUsbj1udWxsIT09dGhpcy5fcGFyc2VMaXN0ZW5lcnMmJnRoaXMuX3BhcnNlTGlzdGVuZXJzLmxlbmd0aD4wO3JldHVybih0aGlzLmJ1aWxkUGFyc2VUcmVlc3x8bikmJigoZT10aGlzLl9lcnJIYW5kbGVyLmluRXJyb3JSZWNvdmVyeU1vZGUodGhpcyk/dGhpcy5fY3R4LmFkZEVycm9yTm9kZSh0KTp0aGlzLl9jdHguYWRkVG9rZW5Ob2RlKHQpKS5pbnZva2luZ1N0YXRlPXRoaXMuc3RhdGUsbiYmdGhpcy5fcGFyc2VMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZSBpbnN0YW5jZW9mIFd0fHx2b2lkIDAhPT1lLmlzRXJyb3JOb2RlJiZlLmlzRXJyb3JOb2RlKCk/dC52aXNpdEVycm9yTm9kZShlKTplIGluc3RhbmNlb2YgSHQmJnQudmlzaXRUZXJtaW5hbChlKX0pKSksdH19LHtrZXk6XCJhZGRDb250ZXh0VG9QYXJzZVRyZWVcIix2YWx1ZTpmdW5jdGlvbigpe251bGwhPT10aGlzLl9jdHgucGFyZW50Q3R4JiZ0aGlzLl9jdHgucGFyZW50Q3R4LmFkZENoaWxkKHRoaXMuX2N0eCl9fSx7a2V5OlwiZW50ZXJSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3RoaXMuc3RhdGU9ZSx0aGlzLl9jdHg9dCx0aGlzLl9jdHguc3RhcnQ9dGhpcy5faW5wdXQuTFQoMSksdGhpcy5idWlsZFBhcnNlVHJlZXMmJnRoaXMuYWRkQ29udGV4dFRvUGFyc2VUcmVlKCksdGhpcy50cmlnZ2VyRW50ZXJSdWxlRXZlbnQoKX19LHtrZXk6XCJleGl0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY3R4LnN0b3A9dGhpcy5faW5wdXQuTFQoLTEpLHRoaXMudHJpZ2dlckV4aXRSdWxlRXZlbnQoKSx0aGlzLnN0YXRlPXRoaXMuX2N0eC5pbnZva2luZ1N0YXRlLHRoaXMuX2N0eD10aGlzLl9jdHgucGFyZW50Q3R4fX0se2tleTpcImVudGVyT3V0ZXJBbHRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3Quc2V0QWx0TnVtYmVyKGUpLHRoaXMuYnVpbGRQYXJzZVRyZWVzJiZ0aGlzLl9jdHghPT10JiZudWxsIT09dGhpcy5fY3R4LnBhcmVudEN0eCYmKHRoaXMuX2N0eC5wYXJlbnRDdHgucmVtb3ZlTGFzdENoaWxkKCksdGhpcy5fY3R4LnBhcmVudEN0eC5hZGRDaGlsZCh0KSksdGhpcy5fY3R4PXR9fSx7a2V5OlwiZ2V0UHJlY2VkZW5jZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9wcmVjZWRlbmNlU3RhY2subGVuZ3RoPy0xOnRoaXMuX3ByZWNlZGVuY2VTdGFja1t0aGlzLl9wcmVjZWRlbmNlU3RhY2subGVuZ3RoLTFdfX0se2tleTpcImVudGVyUmVjdXJzaW9uUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3RoaXMuc3RhdGU9ZSx0aGlzLl9wcmVjZWRlbmNlU3RhY2sucHVzaChyKSx0aGlzLl9jdHg9dCx0aGlzLl9jdHguc3RhcnQ9dGhpcy5faW5wdXQuTFQoMSksdGhpcy50cmlnZ2VyRW50ZXJSdWxlRXZlbnQoKX19LHtrZXk6XCJwdXNoTmV3UmVjdXJzaW9uQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLl9jdHg7ci5wYXJlbnRDdHg9dCxyLmludm9raW5nU3RhdGU9ZSxyLnN0b3A9dGhpcy5faW5wdXQuTFQoLTEpLHRoaXMuX2N0eD10LHRoaXMuX2N0eC5zdGFydD1yLnN0YXJ0LHRoaXMuYnVpbGRQYXJzZVRyZWVzJiZ0aGlzLl9jdHguYWRkQ2hpbGQociksdGhpcy50cmlnZ2VyRW50ZXJSdWxlRXZlbnQoKX19LHtrZXk6XCJ1bnJvbGxSZWN1cnNpb25Db250ZXh0c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3ByZWNlZGVuY2VTdGFjay5wb3AoKSx0aGlzLl9jdHguc3RvcD10aGlzLl9pbnB1dC5MVCgtMSk7dmFyIGU9dGhpcy5fY3R4LG49dGhpcy5nZXRQYXJzZUxpc3RlbmVycygpO2lmKG51bGwhPT1uJiZuLmxlbmd0aD4wKWZvcig7dGhpcy5fY3R4IT09dDspdGhpcy50cmlnZ2VyRXhpdFJ1bGVFdmVudCgpLHRoaXMuX2N0eD10aGlzLl9jdHgucGFyZW50Q3R4O2Vsc2UgdGhpcy5fY3R4PXQ7ZS5wYXJlbnRDdHg9dCx0aGlzLmJ1aWxkUGFyc2VUcmVlcyYmbnVsbCE9PXQmJnQuYWRkQ2hpbGQoZSl9fSx7a2V5OlwiZ2V0SW52b2tpbmdDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2N0eDtudWxsIT09ZTspe2lmKGUucnVsZUluZGV4PT09dClyZXR1cm4gZTtlPWUucGFyZW50Q3R4fXJldHVybiBudWxsfX0se2tleTpcInByZWNwcmVkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT49dGhpcy5fcHJlY2VkZW5jZVN0YWNrW3RoaXMuX3ByZWNlZGVuY2VTdGFjay5sZW5ndGgtMV19fSx7a2V5OlwiaW5Db250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuITF9fSx7a2V5OlwiaXNFeHBlY3RlZFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faW50ZXJwLmF0bixuPXRoaXMuX2N0eCxyPWUuc3RhdGVzW3RoaXMuc3RhdGVdLGk9ZS5uZXh0VG9rZW5zKHIpO2lmKGkuY29udGFpbnModCkpcmV0dXJuITA7aWYoIWkuY29udGFpbnMoby5FUFNJTE9OKSlyZXR1cm4hMTtmb3IoO251bGwhPT1uJiZuLmludm9raW5nU3RhdGU+PTAmJmkuY29udGFpbnMoby5FUFNJTE9OKTspe3ZhciB1PWUuc3RhdGVzW24uaW52b2tpbmdTdGF0ZV0udHJhbnNpdGlvbnNbMF07aWYoKGk9ZS5uZXh0VG9rZW5zKHUuZm9sbG93U3RhdGUpKS5jb250YWlucyh0KSlyZXR1cm4hMDtuPW4ucGFyZW50Q3R4fXJldHVybiEoIWkuY29udGFpbnMoby5FUFNJTE9OKXx8dCE9PW8uRU9GKX19LHtrZXk6XCJnZXRFeHBlY3RlZFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVycC5hdG4uZ2V0RXhwZWN0ZWRUb2tlbnModGhpcy5zdGF0ZSx0aGlzLl9jdHgpfX0se2tleTpcImdldEV4cGVjdGVkVG9rZW5zV2l0aGluQ3VycmVudFJ1bGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVycC5hdG4sZT10LnN0YXRlc1t0aGlzLnN0YXRlXTtyZXR1cm4gdC5uZXh0VG9rZW5zKGUpfX0se2tleTpcImdldFJ1bGVJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UnVsZUluZGV4TWFwKClbdF07cmV0dXJuIG51bGwhPT1lP2U6LTF9fSx7a2V5OlwiZ2V0UnVsZUludm9jYXRpb25TdGFja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe251bGw9PT0odD10fHxudWxsKSYmKHQ9dGhpcy5fY3R4KTtmb3IodmFyIGU9W107bnVsbCE9PXQ7KXt2YXIgbj10LnJ1bGVJbmRleDtuPDA/ZS5wdXNoKFwibi9hXCIpOmUucHVzaCh0aGlzLnJ1bGVOYW1lc1tuXSksdD10LnBhcmVudEN0eH1yZXR1cm4gZX19LHtrZXk6XCJnZXRERkFTdHJpbmdzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJwLmRlY2lzaW9uVG9ERkEudG9TdHJpbmcoKX19LHtrZXk6XCJkdW1wREZBXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9ITEsZT0wO2U8dGhpcy5faW50ZXJwLmRlY2lzaW9uVG9ERkEubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5faW50ZXJwLmRlY2lzaW9uVG9ERkFbZV07bi5zdGF0ZXMubGVuZ3RoPjAmJih0JiZjb25zb2xlLmxvZygpLHRoaXMucHJpbnRlci5wcmludGxuKFwiRGVjaXNpb24gXCIrbi5kZWNpc2lvbitcIjpcIiksdGhpcy5wcmludGVyLnByaW50KG4udG9TdHJpbmcodGhpcy5saXRlcmFsTmFtZXMsdGhpcy5zeW1ib2xpY05hbWVzKSksdD0hMCl9fX0se2tleTpcImdldFNvdXJjZU5hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dC5zb3VyY2VOYW1lfX0se2tleTpcInNldFRyYWNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dD8obnVsbCE9PXRoaXMuX3RyYWNlciYmdGhpcy5yZW1vdmVQYXJzZUxpc3RlbmVyKHRoaXMuX3RyYWNlciksdGhpcy5fdHJhY2VyPW5ldyBMYSh0aGlzKSx0aGlzLmFkZFBhcnNlTGlzdGVuZXIodGhpcy5fdHJhY2VyKSk6KHRoaXMucmVtb3ZlUGFyc2VMaXN0ZW5lcih0aGlzLl90cmFjZXIpLHRoaXMuX3RyYWNlcj1udWxsKX19XSxuJiZGYShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KGFpKTtmdW5jdGlvbiBWYSh0KXtyZXR1cm4gVmE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sVmEodCl9ZnVuY3Rpb24gemEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVZhKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVZhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVZhKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBxYSh0LGUpe3JldHVybiBxYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHFhKHQsZSl9ZnVuY3Rpb24gSGEodCl7cmV0dXJuIEhhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxIYSh0KX1VYS5ieXBhc3NBbHRzQXRuQ2FjaGU9e307dmFyIEthPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZxYSh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUhhKHIpO2lmKGkpe3ZhciBuPUhhKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09VmEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKGU9dS5jYWxsKHRoaXMpKS5wYXJlbnRDdHg9bnVsbCxlLnN5bWJvbD10LGV9cmV0dXJuIGU9Yywobj1be2tleTpcImdldENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9fSx7a2V5OlwiZ2V0U3ltYm9sXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zeW1ib2x9fSx7a2V5OlwiZ2V0UGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnRDdHh9fSx7a2V5OlwiZ2V0UGF5bG9hZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3ltYm9sfX0se2tleTpcImdldFNvdXJjZUludGVydmFsXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5zeW1ib2wpcmV0dXJuIEIuSU5WQUxJRF9JTlRFUlZBTDt2YXIgdD10aGlzLnN5bWJvbC50b2tlbkluZGV4O3JldHVybiBuZXcgQih0LHQpfX0se2tleTpcImdldENoaWxkQ291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwfX0se2tleTpcImFjY2VwdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0VGVybWluYWwodGhpcyl9fSx7a2V5OlwiZ2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3ltYm9sLnRleHR9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN5bWJvbC50eXBlPT09by5FT0Y/XCI8RU9GPlwiOnRoaXMuc3ltYm9sLnRleHR9fV0pJiZ6YShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KEh0KTtmdW5jdGlvbiBZYSh0KXtyZXR1cm4gWWE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sWWEodCl9ZnVuY3Rpb24gR2EodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVlhKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVlhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVlhKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBXYSh0LGUpe3JldHVybiBXYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFdhKHQsZSl9ZnVuY3Rpb24gWGEodCl7cmV0dXJuIFhhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxYYSh0KX12YXIgJGE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJldhKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9WGEocik7aWYobyl7dmFyIG49WGEodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1ZYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcyx0KX1yZXR1cm4gZT11LChuPVt7a2V5OlwiaXNFcnJvck5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleTpcImFjY2VwdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0RXJyb3JOb2RlKHRoaXMpfX1dKSYmR2EoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShLYSk7ZnVuY3Rpb24gSmEodCl7cmV0dXJuIEphPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEphKHQpfWZ1bmN0aW9uIFFhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1KYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1KYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1KYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gWmEodCxlKXtyZXR1cm4gWmE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxaYSh0LGUpfWZ1bmN0aW9uIHRsKHQpe3JldHVybiB0bD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sdGwodCl9dmFyIGVsPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZaYSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXRsKHIpO2lmKG8pe3ZhciBuPXRsKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09SmEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcyx0LGUpKS5jaGlsZHJlbj1udWxsLG4uc3RhcnQ9bnVsbCxuLnN0b3A9bnVsbCxuLmV4Y2VwdGlvbj1udWxsLG59cmV0dXJuIGU9dSxuPVt7a2V5OlwiY29weUZyb21cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnBhcmVudEN0eD10LnBhcmVudEN0eCx0aGlzLmludm9raW5nU3RhdGU9dC5pbnZva2luZ1N0YXRlLHRoaXMuY2hpbGRyZW49bnVsbCx0aGlzLnN0YXJ0PXQuc3RhcnQsdGhpcy5zdG9wPXQuc3RvcCx0LmNoaWxkcmVuJiYodGhpcy5jaGlsZHJlbj1bXSx0LmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mICRhJiYodGhpcy5jaGlsZHJlbi5wdXNoKHQpLHQucGFyZW50Q3R4PXRoaXMpfSksdGhpcykpfX0se2tleTpcImVudGVyUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJleGl0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJhZGRDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dGhpcy5jaGlsZHJlbiYmKHRoaXMuY2hpbGRyZW49W10pLHRoaXMuY2hpbGRyZW4ucHVzaCh0KSx0fX0se2tleTpcInJlbW92ZUxhc3RDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuY2hpbGRyZW4mJnRoaXMuY2hpbGRyZW4ucG9wKCl9fSx7a2V5OlwiYWRkVG9rZW5Ob2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEthKHQpO3JldHVybiB0aGlzLmFkZENoaWxkKGUpLGUucGFyZW50Q3R4PXRoaXMsZX19LHtrZXk6XCJhZGRFcnJvck5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgJGEodCk7cmV0dXJuIHRoaXMuYWRkQ2hpbGQoZSksZS5wYXJlbnRDdHg9dGhpcyxlfX0se2tleTpcImdldENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlPWV8fG51bGwsbnVsbD09PXRoaXMuY2hpbGRyZW58fHQ8MHx8dD49dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIG51bGw7aWYobnVsbD09PWUpcmV0dXJuIHRoaXMuY2hpbGRyZW5bdF07Zm9yKHZhciBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bbl07aWYociBpbnN0YW5jZW9mIGUpe2lmKDA9PT10KXJldHVybiByO3QtPTF9fXJldHVybiBudWxsfX0se2tleTpcImdldFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihudWxsPT09dGhpcy5jaGlsZHJlbnx8ZTwwfHxlPj10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltuXTtpZihyIGluc3RhbmNlb2YgSHQmJnIuc3ltYm9sLnR5cGU9PT10KXtpZigwPT09ZSlyZXR1cm4gcjtlLT0xfX1yZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5jaGlsZHJlbilyZXR1cm5bXTtmb3IodmFyIGU9W10sbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgcj10aGlzLmNoaWxkcmVuW25dO3IgaW5zdGFuY2VvZiBIdCYmci5zeW1ib2wudHlwZT09PXQmJmUucHVzaChyKX1yZXR1cm4gZX19LHtrZXk6XCJnZXRUeXBlZFJ1bGVDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRDaGlsZChlLHQpfX0se2tleTpcImdldFR5cGVkUnVsZUNvbnRleHRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXRoaXMuY2hpbGRyZW4pcmV0dXJuW107Zm9yKHZhciBlPVtdLG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltuXTtyIGluc3RhbmNlb2YgdCYmZS5wdXNoKHIpfXJldHVybiBlfX0se2tleTpcImdldENoaWxkQ291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5jaGlsZHJlbj8wOnRoaXMuY2hpbGRyZW4ubGVuZ3RofX0se2tleTpcImdldFNvdXJjZUludGVydmFsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuc3RhcnR8fG51bGw9PT10aGlzLnN0b3A/Qi5JTlZBTElEX0lOVEVSVkFMOm5ldyBCKHRoaXMuc3RhcnQudG9rZW5JbmRleCx0aGlzLnN0b3AudG9rZW5JbmRleCl9fV0sbiYmUWEoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShlZSk7ZnVuY3Rpb24gbmwodCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmcmwodCxlKX1mdW5jdGlvbiBybCh0LGUpe3JldHVybiBybD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHJsKHQsZSl9ZnVuY3Rpb24gb2wodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixyPWlsKHQpO2lmKGUpe3ZhciBvPWlsKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsbyl9ZWxzZSBuPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09dWwoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsbil9fWZ1bmN0aW9uIGlsKHQpe3JldHVybiBpbD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0saWwodCl9ZnVuY3Rpb24gdWwodCl7cmV0dXJuIHVsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHVsKHQpfWZ1bmN0aW9uIGNsKHQsZSl7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmdFtTeW1ib2wuaXRlcmF0b3JdfHx0W1wiQEBpdGVyYXRvclwiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheSh0KXx8KG49ZnVuY3Rpb24odCxlKXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gYWwodCxlKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20odCk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2FsKHQsZSk6dm9pZCAwfX0odCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe24mJih0PW4pO3ZhciByPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIHI+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W3IrK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLHU9ITAsYz0hMTtyZXR1cm57czpmdW5jdGlvbigpe249bi5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9bi5uZXh0KCk7cmV0dXJuIHU9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7Yz0hMCxpPXR9LGY6ZnVuY3Rpb24oKXt0cnl7dXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fX19ZnVuY3Rpb24gYWwodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheShlKTtuPGU7bisrKXJbbl09dFtuXTtyZXR1cm4gcn1mdW5jdGlvbiBsbCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gc2wodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQscGwoci5rZXkpLHIpfX1mdW5jdGlvbiBmbCh0LGUsbil7cmV0dXJuIGUmJnNsKHQucHJvdG90eXBlLGUpLG4mJnNsKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIHBsKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXVsKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXVsKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfSh0KTtyZXR1cm5cInN5bWJvbFwiPT09dWwoZSk/ZTpTdHJpbmcoZSl9ZWUuRU1QVFk9bmV3IGVsO3ZhciB5bCxobCxibCx2bD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7bGwodGhpcyx0KSx0aGlzLnRva2Vucz1lLHRoaXMucHJvZ3JhbXM9bmV3IE1hcH1yZXR1cm4gZmwodCxbe2tleTpcImdldFRva2VuU3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnN9fSx7a2V5OlwiaW5zZXJ0QWZ0ZXJcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQuREVGQVVMVF9QUk9HUkFNX05BTUU7cj1cIm51bWJlclwiPT10eXBlb2YgZT9lOmUudG9rZW5JbmRleDt2YXIgaT10aGlzLmdldFByb2dyYW0obyksdT1uZXcgZ2wodGhpcy50b2tlbnMscixpLmxlbmd0aCxuKTtpLnB1c2godSl9fSx7a2V5OlwiaW5zZXJ0QmVmb3JlXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0LkRFRkFVTFRfUFJPR1JBTV9OQU1FO3I9XCJudW1iZXJcIj09dHlwZW9mIGU/ZTplLnRva2VuSW5kZXg7dmFyIGk9dGhpcy5nZXRQcm9ncmFtKG8pLHU9bmV3IG1sKHRoaXMudG9rZW5zLHIsaS5sZW5ndGgsbik7aS5wdXNoKHUpfX0se2tleTpcInJlcGxhY2VTaW5nbGVcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0LkRFRkFVTFRfUFJPR1JBTV9OQU1FO3RoaXMucmVwbGFjZShlLGUsbixyKX19LHtrZXk6XCJyZXBsYWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp0LkRFRkFVTFRfUFJPR1JBTV9OQU1FO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlJiYoZT1lLnRva2VuSW5kZXgpLFwibnVtYmVyXCIhPXR5cGVvZiBuJiYobj1uLnRva2VuSW5kZXgpLGU+bnx8ZTwwfHxuPDB8fG4+PXRoaXMudG9rZW5zLnNpemUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJyZXBsYWNlOiByYW5nZSBpbnZhbGlkOiBcIi5jb25jYXQoZSxcIi4uXCIpLmNvbmNhdChuLFwiKHNpemU9XCIpLmNvbmNhdCh0aGlzLnRva2Vucy5zaXplLFwiKVwiKSk7dmFyIGk9dGhpcy5nZXRQcm9ncmFtKG8pLHU9bmV3IFNsKHRoaXMudG9rZW5zLGUsbixpLmxlbmd0aCxyKTtpLnB1c2godSl9fSx7a2V5OlwiZGVsZXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dC5ERUZBVUxUX1BST0dSQU1fTkFNRTt2b2lkIDA9PT1uJiYobj1lKSx0aGlzLnJlcGxhY2UoZSxuLG51bGwscil9fSx7a2V5OlwiZ2V0UHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucHJvZ3JhbXMuZ2V0KHQpO3JldHVybiBudWxsPT1lJiYoZT10aGlzLmluaXRpYWxpemVQcm9ncmFtKHQpKSxlfX0se2tleTpcImluaXRpYWxpemVQcm9ncmFtXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIHRoaXMucHJvZ3JhbXMuc2V0KHQsZSksZX19LHtrZXk6XCJnZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG4scj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dC5ERUZBVUxUX1BST0dSQU1fTkFNRTtuPWUgaW5zdGFuY2VvZiBCP2U6bmV3IEIoMCx0aGlzLnRva2Vucy5zaXplLTEpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYocj1lKTt2YXIgaT10aGlzLnByb2dyYW1zLmdldChyKSx1PW4uc3RhcnQsYz1uLnN0b3A7aWYoYz50aGlzLnRva2Vucy5zaXplLTEmJihjPXRoaXMudG9rZW5zLnNpemUtMSksdTwwJiYodT0wKSxudWxsPT1pfHwwPT09aS5sZW5ndGgpcmV0dXJuIHRoaXMudG9rZW5zLmdldFRleHQobmV3IEIodSxjKSk7Zm9yKHZhciBhPVtdLGw9dGhpcy5yZWR1Y2VUb1NpbmdsZU9wZXJhdGlvblBlckluZGV4KGkpLHM9dTtzPD1jJiZzPHRoaXMudG9rZW5zLnNpemU7KXt2YXIgZj1sLmdldChzKTtsLmRlbGV0ZShzKTt2YXIgcD10aGlzLnRva2Vucy5nZXQocyk7bnVsbD09Zj8ocC50eXBlIT09by5FT0YmJmEucHVzaChTdHJpbmcocC50ZXh0KSkscysrKTpzPWYuZXhlY3V0ZShhKX1pZihjPT09dGhpcy50b2tlbnMuc2l6ZS0xKXt2YXIgeSxoPWNsKGwudmFsdWVzKCkpO3RyeXtmb3IoaC5zKCk7ISh5PWgubigpKS5kb25lOyl7dmFyIGI9eS52YWx1ZTtiLmluZGV4Pj10aGlzLnRva2Vucy5zaXplLTEmJmEucHVzaChiLnRleHQudG9TdHJpbmcoKSl9fWNhdGNoKHQpe2guZSh0KX1maW5hbGx5e2guZigpfX1yZXR1cm4gYS5qb2luKFwiXCIpfX0se2tleTpcInJlZHVjZVRvU2luZ2xlT3BlcmF0aW9uUGVySW5kZXhcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtpZihudWxsIT1uJiZuIGluc3RhbmNlb2YgU2wpe3ZhciByLG89bixpPWNsKHRoaXMuZ2V0S2luZE9mT3BzKHQsbWwsZSkpO3RyeXtmb3IoaS5zKCk7IShyPWkubigpKS5kb25lOyl7dmFyIHU9ci52YWx1ZTt1LmluZGV4PT09by5pbmRleD8odFt1Lmluc3RydWN0aW9uSW5kZXhdPXZvaWQgMCxvLnRleHQ9dS50ZXh0LnRvU3RyaW5nKCkrKG51bGwhPW8udGV4dD9vLnRleHQudG9TdHJpbmcoKTpcIlwiKSk6dS5pbmRleD5vLmluZGV4JiZ1LmluZGV4PD1vLmxhc3RJbmRleCYmKHRbdS5pbnN0cnVjdGlvbkluZGV4XT12b2lkIDApfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX12YXIgYyxhPWNsKHRoaXMuZ2V0S2luZE9mT3BzKHQsU2wsZSkpO3RyeXtmb3IoYS5zKCk7IShjPWEubigpKS5kb25lOyl7dmFyIGw9Yy52YWx1ZTtpZihsLmluZGV4Pj1vLmluZGV4JiZsLmxhc3RJbmRleDw9by5sYXN0SW5kZXgpdFtsLmluc3RydWN0aW9uSW5kZXhdPXZvaWQgMDtlbHNle3ZhciBzPWwubGFzdEluZGV4PG8uaW5kZXh8fGwuaW5kZXg+by5sYXN0SW5kZXg7aWYobnVsbCE9bC50ZXh0fHxudWxsIT1vLnRleHR8fHMpe2lmKCFzKXRocm93IG5ldyBFcnJvcihcInJlcGxhY2Ugb3AgYm91bmRhcmllcyBvZiBcIi5jb25jYXQobyxcIiBvdmVybGFwIHdpdGggcHJldmlvdXMgXCIpLmNvbmNhdChsKSl9ZWxzZSB0W2wuaW5zdHJ1Y3Rpb25JbmRleF09dm9pZCAwLG8uaW5kZXg9TWF0aC5taW4obC5pbmRleCxvLmluZGV4KSxvLmxhc3RJbmRleD1NYXRoLm1heChsLmxhc3RJbmRleCxvLmxhc3RJbmRleCl9fX1jYXRjaCh0KXthLmUodCl9ZmluYWxseXthLmYoKX19fWZvcih2YXIgZj0wO2Y8dC5sZW5ndGg7ZisrKXt2YXIgcD10W2ZdO2lmKG51bGwhPXAmJnAgaW5zdGFuY2VvZiBtbCl7dmFyIHksaD1wLGI9Y2wodGhpcy5nZXRLaW5kT2ZPcHModCxtbCxmKSk7dHJ5e2ZvcihiLnMoKTshKHk9Yi5uKCkpLmRvbmU7KXt2YXIgdj15LnZhbHVlO3YuaW5kZXg9PT1oLmluZGV4JiYodiBpbnN0YW5jZW9mIGdsPyhoLnRleHQ9dGhpcy5jYXRPcFRleHQodi50ZXh0LGgudGV4dCksdFt2Lmluc3RydWN0aW9uSW5kZXhdPXZvaWQgMCk6diBpbnN0YW5jZW9mIG1sJiYoaC50ZXh0PXRoaXMuY2F0T3BUZXh0KGgudGV4dCx2LnRleHQpLHRbdi5pbnN0cnVjdGlvbkluZGV4XT12b2lkIDApKX19Y2F0Y2godCl7Yi5lKHQpfWZpbmFsbHl7Yi5mKCl9dmFyIGQsbT1jbCh0aGlzLmdldEtpbmRPZk9wcyh0LFNsLGYpKTt0cnl7Zm9yKG0ucygpOyEoZD1tLm4oKSkuZG9uZTspe3ZhciBnPWQudmFsdWU7aWYoaC5pbmRleCE9PWcuaW5kZXgpe2lmKGguaW5kZXg+PWcuaW5kZXgmJmguaW5kZXg8PWcubGFzdEluZGV4KXRocm93IG5ldyBFcnJvcihcImluc2VydCBvcCBcIi5jb25jYXQoaCxcIiB3aXRoaW4gYm91bmRhcmllcyBvZiBwcmV2aW91cyBcIikuY29uY2F0KGcpKX1lbHNlIGcudGV4dD10aGlzLmNhdE9wVGV4dChoLnRleHQsZy50ZXh0KSx0W2ZdPXZvaWQgMH19Y2F0Y2godCl7bS5lKHQpfWZpbmFsbHl7bS5mKCl9fX12YXIgUyxPPW5ldyBNYXAsdz1jbCh0KTt0cnl7Zm9yKHcucygpOyEoUz13Lm4oKSkuZG9uZTspe3ZhciBfPVMudmFsdWU7aWYobnVsbCE9Xyl7aWYobnVsbCE9Ty5nZXQoXy5pbmRleCkpdGhyb3cgbmV3IEVycm9yKFwic2hvdWxkIG9ubHkgYmUgb25lIG9wIHBlciBpbmRleFwiKTtPLnNldChfLmluZGV4LF8pfX19Y2F0Y2godCl7dy5lKHQpfWZpbmFsbHl7dy5mKCl9cmV0dXJuIE99fSx7a2V5OlwiY2F0T3BUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1cIlwiLHI9XCJcIjtyZXR1cm4gbnVsbCE9dCYmKG49dC50b1N0cmluZygpKSxudWxsIT1lJiYocj1lLnRvU3RyaW5nKCkpLG4rcn19LHtrZXk6XCJnZXRLaW5kT2ZPcHNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuc2xpY2UoMCxuKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0IGluc3RhbmNlb2YgZX0pKX19XSksdH0oKTt5bD12bCxibD1cImRlZmF1bHRcIiwoaGw9cGwoaGw9XCJERUZBVUxUX1BST0dSQU1fTkFNRVwiKSlpbiB5bD9PYmplY3QuZGVmaW5lUHJvcGVydHkoeWwsaGwse3ZhbHVlOmJsLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6eWxbaGxdPWJsO3ZhciBkbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIsbyl7bGwodGhpcyx0KSx0aGlzLnRva2Vucz1lLHRoaXMuaW5zdHJ1Y3Rpb25JbmRleD1yLHRoaXMuaW5kZXg9bix0aGlzLnRleHQ9dm9pZCAwPT09bz9cIlwiOm99cmV0dXJuIGZsKHQsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lLGU9dC5pbmRleE9mKFwiJFwiKTtyZXR1cm5cIjxcIisodD10LnN1YnN0cmluZyhlKzEsdC5sZW5ndGgpKStcIkBcIit0aGlzLnRva2Vucy5nZXQodGhpcy5pbmRleCkrJzpcIicrdGhpcy50ZXh0KydcIj4nfX1dKSx0fSgpLG1sPWZ1bmN0aW9uKHQpe25sKG4sdCk7dmFyIGU9b2wobik7ZnVuY3Rpb24gbih0LHIsbyxpKXtyZXR1cm4gbGwodGhpcyxuKSxlLmNhbGwodGhpcyx0LHIsbyxpKX1yZXR1cm4gZmwobixbe2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXh0JiZ0LnB1c2godGhpcy50ZXh0LnRvU3RyaW5nKCkpLHRoaXMudG9rZW5zLmdldCh0aGlzLmluZGV4KS50eXBlIT09by5FT0YmJnQucHVzaChTdHJpbmcodGhpcy50b2tlbnMuZ2V0KHRoaXMuaW5kZXgpLnRleHQpKSx0aGlzLmluZGV4KzF9fV0pLG59KGRsKSxnbD1mdW5jdGlvbih0KXtubChuLHQpO3ZhciBlPW9sKG4pO2Z1bmN0aW9uIG4odCxyLG8saSl7cmV0dXJuIGxsKHRoaXMsbiksZS5jYWxsKHRoaXMsdCxyKzEsbyxpKX1yZXR1cm4gZmwobil9KG1sKSxTbD1mdW5jdGlvbih0KXtubChuLHQpO3ZhciBlPW9sKG4pO2Z1bmN0aW9uIG4odCxyLG8saSx1KXt2YXIgYztyZXR1cm4gbGwodGhpcyxuKSwoYz1lLmNhbGwodGhpcyx0LHIsaSx1KSkubGFzdEluZGV4PW8sY31yZXR1cm4gZmwobixbe2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXh0JiZ0LnB1c2godGhpcy50ZXh0LnRvU3RyaW5nKCkpLHRoaXMubGFzdEluZGV4KzF9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLnRleHQ/XCI8RGVsZXRlT3BAXCIrdGhpcy50b2tlbnMuZ2V0KHRoaXMuaW5kZXgpK1wiLi5cIit0aGlzLnRva2Vucy5nZXQodGhpcy5sYXN0SW5kZXgpK1wiPlwiOlwiPFJlcGxhY2VPcEBcIit0aGlzLnRva2Vucy5nZXQodGhpcy5pbmRleCkrXCIuLlwiK3RoaXMudG9rZW5zLmdldCh0aGlzLmxhc3RJbmRleCkrJzpcIicrdGhpcy50ZXh0KydcIj4nfX1dKSxufShkbCk7Y29uc3QgT2w9e2F0bjokdSxkZmE6YWMsY29udGV4dDpsYyxtaXNjOnNjLHRyZWU6U2MsZXJyb3I6ZWEsVG9rZW46byxDb21tb25Ub2tlbjp5aSxDaGFyU3RyZWFtczp2YSxDaGFyU3RyZWFtOmFhLElucHV0U3RyZWFtOmFhLENvbW1vblRva2VuU3RyZWFtOlJhLExleGVyOlVpLFBhcnNlcjpVYSxQYXJzZXJSdWxlQ29udGV4dDplbCxJbnRlcnZhbDpCLEludGVydmFsU2V0OlYsTEwxQW5hbHl6ZXI6SWUsVXRpbHM6ZGEsVG9rZW5TdHJlYW1SZXdyaXRlcjp2bH19KSgpO3ZhciBvPWV4cG9ydHM7Zm9yKHZhciBpIGluIHIpb1tpXT1yW2ldO3IuX19lc01vZHVsZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW50bHI0LndlYi5janMubWFwIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCB7IGxvYWRQcmltYXJ5UGFnZSB9IGZyb20gXCIuL0xvYWRQcmltYXJ5UGFnZVwiO1xuaW1wb3J0IHsgbG9hZEV4cHJlc3Npb25zVGVzdFBhZ2UgfSBmcm9tIFwiLi9Mb2FkRXhwcmVzc2lvblRlc3RQYWdlXCJcbmltcG9ydCB7IGxvYWRJbnB1dFBhcnNlVGVzdFBhZ2UgfSBmcm9tIFwiLi9Mb2FkSW5wdXRQYXJzZVRlc3RQYWdlXCI7XG5pbXBvcnQgeyBsb2FkU29sdmVyUGFnZSB9IGZyb20gXCIuL0xvYWRTb2x2ZXJQYWdlXCI7XG5pbXBvcnQgeyBsb2FkU2ltcGxpZmljYXRpb25UZXN0UGFnZSB9IGZyb20gXCIuL0xvYWRTaW1wbGlmaWNhdGlvblRlc3RQYWdlXCI7XG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgc2V0VGltZW91dChcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUG9wdWxhdGUgaHRtbCBlbGVtZW50cyBieSB0aGVpciBjbGFzcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgY2xhc3NlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0uY2xhc3NMaXN0XG5cbiAgICAgICAgICAgIGlmIChjbGFzc2VzLmNvbnRhaW5zKCdleHByZXNzaW9uVGVzdFBhZ2UnKSkge1xuICAgICAgICAgICAgICAgIGxvYWRFeHByZXNzaW9uc1Rlc3RQYWdlKClcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3Nlcy5jb250YWlucygncHJpbWFyeUludGVncmF0b3InKSkge1xuICAgICAgICAgICAgICAgIGxvYWRQcmltYXJ5UGFnZSgpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzZXMuY29udGFpbnMoJ2lucHV0UGFyc2VUZXN0JykpIHtcbiAgICAgICAgICAgICAgICBsb2FkSW5wdXRQYXJzZVRlc3RQYWdlKClcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3Nlcy5jb250YWlucygnc29sdmVfaW5fc3RlcHMnKSkge1xuICAgICAgICAgICAgICAgIGxvYWRTb2x2ZXJQYWdlKClcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xhc3Nlcy5jb250YWlucygnbWF0aFRlc3RzJykpIHtcbiAgICAgICAgICAgICAgICBsb2FkU2ltcGxpZmljYXRpb25UZXN0UGFnZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMCk7XG4gICBcbn1cblxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9