/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/ngraph.events/index.js":
/*!*********************************************!*\
  !*** ./node_modules/ngraph.events/index.js ***!
  \*********************************************/
/***/ ((module) => {

module.exports = function eventify(subject) {
  validateSubject(subject);

  var eventsStorage = createEventsStorage(subject);
  subject.on = eventsStorage.on;
  subject.off = eventsStorage.off;
  subject.fire = eventsStorage.fire;
  return subject;
};

function createEventsStorage(subject) {
  // Store all event listeners to this hash. Key is event name, value is array
  // of callback records.
  //
  // A callback record consists of callback function and its optional context:
  // { 'eventName' => [{callback: function, ctx: object}] }
  var registeredEvents = Object.create(null);

  return {
    on: function (eventName, callback, ctx) {
      if (typeof callback !== 'function') {
        throw new Error('callback is expected to be a function');
      }
      var handlers = registeredEvents[eventName];
      if (!handlers) {
        handlers = registeredEvents[eventName] = [];
      }
      handlers.push({callback: callback, ctx: ctx});

      return subject;
    },

    off: function (eventName, callback) {
      var wantToRemoveAll = (typeof eventName === 'undefined');
      if (wantToRemoveAll) {
        // Killing old events storage should be enough in this case:
        registeredEvents = Object.create(null);
        return subject;
      }

      if (registeredEvents[eventName]) {
        var deleteAllCallbacksForEvent = (typeof callback !== 'function');
        if (deleteAllCallbacksForEvent) {
          delete registeredEvents[eventName];
        } else {
          var callbacks = registeredEvents[eventName];
          for (var i = 0; i < callbacks.length; ++i) {
            if (callbacks[i].callback === callback) {
              callbacks.splice(i, 1);
            }
          }
        }
      }

      return subject;
    },

    fire: function (eventName) {
      var callbacks = registeredEvents[eventName];
      if (!callbacks) {
        return subject;
      }

      var fireArguments;
      if (arguments.length > 1) {
        fireArguments = Array.prototype.splice.call(arguments, 1);
      }
      for(var i = 0; i < callbacks.length; ++i) {
        var callbackInfo = callbacks[i];
        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);
      }

      return subject;
    }
  };
}

function validateSubject(subject) {
  if (!subject) {
    throw new Error('Eventify cannot use falsy object as events subject');
  }
  var reservedWords = ['on', 'fire', 'off'];
  for (var i = 0; i < reservedWords.length; ++i) {
    if (subject.hasOwnProperty(reservedWords[i])) {
      throw new Error("Subject cannot be eventified, since it already has property '" + reservedWords[i] + "'");
    }
  }
}


/***/ }),

/***/ "./node_modules/ngraph.graph/index.js":
/*!********************************************!*\
  !*** ./node_modules/ngraph.graph/index.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * @fileOverview Contains definition of the core graph object.
 */

// TODO: need to change storage layer:
// 1. Be able to get all nodes O(1)
// 2. Be able to get number of links O(1)

/**
 * @example
 *  var graph = require('ngraph.graph')();
 *  graph.addNode(1);     // graph has one node.
 *  graph.addLink(2, 3);  // now graph contains three nodes and one link.
 *
 */
module.exports = createGraph;

var eventify = __webpack_require__(/*! ngraph.events */ "./node_modules/ngraph.events/index.js");

/**
 * Creates a new graph
 */
function createGraph(options) {
  // Graph structure is maintained as dictionary of nodes
  // and array of links. Each node has 'links' property which
  // hold all links related to that node. And general links
  // array is used to speed up all links enumeration. This is inefficient
  // in terms of memory, but simplifies coding.
  options = options || {};
  if ('uniqueLinkId' in options) {
    console.warn(
      'ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\n' +
      'Use `multigraph` option instead\n',
      '\n',
      'Note: there is also change in default behavior: From now on each graph\n'+
      'is considered to be not a multigraph by default (each edge is unique).'
    );

    options.multigraph = options.uniqueLinkId;
  }

  // Dear reader, the non-multigraphs do not guarantee that there is only
  // one link for a given pair of node. When this option is set to false
  // we can save some memory and CPU (18% faster for non-multigraph);
  if (options.multigraph === undefined) options.multigraph = false;

  if (typeof Map !== 'function') {
    // TODO: Should we polyfill it ourselves? We don't use much operations there..
    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');
  } 

  var nodes = new Map(); // nodeId => Node
  var links = new Map(); // linkId => Link
    // Hash of multi-edges. Used to track ids of edges between same nodes
  var multiEdges = {};
  var suspendEvents = 0;

  var createLink = options.multigraph ? createUniqueLink : createSingleLink,

    // Our graph API provides means to listen to graph changes. Users can subscribe
    // to be notified about changes in the graph by using `on` method. However
    // in some cases they don't use it. To avoid unnecessary memory consumption
    // we will not record graph changes until we have at least one subscriber.
    // Code below supports this optimization.
    //
    // Accumulates all changes made during graph updates.
    // Each change element contains:
    //  changeType - one of the strings: 'add', 'remove' or 'update';
    //  node - if change is related to node this property is set to changed graph's node;
    //  link - if change is related to link this property is set to changed graph's link;
    changes = [],
    recordLinkChange = noop,
    recordNodeChange = noop,
    enterModification = noop,
    exitModification = noop;

  // this is our public API:
  var graphPart = {
    /**
     * Sometimes duck typing could be slow. Giving clients a hint about data structure
     * via explicit version number here:
     */
    version: 20.0,

    /**
     * Adds node to the graph. If node with given id already exists in the graph
     * its data is extended with whatever comes in 'data' argument.
     *
     * @param nodeId the node's identifier. A string or number is preferred.
     * @param [data] additional data for the node being added. If node already
     *   exists its data object is augmented with the new one.
     *
     * @return {node} The newly added node or node with given id if it already exists.
     */
    addNode: addNode,

    /**
     * Adds a link to the graph. The function always create a new
     * link between two nodes. If one of the nodes does not exists
     * a new node is created.
     *
     * @param fromId link start node id;
     * @param toId link end node id;
     * @param [data] additional data to be set on the new link;
     *
     * @return {link} The newly created link
     */
    addLink: addLink,

    /**
     * Removes link from the graph. If link does not exist does nothing.
     *
     * @param link - object returned by addLink() or getLinks() methods.
     *
     * @returns true if link was removed; false otherwise.
     */
    removeLink: removeLink,

    /**
     * Removes node with given id from the graph. If node does not exist in the graph
     * does nothing.
     *
     * @param nodeId node's identifier passed to addNode() function.
     *
     * @returns true if node was removed; false otherwise.
     */
    removeNode: removeNode,

    /**
     * Gets node with given identifier. If node does not exist undefined value is returned.
     *
     * @param nodeId requested node identifier;
     *
     * @return {node} in with requested identifier or undefined if no such node exists.
     */
    getNode: getNode,

    /**
     * Gets number of nodes in this graph.
     *
     * @return number of nodes in the graph.
     */
    getNodeCount: getNodeCount,

    /**
     * Gets total number of links in the graph.
     */
    getLinkCount: getLinkCount,

    /**
     * Gets total number of links in the graph.
     */
    getEdgeCount: getLinkCount,

    /**
     * Synonym for `getLinkCount()`
     */
    getLinksCount: getLinkCount,
    
    /**
     * Synonym for `getNodeCount()`
     */
    getNodesCount: getNodeCount,

    /**
     * Gets all links (inbound and outbound) from the node with given id.
     * If node with given id is not found null is returned.
     *
     * @param nodeId requested node identifier.
     *
     * @return Set of links from and to requested node if such node exists;
     *   otherwise null is returned.
     */
    getLinks: getLinks,

    /**
     * Invokes callback on each node of the graph.
     *
     * @param {Function(node)} callback Function to be invoked. The function
     *   is passed one argument: visited node.
     */
    forEachNode: forEachNode,

    /**
     * Invokes callback on every linked (adjacent) node to the given one.
     *
     * @param nodeId Identifier of the requested node.
     * @param {Function(node, link)} callback Function to be called on all linked nodes.
     *   The function is passed two parameters: adjacent node and link object itself.
     * @param oriented if true graph treated as oriented.
     */
    forEachLinkedNode: forEachLinkedNode,

    /**
     * Enumerates all links in the graph
     *
     * @param {Function(link)} callback Function to be called on all links in the graph.
     *   The function is passed one parameter: graph's link object.
     *
     * Link object contains at least the following fields:
     *  fromId - node id where link starts;
     *  toId - node id where link ends,
     *  data - additional data passed to graph.addLink() method.
     */
    forEachLink: forEachLink,

    /**
     * Suspend all notifications about graph changes until
     * endUpdate is called.
     */
    beginUpdate: enterModification,

    /**
     * Resumes all notifications about graph changes and fires
     * graph 'changed' event in case there are any pending changes.
     */
    endUpdate: exitModification,

    /**
     * Removes all nodes and links from the graph.
     */
    clear: clear,

    /**
     * Detects whether there is a link between two nodes.
     * Operation complexity is O(n) where n - number of links of a node.
     * NOTE: this function is synonym for getLink()
     *
     * @returns link if there is one. null otherwise.
     */
    hasLink: getLink,

    /**
     * Detects whether there is a node with given id
     * 
     * Operation complexity is O(1)
     * NOTE: this function is synonym for getNode()
     *
     * @returns node if there is one; Falsy value otherwise.
     */
    hasNode: getNode,

    /**
     * Gets an edge between two nodes.
     * Operation complexity is O(n) where n - number of links of a node.
     *
     * @param {string} fromId link start identifier
     * @param {string} toId link end identifier
     *
     * @returns link if there is one; undefined otherwise.
     */
    getLink: getLink
  };

  // this will add `on()` and `fire()` methods.
  eventify(graphPart);

  monitorSubscribers();

  return graphPart;

  function monitorSubscribers() {
    var realOn = graphPart.on;

    // replace real `on` with our temporary on, which will trigger change
    // modification monitoring:
    graphPart.on = on;

    function on() {
      // now it's time to start tracking stuff:
      graphPart.beginUpdate = enterModification = enterModificationReal;
      graphPart.endUpdate = exitModification = exitModificationReal;
      recordLinkChange = recordLinkChangeReal;
      recordNodeChange = recordNodeChangeReal;

      // this will replace current `on` method with real pub/sub from `eventify`.
      graphPart.on = realOn;
      // delegate to real `on` handler:
      return realOn.apply(graphPart, arguments);
    }
  }

  function recordLinkChangeReal(link, changeType) {
    changes.push({
      link: link,
      changeType: changeType
    });
  }

  function recordNodeChangeReal(node, changeType) {
    changes.push({
      node: node,
      changeType: changeType
    });
  }

  function addNode(nodeId, data) {
    if (nodeId === undefined) {
      throw new Error('Invalid node identifier');
    }

    enterModification();

    var node = getNode(nodeId);
    if (!node) {
      node = new Node(nodeId, data);
      recordNodeChange(node, 'add');
    } else {
      node.data = data;
      recordNodeChange(node, 'update');
    }

    nodes.set(nodeId, node);

    exitModification();
    return node;
  }

  function getNode(nodeId) {
    return nodes.get(nodeId);
  }

  function removeNode(nodeId) {
    var node = getNode(nodeId);
    if (!node) {
      return false;
    }

    enterModification();

    var prevLinks = node.links;
    if (prevLinks) {
      prevLinks.forEach(removeLinkInstance);
      node.links = null;
    }

    nodes.delete(nodeId);

    recordNodeChange(node, 'remove');

    exitModification();

    return true;
  }


  function addLink(fromId, toId, data) {
    enterModification();

    var fromNode = getNode(fromId) || addNode(fromId);
    var toNode = getNode(toId) || addNode(toId);

    var link = createLink(fromId, toId, data);
    var isUpdate = links.has(link.id);

    links.set(link.id, link);

    // TODO: this is not cool. On large graphs potentially would consume more memory.
    addLinkToNode(fromNode, link);
    if (fromId !== toId) {
      // make sure we are not duplicating links for self-loops
      addLinkToNode(toNode, link);
    }

    recordLinkChange(link, isUpdate ? 'update' : 'add');

    exitModification();

    return link;
  }

  function createSingleLink(fromId, toId, data) {
    var linkId = makeLinkId(fromId, toId);
    var prevLink = links.get(linkId);
    if (prevLink) {
      prevLink.data = data;
      return prevLink;
    }

    return new Link(fromId, toId, data, linkId);
  }

  function createUniqueLink(fromId, toId, data) {
    // TODO: Find a better/faster way to store multigraphs
    var linkId = makeLinkId(fromId, toId);
    var isMultiEdge = multiEdges.hasOwnProperty(linkId);
    if (isMultiEdge || getLink(fromId, toId)) {
      if (!isMultiEdge) {
        multiEdges[linkId] = 0;
      }
      var suffix = '@' + (++multiEdges[linkId]);
      linkId = makeLinkId(fromId + suffix, toId + suffix);
    }

    return new Link(fromId, toId, data, linkId);
  }

  function getNodeCount() {
    return nodes.size;
  }

  function getLinkCount() {
    return links.size;
  }

  function getLinks(nodeId) {
    var node = getNode(nodeId);
    return node ? node.links : null;
  }

  function removeLink(link, otherId) {
    if (otherId !== undefined) {
      link = getLink(link, otherId);
    }
    return removeLinkInstance(link);
  }

  function removeLinkInstance(link) {
    if (!link) {
      return false;
    }
    if (!links.get(link.id)) return false;

    enterModification();

    links.delete(link.id);

    var fromNode = getNode(link.fromId);
    var toNode = getNode(link.toId);

    if (fromNode) {
      fromNode.links.delete(link);
    }

    if (toNode) {
      toNode.links.delete(link);
    }

    recordLinkChange(link, 'remove');

    exitModification();

    return true;
  }

  function getLink(fromNodeId, toNodeId) {
    if (fromNodeId === undefined || toNodeId === undefined) return undefined;
    return links.get(makeLinkId(fromNodeId, toNodeId));
  }

  function clear() {
    enterModification();
    forEachNode(function(node) {
      removeNode(node.id);
    });
    exitModification();
  }

  function forEachLink(callback) {
    if (typeof callback === 'function') {
      var valuesIterator = links.values();
      var nextValue = valuesIterator.next();
      while (!nextValue.done) {
        if (callback(nextValue.value)) {
          return true; // client doesn't want to proceed. Return.
        }
        nextValue = valuesIterator.next();
      }
    }
  }

  function forEachLinkedNode(nodeId, callback, oriented) {
    var node = getNode(nodeId);

    if (node && node.links && typeof callback === 'function') {
      if (oriented) {
        return forEachOrientedLink(node.links, nodeId, callback);
      } else {
        return forEachNonOrientedLink(node.links, nodeId, callback);
      }
    }
  }

  // eslint-disable-next-line no-shadow
  function forEachNonOrientedLink(links, nodeId, callback) {
    var quitFast;

    var valuesIterator = links.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      var link = nextValue.value;
      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;
      quitFast = callback(nodes.get(linkedNodeId), link);
      if (quitFast) {
        return true; // Client does not need more iterations. Break now.
      }
      nextValue = valuesIterator.next();
    }
  }

  // eslint-disable-next-line no-shadow
  function forEachOrientedLink(links, nodeId, callback) {
    var quitFast;
    var valuesIterator = links.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      var link = nextValue.value;
      if (link.fromId === nodeId) {
        quitFast = callback(nodes.get(link.toId), link);
        if (quitFast) {
          return true; // Client does not need more iterations. Break now.
        }
      }
      nextValue = valuesIterator.next();
    }
  }

  // we will not fire anything until users of this library explicitly call `on()`
  // method.
  function noop() {}

  // Enter, Exit modification allows bulk graph updates without firing events.
  function enterModificationReal() {
    suspendEvents += 1;
  }

  function exitModificationReal() {
    suspendEvents -= 1;
    if (suspendEvents === 0 && changes.length > 0) {
      graphPart.fire('changed', changes);
      changes.length = 0;
    }
  }

  function forEachNode(callback) {
    if (typeof callback !== 'function') {
      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);
    }

    var valuesIterator = nodes.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      if (callback(nextValue.value)) {
        return true; // client doesn't want to proceed. Return.
      }
      nextValue = valuesIterator.next();
    }
  }
}

/**
 * Internal structure to represent node;
 */
function Node(id, data) {
  this.id = id;
  this.links = null;
  this.data = data;
}

function addLinkToNode(node, link) {
  if (node.links) {
    node.links.add(link);
  } else {
    node.links = new Set([link]);
  }
}

/**
 * Internal structure to represent links;
 */
function Link(fromId, toId, data, id) {
  this.fromId = fromId;
  this.toId = toId;
  this.data = data;
  this.id = id;
}

function makeLinkId(fromId, toId) {
  return fromId.toString() + '👉 ' + toId.toString();
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/NodeHeap.js":
/*!*****************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/NodeHeap.js ***!
  \*****************************************************/
/***/ ((module) => {

/**
 * Based on https://github.com/mourner/tinyqueue
 * Copyright (c) 2017, Vladimir Agafonkin https://github.com/mourner/tinyqueue/blob/master/LICENSE
 * 
 * Adapted for PathFinding needs by @anvaka
 * Copyright (c) 2017, Andrei Kashcha
 */
module.exports = NodeHeap;

function NodeHeap(data, options) {
  if (!(this instanceof NodeHeap)) return new NodeHeap(data, options);

  if (!Array.isArray(data)) {
    // assume first argument is our config object;
    options = data;
    data = [];
  }

  options = options || {};

  this.data = data || [];
  this.length = this.data.length;
  this.compare = options.compare || defaultCompare;
  this.setNodeId = options.setNodeId || noop;

  if (this.length > 0) {
    for (var i = (this.length >> 1); i >= 0; i--) this._down(i);
  }

  if (options.setNodeId) {
    for (var i = 0; i < this.length; ++i) {
      this.setNodeId(this.data[i], i);
    }
  }
}

function noop() {}

function defaultCompare(a, b) {
  return a - b;
}

NodeHeap.prototype = {

  push: function (item) {
    this.data.push(item);
    this.setNodeId(item, this.length);
    this.length++;
    this._up(this.length - 1);
  },

  pop: function () {
    if (this.length === 0) return undefined;

    var top = this.data[0];
    this.length--;

    if (this.length > 0) {
      this.data[0] = this.data[this.length];
      this.setNodeId(this.data[0], 0);
      this._down(0);
    }
    this.data.pop();

    return top;
  },

  peek: function () {
    return this.data[0];
  },

  updateItem: function (pos) {
    this._down(pos);
    this._up(pos);
  },

  _up: function (pos) {
    var data = this.data;
    var compare = this.compare;
    var setNodeId = this.setNodeId;
    var item = data[pos];

    while (pos > 0) {
      var parent = (pos - 1) >> 1;
      var current = data[parent];
      if (compare(item, current) >= 0) break;
        data[pos] = current;

       setNodeId(current, pos);
       pos = parent;
    }

    data[pos] = item;
    setNodeId(item, pos);
  },

  _down: function (pos) {
    var data = this.data;
    var compare = this.compare;
    var halfLength = this.length >> 1;
    var item = data[pos];
    var setNodeId = this.setNodeId;

    while (pos < halfLength) {
      var left = (pos << 1) + 1;
      var right = left + 1;
      var best = data[left];

      if (right < this.length && compare(data[right], best) < 0) {
        left = right;
        best = data[right];
      }
      if (compare(best, item) >= 0) break;

      data[pos] = best;
      setNodeId(best, pos);
      pos = left;
    }

    data[pos] = item;
    setNodeId(item, pos);
  }
};

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/a-greedy-star.js":
/*!**********************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/a-greedy-star.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Performs suboptimal, greed A Star path finding.
 * This finder does not necessary finds the shortest path. The path
 * that it finds is very close to the shortest one. It is very fast though.
 */
module.exports = aStarBi;

var NodeHeap = __webpack_require__(/*! ./NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var makeSearchStatePool = __webpack_require__(/*! ./makeSearchStatePool */ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js");
var heuristics = __webpack_require__(/*! ./heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ./defaultSettings */ "./node_modules/ngraph.path/a-star/defaultSettings.js");

var BY_FROM = 1;
var BY_TO = 2;
var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`, it may be extended in future.
 * 
 * NOTE: Algorithm implemented in this code DOES NOT find optimal path.
 * Yet the path that it finds is always near optimal, and it finds it very fast.
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * 
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`.  Defaults function returns 0, which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * @param {Boolean} options.oriented - whether graph should be considered oriented or not.
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function aStarBi(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;
  var pool = makeSearchStatePool();

  return {
    find: find
  };

  function find(fromId, toId) {
    // Not sure if we should return NO_PATH or throw. Throw seem to be more
    // helpful to debug errors. So, throwing.
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);

    if (from === to) return [from]; // trivial case.

    pool.reset();

    var callVisitor = oriented ? orientedVisitor : nonOrientedVisitor;

    // Maps nodeId to NodeSearchState.
    var nodeState = new Map();

    var openSetFrom = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });

    var openSetTo = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });


    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode);

    // For the first node, fScore is completely heuristic.
    startNode.fScore = heuristic(from, to);
    // The cost of going from start to start is zero.
    startNode.distanceToSource = 0;
    openSetFrom.push(startNode);
    startNode.open = BY_FROM;

    var endNode = pool.createNewState(to);
    endNode.fScore = heuristic(to, from);
    endNode.distanceToSource = 0;
    openSetTo.push(endNode);
    endNode.open = BY_TO;

    // Cost of the best solution found so far. Used for accurate termination
    var lMin = Number.POSITIVE_INFINITY;
    var minFrom;
    var minTo;

    var currentSet = openSetFrom;
    var currentOpener = BY_FROM;

    while (openSetFrom.length > 0 && openSetTo.length > 0) {
      if (openSetFrom.length < openSetTo.length) {
        // we pick a set with less elements
        currentOpener = BY_FROM;
        currentSet = openSetFrom;
      } else {
        currentOpener = BY_TO;
        currentSet = openSetTo;
      }

      var current = currentSet.pop();

      // no need to visit this node anymore
      current.closed = true;

      if (current.distanceToSource > lMin) continue;

      graph.forEachLinkedNode(current.node.id, callVisitor);

      if (minFrom && minTo) {
        // This is not necessary the best path, but we are so greedy that we
        // can't resist:
        return reconstructBiDirectionalPath(minFrom, minTo);
      }
    }

    return NO_PATH; // No path.

    function nonOrientedVisitor(otherNode, link) {
      return visitNode(otherNode, link, current);
    }

    function orientedVisitor(otherNode, link) {
      // For oritned graphs we need to reverse graph, when traveling
      // backwards. So, we use non-oriented ngraph's traversal, and 
      // filter link orientation here.
      if (currentOpener === BY_FROM) {
        if (link.fromId === current.node.id) return visitNode(otherNode, link, current)
      } else if (currentOpener === BY_TO) {
        if (link.toId === current.node.id) return visitNode(otherNode, link, current);
      }
    }

    function canExit(currentNode) {
      var opener = currentNode.open
      if (opener && opener !== currentOpener) {
        return true;
      }

      return false;
    }

    function reconstructBiDirectionalPath(a, b) {
      var pathOfNodes = [];
      var aParent = a;
      while(aParent) {
        pathOfNodes.push(aParent.node);
        aParent = aParent.parent;
      }
      var bParent = b;
      while (bParent) {
        pathOfNodes.unshift(bParent.node);
        bParent = bParent.parent
      }
      return pathOfNodes;
    }

    function visitNode(otherNode, link, cameFrom) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) {
        // Already processed this node.
        return;
      }

      if (canExit(otherSearchState, cameFrom)) {
        // this node was opened by alternative opener. The sets intersect now,
        // we found an optimal path, that goes through *this* node. However, there
        // is no guarantee that this is the global optimal solution path.

        var potentialLMin = otherSearchState.distanceToSource + cameFrom.distanceToSource;
        if (potentialLMin < lMin) {
          minFrom = otherSearchState;
          minTo = cameFrom
          lMin = potentialLMin;
        }
        // we are done with this node.
        return;
      }

      var tentativeDistance = cameFrom.distanceToSource + distance(otherSearchState.node, cameFrom.node, link);

      if (tentativeDistance >= otherSearchState.distanceToSource) {
        // This would only make our path longer. Ignore this route.
        return;
      }

      // Choose target based on current working set:
      var target = (currentOpener === BY_FROM) ? to : from;
      var newFScore = tentativeDistance + heuristic(otherSearchState.node, target);
      if (newFScore >= lMin) {
        // this can't be optimal path, as we have already found a shorter path.
        return;
      }
      otherSearchState.fScore = newFScore;

      if (otherSearchState.open === 0) {
        // Remember this node in the current set
        currentSet.push(otherSearchState);
        currentSet.updateItem(otherSearchState.heapIndex);

        otherSearchState.open = currentOpener;
      }

      // bingo! we found shorter path:
      otherSearchState.parent = cameFrom;
      otherSearchState.distanceToSource = tentativeDistance;
    }
  }
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/a-star.js":
/*!***************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/a-star.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Performs a uni-directional A Star search on graph.
 * 
 * We will try to minimize f(n) = g(n) + h(n), where
 * g(n) is actual distance from source node to `n`, and
 * h(n) is heuristic distance from `n` to target node.
 */
module.exports = aStarPathSearch;

var NodeHeap = __webpack_require__(/*! ./NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var makeSearchStatePool = __webpack_require__(/*! ./makeSearchStatePool */ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js");
var heuristics = __webpack_require__(/*! ./heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ./defaultSettings.js */ "./node_modules/ngraph.path/a-star/defaultSettings.js");

var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`, it may be extended in future.
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`. This function should never overestimate actual distance between two
 * nodes (otherwise the found path will not be the shortest). Defaults function returns 0,
 * which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * @param {Boolean} options.oriented - whether graph should be considered oriented or not.
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function aStarPathSearch(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;
  var pool = makeSearchStatePool();

  return {
    /**
     * Finds a path between node `fromId` and `toId`.
     * @returns {Array} of nodes between `toId` and `fromId`. Empty array is returned
     * if no path is found.
     */
    find: find
  };

  function find(fromId, toId) {
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);
    pool.reset();

    // Maps nodeId to NodeSearchState.
    var nodeState = new Map();

    // the nodes that we still need to evaluate
    var openSet = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });

    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode);

    // For the first node, fScore is completely heuristic.
    startNode.fScore = heuristic(from, to);

    // The cost of going from start to start is zero.
    startNode.distanceToSource = 0;
    openSet.push(startNode);
    startNode.open = 1;

    var cameFrom;

    while (openSet.length > 0) {
      cameFrom = openSet.pop();
      if (goalReached(cameFrom, to)) return reconstructPath(cameFrom);

      // no need to visit this node anymore
      cameFrom.closed = true;
      graph.forEachLinkedNode(cameFrom.node.id, visitNeighbour, oriented);
    }

    // If we got here, then there is no path.
    return NO_PATH;

    function visitNeighbour(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) {
        // Already processed this node.
        return;
      }
      if (otherSearchState.open === 0) {
        // Remember this node.
        openSet.push(otherSearchState);
        otherSearchState.open = 1;
      }

      var tentativeDistance = cameFrom.distanceToSource + distance(otherNode, cameFrom.node, link);
      if (tentativeDistance >= otherSearchState.distanceToSource) {
        // This would only make our path longer. Ignore this route.
        return;
      }

      // bingo! we found shorter path:
      otherSearchState.parent = cameFrom;
      otherSearchState.distanceToSource = tentativeDistance;
      otherSearchState.fScore = tentativeDistance + heuristic(otherSearchState.node, to);

      openSet.updateItem(otherSearchState.heapIndex);
    }
  }
}

function goalReached(searchState, targetNode) {
  return searchState.node === targetNode;
}

function reconstructPath(searchState) {
  var path = [searchState.node];
  var parent = searchState.parent;

  while (parent) {
    path.push(parent.node);
    parent = parent.parent;
  }

  return path;
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/defaultSettings.js":
/*!************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/defaultSettings.js ***!
  \************************************************************/
/***/ ((module) => {

// We reuse instance of array, but we trie to freeze it as well,
// so that consumers don't modify it. Maybe it's a bad idea.
var NO_PATH = [];
if (typeof Object.freeze === 'function') Object.freeze(NO_PATH);

module.exports = {
  // Path search settings
  heuristic: blindHeuristic,
  distance: constantDistance,
  compareFScore: compareFScore,
  NO_PATH: NO_PATH,

  // heap settings
  setHeapIndex: setHeapIndex,

  // nba:
  setH1: setH1,
  setH2: setH2,
  compareF1Score: compareF1Score,
  compareF2Score: compareF2Score,
}

function blindHeuristic(/* a, b */) {
  // blind heuristic makes this search equal to plain Dijkstra path search.
  return 0;
}

function constantDistance(/* a, b */) {
  return 1;
}

function compareFScore(a, b) {
  var result = a.fScore - b.fScore;
  // TODO: Can I improve speed with smarter ties-breaking?
  // I tried distanceToSource, but it didn't seem to have much effect
  return result;
}

function setHeapIndex(nodeSearchState, heapIndex) {
  nodeSearchState.heapIndex = heapIndex;
}

function compareF1Score(a, b) {
  return a.f1 - b.f1;
}

function compareF2Score(a, b) {
  return a.f2 - b.f2;
}

function setH1(node, heapIndex) {
  node.h1 = heapIndex;
}

function setH2(node, heapIndex) {
  node.h2 = heapIndex;
}

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/heuristics.js":
/*!*******************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/heuristics.js ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = {
  l2: l2,
  l1: l1
};

/**
 * Euclid distance (l2 norm);
 * 
 * @param {*} a 
 * @param {*} b 
 */
function l2(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return Math.sqrt(dx * dx + dy * dy);
}

/**
 * Manhattan distance (l1 norm);
 * @param {*} a 
 * @param {*} b 
 */
function l1(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return Math.abs(dx) + Math.abs(dy);
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js":
/*!****************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/makeSearchStatePool.js ***!
  \****************************************************************/
/***/ ((module) => {

/**
 * This class represents a single search node in the exploration tree for
 * A* algorithm.
 * 
 * @param {Object} node  original node in the graph
 */
function NodeSearchState(node) {
  this.node = node;

  // How we came to this node?
  this.parent = null;

  this.closed = false;
  this.open = 0;

  this.distanceToSource = Number.POSITIVE_INFINITY;
  // the f(n) = g(n) + h(n) value
  this.fScore = Number.POSITIVE_INFINITY;

  // used to reconstruct heap when fScore is updated.
  this.heapIndex = -1;
};

function makeSearchStatePool() {
  var currentInCache = 0;
  var nodeCache = [];

  return {
    createNewState: createNewState,
    reset: reset
  };

  function reset() {
    currentInCache = 0;
  }

  function createNewState(node) {
    var cached = nodeCache[currentInCache];
    if (cached) {
      // TODO: This almost duplicates constructor code. Not sure if
      // it would impact performance if I move this code into a function
      cached.node = node;
      // How we came to this node?
      cached.parent = null;

      cached.closed = false;
      cached.open = 0;

      cached.distanceToSource = Number.POSITIVE_INFINITY;
      // the f(n) = g(n) + h(n) value
      cached.fScore = Number.POSITIVE_INFINITY;

      // used to reconstruct heap when fScore is updated.
      cached.heapIndex = -1;

    } else {
      cached = new NodeSearchState(node);
      nodeCache[currentInCache] = cached;
    }
    currentInCache++;
    return cached;
  }
}
module.exports = makeSearchStatePool;

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/nba/index.js":
/*!******************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/nba/index.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = nba;

var NodeHeap = __webpack_require__(/*! ../NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var heuristics = __webpack_require__(/*! ../heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ../defaultSettings.js */ "./node_modules/ngraph.path/a-star/defaultSettings.js");
var makeNBASearchStatePool = __webpack_require__(/*! ./makeNBASearchStatePool.js */ "./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js");

var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`.
 * 
 * This is implementation of the NBA* algorithm described in 
 * 
 *  "Yet another bidirectional algorithm for shortest paths" paper by Wim Pijls and Henk Post
 * 
 * The paper is available here: https://repub.eur.nl/pub/16100/ei2009-10.pdf
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`. This function should never overestimate actual distance between two
 * nodes (otherwise the found path will not be the shortest). Defaults function returns 0,
 * which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function nba(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;
  var quitFast = options.quitFast;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;

  // During stress tests I noticed that garbage collection was one of the heaviest
  // contributors to the algorithm's speed. So I'm using an object pool to recycle nodes.
  var pool = makeNBASearchStatePool();

  return {
    /**
     * Finds a path between node `fromId` and `toId`.
     * @returns {Array} of nodes between `toId` and `fromId`. Empty array is returned
     * if no path is found.
     */
    find: find
  };

  function find(fromId, toId) {
    // I must apologize for the code duplication. This was the easiest way for me to
    // implement the algorithm fast.
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);

    pool.reset();

    // I must also apologize for somewhat cryptic names. The NBA* is bi-directional
    // search algorithm, which means it runs two searches in parallel. One is called
    // forward search and it runs from source node to target, while the other one
    // (backward search) runs from target to source.

    // Everywhere where you see `1` it means it's for the forward search. `2` is for 
    // backward search.

    // For oriented graph path finding, we need to reverse the graph, so that
    // backward search visits correct link. Obviously we don't want to duplicate
    // the graph, instead we always traverse the graph as non-oriented, and filter
    // edges in `visitN1Oriented/visitN2Oritented`
    var forwardVisitor = oriented ? visitN1Oriented : visitN1;
    var reverseVisitor = oriented ? visitN2Oriented : visitN2;

    // Maps nodeId to NBASearchState.
    var nodeState = new Map();

    // These two heaps store nodes by their underestimated values.
    var open1Set = new NodeHeap({
      compare: defaultSettings.compareF1Score,
      setNodeId: defaultSettings.setH1
    });
    var open2Set = new NodeHeap({
      compare: defaultSettings.compareF2Score,
      setNodeId: defaultSettings.setH2
    });

    // This is where both searches will meet.
    var minNode;

    // The smallest path length seen so far is stored here:
    var lMin = Number.POSITIVE_INFINITY;

    // We start by putting start/end nodes to the corresponding heaps
    // If variable names like `f1`, `g1` are too confusing, please refer
    // to makeNBASearchStatePool.js file, which has detailed description.
    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode); 
    startNode.g1 = 0;
    var f1 = heuristic(from, to);
    startNode.f1 = f1;
    open1Set.push(startNode);

    var endNode = pool.createNewState(to);
    nodeState.set(toId, endNode);
    endNode.g2 = 0;
    var f2 = f1; // they should agree originally
    endNode.f2 = f2;
    open2Set.push(endNode)

    // the `cameFrom` variable is accessed by both searches, so that we can store parents.
    var cameFrom;

    // this is the main algorithm loop:
    while (open2Set.length && open1Set.length) {
      if (open1Set.length < open2Set.length) {
        forwardSearch();
      } else {
        reverseSearch();
      }

      if (quitFast && minNode) break;
    }

    var path = reconstructPath(minNode);
    return path; // the public API is over

    function forwardSearch() {
      cameFrom = open1Set.pop();
      if (cameFrom.closed) {
        return;
      }

      cameFrom.closed = true;

      if (cameFrom.f1 < lMin && (cameFrom.g1 + f2 - heuristic(from, cameFrom.node)) < lMin) {
        graph.forEachLinkedNode(cameFrom.node.id, forwardVisitor);
      }

      if (open1Set.length > 0) {
        // this will be used in reverse search
        f1 = open1Set.peek().f1;
      } 
    }

    function reverseSearch() {
      cameFrom = open2Set.pop();
      if (cameFrom.closed) {
        return;
      }
      cameFrom.closed = true;

      if (cameFrom.f2 < lMin && (cameFrom.g2 + f1 - heuristic(cameFrom.node, to)) < lMin) {
        graph.forEachLinkedNode(cameFrom.node.id, reverseVisitor);
      }

      if (open2Set.length > 0) {
        // this will be used in forward search
        f2 = open2Set.peek().f2;
      }
    }

    function visitN1(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) return;

      var tentativeDistance = cameFrom.g1 + distance(cameFrom.node, otherNode, link);

      if (tentativeDistance < otherSearchState.g1) {
        otherSearchState.g1 = tentativeDistance;
        otherSearchState.f1 = tentativeDistance + heuristic(otherSearchState.node, to);
        otherSearchState.p1 = cameFrom;
        if (otherSearchState.h1 < 0) {
          open1Set.push(otherSearchState);
        } else {
          open1Set.updateItem(otherSearchState.h1);
        }
      }
      var potentialMin = otherSearchState.g1 + otherSearchState.g2;
      if (potentialMin < lMin) { 
        lMin = potentialMin;
        minNode = otherSearchState;
      }
    }

    function visitN2(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) return;

      var tentativeDistance = cameFrom.g2 + distance(cameFrom.node, otherNode, link);

      if (tentativeDistance < otherSearchState.g2) {
        otherSearchState.g2 = tentativeDistance;
        otherSearchState.f2 = tentativeDistance + heuristic(from, otherSearchState.node);
        otherSearchState.p2 = cameFrom;
        if (otherSearchState.h2 < 0) {
          open2Set.push(otherSearchState);
        } else {
          open2Set.updateItem(otherSearchState.h2);
        }
      }
      var potentialMin = otherSearchState.g1 + otherSearchState.g2;
      if (potentialMin < lMin) {
        lMin = potentialMin;
        minNode = otherSearchState;
      }
    }

    function visitN2Oriented(otherNode, link) {
      // we are going backwards, graph needs to be reversed. 
      if (link.toId === cameFrom.node.id) return visitN2(otherNode, link);
    }
    function visitN1Oriented(otherNode, link) {
      // this is forward direction, so we should be coming FROM:
      if (link.fromId === cameFrom.node.id) return visitN1(otherNode, link);
    }
  }
}

function reconstructPath(searchState) {
  if (!searchState) return NO_PATH;

  var path = [searchState.node];
  var parent = searchState.p1;

  while (parent) {
    path.push(parent.node);
    parent = parent.p1;
  }

  var child = searchState.p2;

  while (child) {
    path.unshift(child.node);
    child = child.p2;
  }
  return path;
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js":
/*!***********************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js ***!
  \***********************************************************************/
/***/ ((module) => {

module.exports = makeNBASearchStatePool;

/**
 * Creates new instance of NBASearchState. The instance stores information
 * about search state, and is used by NBA* algorithm.
 *
 * @param {Object} node - original graph node
 */
function NBASearchState(node) {
  /**
   * Original graph node.
   */
  this.node = node;

  /**
   * Parent of this node in forward search
   */
  this.p1 = null;

  /**
   * Parent of this node in reverse search
   */
  this.p2 = null;

  /**
   * If this is set to true, then the node was already processed
   * and we should not touch it anymore.
   */
  this.closed = false;

  /**
   * Actual distance from this node to its parent in forward search
   */
  this.g1 = Number.POSITIVE_INFINITY;

  /**
   * Actual distance from this node to its parent in reverse search
   */
  this.g2 = Number.POSITIVE_INFINITY;


  /**
   * Underestimated distance from this node to the path-finding source.
   */
  this.f1 = Number.POSITIVE_INFINITY;

  /**
   * Underestimated distance from this node to the path-finding target.
   */
  this.f2 = Number.POSITIVE_INFINITY;

  // used to reconstruct heap when fScore is updated. TODO: do I need them both?

  /**
   * Index of this node in the forward heap.
   */
  this.h1 = -1;

  /**
   * Index of this node in the reverse heap.
   */
  this.h2 = -1;
}

/**
 * As path-finding is memory-intensive process, we want to reduce pressure on
 * garbage collector. This class helps us to recycle path-finding nodes and significantly
 * reduces the search time (~20% faster than without it).
 */
function makeNBASearchStatePool() {
  var currentInCache = 0;
  var nodeCache = [];

  return {
    /**
     * Creates a new NBASearchState instance
     */
    createNewState: createNewState,

    /**
     * Marks all created instances available for recycling.
     */
    reset: reset
  };

  function reset() {
    currentInCache = 0;
  }

  function createNewState(node) {
    var cached = nodeCache[currentInCache];
    if (cached) {
      // TODO: This almost duplicates constructor code. Not sure if
      // it would impact performance if I move this code into a function
      cached.node = node;

      // How we came to this node?
      cached.p1 = null;
      cached.p2 = null;

      cached.closed = false;

      cached.g1 = Number.POSITIVE_INFINITY;
      cached.g2 = Number.POSITIVE_INFINITY;
      cached.f1 = Number.POSITIVE_INFINITY;
      cached.f2 = Number.POSITIVE_INFINITY;

      // used to reconstruct heap when fScore is updated.
      cached.h1 = -1;
      cached.h2 = -1;
    } else {
      cached = new NBASearchState(node);
      nodeCache[currentInCache] = cached;
    }
    currentInCache++;
    return cached;
  }
}


/***/ }),

/***/ "./node_modules/ngraph.path/index.js":
/*!*******************************************!*\
  !*** ./node_modules/ngraph.path/index.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = {
  aStar: __webpack_require__(/*! ./a-star/a-star.js */ "./node_modules/ngraph.path/a-star/a-star.js"),
  aGreedy: __webpack_require__(/*! ./a-star/a-greedy-star */ "./node_modules/ngraph.path/a-star/a-greedy-star.js"),
  nba: __webpack_require__(/*! ./a-star/nba/index.js */ "./node_modules/ngraph.path/a-star/nba/index.js"),
}


/***/ }),

/***/ "./src/LoadExpressionTestPage.ts":
/*!***************************************!*\
  !*** ./src/LoadExpressionTestPage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExpressionsTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ./mathlib/expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ./mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integral_1 = __webpack_require__(/*! ./mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
/**
 * Called after the dom is loaded.
 * Populates the body element of the document
 * with the test expressions page
 */
function loadExpressionsTestPage() {
    const page = document.getElementsByTagName('body')[0];
    function p(content) {
        const e = document.createElement('p');
        e.innerText = content;
        page.append(e);
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        page.append(e);
    }
    p("The sum of a, a, and a");
    view((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.a, ConvenientExpressions_1.a));
    p("Integral of a over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of (a over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of ((a over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of (((a over a) over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of ((((a over a) over a) over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("");
    view((0, ConvenientExpressions_1.int)(Fraction_1.Fraction.of((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.a), Fraction_1.Fraction.of((0, ConvenientExpressions_1.num)(1), (0, ConvenientExpressions_1.num)(2)))), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.a)), ConvenientExpressions_1.x));
    p("Product of x and y");
    view((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.x, ConvenientExpressions_1.y));
    p("Product of (x-1), -1 and y");
    view((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.num)(1))), (0, ConvenientExpressions_1.num)(-1), ConvenientExpressions_1.y));
    p("Negation of x (Reped as the propduct of -1 and x)");
    view((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x));
    p("Sum of x and -x");
    view((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x)));
    p("Sum of -x and x");
    view((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x), ConvenientExpressions_1.x));
    p("Derivative of the square of x with respect to x");
    view(Derivative_1.Derivative.of(Exponent_1.Exponent.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2)), ConvenientExpressions_1.x));
    p("Derivative ((x^2) - 2) with respect to x");
    view(Derivative_1.Derivative.of(Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(-2)), (0, ConvenientExpressions_1.num)(2)), ConvenientExpressions_1.x));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
}
exports.loadExpressionsTestPage = loadExpressionsTestPage;


/***/ }),

/***/ "./src/LoadInputParseTestPage.ts":
/*!***************************************!*\
  !*** ./src/LoadInputParseTestPage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadInputParseTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Logarithm_1 = __webpack_require__(/*! ./mathlib/expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadInputParseTestPage() {
    const page = document.getElementsByTagName('body')[0];
    page.style.padding = "8ch";
    function p(content) {
        const e = document.createElement('p');
        e.innerText = content;
        return e;
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        return e;
    }
    /**
     * Print the parsed expression to the page.
     * @param input User input string to parse.
     * @param explanation
     */
    function expression(input, explanation = null) {
        page.append(p("Input:       " + input));
        if (explanation != null)
            page.append(p(explanation));
        page.append(view((0, AntlrMathParser_1.parseExpression)(input)));
    }
    /**
     * Takes an internal expression, converts it
     * to a string, then parses that string into
     * an expression.
     * @param input
     */
    function twoWay(input) {
        const table = document.createElement('table');
        table.style.border = "1px solid black";
        table.style.width = '70%';
        const row = document.createElement('tr');
        table.appendChild(row);
        const data1 = document.createElement('td');
        const data2 = document.createElement('td');
        const data3 = document.createElement('td');
        row.appendChild(data1);
        row.appendChild(data2);
        row.appendChild(data3);
        data1.style.border = "1px solid black";
        data2.style.border = "1px solid black";
        data3.style.border = "1px solid black";
        data1.appendChild(view(input));
        const text = p(input.toUnambigiousString());
        text.style.display = "block";
        text.style.textAlign = "center";
        data2.appendChild(text);
        const parseResult = (0, AntlrMathParser_1.parseExpression)(input.toUnambigiousString());
        data3.appendChild(view(parseResult));
        page.append(table);
        // Conditional formatting
        if (input === parseResult) {
            data3.style.backgroundColor = "lightgreen";
        }
        else {
            data3.style.backgroundColor = "red";
        }
    }
    // Expression strings to test
    expression("int(x)dx+c");
    expression("a/bintx");
    expression("a^b+c", "The +c shouldn't be in the exponent");
    expression("a+b^c");
    expression("(a+b)^c");
    expression("-a-b+c");
    expression("-a+-b+c");
    expression("a+b+c");
    expression("-(a+b)");
    expression("-a(a+b)");
    expression("a+(b+c)");
    expression("a-b-c");
    expression("a*b+c");
    expression("a/b+c");
    expression("a/b/c");
    expression("abx-d");
    expression("-abx-d");
    expression("-a-bx-d");
    expression("abcd");
    expression("a*b*c*d");
    expression("ab*cd");
    expression("int4x+2");
    expression("int(4x+2)");
    expression("logx");
    expression("log(x)");
    expression("(5/(2x-3)-(3/((2x-3)^2))");
    expression("(5/(2x-3)-(3/(2x-3)^2)");
    page.append(p("In these tests, an unambigious expression is written in the " +
        " source code. It is then converted to an unambigious string " +
        "representation, and then parsed back into an expression. " +
        "The goal is that this process preserves the expression. This " +
        "requires 1) expression -> string is unambigious and accurate and 2) " +
        "the parser is working correctly."));
    page.append(p("The first column is assumed to be correct, the middle collumn has " +
        "the automatically generated string version of the first column, " +
        "and the last column contains the expression parsed from the second column."));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), ConvenientExpressions_1.b, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, Exponent_1.Exponent.of(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    twoWay(Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)));
    twoWay((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)));
    twoWay((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b))));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.fraction)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.fraction)((0, ConvenientExpressions_1.fraction)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.x), ConvenientExpressions_1.d));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.x)), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.d)));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.b, ConvenientExpressions_1.x)), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.d)));
    twoWay((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c, ConvenientExpressions_1.d));
    // twoWay("ab*cd")
    // twoWay("int4x+2")
    // twoWay("int(4x+2)")
    twoWay(Logarithm_1.Logarithm.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(10)));
}
exports.loadInputParseTestPage = loadInputParseTestPage;


/***/ }),

/***/ "./src/LoadPrimaryPage.ts":
/*!********************************!*\
  !*** ./src/LoadPrimaryPage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPrimaryPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const WebGraphView_1 = __webpack_require__(/*! ./mathlib/uielements/WebGraphView */ "./src/mathlib/uielements/WebGraphView.ts");
const Graph_1 = __webpack_require__(/*! ./mathlib/Graph */ "./src/mathlib/Graph.ts");
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const Expression_1 = __webpack_require__(/*! ./mathlib/expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ./mathlib/derivations/RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
const SubtractFromBothSides_1 = __webpack_require__(/*! ./mathlib/derivations/algebra/SubtractFromBothSides */ "./src/mathlib/derivations/algebra/SubtractFromBothSides.ts");
const DivideOnBothSides_1 = __webpack_require__(/*! ./mathlib/derivations/algebra/DivideOnBothSides */ "./src/mathlib/derivations/algebra/DivideOnBothSides.ts");
const Variable_1 = __webpack_require__(/*! ./mathlib/expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Product_1 = __webpack_require__(/*! ./mathlib/expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./mathlib/expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Interpreter_1 = __webpack_require__(/*! ./mathlib/interpreting/Interpreter */ "./src/mathlib/interpreting/Interpreter.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./mathlib/derivations/simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ./mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
RelationalDerivationRule_1.RelationalDerivationRule.rules.add(new SubtractFromBothSides_1.SubtractFromBothSides());
RelationalDerivationRule_1.RelationalDerivationRule.rules.add(new DivideOnBothSides_1.DivideOnBothSides());
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadPrimaryPage() {
    //const root = Derivative.of(sum(a, a, product(num(2), b)), a)
    //const root = Derivative.of(product(num(3), Exponent.of(x, num(2)), Exponent.of(x, num(3))), x)
    //const root = product(Exponent.of(x, num(3)), Exponent.of(x, num(4)), x, x)
    //const root = Derivative.of(Fraction.of(Exponent.of(x, num(2)), x), x)
    //const root = Fraction.of(product(num(2), x, Exponent.of(x, a), a), product(num(2), a, a, x))
    const root = (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b)), ConvenientExpressions_1.a, ConvenientExpressions_1.a);
    const graph = new Graph_1.Graph().addNode(root);
    const deriver = new Deriver_1.Deriver(graph);
    deriver.expand(30, true);
    const interpreter = new Interpreter_1.Interpreter({
        skips: (0, ThingsThatShouldBeInTheStdLib_1.setOf)(EvaluateSums_1.RULE_ID)
    });
    //console.log("Result: " + graph)
    const input = document.getElementById("input");
    input.addEventListener("keyup", () => {
        //parse((input! as HTMLTextAreaElement).value)
    });
    const out = document.getElementById("outputbox");
    const config = {
        showArguments: false,
        drawEdgeLines: true,
        debugCornerEnabled: true,
    };
    const graphView = new WebGraphView_1.WebGraphView(graph, new Set([root]), interpreter, config);
    graphView.setNodeColoringScheme(n => {
        if (n instanceof Expression_1.Expression) {
            if (!deriver.isSimplified(n))
                return "lightgray";
            if (n instanceof Product_1.Product)
                if (deriver.passedFactoringSimplification.has(n))
                    return "coral";
            if (n instanceof Sum_1.Sum)
                if (deriver.passedPolynomialSimplification.has(n))
                    return "yellow";
            if (deriver.passedConvergentSimplification.has(n))
                return "lightgreen";
            if (n instanceof Variable_1.Variable)
                return "orange";
            return "lightblue";
        }
        return "black";
    });
    graphView.setAttribute("id", "web-graphview");
    out.appendChild(graphView);
}
exports.loadPrimaryPage = loadPrimaryPage;


/***/ }),

/***/ "./src/LoadSimplificationTestPage.ts":
/*!*******************************************!*\
  !*** ./src/LoadSimplificationTestPage.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSimplificationTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const Graph_1 = __webpack_require__(/*! ./mathlib/Graph */ "./src/mathlib/Graph.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadSimplificationTestPage() {
    const page = document.getElementsByTagName('body')[0];
    page.style.padding = "8ch";
    function p(content) {
        const e = document.createElement('p');
        e.innerText = content;
        return e;
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        return e;
    }
    /**
     * Adds a test column to the page.
     * @param start
     * @param answ The correct simplification of the expression.
     */
    function simplify(start, answ) {
        const table = document.createElement('table');
        table.style.border = "1px solid black";
        table.style.width = '80%';
        const row = document.createElement('tr');
        table.appendChild(row);
        function append(cell) {
            cell.style.border = "1px solid black";
            row.appendChild(cell);
        }
        const data1 = document.createElement('td');
        const data2 = document.createElement('td');
        const data3 = document.createElement('td');
        append(data1);
        append(data2);
        append(data3);
        data1.appendChild(view(start));
        const graph = new Graph_1.Graph();
        graph.addNode(start);
        const deriver = new Deriver_1.Deriver(graph);
        deriver.expand(40);
        const results = deriver.simplifiedExpressions;
        console.log(results.length);
        data2.appendChild(view(results[0]));
        data3.appendChild(view(answ));
        page.append(table);
        // Conditional formatting
        if (results[0] === answ) {
            data2.style.backgroundColor = "lightgreen";
        }
        else {
            data2.style.backgroundColor = "red";
            const data4 = document.createElement('td');
            const data5 = document.createElement('td');
            const data6 = document.createElement('td');
            append(data4);
            append(data5);
            append(data6);
            data4.innerHTML = results[0].toUnambigiousString() + "<br>" + answ.toUnambigiousString();
            data5.innerHTML = "Hashes: <br>" + results[0].hash + "<br>" + answ.hash;
            data6.innerHTML = "IDs: " + results[0].id + "<br>" + answ.id;
        }
    }
    /**
     * Wrapper for simplify that parses strings
     * @param input
     * @param answ
     */
    function pSimp(input, answ) {
        const inputExp = (0, AntlrMathParser_1.parseExpression)(input);
        const answExp = (0, AntlrMathParser_1.parseExpression)(answ);
        simplify(inputExp, answExp);
    }
    // Expressions and their correct simplifications
    simplify((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.x), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.x));
    simplify((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.x, ConvenientExpressions_1.x), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2)));
    simplify((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.a), ConvenientExpressions_1.b));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.c, ConvenientExpressions_1.b)), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.c, ConvenientExpressions_1.b)));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.c)), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.b)));
    pSimp("(a+b)(a+b)", "(a+b)^2");
    pSimp("(a+b)(a-b)", "a^2-b^2");
    pSimp("b^2*b", "b^3");
    // Random online problems
    pSimp("(-(1/x)+1)((x^2)/(x-1))", "x");
    pSimp("(3x+27y+15z)/(x+9y+5z)", "3");
    pSimp("(x^2-9)/(x+3)", "(x-3)");
    pSimp("x+3*(10+y)-7x-y", "-6x+2y+30");
    pSimp("(5/(2x-3)-(3/((2x-3)^2))", "(2(5x-9))/((2x-3)^2)");
}
exports.loadSimplificationTestPage = loadSimplificationTestPage;


/***/ }),

/***/ "./src/LoadSolverPage.ts":
/*!*******************************!*\
  !*** ./src/LoadSolverPage.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSolverPage = void 0;
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const Graph_1 = __webpack_require__(/*! ./mathlib/Graph */ "./src/mathlib/Graph.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const ngraph_path_1 = __importDefault(__webpack_require__(/*! ngraph.path */ "./node_modules/ngraph.path/index.js"));
const ngraph_graph_1 = __importDefault(__webpack_require__(/*! ngraph.graph */ "./node_modules/ngraph.graph/index.js"));
const Expression_1 = __webpack_require__(/*! ./mathlib/expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const Argument_1 = __webpack_require__(/*! ./mathlib/Argument */ "./src/mathlib/Argument.ts");
const ArgumentNodeView_1 = __webpack_require__(/*! ./mathlib/uielements/ArgumentNodeView */ "./src/mathlib/uielements/ArgumentNodeView.ts");
const ExpressionNodeView_1 = __webpack_require__(/*! ./mathlib/uielements/ExpressionNodeView */ "./src/mathlib/uielements/ExpressionNodeView.ts");
const GraphMinipulator_1 = __webpack_require__(/*! ./mathlib/GraphMinipulator */ "./src/mathlib/GraphMinipulator.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
const Interpreter_1 = __webpack_require__(/*! ./mathlib/interpreting/Interpreter */ "./src/mathlib/interpreting/Interpreter.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ./mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./mathlib/derivations/simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const Path_1 = __webpack_require__(/*! ./mathlib/interpreting/Path */ "./src/mathlib/interpreting/Path.ts");
function loadSolverPage() {
    const inputView = document.getElementById('problem');
    const problemViewDiv = document.getElementById('expressionViewDiv');
    const solutionView = document.getElementById('solution');
    const stepListView = document.getElementById('steps');
    // Populate ui
    const problemView = new EditableMathView_1.EditableMathView();
    problemViewDiv.appendChild(problemView);
    inputView.focus();
    inputView.addEventListener("keyup", () => {
        // Parse input
        let exp;
        try {
            exp = (0, AntlrMathParser_1.parseExpression)(inputView.value);
            problemView.value = exp;
        }
        catch (e) {
            stepListView.style.opacity = "0.6";
            problemView.value = null;
            return;
        }
        // We were able to parse the input
        stepListView.style.opacity = "1";
        // Clear the previous result
        while (stepListView.children.length > 0) {
            stepListView.removeChild(stepListView.children[0]);
        }
        const steps = getSolution(exp);
        if (steps.nodes.length == 0) {
            stepListView.textContent = "Cannot Simplify";
            return;
        }
        // Interpret the solution
        const interpreter = new Interpreter_1.Interpreter({
            skips: (0, ThingsThatShouldBeInTheStdLib_1.setOf)(EvaluateSums_1.RULE_ID)
        });
        const skipSet = interpreter.processPath(steps);
        // Display new result
        solutionView.value = steps.nodes[steps.nodes.length - 1];
        function recursiveAdd(node) {
            stepListView.appendChild(new ExpressionNodeView_1.ExpressionNodeView(node, view => { }));
            const next = skipSet.next(node);
            if (next == null)
                return;
            const arg = next.a;
            stepListView.appendChild(new ArgumentNodeView_1.ArgumentNodeView(arg, view => { }));
            recursiveAdd(next.e);
        }
        recursiveAdd(steps.nodes[0]);
    });
}
exports.loadSolverPage = loadSolverPage;
/**
 * Simplifies the given expression returning an array
 * of steps ending in the answer.
 * The last node will be an expression.
 * Result path will have no nodes if there is no solution.
 */
function getSolution(problem) {
    const graph = new Graph_1.Graph().addNode(problem);
    const deriver = new Deriver_1.Deriver(graph);
    console.log("Pre Expand");
    deriver.expand(50, true);
    console.log("Post expand");
    let simplified = problem;
    for (const node of graph.getNodes()) {
        if (node instanceof Expression_1.Expression)
            if (deriver.isSimplified(node))
                if (simplified.childCount > node.childCount)
                    simplified = node;
    }
    // Copy the resulting graph into a library implementation of graph
    const libraryGraph = (0, ngraph_graph_1.default)();
    graph.getNodes().forEach(n => {
        libraryGraph.addNode(n.id, n);
    });
    // I assume that library graph isn't directed
    for (const edge of GraphMinipulator_1.GraphMinipulator.dropSymmetric(graph.getEdges())) {
        if (edge.e instanceof Argument_1.Argument) {
            libraryGraph.addLink(edge.n.id, edge.e.id);
            libraryGraph.addLink(edge.e.id, edge.n1.id);
        }
        // if (edge.n instanceof Expression && edge.n1 instanceof Expression)
        //     console.log(`edge ${edge.n} AND ${edge.n1}`)
    }
    // Do path finding operation on it
    const pathFinder = ngraph_path_1.default.nba(libraryGraph);
    const resultPath = pathFinder.find(problem.id, simplified.id).reverse();
    const typedResultPath = resultPath.map(node => {
        if (node.data instanceof Argument_1.Argument)
            return node.data;
        else if (node.data instanceof Expression_1.Expression)
            return node.data;
        else
            throw new Error("Not implemented");
    }).filter(node => node instanceof Expression_1.Expression);
    return new Path_1.Path(graph, ...typedResultPath);
}


/***/ }),

/***/ "./src/mathlib/Argument.ts":
/*!*********************************!*\
  !*** ./src/mathlib/Argument.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Argument = void 0;
const MathGraphNode_1 = __webpack_require__(/*! ./MathGraphNode */ "./src/mathlib/MathGraphNode.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Connects one or more nodes (grounds) to one or more nodes (claims).
 * Contains an explanation/argument for the connection.
 */
class Argument extends MathGraphNode_1.MathGraphNode {
    constructor(grounds, claim, argument, ruleId) {
        super();
        this.expressionEdge = true;
        this.grounds = grounds;
        Object.freeze(this.grounds);
        this.claim = claim;
        this.argument = argument;
        this.ruleId = ruleId;
        this.repOk();
    }
    get relationship() {
        return this.claim.r;
    }
    toString() {
        return "Argument " + this.claim.r;
    }
    repOk() {
        (0, assert_1.assert)(this.grounds != null);
        for (const ground of this.grounds) {
            (0, assert_1.assert)(ground != null && ground != undefined);
        }
        (0, assert_1.assert)(this.claim.n != null && this.claim.n != undefined);
        (0, assert_1.assert)(this.claim.n1 != null && this.claim.n1 != undefined);
        (0, assert_1.assert)(this.claim.r != undefined && this.claim.r != null);
    }
}
exports.Argument = Argument;


/***/ }),

/***/ "./src/mathlib/ConvenientExpressions.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/ConvenientExpressions.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.y = exports.x = exports.f = exports.e = exports.d = exports.c = exports.b = exports.a = exports.productAndNotTimesOne = exports.productOrNot = exports.equivalenceArgument = exports.int = exports.v = exports.num = exports.negative = exports.product = exports.removeNew = exports.remove = exports.pow = exports.orderedProduct = exports.sumOrNot = exports.sumIntuitive = exports.sumEvalIntegerTerms = exports.orderedSum = exports.sum = exports.fraction = void 0;
const Integer_1 = __webpack_require__(/*! ./expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Fraction_1 = __webpack_require__(/*! ./expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integral_1 = __webpack_require__(/*! ./expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Product_1 = __webpack_require__(/*! ./expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ./expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const Relationship_1 = __webpack_require__(/*! ./Relationship */ "./src/mathlib/Relationship.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
const Exponent_1 = __webpack_require__(/*! ./expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
function fraction(num, den) {
    return Fraction_1.Fraction.of(num, den);
}
exports.fraction = fraction;
/**
 * A convenience method for Sum.of()
 */
function sum(...terms) {
    return Sum_1.Sum.of(terms);
}
exports.sum = sum;
/**
 * Gets the correctly ordered sum of the given sum.
 * 1 + a = a + 1
 * Follows the spec given in the Sum.ts file.
 * @param sum
 * @returns
 */
function orderedSum(sum) {
    const ordered = (0, Sum_1.orderTerms)(...sum.terms);
    return Sum_1.Sum.of(ordered);
}
exports.orderedSum = orderedSum;
/**
 * Returns the sum of the given terms, evaluating any integer terms.
 * Puts final constant integer as the last term.
 * If the result is a sum, it will not have the integer 0 as a term.
 * If all given terms sum to zero, the integer zero will be returned.
 * @param terms
 */
function sumEvalIntegerTerms(...terms) {
    const integers = terms.filter(e => e instanceof Integer_1.Integer).length;
    if (integers < 2)
        return sum(...terms);
    const nonIntTerms = terms.filter(e => !(e instanceof Integer_1.Integer));
    const intTerm = terms.filter(e => e instanceof Integer_1.Integer)
        .map(e => e)
        .reduce((a, b) => num(a.value + b.value));
    if (intTerm.value == 0) {
        if (nonIntTerms.length > 1) {
            return sum(...nonIntTerms);
        }
        else if (nonIntTerms.length == 1) {
            return nonIntTerms[0];
        }
        else {
            return intTerm;
        }
    }
    else {
        if (nonIntTerms.length == 0) {
            return intTerm;
        }
        else {
            return sum(...nonIntTerms, intTerm);
        }
    }
}
exports.sumEvalIntegerTerms = sumEvalIntegerTerms;
/**
 * Returns the sum of the given terms. Evaluates any
 * integer terms. Additionally cancels out any positive
 * negative terms.
 *
 * Simplifies
 *  x + a - a = x
 * x + ab - ab = x
 * x + 2ab - 2ab = x
 * a - a = 0
 *
 * Doesn't affect
 *  x + 2a - a
 * @param terms
 */
function sumIntuitive(...terms) {
    const intEval = sumEvalIntegerTerms(...terms);
    if (intEval.class != Sum_1.SumType)
        return intEval;
    terms = [...intEval.terms];
    // Find opposite pairs
    // They will take the form
    //      exp + -1 * exp
    // I assume here that the only way to notate
    // negativity is by multiplying by -1
    terms: for (const t of terms) {
        const otherTerms = [...terms];
        remove(otherTerms, t);
        for (const other of otherTerms) {
            if (other instanceof Product_1.Product) {
                if (other.isNegation && other.negation === t) {
                    remove(terms, other);
                    remove(terms, t);
                    continue terms;
                }
            }
        }
    }
    if (terms.length == 0)
        return Integer_1.Integer.of(0);
    else if (terms.length == 1)
        return terms[0];
    else
        return sum(...terms);
}
exports.sumIntuitive = sumIntuitive;
/**
 * Finds the sum of the given terms or if only 1
 * is given returns that term.
 * @param terms
 * @returns
 */
function sumOrNot(...terms) {
    if (terms.length == 1)
        return terms[0];
    else
        return sum(...terms);
}
exports.sumOrNot = sumOrNot;
/**
 * Produces a product from the given factors
 * where the factors are ordered according to convention.
 * @param factors At least 2
 */
function orderedProduct(...factors) {
    factors.sort(Product_1.factorOrder);
    return product(...factors);
}
exports.orderedProduct = orderedProduct;
/**
 * Convenience wrapper function for Exponent.of
 * @param base
 * @param power
 * @returns
 */
function pow(base, power) {
    return Exponent_1.Exponent.of(base, power);
}
exports.pow = pow;
/**
 * Removes the first instance of the given
 * element from the array. Really should be
 * part of the std library. Identifies object
 * with referencial equality.
 * @param array
 * @param element
 */
function remove(array, element) {
    for (let i = 0; i < array.length; i++) {
        if (array[i] === element) {
            array.splice(i, 1);
            return;
        }
    }
}
exports.remove = remove;
/**
 * Gets a new array without the first instance of the given
 * element. Really should be
 * part of the std library. Identifies object
 * with referencial equality.
 * @param array
 * @param element
 */
function removeNew(array, element) {
    const input = [...array];
    for (let i = 0; i < input.length; i++) {
        if (input[i] === element) {
            input.splice(i, 1);
            return input;
        }
    }
    throw new Error("Given array doesn't contain element " + element);
}
exports.removeNew = removeNew;
function product(...factors) {
    factors.forEach(f => (0, assert_1.assert)(f != null && f != undefined, "Making product with null or undefined factor"));
    return Product_1.Product.of(factors);
}
exports.product = product;
function negative(expression) {
    (0, assert_1.assert)(expression != undefined, "Taking negative of undefined expression");
    if (expression instanceof Integer_1.Integer)
        return Integer_1.Integer.of(-expression.value);
    else
        return Product_1.Product.of([Integer_1.Integer.of(-1), expression]);
}
exports.negative = negative;
function num(val) {
    return Integer_1.Integer.of(val);
}
exports.num = num;
function v(symbol) {
    return Variable_1.Variable.of(symbol);
}
exports.v = v;
function int(integrand, respectTo) {
    return Integral_1.Integral.of(integrand, respectTo);
}
exports.int = int;
function equivalenceArgument(first, second, explanation) {
    return new Argument_1.Argument(setOf(first), {
        n: first,
        r: Relationship_1.Relationship.Equal,
        n1: second,
    }, explanation, "TEST_ARGUMENT");
}
exports.equivalenceArgument = equivalenceArgument;
/**
 *
 * @returns The product of the given factors, or the only factor given
 * if only one given. Throws if no expressions are given.
 */
function productOrNot(...expressions) {
    (0, assert_1.assert)(expressions.length > 0);
    if (expressions.length == 1)
        return expressions[0];
    return product(...expressions);
}
exports.productOrNot = productOrNot;
/**
 * @returns The product of the given terms exlcuding the first if
 *          it's one. If the resulting terms list is only one term,
 *          returns the only term.
 */
function productAndNotTimesOne(...expressions) {
    if (expressions[0] instanceof Integer_1.Integer && expressions[0].value == 1) {
        expressions.shift();
        return productOrNot(...expressions);
    }
    return productOrNot(...expressions);
}
exports.productAndNotTimesOne = productAndNotTimesOne;
function setOf(...expressions) {
    const out = new Set();
    expressions.forEach(e => out.add(e));
    return out;
}
exports.a = v('a');
exports.b = v('b');
exports.c = v('c');
exports.d = v('d');
exports.e = v('e');
exports.f = v('f');
exports.x = v('x');
exports.y = v('y');


/***/ }),

/***/ "./src/mathlib/Graph.ts":
/*!******************************!*\
  !*** ./src/mathlib/Graph.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GivenEdge = exports.ArgumentEdge = exports.Graph = void 0;
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Class representing a graph of expressions and statements
 * including everything we know about a problem.
 * Connects GraphNodes via Inferences for edges.
 *
 * It's a digraph. TODO: It may also need to be a multigraph...
 */
class Graph {
    constructor() {
        this.nodes = new Set();
        this.connections = new Map();
        this.edges = new Map();
        this.repOk();
    }
    /**
     * Adds an expression to the problem.
     * @param node
     * @returns the same graph for chaining.
     */
    addNode(node) {
        this.nodes.add(node);
        if (node instanceof Argument_1.Argument) {
            this.addArgument(node);
        }
        this.repOk();
        return this;
    }
    /**
     * Add a relationship between two elements given by the user to the graph.
     * Should not be called to add derived truths bc this won't store an explanation.
     * Adds given nodes if they aren't already on the graph.
     * @param n
     * @param n1
     * @param r
     * @returns self for chaining
     */
    addRelationship(n, n1, r) {
        this.addNode(n);
        this.addNode(n1);
        // Defined both ways because the user is giving it
        this.internalAdd(n, n1, new GivenEdge(r));
        this.internalAdd(n1, n, new GivenEdge(r));
        this.repOk();
        return this;
    }
    /**
     * Adds a node representing an acumulation of facts
     * that leads to a conclusion.
     * The relationship claimed by the argument is directed
     * from n to n1 with the argument as the edge.
     * @param a
     * @returns the same graph for chaining.
     */
    addArgument(a) {
        this.nodes.add(a);
        // Add the grounds
        for (const ground of a.grounds) {
            this.nodes.add(ground);
            this.internalAdd(ground, a, ArgumentEdge.To);
        }
        // Add the claim
        const claim = a.claim;
        this.addNode(claim.n);
        this.addNode(claim.n1);
        this.internalAdd(a, claim.n, ArgumentEdge.From);
        this.internalAdd(a, claim.n1, ArgumentEdge.From);
        this.internalAdd(claim.n, claim.n1, a);
        this.repOk();
        return this;
    }
    /**
     * @returns the same graph for chaining.
     */
    addArguments(...a) {
        a.forEach(arg => this.addArgument(arg));
        return this;
    }
    /**
     * Adds the given directed edge to the graph. If either node
     * is missing from the graph, adds it.
     * @param n
     * @param n1
     * @param e
     * @returns This.
     */
    addEdge(n, n1, e) {
        this.addNode(n);
        this.addNode(n1);
        this.internalAdd(n, n1, e);
        return this;
    }
    /**
     * Get the set of neighbors of a node.
     * @param node
     * @param direction Nodes that are adjacent to this node, from this node, or either.
     * @returns Undefined if the node isn't in this graph. Otherwise, a set of connected nodes.
     *          If the node is in the graph but isn't connected to anything, returns empty set.
     */
    getNeighbors(node, direction) {
        var _a, _b;
        if (!this.nodes.has(node))
            return undefined;
        if (direction == "out") {
            return [...this.connections.get(node)];
        }
        let adjacentTo = new Set();
        for (const n of this.nodes) {
            if ((_a = this.connections.get(n)) === null || _a === void 0 ? void 0 : _a.has(node))
                adjacentTo.add(n);
        }
        if (direction == "in")
            return [...adjacentTo];
        for (const n of (_b = this.connections.get(node)) !== null && _b !== void 0 ? _b : [])
            adjacentTo.add(n);
        return [...adjacentTo];
    }
    /**
     * Determines the number of edges this node has.
     * @param node The node being consdered.
     * @param direction Count only the edges going towards this node, away from
     *          it, or both.
     * @returns >= 0, undefined if the given node isn't in the graph.
     */
    getDegree(node, direction) {
        var _a, _b, _c, _d;
        if (!this.nodes.has(node))
            return undefined;
        if (direction == "out") {
            return (_b = (_a = this.connections.get(node)) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;
        }
        let degIn = 0;
        this.nodes.forEach(n => {
            if (this.connections.get(n) == undefined)
                return;
            if (this.connections.get(n).has(node))
                degIn++;
        });
        if (direction == "in")
            return degIn;
        return degIn + ((_d = (_c = this.connections.get(node)) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : 0);
    }
    /**
     * @param n Node in the graph.
     * @param n1 In the graph.
     * @returns Undefined if either node isn't in the graph or they're not
     * connected.
     */
    getEdge(n, n1) {
        var _a;
        return (_a = this.edges.get(n)) === null || _a === void 0 ? void 0 : _a.get(n1);
    }
    contains(node) {
        return this.nodes.has(node);
    }
    /**
     * @returns A new set containing all the nodes in the graph
     */
    getNodes() {
        return new Set(this.nodes);
    }
    getEdges() {
        const out = new Set();
        this.edges.forEach((map, first) => {
            map.forEach((edge, second) => {
                out.add({ n: first, n1: second, e: edge });
            });
        });
        return out;
    }
    numNodes() {
        return this.nodes.size;
    }
    /**
     * Adds all graph nodes and edges to this one.
     * @param graph
     * @returns the same graph for chaining.
     */
    addGraph(graph) {
        graph.nodes.forEach(node => {
            this.nodes.add(node);
        });
        graph.edges.forEach((map, node1) => {
            map.forEach((edge, node2) => {
                if (edge instanceof Argument_1.Argument)
                    this.addArgument(edge);
                else if (edge == "supports") {
                    this.internalAdd(node1, node2, ArgumentEdge.To);
                }
                else if (edge == "claims") {
                    this.internalAdd(node1, node2, ArgumentEdge.From);
                }
                else
                    throw new Error("Unknown Edge Type");
            });
        });
        this.repOk();
        return this;
    }
    toString() {
        let out = "Graph(V = {";
        for (const node of this.nodes) {
            out += node.toString() + ",";
        }
        out = out.substring(0, out.length - 1) + "}, E = {";
        this.connections.forEach((set, src) => {
            set.forEach(dest => {
                out += src.toString() + " -> " + dest.toString() + ", ";
            });
        });
        out += "} Edge Count: " + this.connections.size;
        return out;
    }
    internalAdd(n, n1, e) {
        if (this.connections.get(n) == null) {
            this.connections.set(n, new Set());
        }
        this.connections.get(n).add(n1);
        if (this.edges.get(n) == undefined) {
            this.edges.set(n, new Map());
        }
        this.edges.get(n).set(n1, e);
        this.repOk();
    }
    repOk() {
        this.nodes.forEach((value) => {
            (0, assert_1.assert)(value != null && value != undefined);
        });
        // All connections/edges have nodes
        this.connections.forEach((value, key) => {
            (0, assert_1.assert)(this.nodes.has(key));
            value.forEach(n => {
                (0, assert_1.assert)(this.nodes.has(n));
            });
        });
        this.edges.forEach((map, first) => {
            map.forEach((edge, second) => {
                (0, assert_1.assert)(this.nodes.has(first));
                (0, assert_1.assert)(this.nodes.has(second));
                (0, assert_1.assert)(this.connections.get(first).has(second));
            });
        });
    }
}
exports.Graph = Graph;
var ArgumentEdge;
(function (ArgumentEdge) {
    ArgumentEdge["To"] = "supports";
    ArgumentEdge["From"] = "claims";
})(ArgumentEdge || (exports.ArgumentEdge = ArgumentEdge = {}));
/**
 * Communicates a relationhip given by the user.
 */
class GivenEdge {
    constructor(r) {
        this.r = r;
    }
}
exports.GivenEdge = GivenEdge;


/***/ }),

/***/ "./src/mathlib/GraphMinipulator.ts":
/*!*****************************************!*\
  !*** ./src/mathlib/GraphMinipulator.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GraphMinipulator = void 0;
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const Graph_1 = __webpack_require__(/*! ./Graph */ "./src/mathlib/Graph.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Tool to do operations on graphs.
 */
class GraphMinipulator {
    /**
     * Find nodes of components of a graph where only edges for which
     * the callback function returns true are considered.
     * @param
     * @param isConnected
     */
    static getComponentNodes(input, isConnected) {
        const includedNodes = new Set();
        const components = new Set();
        for (const node of input.getNodes()) {
            if (includedNodes.has(node)) {
                continue;
            }
            const component = new Set();
            function getAllConnected(n) {
                includedNodes.add(n);
                if (component.has(n)) {
                    return;
                }
                component.add(n);
                for (const neighbor of input.getNeighbors(n, "both")) {
                    if (!isConnected(input.getEdge(n, neighbor)))
                        continue;
                    getAllConnected(neighbor);
                }
                return;
            }
            getAllConnected(node);
            component.add(node);
            components.add(component);
        }
        (0, assert_1.assert)(includedNodes.size == input.numNodes());
        // Assert components are pairwise disjoint of problems show up
        return components;
    }
    /**
     * Returns a new graph with only the nodes which pass the provided
     * filter function. Edges connected to removed nodes are removed.
     *
     * @param graph
     * @param included
     */
    static dropNodes(graph, included) {
        const result = new Graph_1.Graph();
        graph.getNodes().forEach(n => {
            if (included(n))
                result.addNode(n);
        });
        graph.getEdges().forEach(e => {
            if (included(e.n) && included(e.n1))
                result.addEdge(e.n, e.n1, e.e);
        });
        return result;
    }
    /**
     * Gets every edge in the graph.
     * @param input
     * @returns
     */
    static getRelations(input) {
        const out = [];
        for (const node of input.getNodes()) {
            for (const other of input.getNeighbors(node, "out")) {
                out.push({ first: node, second: other, e: input.getEdge(node, other) });
            }
        }
        return out;
    }
    /**
     * Parses the graph into sets of
     * nodes grouped by depth from a center node.
     * Assumes the graph is connected.
     * @param rootNodes Contains at least one node in the graph.
     * @param count Function that determines if any given node should be
     * included in the depth count. Defaults to counting all nodes. Nodes that
     * aren't included won't be in the returned value.
     * @returns Map from depth in graph to a set of nodes at that depth.
     *
     */
    static getLevels(input, rootNodes, count = () => true) {
        const roots = new Set(rootNodes);
        const depths = new Map();
        /**
         * Recursively maps out all nodes in the graph,
         * puttin them in the depths map.
         * @param node
         */
        function mapNode(node, depth = 0) {
            var _a;
            if (roots.has(node)) {
                depth = 0;
            }
            if (depth < ((_a = depths.get(node)) !== null && _a !== void 0 ? _a : Number.MAX_VALUE)) {
                depths.set(node, depth);
            }
            const neighbors = [...input.getNeighbors(node, "both")];
            neighbors.filter(value => {
                // If we have found a shorter path to it or there was no found path to it
                return (depths.get(value) == undefined || depths.get(value) > depth) && value !== node;
            }).forEach(n => {
                mapNode(n, count(node) ? depth + 1 : depth);
            });
        }
        mapNode([...roots][0]);
        const out = new Map();
        depths.forEach((depth, node) => {
            if (!count(node))
                return;
            if (out.get(depth) == undefined) {
                out.set(depth, new Set());
            }
            out.get(depth).add(node);
        });
        return out;
    }
    /**
     * Determines if the given graph is connected, meaning that
     * it's possible to traverse between any two nodes on the graph.
     */
    static isConnected(input) {
        // Check every node has a degree of 1 or more or graph only has 1 or 0 elements
        return [...input.getNodes()].map(node => {
            return input.getDegree(node, "both") > 0;
        }).reduce((a, b) => a && b) || input.numNodes() < 2;
    }
    /**
     * Filters edges list returning a list where only one edge
     * from any edge loops is included.
     * For example if the input edges are a -> b and b -> a,
     * the result will only contain a -> b.
     * @param edges
     */
    static dropSymmetric(edges) {
        const out = [];
        function alreadyHas(edge) {
            for (const e of out)
                if (edge.n == e.n1 && edge.n1 == e.n)
                    return true;
            return false;
        }
        for (const edge of edges) {
            if (!alreadyHas(edge))
                out.push(edge);
        }
        return out;
    }
    /**
     * Creates a new graph with only the edges which passed the
     * filter function. The resulting graph may or may not be connected.
     * All the nodes of the original graph are kept.
     * @param edgeFilter Returns true if the given edge should be included in
     *      the resulting graph.
     * NOTE: NOT TESTED
     */
    static dropEdges(graph, edgeFilter) {
        const out = new Graph_1.Graph();
        for (const node of graph.getNodes()) {
            out.addNode(node);
        }
        for (const edge of graph.getEdges()) {
            if (edgeFilter(edge)) {
                if (edge instanceof Argument_1.Argument) {
                    out.addArgument(edge);
                }
                else {
                    throw new Error("Not implemented");
                }
            }
        }
        return out;
    }
}
exports.GraphMinipulator = GraphMinipulator;


/***/ }),

/***/ "./src/mathlib/MathGraphNode.ts":
/*!**************************************!*\
  !*** ./src/mathlib/MathGraphNode.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MathGraphNode = void 0;
class MathGraphNode {
    constructor() {
        this.id = MathGraphNode.nextId;
        MathGraphNode.nextId++;
    }
}
exports.MathGraphNode = MathGraphNode;
MathGraphNode.nextId = 1;


/***/ }),

/***/ "./src/mathlib/Relationship.ts":
/*!*************************************!*\
  !*** ./src/mathlib/Relationship.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Relationship = void 0;
/**
 * A way in which 2 expressions can be related.
 */
var Relationship;
(function (Relationship) {
    Relationship["Equal"] = "=";
})(Relationship || (exports.Relationship = Relationship = {}));


/***/ }),

/***/ "./src/mathlib/derivations/DerivationRules.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/derivations/DerivationRules.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.polynomialSimplificationRules = exports.factoringSimplificationRules = exports.convergentSimplificationRules = void 0;
const BreakDerivativesOverAddition_1 = __webpack_require__(/*! ./calculus/BreakDerivativesOverAddition */ "./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts");
const PowerRule_1 = __webpack_require__(/*! ./calculus/PowerRule */ "./src/mathlib/derivations/calculus/PowerRule.ts");
const ProductRule_1 = __webpack_require__(/*! ./calculus/ProductRule */ "./src/mathlib/derivations/calculus/ProductRule.ts");
const PullConstantsFromDerivatives_1 = __webpack_require__(/*! ./calculus/PullConstantsFromDerivatives */ "./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts");
const QuotientRule_1 = __webpack_require__(/*! ./calculus/QuotientRule */ "./src/mathlib/derivations/calculus/QuotientRule.ts");
const USubstitution_1 = __webpack_require__(/*! ./calculus/USubstitution */ "./src/mathlib/derivations/calculus/USubstitution.ts");
const AdditiveIdentity_1 = __webpack_require__(/*! ./simplifications/AdditiveIdentity */ "./src/mathlib/derivations/simplifications/AdditiveIdentity.ts");
const AnythingTimesZero_1 = __webpack_require__(/*! ./simplifications/AnythingTimesZero */ "./src/mathlib/derivations/simplifications/AnythingTimesZero.ts");
const AssociativePropertyOfProductsAndSums_1 = __webpack_require__(/*! ./simplifications/AssociativePropertyOfProductsAndSums */ "./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts");
const CancelNegatives_1 = __webpack_require__(/*! ./simplifications/CancelNegatives */ "./src/mathlib/derivations/simplifications/CancelNegatives.ts");
const CombineCommonFactorsMultiplication_1 = __webpack_require__(/*! ./simplifications/CombineCommonFactorsMultiplication */ "./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts");
const CombineCommonTermsAddition_1 = __webpack_require__(/*! ./simplifications/CombineCommonTermsAddition */ "./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts");
const CombineIntegerFactors_1 = __webpack_require__(/*! ./simplifications/CombineIntegerFactors */ "./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts");
const CombineProductsAndFractions_1 = __webpack_require__(/*! ./simplifications/CombineProductsAndFractions */ "./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts");
const DistributiveProperty_1 = __webpack_require__(/*! ./simplifications/DistributiveProperty */ "./src/mathlib/derivations/simplifications/DistributiveProperty.ts");
const DivideFractions_1 = __webpack_require__(/*! ./simplifications/DivideFractions */ "./src/mathlib/derivations/simplifications/DivideFractions.ts");
const DivisionIdentity_1 = __webpack_require__(/*! ./simplifications/DivisionIdentity */ "./src/mathlib/derivations/simplifications/DivisionIdentity.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const ExponentialIdentity_1 = __webpack_require__(/*! ./simplifications/ExponentialIdentity */ "./src/mathlib/derivations/simplifications/ExponentialIdentity.ts");
const ExponentToZero_1 = __webpack_require__(/*! ./simplifications/ExponentToZero */ "./src/mathlib/derivations/simplifications/ExponentToZero.ts");
const FOIL_1 = __webpack_require__(/*! ./simplifications/FOIL */ "./src/mathlib/derivations/simplifications/FOIL.ts");
const LogOfOne_1 = __webpack_require__(/*! ./simplifications/LogOfOne */ "./src/mathlib/derivations/simplifications/LogOfOne.ts");
const MultiplicativeIdentity_1 = __webpack_require__(/*! ./simplifications/MultiplicativeIdentity */ "./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts");
const MultiplyExponentPowers_1 = __webpack_require__(/*! ./simplifications/MultiplyExponentPowers */ "./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts");
const OrderProducts_1 = __webpack_require__(/*! ./simplifications/OrderProducts */ "./src/mathlib/derivations/simplifications/OrderProducts.ts");
const OrderSums_1 = __webpack_require__(/*! ./simplifications/OrderSums */ "./src/mathlib/derivations/simplifications/OrderSums.ts");
const RemoveCommonFactorsOnTopAndBottomOfFraction_1 = __webpack_require__(/*! ./simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction */ "./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts");
const SubtractExponentsOnFractions_1 = __webpack_require__(/*! ./simplifications/SubtractExponentsOnFractions */ "./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts");
const SumCoefficientsOfAddedTerms_1 = __webpack_require__(/*! ./simplifications/SumCoefficientsOfAddedTerms */ "./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts");
/**
 * 1 input, 1 output
 * Rewrite expressions to follow math conventions
 */
const conventionRules = [
    new OrderProducts_1.OrderProducts(),
    new OrderSums_1.OrderSums(),
];
/**
 * 1 input, 1 output
 */
const evaluativeRules = [
    new EvaluateSums_1.EvaluateSums(),
    new CancelNegatives_1.CancelNegatives(),
    new CombineIntegerFactors_1.CombineIntegerFactors(),
];
const combinatoricRules = [
    new SumCoefficientsOfAddedTerms_1.SumCoefficientsOfAddedTerms(),
    new CombineCommonFactorsMultiplication_1.CombineCommonFactorsMultiplication(),
    new MultiplyExponentPowers_1.MultiplyExponentPowers(),
    new SubtractExponentsOnFractions_1.SubtractExponentsOnFractions(),
    new CombineProductsAndFractions_1.CombineProductsAndFractions(),
];
const remainingNoContextSimplificationRules = [
    new USubstitution_1.USubstitution(),
    new PowerRule_1.PowerRule(),
    new PullConstantsFromDerivatives_1.PullConstantsFromDerivatives(),
    new AssociativePropertyOfProductsAndSums_1.AssociativePropertyOfProductsAndSums(),
    new ProductRule_1.ProductRule(),
    new QuotientRule_1.QuotientRule(),
    new DivideFractions_1.DivideFractions(),
    new RemoveCommonFactorsOnTopAndBottomOfFraction_1.RemoveCommonFactorsFromTopAndBottomOfFraction(),
    new BreakDerivativesOverAddition_1.BreakDerivativesOverAddition(),
];
/**
 * A list of simplification rules.
 * If and only if an earlier rule fails to
 * produce equivalent expressions should later lists
 * be used.
 * This list only contains rules which converge to one answer.
 */
exports.convergentSimplificationRules = [
    // Identity rules first
    new AnythingTimesZero_1.AnythingTimesZero(),
    new ExponentToZero_1.ExponentToZero(),
    new MultiplicativeIdentity_1.MultiplicativeIdentity(),
    new ExponentialIdentity_1.ExponentialIdentity(),
    new DivisionIdentity_1.DivisionIdentity(),
    new AdditiveIdentity_1.AdditiveIdentity(),
    new LogOfOne_1.LogOfOne(),
    ...evaluativeRules,
    ...combinatoricRules,
    ...conventionRules,
    ...remainingNoContextSimplificationRules,
];
/**
 * These rules converge to factored form.
 */
exports.factoringSimplificationRules = [
    new CombineCommonTermsAddition_1.CombineCommonTermsAddition(),
];
/**
 * These rules converge to polynomial form.
 */
exports.polynomialSimplificationRules = [
    new DistributiveProperty_1.DistributiveProperty(),
    new FOIL_1.FOIL(),
];


/***/ }),

/***/ "./src/mathlib/derivations/Deriver.ts":
/*!********************************************!*\
  !*** ./src/mathlib/derivations/Deriver.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Deriver = void 0;
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const DerivationRules_1 = __webpack_require__(/*! ./DerivationRules */ "./src/mathlib/derivations/DerivationRules.ts");
const recursion_1 = __webpack_require__(/*! ./recursion */ "./src/mathlib/derivations/recursion.ts");
/**
 * Holds a single graph and expands it using rules.
 */
class Deriver {
    /**
     * Give it the graph you're going to expand.
     * @param graph
     */
    constructor(graph) {
        // All the expressions which could not be simplified further by
        // convergent simplification rules.
        this.passedConvergentSimplification = new Set();
        // All expressions which have been processed by the simplification rules
        /// regardless of the result.
        this.processedByConvergentSimplification = new Set();
        // All expressions which are products and could not be further
        // simplified by factoring simplification rules. A subset of
        // passedConvergentSimplification.
        this.passedFactoringSimplification = new Set();
        // All expressions which are sums and could not be further
        // simplified by polynomial simplification rules. A subset of
        // passedConvergentSimplification.
        this.passedPolynomialSimplification = new Set();
        this.graph = graph;
    }
    /**
     * Expands the graph arbitrarily.
     * This function is still poorly defined,
     * very experemental.
     * @param maxDepth The maximum number of iterations the
     *      deriver will do before returning. Non-negative.
     *      If null, there is no max depth.
     * @param skipConvergentSimplifications If true, convergent simplification operations
     *          aren't counted when calculating depth.
     * @param abort A signal used to prematurely abort the operation.
     */
    expand(maxDepth, skipConvergentSimplifications = false) {
        // Simplify all the expressions using the contextless simplifying rules
        // Do this until there's nothing more to simplify
        for (let i = 0; i < maxDepth; i++) {
            if (skipConvergentSimplifications) {
                while (this.simplifyNoContextConvergent()) {
                }
                if (!this.simplifyNoContextDivergent())
                    return;
            }
            else {
                if (!this.simplifyNoContextConvergent()) {
                    if (!this.simplifyNoContextDivergent())
                        return;
                }
            }
        }
        //this.algebraicExpansion()
    }
    /**
     * Gets a list of expressions which couldn't be simplified further.
     */
    get simplifiedExpressions() {
        return [...this.passedFactoringSimplification, ...this.passedPolynomialSimplification];
    }
    /**
     * Applies convergent simplification rules to expand the graph.
     * @returns True if there is more to simplify and this should
     *          be called again. Will be called a finite number of times.
     */
    simplifyNoContextConvergent() {
        const unsimplified = [...this.graph.getNodes()].filter(n => n instanceof Expression_1.Expression)
            .map(n => n)
            .filter(e => !this.processedByConvergentSimplification.has(e));
        let shouldDoAgain = false;
        unsimplified.forEach(e => {
            this.processedByConvergentSimplification.add(e);
            // Try to find equivalents using general convergent rules.
            for (const rule of DerivationRules_1.convergentSimplificationRules) {
                const derivedSimplification = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]))[0];
                if (derivedSimplification != undefined) {
                    this.addToGraph([derivedSimplification]);
                    shouldDoAgain = true;
                    return; // To next expression
                }
            }
            this.passedConvergentSimplification.add(e);
        });
        return shouldDoAgain;
    }
    /**
     * Applies divergent simplification rules to expand the graph.
     * @returns True if the function expanded the graph.
     */
    simplifyNoContextDivergent() {
        // Only operate on expressions which have passed convergent simplification
        const candidates = [...this.passedConvergentSimplification];
        // True if more expressions were added to the graph
        let shouldDoAgain = false;
        candidates.forEach(e => {
            // Try to find equivalents using divergent rules.
            for (const rule of DerivationRules_1.factoringSimplificationRules) {
                const derivedSimplifications = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                shouldDoAgain || (shouldDoAgain = this.addToGraph(derivedSimplifications));
                if (derivedSimplifications.length == 0) {
                    if (e instanceof Product_1.Product)
                        this.passedFactoringSimplification.add(e);
                }
            }
            for (const rule of DerivationRules_1.polynomialSimplificationRules) {
                const derivedSimplifications = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                shouldDoAgain || (shouldDoAgain = this.addToGraph(derivedSimplifications));
                if (derivedSimplifications.length > 0) {
                    if (e instanceof Sum_1.Sum)
                        this.passedPolynomialSimplification.add(e);
                }
            }
        });
        return shouldDoAgain;
    }
    /**
     * For each given argument, adds to the graph if at least
     * one of its claim's endpoints isn't already in the graph.
     * If both end points of all arguments are already in the graph,
     * returns false.
     * @param args
     * @effects this.graph
     */
    addToGraph(args) {
        let atLeastOne = false;
        args.forEach(a => {
            if (!this.graph.contains(a.claim.n)
                || !this.graph.contains(a.claim.n1)) {
                this.graph.addArgument(a);
                atLeastOne = true;
            }
        });
        return atLeastOne;
    }
    /**
     * Expands the graph using algebra rules.
     * Only simplified rules are used.
     */
    algebraicExpansion() {
        // const rules = [...RelationalDerivationRule.rules]
        // const components = [...GraphMinipulator.getComponentNodes(this.graph, edge => {
        //     return (edge instanceof Argument && edge.relationship == Relationship.Equal)
        //         || (edge instanceof GivenEdge && edge.r == Relationship.Equal)
        // })]
        // components.forEach(component => {
        //     const equation: Expression[] = []
        //     for (const node of component) {
        //         if (node instanceof Expression && this.simplified.has(node))
        //             equation.push(node)
        //     }
        //     rules.forEach(r => {
        //         r.apply(setOf(...equation)).forEach(a => {
        //             this.graph.addArgument(a)
        //         })
        //     })
        // })
    }
    /**
     *
     * @returns true if the given expression is in the graph
     * and has already had the contextless simplification operations
     * done to it and cannot be further simplified.
     */
    isSimplified(exp) {
        if (!this.passedConvergentSimplification.has(exp))
            return false;
        if (exp instanceof Product_1.Product)
            return this.passedFactoringSimplification.has(exp);
        if (exp instanceof Sum_1.Sum)
            return this.passedPolynomialSimplification.has(exp);
        return true;
    }
}
exports.Deriver = Deriver;
/**
 * Function that makes a function that gets the equivalent
 * expressions for a given one.
 * @param rules What rules the resulting function should use to
 *      find equivalents.
 * @returns A function which will use the given rules to
 *      find direct equivalents.
 */
function equivalentsFnUsing(rules) {
    return function (exp) {
        const out = new Set();
        rules.filter(r => r.applies(exp)).forEach(rule => {
            rule.apply(exp).forEach(i => {
                out.add(i);
            });
        });
        return out;
    };
}


/***/ }),

/***/ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConvergenceTarget = exports.NoContextExpressionSimplificationRule = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * A rule that takes an expression and produces one or more equivalent expressions.
 * These can use reflection to determine what
 * type of expression they're given. These rules will be recursively used
 * to derive simplified expressions.
 *
 * These rules are also contextless: they're only given the expression,
 * no other information about the problem.
 *
 * All of these rules need to converge to a simplified answer. They can't
 * form loops. Thinking about this, there are two simplified forms to
 * converge to:
 *  - Factored form c(a+b)
 *  - Polynomial form ac + bc
 */
class NoContextExpressionSimplificationRule {
    /**
     * Checks if this rule can find equivalents for the
     * given expression. Only call apply() if true.
     */
    applies(exp) {
        return this.appliesImpl(exp);
    }
    /**
     * Produces a set of expressions that are equivalent to
     * the given one. Only call if the given expression
     * passed the applies() test.
     * @param exp The expression to find an equivalent for.
     * @returns Set of equivalent expressions, not including the given one.
     */
    apply(exp) {
        //console.log(this.constructor.name + " on " + exp.toString())
        const result = this.applyImpl(exp);
        result.forEach(e => {
            (0, assert_1.assert)(e != null && e != undefined);
            (0, assert_1.assert)(e.claim.n1 !== exp, "Rule " + this.constructor.name + " produced result equivalent to ground");
            // TODO: This fuzzy test is inconlusive and can fail when two expressions are equal.
            // Don't leave it in production.
            // assert(fuzzyEquivalenceTest(exp, e.claim.n1), "Failed fuzzy equivalence test " 
            //             + exp.toUnambigiousString() + "/=" + e.claim.n1.toUnambigiousString()
            //             + " during argument " + e.argument)
        });
        return result;
    }
    /**
     * Returns the type of expression this rule's
     * results approach.
     */
    get convergenceType() {
        return ConvergenceTarget.None;
    }
}
exports.NoContextExpressionSimplificationRule = NoContextExpressionSimplificationRule;
/**
 * Plugs in some values to see if they're equivalent.
 * @param e1
 * @param e2
 */
function fuzzyEquivalenceTest(e1, e2) {
    const LIMIT = 0.001;
    for (const value of values) {
        if (Math.abs(e1.evaluate(value) - e2.evaluate(value)) > LIMIT)
            return false;
    }
    return true;
}
var ConvergenceTarget;
(function (ConvergenceTarget) {
    ConvergenceTarget[ConvergenceTarget["Factored"] = 0] = "Factored";
    ConvergenceTarget[ConvergenceTarget["Polynomial"] = 1] = "Polynomial";
    ConvergenceTarget[ConvergenceTarget["None"] = 2] = "None";
})(ConvergenceTarget || (exports.ConvergenceTarget = ConvergenceTarget = {}));
const values = (0, ThingsThatShouldBeInTheStdLib_1.setOf)(buildVariableValueMap(-2.1), buildVariableValueMap(-1.1), buildVariableValueMap(0.1), buildVariableValueMap(1.1), buildVariableValueMap(2.1), {
    valueOf(v) {
        var _a;
        return (_a = v.symbol.codePointAt(0)) !== null && _a !== void 0 ? _a : 0;
    }
}, {
    valueOf(v) {
        return v.symbol.charCodeAt(0);
    }
});
function buildVariableValueMap(val) {
    return {
        valueOf(v) {
            return val;
        }
    };
}


/***/ }),

/***/ "./src/mathlib/derivations/RelationalDerivationRule.ts":
/*!*************************************************************!*\
  !*** ./src/mathlib/derivations/RelationalDerivationRule.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RelationalDerivationRule = void 0;
/**
 * Produces truths from a set of equivalent expressions.
 */
class RelationalDerivationRule {
    /**
     *
     * @param equation A set of expressions which are equal.
     */
    apply(equation) {
        return this.applyImpl(equation);
    }
}
exports.RelationalDerivationRule = RelationalDerivationRule;
RelationalDerivationRule.rules = new Set();


/***/ }),

/***/ "./src/mathlib/derivations/algebra/DivideOnBothSides.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/algebra/DivideOnBothSides.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivideOnBothSides = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ../RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
class DivideOnBothSides extends RelationalDerivationRule_1.RelationalDerivationRule {
    applyImpl(equation) {
        const out = [];
        const combinations = cartesianProduct(equation);
        combinations.filter(pair => {
            return pair[0] instanceof Product_1.Product;
        }).forEach(pair => {
            const p = pair[0];
            const other = pair[1];
            // Some products have multiple factors
            p.factors.forEach(factor => {
                let second;
                if (other instanceof Product_1.Product) {
                    second = [...other.factors];
                }
                else {
                    second = [other];
                }
                const claim = { n: p.without(factor), n1: (0, ConvenientExpressions_1.fraction)((0, ConvenientExpressions_1.productOrNot)(...second), factor), r: Relationship_1.Relationship.Equal };
                out.push(new Argument_1.Argument(new Set([p, other]), claim, "a=b & c=d => a/c = b/d", exports.RULE_ID));
            });
        });
        return out;
    }
}
exports.DivideOnBothSides = DivideOnBothSides;
/**
 * Gets the anti-reflexive closure of the relation A x A.
 * It's symmetric and transitive.
 *
 * @param set
 */
function cartesianProduct(set) {
    const out = [];
    for (const first of set) {
        for (const second of set) {
            if (first === second)
                continue;
            out.push([first, second]);
        }
    }
    return out;
}
exports.RULE_ID = "Div on both sides";


/***/ }),

/***/ "./src/mathlib/derivations/algebra/SubtractFromBothSides.ts":
/*!******************************************************************!*\
  !*** ./src/mathlib/derivations/algebra/SubtractFromBothSides.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SubtractFromBothSides = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ../RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
class SubtractFromBothSides extends RelationalDerivationRule_1.RelationalDerivationRule {
    applyImpl(equation) {
        const out = [];
        const combinations = cartesianProduct(equation);
        // If one is addition, subtract from both sides
        // Here we filter so that only pairs where the first expression is
        // a sum are operated on. This works because combinations is symetric.
        // Now for each pair we only have to deal with the first exp being sum.
        combinations.filter(pair => {
            return pair[0] instanceof Sum_1.Sum;
        }).forEach(pair => {
            const s = pair[0];
            const other = pair[1];
            // Some Sums have multiple terms
            s.terms.filter(term => !(term instanceof Product_1.Product && term.isNegation))
                .forEach(term => {
                // If other is itself a sum, we will break it apart
                // into terms so that we can combine integer terms in the
                // final result and avoid
                // x + 2 + 2 = y + 2 => x + 2 = y + 2 - 2
                // Note: We only do this to integer terms, because that's
                // so obvious and couldn't possibly need to be explained further.
                // We don't do it to variable terms. The following is correct behavior:
                // x + a + a = y + a => x + a = y + a - a
                // TODO: This distinction is debatable. Why shouldn't the left hand
                // of the last deduction be x + a + a - a? By doing this, 
                // we produce a much more complicated and expensive graph. 
                let second;
                if (other instanceof Sum_1.Sum) {
                    second = [...other.terms];
                }
                else {
                    second = [other];
                }
                const claim = { n: s.without(term), n1: (0, ConvenientExpressions_1.sumIntuitive)(...second, (0, ConvenientExpressions_1.negative)(term)), r: Relationship_1.Relationship.Equal };
                out.push(new Argument_1.Argument(new Set([s, other]), claim, "a=b & c=d => a-c = b-d", exports.RULE_ID));
            });
        });
        return out;
    }
}
exports.SubtractFromBothSides = SubtractFromBothSides;
/**
 * Gets the anti-reflexive closure of the relation A x A.
 * It's symmetric and transitive.
 *
 * @param set
 */
function cartesianProduct(set) {
    const out = [];
    for (const first of set) {
        for (const second of set) {
            if (first === second)
                continue;
            out.push([first, second]);
        }
    }
    return out;
}
exports.RULE_ID = "Sub from both sides";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.BreakDerivativesOverAddition = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class BreakDerivativesOverAddition extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const d = exp;
        const sum = d.exp;
        const terms = [...sum.terms];
        const wrapped = terms.map(t => Derivative_1.Derivative.of(t, d.relativeTo));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
            n: d,
            r: Relationship_1.Relationship.Equal,
            n1: Sum_1.Sum.of(wrapped),
        }, "Split derivative over addition", exports.RULE_ID));
    }
}
exports.BreakDerivativesOverAddition = BreakDerivativesOverAddition;
exports.RULE_ID = "Break Derivatives over Addition";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PowerRule.ts":
/*!*******************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PowerRule.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PowerRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Derives using the power rule
 */
class PowerRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && ((exp.exp instanceof Exponent_1.Exponent
                && exp.exp.base === exp.relativeTo
                && exp.exp.power.isConstant)
                || (exp.exp === exp.relativeTo));
    }
    /**
     * We know:
     * exp is a Derivative of an Exponent with a constant power
     * the exponent's base is the same as what the derivative is relative to
     */
    applyImpl(exp) {
        const d = exp;
        let exponent;
        if (d.exp instanceof Exponent_1.Exponent) {
            exponent = d.exp;
        }
        else {
            exponent = Exponent_1.Exponent.of(d.exp, (0, ConvenientExpressions_1.num)(1));
        }
        const result = (0, ConvenientExpressions_1.product)(exponent.power, Exponent_1.Exponent.of(exponent.base, (0, ConvenientExpressions_1.sumIntuitive)(exponent.power, (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.num)(1)))));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Power rule", exports.RULE_ID));
    }
}
exports.PowerRule = PowerRule;
exports.RULE_ID = "Power Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/ProductRule.ts":
/*!*********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/ProductRule.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ProductRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Derivatives of products
 *
 * Only operates on derivatives of products where all factors are not constant.
 */
class ProductRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Product_1.Product
            // Contains no constant factors
            && !exp.exp.factors.map(f => f.isConstant).reduce((a, b) => a || b);
        // Contains no derivatives TODO: Find a better solution to loop guarding
        //&& !exp.exp.factors.map<boolean>(f => f instanceof Derivative).reduce((a, b) => a || b)
    }
    applyImpl(exp) {
        const d = exp;
        const p = d.exp;
        const factors = p.factors;
        // For each factor, create a product containing its derivative and the other factors
        const terms = [];
        for (let i = 0; i < factors.length; i++) { // i is the factor to derivatize (what term we're on)
            const factorToDerivatize = factors[i];
            const pFactors = [];
            for (const factor of factors) { // a is the the factor we're on
                if (factor === factorToDerivatize)
                    pFactors.push(Derivative_1.Derivative.of(factor, d.relativeTo));
                else
                    pFactors.push(factor);
            }
            terms.push((0, ConvenientExpressions_1.product)(...pFactors));
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
            n: d,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sum)(...terms)
        }, "Product Rule", exports.RULE_ID));
    }
}
exports.ProductRule = ProductRule;
exports.RULE_ID = "Product Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PullConstantsFromDerivatives = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class PullConstantsFromDerivatives extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const d = exp;
        const p = d.exp;
        const constFactors = p.factors.filter(f => f.isConstant);
        const out = new Set;
        for (const factor of constFactors) {
            out.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
                n: d,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.productAndNotTimesOne)(factor, Derivative_1.Derivative.of((0, ConvenientExpressions_1.productOrNot)(...(0, ConvenientExpressions_1.removeNew)(p.factors, factor)), d.relativeTo))
            }, "Pull constant factor from derivative", exports.RULE_ID));
        }
        return out;
    }
}
exports.PullConstantsFromDerivatives = PullConstantsFromDerivatives;
exports.RULE_ID = "Pull Constants from Derivs";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/QuotientRule.ts":
/*!**********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/QuotientRule.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.QuotientRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class QuotientRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative
            && exp.exp instanceof Fraction_1.Fraction;
    }
    applyImpl(exp) {
        const d = exp;
        const a = d.exp.numerator;
        const b = d.exp.denominator;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(Derivative_1.Derivative.of(a, d.relativeTo), b), (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(a, Derivative_1.Derivative.of(b, d.relativeTo)))), Exponent_1.Exponent.of(b, (0, ConvenientExpressions_1.num)(2)))
        }, "Quotient Rule", exports.RULE_ID));
    }
}
exports.QuotientRule = QuotientRule;
exports.RULE_ID = "Quotient Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/USubstitution.ts":
/*!***********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/USubstitution.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.USubstitution = void 0;
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class USubstitution extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return false; //exp instanceof Integral
    }
    applyImpl(exp) {
        throw new Error("Not implemented");
    }
}
exports.USubstitution = USubstitution;
exports.RULE_ID = "USubstitution";


/***/ }),

/***/ "./src/mathlib/derivations/recursion.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/derivations/recursion.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.equiv = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Integral_1 = __webpack_require__(/*! ../expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Logarithm_1 = __webpack_require__(/*! ../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ../expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Relationship_1 = __webpack_require__(/*! ../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * Searches for equivalents of the given
 * expression with a search depth of 1.
 * It does this by reflecting the expression's
 * type, then disbatching to a type specific equivalents
 * function.
 *
 * The specific functions use the given directEquivalents
 * function to swap out the component values of their
 * expression with equivalents.
 *
 * Ex)
 *  Given the expression
 *         (a + a) + (b * b)
 *  we disbatch to the sum specific function (because
 *  the outer most operation is addition). This disbatch
 *  function uses the directEquivalents function to swap out
 *  each of the sum's terms individually, yielding results
 *  like:
 *      -> (2a) + (b * b) with inference a + a = 2a
 *      -> (a + a) + b^2
 *
 * @param exp The expression to search for equivalents.
 * @param directEquivalents Function that takes expressions and finds equivalents.
 *              This function only needs to look for top level equivalents- recursion
 *              is handled by the equiv function.
 * @returns Array of arguments connecting the given expression to equivalents.
 */
function equiv(exp, directEquivalents) {
    if (exp instanceof Variable_1.Variable || exp instanceof Integer_1.Integer)
        return [];
    else
        switch (exp.class) {
            case Sum_1.SumType: return sumEquiv(exp, directEquivalents);
            case Product_1.ProductType: return productEquiv(exp, directEquivalents);
            case Exponent_1.ExponentType: return exponentEquiv(exp, directEquivalents);
            case Fraction_1.FractionType: return fractionEquiv(exp, directEquivalents);
            case Derivative_1.DerivativeType: return derivativeEquiv(exp, directEquivalents);
            case Logarithm_1.LogType: return logarithmEquiv(exp, directEquivalents);
            case Integral_1.IntegralType: return integralEquiv(exp, directEquivalents);
            default: throw new Error("Not implemented for " + exp.class);
        }
}
exports.equiv = equiv;
/**
 * Gets all equivalents of the given expression
 * by swapping out it's children individually.
 *
 * (a + a) + (b + b)
 * -> (2a) + (b + b) with inference a + a = 2a
 * @param exp
 * @returns Array of inferences to equivalent expressions.
 */
function sumEquiv(exp, directEquivalents) {
    const equivalentSums = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalentSums.add(inf);
    });
    // Find equivalents for each term
    for (let i = 0; i < exp.terms.length; i++) {
        const term = exp.terms[i];
        // Substitute term for each equivalent
        equiv(term, directEquivalents).forEach(a => {
            equivalentSums.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: swap(exp, i, a.claim.n1)
            }, a.argument, a.ruleId));
        });
    }
    function swap(s, i, e) {
        const terms = [...s.terms];
        terms[i] = e;
        return (0, ConvenientExpressions_1.sum)(...terms);
    }
    return [...equivalentSums];
}
function productEquiv(exp, directEquivalents) {
    const equivalentProducts = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalentProducts.add(inf);
    });
    // Find equivalents for each term
    for (let i = 0; i < exp.factors.length; i++) {
        const factor = exp.factors[i];
        // Substitute term for each equivalent
        equiv(factor, directEquivalents).forEach(alt => {
            equivalentProducts.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: swap(exp, i, alt.claim.n1),
            }, alt.argument, alt.ruleId));
        });
    }
    function swap(s, i, e) {
        const terms = [...s.factors];
        terms[i] = e;
        return (0, ConvenientExpressions_1.product)(...terms);
    }
    return [...equivalentProducts];
}
function exponentEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.base, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(alt.claim.n1, exp.power)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.power, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(exp.base, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function fractionEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.numerator, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(alt.claim.n1, exp.denominator)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.denominator, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(exp.numerator, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function derivativeEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.exp, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Derivative_1.Derivative.of(alt.claim.n1, exp.relativeTo)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.relativeTo, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Derivative_1.Derivative.of(exp.exp, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function logarithmEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(arg => {
        equivalents.add(arg);
    });
    equiv(exp.exp, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Logarithm_1.Logarithm.of(alt.claim.n1, exp.base)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.base, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Logarithm_1.Logarithm.of(exp.exp, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function integralEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(arg => {
        equivalents.add(arg);
    });
    equiv(exp.integrand, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integral_1.Integral.of(alt.claim.n1, exp.relativeTo)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.relativeTo, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integral_1.Integral.of(exp.integrand, alt.claim.n1),
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AdditiveIdentity.ts":
/*!*********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AdditiveIdentity.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AdditiveIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything plus 0 is anything
 */
class AdditiveIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const termsWithoutZero = exp.terms.filter(t => !(t instanceof Integer_1.Integer && t.value == 0));
        if (termsWithoutZero.length == exp.terms.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sumOrNot)(...termsWithoutZero)
        }, "Additive identity", exports.RULE_ID));
    }
}
exports.AdditiveIdentity = AdditiveIdentity;
exports.RULE_ID = "Additive Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AnythingTimesZero.ts":
/*!**********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AnythingTimesZero.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AnythingTimesZero = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class AnythingTimesZero extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        let isZero = false;
        for (const factor of product.factors)
            if (factor instanceof Integer_1.Integer && factor.value === 0) {
                isZero = true;
                break;
            }
        if (!isZero)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integer_1.Integer.of(0)
        }, "Anything times zero is zero", exports.RULE_ID));
    }
}
exports.AnythingTimesZero = AnythingTimesZero;
exports.RULE_ID = "AnythingTimesZero";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts":
/*!*****************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AssociativePropertyOfProductsAndSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Flattens products in products and sums in sums.
 *
 * Only returns one simplification of an input.
 */
class AssociativePropertyOfProductsAndSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum || exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        if (exp instanceof Sum_1.Sum) {
            const newTerms = exp.terms.map(t => {
                if (t instanceof Sum_1.Sum) {
                    return [...t.terms];
                }
                return [t];
            }).flat();
            if (newTerms.length == exp.terms.length)
                return new Set();
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.sum)(...newTerms)
            }, "Associative property of addition", exports.RULE_ID));
        }
        else {
            const newFactors = exp.factors.map(t => {
                if (t instanceof Product_1.Product) {
                    return [...t.factors];
                }
                return [t];
            }).flat();
            if (newFactors.length == exp.factors.length)
                return new Set();
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.product)(...newFactors)
            }, "Associative property of multiplication", exports.RULE_ID));
        }
    }
}
exports.AssociativePropertyOfProductsAndSums = AssociativePropertyOfProductsAndSums;
exports.RULE_ID = "Associative Property";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CancelNegatives.ts":
/*!********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CancelNegatives.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CancelNegatives = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const ConvenientExpressions_2 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
/**
 * Makes sure a product doesn't contain any negations.
 * The product is either a negation or not.
 */
class CancelNegatives extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const negatedFactors = [];
        const others = [];
        for (const f of product.factors) {
            if (f instanceof Product_1.Product && f.isNegation) {
                negatedFactors.push(f.negation);
            }
            else {
                others.push(f);
            }
        }
        const isNegation = product.isNegation;
        const negations = negatedFactors.length + (isNegation ? 1 : 0);
        if (negations < 2)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        const resultIsNegative = negations % 2 == 1;
        const result = (0, ConvenientExpressions_2.product)(...negatedFactors, ...others);
        const negatedResult = resultIsNegative ? (0, ConvenientExpressions_1.negative)(result) : result;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: negatedResult
        }, "Cancel negatives", exports.RULE_ID));
    }
}
exports.CancelNegatives = CancelNegatives;
exports.RULE_ID = "Cancel Negatives";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts":
/*!***************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineCommonFactorsMultiplication = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Combines like factors and exponents with like bases.
 */
class CombineCommonFactorsMultiplication extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product
            && !exp.isReducible;
    }
    applyImpl(exp) {
        const product = exp;
        // Find all the bases/factors in the product
        const bases = new Set();
        for (const factor of product.factors) {
            if (factor instanceof Exponent_1.Exponent)
                bases.add(factor.base);
            else
                bases.add(factor);
        }
        const equivalentExpressions = new Set();
        // For every unique factor
        for (const base of bases) {
            let powerTerms = [];
            const remainingFactors = [];
            // Count the number of times it occurs in the product
            // Collect the other factors in a list
            for (const f of product.factors) {
                if (f instanceof Exponent_1.Exponent && f.base === base) {
                    powerTerms.push(f.power);
                }
                else if (f === base) {
                    powerTerms.push((0, ConvenientExpressions_1.num)(1));
                }
                else {
                    remainingFactors.push(f);
                }
            }
            // Order the power terms correctly
            powerTerms = (0, Sum_1.orderTerms)(...powerTerms);
            // If the base only occured once, nothing to simplify
            if (powerTerms.length == 1)
                continue;
            // Create a new exponent that combines the terms
            const exponent = Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sum)(...powerTerms));
            // If there are no other factors, we're done
            if (remainingFactors.length == 0) {
                equivalentExpressions.add(exponent);
                continue;
            }
            // Insert the new exponent at the correct place in the new product
            function insertCorrectly(arr, el) {
                // Pick index
                let index = 0;
                for (let i = 0; i < arr.length; i++) {
                    if ((0, Product_1.factorOrder)(el, arr[i]) > 0) {
                        index = i + 1;
                        break;
                    }
                }
                arr.splice(index, 0, el);
            }
            insertCorrectly(remainingFactors, exponent);
            equivalentExpressions.add(Product_1.Product.of(remainingFactors));
        }
        // Make arguments for each equivalent expression
        const args = new Set();
        equivalentExpressions.forEach(e => {
            args.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(product), {
                n: product,
                r: Relationship_1.Relationship.Equal,
                n1: e,
            }, "Combine common factors multiplication", exports.RULE_ID));
        });
        return args;
    }
}
exports.CombineCommonFactorsMultiplication = CombineCommonFactorsMultiplication;
exports.RULE_ID = "CCFactors Mult";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts":
/*!*******************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineCommonTermsAddition = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * a + a = 2a
 * 2a - a = a  (this means we have to check for negations)
 *
 * (bc)a + 7a = (7 + bc)a
 *
 * But not
 * 1 + 1 = 2(1)
 */
class CombineCommonTermsAddition extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum
            && !exp.isReducible;
    }
    applyImpl(exp) {
        const sum = exp;
        const args = new Set();
        const uniqueFactors = new Set();
        // Find all unique factors in all terms
        // Assume products have been flattened already (associative property)
        for (const term of sum.terms) {
            if (term instanceof Product_1.Product) {
                (0, ThingsThatShouldBeInTheStdLib_1.addAll)(uniqueFactors, ...term.factors);
                //TODO: Capture all combinations of factors
                //TODO: Capture integer factors
            }
            else
                uniqueFactors.add(term);
        }
        // Create an argument for pulling out each factor
        for (const factor of uniqueFactors) {
            if (factor.isReducibleOrInt)
                continue;
            // Figure out which terms contain it
            const relaventTerms = [];
            const otherTerms = [];
            for (const term of sum.terms) {
                if (term instanceof Product_1.Product) {
                    if ((0, ThingsThatShouldBeInTheStdLib_1.has)(term.factors, factor))
                        relaventTerms.push(term);
                    else
                        otherTerms.push(term);
                }
                else {
                    if (term === factor)
                        relaventTerms.push(Product_1.Product.of([(0, ConvenientExpressions_1.num)(1), term]));
                    else
                        otherTerms.push(term);
                }
            }
            if (relaventTerms.length < 2)
                continue;
            // Pull it out of those terms
            const coefficients = [];
            for (const term of relaventTerms) {
                coefficients.push(term.without(factor));
            }
            const pulled = (0, ConvenientExpressions_1.sumOrNot)((0, ConvenientExpressions_1.orderedProduct)(Sum_1.Sum.of(coefficients), factor), ...otherTerms);
            args.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: pulled
            }, "Combine like terms", exports.RULE_ID));
        }
        return args;
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Factored;
    }
}
exports.CombineCommonTermsAddition = CombineCommonTermsAddition;
exports.RULE_ID = "CCTerms Add";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineIntegerFactors = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Products with several integer terms are simplified to only include 1
 */
class CombineIntegerFactors extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product
            && !exp.isNegation;
    }
    applyImpl(exp) {
        const p = exp;
        const remainingFactors = [];
        let coefficient = 1;
        for (const f of p.factors) {
            if (f instanceof Integer_1.Integer) {
                coefficient *= f.value;
            }
            else
                remainingFactors.push(f);
        }
        if (p.factors.length - remainingFactors.length < 2)
            return new Set();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.productOrNot)((0, ConvenientExpressions_1.num)(coefficient), ...remainingFactors)
        }, "Multiply integer terms", exports.RULE_ID));
    }
}
exports.CombineIntegerFactors = CombineIntegerFactors;
exports.RULE_ID = "CombIntFacts";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts":
/*!********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineProductsAndFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const assert_1 = __webpack_require__(/*! ../../util/assert */ "./src/mathlib/util/assert.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Simplifies products containing fractions by moving the
 * parts of the product into the numerator of the first fraction.
 */
class CombineProductsAndFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        // All products have at least 2 factors
        const firstFraction = product.factors.filter(f => f instanceof Fraction_1.Fraction)[0];
        if (firstFraction === undefined)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // At least one of those is a fraction
        const nonFractionFactors = product.factors.filter(f => !(f instanceof Fraction_1.Fraction));
        if (nonFractionFactors.length == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // At least one of those is not a fraction
        let result;
        // Fraction and non-fraction factors partition the set of factors
        if (product.factors.length - nonFractionFactors.length == 1) {
            // There is exactly one fraction factor
            // All the factors will be combined into one factor
            result = Fraction_1.Fraction.of((0, ConvenientExpressions_1.product)(firstFraction.numerator, ...nonFractionFactors), firstFraction.denominator);
        }
        else {
            // There are multiple fractions
            const remainingFractionFactors = product.factors.filter(f => f instanceof Fraction_1.Fraction);
            (0, ConvenientExpressions_1.remove)(remainingFractionFactors, firstFraction);
            (0, assert_1.assert)(remainingFractionFactors.length > 0);
            result = (0, ConvenientExpressions_1.product)(Fraction_1.Fraction.of((0, ConvenientExpressions_1.productAndNotTimesOne)(firstFraction.numerator, ...nonFractionFactors), firstFraction.denominator), ...remainingFractionFactors);
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Combine products into fraction", exports.RULE_ID));
    }
}
exports.CombineProductsAndFractions = CombineProductsAndFractions;
exports.RULE_ID = "Prod=>Frac";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DistributiveProperty.ts":
/*!*************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DistributiveProperty.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DistributiveProperty = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Distributes multiplication over addition.
 *
 * a(b+c) = ab + ac
 */
class DistributiveProperty extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const nonSums = product.factors.filter(f => !(f instanceof Sum_1.Sum));
        if (nonSums.length == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // There is at least one non-sum factor
        const firstSum = product.factors.filter(f => f instanceof Sum_1.Sum)[0];
        if (firstSum == undefined)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // There is at least one sum
        const remainingSums = product.factors.filter(f => f instanceof Sum_1.Sum);
        (0, ConvenientExpressions_1.remove)(remainingSums, firstSum);
        const toDistribute = (0, ConvenientExpressions_1.productOrNot)(...nonSums);
        const distributed = (0, ConvenientExpressions_1.sum)(...firstSum.terms.map(t => (0, ConvenientExpressions_1.product)(toDistribute, t)));
        const result = (0, ConvenientExpressions_1.productOrNot)(distributed, ...remainingSums);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, `Distribute ${(0, ConvenientExpressions_1.productOrNot)(...nonSums).toUnambigiousString()}`, exports.RULE_ID));
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Polynomial;
    }
}
exports.DistributiveProperty = DistributiveProperty;
exports.RULE_ID = "Distributive Property";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DivideFractions.ts":
/*!********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DivideFractions.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivideFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class DivideFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction
            && exp.numerator instanceof Product_1.Product
            && exp.denominator instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const frac = exp;
        const num = frac.numerator;
        const den = frac.denominator;
        // Take the factors of the negation of any negations
        const numFactors = num.isNegation ?
            num.negation instanceof Product_1.Product ?
                num.negation.factors // Get factors if the negation is a product
                : [num.negation] // If negation isn't a product, return the negation as a list of 1
            : num.factors; // If not a negation, return the factors
        const denFactors = !den.isNegation ? den.factors
            : den.negation instanceof Product_1.Product ?
                den.negation.factors
                : [den.negation];
        // If there are any repeats, give up
        if (new Set(numFactors).size < numFactors.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        if (new Set(denFactors).size < denFactors.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Treat every factor as an exponent
        const numExponents = numFactors.map(f => {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        });
        const denExponents = denFactors.map(f => {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        });
        // For each den exponent base, create an overall sum of the powers
        const numExponentPowers = new Map();
        numExponents.forEach(exponent => {
            if (!numExponentPowers.has(exponent.base))
                numExponentPowers.set(exponent.base, []);
            numExponentPowers.get(exponent.base).push(exponent.power);
        });
        const denExponentPowers = new Map();
        denExponents.forEach(exponent => {
            if (!denExponentPowers.has(exponent.base))
                denExponentPowers.set(exponent.base, []);
            denExponentPowers.get(exponent.base).push(exponent.power);
        });
        // Any base which is in the numerator and denominator
        // will only be in the numerator
        const newNumExponentPowers = new Map(numExponentPowers);
        const newDenExponentPowers = new Map(denExponentPowers);
        denExponentPowers.forEach((powers, base) => {
            if (numExponentPowers.has(base)) {
                newNumExponentPowers.get(base).push((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.sumOrNot)(...powers)));
                newDenExponentPowers.delete(base);
            }
        });
        // Get the new factors for the numerator and denominator
        const newNumExponents = [];
        newNumExponentPowers.forEach((powers, base) => {
            newNumExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sumOrNot)(...powers)));
        });
        const newDenExponents = [];
        newDenExponentPowers.forEach((powers, base) => {
            newDenExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sumOrNot)(...powers)));
        });
        const top = (0, ConvenientExpressions_1.productOrNot)(...newNumExponents);
        const bottom = newDenExponents.length != 0 ? (0, ConvenientExpressions_1.productOrNot)(...newDenExponents) : (0, ConvenientExpressions_1.num)(1);
        // Preserve the negations removed earlier
        const result = Fraction_1.Fraction.of(num.isNegation ? (0, ConvenientExpressions_1.negative)(top) : top, den.isNegation ? (0, ConvenientExpressions_1.negative)(bottom) : bottom);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Cancel out fractions", exports.RULE_ID));
    }
}
exports.DivideFractions = DivideFractions;
exports.RULE_ID = "Cancel out fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DivisionIdentity.ts":
/*!*********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DivisionIdentity.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivisionIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything divided by 1 is the numerator
 */
class DivisionIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction
            && exp.denominator instanceof Integer_1.Integer
            && exp.denominator.value == 1;
    }
    applyImpl(exp) {
        const frac = exp;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: frac.numerator,
        }, "Division identity is 1", exports.RULE_ID));
    }
}
exports.DivisionIdentity = DivisionIdentity;
exports.RULE_ID = "Division Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/EvaluateSums.ts":
/*!*****************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/EvaluateSums.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.EvaluateSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Combine any integer terms in Sums.
 * a + 2 + 2 + 2= a + 4
 * 2 - 2 = 0
 *
 * Combines all of them at once no matter how many terms there are.
 *
 */
class EvaluateSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const sum = exp;
        const integerTerms = [...sum.terms].filter(t => t instanceof Integer_1.Integer || (t instanceof Product_1.Product && t.isNegation && t.negation instanceof Integer_1.Integer));
        if (integerTerms.length < 2) {
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        }
        const newInt = Integer_1.Integer.of(integerTerms.map(e => {
            if (e instanceof Integer_1.Integer) {
                return e.value;
            }
            return -e.negation.value;
        }).reduce((a, b) => a + b));
        const otherTerms = [...sum.terms].filter(t => !(t instanceof Integer_1.Integer) && !(t instanceof Product_1.Product && t.isNegation && t.negation instanceof Integer_1.Integer));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(sum), {
            n: sum,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sumOrNot)(...otherTerms, newInt)
        }, "Evaluated Addition", exports.RULE_ID));
    }
}
exports.EvaluateSums = EvaluateSums;
exports.RULE_ID = "Eval Addition";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/ExponentToZero.ts":
/*!*******************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/ExponentToZero.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ExponentToZero = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class ExponentToZero extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Exponent_1.Exponent
            && exp.power instanceof Integer_1.Integer
            && exp.power.value == 0;
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(1)
        }, "Anything to zero is zero", exports.RULE_ID));
    }
}
exports.ExponentToZero = ExponentToZero;
exports.RULE_ID = "Pow of Zero";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/ExponentialIdentity.ts":
/*!************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/ExponentialIdentity.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ExponentialIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything to the first is just that thing.
 * Turns any exponent with a power of 1 to that thing.
 */
class ExponentialIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Exponent_1.Exponent
            && exp.power instanceof Integer_1.Integer
            && exp.power.value == 1;
    }
    applyImpl(exp) {
        const e = exp;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(e), {
            n: e,
            r: Relationship_1.Relationship.Equal,
            n1: e.base,
        }, "Exponential Identity is 1", exports.RULE_ID));
    }
}
exports.ExponentialIdentity = ExponentialIdentity;
exports.RULE_ID = "Exponential Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/FOIL.ts":
/*!*********************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/FOIL.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.FOIL = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
/**
 * (a + b)(c + d) = ac + ad + bc + bd
 */
class FOIL extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const sums = product.factors.filter(f => f instanceof Sum_1.Sum);
        if (sums.length < 2)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        const nonSums = product.factors.filter(f => !(f instanceof Sum_1.Sum));
        const first = sums[0];
        const second = sums[1];
        const foiled = first.terms.map(t => {
            const terms = [];
            for (const t1 of second.terms) {
                terms.push((0, ConvenientExpressions_1.product)(t, t1));
            }
            return terms;
        }).flat();
        sums.splice(0, 2);
        const result = (0, ConvenientExpressions_1.productOrNot)(...nonSums, (0, ConvenientExpressions_1.sum)(...foiled), ...sums);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Foil that shit", exports.RULE_ID));
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Polynomial;
    }
}
exports.FOIL = FOIL;
exports.RULE_ID = "FOIL";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/LogOfOne.ts":
/*!*************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/LogOfOne.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.LogOfOne = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Logarithm_1 = __webpack_require__(/*! ../../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class LogOfOne extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Logarithm_1.Logarithm
            && exp.exp instanceof Integer_1.Integer
            && exp.exp.value === 1;
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(0)
        }, "Log in any base of 1 is 0", exports.RULE_ID));
    }
}
exports.LogOfOne = LogOfOne;
exports.RULE_ID = "Log of 1";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts":
/*!***************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplicativeIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * 1x = x
 * 1*1x = 1
 */
class MultiplicativeIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product
            && new Set(exp.factors).has((0, ConvenientExpressions_1.num)(1))
            && !exp.isNegation;
    }
    applyImpl(exp) {
        const p = exp;
        const newFactors = [];
        for (const factor of p.factors) {
            if (factor instanceof Integer_1.Integer && factor.value == 1)
                continue;
            newFactors.push(factor);
        }
        if (newFactors.length == 0)
            newFactors.push((0, ConvenientExpressions_1.num)(1));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.productOrNot)(...newFactors)
        }, "Multiplicative Identity", exports.RULE_ID));
    }
}
exports.MultiplicativeIdentity = MultiplicativeIdentity;
exports.RULE_ID = "Mult Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts":
/*!***************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplyExponentPowers = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class MultiplyExponentPowers extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Exponent_1.Exponent
            && exp.base instanceof Exponent_1.Exponent;
    }
    applyImpl(exp) {
        const outer = exp;
        const inner = outer.base;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(inner.base, (0, ConvenientExpressions_1.product)(inner.power, outer.power))
        }, "Exponents to exponents multiply", exports.RULE_ID));
    }
}
exports.MultiplyExponentPowers = MultiplyExponentPowers;
exports.RULE_ID = "Exp to exp";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/OrderProducts.ts":
/*!******************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/OrderProducts.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.OrderProducts = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Reorders factors to follow convention.
 */
class OrderProducts extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const p = exp;
        const result = (0, ConvenientExpressions_1.product)(...[...p.factors].sort(Product_1.factorOrder));
        if (result === p)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Reorder product factors to match math convention", exports.RULE_ID));
    }
}
exports.OrderProducts = OrderProducts;
exports.RULE_ID = "Order products";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/OrderSums.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/OrderSums.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.OrderSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Turns sums that are unhealthy because their term order
 * is wrong into correctly ordered sums.
 */
class OrderSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum && (0, ConvenientExpressions_1.orderedSum)(exp) !== exp;
    }
    applyImpl(exp) {
        return new Set([new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.orderedSum)(exp),
            }, "Reordered", exports.RULE_ID)]);
    }
}
exports.OrderSums = OrderSums;
exports.RULE_ID = "Order Sums";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts":
/*!************************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.RemoveCommonFactorsFromTopAndBottomOfFraction = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class RemoveCommonFactorsFromTopAndBottomOfFraction extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction
            && !(exp.numerator instanceof Product_1.Product && exp.numerator.isNegation)
            && !(exp.denominator instanceof Product_1.Product && exp.denominator.isNegation);
    }
    applyImpl(exp) {
        const frac = exp;
        const top = frac.numerator;
        const bottom = frac.denominator;
        const allFactors = new Set();
        if (top instanceof Product_1.Product) {
            top.factors.forEach(f => allFactors.add(f));
        }
        else
            allFactors.add(top);
        if (bottom instanceof Product_1.Product) {
            bottom.factors.forEach(f => allFactors.add(f));
        }
        else
            allFactors.add(bottom);
        // Find factors that are in both top and bottom
        const inBoth = new Set();
        allFactors.forEach(f => {
            if ((top instanceof Product_1.Product ? (0, ThingsThatShouldBeInTheStdLib_1.has)(top.factors, f) : top === f)
                && (bottom instanceof Product_1.Product ? (0, ThingsThatShouldBeInTheStdLib_1.has)(bottom.factors, f) : bottom === f))
                inBoth.add(f);
        });
        if (inBoth.size == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Return new fraction without those
        let newTop = top;
        inBoth.forEach(f => {
            if (newTop instanceof Product_1.Product) {
                newTop = newTop.without(f);
            }
            else {
                newTop = (0, ConvenientExpressions_1.num)(1);
            }
        });
        let newBottom = bottom;
        inBoth.forEach(f => {
            if (newBottom instanceof Product_1.Product) {
                newBottom = newBottom.without(f);
            }
            else {
                newBottom = (0, ConvenientExpressions_1.num)(1);
            }
        });
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(newTop, newBottom),
        }, "Divide top and bottom by same thing", exports.RULE_ID));
    }
}
exports.RemoveCommonFactorsFromTopAndBottomOfFraction = RemoveCommonFactorsFromTopAndBottomOfFraction;
exports.RULE_ID = "Div top and bottom by same thing";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts":
/*!*********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SubtractExponentsOnFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * In all cases, any combined exponent factors will
 * be put in the numerator. It's hard to know if they
 * will evaluate to be negative or not, so we'll put
 * them all in the numerator and deal with that later.
 * TODO: Maybe we could iterate over the graph after it's
 *      done to go back and fix this? Maybe it's worth the 2^n
 *      added complexity to create nodes for every possible placement
 *      then just pathfind the easiest?
 */
class SubtractExponentsOnFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction;
    }
    applyImpl(exp) {
        const frac = exp;
        const top = frac.numerator instanceof Product_1.Product ? frac.numerator.factors : [frac.numerator];
        const bottom = frac.denominator instanceof Product_1.Product ? frac.denominator.factors : [frac.denominator];
        // Treat every factor of top and bottom as an exponent
        function asExponent(f) {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        }
        const topExponents = top.map(asExponent);
        const bottomExponents = bottom.map(asExponent);
        // Find what bases are common
        const commonBases = new Set();
        topExponents.forEach(e => {
            if ((0, ThingsThatShouldBeInTheStdLib_1.has)(bottomExponents.map(e => e.base), e.base))
                commonBases.add(e.base);
        });
        bottomExponents.forEach(e => {
            if ((0, ThingsThatShouldBeInTheStdLib_1.has)(topExponents.map(e => e.base), e.base))
                commonBases.add(e.base);
        });
        if (commonBases.size == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Separate factors which won't be effected
        const uneffectedTopFactors = top.filter(f => {
            if (f instanceof Exponent_1.Exponent)
                return !commonBases.has(f.base);
            return !commonBases.has(f);
        });
        const uneffectedBottomFactors = bottom.filter(f => {
            if (f instanceof Exponent_1.Exponent)
                return !commonBases.has(f.base);
            return !commonBases.has(f);
        });
        // Find all the terms for each base
        // Remember that the final exponent will be in the numerator
        const exponentTerms = new Map();
        topExponents.forEach(e => {
            if (!commonBases.has(e.base))
                return;
            if (!exponentTerms.has(e.base)) {
                exponentTerms.set(e.base, []);
            }
            exponentTerms.get(e.base).push(e.power);
        });
        bottomExponents.forEach(e => {
            if (!commonBases.has(e.base))
                return;
            if (!exponentTerms.has(e.base)) {
                exponentTerms.set(e.base, []);
            }
            // Negative bc we're putting these in the numerator
            exponentTerms.get(e.base).push((0, ConvenientExpressions_1.negative)(e.power));
        });
        const resultingTopExponents = [];
        exponentTerms.forEach((powerTerms, base) => {
            resultingTopExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sum)(...powerTerms)));
        });
        if (uneffectedBottomFactors.length == 0)
            uneffectedBottomFactors.push((0, ConvenientExpressions_1.num)(1));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of((0, ConvenientExpressions_1.productOrNot)(...resultingTopExponents, ...uneffectedTopFactors), (0, ConvenientExpressions_1.productOrNot)(...uneffectedBottomFactors)),
        }, "Sum exponents in both numerator and denominator", exports.RULE_ID));
    }
}
exports.SubtractExponentsOnFractions = SubtractExponentsOnFractions;
exports.RULE_ID = "Sum exponents in num and den in fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts":
/*!********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SumCoefficientsOfAddedTerms = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Takes sums of several added products and combines ones that only
 * have different coefficients.
 *
 * a + 2a = 3a
 * a - 2a = -1a
 */
class SumCoefficientsOfAddedTerms extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const terms = exp.terms;
        // Split the terms into product and not products
        const productTerms = [];
        const nonProductTerms = [];
        for (const term of terms) {
            if (term instanceof Product_1.Product && term.factors[0] instanceof Integer_1.Integer) {
                productTerms.push(term);
            }
            else {
                nonProductTerms.push(term);
            }
        }
        // Sort the product terms into groups of common factors
        const groups = new Map();
        for (const term of productTerms) {
            const first = term.factors[0];
            const temp = [...term.factors];
            temp.splice(0, 1);
            const group = (0, ConvenientExpressions_1.productOrNot)(...temp);
            if (!groups.has(group))
                groups.set(group, { coefficient: first.value, moreThanOne: false });
            else {
                groups.get(group).coefficient += first.value;
                groups.get(group).moreThanOne = true;
            }
        }
        // For every group with more than one product, produce a new argument
        const out = new Set();
        groups.forEach((obj, group) => {
            if (!obj.moreThanOne)
                return;
            const productTermsNotCombined = productTerms.filter(t => {
                const temp = [...t.factors];
                temp.splice(0, 1);
                const termWithoutLeadingCoefficient = (0, ConvenientExpressions_1.productOrNot)(...temp);
                return group !== termWithoutLeadingCoefficient;
            });
            out.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.sumOrNot)((0, ConvenientExpressions_1.productAndNotTimesOne)((0, ConvenientExpressions_1.num)(obj.coefficient), group), ...nonProductTerms, ...productTermsNotCombined)
            }, "Combining like terms", exports.RULE_ID));
        });
        return out;
    }
}
exports.SumCoefficientsOfAddedTerms = SumCoefficientsOfAddedTerms;
exports.RULE_ID = "SumCoefficients of added terms";


/***/ }),

/***/ "./src/mathlib/expressions/Derivative.ts":
/*!***********************************************!*\
  !*** ./src/mathlib/expressions/Derivative.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DerivativeType = exports.Derivative = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
/**
 *
 */
class Derivative extends Expression_1.Expression {
    static of(exp, relativeTo) {
        const hash = exp.hash + relativeTo.hash;
        if (!this.instances.has(hash))
            this.instances.set(hash, new Derivative(exp, relativeTo));
        return this.instances.get(hash);
    }
    constructor(exp, relativeTo) {
        super();
        this.class = exports.DerivativeType;
        this.exp = exp;
        this.relativeTo = relativeTo;
        Object.freeze(this.exp);
        Object.freeze(this.relativeTo);
        this.isReducible = false; //TODO: Determine if a derivative is reducible
        this.isConstant = false; // TODO: Determine if a derivative is constant
        this.childCount = 2 + exp.childCount + relativeTo.childCount;
    }
    toString() {
        return "d/d" + this.relativeTo.toString() + "(" + this.exp.toString() + ")";
    }
    toUnambigiousString() {
        return "(d/d" + this.relativeTo.toUnambigiousString() + ")" + this.exp.toUnambigiousString();
    }
    get hash() {
        return this.class + this.exp.hash + this.relativeTo.hash;
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        return "<mfrac><mn>d</mn><mrow><mn>d</mn>" + wrapIfNeeded(this.relativeTo) + "</mrow></mfrac>" + wrapIfNeeded(this.exp);
    }
    evaluate(values) {
        // Maybe later
        return NaN;
    }
}
exports.Derivative = Derivative;
Derivative.instances = new Map();
exports.DerivativeType = "Derivative";


/***/ }),

/***/ "./src/mathlib/expressions/Exponent.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Exponent.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExponentType = exports.Exponent = void 0;
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Fraction_1 = __webpack_require__(/*! ./Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
class Exponent extends Expression_1.Expression {
    static of(base, power) {
        const hash = base.hash + power.hash;
        if (!Exponent.instances.has(hash)) {
            Exponent.instances.set(hash, new Exponent(base, power));
        }
        return Exponent.instances.get(hash);
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType || exp.class == Fraction_1.FractionType)
                return (0, MathMLHelpers_1.inRow)((0, MathMLHelpers_1.inParen)(exp.toMathXML()));
            return exp.toMathXML();
        }
        return "<msup>" + wrapIfNeeded(this.base) + (0, MathMLHelpers_1.inRow)(this.power.toMathXML()) + "</msup>";
    }
    toString() {
        return "(" + this.base + ")^(" + this.power + ")";
    }
    toUnambigiousString() {
        return "(" + this.base + ")^(" + this.power + ")";
    }
    get hash() {
        return "Pow" + this.base.hash + this.power.hash;
    }
    evaluate(values) {
        return Math.pow(this.base.evaluate(values), this.power.evaluate(values));
    }
    constructor(base, power) {
        super();
        this.class = exports.ExponentType;
        this.base = base;
        this.power = power;
        Object.freeze(this.base);
        Object.freeze(this.power);
        // The integers are closed over exponentiation
        this.isReducible = (base.isReducibleOrInt) && (power.isReducibleOrInt); // && Math.pow(base.reduced.value, power.reduced.value) % 1 == 0
        this.isConstant = base.isConstant && power.isConstant;
        this.childCount = 2 + base.childCount + power.childCount;
    }
}
exports.Exponent = Exponent;
Exponent.instances = new Map();
exports.ExponentType = "Exponent";


/***/ }),

/***/ "./src/mathlib/expressions/Expression.ts":
/*!***********************************************!*\
  !*** ./src/mathlib/expressions/Expression.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Expression = void 0;
const MathGraphNode_1 = __webpack_require__(/*! ../MathGraphNode */ "./src/mathlib/MathGraphNode.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
/**
 * Base of all mathematical expressions.
 * All children should implement fly-wheel pattern.
 * All children should be immutable.
 */
class Expression extends MathGraphNode_1.MathGraphNode {
    /**
     * True if the expression is reducible or is an integer.
     */
    get isReducibleOrInt() {
        return this.isReducible || this.class == Integer_1.IntegerType;
    }
}
exports.Expression = Expression;


/***/ }),

/***/ "./src/mathlib/expressions/Fraction.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Fraction.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FractionType = exports.Fraction = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Fraction extends Expression_1.Expression {
    static of(numerator, denominator) {
        const hash = numerator.hash + denominator.hash;
        if (!this.instance.has(hash))
            this.instance.set(hash, new Fraction(numerator, denominator));
        return this.instance.get(hash);
    }
    constructor(num, denom) {
        super();
        this.class = exports.FractionType;
        this.numerator = num;
        this.denominator = denom;
        Object.freeze(this.numerator);
        Object.freeze(this.denominator);
        /*
        A fraction is reducible if the denom | num.
            <=> num = k * denom where k is an integer.

        This makes proving reducibility hard.
        TODO: Decide if it's worth implementing reducibility for Fractions
        */
        this.isReducible = false;
        this.isConstant = num.isConstant && denom.isConstant;
        this.childCount = 2 + num.childCount + denom.childCount;
    }
    toString() {
        return this.numerator.toString() + " / " + this.denominator.toString();
    }
    toUnambigiousString() {
        return `(${this.numerator.toUnambigiousString()})/(${this.denominator.toUnambigiousString()})`;
    }
    get hash() {
        return exports.FractionType + this.numerator.hash + this.denominator.hash;
    }
    toMathXML() {
        return "<mfrac><mrow>" + this.numerator.toMathXML() + "</mrow><mrow>" + this.denominator.toMathXML() + "</mrow></mfrac>";
    }
    evaluate(values) {
        return this.numerator.evaluate(values) / this.denominator.evaluate(values);
    }
}
exports.Fraction = Fraction;
Fraction.instance = new Map();
exports.FractionType = "Fraction";


/***/ }),

/***/ "./src/mathlib/expressions/Integer.ts":
/*!********************************************!*\
  !*** ./src/mathlib/expressions/Integer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IntegerType = exports.Integer = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
/**
 * Integer
 * Positive or negative
 */
class Integer extends Expression_1.Expression {
    static of(value) {
        if (!Integer.instances.has(value)) {
            Integer.instances.set(value, new Integer(value));
        }
        return Integer.instances.get(value);
    }
    constructor(value) {
        super();
        this.class = exports.IntegerType;
        this.isReducible = false;
        this.isConstant = true;
        this.childCount = 0;
        this.value = value;
        (0, assert_1.assert)(this.value % 1 == 0, "Creating non-integer integer " + this.value);
    }
    /**
     * @returns A positive version of this integer.
     */
    butPositive() {
        return Integer.of(Math.abs(this.value));
    }
    toMathXML() {
        return "<mn>" + this.value + "</mn>";
    }
    toString() {
        return "" + this.value;
    }
    toUnambigiousString() {
        return "" + this.value;
    }
    get hash() {
        return "Int" + this.value;
    }
    evaluate(values) {
        return this.value;
    }
}
exports.Integer = Integer;
Integer.instances = new Map();
exports.IntegerType = "Integer";


/***/ }),

/***/ "./src/mathlib/expressions/Integral.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Integral.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IntegralType = exports.Integral = void 0;
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
/**
 * An indefinate integral (for now).
 * TODO: Should we separate definate/indefinate integrals?
 */
class Integral extends Expression_1.Expression {
    static of(integrand, relativeTo) {
        if (!this.instances.has(integrand.hash + relativeTo.hash))
            this.instances.set(integrand.hash + relativeTo.hash, new Integral(integrand, relativeTo));
        return this.instances.get(integrand.hash + relativeTo.hash);
    }
    constructor(integrand, relativeTo) {
        super();
        this.class = exports.IntegralType;
        this.integrand = integrand;
        this.relativeTo = relativeTo;
        Object.freeze(this.integrand);
        Object.freeze(this.relativeTo);
        this.isReducible = false;
        this.isConstant = false;
        this.childCount = 2 + integrand.childCount + relativeTo.childCount;
    }
    toString() {
        return "∫" + this.integrand.toString();
    }
    toUnambigiousString() {
        return "∫(" + this.integrand.toUnambigiousString() + ")" + this.relativeTo.toUnambigiousString();
    }
    get hash() {
        return "∫" + this.integrand.toString() + this.relativeTo.toString();
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType)
                return (0, MathMLHelpers_1.inParen)(exp.toMathXML());
            return exp.toMathXML();
        }
        return "<mrow><mo>∫</mo>" + wrapIfNeeded(this.integrand) + "<mn>d</mn>" + wrapIfNeeded(this.relativeTo) + "</mrow>";
    }
    evaluate(values) {
        // Nah fuck this bro
        return NaN;
    }
}
exports.Integral = Integral;
Integral.instances = new Map();
exports.IntegralType = "Integral";


/***/ }),

/***/ "./src/mathlib/expressions/Logarithm.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/expressions/Logarithm.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LogType = exports.Logarithm = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Logarithm extends Expression_1.Expression {
    static of(exp, base) {
        const hash = exp.hash + base.hash;
        if (!this.instances.has(hash))
            this.instances.set(hash, new Logarithm(exp, base));
        return this.instances.get(hash);
    }
    constructor(exp, base) {
        super();
        this.class = exports.LogType;
        this.exp = exp;
        this.base = base;
        Object.freeze(this.exp);
        Object.freeze(this.base);
        this.isReducible = false; //TODO: Determine if a logarithm is reducible
        this.isConstant = exp.isConstant && base.isConstant;
        this.childCount = 2 + exp.childCount + base.childCount;
    }
    toMathXML() {
        return `<mrow>
            <msub><mtext>log</mtext>${this.base.toMathXML()}</msub>
            <mrow>${this.exp.toMathXML()}</mrow>
        </row>`;
    }
    toString() {
        return `log${this.base.toString()}(${this.exp.toString()})`;
    }
    toUnambigiousString() {
        return `log(${this.base.toUnambigiousString()})(${this.exp.toUnambigiousString()})`;
    }
    get hash() {
        throw new Error("Method not implemented.");
    }
    evaluate(values) {
        return Math.log(this.exp.evaluate(values)) / Math.log(this.base.evaluate(values));
    }
}
exports.Logarithm = Logarithm;
Logarithm.instances = new Map();
exports.LogType = "Logarithm";


/***/ }),

/***/ "./src/mathlib/expressions/Product.ts":
/*!********************************************!*\
  !*** ./src/mathlib/expressions/Product.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.factorOrder = exports.ProductType = exports.Product = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Exponent_1 = __webpack_require__(/*! ./Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ./Variable */ "./src/mathlib/expressions/Variable.ts");
/**
 * A mathematical product with 2 or more factors.
 */
class Product extends Expression_1.Expression {
    /**
     * For efficiency, products are compared by reference.
     * Here we ensure === <=> ==
     * @param factors
     * @returns
     */
    static of(factors) {
        const hash = factors.map(e => e.hash).join("");
        if (!Product.instances.has(hash))
            Product.instances.set(hash, new Product(factors));
        return Product.instances.get(hash);
    }
    constructor(factors) {
        super();
        this.class = exports.ProductType;
        (0, assert_1.assert)(factors.length >= 2, "Creating product with less than 2 factors.");
        this.factors = factors;
        Object.freeze(this.factors);
        let reducible = true;
        this.factors.forEach(f => {
            reducible && (reducible = f.isReducible || f.class == Integer_1.IntegerType);
        });
        // The integers are closed over multiplication
        this.isReducible = reducible;
        let healthy = true;
        healthy && (healthy = this.numNegatives() < 2);
        let isNegation = factors.length == 2;
        isNegation && (isNegation = factors.filter(e => {
            return e instanceof Integer_1.Integer && e.value == -1;
        }).length == 1);
        this.isNegation = isNegation;
        this.isConstant = this.factors.map(f => f.isConstant).reduce((a, b) => a && b);
        this.childCount = factors.length + factors.map(f => f.childCount).reduce((a, b) => a + b) - (this.isNegation ? 1 : 0);
    }
    /**
     * Get the value that this product is negating
     * -1 * exp returns exp.
     * @throws if product isn't a negation.
     */
    get negation() {
        (0, assert_1.assert)(this.isNegation, "Trying to get negation from non-negating sum");
        if (this.factors[0].class == Integer_1.IntegerType && this.factors[0].value == -1)
            return this.factors[1];
        return this.factors[0];
    }
    /**
     * Returns a new Expression without the given factor.
     * If the product contains the factor multiple times,
     * only removes one. If it doesn't contain the factor,
     * returns itself.
     * @param exp A factor in this product.
     */
    without(exp) {
        const newFactors = [...this.factors];
        const index = newFactors.findIndex((value) => {
            return value === exp;
        });
        if (index == -1)
            return this;
        newFactors.splice(index, 1);
        if (newFactors.length < 2) {
            return newFactors[0]; // Gauranteed there's one term here
        }
        return Product.of(newFactors);
    }
    toMathXML() {
        let out = "";
        function wrapIfNeeded(exp) {
            if (exp.class == exports.ProductType || exp.class == Sum_1.SumType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        // Either this is a negation, or a list of products
        // First the negation case...
        if (this.isNegation) {
            out += "<mo>-</mo>";
            out += wrapIfNeeded(this.negation);
            return out;
        }
        // If it's a list of products...
        const firstFactor = this.factors[0];
        out += wrapIfNeeded(firstFactor);
        for (let i = 1; i < this.factors.length; i++) {
            let factor = this.factors[i];
            let needsDot = (factor.class == Integer_1.IntegerType && this.factors[i - 1].class == Integer_1.IntegerType)
                || (factor instanceof Product && factor.isNegation) // If there's a negative sign, get a dot
                || (factor instanceof Integer_1.Integer && factor.value < 1);
            if (needsDot)
                out += "<mo>·</mo>";
            out += wrapIfNeeded(factor);
        }
        return out;
    }
    /**
     * @returns Number of negative integer products.
     */
    numNegatives() {
        let count = 0;
        this.factors.forEach(f => {
            if (f instanceof Integer_1.Integer)
                if (f.value < 0)
                    count++;
        });
        return count;
    }
    toString() {
        let out = "";
        for (const exp of this.factors) {
            if (exp instanceof Product) {
                out += "(" + exp.toString() + ")";
            }
            else {
                out += exp.toString();
            }
            out += "·";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    toUnambigiousString() {
        if (this.isNegation)
            return `-(${this.negation.toUnambigiousString()})`;
        let out = "";
        for (const exp of this.factors) {
            if (exp instanceof Product) {
                out += "(" + exp.toString() + ")";
            }
            else {
                out += exp.toString();
            }
            out += "·";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    get hash() {
        return "Product" + this.factors.map(e => e.hash).join();
    }
    evaluate(values) {
        return this.factors.map(f => f.evaluate(values)).reduce((a, b) => a * b);
    }
}
exports.Product = Product;
Product.instances = new Map();
exports.ProductType = "Product";
/**
 * Can be used in array.sort() to get properly ordered products.
 *
 * @param a
 * @param b
 * @returns Positive if a should be after b
 */
function factorOrder(a, b) {
    if (a instanceof Integer_1.Integer && b instanceof Integer_1.Integer)
        return 0;
    if (a instanceof Integer_1.Integer) {
        return aFirst;
    }
    // Alphabetical
    const symbA = a instanceof Variable_1.Variable ? a.symbol
        : a instanceof Exponent_1.Exponent ?
            a.base instanceof Variable_1.Variable ? a.base.symbol : null : null;
    const symbB = b instanceof Variable_1.Variable ? b.symbol
        : b instanceof Exponent_1.Exponent ?
            b.base instanceof Variable_1.Variable ? b.base.symbol : null : null;
    if (symbA != null && symbB != null) {
        return symbA > symbB ? aFirst : aAfter;
    }
    return 0;
}
exports.factorOrder = factorOrder;
const aFirst = 1;
const aAfter = -1;


/***/ }),

/***/ "./src/mathlib/expressions/Sum.ts":
/*!****************************************!*\
  !*** ./src/mathlib/expressions/Sum.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.orderTerms = exports.SumType = exports.Sum = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Variable_1 = __webpack_require__(/*! ./Variable */ "./src/mathlib/expressions/Variable.ts");
/**
 * Expression representing the sum of 2 or more terms.
 */
class Sum extends Expression_1.Expression {
    /**
     * Factory method consntructor.
     * @param terms Contains at least 2 elements
     */
    static of(terms) {
        const hash = terms.map(t => t.hash).join("");
        if (!Sum.instances.has(hash)) {
            Sum.instances.set(hash, new Sum(terms));
        }
        return Sum.instances.get(hash);
    }
    constructor(terms) {
        super();
        this.class = exports.SumType;
        (0, assert_1.assert)(terms.length >= 2, "Creating sum with less than 2 terms.");
        this.terms = terms;
        this.isReducible = this.terms.map(t => t.isReducible || t.class == Integer_1.IntegerType).reduce((a, b) => a && b);
        this.isConstant = this.terms.map(t => t.isConstant).reduce((a, b) => a && b);
        Object.freeze(this.terms);
        this.childCount = terms.length + terms.map(t => t.childCount).reduce((a, b) => a + b);
    }
    /**
     * Returns a new Expression without the given term.
     * If the sum contains the term multiple times,
     * only removes one. If it doesn't contain the term,
     * returns itself.
     * @param term A term in this sum.
     */
    without(term) {
        const newTerms = [...this.terms];
        const index = newTerms.findIndex((value) => {
            return value === term;
        });
        if (index == -1)
            return this;
        newTerms.splice(index, 1);
        if (newTerms.length < 2) {
            return newTerms[0]; // Gauranteed there's one term here
        }
        return Sum.of(newTerms);
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == exports.SumType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        let out = wrapIfNeeded(this.terms[0]);
        for (let i = 1; i < this.terms.length; i++) {
            const term = this.terms[i];
            // Subtract negative terms instead of adding negatives
            if (term instanceof Product_1.Product && term.isNegation) {
                out += "<mo>-</mo>" + wrapIfNeeded(term.negation);
            }
            else if (term instanceof Integer_1.Integer && term.value < 0) {
                out += "<mo>-</mo>" + wrapIfNeeded(term.butPositive());
            }
            else {
                out += "<mo>+</mo>" + wrapIfNeeded(this.terms[i]);
            }
        }
        return out;
    }
    toString() {
        let out = "";
        for (const exp of this.terms) {
            out += exp.toString() + "+";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    toUnambigiousString() {
        let out = "";
        for (const exp of this.terms) {
            out += "(" + exp.toUnambigiousString() + ")+";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    get hash() {
        return "Sum" + this.terms.map(e => e.hash).join();
    }
    evaluate(values) {
        return this.terms.map(t => t.evaluate(values)).reduce((a, b) => a + b);
    }
}
exports.Sum = Sum;
Sum.instances = new Map();
exports.SumType = "Sum";
/**
 * Returns the given terms ordered correctly to
 * be placed in a Sum. Alters the given array.
 * @param terms
 */
function orderTerms(...terms) {
    // A note about the sort function bc the documentation is cryptic
    // If a should be put before b in the sum, return a negative value
    return terms.sort((a, b) => {
        // Variables before Integers
        if (a.class == Integer_1.IntegerType && (b.class == Variable_1.VariableType || (b instanceof Product_1.Product && b.isNegation && b.negation.class == Variable_1.VariableType))) {
            return 1;
        }
        if ((a.class == Variable_1.VariableType || (a instanceof Product_1.Product && a.isNegation && a.negation.class == Variable_1.VariableType)) && b.class == Integer_1.IntegerType) {
            return -1;
        }
        return 0;
    });
}
exports.orderTerms = orderTerms;


/***/ }),

/***/ "./src/mathlib/expressions/Variable.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Variable.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VariableType = exports.Variable = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Variable extends Expression_1.Expression {
    static of(symbol) {
        if (Variable.instances.get(symbol) == undefined) {
            Variable.instances.set(symbol, new Variable(symbol));
        }
        return Variable.instances.get(symbol);
    }
    constructor(symbol) {
        super();
        this.class = exports.VariableType;
        this.isReducible = false;
        this.isConstant = false;
        this.childCount = 0;
        this.symbol = symbol;
    }
    toMathXML() {
        return "<mi>" + this.symbol + "</mi>";
    }
    toString() {
        return this.symbol;
    }
    toUnambigiousString() {
        return this.symbol;
    }
    get hash() {
        return "Var" + this.symbol;
    }
    evaluate(values) {
        return values.valueOf(this);
    }
}
exports.Variable = Variable;
Variable.instances = new Map();
exports.VariableType = "Variable";


/***/ }),

/***/ "./src/mathlib/interpreting/Interpreter.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/interpreting/Interpreter.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SkipSet = exports.Interpreter = void 0;
/**
 * Takes a graph and collapses any arguments that are obvious.
 */
class Interpreter {
    constructor(config) {
        // Null after every process call.
        this.graph = null;
        this.config = config;
    }
    processPath(path) {
        this.graph = path.graph;
        const result = new SkipSet();
        const shouldSkip = (arg) => {
            return this.config.skips.has(arg.ruleId);
        };
        const graph = this.graph;
        function recursiveAdd(node) {
            const next = findNext(node);
            if (next != null) {
                const argument = graph.getEdge(node, path.nodes[path.nodes.indexOf(node) + 1]);
                result.addSkip(node, { e: next, a: argument });
                recursiveAdd(next);
            }
        }
        // Gets the next expression to show or null if there
        // isn't one. Never returns the given expression
        function findNext(node) {
            var _a;
            let index = path.nodes.indexOf(node);
            const next = path.nodes[index + 1];
            if (next == undefined)
                return null;
            if (shouldSkip(graph.getEdge(node, next))) {
                return (_a = findNext(next)) !== null && _a !== void 0 ? _a : next;
            }
            else
                return next;
        }
        recursiveAdd(path.nodes[0]);
        this.graph = null;
        return result;
    }
    hasOneOutEdge(node) {
        var _a;
        return ((_a = this.graph) === null || _a === void 0 ? void 0 : _a.getDegree(node, "out")) == 1;
    }
}
exports.Interpreter = Interpreter;
/**
 * Currently only supports expressions.
 * TODO: Figure out arguments.
 */
class SkipSet {
    constructor() {
        this.skips = new Map();
    }
    /**
     * Finds the next expression that should be displayed.
     * The input and result expression should be displayed as
     * connected by the input's out argument, which is provided
     * in the result.
     *
     * There will be
     * exactly one simple path connecting the output and
     * result.
     * @param input
     * @return Null if the input has no skip mapped to it.
     */
    next(input) {
        if (this.skips.has(input))
            return this.skips.get(input);
        return null;
    }
    /**
     * Adds the start end pair to the skip set. If already included,
     * does nothing. If the given start already has an end assigned
     * and the assigned /= the given end, throws. If start == end,
     * does nothing.
     * @param start
     * @param end
     */
    addSkip(start, end) {
        if (start == end.e)
            return;
        if (this.skips.has(start) && this.skips.get(start) != end)
            throw new Error("Adding another end to SkipSet");
        this.skips.set(start, end);
    }
}
exports.SkipSet = SkipSet;


/***/ }),

/***/ "./src/mathlib/interpreting/Path.ts":
/*!******************************************!*\
  !*** ./src/mathlib/interpreting/Path.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Path = void 0;
/**
 * Represents a path of graphs.
 * Immutable
 */
class Path {
    constructor(graph, ...nodes) {
        this.nodes = nodes;
        this.graph = graph;
    }
    [Symbol.iterator]() {
        throw new Error("Method not implemented.");
    }
}
exports.Path = Path;


/***/ }),

/***/ "./src/mathlib/uielements/ArgumentNodeView.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/ArgumentNodeView.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ArgumentNodeView = void 0;
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
/**
 * Represents an argument node.
 */
class ArgumentNodeView extends GraphNodeView_1.GraphNodeView {
    constructor(arg, setStyle) {
        super(setStyle);
        this.argument = arg;
    }
    connectedCallback() {
        this.textContent = this.argument.argument;
        this.classList.add("argument");
    }
}
exports.ArgumentNodeView = ArgumentNodeView;
customElements.define("argument-nodeview", ArgumentNodeView, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/EdgeView.ts":
/*!********************************************!*\
  !*** ./src/mathlib/uielements/EdgeView.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EdgeView = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const UIPreferences_1 = __webpack_require__(/*! ./UIPreferences */ "./src/mathlib/uielements/UIPreferences.ts");
const Graph_1 = __webpack_require__(/*! ../Graph */ "./src/mathlib/Graph.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Represents an edge in a graph.
 */
class EdgeView extends HTMLParagraphElement {
    constructor(owner, edge) {
        super();
        this.owner = owner;
        this.edge = edge.e;
        this.first = edge.n;
        this.second = edge.n1;
        Object.freeze(this.edge);
        this.style.width = "fit-content";
        this.style.height = "fit-content";
        this.style.padding = "0";
        this.style.zIndex = "-2";
        this.style.margin = "0";
        this.style.whiteSpace = "nowrap";
        this.style.textAlign = "center";
        this.style.backgroundColor = UIPreferences_1.uiPreferences.edgeEqualsBackgroundColor;
        this.style.userSelect = "none";
        this.style.backgroundColor = "white";
        UIPreferences_1.uiPreferences.onUpdate(() => {
            this.style.backgroundColor = UIPreferences_1.uiPreferences.edgeEqualsBackgroundColor;
        });
        this.addEventListener("click", event => {
            this.owner.edgeClicked(this, event);
        });
        this.addEventListener("mouseout", event => {
        });
        this.repOk();
    }
    /**
     * Sets rotation angle of view while also
     * letting it know the angle has changed.
     * @param rad
     */
    setAngle(rad) {
        this.style.rotate = "" + rad + "rad";
        //this.textContent = "" + (rad * 2 * Math.PI / 360).toFixed(2) + "deg"
    }
    /**
     * Sets element screen width and ensures text fits
     * inside the edge.
     */
    set width(val) {
        super.style.width = val;
    }
    /**
     * Called when element is conncted to the DOM.
     */
    connectedCallback() {
        if (this.edge instanceof Argument_1.Argument) {
            this.textContent = "" + this.edge.claim.r;
        }
        else if (this.edge instanceof Graph_1.GivenEdge) {
            this.textContent = "" + this.edge.r;
        }
        else
            throw new Error("Not implemented for " + this.edge);
    }
    repOk() {
        (0, assert_1.assert)(this.first != undefined);
        (0, assert_1.assert)(this.second != undefined);
    }
}
exports.EdgeView = EdgeView;
customElements.define("edge-view", EdgeView, { extends: "p" });


/***/ }),

/***/ "./src/mathlib/uielements/EditableMathView.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/EditableMathView.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditableMathView = void 0;
/**
 * Displays math and is editable.
 */
class EditableMathView extends HTMLDivElement {
    constructor() {
        super();
        this.listeners = [];
        this._value = null;
        this.addEventListener("click", event => {
        });
    }
    connectedCallback() {
    }
    set value(e) {
        var _a;
        this._value = e;
        this.innerHTML = "<math display='block'>" + ((_a = e === null || e === void 0 ? void 0 : e.toMathXML()) !== null && _a !== void 0 ? _a : "") + "</math>";
        this.listeners.forEach(l => l(this._value));
        MathJax.typeset([this]);
    }
    get value() {
        return this._value;
    }
    /**
     * Listener will be called whenever the math
     * in the view is edited.
     * @param l
     */
    addEditListener(l) {
        this.listeners.push(l);
    }
}
exports.EditableMathView = EditableMathView;
customElements.define("editable-mathview", EditableMathView, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/ExplanationPopup.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/ExplanationPopup.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExplanationPopup = void 0;
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
class ExplanationPopup extends HTMLDivElement {
    /**
     *
     * @param arg
     * @param onClose Called after user clicks close button.
     */
    constructor(arg, onClose) {
        super();
        this.arg = arg;
        this.onClose = onClose;
        const closeButton = document.createElement('b');
        closeButton.addEventListener('click', () => {
            this.onClose();
        });
        closeButton.textContent = "Close";
        closeButton.style.userSelect = "none";
        closeButton.style.float = "right";
        this.append(closeButton);
        const text = document.createElement('div');
        text.innerHTML = arg.argument + "<br>";
        if (arg.claim.n instanceof Expression_1.Expression && arg.claim.n1 instanceof Expression_1.Expression)
            text.innerHTML += (0, MathMLHelpers_1.inMathBlock)((0, MathMLHelpers_1.inRow)(arg.claim.n.toMathXML() + " <mo>" + arg.claim.r + "</mo> " + arg.claim.n1.toMathXML())) + "<br> Derived from: <br>";
        for (const ground of arg.grounds) {
            if (ground instanceof Expression_1.Expression)
                text.innerHTML += (0, MathMLHelpers_1.inMath)(ground.toMathXML()) + "<br>";
        }
        this.append(text);
        this.style.backgroundColor = "white";
        this.style.border = "1px solid black";
        this.style.boxShadow = "0.3ch 0.3ch 0.6ch rgba(0, 0, 0, 0.5)";
        this.style.padding = "1ch";
        this.style.width = "fit-content";
        this.style.zIndex = "15";
    }
    connectedCallback() {
        MathJax.typeset([this]);
    }
}
exports.ExplanationPopup = ExplanationPopup;
customElements.define("explanation-popup", ExplanationPopup, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/ExpressionNodeView.ts":
/*!******************************************************!*\
  !*** ./src/mathlib/uielements/ExpressionNodeView.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionNodeView = void 0;
const EditableMathView_1 = __webpack_require__(/*! ./EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
/**
 * A graph node view for expression nodes.
 */
class ExpressionNodeView extends GraphNodeView_1.GraphNodeView {
    constructor(node, setStyle) {
        super(setStyle);
        this.node = node;
        this.editableMathView = new EditableMathView_1.EditableMathView();
        this.editableMathView.value = this.node;
        this.appendChild(this.editableMathView);
        this.addEventListener("click", () => {
            console.log(this.node.toUnambigiousString());
        });
    }
    connectedCallback() {
        this.classList.add("expression");
    }
}
exports.ExpressionNodeView = ExpressionNodeView;
customElements.define("expression-nodeview", ExpressionNodeView, { extends: "div" });
const colorUnhealthyNodes = true;


/***/ }),

/***/ "./src/mathlib/uielements/GraphNodeView.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/uielements/GraphNodeView.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GraphNodeView = void 0;
/**
 * An html element that represents a math graph node.
 */
class GraphNodeView extends HTMLDivElement {
    /**
     *
     * @param setStyle Function that when called
     *  should set the style for this view.
     */
    constructor(setStyle) {
        super();
        this.style.padding = "1ch";
        this.style.width = "fit-content";
        this.style.height = "fit-content";
        this.style.whiteSpace = "nowrap";
        setStyle(this);
    }
    set backgroundColor(value) {
        this.style.backgroundColor = value;
    }
}
exports.GraphNodeView = GraphNodeView;


/***/ }),

/***/ "./src/mathlib/uielements/TouchGestureRecognizer.ts":
/*!**********************************************************!*\
  !*** ./src/mathlib/uielements/TouchGestureRecognizer.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TouchGestureRecognizer = void 0;
/**
 * Interpret complicated touch gesture data.
 */
class TouchGestureRecognizer {
    constructor() {
        this.moveListeners = [];
        this.pinchListeners = [];
    }
    addMoveListener(callback) {
        this.moveListeners.push(callback);
    }
    /**
     * Adds a function that will be called when a pinch gesture has been detected.
     * @param callback Takes a center coordinate that's the average of the finger positions,
     *              the change in scale since the last call on (0, infinity) where 1 is no change,
     *              and the number of fingers in the gesture (an integer).
     */
    addPinchListener(callback) {
        this.pinchListeners.push(callback);
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchDown(event) {
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchMove(event) {
        for (const changed of event.changedTouches) {
            changed.clientX;
        }
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchEnd(event) {
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchCancel(event) {
    }
}
exports.TouchGestureRecognizer = TouchGestureRecognizer;


/***/ }),

/***/ "./src/mathlib/uielements/UIPreferences.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/uielements/UIPreferences.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.uiPreferences = void 0;
class UIPreferences {
    constructor() {
        // Preference Values
        this._edgeEqualsBackgroundColor = "none";
        this.callbacks = [];
    }
    /**
     * @param callback Function called whenever a ui preference
     * is changed.
     */
    onUpdate(callback) {
        this.callbacks.push(callback);
    }
    // Getters and Setters
    /**
     * Background color of a graph edge denoting
     * equality between two expressions.
     * Css value.
     */
    get edgeEqualsBackgroundColor() {
        return this._edgeEqualsBackgroundColor;
    }
    set edgeEqualsBackgroundColor(val) {
        this._edgeEqualsBackgroundColor = val;
        this.callbacks.forEach(c => c());
    }
}
exports.uiPreferences = new UIPreferences();


/***/ }),

/***/ "./src/mathlib/uielements/WebGraphView.ts":
/*!************************************************!*\
  !*** ./src/mathlib/uielements/WebGraphView.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebGraphView = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const GraphMinipulator_1 = __webpack_require__(/*! ../GraphMinipulator */ "./src/mathlib/GraphMinipulator.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const TouchGestureRecognizer_1 = __webpack_require__(/*! ./TouchGestureRecognizer */ "./src/mathlib/uielements/TouchGestureRecognizer.ts");
const EdgeView_1 = __webpack_require__(/*! ./EdgeView */ "./src/mathlib/uielements/EdgeView.ts");
const ExpressionNodeView_1 = __webpack_require__(/*! ./ExpressionNodeView */ "./src/mathlib/uielements/ExpressionNodeView.ts");
const ArgumentNodeView_1 = __webpack_require__(/*! ./ArgumentNodeView */ "./src/mathlib/uielements/ArgumentNodeView.ts");
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
const ExplanationPopup_1 = __webpack_require__(/*! ./ExplanationPopup */ "./src/mathlib/uielements/ExplanationPopup.ts");
/**
 * A ui element that will display a math graph in a web.
 */
class WebGraphView extends HTMLDivElement {
    /**
     * @param graph Must be fully connected.
     * @param roots Non-empty.
     */
    constructor(graph, roots, interpreter, config = undefined) {
        super();
        this.nodeColorFn = (n) => "lightblue";
        // if the mouse is down
        this.mouseDown = false;
        this.touchDown = false;
        this.scale = 1;
        // If the graph should draw argument nodes.
        this.showArguments = false;
        this.drawEdgeLines = false;
        this.debugCornerEnabled = false;
        this.resizeObserver = new ResizeObserver(_ => {
            this.arrange();
            this.updateOffset();
        });
        this.baseNodeStyle = (view) => {
            view.style.borderRadius = "1ch";
            view.style.backgroundColor = "lightblue";
            view.style.zIndex = "" + NODE_MAX_Z;
        };
        this.graph = graph;
        this.nodes = new Map();
        this.offsetX = 0;
        this.offsetY = 0;
        this.nodePositions = new Map();
        this.edgePositions = new Map();
        this.edges = new Map();
        this.rootNodes = new Set(roots);
        this.ringElements = new Set();
        this.ringPositions = new Map();
        this.explanationPopups = [];
        this.interpreter = interpreter;
        if (config != undefined) {
            this.showArguments = config.showArguments;
            this.drawEdgeLines = config.drawEdgeLines;
            this.debugCornerEnabled = config.debugCornerEnabled;
        }
        this.style.clipPath = "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)";
        this.style.position = "relative";
        this.style.overflow = "hidden";
        this.addEventListener("mousedown", event => {
            this.mouseDown = true;
            this.touchDown = false;
        });
        this.addEventListener("mouseup", event => {
            this.mouseDown = false;
        });
        this.addEventListener("mouseleave", event => {
            this.mouseDown = false;
        });
        this.addEventListener("mousemove", (event) => {
            if (!this.mouseDown)
                return;
            this.offsetX += event.movementX / this.scale;
            this.offsetY += event.movementY / this.scale;
            this.updateOffset();
        });
        this.resizeObserver.observe(this);
        this.addEventListener("wheel", (event) => {
            const mousePos = Point(event.offsetX, event.offsetY);
            const scaleDelta = Math.pow(0.8, event.deltaY / 360);
            this.scale = scaleDelta * this.scale;
            this.updateOffset();
            return true;
        });
        this.gestureRecognizer = new TouchGestureRecognizer_1.TouchGestureRecognizer();
        this.addEventListener("touchdown", this.gestureRecognizer.processTouchDown);
        this.addEventListener("touchend", this.gestureRecognizer.processTouchEnd);
        this.addEventListener("touchcancel", this.gestureRecognizer.processTouchCancel);
        this.addEventListener("touchmove", this.gestureRecognizer.processTouchMove);
        this.gestureRecognizer.addPinchListener((center, scaleDelta, fingers) => {
        });
        this.repOk();
    }
    /**
     * Set a function that determines the color of a node.
     * @param colorFn
     */
    setNodeColoringScheme(colorFn) {
        this.nodeColorFn = colorFn;
        this.propogateSettingsToNodes();
    }
    propogateSettingsToNodes() {
        this.nodes.forEach((view, node) => {
            view.backgroundColor = this.nodeColorFn(node);
        });
    }
    /**
     * Sets if the view should show argument nodes as nodes.
     * False by default.
     * @param val
     */
    setShowArguments(val) {
        this.showArguments = true;
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    get center() {
        return {
            x: this.offsetWidth / 2,
            y: this.offsetHeight / 2,
        };
    }
    /**
     * Follows the showArgument setting.
     * Populates this.nodes, this.edges,
     * adds the created views to the shadow dom
     * to match the graph.
     * Removes any pre-existing elements from the shadow dom.
     */
    readGraph() {
        // Clear existing
        this.nodes.forEach((view, node) => {
            this.removeChild(view);
        });
        this.nodes.clear();
        this.edges.forEach((view, edge) => {
            this.removeChild(view);
        });
        this.edges.clear();
        // Fetch nodes
        this.graph.getNodes().forEach(node => {
            if (node instanceof Expression_1.Expression) {
                const view = new ExpressionNodeView_1.ExpressionNodeView(node, this.baseNodeStyle);
                view.style.position = "absolute";
                this.nodes.set(node, view);
                this.append(view);
            }
            else if (node instanceof Argument_1.Argument) {
                if (!this.showArguments)
                    return;
                const view = new ArgumentNodeView_1.ArgumentNodeView(node, this.baseNodeStyle);
                view.style.position = "absolute";
                this.nodes.set(node, view);
                this.append(view);
            }
            else
                throw new Error("Graph contains node WebGraphView can't process.");
        });
        // Fetch edges
        GraphMinipulator_1.GraphMinipulator.dropSymmetric(this.graph.getEdges()).filter(edge => {
            // Only consider edges for which we have both endpoints on the view
            return this.nodes.has(edge.n) && this.nodes.has(edge.n1);
        }).forEach(edge => {
            const view = new EdgeView_1.EdgeView(this, edge);
            view.style.position = "absolute";
            this.edges.set(edge, view);
            this.append(view);
        });
        this.propogateSettingsToNodes();
        if (this.debugCornerEnabled) {
            const corner = document.createElement('p');
            corner.innerHTML = "Graph Nodes: " + this.graph.getNodes().size + "<br>"
                + "Visible Nodes: " + this.nodes.size + "<br>"
                + "Graph Edges: " + this.graph.getEdges().size + "<br>"
                + "Visible Edges: " + this.edges.size + "<br>";
            corner.style.zIndex = "100";
            corner.style.backgroundColor = "white";
            corner.style.width = "fit-content";
            corner.style.margin = "0";
            corner.style.padding = "1ch";
            corner.style.border = "black 1px solid";
            corner.style.position = "absolute";
            this.append(corner);
        }
        this.repOk();
    }
    connectedCallback() {
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    /**
     * Pick places for all the nodes/edges on the screen.
     * Populates the position* rep vars.
     */
    arrange() {
        this.nodePositions.clear();
        this.edgePositions.clear();
        this.ringPositions.clear();
        this.ringElements.forEach(e => {
            this.removeChild(e);
        });
        this.ringElements.clear();
        // Place nodes on a series of rings from the center using their depth in the graph
        const levels = GraphMinipulator_1.GraphMinipulator.getLevels(this.graph, this.rootNodes, node => {
            if (node instanceof Expression_1.Expression)
                return true;
            else if (node instanceof Argument_1.Argument)
                return this.showArguments;
            else
                throw new Error("New type of node");
        });
        let maxDepth = 0;
        levels.forEach((_, depth) => {
            maxDepth = Math.max(maxDepth, depth);
        });
        const center = { x: (this.clientWidth / 2), y: this.clientHeight / 2 };
        let lastRadius = 0; //px
        // Record the positions of the last ring so that we can
        // make the graph appear planar-ish. Maps nodes to angle
        // offset in radians. Angle must be < 2*Pi
        let lastPositions = null;
        for (let depth = 0; depth < maxDepth + 1; depth++) {
            const nodes = levels.get(depth);
            /**
             * Calculating the radius of the circle
             * Suppose every root node on the starting circle requires
             * a circular space to be drawn with radius nodeRadius
             * A starting circle with n of these nodes would require a
             * circumference of n * 2nodeRadius.
             * The circumference of a circle can be expressed
             * as 2*pi*r
             * => r = n * 2 * smallR / (2 * pi)
             *      = n * smallR / pi
             */
            const nodeRadius = 70; // pixels
            let radius = Math.max(nodes.size * nodeRadius / Math.PI, lastRadius + (3 * nodeRadius));
            if (depth == 0 && nodes.size == 1)
                radius = 0;
            lastRadius = radius;
            // Minimum radians necessary to keep nodes necessarily spaced at the given depth
            const stepSize = (2 * Math.PI) / Math.max(nodes.size, radius * 2 * Math.PI / (2 * 1.2 * nodeRadius));
            // Maps nodes to angles (rad)
            const ns = new Map();
            if (lastPositions != null) {
                const idealAngles = new Map();
                for (const n of nodes) {
                    // We do not assume the graph is a tree
                    // Assume the node has a parent
                    const parent = this.graph.getNeighbors(n, "in")
                        .filter(n => levels.get(depth - 1).has(n) && lastPositions.has(n))[0];
                    const idealAngle = lastPositions.get(parent);
                    idealAngles.set(n, idealAngle);
                }
                (0, assert_1.assert)(idealAngles.size == nodes.size);
                for (let i = 0; i < nodes.size; i++) {
                    for (const pair of idealAngles) {
                        let a = 0;
                        while ((0, assert_1.for_some)(ns, p => Math.abs(p[1] - pair[1]) < stepSize)) {
                            pair[1] += stepSize * a * (Math.pow((-1), (a)));
                            a++;
                        }
                        ns.set(pair[0], pair[1]);
                    }
                }
            }
            else {
                const temp = [...nodes];
                for (let i = 0; i < nodes.size; i++) {
                    ns.set(temp[i], i * stepSize);
                }
            }
            (0, assert_1.assert)(ns.size == nodes.size, "Only produced " + ns.size + " nodes instead of " + nodes.size);
            lastPositions = new Map();
            ns.forEach((angle, node) => {
                const view = this.nodes.get(node);
                //view.style.width = "" + smallR + "px"
                //view.style.height = "" + smallR + "px"
                lastPositions.set(node, angle);
                // Get the cartesian point from the radius and angle
                const x = radius * Math.cos(angle) + center.x;
                const y = radius * Math.sin(angle) + center.y;
                this.nodePositions.set(view, Point(x, y));
            });
            (0, assert_1.assert)((0, assert_1.for_all)(lastPositions.values(), pos => pos != undefined && pos != null));
            //assert(lastPositions.size > 0)
            //assert(for_all(nodes, lastPositions.has))
            const ring = document.createElement("div");
            ring.style.border = "lightgray solid 0.3ch";
            ring.style.borderRadius = "100%";
            ring.style.position = "absolute";
            ring.style.zIndex = RING_Z;
            this.appendChild(ring);
            this.ringElements.add(ring);
            this.ringPositions.set(ring, { radius: radius });
        }
        // Now arange the edges
        this.edges.forEach((view, edge) => {
            // Find the middle of the two endpts
            const firstX = this.nodePositions.get(this.nodes.get(edge.n)).x;
            const firstY = this.nodePositions.get(this.nodes.get(edge.n)).y;
            const secondX = this.nodePositions.get(this.nodes.get(edge.n1)).x;
            const secondY = this.nodePositions.get(this.nodes.get(edge.n1)).y;
            const x = (firstX + secondX) / 2;
            const y = (firstY + secondY) / 2;
            const angle = Math.atan2(secondY - firstY, secondX - firstX);
            this.edgePositions.set(view, { x: x, y: y, angle: angle });
        });
        this.repOk();
    }
    /**
     * Update the draw position of the nodes on the screen
     * to match the offset in rep. Assumes all views have a position
     * stored in the rep. Call arrange() first.
     * Also applies the scale factor to the final draw positions,
     * invisible to everyone else.
     */
    updateOffset() {
        const center = this.center;
        const scale = this.scale;
        function applyScale(i) {
            return Point(((i.x) - center.x) * scale + center.x, ((i.y) - center.y) * scale + center.y);
        }
        this.nodePositions.forEach((pos, view) => {
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY,
            });
            view.style.left = "" + (adjusted.x - (0.5 * view.offsetWidth)) + "px";
            view.style.top = "" + (adjusted.y - (0.5 * view.offsetHeight)) + "px";
        });
        this.edgePositions.forEach((pos, view) => {
            view.setAngle(pos.angle);
            if (this.drawEdgeLines) {
                const firstPos = this.nodePositions.get(this.nodes.get(view.first));
                const secondPos = this.nodePositions.get(this.nodes.get(view.second));
                view.width = "" + (scale * Math.hypot(secondPos.x - firstPos.x, secondPos.y - firstPos.y)) + "px";
                view.style.borderBottom = "black 0.1ch solid";
                view.style.borderTop = "black 0.1ch solid";
            }
            else {
                view.width = "fit-content";
                view.style.borderBottom = "none";
                view.style.borderTop = "none";
            }
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY,
            });
            view.style.left = "" + (adjusted.x - (0.5 * view.offsetWidth)) + "px";
            view.style.top = "" + (adjusted.y - (0.5 * view.offsetHeight)) + "px";
        });
        // Overlay elements change size with scale
        this.ringPositions.forEach((pos, view) => {
            const adjustedCenterPos = applyScale({
                x: center.x + this.offsetX,
                y: center.y + this.offsetY,
            });
            view.style.left = "" + (adjustedCenterPos.x - (pos.radius * scale)) + "px";
            view.style.top = "" + (adjustedCenterPos.y - (pos.radius * scale)) + "px";
            view.style.width = "" + pos.radius * 2 * scale + "px";
            view.style.aspectRatio = "1";
        });
        this.explanationPopups.forEach(val => {
            const view = val.e;
            const pos = val.pos;
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY,
            });
            view.style.left = "" + (adjusted.x - (0.5 * view.offsetWidth)) + "px";
            view.style.top = "" + (adjusted.y - (0.5 * view.offsetHeight)) + "px";
        });
        this.repOk();
    }
    /**
     * Map from relative screen coordinates (where tl of this view is (0,0))
     * to the internal coordinate system we're using.
     */
    getInternalPos(pixelPos) {
        const center = this.center;
        const scale = this.scale;
        return Point((pixelPos.x - center.x) / scale + center.x - this.offsetX, (pixelPos.y - center.y) / scale + center.y - this.offsetY);
    }
    /**
     * React to an edge being clicked.
     * @param view In this view
     * @param event The click event
     */
    edgeClicked(view, event) {
        // TODO: Don't allow dupliate explanation popups
        if (view.edge instanceof Argument_1.Argument) {
            const popup = new ExplanationPopup_1.ExplanationPopup(view.edge, () => {
                this.removeChild(popup);
                for (let i = 0; i < this.explanationPopups.length; i++) {
                    if (this.explanationPopups[i].e === popup) {
                        this.explanationPopups.splice(i, 1);
                        break;
                    }
                }
            });
            const rect = this.getBoundingClientRect();
            const realtiveX = event.clientX - rect.left;
            const relativeY = event.clientY - rect.top;
            //TODO: The position isn't correct
            //TODO: Algorithm for picking where we should put the popup so it stays out
            // of the way of the graph
            this.explanationPopups.push({
                e: popup,
                pos: this.getInternalPos(Point(realtiveX, relativeY)),
            });
            popup.style.position = "absolute";
            this.append(popup);
            this.updateOffset();
        }
        this.reorderViewStack(view);
        this.repOk();
    }
    /**
     * Set the z-index of all the elements in the graph
     * putting the given root on top and it's neighbors
     * right beneath it etc.
     * @param root
     */
    reorderViewStack(root) {
        if (root instanceof GraphNodeView_1.GraphNodeView)
            throw new Error("Not implemented");
        if (root instanceof EdgeView_1.EdgeView) {
            const roots = [root.first, root.second];
            const stackingOrder = GraphMinipulator_1.GraphMinipulator.getLevels(this.graph, roots);
            stackingOrder.forEach((nodeSet, depth) => {
                nodeSet.forEach(node => {
                    if (!this.showArguments && node instanceof Argument_1.Argument)
                        return;
                    console.log("Adjusting");
                    const nodeView = this.nodes.get(node);
                    nodeView.style.zIndex = (NODE_MAX_Z - 0.0001 * depth).toString();
                    // Edges
                    this.edges.forEach((edge, key) => {
                        if (edge.first === node || edge.second === node) {
                            edge.style.zIndex = (EDGE_MAX_Z - 0.0001 * depth).toString();
                        }
                    });
                });
            });
        }
    }
    repOk() {
        (0, assert_1.assert)(this.rootNodes.size > 0);
        (0, assert_1.assert)(GraphMinipulator_1.GraphMinipulator.isConnected(this.graph), "Graph not connected");
        if (this.showArguments)
            (0, assert_1.assert)(this.graph.getNodes().size == this.nodes.size);
    }
}
exports.WebGraphView = WebGraphView;
customElements.define("web-graphview", WebGraphView, { extends: "div" });
function Point(x, y, angle = undefined) {
    if (angle == undefined)
        return {
            x: x,
            y: y,
        };
    return {
        x: x,
        y: y,
        angle: angle,
    };
}
// Z Index constants
const DEBUG_WINDOW_Z = "100";
const NODE_MAX_Z = 5;
const NODE_MIN_Z = "4.000001";
const EDGE_MAX_Z = 4;
const EDGE_MIN_Z = "3.000001";
const RING_Z = "-10";


/***/ }),

/***/ "./src/mathlib/userinput/AntlrMathParser.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/AntlrMathParser.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parseExpression = void 0;
const antlr4_1 = __importDefault(__webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs"));
const { CommonTokenStream, CharStream } = antlr4_1.default;
const arithmeticLexer_1 = __importDefault(__webpack_require__(/*! ./arithmeticLexer */ "./src/mathlib/userinput/arithmeticLexer.ts"));
const arithmeticParser_1 = __importDefault(__webpack_require__(/*! ./arithmeticParser */ "./src/mathlib/userinput/arithmeticParser.ts"));
const MathVisitorImpl_1 = __webpack_require__(/*! ./MathVisitorImpl */ "./src/mathlib/userinput/MathVisitorImpl.ts");
const Flattener_1 = __webpack_require__(/*! ./Flattener */ "./src/mathlib/userinput/Flattener.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Parses the given input string to an expression.
 * @param input See the gramar file (.g4)
 * @returns
 */
function parseExpression(input) {
    const stream = new CharStream(input, true);
    const lexer = new arithmeticLexer_1.default(stream);
    const tokens = new CommonTokenStream(lexer);
    const parser = new arithmeticParser_1.default(tokens);
    //parser.buildParseTrees = true
    const tree = parser.expression();
    tree.accept(new Flattener_1.Flattener());
    // Print debug info
    //tree.accept(new PrintVisitor())
    const result = tree.accept(new MathVisitorImpl_1.ExpressionVisitor());
    (0, assert_1.assert)(result != null && result != undefined);
    return result;
}
exports.parseExpression = parseExpression;


/***/ }),

/***/ "./src/mathlib/userinput/Flattener.ts":
/*!********************************************!*\
  !*** ./src/mathlib/userinput/Flattener.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Flattener = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const arithmeticParser_1 = __webpack_require__(/*! ./arithmeticParser */ "./src/mathlib/userinput/arithmeticParser.ts");
const arithmeticVisitor_1 = __importDefault(__webpack_require__(/*! ./arithmeticVisitor */ "./src/mathlib/userinput/arithmeticVisitor.ts"));
/**
 * Visitor that flattens sums and products in ASTs.
 * a + (b + c) -> a + b + c
 *
 * This only happens if b + c isn't actually surrounded
 * by parens.
 *
 *        +
 *       / \
 *      a   +
 *         / \
 *        b   c
 *
 * becomes
 *
 *       +
 *      /|\
 *     a b c
 *
 *
 */
class Flattener extends arithmeticVisitor_1.default {
    constructor() {
        super(...arguments);
        this.visitSum = (ctx) => {
            const flattened = this.flattenAddition(ctx);
            for (const child of flattened.children) {
                this.visit(child);
            }
            return flattened;
        };
        this.visitProduct = (ctx) => {
            const flattened = this.flattenProduct(ctx);
            for (const child of flattened.children) {
                this.visit(child);
            }
            return flattened;
        };
    }
    printChildren(ctx) {
        let result = "";
        for (const child of ctx.children) {
            result += child.getText() + "  ";
        }
        console.log(result);
        //console.log(ctx.toStringTree(null, ctx.parser!))
    }
    /**
     * If the given sum's children are also sums,
     * sets those sums parents to the ctx.
     * The given sumcontext and all its sum children
     * must have exactly 2 expression part children.
     * This prevents the mind fuck of rearranging the
     * AST on the way back out.
     */
    flattenAddition(ctx) {
        // Check if children are sums
        // Reach down and take their children
        function takeChildren(child) {
            (0, ConvenientExpressions_1.remove)(ctx.children, child);
            // Move the expression up
            if (child._right instanceof arithmeticParser_1.SumContext) {
                takeChildren(child._right);
            }
            else {
                child._right.parentCtx = ctx;
                ctx.children.unshift(child._right);
            }
            // TODO: This isn't always correct because negation of sums
            // Or is is...
            // Also look at product flattening
            // Move the operator up
            if (child.MINUS() != null) {
                child.MINUS().parentCtx = ctx;
                ctx.children.unshift(child.MINUS());
                //remove(child.children!, child.MINUS())
            }
            else {
                child.PLUS().parentCtx = ctx;
                ctx.children.unshift(child.PLUS());
                //remove(child.children!, child.PLUS())
            }
            if (child._left instanceof arithmeticParser_1.SumContext) {
                takeChildren(child._left);
            }
            else {
                child._left.parentCtx = ctx;
                ctx.children.unshift(child._left);
            }
            child.parentCtx = undefined;
        }
        if (ctx._left instanceof arithmeticParser_1.SumContext)
            takeChildren(ctx._left);
        if (ctx._right instanceof arithmeticParser_1.SumContext)
            takeChildren(ctx._right);
        return ctx;
    }
    flattenProduct(ctx) {
        //console.log("Flattening product " + ctx.getText() + " to")
        function instanceOfProduct(child) {
            return child instanceof arithmeticParser_1.ProductContext;
        }
        // Check if children are sums
        // Reach down and take their children
        function takeChildren(child) {
            (0, ConvenientExpressions_1.remove)(ctx.children, child);
            if (instanceOfProduct(child._right)) {
                takeChildren(child._right);
            }
            else {
                child._right.parentCtx = ctx;
                ctx.children.unshift(child._right);
            }
            // Move the operator up
            if (child.TIMES() != null) {
                child.TIMES().parentCtx = ctx;
                ctx.children.unshift(child.TIMES());
            }
            if (instanceOfProduct(child._left)) {
                takeChildren(child._left);
            }
            else {
                child._left.parentCtx = ctx;
                ctx.children.unshift(child._left);
            }
            child.parentCtx = undefined;
        }
        if (instanceOfProduct(ctx._left))
            takeChildren(ctx._left);
        if (instanceOfProduct(ctx._right))
            takeChildren(ctx._right);
        //console.log(ctx.getText())
        return ctx;
    }
}
exports.Flattener = Flattener;


/***/ }),

/***/ "./src/mathlib/userinput/MathVisitorImpl.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/MathVisitorImpl.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionVisitor = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Integral_1 = __webpack_require__(/*! ../expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Logarithm_1 = __webpack_require__(/*! ../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ../expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const arithmeticVisitor_1 = __importDefault(__webpack_require__(/*! ./arithmeticVisitor */ "./src/mathlib/userinput/arithmeticVisitor.ts"));
/**
 * Reads out an expression.
 */
class ExpressionVisitor extends arithmeticVisitor_1.default {
    constructor() {
        super(...arguments);
        this.visitExpression = (ctx) => {
            return this.visit(ctx.open());
        };
        this.visitEquation = (ctx) => {
            throw new Error("Can't parse equations with this visitor");
        };
        this.visitPower = (ctx) => {
            //console.log("Power")
            //this.printChildren(ctx)
            //console.log(ctx._left.getText())
            //console.log(ctx._right.getText())
            return Exponent_1.Exponent.of(this.visit(ctx._left), this.visit(ctx._right));
        };
        this.visitParen = (ctx) => {
            return this.visit(ctx.open());
        };
        this.visitDivision = (ctx) => {
            return Fraction_1.Fraction.of(this.visit(ctx._left), this.visit(ctx._right));
        };
        this.visitProduct = (ctx) => {
            return Product_1.Product.of([
                ...ctx.closed_list().map(exp => this.visit(exp))
            ]);
        };
        this.visitRight_ClosedImplicitProduct = (ctx) => {
            //console.log("Right closed implicit product of context")
            //this.printChildren(ctx)
            return Product_1.Product.of([
                this.visit(ctx._left),
                this.visit(ctx._right)
            ]);
        };
        this.visitIntegral = (ctx) => {
            return Integral_1.Integral.of(this.visit(ctx._integrand), Variable_1.Variable.of('x'));
        };
        this.visitLog = (ctx) => {
            return Logarithm_1.Logarithm.of(this.visit(ctx._content), ctx._base == undefined ? Integer_1.Integer.of(10) : this.visit(ctx._base));
        };
        // visitUnaryOnAtom = (ctx: UnaryOnAtomContext): Expression => {
        //     const isPositive = ctx.MINUS_list.length % 2 == 0
        //     if (isPositive)
        //         return this.visit(ctx.atom())
        //     return negative(this.visit(ctx.atom()))
        // }
        this.visitUnaryOnExpression = (ctx) => {
            const isPositive = ctx.MINUS() == null;
            if (isPositive)
                return this.visit(ctx.closed());
            return (0, ConvenientExpressions_1.negative)(this.visit(ctx.closed()));
        };
        this.visitSum = (ctx) => {
            // console.log("Visiting sum with " + ctx.children!.length + " children: " + ctx.toStringTree(null, ctx.parser!))
            // this.printChildren(ctx)
            // Sum of plus and minus components
            const terms = [this.visit(ctx.children[0])];
            for (let i = 1; i < ctx.children.length; i += 2) {
                if (ctx.children[i].getText() == '-')
                    terms.push((0, ConvenientExpressions_1.negative)(this.visit(ctx.children[i + 1])));
                else {
                    terms.push(this.visit(ctx.children[i + 1]));
                }
            }
            //console.log("Printing made terms")
            for (const term of terms) {
                //console.log("  " + term.toString())
            }
            //console.log("done")
            return Sum_1.Sum.of(terms);
        };
        // visitExpression = (ctx: ExpressionContext): Expression => {
        //     // Guess what expression type it is, following pemdas
        //     if ((ctx.PLUS(0) != null || ctx.MINUS(0) != null) 
        //             && (ctx.expression_list().length ?? 0) > 1) {
        //     } else {
        //         console.log("Unknown expression type")
        //         for (const key of Object.keys(ctx)) {
        //             console.log(`${key}: ${(ctx as any)[key]}`)
        //         }
        //         for (const key of Object.getOwnPropertyNames(ctx)) {
        //             console.log(`${key}: ${(ctx as any)[key]}`)
        //         }
        //         console.log("Expressions: " + ctx.expression_list().length)
        //         console.log("Num children: " + ctx.children!.length)
        //         if (ctx.children?.length ?? 0 > 0)
        //             for (const child of ctx.children!) {
        //                 console.log("Child: " + child.getText())
        //             }
        //         throw new Error("Not implemented 1")
        //     }
        // };
        this.visitAtom = (ctx) => {
            if (ctx.VARIABLE() != null) {
                return Variable_1.Variable.of(ctx.VARIABLE().getText());
            }
            else if (ctx.SCIENTIFIC_NUMBER() != null) {
                return Integer_1.Integer.of(Number.parseFloat(ctx.SCIENTIFIC_NUMBER().getText()));
            }
            else {
                throw new Error("Not implemented");
            }
        };
        this.visitClosedAtom = (ctx) => {
            return this.visit(ctx.atom());
        };
        this.visitClosedIsRight_Closed = (ctx) => {
            return this.visit(ctx.closed());
        };
        this.visitRight_ClosedIsOpen = (ctx) => {
            return this.visit(ctx.right_closed());
        };
        this.visitRelop = (ctx) => {
            throw new Error("Shouldn't happen with this visitor impl");
        };
    }
    printChildren(ctx) {
        let result = "";
        for (const child of ctx.children) {
            result += child.getText() + "  ";
        }
        console.log(result);
    }
}
exports.ExpressionVisitor = ExpressionVisitor;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticLexer.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticLexer.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
// noinspection ES6UnusedImports,JSUnusedGlobalSymbols,JSUnusedLocalSymbols
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
class arithmeticLexer extends antlr4_1.Lexer {
    constructor(input) {
        super(input);
        this._interp = new antlr4_1.LexerATNSimulator(this, arithmeticLexer._ATN, arithmeticLexer.DecisionsToDFA, new antlr4_1.PredictionContextCache());
    }
    get grammarFileName() { return "arithmetic.g4"; }
    get literalNames() { return arithmeticLexer.literalNames; }
    get symbolicNames() { return arithmeticLexer.symbolicNames; }
    get ruleNames() { return arithmeticLexer.ruleNames; }
    get serializedATN() { return arithmeticLexer._serializedATN; }
    get channelNames() { return arithmeticLexer.channelNames; }
    get modeNames() { return arithmeticLexer.modeNames; }
    static get _ATN() {
        if (!arithmeticLexer.__ATN) {
            arithmeticLexer.__ATN = new antlr4_1.ATNDeserializer().deserialize(arithmeticLexer._serializedATN);
        }
        return arithmeticLexer.__ATN;
    }
}
arithmeticLexer.SCIENTIFIC_NUMBER = 1;
arithmeticLexer.LPAREN = 2;
arithmeticLexer.RPAREN = 3;
arithmeticLexer.PLUS = 4;
arithmeticLexer.MINUS = 5;
arithmeticLexer.TIMES = 6;
arithmeticLexer.DIV = 7;
arithmeticLexer.GT = 8;
arithmeticLexer.LT = 9;
arithmeticLexer.EQ = 10;
arithmeticLexer.POINT = 11;
arithmeticLexer.POW = 12;
arithmeticLexer.INT = 13;
arithmeticLexer.LOG = 14;
arithmeticLexer.VARIABLE = 15;
arithmeticLexer.WS = 16;
arithmeticLexer.EOF = antlr4_1.Token.EOF;
arithmeticLexer.channelNames = ["DEFAULT_TOKEN_CHANNEL", "HIDDEN"];
arithmeticLexer.literalNames = [null, null,
    "'('", "')'",
    "'+'", "'-'",
    null, "'/'",
    "'>'", "'<'",
    "'='", "'.'",
    "'^'"];
arithmeticLexer.symbolicNames = [null, "SCIENTIFIC_NUMBER",
    "LPAREN", "RPAREN",
    "PLUS", "MINUS",
    "TIMES", "DIV",
    "GT", "LT",
    "EQ", "POINT",
    "POW", "INT",
    "LOG", "VARIABLE",
    "WS"];
arithmeticLexer.modeNames = ["DEFAULT_MODE",];
arithmeticLexer.ruleNames = [
    "SCIENTIFIC_NUMBER", "NUMBER", "UNSIGNED_INTEGER", "E", "L", "O", "G",
    "SIGN", "LPAREN", "RPAREN", "PLUS", "MINUS", "TIMES", "DIV", "GT", "LT",
    "EQ", "POINT", "POW", "INT", "LOG", "VARIABLE", "WS",
];
arithmeticLexer._serializedATN = [4, 0, 16, 123, 6, -1, 2, 0,
    7, 0, 2, 1, 7, 1, 2, 2, 7, 2, 2, 3, 7, 3, 2, 4, 7, 4, 2, 5, 7, 5, 2, 6, 7, 6, 2, 7, 7, 7, 2, 8, 7, 8, 2, 9,
    7, 9, 2, 10, 7, 10, 2, 11, 7, 11, 2, 12, 7, 12, 2, 13, 7, 13, 2, 14, 7, 14, 2, 15, 7, 15, 2, 16, 7,
    16, 2, 17, 7, 17, 2, 18, 7, 18, 2, 19, 7, 19, 2, 20, 7, 20, 2, 21, 7, 21, 2, 22, 7, 22, 1, 0, 1, 0,
    1, 0, 3, 0, 51, 8, 0, 1, 0, 1, 0, 3, 0, 55, 8, 0, 1, 1, 4, 1, 58, 8, 1, 11, 1, 12, 1, 59, 1, 1, 1, 1, 4,
    1, 64, 8, 1, 11, 1, 12, 1, 65, 3, 1, 68, 8, 1, 1, 2, 4, 2, 71, 8, 2, 11, 2, 12, 2, 72, 1, 3, 1, 3, 1,
    4, 1, 4, 1, 5, 1, 5, 1, 6, 1, 6, 1, 7, 1, 7, 1, 8, 1, 8, 1, 9, 1, 9, 1, 10, 1, 10, 1, 11, 1, 11, 1, 12,
    1, 12, 1, 13, 1, 13, 1, 14, 1, 14, 1, 15, 1, 15, 1, 16, 1, 16, 1, 17, 1, 17, 1, 18, 1, 18, 1, 19, 1,
    19, 1, 19, 1, 19, 1, 20, 1, 20, 1, 20, 1, 20, 1, 21, 1, 21, 1, 22, 4, 22, 118, 8, 22, 11, 22, 12,
    22, 119, 1, 22, 1, 22, 0, 0, 23, 1, 1, 3, 0, 5, 0, 7, 0, 9, 0, 11, 0, 13, 0, 15, 0, 17, 2, 19, 3, 21,
    4, 23, 5, 25, 6, 27, 7, 29, 8, 31, 9, 33, 10, 35, 11, 37, 12, 39, 13, 41, 14, 43, 15, 45, 16, 1,
    0, 11, 2, 0, 69, 69, 101, 101, 2, 0, 76, 76, 108, 108, 2, 0, 79, 79, 111, 111, 2, 0, 71, 71, 103,
    103, 2, 0, 43, 43, 45, 45, 2, 0, 42, 42, 183, 183, 2, 0, 73, 73, 105, 105, 2, 0, 78, 78, 110, 110,
    2, 0, 84, 84, 116, 116, 2, 0, 65, 90, 97, 122, 3, 0, 9, 10, 13, 13, 32, 32, 122, 0, 1, 1, 0, 0, 0,
    0, 17, 1, 0, 0, 0, 0, 19, 1, 0, 0, 0, 0, 21, 1, 0, 0, 0, 0, 23, 1, 0, 0, 0, 0, 25, 1, 0, 0, 0, 0, 27, 1,
    0, 0, 0, 0, 29, 1, 0, 0, 0, 0, 31, 1, 0, 0, 0, 0, 33, 1, 0, 0, 0, 0, 35, 1, 0, 0, 0, 0, 37, 1, 0, 0, 0,
    0, 39, 1, 0, 0, 0, 0, 41, 1, 0, 0, 0, 0, 43, 1, 0, 0, 0, 0, 45, 1, 0, 0, 0, 1, 47, 1, 0, 0, 0, 3, 57, 1,
    0, 0, 0, 5, 70, 1, 0, 0, 0, 7, 74, 1, 0, 0, 0, 9, 76, 1, 0, 0, 0, 11, 78, 1, 0, 0, 0, 13, 80, 1, 0, 0,
    0, 15, 82, 1, 0, 0, 0, 17, 84, 1, 0, 0, 0, 19, 86, 1, 0, 0, 0, 21, 88, 1, 0, 0, 0, 23, 90, 1, 0, 0, 0,
    25, 92, 1, 0, 0, 0, 27, 94, 1, 0, 0, 0, 29, 96, 1, 0, 0, 0, 31, 98, 1, 0, 0, 0, 33, 100, 1, 0, 0, 0,
    35, 102, 1, 0, 0, 0, 37, 104, 1, 0, 0, 0, 39, 106, 1, 0, 0, 0, 41, 110, 1, 0, 0, 0, 43, 114, 1, 0,
    0, 0, 45, 117, 1, 0, 0, 0, 47, 54, 3, 3, 1, 0, 48, 50, 3, 7, 3, 0, 49, 51, 3, 15, 7, 0, 50, 49, 1, 0,
    0, 0, 50, 51, 1, 0, 0, 0, 51, 52, 1, 0, 0, 0, 52, 53, 3, 5, 2, 0, 53, 55, 1, 0, 0, 0, 54, 48, 1, 0, 0,
    0, 54, 55, 1, 0, 0, 0, 55, 2, 1, 0, 0, 0, 56, 58, 2, 48, 57, 0, 57, 56, 1, 0, 0, 0, 58, 59, 1, 0, 0,
    0, 59, 57, 1, 0, 0, 0, 59, 60, 1, 0, 0, 0, 60, 67, 1, 0, 0, 0, 61, 63, 5, 46, 0, 0, 62, 64, 2, 48, 57,
    0, 63, 62, 1, 0, 0, 0, 64, 65, 1, 0, 0, 0, 65, 63, 1, 0, 0, 0, 65, 66, 1, 0, 0, 0, 66, 68, 1, 0, 0, 0,
    67, 61, 1, 0, 0, 0, 67, 68, 1, 0, 0, 0, 68, 4, 1, 0, 0, 0, 69, 71, 2, 48, 57, 0, 70, 69, 1, 0, 0, 0,
    71, 72, 1, 0, 0, 0, 72, 70, 1, 0, 0, 0, 72, 73, 1, 0, 0, 0, 73, 6, 1, 0, 0, 0, 74, 75, 7, 0, 0, 0, 75,
    8, 1, 0, 0, 0, 76, 77, 7, 1, 0, 0, 77, 10, 1, 0, 0, 0, 78, 79, 7, 2, 0, 0, 79, 12, 1, 0, 0, 0, 80, 81,
    7, 3, 0, 0, 81, 14, 1, 0, 0, 0, 82, 83, 7, 4, 0, 0, 83, 16, 1, 0, 0, 0, 84, 85, 5, 40, 0, 0, 85, 18,
    1, 0, 0, 0, 86, 87, 5, 41, 0, 0, 87, 20, 1, 0, 0, 0, 88, 89, 5, 43, 0, 0, 89, 22, 1, 0, 0, 0, 90, 91,
    5, 45, 0, 0, 91, 24, 1, 0, 0, 0, 92, 93, 7, 5, 0, 0, 93, 26, 1, 0, 0, 0, 94, 95, 5, 47, 0, 0, 95, 28,
    1, 0, 0, 0, 96, 97, 5, 62, 0, 0, 97, 30, 1, 0, 0, 0, 98, 99, 5, 60, 0, 0, 99, 32, 1, 0, 0, 0, 100, 101,
    5, 61, 0, 0, 101, 34, 1, 0, 0, 0, 102, 103, 5, 46, 0, 0, 103, 36, 1, 0, 0, 0, 104, 105, 5, 94, 0,
    0, 105, 38, 1, 0, 0, 0, 106, 107, 7, 6, 0, 0, 107, 108, 7, 7, 0, 0, 108, 109, 7, 8, 0, 0, 109, 40,
    1, 0, 0, 0, 110, 111, 3, 9, 4, 0, 111, 112, 3, 11, 5, 0, 112, 113, 3, 13, 6, 0, 113, 42, 1, 0, 0,
    0, 114, 115, 7, 9, 0, 0, 115, 44, 1, 0, 0, 0, 116, 118, 7, 10, 0, 0, 117, 116, 1, 0, 0, 0, 118, 119,
    1, 0, 0, 0, 119, 117, 1, 0, 0, 0, 119, 120, 1, 0, 0, 0, 120, 121, 1, 0, 0, 0, 121, 122, 6, 22, 0,
    0, 122, 46, 1, 0, 0, 0, 8, 0, 50, 54, 59, 65, 67, 72, 119, 1, 6, 0, 0];
arithmeticLexer.DecisionsToDFA = arithmeticLexer._ATN.decisionToState.map((ds, index) => new antlr4_1.DFA(ds, index));
exports["default"] = arithmeticLexer;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticParser.ts":
/*!***************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticParser.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
// noinspection ES6UnusedImports,JSUnusedGlobalSymbols,JSUnusedLocalSymbols
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RelopContext = exports.AtomContext = exports.SumContext = exports.Right_ClosedIsOpenContext = exports.OpenContext = exports.Right_ClosedImplicitProductContext = exports.ClosedIsRight_ClosedContext = exports.UnaryOnExpressionContext = exports.Right_closedContext = exports.ParenContext = exports.PowerContext = exports.ClosedAtomContext = exports.DivisionContext = exports.ProductContext = exports.IntegralContext = exports.LogContext = exports.ClosedContext = exports.ExpressionContext = exports.EquationContext = void 0;
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
class arithmeticParser extends antlr4_1.Parser {
    get grammarFileName() { return "arithmetic.g4"; }
    get literalNames() { return arithmeticParser.literalNames; }
    get symbolicNames() { return arithmeticParser.symbolicNames; }
    get ruleNames() { return arithmeticParser.ruleNames; }
    get serializedATN() { return arithmeticParser._serializedATN; }
    createFailedPredicateException(predicate, message) {
        return new antlr4_1.FailedPredicateException(this, predicate, message);
    }
    constructor(input) {
        super(input);
        this._interp = new antlr4_1.ParserATNSimulator(this, arithmeticParser._ATN, arithmeticParser.DecisionsToDFA, new antlr4_1.PredictionContextCache());
    }
    // @RuleVersion(0)
    equation() {
        let localctx = new EquationContext(this, this._ctx, this.state);
        this.enterRule(localctx, 0, arithmeticParser.RULE_equation);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 14;
                this.expression();
                this.state = 15;
                this.relop();
                this.state = 16;
                this.expression();
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    expression() {
        let localctx = new ExpressionContext(this, this._ctx, this.state);
        this.enterRule(localctx, 2, arithmeticParser.RULE_expression);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 18;
                this.open(0);
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    closed(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new ClosedContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 4;
        this.enterRecursionRule(localctx, 4, arithmeticParser.RULE_closed, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 33;
                this._errHandler.sync(this);
                switch (this._input.LA(1)) {
                    case 2:
                        {
                            localctx = new ParenContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 21;
                            this.match(arithmeticParser.LPAREN);
                            this.state = 22;
                            this.open(0);
                            this.state = 23;
                            this.match(arithmeticParser.RPAREN);
                        }
                        break;
                    case 1:
                    case 15:
                        {
                            localctx = new ClosedAtomContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 25;
                            this.atom();
                        }
                        break;
                    case 13:
                        {
                            localctx = new IntegralContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 26;
                            this.match(arithmeticParser.INT);
                            this.state = 27;
                            localctx._integrand = this.closed(5);
                        }
                        break;
                    case 14:
                        {
                            localctx = new LogContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 28;
                            this.match(arithmeticParser.LOG);
                            this.state = 30;
                            this._errHandler.sync(this);
                            switch (this._interp.adaptivePredict(this._input, 0, this._ctx)) {
                                case 1:
                                    {
                                        this.state = 29;
                                        localctx._base = this.closed(0);
                                    }
                                    break;
                            }
                            this.state = 32;
                            localctx._content = this.closed(1);
                        }
                        break;
                    default:
                        throw new antlr4_1.NoViableAltException(this);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 48;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 4, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            this.state = 46;
                            this._errHandler.sync(this);
                            switch (this._interp.adaptivePredict(this._input, 3, this._ctx)) {
                                case 1:
                                    {
                                        localctx = new DivisionContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left = _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 35;
                                        if (!(this.precpred(this._ctx, 4))) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 4)");
                                        }
                                        this.state = 36;
                                        this.match(arithmeticParser.DIV);
                                        this.state = 37;
                                        localctx._right = this.closed(5);
                                    }
                                    break;
                                case 2:
                                    {
                                        localctx = new PowerContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left = _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 38;
                                        if (!(this.precpred(this._ctx, 3))) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 3)");
                                        }
                                        this.state = 39;
                                        this.match(arithmeticParser.POW);
                                        this.state = 40;
                                        localctx._right = this.closed(4);
                                    }
                                    break;
                                case 3:
                                    {
                                        localctx = new ProductContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left = _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 41;
                                        if (!(this.precpred(this._ctx, 2))) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 2)");
                                        }
                                        this.state = 43;
                                        this._errHandler.sync(this);
                                        _la = this._input.LA(1);
                                        if (_la === 6) {
                                            {
                                                this.state = 42;
                                                this.match(arithmeticParser.TIMES);
                                            }
                                        }
                                        this.state = 45;
                                        localctx._right = this.closed(3);
                                    }
                                    break;
                            }
                        }
                    }
                    this.state = 50;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 4, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    right_closed(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new Right_closedContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 6;
        this.enterRecursionRule(localctx, 6, arithmeticParser.RULE_right_closed, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 55;
                this._errHandler.sync(this);
                switch (this._input.LA(1)) {
                    case 1:
                    case 2:
                    case 13:
                    case 14:
                    case 15:
                        {
                            localctx = new ClosedIsRight_ClosedContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 52;
                            this.closed(0);
                        }
                        break;
                    case 4:
                    case 5:
                        {
                            localctx = new UnaryOnExpressionContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 53;
                            _la = this._input.LA(1);
                            if (!(_la === 4 || _la === 5)) {
                                this._errHandler.recoverInline(this);
                            }
                            else {
                                this._errHandler.reportMatch(this);
                                this.consume();
                            }
                            this.state = 54;
                            this.closed(0);
                        }
                        break;
                    default:
                        throw new antlr4_1.NoViableAltException(this);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 61;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 6, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            {
                                localctx = new Right_ClosedImplicitProductContext(this, new Right_closedContext(this, _parentctx, _parentState));
                                localctx._left = _prevctx;
                                this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_right_closed);
                                this.state = 57;
                                if (!(this.precpred(this._ctx, 1))) {
                                    throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");
                                }
                                this.state = 58;
                                localctx._right = this.closed(0);
                            }
                        }
                    }
                    this.state = 63;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 6, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    open(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new OpenContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 8;
        this.enterRecursionRule(localctx, 8, arithmeticParser.RULE_open, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                {
                    localctx = new Right_ClosedIsOpenContext(this, localctx);
                    this._ctx = localctx;
                    _prevctx = localctx;
                    this.state = 65;
                    this.right_closed(0);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 72;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 7, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            {
                                localctx = new SumContext(this, new OpenContext(this, _parentctx, _parentState));
                                localctx._left = _prevctx;
                                this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_open);
                                this.state = 67;
                                if (!(this.precpred(this._ctx, 1))) {
                                    throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");
                                }
                                this.state = 68;
                                _la = this._input.LA(1);
                                if (!(_la === 4 || _la === 5)) {
                                    this._errHandler.recoverInline(this);
                                }
                                else {
                                    this._errHandler.reportMatch(this);
                                    this.consume();
                                }
                                this.state = 69;
                                localctx._right = this.right_closed(0);
                            }
                        }
                    }
                    this.state = 74;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 7, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    atom() {
        let localctx = new AtomContext(this, this._ctx, this.state);
        this.enterRule(localctx, 10, arithmeticParser.RULE_atom);
        let _la;
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 75;
                _la = this._input.LA(1);
                if (!(_la === 1 || _la === 15)) {
                    this._errHandler.recoverInline(this);
                }
                else {
                    this._errHandler.reportMatch(this);
                    this.consume();
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    relop() {
        let localctx = new RelopContext(this, this._ctx, this.state);
        this.enterRule(localctx, 12, arithmeticParser.RULE_relop);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 77;
                this.match(arithmeticParser.EQ);
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    sempred(localctx, ruleIndex, predIndex) {
        switch (ruleIndex) {
            case 2:
                return this.closed_sempred(localctx, predIndex);
            case 3:
                return this.right_closed_sempred(localctx, predIndex);
            case 4:
                return this.open_sempred(localctx, predIndex);
        }
        return true;
    }
    closed_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 0:
                return this.precpred(this._ctx, 4);
            case 1:
                return this.precpred(this._ctx, 3);
            case 2:
                return this.precpred(this._ctx, 2);
        }
        return true;
    }
    right_closed_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 3:
                return this.precpred(this._ctx, 1);
        }
        return true;
    }
    open_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 4:
                return this.precpred(this._ctx, 1);
        }
        return true;
    }
    static get _ATN() {
        if (!arithmeticParser.__ATN) {
            arithmeticParser.__ATN = new antlr4_1.ATNDeserializer().deserialize(arithmeticParser._serializedATN);
        }
        return arithmeticParser.__ATN;
    }
}
arithmeticParser.SCIENTIFIC_NUMBER = 1;
arithmeticParser.LPAREN = 2;
arithmeticParser.RPAREN = 3;
arithmeticParser.PLUS = 4;
arithmeticParser.MINUS = 5;
arithmeticParser.TIMES = 6;
arithmeticParser.DIV = 7;
arithmeticParser.GT = 8;
arithmeticParser.LT = 9;
arithmeticParser.EQ = 10;
arithmeticParser.POINT = 11;
arithmeticParser.POW = 12;
arithmeticParser.INT = 13;
arithmeticParser.LOG = 14;
arithmeticParser.VARIABLE = 15;
arithmeticParser.WS = 16;
arithmeticParser.EOF = antlr4_1.Token.EOF;
arithmeticParser.RULE_equation = 0;
arithmeticParser.RULE_expression = 1;
arithmeticParser.RULE_closed = 2;
arithmeticParser.RULE_right_closed = 3;
arithmeticParser.RULE_open = 4;
arithmeticParser.RULE_atom = 5;
arithmeticParser.RULE_relop = 6;
arithmeticParser.literalNames = [null, null,
    "'('", "')'",
    "'+'", "'-'",
    null, "'/'",
    "'>'", "'<'",
    "'='", "'.'",
    "'^'"];
arithmeticParser.symbolicNames = [null, "SCIENTIFIC_NUMBER",
    "LPAREN", "RPAREN",
    "PLUS", "MINUS",
    "TIMES", "DIV",
    "GT", "LT",
    "EQ", "POINT",
    "POW", "INT",
    "LOG", "VARIABLE",
    "WS"];
// tslint:disable:no-trailing-whitespace
arithmeticParser.ruleNames = [
    "equation", "expression", "closed", "right_closed", "open", "atom", "relop",
];
arithmeticParser._serializedATN = [4, 1, 16, 80, 2, 0, 7, 0, 2,
    1, 7, 1, 2, 2, 7, 2, 2, 3, 7, 3, 2, 4, 7, 4, 2, 5, 7, 5, 2, 6, 7, 6, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1,
    2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 3, 2, 31, 8, 2, 1, 2, 3, 2, 34, 8, 2, 1, 2, 1, 2,
    1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 3, 2, 44, 8, 2, 1, 2, 5, 2, 47, 8, 2, 10, 2, 12, 2, 50, 9, 2, 1, 3,
    1, 3, 1, 3, 1, 3, 3, 3, 56, 8, 3, 1, 3, 1, 3, 5, 3, 60, 8, 3, 10, 3, 12, 3, 63, 9, 3, 1, 4, 1, 4, 1, 4,
    1, 4, 1, 4, 1, 4, 5, 4, 71, 8, 4, 10, 4, 12, 4, 74, 9, 4, 1, 5, 1, 5, 1, 6, 1, 6, 1, 6, 0, 3, 4, 6, 8, 7,
    0, 2, 4, 6, 8, 10, 12, 0, 2, 1, 0, 4, 5, 2, 0, 1, 1, 15, 15, 83, 0, 14, 1, 0, 0, 0, 2, 18, 1, 0, 0, 0,
    4, 33, 1, 0, 0, 0, 6, 55, 1, 0, 0, 0, 8, 64, 1, 0, 0, 0, 10, 75, 1, 0, 0, 0, 12, 77, 1, 0, 0, 0, 14, 15,
    3, 2, 1, 0, 15, 16, 3, 12, 6, 0, 16, 17, 3, 2, 1, 0, 17, 1, 1, 0, 0, 0, 18, 19, 3, 8, 4, 0, 19, 3, 1,
    0, 0, 0, 20, 21, 6, 2, -1, 0, 21, 22, 5, 2, 0, 0, 22, 23, 3, 8, 4, 0, 23, 24, 5, 3, 0, 0, 24, 34, 1,
    0, 0, 0, 25, 34, 3, 10, 5, 0, 26, 27, 5, 13, 0, 0, 27, 34, 3, 4, 2, 5, 28, 30, 5, 14, 0, 0, 29, 31,
    3, 4, 2, 0, 30, 29, 1, 0, 0, 0, 30, 31, 1, 0, 0, 0, 31, 32, 1, 0, 0, 0, 32, 34, 3, 4, 2, 1, 33, 20, 1,
    0, 0, 0, 33, 25, 1, 0, 0, 0, 33, 26, 1, 0, 0, 0, 33, 28, 1, 0, 0, 0, 34, 48, 1, 0, 0, 0, 35, 36, 10,
    4, 0, 0, 36, 37, 5, 7, 0, 0, 37, 47, 3, 4, 2, 5, 38, 39, 10, 3, 0, 0, 39, 40, 5, 12, 0, 0, 40, 47, 3,
    4, 2, 4, 41, 43, 10, 2, 0, 0, 42, 44, 5, 6, 0, 0, 43, 42, 1, 0, 0, 0, 43, 44, 1, 0, 0, 0, 44, 45, 1,
    0, 0, 0, 45, 47, 3, 4, 2, 3, 46, 35, 1, 0, 0, 0, 46, 38, 1, 0, 0, 0, 46, 41, 1, 0, 0, 0, 47, 50, 1, 0,
    0, 0, 48, 46, 1, 0, 0, 0, 48, 49, 1, 0, 0, 0, 49, 5, 1, 0, 0, 0, 50, 48, 1, 0, 0, 0, 51, 52, 6, 3, -1,
    0, 52, 56, 3, 4, 2, 0, 53, 54, 7, 0, 0, 0, 54, 56, 3, 4, 2, 0, 55, 51, 1, 0, 0, 0, 55, 53, 1, 0, 0, 0,
    56, 61, 1, 0, 0, 0, 57, 58, 10, 1, 0, 0, 58, 60, 3, 4, 2, 0, 59, 57, 1, 0, 0, 0, 60, 63, 1, 0, 0, 0,
    61, 59, 1, 0, 0, 0, 61, 62, 1, 0, 0, 0, 62, 7, 1, 0, 0, 0, 63, 61, 1, 0, 0, 0, 64, 65, 6, 4, -1, 0, 65,
    66, 3, 6, 3, 0, 66, 72, 1, 0, 0, 0, 67, 68, 10, 1, 0, 0, 68, 69, 7, 0, 0, 0, 69, 71, 3, 6, 3, 0, 70,
    67, 1, 0, 0, 0, 71, 74, 1, 0, 0, 0, 72, 70, 1, 0, 0, 0, 72, 73, 1, 0, 0, 0, 73, 9, 1, 0, 0, 0, 74, 72,
    1, 0, 0, 0, 75, 76, 7, 1, 0, 0, 76, 11, 1, 0, 0, 0, 77, 78, 5, 10, 0, 0, 78, 13, 1, 0, 0, 0, 8, 30, 33,
    43, 46, 48, 55, 61, 72];
arithmeticParser.DecisionsToDFA = arithmeticParser._ATN.decisionToState.map((ds, index) => new antlr4_1.DFA(ds, index));
exports["default"] = arithmeticParser;
class EquationContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    expression_list() {
        return this.getTypedRuleContexts(ExpressionContext);
    }
    expression(i) {
        return this.getTypedRuleContext(ExpressionContext, i);
    }
    relop() {
        return this.getTypedRuleContext(RelopContext, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_equation;
    }
    enterRule(listener) {
        if (listener.enterEquation) {
            listener.enterEquation(this);
        }
    }
    exitRule(listener) {
        if (listener.exitEquation) {
            listener.exitEquation(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitEquation) {
            return visitor.visitEquation(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.EquationContext = EquationContext;
class ExpressionContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_expression;
    }
    enterRule(listener) {
        if (listener.enterExpression) {
            listener.enterExpression(this);
        }
    }
    exitRule(listener) {
        if (listener.exitExpression) {
            listener.exitExpression(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitExpression) {
            return visitor.visitExpression(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ExpressionContext = ExpressionContext;
class ClosedContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_closed;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.ClosedContext = ClosedContext;
class LogContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    LOG() {
        return this.getToken(arithmeticParser.LOG, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterLog) {
            listener.enterLog(this);
        }
    }
    exitRule(listener) {
        if (listener.exitLog) {
            listener.exitLog(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitLog) {
            return visitor.visitLog(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.LogContext = LogContext;
class IntegralContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    INT() {
        return this.getToken(arithmeticParser.INT, 0);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterIntegral) {
            listener.enterIntegral(this);
        }
    }
    exitRule(listener) {
        if (listener.exitIntegral) {
            listener.exitIntegral(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitIntegral) {
            return visitor.visitIntegral(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.IntegralContext = IntegralContext;
class ProductContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    TIMES() {
        return this.getToken(arithmeticParser.TIMES, 0);
    }
    enterRule(listener) {
        if (listener.enterProduct) {
            listener.enterProduct(this);
        }
    }
    exitRule(listener) {
        if (listener.exitProduct) {
            listener.exitProduct(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitProduct) {
            return visitor.visitProduct(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ProductContext = ProductContext;
class DivisionContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    DIV() {
        return this.getToken(arithmeticParser.DIV, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterDivision) {
            listener.enterDivision(this);
        }
    }
    exitRule(listener) {
        if (listener.exitDivision) {
            listener.exitDivision(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitDivision) {
            return visitor.visitDivision(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.DivisionContext = DivisionContext;
class ClosedAtomContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    atom() {
        return this.getTypedRuleContext(AtomContext, 0);
    }
    enterRule(listener) {
        if (listener.enterClosedAtom) {
            listener.enterClosedAtom(this);
        }
    }
    exitRule(listener) {
        if (listener.exitClosedAtom) {
            listener.exitClosedAtom(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitClosedAtom) {
            return visitor.visitClosedAtom(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ClosedAtomContext = ClosedAtomContext;
class PowerContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    POW() {
        return this.getToken(arithmeticParser.POW, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterPower) {
            listener.enterPower(this);
        }
    }
    exitRule(listener) {
        if (listener.exitPower) {
            listener.exitPower(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitPower) {
            return visitor.visitPower(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.PowerContext = PowerContext;
class ParenContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    LPAREN() {
        return this.getToken(arithmeticParser.LPAREN, 0);
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    RPAREN() {
        return this.getToken(arithmeticParser.RPAREN, 0);
    }
    enterRule(listener) {
        if (listener.enterParen) {
            listener.enterParen(this);
        }
    }
    exitRule(listener) {
        if (listener.exitParen) {
            listener.exitParen(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitParen) {
            return visitor.visitParen(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ParenContext = ParenContext;
class Right_closedContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_right_closed;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.Right_closedContext = Right_closedContext;
class UnaryOnExpressionContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    PLUS() {
        return this.getToken(arithmeticParser.PLUS, 0);
    }
    MINUS() {
        return this.getToken(arithmeticParser.MINUS, 0);
    }
    enterRule(listener) {
        if (listener.enterUnaryOnExpression) {
            listener.enterUnaryOnExpression(this);
        }
    }
    exitRule(listener) {
        if (listener.exitUnaryOnExpression) {
            listener.exitUnaryOnExpression(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitUnaryOnExpression) {
            return visitor.visitUnaryOnExpression(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.UnaryOnExpressionContext = UnaryOnExpressionContext;
class ClosedIsRight_ClosedContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterClosedIsRight_Closed) {
            listener.enterClosedIsRight_Closed(this);
        }
    }
    exitRule(listener) {
        if (listener.exitClosedIsRight_Closed) {
            listener.exitClosedIsRight_Closed(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitClosedIsRight_Closed) {
            return visitor.visitClosedIsRight_Closed(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ClosedIsRight_ClosedContext = ClosedIsRight_ClosedContext;
class Right_ClosedImplicitProductContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterRight_ClosedImplicitProduct) {
            listener.enterRight_ClosedImplicitProduct(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRight_ClosedImplicitProduct) {
            listener.exitRight_ClosedImplicitProduct(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRight_ClosedImplicitProduct) {
            return visitor.visitRight_ClosedImplicitProduct(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.Right_ClosedImplicitProductContext = Right_ClosedImplicitProductContext;
class OpenContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_open;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.OpenContext = OpenContext;
class Right_ClosedIsOpenContext extends OpenContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterRight_ClosedIsOpen) {
            listener.enterRight_ClosedIsOpen(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRight_ClosedIsOpen) {
            listener.exitRight_ClosedIsOpen(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRight_ClosedIsOpen) {
            return visitor.visitRight_ClosedIsOpen(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.Right_ClosedIsOpenContext = Right_ClosedIsOpenContext;
class SumContext extends OpenContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    PLUS() {
        return this.getToken(arithmeticParser.PLUS, 0);
    }
    MINUS() {
        return this.getToken(arithmeticParser.MINUS, 0);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterSum) {
            listener.enterSum(this);
        }
    }
    exitRule(listener) {
        if (listener.exitSum) {
            listener.exitSum(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitSum) {
            return visitor.visitSum(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.SumContext = SumContext;
class AtomContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    SCIENTIFIC_NUMBER() {
        return this.getToken(arithmeticParser.SCIENTIFIC_NUMBER, 0);
    }
    VARIABLE() {
        return this.getToken(arithmeticParser.VARIABLE, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_atom;
    }
    enterRule(listener) {
        if (listener.enterAtom) {
            listener.enterAtom(this);
        }
    }
    exitRule(listener) {
        if (listener.exitAtom) {
            listener.exitAtom(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitAtom) {
            return visitor.visitAtom(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.AtomContext = AtomContext;
class RelopContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    EQ() {
        return this.getToken(arithmeticParser.EQ, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_relop;
    }
    enterRule(listener) {
        if (listener.enterRelop) {
            listener.enterRelop(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRelop) {
            listener.exitRelop(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRelop) {
            return visitor.visitRelop(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.RelopContext = RelopContext;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticVisitor.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticVisitor.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
Object.defineProperty(exports, "__esModule", ({ value: true }));
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
/**
 * This interface defines a complete generic visitor for a parse tree produced
 * by `arithmeticParser`.
 *
 * @param <Result> The return type of the visit operation. Use `void` for
 * operations with no return type.
 */
class arithmeticVisitor extends antlr4_1.ParseTreeVisitor {
}
exports["default"] = arithmeticVisitor;


/***/ }),

/***/ "./src/mathlib/util/MathMLHelpers.ts":
/*!*******************************************!*\
  !*** ./src/mathlib/util/MathMLHelpers.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.inMathBlock = exports.inMath = exports.inRow = exports.inParen = void 0;
/**
 * Wraps the given mathml string in mathml parenthases.
 * @param str
 */
function inParen(str) {
    return "<mo>(</mo>" + str + "<mo>)</mo>";
}
exports.inParen = inParen;
/**
 * Puts the given mathml expression in a row so that
 * it doesn't get divided by mathjax.
 * @param str
 * @returns
 */
function inRow(str) {
    return "<mrow>" + str + "</mrow>";
}
exports.inRow = inRow;
/**
 * Wraps the given string in <math></math>
 * @param str
 */
function inMath(str) {
    return "<math>" + str + "</math>";
}
exports.inMath = inMath;
/**
 * Wraps the given string in <math display='block'></math>
 * @param str
 */
function inMathBlock(str) {
    return "<math display='block'>" + str + "</math>";
}
exports.inMathBlock = inMathBlock;


/***/ }),

/***/ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts":
/*!***********************************************************!*\
  !*** ./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.has = exports.addAll = exports.setOf = void 0;
function setOf(...arr) {
    const out = new Set();
    arr.forEach(e => out.add(e));
    return out;
}
exports.setOf = setOf;
/**
 * Adds the given elements to the given collection
 * @param collection
 * @param elements
 */
function addAll(collection, ...elements) {
    for (const e of elements) {
        collection.add(e);
    }
}
exports.addAll = addAll;
/**
 * Checks if the given element is in the given collection
 * using referencial equality.
 * @param collection
 * @param element
 * @returns True if the collection has the element, false otherwise.
 */
function has(collection, element) {
    for (const e of collection) {
        if (e === element)
            return true;
    }
    return false;
}
exports.has = has;


/***/ }),

/***/ "./src/mathlib/util/assert.ts":
/*!************************************!*\
  !*** ./src/mathlib/util/assert.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.for_some = exports.for_all = exports.assert = void 0;
/**
 * Checks if the given expression evaluated to true. If not, throws error
 * with the message given.
 * @param msg Displayed if the expression is false. Defaults to "Failed Assert"
 */
function assert(exp, msg = "Failed assert") {
    if (!exp)
        throw new Error(msg);
}
exports.assert = assert;
function for_all(iterable, exp) {
    for (const i of iterable) {
        if (!exp(i))
            return false;
    }
    return true;
}
exports.for_all = for_all;
function for_some(iterable, exp) {
    for (const i of iterable) {
        if (exp(i))
            return true;
    }
    return false;
}
exports.for_some = for_some;


/***/ }),

/***/ "./node_modules/antlr4/dist/antlr4.web.cjs":
/*!*************************************************!*\
  !*** ./node_modules/antlr4/dist/antlr4.web.cjs ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

(()=>{var t={92:()=>{}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}n.r(r),n.d(r,{ATN:()=>Fe,ATNDeserializer:()=>Ho,BailErrorStrategy:()=>ta,CharStream:()=>aa,CharStreams:()=>va,CommonToken:()=>yi,CommonTokenStream:()=>Ra,DFA:()=>cc,DiagnosticErrorListener:()=>Ic,ErrorListener:()=>Go,FailedPredicateException:()=>jc,InputStream:()=>aa,Interval:()=>B,IntervalSet:()=>V,LL1Analyzer:()=>Ie,Lexer:()=>Ui,LexerATNSimulator:()=>Eu,NoViableAltException:()=>Bu,ParseTreeListener:()=>yc,ParseTreeVisitor:()=>vc,ParseTreeWalker:()=>gc,Parser:()=>Ua,ParserATNSimulator:()=>Yu,ParserRuleContext:()=>el,PredictionContextCache:()=>Xu,PredictionMode:()=>Iu,RecognitionException:()=>xi,RuleContext:()=>ee,RuleNode:()=>Ut,TerminalNode:()=>Ht,Token:()=>o,arrayToString:()=>b,default:()=>Ol});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}var n,r;return n=t,(r=[{key:"getTokenSource",value:function(){return this.source[0]}},{key:"getInputStream",value:function(){return this.source[1]}},{key:"text",get:function(){return this._text},set:function(t){this._text=t}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function i(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}o.INVALID_TYPE=0,o.EPSILON=-2,o.MIN_USER_TOKEN_TYPE=1,o.EOF=-1,o.DEFAULT_CHANNEL=0,o.HIDDEN_CHANNEL=1;var c=Math.round(Math.random()*Math.pow(2,32));function a(t){if(!t)return 0;var e,n,r=u(t),o="string"===r?t:!("object"!==r||!t.toString)&&t.toString();if(!o)return 0;for(var i=3&o.length,a=o.length-i,l=c,s=3432918353,f=461845907,p=0;p<a;)n=255&o.charCodeAt(p)|(255&o.charCodeAt(++p))<<8|(255&o.charCodeAt(++p))<<16|(255&o.charCodeAt(++p))<<24,++p,l=27492+(65535&(e=5*(65535&(l=(l^=n=(65535&(n=(n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295)<<13|l>>>19))+((5*(l>>>16)&65535)<<16)&4294967295))+((58964+(e>>>16)&65535)<<16);switch(n=0,i){case 3:n^=(255&o.charCodeAt(p+2))<<16;case 2:n^=(255&o.charCodeAt(p+1))<<8;case 1:l^=n=(65535&(n=(n=(65535&(n^=255&o.charCodeAt(p)))*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295}return l^=o.length,l=2246822507*(65535&(l^=l>>>16))+((2246822507*(l>>>16)&65535)<<16)&4294967295,l=3266489909*(65535&(l^=l>>>13))+((3266489909*(l>>>16)&65535)<<16)&4294967295,(l^=l>>>16)>>>0}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count=0,this.hash=0}var e,n,r;return e=t,n=[{key:"update",value:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{var n=0;switch(l(e)){case"undefined":case"function":continue;case"number":case"boolean":n=e;break;case"string":n=a(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}n=(n*=3432918353)<<15|n>>>17,n*=461845907,this.count=this.count+1;var r=this.hash^n;r=5*(r=r<<13|r>>>19)+3864292196,this.hash=r}}}},{key:"finish",value:function(){var t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,(t*=3266489909)^t>>>16}}],r=[{key:"hashStuff",value:function(){var e=new t;return e.update.apply(e,arguments),e.finish()}}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return t?"string"==typeof t?a(t):t.hashCode():-1}function y(t,e){return t?t.equals(e):t===e}function h(t){return null===t?"null":t}function b(t){return Array.isArray(t)?"["+t.map(h).join(", ")+"]":"null"}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}var m="h-",g=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||y}var e,n;return e=t,n=[{key:"add",value:function(t){var e=m+this.hashFunction(t);if(e in this.data){for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return n.push(t),t}return this.data[e]=[t],t}},{key:"has",value:function(t){return null!=this.get(t)}},{key:"get",value:function(t){var e=m+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return null}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(m)})).flatMap((function(e){return t.data[e]}),this)}},{key:"toString",value:function(){return b(this.values())}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(m)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}function k(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var j=function(){function t(){T(this,t)}return k(t,[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"evaluate",value:function(t,e){}},{key:"evalPrecedence",value:function(t,e){return this}}],[{key:"andContext",value:function(e,n){if(null===e||e===t.NONE)return n;if(null===n||n===t.NONE)return e;var r=new x(e,n);return 1===r.opnds.length?r.opnds[0]:r}},{key:"orContext",value:function(e,n){if(null===e)return n;if(null===n)return e;if(e===t.NONE||n===t.NONE)return t.NONE;var r=new R(e,n);return 1===r.opnds.length?r.opnds[0]:r}}]),t}(),x=function(t){S(n,t);var e=w(n);function n(t,r){var o;T(this,n),o=e.call(this);var i=new g;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var u=C(i);if(u.length>0){var c=null;u.map((function(t){(null===c||t.precedence<c.precedence)&&(c=t)})),i.add(c)}return o.opnds=Array.from(i.values()),o}return k(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"AND")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],u=i.evalPrecedence(t,e);if(n|=u!==i,null===u)return null;u!==j.NONE&&r.push(u)}if(!n)return this;if(0===r.length)return j.NONE;var c=null;return r.map((function(t){c=null===c?t:j.andContext(c,t)})),c}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("&&")}}]),n}(j),R=function(t){S(n,t);var e=w(n);function n(t,r){var o;T(this,n),o=e.call(this);var i=new g;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var u=C(i);if(u.length>0){var c=u.sort((function(t,e){return t.compareTo(e)})),a=c[c.length-1];i.add(a)}return o.opnds=Array.from(i.values()),o}return k(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"OR")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],u=i.evalPrecedence(t,e);if(n|=u!==i,u===j.NONE)return j.NONE;null!==u&&r.push(u)}if(!n)return this;if(0===r.length)return null;return r.map((function(t){return t})),null}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("||")}}]),n}(j);function C(t){var e=[];return t.values().map((function(t){t instanceof j.PrecedencePredicate&&e.push(t)})),e}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}function I(t,e){if(null===t){var n={state:null,alt:null,context:null,semanticContext:null};return e&&(n.reachesIntoOuterContext=0),n}var r={};return r.state=t.state||null,r.alt=void 0===t.alt?null:t.alt,r.context=t.context||null,r.semanticContext=t.semanticContext||null,e&&(r.reachesIntoOuterContext=t.reachesIntoOuterContext||0,r.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),r}var L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.checkContext(e,n),e=I(e),n=I(n,!0),this.state=null!==e.state?e.state:n.state,this.alt=null!==e.alt?e.alt:n.alt,this.context=null!==e.context?e.context:n.context,this.semanticContext=null!==e.semanticContext?e.semanticContext:null!==n.semanticContext?n.semanticContext:j.NONE,this.reachesIntoOuterContext=n.reachesIntoOuterContext,this.precedenceFilterSuppressed=n.precedenceFilterSuppressed}var e,n;return e=t,(n=[{key:"checkContext",value:function(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}},{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&(null===this.context?null===e.context:this.context.equals(e.context))&&this.semanticContext.equals(e.semanticContext)&&this.precedenceFilterSuppressed===e.precedenceFilterSuppressed}},{key:"hashCodeForConfigSet",value:function(){var t=new f;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}},{key:"equalsForConfigSet",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.semanticContext.equals(e.semanticContext)}},{key:"toString",value:function(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==j.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var B=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=e,this.stop=n}var e,n;return e=t,(n=[{key:"clone",value:function(){return new t(this.start,this.stop)}},{key:"contains",value:function(t){return t>=this.start&&t<this.stop}},{key:"toString",value:function(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}},{key:"length",get:function(){return this.stop-this.start}}])&&F(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===M(o)?o:String(o)),r)}var o}B.INVALID_INTERVAL=new B(-1,-2);var V=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intervals=null,this.readOnly=!1}var e,n;return e=t,n=[{key:"first",value:function(t){return null===this.intervals||0===this.intervals.length?o.INVALID_TYPE:this.intervals[0].start}},{key:"addOne",value:function(t){this.addInterval(new B(t,t+1))}},{key:"addRange",value:function(t,e){this.addInterval(new B(t,e+1))}},{key:"addInterval",value:function(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new B(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new B(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}},{key:"addSet",value:function(t){var e=this;return null!==t.intervals&&t.intervals.forEach((function(t){return e.addInterval(t)}),this),this}},{key:"reduce",value:function(t){if(t<this.intervals.length-1){var e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new B(e.start,n.stop),this.intervals.splice(t+1,1))}}},{key:"complement",value:function(e,n){var r=new t;return r.addInterval(new B(e,n+1)),null!==this.intervals&&this.intervals.forEach((function(t){return r.removeRange(t)})),r}},{key:"contains",value:function(t){if(null===this.intervals)return!1;for(var e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}},{key:"removeRange",value:function(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals)for(var e=0,n=0;n<this.intervals.length;n++){var r=this.intervals[e];if(t.stop<=r.start)return;if(t.start>r.start&&t.stop<r.stop){this.intervals[e]=new B(r.start,t.start);var o=new B(t.stop,r.stop);return void this.intervals.splice(e,0,o)}t.start<=r.start&&t.stop>=r.stop?(this.intervals.splice(e,1),e-=1):t.start<r.stop?this.intervals[e]=new B(r.start,t.start):t.stop<r.stop&&(this.intervals[e]=new B(t.stop,r.stop)),e+=1}}},{key:"removeOne",value:function(t){if(null!==this.intervals)for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new B(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new B(n.start,n.stop-1));if(t<n.stop-1){var r=new B(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}},{key:"toString",value:function(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}},{key:"toCharString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var n=this.intervals[e];n.stop===n.start+1?n.start===o.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toIndexString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var n=this.intervals[e];n.stop===n.start+1?n.start===o.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toTokenString",value:function(t,e){for(var n=[],r=0;r<this.intervals.length;r++)for(var o=this.intervals[r],i=o.start;i<o.stop;i++)n.push(this.elementName(t,e,i));return n.length>1?"{"+n.join(", ")+"}":n[0]}},{key:"elementName",value:function(t,e,n){return n===o.EOF?"<EOF>":n===o.EPSILON?"<EPSILON>":t[n]||e[n]}},{key:"length",get:function(){return this.intervals.map((function(t){return t.length})).reduce((function(t,e){return t+e}))}}],n&&U(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===z(o)?o:String(o)),r)}var o}var H=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=null,this.stateNumber=t.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}var e,n;return e=t,(n=[{key:"toString",value:function(){return this.stateNumber}},{key:"equals",value:function(e){return e instanceof t&&this.stateNumber===e.stateNumber}},{key:"isNonGreedyExitState",value:function(){return!1}},{key:"addTransition",value:function(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function G(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return W(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}H.INVALID_TYPE=0,H.BASIC=1,H.RULE_START=2,H.BLOCK_START=3,H.PLUS_BLOCK_START=4,H.STAR_BLOCK_START=5,H.TOKEN_START=6,H.RULE_STOP=7,H.BLOCK_END=8,H.STAR_LOOP_BACK=9,H.STAR_LOOP_ENTRY=10,H.PLUS_LOOP_BACK=11,H.LOOP_END=12,H.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],H.INVALID_STATE_NUMBER=-1;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(n);if(r){var o=X(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return G(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.RULE_STOP,G(t,W(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===J(o)?o:String(o)),r)}var o}function Z(t,e,n){return e&&Q(t.prototype,e),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var tt=Z((function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e)throw"target cannot be null.";this.target=e,this.isEpsilon=!1,this.label=null}));function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===et(o)?o:String(o)),r)}var o}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}tt.EPSILON=1,tt.RANGE=2,tt.RULE=3,tt.PREDICATE=4,tt.ATOM=5,tt.ACTION=6,tt.SET=7,tt.NOT_SET=8,tt.WILDCARD=9,tt.PRECEDENCE=10,tt.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],tt.serializationTypes={EpsilonTransition:tt.EPSILON,RangeTransition:tt.RANGE,RuleTransition:tt.RULE,PredicateTransition:tt.PREDICATE,AtomTransition:tt.ATOM,ActionTransition:tt.ACTION,SetTransition:tt.SET,NotSetTransition:tt.NOT_SET,WildcardTransition:tt.WILDCARD,PrecedencePredicateTransition:tt.PRECEDENCE};var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(r);if(o){var n=ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).ruleIndex=e,o.precedence=n,o.followState=r,o.serializationType=tt.RULE,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}}])&&nt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ut(o)?o:String(o)),r)}var o}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(r);if(i){var n=lt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t)).serializationType=tt.SET,null!=e?n.label=e:(n.label=new V,n.label.addOne(o.INVALID_TYPE)),n}return e=c,(n=[{key:"matches",value:function(t,e,n){return this.label.contains(t)}},{key:"toString",value:function(){return this.label.toString()}}])&&ct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(tt);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ft(o)?o:String(o)),r)}var o}function yt(){return yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},yt.apply(this,arguments)}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ht(t,e)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(o){var n=bt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).serializationType=tt.NOT_SET,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n&&!yt(bt(u.prototype),"matches",this).call(this,t,e,n)}},{key:"toString",value:function(){return"~"+yt(bt(u.prototype),"toString",this).call(this)}}])&&pt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(st);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dt(o)?o:String(o)),r)}var o}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(r);if(o){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).serializationType=tt.WILDCARD,e}return e=u,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n}},{key:"toString",value:function(){return"."}}])&&mt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pt(n);if(r){var o=Pt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(tt);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Et(o)?o:String(o)),r)}var o}function jt(t,e,n){return e&&kt(t.prototype,e),n&&kt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Nt(t,e){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nt(t,e)}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},It(t)}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=It(n);if(r){var o=It(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ct(n);if(r){var o=Ct(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(jt((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}))));function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Dt(o)?o:String(o)),r)}var o}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mt(r);if(o){var n=Mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return e=u,(n=[{key:"ruleContext",get:function(){throw new Error("missing interface implementation")}}])&&Ft(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Lt);function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function zt(t,e){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zt(t,e)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qt(n);if(r){var o=qt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lt);function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(n);if(r){var o=Gt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ht),Xt={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);var r=Xt.getNodeText(t,e);r=function(t,e){return t=t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);var o=t.getChildCount();if(0===o)return r;var i="("+r+" ";o>0&&(r=Xt.toStringTree(t.getChild(0),e),i=i.concat(r));for(var u=1;u<o;u++)r=Xt.toStringTree(t.getChild(u),e),i=i.concat(" "+r);return i.concat(")")},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof Ut){var r=t.ruleContext.getAltNumber();return 0!=r?e[t.ruleIndex]+":"+r:e[t.ruleIndex]}if(t instanceof Wt)return t.toString();if(t instanceof Ht&&null!==t.symbol)return t.symbol.text}var i=t.getPayload();return i instanceof o?i.text:t.getPayload().toString()},getChildren:function(t){for(var e=[],n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){var e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return Xt.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return Xt.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){var r=[];return Xt._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof Ht?t.symbol.type===e&&r.push(t):!n&&t instanceof Ut&&t.ruleIndex===e&&r.push(t);for(var o=0;o<t.getChildCount();o++)Xt._findAllNodes(t.getChild(o),e,n,r)},descendants:function(t){for(var e=[t],n=0;n<t.getChildCount();n++)e=e.concat(Xt.descendants(t.getChild(n)));return e}};const $t=Xt;function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jt(o)?o:String(o)),r)}var o}function Zt(t,e){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(r);if(o){var n=te(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this)).parentCtx=t||null,n.invokingState=e||-1,n}return e=u,(n=[{key:"depth",value:function(){for(var t=0,e=this;null!==e;)e=e.parentCtx,t+=1;return t}},{key:"isEmpty",value:function(){return-1===this.invokingState}},{key:"getSourceInterval",value:function(){return B.INVALID_INTERVAL}},{key:"ruleContext",get:function(){return this}},{key:"getPayload",value:function(){return this}},{key:"getText",value:function(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}},{key:"getAltNumber",value:function(){return 0}},{key:"setAltNumber",value:function(t){}},{key:"getChild",value:function(t){return null}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitChildren(this)}},{key:"toStringTree",value:function(t,e){return $t.toStringTree(this,t,e)}},{key:"toString",value:function(t,e){t=t||null,e=e||null;for(var n=this,r="[";null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{var o=n.ruleIndex;r+=o>=0&&o<t.length?t[o]:""+o}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+"]"}}])&&Qt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ut);function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ne(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ne(o)?o:String(o)),r)}var o}var oe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cachedHashCode=e}var e,n;return e=t,(n=[{key:"isEmpty",value:function(){return this===t.EMPTY}},{key:"hasEmptyPath",value:function(){return this.getReturnState(this.length-1)===t.EMPTY_RETURN_STATE}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}}])&&re(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ie(o)?o:String(o)),r)}var o}function ce(t,e){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ce(t,e)}function ae(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return le(t)}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}oe.EMPTY=null,oe.EMPTY_RETURN_STATE=2147483647,oe.globalNodeCount=1,oe.id=oe.globalNodeCount,oe.trace_atn_sim=!1;var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ce(t,e)}(c,t);var e,n,r,o,u=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(r);if(o){var n=se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ae(this,t)});function c(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var r=new f;r.update(t,e);var o=r.finish();return(n=u.call(this,o)).parents=t,n.returnStates=e,ae(n,le(n))}return e=c,n=[{key:"isEmpty",value:function(){return this.returnStates[0]===oe.EMPTY_RETURN_STATE}},{key:"getParent",value:function(t){return this.parents[t]}},{key:"getReturnState",value:function(t){return this.returnStates[t]}},{key:"equals",value:function(t){return this===t||t instanceof c&&this.hashCode()===t.hashCode()&&i(this.returnStates,t.returnStates)&&i(this.parents,t.parents)}},{key:"toString",value:function(){if(this.isEmpty())return"[]";for(var t="[",e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==oe.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}},{key:"length",get:function(){return this.returnStates.length}}],n&&ue(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(oe);function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===pe(o)?o:String(o)),r)}var o}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(c,t);var e,n,r,o,i,u=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=be(o);if(i){var n=be(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var r,o=new f;return null!==t?o.update(t,e):o.update(1),r=o.finish(),(n=u.call(this,r)).parentCtx=t,n.returnState=e,n}return e=c,r=[{key:"create",value:function(t,e){return e===oe.EMPTY_RETURN_STATE&&null===t?oe.EMPTY:new c(t,e)}}],(n=[{key:"getParent",value:function(t){return this.parentCtx}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t||t instanceof c&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}},{key:"toString",value:function(){var t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===oe.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}},{key:"length",get:function(){return 1}}])&&ye(e.prototype,n),r&&ye(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(oe);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===de(o)?o:String(o)),r)}var o}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}var Oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Se(r);if(o){var n=Se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,null,oe.EMPTY_RETURN_STATE)}return e=u,(n=[{key:"isEmpty",value:function(){return!0}},{key:"getParent",value:function(t){return null}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t}},{key:"toString",value:function(){return"$"}}])&&me(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ve);function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==we(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===we(o)?o:String(o)),r)}var o}oe.EMPTY=new Oe;var Pe="h-",Te=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||y}var e,n;return e=t,n=[{key:"set",value:function(t,e){var n=Pe+this.hashFunction(t);if(n in this.data){for(var r=this.data[n],o=0;o<r.length;o++){var i=r[o];if(this.equalsFunction(t,i.key)){var u=i.value;return i.value=e,u}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}},{key:"containsKey",value:function(t){var e=Pe+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return!0}return!1}},{key:"get",value:function(t){var e=Pe+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return o.value}return null}},{key:"entries",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(Pe)})).flatMap((function(e){return t.data[e]}),this)}},{key:"getKeys",value:function(){return this.entries().map((function(t){return t.key}))}},{key:"getValues",value:function(){return this.entries().map((function(t){return t.value}))}},{key:"toString",value:function(){return"["+this.entries().map((function(t){return"{"+t.key+":"+t.value+"}"})).join(", ")+"]"}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(Pe)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&_e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ee(t,e){if(null==e&&(e=ee.EMPTY),null===e.parentCtx||e===ee.EMPTY)return oe.EMPTY;var n=Ee(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return ve.create(n,r.followState.stateNumber)}function ke(t,e,n){if(t.isEmpty())return t;var r=n.get(t)||null;if(null!==r)return r;if(null!==(r=e.get(t)))return n.set(t,r),r;for(var o=!1,i=[],u=0;u<i.length;u++){var c=ke(t.getParent(u),e,n);if(o||c!==t.getParent(u)){if(!o){i=[];for(var a=0;a<t.length;a++)i[a]=t.getParent(a);o=!0}i[u]=c}}if(!o)return e.add(t),n.set(t,t),t;var l;return l=0===i.length?oe.EMPTY:1===i.length?ve.create(i[0],t.getReturnState(0)):new fe(i,t.returnStates),e.add(l),n.set(l,l),n.set(t,l),l}function je(t,e,n,r){if(t===e)return t;if(t instanceof ve&&e instanceof ve)return function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return o;if(null!==(o=r.get(e,t)))return o}var i=function(t,e,n){if(n){if(t===oe.EMPTY)return oe.EMPTY;if(e===oe.EMPTY)return oe.EMPTY}else{if(t===oe.EMPTY&&e===oe.EMPTY)return oe.EMPTY;if(t===oe.EMPTY){var r=[e.returnState,oe.EMPTY_RETURN_STATE],o=[e.parentCtx,null];return new fe(o,r)}if(e===oe.EMPTY){var i=[t.returnState,oe.EMPTY_RETURN_STATE],u=[t.parentCtx,null];return new fe(u,i)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){var u=je(t.parentCtx,e.parentCtx,n,r);if(u===t.parentCtx)return t;if(u===e.parentCtx)return e;var c=ve.create(u,t.returnState);return null!==r&&r.set(t,e,c),c}var a=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(a=t.parentCtx),null!==a){var l=[t.returnState,e.returnState];t.returnState>e.returnState&&(l[0]=e.returnState,l[1]=t.returnState);var s=new fe([a,a],l);return null!==r&&r.set(t,e,s),s}var f=[t.returnState,e.returnState],p=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(f[0]=e.returnState,f[1]=t.returnState,p=[e.parentCtx,t.parentCtx]);var y=new fe(p,f);return null!==r&&r.set(t,e,y),y}(t,e,n,r);if(n){if(t instanceof Oe)return t;if(e instanceof Oe)return e}return t instanceof ve&&(t=new fe([t.getParent()],[t.returnState])),e instanceof ve&&(e=new fe([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o;if(null!==(o=r.get(e,t)))return oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o}for(var i=0,u=0,c=0,a=new Array(t.returnStates.length+e.returnStates.length).fill(0),l=new Array(t.returnStates.length+e.returnStates.length).fill(null);i<t.returnStates.length&&u<e.returnStates.length;){var s=t.parents[i],f=e.parents[u];if(t.returnStates[i]===e.returnStates[u]){var p=t.returnStates[i];p===oe.EMPTY_RETURN_STATE&&null===s&&null===f||null!==s&&null!==f&&s===f?(l[c]=s,a[c]=p):(l[c]=je(s,f,n,r),a[c]=p),i+=1,u+=1}else t.returnStates[i]<e.returnStates[u]?(l[c]=s,a[c]=t.returnStates[i],i+=1):(l[c]=f,a[c]=e.returnStates[u],u+=1);c+=1}if(i<t.returnStates.length)for(var y=i;y<t.returnStates.length;y++)l[c]=t.parents[y],a[c]=t.returnStates[y],c+=1;else for(var h=u;h<e.returnStates.length;h++)l[c]=e.parents[h],a[c]=e.returnStates[h],c+=1;if(c<l.length){if(1===c){var b=ve.create(l[0],a[0]);return null!==r&&r.set(t,e,b),b}l=l.slice(0,c),a=a.slice(0,c)}var v=new fe(l,a);return v.equals(t)?(null!==r&&r.set(t,e,t),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):v.equals(e)?(null!==r&&r.set(t,e,e),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){for(var e=new Te,n=0;n<t.length;n++){var r=t[n];e.containsKey(r)||e.set(r,r)}for(var o=0;o<t.length;o++)t[o]=e.get(t[o])}(l),null!==r&&r.set(t,e,v),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+v),v)}(t,e,n,r)}function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===xe(o)?o:String(o)),r)}var o}var Ce=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=[]}var e,n;return e=t,(n=[{key:"add",value:function(t){this.data[t]=!0}},{key:"or",value:function(t){var e=this;Object.keys(t.data).map((function(t){return e.add(t)}),this)}},{key:"remove",value:function(t){delete this.data[t]}},{key:"has",value:function(t){return!0===this.data[t]}},{key:"values",value:function(){return Object.keys(this.data)}},{key:"minValue",value:function(){return Math.min.apply(null,this.values())}},{key:"hashCode",value:function(){return f.hashStuff(this.values())}},{key:"equals",value:function(e){return e instanceof t&&i(this.data,e.data)}},{key:"toString",value:function(){return"{"+this.values().join(", ")+"}"}},{key:"length",get:function(){return this.values().length}}])&&Re(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ae(o)?o:String(o)),r)}var o}var Ie=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e}var e,n;return e=t,n=[{key:"getDecisionLookahead",value:function(e){if(null===e)return null;for(var n=e.transitions.length,r=[],o=0;o<n;o++){r[o]=new V;var i=new g;this._LOOK(e.transition(o).target,null,oe.EMPTY,r[o],i,new Ce,!1,!1),(0===r[o].length||r[o].contains(t.HIT_PRED))&&(r[o]=null)}return r}},{key:"LOOK",value:function(t,e,n){var r=new V,o=null!==(n=n||null)?Ee(t.atn,n):null;return this._LOOK(t,e,o,r,new g,new Ce,!0,!0),r}},{key:"_LOOK",value:function(e,n,r,i,u,c,a,l){var s=new L({state:e,alt:0,context:r},null);if(!u.has(s)){if(u.add(s),e===n){if(null===r)return void i.addOne(o.EPSILON);if(r.isEmpty()&&l)return void i.addOne(o.EOF)}if(e instanceof $){if(null===r)return void i.addOne(o.EPSILON);if(r.isEmpty()&&l)return void i.addOne(o.EOF);if(r!==oe.EMPTY){var f=c.has(e.ruleIndex);try{c.remove(e.ruleIndex);for(var p=0;p<r.length;p++){var y=this.atn.states[r.getReturnState(p)];this._LOOK(y,n,r.getParent(p),i,u,c,a,l)}}finally{f&&c.add(e.ruleIndex)}return}}for(var h=0;h<e.transitions.length;h++){var b=e.transitions[h];if(b.constructor===it){if(c.has(b.target.ruleIndex))continue;var v=ve.create(r,b.followState.stateNumber);try{c.add(b.target.ruleIndex),this._LOOK(b.target,n,v,i,u,c,a,l)}finally{c.remove(b.target.ruleIndex)}}else if(b instanceof Tt)a?this._LOOK(b.target,n,r,i,u,c,a,l):i.addOne(t.HIT_PRED);else if(b.isEpsilon)this._LOOK(b.target,n,r,i,u,c,a,l);else if(b.constructor===Ot)i.addRange(o.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{var d=b.label;null!==d&&(b instanceof vt&&(d=d.complement(o.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(d))}}}}}],n&&Ne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Le(o)?o:String(o)),r)}var o}Ie.HIT_PRED=o.INVALID_TYPE;var Fe=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.grammarType=e,this.maxTokenType=n,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}var e,n;return e=t,(n=[{key:"nextTokensInContext",value:function(t,e){return new Ie(this).LOOK(t,null,e)}},{key:"nextTokensNoContext",value:function(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}},{key:"nextTokens",value:function(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}},{key:"addState",value:function(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}},{key:"removeState",value:function(t){this.states[t.stateNumber]=null}},{key:"defineDecisionState",value:function(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}},{key:"getDecisionState",value:function(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}},{key:"getExpectedTokens",value:function(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";var n=this.states[t],r=this.nextTokens(n);if(!r.contains(o.EPSILON))return r;var i=new V;for(i.addSet(r),i.removeOne(o.EPSILON);null!==e&&e.invokingState>=0&&r.contains(o.EPSILON);){var u=this.states[e.invokingState].transitions[0];r=this.nextTokens(u.followState),i.addSet(r),i.removeOne(o.EPSILON),e=e.parentCtx}return r.contains(o.EPSILON)&&i.addOne(o.EOF),i}}])&&De(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Fe.INVALID_ALT_NUMBER=0;function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Me(t,e)}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(t)}var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ue(n);if(r){var o=Ue(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BASIC,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function qe(t,e){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qe(t,e)}function He(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ye(n);if(r){var o=Ye(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return He(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).decision=-1,t.nonGreedy=!1,He(t,Ke(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}function $e(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(t){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qe(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qe(n);if(r){var o=Qe(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return $e(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).endState=null,$e(t,Je(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}function nn(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rn(t)}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=on(n);if(r){var o=on(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BLOCK_END,t.startState=null,nn(t,rn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function cn(t){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(t)}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}function ln(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sn(t)}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fn(t){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fn(t)}var pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fn(n);if(r){var o=fn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return ln(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.LOOP_END,t.loopBackState=null,ln(t,sn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function hn(t,e){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hn(t,e)}function bn(t,e){if(e&&("object"===yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vn(t)}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dn(t)}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dn(n);if(r){var o=dn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return bn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.RULE_START,t.stopState=null,t.isPrecedenceRule=!1,bn(t,vn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function Sn(t,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sn(t,e)}function On(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wn(t)}function wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}var Pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_n(n);if(r){var o=_n(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return On(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.TOKEN_START,On(t,wn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function En(t,e){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},En(t,e)}function kn(t,e){if(e&&("object"===Tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jn(t)}function jn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xn(n);if(r){var o=xn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return kn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.PLUS_LOOP_BACK,kn(t,jn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function An(t,e){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},An(t,e)}function Nn(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&An(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(n);if(r){var o=Ln(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_LOOP_BACK,Nn(t,In(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}function Mn(t,e){if(e&&("object"===Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Un(t)}function Un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(t)}var zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(n);if(r){var o=Vn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Mn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_LOOP_ENTRY,t.loopBackState=null,t.isPrecedenceDecision=null,Mn(t,Un(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hn(t,e)}function Kn(t,e){if(e&&("object"===qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yn(t)}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gn(n);if(r){var o=Gn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Kn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.PLUS_BLOCK_START,t.loopBackState=null,Kn(t,Yn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function $n(t,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$n(t,e)}function Jn(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zn(t){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zn(t)}var tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zn(n);if(r){var o=Zn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Jn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_BLOCK_START,Jn(t,Qn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function nr(t,e){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nr(t,e)}function rr(t,e){if(e&&("object"===er(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}function or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}var ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ir(n);if(r){var o=ir(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return rr(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BLOCK_START,rr(t,or(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function cr(t){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(t)}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==cr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===cr(o)?o:String(o)),r)}var o}function lr(t,e){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lr(t,e)}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sr(t)}var fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sr(r);if(o){var n=sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).label_=e,n.label=n.makeLabel(),n.serializationType=tt.ATOM,n}return e=u,(n=[{key:"makeLabel",value:function(){var t=new V;return t.addOne(this.label_),t}},{key:"matches",value:function(t,e,n){return this.label_===t}},{key:"toString",value:function(){return this.label_}}])&&ar(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===pr(o)?o:String(o)),r)}var o}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}var vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=br(r);if(o){var n=br(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).serializationType=tt.RANGE,r.start=e,r.stop=n,r.label=r.makeLabel(),r}return e=u,(n=[{key:"makeLabel",value:function(){var t=new V;return t.addRange(this.start,this.stop),t}},{key:"matches",value:function(t,e,n){return t>=this.start&&t<=this.stop}},{key:"toString",value:function(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}])&&yr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dr(o)?o:String(o)),r)}var o}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sr(r);if(o){var n=Sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).serializationType=tt.ACTION,o.ruleIndex=e,o.actionIndex=void 0===n?-1:n,o.isCtxDependent=void 0!==r&&r,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"action_"+this.ruleIndex+":"+this.actionIndex}}])&&mr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==wr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===wr(o)?o:String(o)),r)}var o}function Pr(t,e){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pr(t,e)}function Tr(t){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tr(t)}var Er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tr(r);if(o){var n=Tr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).serializationType=tt.EPSILON,n.isEpsilon=!0,n.outermostPrecedenceReturn=e,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"epsilon"}}])&&_r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==kr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==kr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===kr(o)?o:String(o)),r)}var o}function xr(t,e){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xr(t,e)}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}var Cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(r);if(o){var n=Rr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this)).ruleIndex=void 0===t?-1:t,r.predIndex=void 0===e?-1:e,r.isCtxDependent=void 0!==n&&n,r}return e=u,(n=[{key:"evaluate",value:function(t,e){var n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}},{key:"updateHashCode",value:function(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}},{key:"toString",value:function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}])&&jr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(j);function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ar(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ar(o)?o:String(o)),r)}var o}function Ir(t,e){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ir(t,e)}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lr(t)}j.NONE=new Cr;var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ir(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lr(r);if(o){var n=Lr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).serializationType=tt.PREDICATE,o.ruleIndex=e,o.predIndex=n,o.isCtxDependent=r,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new Cr(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"toString",value:function(){return"pred_"+this.ruleIndex+":"+this.predIndex}}])&&Nr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Tt);function Fr(t){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(t)}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Fr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Fr(o)?o:String(o)),r)}var o}function Mr(t,e){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mr(t,e)}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}var Vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ur(r);if(o){var n=Ur(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).precedence=void 0===t?0:t,e}return e=u,(n=[{key:"evaluate",value:function(t,e){return t.precpred(e,this.precedence)}},{key:"evalPrecedence",value:function(t,e){return t.precpred(e,this.precedence)?j.NONE:null}},{key:"compareTo",value:function(t){return this.precedence-t.precedence}},{key:"updateHashCode",value:function(t){t.update(this.precedence)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.precedence===t.precedence}},{key:"toString",value:function(){return"{"+this.precedence+">=prec}?"}}])&&Br(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(j);function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===zr(o)?o:String(o)),r)}var o}function Hr(t,e){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hr(t,e)}function Kr(t){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kr(t)}j.PrecedencePredicate=Vr;var Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kr(r);if(o){var n=Kr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).serializationType=tt.PRECEDENCE,n.precedence=e,n.isEpsilon=!0,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new Vr(this.precedence)}},{key:"toString",value:function(){return this.precedence+" >= _p"}}])&&qr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Tt);function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gr(o)?o:String(o)),r)}var o}function Xr(t,e,n){return e&&Wr(t.prototype,e),n&&Wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var $r=Xr((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e=null),this.readOnly=!1,this.verifyATN=null===e||e.verifyATN,this.generateRuleBypassTransitions=null!==e&&e.generateRuleBypassTransitions}));$r.defaultOptions=new $r,$r.defaultOptions.readOnly=!0;function Jr(t){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(t)}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jr(o)?o:String(o)),r)}var o}var Zr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actionType=e,this.isPositionDependent=!1}var e,n;return e=t,(n=[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.actionType)}},{key:"equals",value:function(t){return this===t}}])&&Qr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==to(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==to(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===to(o)?o:String(o)),r)}var o}function no(t,e){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},no(t,e)}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(t)}var oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ro(r);if(o){var n=ro(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,6)}return e=u,(n=[{key:"execute",value:function(t){t.skip()}},{key:"toString",value:function(){return"skip"}}])&&eo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==io(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===io(o)?o:String(o)),r)}var o}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ao(t)}oo.INSTANCE=new oo;var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ao(r);if(o){var n=ao(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,0)).channel=t,e}return e=u,(n=[{key:"execute",value:function(t){t._channel=this.channel}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.channel)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.channel===t.channel}},{key:"toString",value:function(){return"channel("+this.channel+")"}}])&&uo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function so(t){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(t)}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==so(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===so(o)?o:String(o)),r)}var o}function po(t,e){return po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},po(t,e)}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&po(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yo(r);if(o){var n=yo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===so(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,1)).ruleIndex=t,n.actionIndex=e,n.isPositionDependent=!0,n}return e=u,(n=[{key:"execute",value:function(t){t.action(null,this.ruleIndex,this.actionIndex)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}])&&fo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==bo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===bo(o)?o:String(o)),r)}var o}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mo(t,e)}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},go(t)}var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=go(r);if(o){var n=go(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,3)}return e=u,(n=[{key:"execute",value:function(t){t.more()}},{key:"toString",value:function(){return"more"}}])&&vo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oo(o)?o:String(o)),r)}var o}function _o(t,e){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_o(t,e)}function Po(t){return Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(t)}So.INSTANCE=new So;var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Po(r);if(o){var n=Po(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,7)).type=t,e}return e=u,(n=[{key:"execute",value:function(t){t.type=this.type}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.type)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.type===t.type}},{key:"toString",value:function(){return"type("+this.type+")"}}])&&wo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Eo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Eo(o)?o:String(o)),r)}var o}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jo(t,e)}function xo(t){return xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xo(t)}var Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xo(r);if(o){var n=xo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,5)).mode=t,e}return e=u,(n=[{key:"execute",value:function(t){t.pushMode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.mode===t.mode}},{key:"toString",value:function(){return"pushMode("+this.mode+")"}}])&&ko(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Co(t){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Co(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Co(o)?o:String(o)),r)}var o}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Io(r);if(o){var n=Io(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,4)}return e=u,(n=[{key:"execute",value:function(t){t.popMode()}},{key:"toString",value:function(){return"popMode"}}])&&Ao(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Do(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Do(o)?o:String(o)),r)}var o}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bo(t,e)}function Mo(t){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(t)}Lo.INSTANCE=new Lo;var Uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mo(r);if(o){var n=Mo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,2)).mode=t,e}return e=u,(n=[{key:"execute",value:function(t){t.mode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.mode===t.mode}},{key:"toString",value:function(){return"mode("+this.mode+")"}}])&&Fo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vo(o)?o:String(o)),r)}var o}function qo(t,e){var n=[];return n[t-1]=e,n.map((function(t){return e}))}var Ho=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e&&(e=$r.defaultOptions),this.deserializationOptions=e,this.stateFactories=null,this.actionFactories=null}var e,n;return e=t,n=[{key:"deserialize",value:function(t){var e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();var n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);var r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}},{key:"reset",value:function(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){var e=t.split("").map((function(t){var e=t.charCodeAt(0);return e>1?e-2:e+65534}));return e[0]=t.charCodeAt(0),this.data=e,this.pos=0,!0}return this.data=t,this.pos=0,!1}},{key:"skipUUID",value:function(){for(var t=0;t++<8;)this.readInt()}},{key:"checkVersion",value:function(t){var e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}},{key:"readATN",value:function(){var t=this.readInt(),e=this.readInt();return new Fe(t,e)}},{key:"readStates",value:function(t,e){for(var n,r,o,i=[],u=[],c=this.readInt(),a=0;a<c;a++){var l=this.readInt();if(l!==H.INVALID_TYPE){var s=this.readInt();e&&65535===s&&(s=-1);var f=this.stateFactory(l,s);if(l===H.LOOP_END){var p=this.readInt();i.push([f,p])}else if(f instanceof Ze){var y=this.readInt();u.push([f,y])}t.addState(f)}else t.addState(null)}for(n=0;n<i.length;n++)(r=i[n])[0].loopBackState=t.states[r[1]];for(n=0;n<u.length;n++)(r=u[n])[0].endState=t.states[r[1]];var h=this.readInt();for(n=0;n<h;n++)o=this.readInt(),t.states[o].nonGreedy=!0;var b=this.readInt();for(n=0;n<b;n++)o=this.readInt(),t.states[o].isPrecedenceRule=!0}},{key:"readRules",value:function(t,e){var n,r=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=qo(r,0)),t.ruleToStartState=qo(r,0),n=0;n<r;n++){var i=this.readInt();if(t.ruleToStartState[n]=t.states[i],0===t.grammarType){var u=this.readInt();e&&65535===u&&(u=o.EOF),t.ruleToTokenType[n]=u}}for(t.ruleToStopState=qo(r,0),n=0;n<t.states.length;n++){var c=t.states[n];c instanceof $&&(t.ruleToStopState[c.ruleIndex]=c,t.ruleToStartState[c.ruleIndex].stopState=c)}}},{key:"readModes",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt();t.modeToStartState.push(t.states[r])}}},{key:"readSets",value:function(t,e,n){for(var r=this.readInt(),o=0;o<r;o++){var i=new V;e.push(i);var u=this.readInt();0!==this.readInt()&&i.addOne(-1);for(var c=0;c<u;c++){var a=n(),l=n();i.addRange(a,l)}}}},{key:"readEdges",value:function(t,e){var n,r,o,i,u,c=this.readInt();for(n=0;n<c;n++){var a=this.readInt(),l=this.readInt(),s=this.readInt(),f=this.readInt(),p=this.readInt(),y=this.readInt();i=this.edgeFactory(t,s,a,l,f,p,y,e),t.states[a].addTransition(i)}for(n=0;n<t.states.length;n++)for(o=t.states[n],r=0;r<o.transitions.length;r++){var h=o.transitions[r];if(h instanceof it){var b=-1;t.ruleToStartState[h.target.ruleIndex].isPrecedenceRule&&0===h.precedence&&(b=h.target.ruleIndex),i=new Er(h.followState,b),t.ruleToStopState[h.target.ruleIndex].addTransition(i)}}for(n=0;n<t.states.length;n++){if((o=t.states[n])instanceof Ze){if(null===o.endState)throw"IllegalState";if(null!==o.endState.startState)throw"IllegalState";o.endState.startState=o}if(o instanceof Rn)for(r=0;r<o.transitions.length;r++)(u=o.transitions[r].target)instanceof Wn&&(u.loopBackState=o);else if(o instanceof Dn)for(r=0;r<o.transitions.length;r++)(u=o.transitions[r].target)instanceof zn&&(u.loopBackState=o)}}},{key:"readDecisions",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt(),o=t.states[r];t.decisionToState.push(o),o.decision=n}}},{key:"readLexerActions",value:function(t,e){if(0===t.grammarType){var n=this.readInt();t.lexerActions=qo(n,null);for(var r=0;r<n;r++){var o=this.readInt(),i=this.readInt();e&&65535===i&&(i=-1);var u=this.readInt();e&&65535===u&&(u=-1),t.lexerActions[r]=this.lexerActionFactory(o,i,u)}}}},{key:"generateRuleBypassTransitions",value:function(t){var e,n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}},{key:"generateRuleBypassTransition",value:function(t,e){var n,r,o=new ur;o.ruleIndex=e,t.addState(o);var i=new un;i.ruleIndex=e,t.addState(i),o.endState=i,t.defineDecisionState(o),i.startState=o;var u=null,c=null;if(t.ruleToStartState[e].isPrecedenceRule){for(c=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){c=r,u=r.loopBackState.transitions[0];break}if(null===u)throw"Couldn't identify final state of the precedence rule prefix section."}else c=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(var a=0;a<r.transitions.length;a++){var l=r.transitions[a];l!==u&&l.target===c&&(l.target=i)}}for(var s=t.ruleToStartState[e],f=s.transitions.length;f>0;)o.addTransition(s.transitions[f-1]),s.transitions=s.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Er(o)),i.addTransition(new Er(c));var p=new Ve;t.addState(p),p.addTransition(new fr(i,t.ruleToTokenType[e])),o.addTransition(new Er(p))}},{key:"stateIsEndStateFor",value:function(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof zn))return null;var n=t.transitions[t.transitions.length-1].target;return n instanceof pn&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof $?t:null}},{key:"markPrecedenceDecisions",value:function(t){for(var e=0;e<t.states.length;e++){var n=t.states[e];if(n instanceof zn&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){var r=n.transitions[n.transitions.length-1].target;r instanceof pn&&r.epsilonOnlyTransitions&&r.transitions[0].target instanceof $&&(n.isPrecedenceDecision=!0)}}}},{key:"verifyATN",value:function(t){if(this.deserializationOptions.verifyATN)for(var e=0;e<t.states.length;e++){var n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof Wn)this.checkCondition(null!==n.loopBackState);else if(n instanceof zn)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof tr)this.checkCondition(n.transitions[1].target instanceof pn),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof pn))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof tr),this.checkCondition(n.nonGreedy)}else n instanceof Dn?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof zn)):n instanceof pn?this.checkCondition(null!==n.loopBackState):n instanceof mn?this.checkCondition(null!==n.stopState):n instanceof Ze?this.checkCondition(null!==n.endState):n instanceof un?this.checkCondition(null!==n.startState):n instanceof Ge?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof $)}}},{key:"checkCondition",value:function(t,e){if(!t)throw null==e&&(e="IllegalState"),e}},{key:"readInt",value:function(){return this.data[this.pos++]}},{key:"readInt32",value:function(){return this.readInt()|this.readInt()<<16}},{key:"edgeFactory",value:function(t,e,n,r,i,u,c,a){var l=t.states[r];switch(e){case tt.EPSILON:return new Er(l);case tt.RANGE:return new vr(l,0!==c?o.EOF:i,u);case tt.RULE:return new it(t.states[i],u,c,l);case tt.PREDICATE:return new Dr(l,i,u,0!==c);case tt.PRECEDENCE:return new Yr(l,i);case tt.ATOM:return new fr(l,0!==c?o.EOF:i);case tt.ACTION:return new Or(l,i,u,0!==c);case tt.SET:return new st(l,a[i]);case tt.NOT_SET:return new vt(l,a[i]);case tt.WILDCARD:return new Ot(l);default:throw"The specified transition type: "+e+" is not valid."}}},{key:"stateFactory",value:function(t,e){if(null===this.stateFactories){var n=[];n[H.INVALID_TYPE]=null,n[H.BASIC]=function(){return new Ve},n[H.RULE_START]=function(){return new mn},n[H.BLOCK_START]=function(){return new ur},n[H.PLUS_BLOCK_START]=function(){return new Wn},n[H.STAR_BLOCK_START]=function(){return new tr},n[H.TOKEN_START]=function(){return new Pn},n[H.RULE_STOP]=function(){return new $},n[H.BLOCK_END]=function(){return new un},n[H.STAR_LOOP_BACK]=function(){return new Dn},n[H.STAR_LOOP_ENTRY]=function(){return new zn},n[H.PLUS_LOOP_BACK]=function(){return new Rn},n[H.LOOP_END]=function(){return new pn},this.stateFactories=n}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";var r=this.stateFactories[t]();if(null!==r)return r.ruleIndex=e,r}},{key:"lexerActionFactory",value:function(t,e,n){if(null===this.actionFactories){var r=[];r[0]=function(t,e){return new lo(t)},r[1]=function(t,e){return new ho(t,e)},r[2]=function(t,e){return new Uo(t)},r[3]=function(t,e){return So.INSTANCE},r[4]=function(t,e){return Lo.INSTANCE},r[5]=function(t,e){return new Ro(t)},r[6]=function(t,e){return oo.INSTANCE},r[7]=function(t,e){return new To(t)},this.actionFactories=r}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}],n&&zo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ko(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ko(o)?o:String(o)),r)}var o}var Go=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){}}])&&Yo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Wo(o)?o:String(o)),r)}var o}function $o(t,e){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$o(t,e)}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(t)}var Qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$o(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jo(r);if(o){var n=Jo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){console.error("line "+n+":"+r+" "+o)}}])&&Xo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function Zo(t){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(t)}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Zo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Zo(o)?o:String(o)),r)}var o}function ei(t,e){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ei(t,e)}function ni(t,e){if(e&&("object"===Zo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ri(t)}function ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oi(t)}Qo.INSTANCE=new Qo;var ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ei(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oi(r);if(o){var n=oi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ni(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this),null===t)throw"delegates";return e.delegates=t,ni(e,ri(e))}return e=u,n=[{key:"syntaxError",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.syntaxError(t,e,n,r,o,i)}))}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){this.delegates.map((function(c){return c.reportAmbiguity(t,e,n,r,o,i,u)}))}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.reportAttemptingFullContext(t,e,n,r,o,i)}))}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.reportContextSensitivity(t,e,n,r,o,i)}))}}],n&&ti(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ui(o)?o:String(o)),r)}var o}var ai=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[Qo.INSTANCE],this._interp=null,this._stateNumber=-1}var e,n;return e=t,n=[{key:"checkVersion",value:function(t){var e="4.13.0";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}},{key:"addErrorListener",value:function(t){this._listeners.push(t)}},{key:"removeErrorListeners",value:function(){this._listeners=[]}},{key:"getLiteralNames",value:function(){return Object.getPrototypeOf(this).constructor.literalNames||[]}},{key:"getSymbolicNames",value:function(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}},{key:"getTokenNames",value:function(){if(!this.tokenNames){var t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(var r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}},{key:"getTokenTypeMap",value:function(){var t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";var e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=o.EOF,this.tokenTypeMapCache[t]=e),e}},{key:"getRuleIndexMap",value:function(){var t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";var e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}},{key:"getTokenType",value:function(t){var e=this.getTokenTypeMap()[t];return void 0!==e?e:o.INVALID_TYPE}},{key:"getErrorHeader",value:function(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===o.EOF?"<EOF>":"<"+t.type+">"),"'"+(e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"))+"'"}},{key:"getErrorListenerDispatch",value:function(){return new ii(this._listeners)}},{key:"sempred",value:function(t,e,n){return!0}},{key:"precpred",value:function(t,e){return!0}},{key:"atn",get:function(){return this._interp.atn}},{key:"state",get:function(){return this._stateNumber},set:function(t){this._stateNumber=t}}],n&&ci(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===li(o)?o:String(o)),r)}var o}function fi(t,e){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fi(t,e)}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pi(t)}ai.tokenTypeMapCache={},ai.ruleIndexMapCache={};var yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fi(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pi(r);if(i){var n=pi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,n,r,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(a=u.call(this)).source=void 0!==t?t:c.EMPTY_SOURCE,a.type=void 0!==e?e:null,a.channel=void 0!==n?n:o.DEFAULT_CHANNEL,a.start=void 0!==r?r:-1,a.stop=void 0!==i?i:-1,a.tokenIndex=-1,null!==a.source[0]?(a.line=t[0].line,a.column=t[0].column):a.column=-1,a}return e=c,(n=[{key:"clone",value:function(){var t=new c(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}},{key:"cloneWithType",value:function(t){var e=new c(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===o.EOF&&(e.text=""),e}},{key:"toString",value:function(){var t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}},{key:"text",get:function(){if(null!==this._text)return this._text;var t=this.getInputStream();if(null===t)return null;var e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"},set:function(t){this._text=t}}])&&si(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o);function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function bi(t,e){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bi(t,e)}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vi(t)}function di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hi(o)?o:String(o)),r)}var o}function mi(t,e,n){return e&&di(t.prototype,e),n&&di(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}yi.EMPTY_SOURCE=[null,null];var Si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bi(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=vi(e);if(n){var o=vi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t){var e;return gi(this,o),(e=r.call(this)).copyText=void 0!==t&&t,e}return mi(o,[{key:"create",value:function(t,e,n,r,o,i,u,c){var a=new yi(t,e,r,o,i);return a.line=u,a.column=c,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(o,i)),a}},{key:"createThin",value:function(t,e){var n=new yi(null,t);return n.text=e,n}}]),o}(mi((function t(){gi(this,t)})));function Oi(t){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(t)}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oi(o)?o:String(o)),r)}var o}function _i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pi(t){var e="function"==typeof Map?new Map:void 0;return Pi=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ti(t,arguments,ji(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ki(r,t)},Pi(t)}function Ti(t,e,n){return Ti=Ei()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ki(o,n.prototype),o},Ti.apply(null,arguments)}function Ei(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ki(t,e){return ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ki(t,e)}function ji(t){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(t)}Si.DEFAULT=new Si;var xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ki(t,e)}(u,t);var e,n,r,o,i=(r=u,o=Ei(),function(){var t,e=ji(r);if(o){var n=ji(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _i(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t.message),Error.captureStackTrace&&Error.captureStackTrace(_i(e),u),e.message=t.message,e.recognizer=t.recognizer,e.input=t.input,e.ctx=t.ctx,e.offendingToken=null,e.offendingState=-1,null!==e.recognizer&&(e.offendingState=e.recognizer.state),e}return e=u,(n=[{key:"getExpectedTokens",value:function(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}},{key:"toString",value:function(){return this.message}}])&&wi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Pi(Error));function Ri(t){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(t)}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ri(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ri(o)?o:String(o)),r)}var o}function Ai(t,e){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ai(t,e)}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ni(t)}var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ni(r);if(o){var n=Ni(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,{message:"",recognizer:t,input:e,ctx:null})).startIndex=n,o.deadEndConfigs=r,o}return e=u,(n=[{key:"toString",value:function(){var t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new B(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}])&&Ci(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(xi);function Li(t){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(t)}function Di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Li(o)?o:String(o)),r)}var o}function Fi(t,e){return Fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fi(t,e)}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mi(t){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mi(t)}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fi(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mi(r);if(i){var n=Mi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this))._input=t,e._factory=Si.DEFAULT,e._tokenFactorySourcePair=[Bi(e),t],e._interp=null,e._token=null,e._tokenStartCharIndex=-1,e._tokenStartLine=-1,e._tokenStartColumn=-1,e._hitEOF=!1,e._channel=o.DEFAULT_CHANNEL,e._type=o.INVALID_TYPE,e._modeStack=[],e._mode=c.DEFAULT_MODE,e._text=null,e}return e=c,n=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._token=null,this._type=o.INVALID_TYPE,this._channel=o.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=c.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}},{key:"nextToken",value:function(){if(null===this._input)throw"nextToken requires a non-null input stream.";var t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=o.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;for(var e=!1;;){this._type=o.INVALID_TYPE;var n=c.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof xi))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===o.EOF&&(this._hitEOF=!0),this._type===o.INVALID_TYPE&&(this._type=n),this._type===c.SKIP){e=!0;break}if(this._type!==c.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}},{key:"skip",value:function(){this._type=c.SKIP}},{key:"more",value:function(){this._type=c.MORE}},{key:"mode",value:function(t){this._mode=t}},{key:"pushMode",value:function(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}},{key:"popMode",value:function(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}},{key:"emitToken",value:function(t){this._token=t}},{key:"emit",value:function(){var t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}},{key:"emitEOF",value:function(){var t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,o.EOF,null,o.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}},{key:"getCharIndex",value:function(){return this._input.index}},{key:"getAllTokens",value:function(){for(var t=[],e=this.nextToken();e.type!==o.EOF;)t.push(e),e=this.nextToken();return t}},{key:"notifyListeners",value:function(t){var e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),o="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,o,t)}},{key:"getErrorDisplay",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e.join("")}},{key:"getErrorDisplayForChar",value:function(t){return t.charCodeAt(0)===o.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}},{key:"getCharErrorDisplay",value:function(t){return"'"+this.getErrorDisplayForChar(t)+"'"}},{key:"recover",value:function(t){this._input.LA(1)!==o.EOF&&(t instanceof Ii?this._interp.consume(this._input):this._input.consume())}},{key:"inputStream",get:function(){return this._input},set:function(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}},{key:"sourceName",get:function(){return this._input.sourceName}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"line",get:function(){return this._interp.line},set:function(t){this._interp.line=t}},{key:"column",get:function(){return this._interp.column},set:function(t){this._interp.column=t}},{key:"text",get:function(){return null!==this._text?this._text:this._interp.getText(this._input)},set:function(t){this._text=t}}],n&&Di(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(ai);function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vi(o)?o:String(o)),r)}var o}function qi(t){return t.hashCodeForConfigSet()}function Hi(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Ui.DEFAULT_MODE=0,Ui.MORE=-2,Ui.SKIP=-3,Ui.DEFAULT_TOKEN_CHANNEL=o.DEFAULT_CHANNEL,Ui.HIDDEN=o.HIDDEN_CHANNEL,Ui.MIN_CHAR_VALUE=0,Ui.MAX_CHAR_VALUE=1114111;var Ki=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configLookup=new g(qi,Hi),this.fullCtx=void 0===e||e,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}var e,n;return e=t,n=[{key:"add",value:function(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==j.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);var n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;var r=!this.fullCtx,o=je(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=o,!0}},{key:"getStates",value:function(){for(var t=new g,e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}},{key:"getPredicates",value:function(){for(var t=[],e=0;e<this.configs.length;e++){var n=this.configs[e].semanticContext;n!==j.NONE&&t.push(n.semanticContext)}return t}},{key:"optimizeConfigs",value:function(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];n.context=t.getCachedContext(n.context)}}},{key:"addAll",value:function(t){for(var e=0;e<t.length;e++)this.add(t[e]);return!1}},{key:"equals",value:function(e){return this===e||e instanceof t&&i(this.configs,e.configs)&&this.fullCtx===e.fullCtx&&this.uniqueAlt===e.uniqueAlt&&this.conflictingAlts===e.conflictingAlts&&this.hasSemanticContext===e.hasSemanticContext&&this.dipsIntoOuterContext===e.dipsIntoOuterContext}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}},{key:"updateHashCode",value:function(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}},{key:"isEmpty",value:function(){return 0===this.configs.length}},{key:"contains",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}},{key:"containsFast",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}},{key:"clear",value:function(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new g}},{key:"setReadonly",value:function(t){this.readOnly=t,t&&(this.configLookup=null)}},{key:"toString",value:function(){return b(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==Fe.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}},{key:"items",get:function(){return this.configs}},{key:"length",get:function(){return this.configs.length}}],n&&zi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Yi(t){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(t)}function Gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Yi(o)?o:String(o)),r)}var o}var Wi=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null===e&&(e=-1),null===n&&(n=new Ki),this.stateNumber=e,this.configs=n,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}var e,n;return e=t,n=[{key:"getAltSet",value:function(){var t=new g;if(null!==this.configs)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.configs.equals(e.configs)}},{key:"toString",value:function(){var t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}}],n&&Gi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function $i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Xi(o)?o:String(o)),r)}var o}var Ji=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e,this.sharedContextCache=n,this}var e,n;return e=t,n=[{key:"getCachedContext",value:function(t){if(null===this.sharedContextCache)return t;var e=new Te;return ke(t,this.sharedContextCache,e)}}],n&&$i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qi(t){return Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(t)}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}function tu(t){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(t)}Ji.ERROR=new Wi(2147483647,new Ki);var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tu(n);if(r){var o=tu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).configLookup=new g,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ki);function nu(t){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(t)}function ru(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==nu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==nu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===nu(o)?o:String(o)),r)}var o}function ou(){return ou="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=au(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ou.apply(this,arguments)}function iu(t,e){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iu(t,e)}function uu(t,e){if(e&&("object"===nu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cu(t)}function cu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function au(t){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},au(t)}var lu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iu(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=au(r);if(o){var n=au(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return uu(this,t)});function u(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=i.call(this,t,e);var r=t.lexerActionExecutor||null;return n.lexerActionExecutor=r||(null!==e?e.lexerActionExecutor:null),n.passedThroughNonGreedyDecision=null!==e&&n.checkNonGreedyDecision(e,n.state),n.hashCodeForConfigSet=u.prototype.hashCode,n.equalsForConfigSet=u.prototype.equals,uu(n,cu(n))}return e=u,(n=[{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&ou(au(u.prototype),"equals",this).call(this,t)}},{key:"checkNonGreedyDecision",value:function(t,e){return t.passedThroughNonGreedyDecision||e instanceof Ge&&e.nonGreedy}}])&&ru(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(L);function su(t){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(t)}function fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==su(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===su(o)?o:String(o)),r)}var o}function pu(t,e){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pu(t,e)}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(t)}var hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pu(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yu(r);if(o){var n=yu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e.actionType)).offset=t,n.action=e,n.isPositionDependent=!0,n}return e=u,(n=[{key:"execute",value:function(t){this.action.execute(t)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.offset,this.action)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.offset===t.offset&&this.action===t.action}}])&&fu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function bu(t){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(t)}function vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==bu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===bu(o)?o:String(o)),r)}var o}var du=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lexerActions=null===e?[]:e,this.cachedHashCode=f.hashStuff(e),this}var e,n,r;return e=t,n=[{key:"fixOffsetBeforeMatch",value:function(e){for(var n=null,r=0;r<this.lexerActions.length;r++)!this.lexerActions[r].isPositionDependent||this.lexerActions[r]instanceof hu||(null===n&&(n=this.lexerActions.concat([])),n[r]=new hu(e,this.lexerActions[r]));return null===n?this:new t(n)}},{key:"execute",value:function(t,e,n){var r=!1,o=e.index;try{for(var i=0;i<this.lexerActions.length;i++){var u=this.lexerActions[i];if(u instanceof hu){var c=u.offset;e.seek(n+c),u=u.action,r=n+c!==o}else u.isPositionDependent&&(e.seek(o),r=!1);u.execute(t)}}finally{r&&e.seek(o)}}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}},{key:"equals",value:function(e){if(this===e)return!0;if(e instanceof t){if(this.cachedHashCode!=e.cachedHashCode)return!1;if(this.lexerActions.length!=e.lexerActions.length)return!1;for(var n=this.lexerActions.length,r=0;r<n;++r)if(!this.lexerActions[r].equals(e.lexerActions[r]))return!1;return!0}return!1}}],r=[{key:"append",value:function(e,n){return new t(null===e?[n]:e.lexerActions.concat([n]))}}],n&&vu(e.prototype,n),r&&vu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mu(t,e){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mu(t,e)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}function Su(t){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(t)}function Ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Su(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Su(o)?o:String(o)),r)}var o}function _u(t,e,n){return e&&wu(t.prototype,e),n&&wu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pu(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}var Tu=function(){function t(){Ou(this,t),Pu(this)}return _u(t,[{key:"reset",value:function(){Pu(this)}}]),t}(),Eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=gu(e);if(n){var o=gu(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,o){var u;return Ou(this,i),(u=r.call(this,e,o)).decisionToDFA=n,u.recog=t,u.startIndex=-1,u.line=1,u.column=0,u.mode=Ui.DEFAULT_MODE,u.prevAccept=new Tu,u}return _u(i,[{key:"copyState",value:function(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}},{key:"match",value:function(t,e){this.mode=e;var n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();var r=this.decisionToDFA[e];return null===r.s0?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}},{key:"reset",value:function(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Ui.DEFAULT_MODE}},{key:"matchATN",value:function(t){var e=this.atn.modeToStartState[this.mode];i.debug&&console.log("matchATN mode "+this.mode+" start: "+e);var n=this.mode,r=this.computeStartState(t,e),o=r.hasSemanticContext;r.hasSemanticContext=!1;var u=this.addDFAState(r);o||(this.decisionToDFA[this.mode].s0=u);var c=this.execATN(t,u);return i.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),c}},{key:"execATN",value:function(t,e){i.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);for(var n=t.LA(1),r=e;;){i.debug&&console.log("execATN loop starting closure: "+r.configs);var u=this.getExistingTargetState(r,n);if(null===u&&(u=this.computeTargetState(t,r,n)),u===Ji.ERROR)break;if(n!==o.EOF&&this.consume(t),u.isAcceptState&&(this.captureSimState(this.prevAccept,t,u),n===o.EOF))break;n=t.LA(1),r=u}return this.failOrAccept(this.prevAccept,t,r.configs,n)}},{key:"getExistingTargetState",value:function(t,e){if(null===t.edges||e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE)return null;var n=t.edges[e-i.MIN_DFA_EDGE];return void 0===n&&(n=null),i.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}},{key:"computeTargetState",value:function(t,e,n){var r=new eu;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,Ji.ERROR),Ji.ERROR):this.addDFAEdge(e,n,null,r)}},{key:"failOrAccept",value:function(t,e,n,r){if(null!==this.prevAccept.dfaState){var i=t.dfaState.lexerActionExecutor;return this.accept(e,i,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===o.EOF&&e.index===this.startIndex)return o.EOF;throw new Ii(this.recog,e,this.startIndex,n)}},{key:"getReachableConfigSet",value:function(t,e,n,r){for(var u=Fe.INVALID_ALT_NUMBER,c=0;c<e.items.length;c++){var a=e.items[c],l=a.alt===u;if(!l||!a.passedThroughNonGreedyDecision){i.debug&&console.log("testing %s at %s\n",this.getTokenName(r),a.toString(this.recog,!0));for(var s=0;s<a.state.transitions.length;s++){var f=a.state.transitions[s],p=this.getReachableTarget(f,r);if(null!==p){var y=a.lexerActionExecutor;null!==y&&(y=y.fixOffsetBeforeMatch(t.index-this.startIndex));var h=r===o.EOF,b=new lu({state:p,lexerActionExecutor:y},a);this.closure(t,b,n,l,!0,h)&&(u=a.alt)}}}}}},{key:"accept",value:function(t,e,n,r,o,u){i.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=o,this.column=u,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,Ui.MAX_CHAR_VALUE)?t.target:null}},{key:"computeStartState",value:function(t,e){for(var n=oe.EMPTY,r=new eu,o=0;o<e.transitions.length;o++){var i=e.transitions[o].target,u=new lu({state:i,alt:o+1,context:n},null);this.closure(t,u,r,!1,!1,!1)}return r}},{key:"closure",value:function(t,e,n,r,o,u){var c=null;if(i.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof $){if(i.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new lu({state:e.state,context:oe.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(var a=0;a<e.context.length;a++)if(e.context.getReturnState(a)!==oe.EMPTY_RETURN_STATE){var l=e.context.getParent(a),s=this.atn.states[e.context.getReturnState(a)];c=new lu({state:s,context:l},e),r=this.closure(t,c,n,r,o,u)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(var f=0;f<e.state.transitions.length;f++){var p=e.state.transitions[f];null!==(c=this.getEpsilonTarget(t,e,p,n,o,u))&&(r=this.closure(t,c,n,r,o,u))}return r}},{key:"getEpsilonTarget",value:function(t,e,n,r,u,c){var a=null;if(n.serializationType===tt.RULE){var l=ve.create(e.context,n.followState.stateNumber);a=new lu({state:n.target,context:l},e)}else{if(n.serializationType===tt.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===tt.PREDICATE)i.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,u)&&(a=new lu({state:n.target},e));else if(n.serializationType===tt.ACTION)if(null===e.context||e.context.hasEmptyPath()){var s=du.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);a=new lu({state:n.target,lexerActionExecutor:s},e)}else a=new lu({state:n.target},e);else n.serializationType===tt.EPSILON?a=new lu({state:n.target},e):n.serializationType!==tt.ATOM&&n.serializationType!==tt.RANGE&&n.serializationType!==tt.SET||c&&n.matches(o.EOF,0,Ui.MAX_CHAR_VALUE)&&(a=new lu({state:n.target},e))}return a}},{key:"evaluatePredicate",value:function(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);var o=this.column,i=this.line,u=t.index,c=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=o,this.line=i,t.seek(u),t.release(c)}}},{key:"captureSimState",value:function(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}},{key:"addDFAEdge",value:function(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){var o=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),o)return n}return e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE||(i.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-i.MIN_DFA_EDGE]=n),n}},{key:"addDFAState",value:function(t){for(var e=new Wi(null,t),n=null,r=0;r<t.items.length;r++){var o=t.items[r];if(o.state instanceof $){n=o;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);var i=this.decisionToDFA[this.mode],u=i.states.get(e);if(null!==u)return u;var c=e;return c.stateNumber=i.states.length,t.setReadonly(!0),c.configs=t,i.states.add(c),c}},{key:"getDFA",value:function(t){return this.decisionToDFA[t]}},{key:"getText",value:function(t){return t.getText(this.startIndex,t.index-1)}},{key:"consume",value:function(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}},{key:"getTokenName",value:function(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}]),i}(Ji);function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ku(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ku(o)?o:String(o)),r)}var o}Eu.debug=!1,Eu.dfa_debug=!1,Eu.MIN_DFA_EDGE=0,Eu.MAX_DFA_EDGE=127;var xu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.alt=n,this.pred=e}var e,n;return e=t,(n=[{key:"toString",value:function(){return"("+this.pred+", "+this.alt+")"}}])&&ju(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ru(t){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(t)}function Cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ru(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ru(o)?o:String(o)),r)}var o}var Au=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={}}var e,n;return e=t,(n=[{key:"get",value:function(t){return this.data["k-"+t]||null}},{key:"set",value:function(t,e){this.data["k-"+t]=e}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith("k-")})).map((function(e){return t.data[e]}),this)}}])&&Cu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Nu={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(Nu.allConfigsInRuleStopStates(e))return!0;if(t===Nu.SLL&&e.hasSemanticContext){for(var n=new Ki,r=0;r<e.items.length;r++){var o=e.items[r];o=new L({semanticContext:j.NONE},o),n.add(o)}e=n}var i=Nu.getConflictingAltSubsets(e);return Nu.hasConflictingAltSet(i)&&!Nu.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(var e=0;e<t.items.length;e++)if(t.items[e].state instanceof $)return!0;return!1},allConfigsInRuleStopStates:function(t){for(var e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof $))return!1;return!0},resolvesToJustOneViableAlt:function(t){return Nu.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!Nu.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){var e=Nu.getAlts(t);return 1===e.length?e.minValue():Fe.INVALID_ALT_NUMBER},getAlts:function(t){var e=new Ce;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){var e=new Te;return e.hashFunction=function(t){f.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){var n=e.get(t);null===n&&(n=new Ce,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){var e=new Au;return t.items.map((function(t){var n=e.get(t.state);null===n&&(n=new Ce,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){for(var e=Nu.getStateToAltMap(t).values(),n=0;n<e.length;n++)if(1===e[n].length)return!0;return!1},getSingleViableAlt:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n].minValue();if(null===e)e=r;else if(e!==r)return Fe.INVALID_ALT_NUMBER}return e}};const Iu=Nu;function Lu(t){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(t)}function Du(t,e){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Du(t,e)}function Fu(t){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(t)}var Bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fu(n);if(r){var o=Fu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,r,u,c){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),c=c||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),(a=o.call(this,{message:"",recognizer:t,input:e,ctx:c})).deadEndConfigs=u,a.startToken=n,a.offendingToken=r,a}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function Mu(t){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(t)}function Uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Mu(o)?o:String(o)),r)}var o}var Vu=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaultMapCtor=e||Te,this.cacheMap=new this.defaultMapCtor}var e,n;return e=t,(n=[{key:"get",value:function(t,e){var n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}},{key:"set",value:function(t,e,n){var r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}])&&Uu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zu(t){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===zu(o)?o:String(o)),r)}var o}function Hu(t,e){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hu(t,e)}function Ku(t){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(t)}var Yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hu(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ku(r);if(i){var n=Ku(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=u.call(this,e,r)).parser=t,o.decisionToDFA=n,o.predictionMode=Iu.LL,o._input=null,o._startIndex=0,o._outerContext=null,o._dfa=null,o.mergeCache=null,o.debug=!1,o.debug_closure=!1,o.debug_add=!1,o.trace_atn_sim=!1,o.dfa_debug=!1,o.retry_debug=!1,o}return e=c,n=[{key:"reset",value:function(){}},{key:"adaptivePredict",value:function(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;var r=this.decisionToDFA[e];this._dfa=r;var o=t.mark(),i=t.index;try{var u;if(null===(u=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0)){null===n&&(n=ee.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));var c=this.computeStartState(r.atnStartState,ee.EMPTY,!1);r.precedenceDfa?(r.s0.configs=c,c=this.applyPrecedenceFilter(c),u=this.addDFAState(r,new Wi(null,c)),r.setPrecedenceStartState(this.parser.getPrecedence(),u)):(u=this.addDFAState(r,new Wi(null,c)),r.s0=u)}var a=this.execATN(r,u,t,i,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),a}finally{this._dfa=null,this.mergeCache=null,t.seek(i),t.release(o)}}},{key:"execATN",value:function(t,e,n,r,i){var u;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);var c=e;this.debug&&console.log("s0 = "+e);for(var a=n.LA(1);;){var l=this.getExistingTargetState(c,a);if(null===l&&(l=this.computeTargetState(t,c,a)),l===Ji.ERROR){var s=this.noViableAlt(n,i,c.configs,r);if(n.seek(r),(u=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(c.configs,i))!==Fe.INVALID_ALT_NUMBER)return u;throw s}if(l.requiresFullContext&&this.predictionMode!==Iu.SLL){var f=null;if(null!==l.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");var p=n.index;if(p!==r&&n.seek(r),1===(f=this.evalSemanticContext(l.predicates,i,!0)).length)return this.debug&&console.log("Full LL avoided"),f.minValue();p!==r&&n.seek(p)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+l);var y=this.computeStartState(t.atnStartState,i,!0);return this.reportAttemptingFullContext(t,f,l.configs,r,n.index),this.execATNWithFullContext(t,l,y,n,r,i)}if(l.isAcceptState){if(null===l.predicates)return l.prediction;var h=n.index;n.seek(r);var b=this.evalSemanticContext(l.predicates,i,!0);if(0===b.length)throw this.noViableAlt(n,i,l.configs,r);return 1===b.length||this.reportAmbiguity(t,l,r,h,!1,b,l.configs),b.minValue()}c=l,a!==o.EOF&&(n.consume(),a=n.LA(1))}}},{key:"getExistingTargetState",value:function(t,e){var n=t.edges;return null===n?null:n[e+1]||null}},{key:"computeTargetState",value:function(t,e,n){var r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,Ji.ERROR),Ji.ERROR;var o=new Wi(null,r),i=this.getUniqueAlt(r);if(this.debug){var u=Iu.getConflictingAltSubsets(r);console.log("SLL altSubSets="+b(u)+", configs="+r+", predict="+i+", allSubsetsConflict="+Iu.allSubsetsConflict(u)+", conflictingAlts="+this.getConflictingAlts(r))}return i!==Fe.INVALID_ALT_NUMBER?(o.isAcceptState=!0,o.configs.uniqueAlt=i,o.prediction=i):Iu.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(o.configs.conflictingAlts=this.getConflictingAlts(r),o.requiresFullContext=!0,o.isAcceptState=!0,o.prediction=o.configs.conflictingAlts.minValue()),o.isAcceptState&&o.configs.hasSemanticContext&&(this.predicateDFAState(o,this.atn.getDecisionState(t.decision)),null!==o.predicates&&(o.prediction=Fe.INVALID_ALT_NUMBER)),this.addDFAEdge(t,e,n,o)}},{key:"predicateDFAState",value:function(t,e){var n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),o=this.getPredsForAmbigAlts(r,t.configs,n);null!==o?(t.predicates=this.getPredicatePredictions(r,o),t.prediction=Fe.INVALID_ALT_NUMBER):t.prediction=r.minValue()}},{key:"execATNWithFullContext",value:function(t,e,n,r,i,u){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+n);var c,a=!1,l=n;r.seek(i);for(var s=r.LA(1),f=-1;;){if(null===(c=this.computeReachSet(l,s,!0))){var p=this.noViableAlt(r,u,l,i);r.seek(i);var y=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(l,u);if(y!==Fe.INVALID_ALT_NUMBER)return y;throw p}var h=Iu.getConflictingAltSubsets(c);if(this.debug&&console.log("LL altSubSets="+h+", predict="+Iu.getUniqueAlt(h)+", resolvesToJustOneViableAlt="+Iu.resolvesToJustOneViableAlt(h)),c.uniqueAlt=this.getUniqueAlt(c),c.uniqueAlt!==Fe.INVALID_ALT_NUMBER){f=c.uniqueAlt;break}if(this.predictionMode!==Iu.LL_EXACT_AMBIG_DETECTION){if((f=Iu.resolvesToJustOneViableAlt(h))!==Fe.INVALID_ALT_NUMBER)break}else if(Iu.allSubsetsConflict(h)&&Iu.allSubsetsEqual(h)){a=!0,f=Iu.getSingleViableAlt(h);break}l=c,s!==o.EOF&&(r.consume(),s=r.LA(1))}return c.uniqueAlt!==Fe.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,f,c,i,r.index),f):(this.reportAmbiguity(t,e,i,r.index,a,null,c),f)}},{key:"computeReachSet",value:function(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new Vu);for(var r=new Ki(n),i=null,u=0;u<t.items.length;u++){var c=t.items[u];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+c),c.state instanceof $)(n||e===o.EOF)&&(null===i&&(i=[]),i.push(c),this.debug_add&&console.log("added "+c+" to skippedStopStates"));else for(var a=0;a<c.state.transitions.length;a++){var l=c.state.transitions[a],s=this.getReachableTarget(l,e);if(null!==s){var f=new L({state:s},c);r.add(f,this.mergeCache),this.debug_add&&console.log("added "+f+" to intermediate")}}}var p=null;if(null===i&&e!==o.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==Fe.INVALID_ALT_NUMBER)&&(p=r),null===p){p=new Ki(n);for(var y=new g,h=e===o.EOF,b=0;b<r.items.length;b++)this.closure(r.items[b],p,y,!1,n,h)}if(e===o.EOF&&(p=this.removeAllConfigsNotInRuleStopState(p,p===r)),!(null===i||n&&Iu.hasConfigInRuleStopState(p)))for(var v=0;v<i.length;v++)p.add(i[v],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+p),0===p.items.length?null:p}},{key:"removeAllConfigsNotInRuleStopState",value:function(t,e){if(Iu.allConfigsInRuleStopStates(t))return t;for(var n=new Ki(t.fullCtx),r=0;r<t.items.length;r++){var i=t.items[r];if(i.state instanceof $)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(o.EPSILON)){var u=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new L({state:u},i),this.mergeCache)}}return n}},{key:"computeStartState",value:function(t,e,n){var r=Ee(this.atn,e),o=new Ki(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(var i=0;i<t.transitions.length;i++){var u=t.transitions[i].target,c=new L({state:u,alt:i+1,context:r},null),a=new g;this.closure(c,o,a,!0,n,!1)}return o}},{key:"applyPrecedenceFilter",value:function(t){for(var e,n=[],r=new Ki(t.fullCtx),o=0;o<t.items.length;o++)if(1===(e=t.items[o]).alt){var i=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==i&&(n[e.state.stateNumber]=e.context,i!==e.semanticContext?r.add(new L({semanticContext:i},e),this.mergeCache):r.add(e,this.mergeCache))}for(var u=0;u<t.items.length;u++)if(1!==(e=t.items[u]).alt){if(!e.precedenceFilterSuppressed){var c=n[e.state.stateNumber]||null;if(null!==c&&c.equals(e.context))continue}r.add(e,this.mergeCache)}return r}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}},{key:"getPredsForAmbigAlts",value:function(t,e,n){for(var r=[],o=0;o<e.items.length;o++){var i=e.items[o];t.has(i.alt)&&(r[i.alt]=j.orContext(r[i.alt]||null,i.semanticContext))}for(var u=0,c=1;c<n+1;c++){var a=r[c]||null;null===a?r[c]=j.NONE:a!==j.NONE&&(u+=1)}return 0===u&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+b(r)),r}},{key:"getPredicatePredictions",value:function(t,e){for(var n=[],r=!1,o=1;o<e.length;o++){var i=e[o];null!==t&&t.has(o)&&n.push(new xu(i,o)),i!==j.NONE&&(r=!0)}return r?n:null}},{key:"getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule",value:function(t,e){var n=this.splitAccordingToSemanticValidity(t,e),r=n[0],o=n[1],i=this.getAltThatFinishedDecisionEntryRule(r);return i!==Fe.INVALID_ALT_NUMBER||o.items.length>0&&(i=this.getAltThatFinishedDecisionEntryRule(o))!==Fe.INVALID_ALT_NUMBER?i:Fe.INVALID_ALT_NUMBER}},{key:"getAltThatFinishedDecisionEntryRule",value:function(t){for(var e=[],n=0;n<t.items.length;n++){var r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof $&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?Fe.INVALID_ALT_NUMBER:Math.min.apply(null,e)}},{key:"splitAccordingToSemanticValidity",value:function(t,e){for(var n=new Ki(t.fullCtx),r=new Ki(t.fullCtx),o=0;o<t.items.length;o++){var i=t.items[o];i.semanticContext!==j.NONE?i.semanticContext.evaluate(this.parser,e)?n.add(i):r.add(i):n.add(i)}return[n,r]}},{key:"evalSemanticContext",value:function(t,e,n){for(var r=new Ce,o=0;o<t.length;o++){var i=t[o];if(i.pred!==j.NONE){var u=i.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+i+"="+u),u&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+i.alt),r.add(i.alt),!n))break}else if(r.add(i.alt),!n)break}return r}},{key:"closure",value:function(t,e,n,r,o,i){this.closureCheckingStopState(t,e,n,r,o,0,i)}},{key:"closureCheckingStopState",value:function(t,e,n,r,o,i,u){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof $){if(!t.context.isEmpty()){for(var c=0;c<t.context.length;c++)if(t.context.getReturnState(c)!==oe.EMPTY_RETURN_STATE){var a=this.atn.states[t.context.getReturnState(c)],l=t.context.getParent(c),s={state:a,alt:t.alt,context:l,semanticContext:t.semanticContext},f=new L(s,null);f.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(f,e,n,r,o,i-1,u)}else{if(o){e.add(new L({state:t.state,context:oe.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,o,i,u)}return}if(o)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,o,i,u)}},{key:"closure_",value:function(t,e,n,r,o,i,u){var c=t.state;c.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(var a=0;a<c.transitions.length;a++)if(0!==a||!this.canDropLoopEntryEdgeInLeftRecursiveRule(t)){var l=c.transitions[a],s=r&&!(l instanceof Or),f=this.getEpsilonTarget(t,l,s,0===i,o,u);if(null!==f){var p=i;if(t.state instanceof $){if(null!==this._dfa&&this._dfa.precedenceDfa&&l.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(f.precedenceFilterSuppressed=!0),f.reachesIntoOuterContext+=1,n.add(f)!==f)continue;e.dipsIntoOuterContext=!0,p-=1,this.debug&&console.log("dips into outer ctx: "+f)}else{if(!l.isEpsilon&&n.add(f)!==f)continue;l instanceof it&&p>=0&&(p+=1)}this.closureCheckingStopState(f,e,n,s,o,p,u)}}}},{key:"canDropLoopEntryEdgeInLeftRecursiveRule",value:function(t){var e=t.state;if(e.stateType!==H.STAR_LOOP_ENTRY)return!1;if(e.stateType!==H.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;for(var n=t.context.length,r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;for(var o=e.transitions[0].target.endState.stateNumber,i=this.atn.states[o],u=0;u<n;u++){var c=t.context.getReturnState(u),a=this.atn.states[c];if(1!==a.transitions.length||!a.transitions[0].isEpsilon)return!1;var l=a.transitions[0].target;if(!(a.stateType===H.BLOCK_END&&l===e||a===i||l===i||l.stateType===H.BLOCK_END&&1===l.transitions.length&&l.transitions[0].isEpsilon&&l.transitions[0].target===e))return!1}return!0}},{key:"getRuleName",value:function(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}},{key:"getEpsilonTarget",value:function(t,e,n,r,i,u){switch(e.serializationType){case tt.RULE:return this.ruleTransition(t,e);case tt.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case tt.PREDICATE:return this.predTransition(t,e,n,r,i);case tt.ACTION:return this.actionTransition(t,e);case tt.EPSILON:return new L({state:e.target},t);case tt.ATOM:case tt.RANGE:case tt.SET:return u&&e.matches(o.EOF,0,1)?new L({state:e.target},t):null;default:return null}}},{key:"actionTransition",value:function(t,e){if(this.debug){var n=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+n)}return new L({state:e.target},t)}},{key:"precedenceTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+b(this.parser.getRuleInvocationStack())));var i=null;if(n&&r)if(o){var u=this._input.index;this._input.seek(this._startIndex);var c=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(i=new L({state:e.target},t))}else{var a=j.andContext(t.semanticContext,e.getPredicate());i=new L({state:e.target,semanticContext:a},t)}else i=new L({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"predTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+b(this.parser.getRuleInvocationStack())));var i=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(o){var u=this._input.index;this._input.seek(this._startIndex);var c=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(i=new L({state:e.target},t))}else{var a=j.andContext(t.semanticContext,e.getPredicate());i=new L({state:e.target,semanticContext:a},t)}else i=new L({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"ruleTransition",value:function(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);var n=e.followState,r=ve.create(t.context,n.stateNumber);return new L({state:e.target,context:r},t)}},{key:"getConflictingAlts",value:function(t){var e=Iu.getConflictingAltSubsets(t);return Iu.getAlts(e)}},{key:"getConflictingAltsOrUniqueAlt",value:function(t){var e=null;return t.uniqueAlt!==Fe.INVALID_ALT_NUMBER?(e=new Ce).add(t.uniqueAlt):e=t.conflictingAlts,e}},{key:"getTokenName",value:function(t){if(t===o.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}},{key:"getLookaheadName",value:function(t){return this.getTokenName(t.LA(1))}},{key:"dumpDeadEndConfigs",value:function(t){console.log("dead end configs: ");for(var e=t.getDeadEndConfigs(),n=0;n<e.length;n++){var r=e[n],o="no edges";if(r.state.transitions.length>0){var i=r.state.transitions[0];i instanceof fr?o="Atom "+this.getTokenName(i.label):i instanceof st&&(o=(i instanceof vt?"~":"")+"Set "+i.set)}console.error(r.toString(this.parser,!0)+":"+o)}}},{key:"noViableAlt",value:function(t,e,n,r){return new Bu(this.parser,t,t.get(r),t.LT(1),n,e)}},{key:"getUniqueAlt",value:function(t){for(var e=Fe.INVALID_ALT_NUMBER,n=0;n<t.items.length;n++){var r=t.items[n];if(e===Fe.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return Fe.INVALID_ALT_NUMBER}return e}},{key:"addDFAEdge",value:function(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){var o=null===this.parser?null:this.parser.literalNames,i=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(o,i))}return r}},{key:"addDFAState",value:function(t,e){if(e===Ji.ERROR)return e;var n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new B(r,o+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,o,e,n)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new B(r,o+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,o,e,n)}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){if(this.debug||this.retry_debug){var c=new B(n,r+1);console.log("reportAmbiguity "+i+":"+u+", input="+this.parser.getTokenStream().getText(c))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,o,i,u)}}],n&&qu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ji);function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function Wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gu(o)?o:String(o)),r)}var o}var Xu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Te}var e,n;return e=t,(n=[{key:"add",value:function(t){if(t===oe.EMPTY)return oe.EMPTY;var e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}},{key:"get",value:function(t){return this.cache.get(t)||null}},{key:"length",get:function(){return this.cache.length}}])&&Wu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const $u={ATN:Fe,ATNDeserializer:Ho,LexerATNSimulator:Eu,ParserATNSimulator:Yu,PredictionMode:Iu,PredictionContextCache:Xu};function Ju(t){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(t)}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ju(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ju(o)?o:String(o)),r)}var o}var Zu=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dfa=e,this.literalNames=n||[],this.symbolicNames=r||[]}var e,n;return e=t,n=[{key:"toString",value:function(){if(null===this.dfa.s0)return null;for(var t="",e=this.dfa.sortedStates(),n=0;n<e.length;n++){var r=e[n];if(null!==r.edges)for(var o=r.edges.length,i=0;i<o;i++){var u=r.edges[i]||null;null!==u&&2147483647!==u.stateNumber&&(t=(t=(t=(t=(t=(t=t.concat(this.getStateString(r))).concat("-")).concat(this.getEdgeLabel(i))).concat("->")).concat(this.getStateString(u))).concat("\n"))}}return 0===t.length?null:t}},{key:"getEdgeLabel",value:function(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}},{key:"getStateString",value:function(t){var e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+b(t.predicates):e+"=>"+t.prediction.toString():e}}],n&&Qu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tc(t){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(t)}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===tc(o)?o:String(o)),r)}var o}function nc(t,e){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nc(t,e)}function rc(t){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rc(t)}var oc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rc(r);if(o){var n=rc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t,null)}return e=u,n=[{key:"getEdgeLabel",value:function(t){return"'"+String.fromCharCode(t)+"'"}}],n&&ec(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zu);function ic(t){return ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(t)}function uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ic(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ic(o)?o:String(o)),r)}var o}var cc=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===n&&(n=0),this.atnStartState=e,this.decision=n,this._states=new g,this.s0=null,this.precedenceDfa=!1,e instanceof zn&&e.isPrecedenceDecision){this.precedenceDfa=!0;var r=new Wi(null,new Ki);r.edges=[],r.isAcceptState=!1,r.requiresFullContext=!1,this.s0=r}}var e,n;return e=t,(n=[{key:"getPrecedenceStartState",value:function(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}},{key:"setPrecedenceStartState",value:function(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}},{key:"setPrecedenceDfa",value:function(t){if(this.precedenceDfa!==t){if(this._states=new g,t){var e=new Wi(null,new Ki);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}else this.s0=null;this.precedenceDfa=t}}},{key:"sortedStates",value:function(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}},{key:"toString",value:function(t,e){return t=t||null,e=e||null,null===this.s0?"":new Zu(this,t,e).toString()}},{key:"toLexerString",value:function(){return null===this.s0?"":new oc(this).toString()}},{key:"states",get:function(){return this._states}}])&&uc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const ac={DFA:cc,DFASerializer:Zu,LexerDFASerializer:oc,PredPrediction:xu},lc={PredictionContext:oe},sc={Interval:B,IntervalSet:V};function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==fc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===fc(o)?o:String(o)),r)}var o}var yc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}},{key:"enterEveryRule",value:function(t){}},{key:"exitEveryRule",value:function(t){}}])&&pc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function hc(t){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(t)}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hc(o)?o:String(o)),r)}var o}var vc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visit",value:function(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}},{key:"visitChildren",value:function(t){return t.children?this.visit(t.children):null}},{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}}])&&bc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function dc(t){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(t)}function mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dc(o)?o:String(o)),r)}var o}var gc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"walk",value:function(t,e){if(e instanceof Wt||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof Ht)t.visitTerminal(e);else{this.enterRule(t,e);for(var n=0;n<e.getChildCount();n++){var r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}},{key:"enterRule",value:function(t,e){var n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}},{key:"exitRule",value:function(t,e){var n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}],n&&mc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();gc.DEFAULT=new gc;const Sc={Trees:$t,RuleNode:Ut,ErrorNode:Wt,TerminalNode:Ht,ParseTreeListener:yc,ParseTreeVisitor:vc,ParseTreeWalker:gc};function Oc(t){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(t)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}function _c(t){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_c(t)}var Pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_c(n);if(r){var o=_c(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx})).offendingToken=t.getCurrentToken(),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function Tc(t){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(t)}function Ec(t,e){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ec(t,e)}function kc(t){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kc(t)}var jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ec(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kc(n);if(r){var o=kc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,{message:xc(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});var u=t._interp.atn.states[t.state].transitions[0];return u instanceof Dr?(r.ruleIndex=u.ruleIndex,r.predicateIndex=u.predIndex):(r.ruleIndex=0,r.predicateIndex=0),r.predicate=e,r.offendingToken=t.getCurrentToken(),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function xc(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Rc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Rc(o)?o:String(o)),r)}var o}function Ac(t,e){return Ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ac(t,e)}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nc(t)}var Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ac(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nc(r);if(o){var n=Nc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),t=t||!0,(e=i.call(this)).exactOnly=t,e}return e=u,n=[{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){if(!this.exactOnly||o){var c="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(i,u)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(c)}}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){var u="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(u)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){var u="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(u)}},{key:"getDecisionDescription",value:function(t,e){var n=e.decision,r=e.atnStartState.ruleIndex,o=t.ruleNames;if(r<0||r>=o.length)return""+n;var i=o[r]||null;return null===i||0===i.length?""+n:"".concat(n," (").concat(i,")")}},{key:"getConflictingAlts",value:function(t,e){if(null!==t)return t;for(var n=new Ce,r=0;r<e.items.length;r++)n.add(e.items[r].alt);return"{".concat(n.values().join(", "),"}")}}],n&&Cc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function Lc(t){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(t)}function Dc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fc(t){var e="function"==typeof Map?new Map:void 0;return Fc=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Bc(t,arguments,Vc(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Uc(r,t)},Fc(t)}function Bc(t,e,n){return Bc=Mc()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Uc(o,n.prototype),o},Bc.apply(null,arguments)}function Mc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Uc(t,e){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uc(t,e)}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(t)}var zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uc(t,e)}(i,t);var e,n,r,o=(n=i,r=Mc(),function(){var t,e=Vc(n);if(r){var o=Vc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dc(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),Error.captureStackTrace(Dc(t),i),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Fc(Error));function qc(t){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(t)}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qc(o)?o:String(o)),r)}var o}function Kc(t){return Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(t)}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Kc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Kc(o)?o:String(o)),r)}var o}function Gc(t,e){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gc(t,e)}function Wc(t){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wc(t)}var Xc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gc(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wc(r);if(i){var n=Wc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this)).errorRecoveryMode=!1,t.lastErrorIndex=-1,t.lastErrorStates=null,t.nextTokensContext=null,t.nextTokenState=0,t}return e=c,n=[{key:"reset",value:function(t){this.endErrorCondition(t)}},{key:"beginErrorCondition",value:function(t){this.errorRecoveryMode=!0}},{key:"inErrorRecoveryMode",value:function(t){return this.errorRecoveryMode}},{key:"endErrorCondition",value:function(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}},{key:"reportMatch",value:function(t){this.endErrorCondition(t)}},{key:"reportError",value:function(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Bu?this.reportNoViableAlternative(t,e):e instanceof Pc?this.reportInputMismatch(t,e):e instanceof jc?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}},{key:"recover",value:function(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);var n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}},{key:"sync",value:function(t){if(!this.inErrorRecoveryMode(t)){var e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=H.INVALID_STATE_NUMBER);if(r.contains(o.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case H.BLOCK_START:case H.STAR_BLOCK_START:case H.PLUS_BLOCK_START:case H.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new Pc(t);case H.PLUS_LOOP_BACK:case H.STAR_LOOP_BACK:this.reportUnwantedToken(t);var i=new V;i.addSet(t.getExpectedTokens());var u=i.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,u)}}}},{key:"reportNoViableAlternative",value:function(t,e){var n,r=t.getTokenStream();n=null!==r?e.startToken.type===o.EOF?"<EOF>":r.getText(new B(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";var i="no viable alternative at input "+this.escapeWSAndQuote(n);t.notifyErrorListeners(i,e.offendingToken,e)}},{key:"reportInputMismatch",value:function(t,e){var n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportFailedPredicate",value:function(t,e){var n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportUnwantedToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}}},{key:"reportMissingToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}}},{key:"recoverInline",value:function(t){var e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new Pc(t)}},{key:"singleTokenInsertion",value:function(t){var e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}},{key:"singleTokenDeletion",value:function(t){var e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();var n=t.getCurrentToken();return this.reportMatch(t),n}return null}},{key:"getMissingSymbol",value:function(t){var e,n=t.getCurrentToken(),r=this.getExpectedTokens(t).first();e=r===o.EOF?"<missing EOF>":"<missing "+t.literalNames[r]+">";var i=n,u=t.getTokenStream().LT(-1);return i.type===o.EOF&&null!==u&&(i=u),t.getTokenFactory().create(i.source,r,e,o.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}},{key:"getExpectedTokens",value:function(t){return t.getExpectedTokens()}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===o.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}},{key:"escapeWSAndQuote",value:function(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}},{key:"getErrorRecoverySet",value:function(t){for(var e=t._interp.atn,n=t._ctx,r=new V;null!==n&&n.invokingState>=0;){var i=e.states[n.invokingState].transitions[0],u=e.nextTokens(i.followState);r.addSet(u),n=n.parentCtx}return r.removeOne(o.EPSILON),r}},{key:"consumeUntil",value:function(t,e){for(var n=t.getTokenStream().LA(1);n!==o.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}],n&&Yc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"reset",value:function(t){}},{key:"recoverInline",value:function(t){}},{key:"recover",value:function(t,e){}},{key:"sync",value:function(t){}},{key:"inErrorRecoveryMode",value:function(t){}},{key:"reportError",value:function(t){}}])&&Hc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function $c(t){return $c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(t)}function Jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$c(o)?o:String(o)),r)}var o}function Qc(t,e){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qc(t,e)}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zc(t)}var ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qc(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zc(r);if(o){var n=Zc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,n=[{key:"recover",value:function(t,e){for(var n=t._ctx;null!==n;)n.exception=e,n=n.parentCtx;throw new zc(e)}},{key:"recoverInline",value:function(t){this.recover(t,new Pc(t))}},{key:"sync",value:function(t){}}],n&&Jc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Xc);const ea={RecognitionException:xi,NoViableAltException:Bu,LexerNoViableAltException:Ii,InputMismatchException:Pc,FailedPredicateException:jc,DiagnosticErrorListener:Ic,BailErrorStrategy:ta,DefaultErrorStrategy:Xc,ErrorListener:Go};function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==na(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===na(o)?o:String(o)),r)}var o}var oa=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="<empty>",this.strdata=e,this.decodeToUnicodeCodePoints=n||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(var r=0;r<this.strdata.length;){var o=this.strdata.codePointAt(r);this.data.push(o),r+=o<=65535?1:2}else{this.data=new Array(this.strdata.length);for(var i=0;i<this.strdata.length;i++)this.data[i]=this.strdata.charCodeAt(i)}this._size=this.data.length}var e,n;return e=t,n=[{key:"reset",value:function(){this._index=0}},{key:"consume",value:function(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}},{key:"LA",value:function(t){if(0===t)return 0;t<0&&(t+=1);var e=this._index+t-1;return e<0||e>=this._size?o.EOF:this.data[e]}},{key:"LT",value:function(t){return this.LA(t)}},{key:"mark",value:function(){return-1}},{key:"release",value:function(t){}},{key:"seek",value:function(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}},{key:"getText",value:function(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){for(var n="",r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}},{key:"toString",value:function(){return this.strdata}},{key:"index",get:function(){return this._index}},{key:"size",get:function(){return this._size}}],n&&ra(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ia(t){return ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(t)}function ua(t,e){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ua(t,e)}function ca(t){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ca(t)}var aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ua(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ca(n);if(r){var o=ca(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(oa),la=n(92);function sa(t){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(t)}function fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==sa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===sa(o)?o:String(o)),r)}var o}function pa(t,e){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pa(t,e)}function ya(t){return ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ya(t)}var ha="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,ba=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pa(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ya(r);if(o){var n=ya(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===sa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!ha)throw new Error("FileStream is only available when running in Node!");var o=la.readFileSync(t,e||"utf-8");return(r=i.call(this,o,n)).fileName=t,r}return e=u,n=[{key:"fromPath",value:function(t,e,n){if(!ha)throw new Error("FileStream is only available when running in Node!");la.readFile(t,e,(function(t,e){var r=null;null!==e&&(r=new oa(e,!0)),n(t,r)}))}}],null&&0,n&&fa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(aa);const va={fromString:function(t){return new oa(t,!0)},fromBlob:function(t,e,n,r){var o=new window.FileReader;o.onload=function(t){var e=new oa(t.target.result,!0);n(e)},o.onerror=r,o.readAsText(t,e)},fromBuffer:function(t,e){return new oa(t.toString(e),!0)},fromPath:function(t,e,n){ba.fromPath(t,e,n)},fromPathSync:function(t,e){return new ba(t,e)}},da={arrayToString:b,stringToCharArray:function(t){for(var e=new Uint16Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};function ma(t){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(t)}function ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ma(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ma(o)?o:String(o)),r)}var o}function Sa(t,e,n){return e&&ga(t.prototype,e),n&&ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oa(t){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(t)}function wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oa(o)?o:String(o)),r)}var o}function _a(t,e){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_a(t,e)}function Pa(t){return Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pa(t)}var Ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_a(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pa(r);if(i){var n=Pa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this)).tokenSource=t,e.tokens=[],e.index=-1,e.fetchedEOF=!1,e}return e=c,n=[{key:"mark",value:function(){return 0}},{key:"release",value:function(t){}},{key:"reset",value:function(){this.seek(0)}},{key:"seek",value:function(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}},{key:"size",get:function(){return this.tokens.length}},{key:"get",value:function(t){return this.lazyInit(),this.tokens[t]}},{key:"consume",value:function(){if(!(this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length))&&this.LA(1)===o.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}},{key:"sync",value:function(t){var e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}},{key:"fetch",value:function(t){if(this.fetchedEOF)return 0;for(var e=0;e<t;e++){var n=this.tokenSource.nextToken();if(n.tokenIndex=this.tokens.length,this.tokens.push(n),n.type===o.EOF)return this.fetchedEOF=!0,e+1}return t}},{key:"getTokens",value:function(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();var r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(var i=t;i<e;i++){var u=this.tokens[i];if(u.type===o.EOF)break;(null===n||n.contains(u.type))&&r.push(u)}return r}},{key:"LA",value:function(t){return this.LT(t).type}},{key:"LB",value:function(t){return this.index-t<0?null:this.tokens[this.index-t]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);var e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}},{key:"adjustSeekIndex",value:function(t){return t}},{key:"lazyInit",value:function(){-1===this.index&&this.setup()}},{key:"setup",value:function(){this.sync(0),this.index=this.adjustSeekIndex(0)}},{key:"setTokenSource",value:function(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}},{key:"nextTokenOnChannel",value:function(t,e){if(this.sync(t),t>=this.tokens.length)return-1;for(var n=this.tokens[t];n.channel!==this.channel;){if(n.type===o.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}},{key:"previousTokenOnChannel",value:function(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}},{key:"getHiddenTokensToRight",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.nextTokenOnChannel(t+1,Ui.DEFAULT_TOKEN_CHANNEL),r=t+1,o=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,o,e)}},{key:"getHiddenTokensToLeft",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.previousTokenOnChannel(t-1,Ui.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;var r=n+1,o=t-1;return this.filterForChannel(r,o,e)}},{key:"filterForChannel",value:function(t,e,n){for(var r=[],o=t;o<e+1;o++){var i=this.tokens[o];-1===n?i.channel!==Ui.DEFAULT_TOKEN_CHANNEL&&r.push(i):i.channel===n&&r.push(i)}return 0===r.length?null:r}},{key:"getSourceName",value:function(){return this.tokenSource.getSourceName()}},{key:"getText",value:function(t){this.lazyInit(),this.fill(),t||(t=new B(0,this.tokens.length-1));var e=t.start;e instanceof o&&(e=e.tokenIndex);var n=t.stop;if(n instanceof o&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);for(var r="",i=e;i<n+1;i++){var u=this.tokens[i];if(u.type===o.EOF)break;r+=u.text}return r}},{key:"fill",value:function(){for(this.lazyInit();1e3===this.fetch(1e3););}}],n&&wa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Sa((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)})));function Ea(t){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(t)}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ea(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ea(o)?o:String(o)),r)}var o}function ja(t,e){return ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ja(t,e)}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}Object.defineProperty(Ta,"size",{get:function(){return this.tokens.length}});var Ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ja(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xa(r);if(i){var n=xa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ea(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t)).channel=void 0===e?o.DEFAULT_CHANNEL:e,n}return e=c,n=[{key:"adjustSeekIndex",value:function(t){return this.nextTokenOnChannel(t,this.channel)}},{key:"LB",value:function(t){if(0===t||this.index-t<0)return null;for(var e=this.index,n=1;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);for(var e=this.index,n=1;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}},{key:"getNumberOfOnChannelTokens",value:function(){var t=0;this.fill();for(var e=0;e<this.tokens.length;e++){var n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===o.EOF)break}return t}}],n&&ka(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ta);function Ca(t){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(t)}function Aa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ca(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ca(o)?o:String(o)),r)}var o}function Na(t,e){return Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Na(t,e)}function Ia(t){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ia(t)}var La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Na(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ia(r);if(o){var n=Ia(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).parser=t,e}return e=u,(n=[{key:"enterEveryRule",value:function(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}},{key:"visitTerminal",value:function(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}},{key:"exitEveryRule",value:function(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}])&&Aa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(yc);function Da(t){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(t)}function Fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Da(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Da(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Da(o)?o:String(o)),r)}var o}function Ba(t,e){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ba(t,e)}function Ma(t){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ma(t)}var Ua=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ba(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ma(r);if(i){var n=Ma(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Da(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this))._input=null,e._errHandler=new Xc,e._precedenceStack=[],e._precedenceStack.push(0),e._ctx=null,e.buildParseTrees=!0,e._tracer=null,e._parseListeners=null,e._syntaxErrors=0,e.setInputStream(t),e}return e=c,n=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}},{key:"match",value:function(t){var e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}},{key:"matchWildcard",value:function(){var t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}},{key:"getParseListeners",value:function(){return this._parseListeners||[]}},{key:"addParseListener",value:function(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}},{key:"removeParseListener",value:function(t){if(null!==this._parseListeners){var e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}},{key:"removeParseListeners",value:function(){this._parseListeners=null}},{key:"triggerEnterRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}},{key:"triggerExitRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}},{key:"getTokenFactory",value:function(){return this._input.tokenSource._factory}},{key:"setTokenFactory",value:function(t){this._input.tokenSource._factory=t}},{key:"getATNWithBypassAlts",value:function(){var t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";var e=this.bypassAltsAtnCache[t];if(null===e){var n=new $r;n.generateRuleBypassTransitions=!0,e=new Ho(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}},{key:"getInputStream",value:function(){return this.getTokenStream()}},{key:"setInputStream",value:function(t){this.setTokenStream(t)}},{key:"getTokenStream",value:function(){return this._input}},{key:"setTokenStream",value:function(t){this._input=null,this.reset(),this._input=t}},{key:"syntaxErrorsCount",get:function(){return this._syntaxErrors}},{key:"getCurrentToken",value:function(){return this._input.LT(1)}},{key:"notifyErrorListeners",value:function(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;var r=e.line,o=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,o,t,n)}},{key:"consume",value:function(){var t=this.getCurrentToken();t.type!==o.EOF&&this.getInputStream().consume();var e,n=null!==this._parseListeners&&this._parseListeners.length>0;return(this.buildParseTrees||n)&&((e=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t)).invokingState=this.state,n&&this._parseListeners.forEach((function(t){e instanceof Wt||void 0!==e.isErrorNode&&e.isErrorNode()?t.visitErrorNode(e):e instanceof Ht&&t.visitTerminal(e)}))),t}},{key:"addContextToParseTree",value:function(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}},{key:"enterRule",value:function(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}},{key:"exitRule",value:function(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}},{key:"enterOuterAlt",value:function(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}},{key:"getPrecedence",value:function(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}},{key:"enterRecursionRule",value:function(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}},{key:"pushNewRecursionContext",value:function(t,e,n){var r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}},{key:"unrollRecursionContexts",value:function(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);var e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}},{key:"getInvokingContext",value:function(t){for(var e=this._ctx;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}},{key:"precpred",value:function(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}},{key:"inContext",value:function(t){return!1}},{key:"isExpectedToken",value:function(t){var e=this._interp.atn,n=this._ctx,r=e.states[this.state],i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(o.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(o.EPSILON);){var u=e.states[n.invokingState].transitions[0];if((i=e.nextTokens(u.followState)).contains(t))return!0;n=n.parentCtx}return!(!i.contains(o.EPSILON)||t!==o.EOF)}},{key:"getExpectedTokens",value:function(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}},{key:"getExpectedTokensWithinCurrentRule",value:function(){var t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}},{key:"getRuleIndex",value:function(t){var e=this.getRuleIndexMap()[t];return null!==e?e:-1}},{key:"getRuleInvocationStack",value:function(t){null===(t=t||null)&&(t=this._ctx);for(var e=[];null!==t;){var n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}},{key:"getDFAStrings",value:function(){return this._interp.decisionToDFA.toString()}},{key:"dumpDFA",value:function(){for(var t=!1,e=0;e<this._interp.decisionToDFA.length;e++){var n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}},{key:"getSourceName",value:function(){return this._input.sourceName}},{key:"setTrace",value:function(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new La(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}],n&&Fa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(ai);function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Va(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Va(o)?o:String(o)),r)}var o}function qa(t,e){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qa(t,e)}function Ha(t){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(t)}Ua.bypassAltsAtnCache={};var Ka=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qa(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ha(r);if(i){var n=Ha(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this)).parentCtx=null,e.symbol=t,e}return e=c,(n=[{key:"getChild",value:function(t){return null}},{key:"getSymbol",value:function(){return this.symbol}},{key:"getParent",value:function(){return this.parentCtx}},{key:"getPayload",value:function(){return this.symbol}},{key:"getSourceInterval",value:function(){if(null===this.symbol)return B.INVALID_INTERVAL;var t=this.symbol.tokenIndex;return new B(t,t)}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitTerminal(this)}},{key:"getText",value:function(){return this.symbol.text}},{key:"toString",value:function(){return this.symbol.type===o.EOF?"<EOF>":this.symbol.text}}])&&za(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ht);function Ya(t){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ya(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ya(o)?o:String(o)),r)}var o}function Wa(t,e){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wa(t,e)}function Xa(t){return Xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(t)}var $a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xa(r);if(o){var n=Xa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ya(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(n=[{key:"isErrorNode",value:function(){return!0}},{key:"accept",value:function(t){return t.visitErrorNode(this)}}])&&Ga(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ka);function Ja(t){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(t)}function Qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ja(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ja(o)?o:String(o)),r)}var o}function Za(t,e){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Za(t,e)}function tl(t){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tl(t)}var el=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Za(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tl(r);if(o){var n=tl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).children=null,n.start=null,n.stop=null,n.exception=null,n}return e=u,n=[{key:"copyFrom",value:function(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof $a&&(this.children.push(t),t.parentCtx=this)}),this))}},{key:"enterRule",value:function(t){}},{key:"exitRule",value:function(t){}},{key:"addChild",value:function(t){return null===this.children&&(this.children=[]),this.children.push(t),t}},{key:"removeLastChild",value:function(){null!==this.children&&this.children.pop()}},{key:"addTokenNode",value:function(t){var e=new Ka(t);return this.addChild(e),e.parentCtx=this,e}},{key:"addErrorNode",value:function(t){var e=new $a(t);return this.addChild(e),e.parentCtx=this,e}},{key:"getChild",value:function(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}},{key:"getToken",value:function(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof Ht&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}},{key:"getTokens",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof Ht&&r.symbol.type===t&&e.push(r)}return e}},{key:"getTypedRuleContext",value:function(t,e){return this.getChild(e,t)}},{key:"getTypedRuleContexts",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof t&&e.push(r)}return e}},{key:"getChildCount",value:function(){return null===this.children?0:this.children.length}},{key:"getSourceInterval",value:function(){return null===this.start||null===this.stop?B.INVALID_INTERVAL:new B(this.start.tokenIndex,this.stop.tokenIndex)}}],n&&Qa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ee);function nl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rl(t,e)}function rl(t,e){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rl(t,e)}function ol(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=il(t);if(e){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function il(t){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},il(t)}function ul(t){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(t)}function cl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return al(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?al(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function al(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pl(r.key),r)}}function fl(t,e,n){return e&&sl(t.prototype,e),n&&sl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pl(t){var e=function(t,e){if("object"!==ul(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ul(e)?e:String(e)}ee.EMPTY=new el;var yl,hl,bl,vl=function(){function t(e){ll(this,t),this.tokens=e,this.programs=new Map}return fl(t,[{key:"getTokenStream",value:function(){return this.tokens}},{key:"insertAfter",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),u=new gl(this.tokens,r,i.length,n);i.push(u)}},{key:"insertBefore",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),u=new ml(this.tokens,r,i.length,n);i.push(u)}},{key:"replaceSingle",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;this.replace(e,e,n,r)}},{key:"replace",value:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_PROGRAM_NAME;if("number"!=typeof e&&(e=e.tokenIndex),"number"!=typeof n&&(n=n.tokenIndex),e>n||e<0||n<0||n>=this.tokens.size)throw new RangeError("replace: range invalid: ".concat(e,"..").concat(n,"(size=").concat(this.tokens.size,")"));var i=this.getProgram(o),u=new Sl(this.tokens,e,n,i.length,r);i.push(u)}},{key:"delete",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;void 0===n&&(n=e),this.replace(e,n,null,r)}},{key:"getProgram",value:function(t){var e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}},{key:"initializeProgram",value:function(t){var e=[];return this.programs.set(t,e),e}},{key:"getText",value:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_PROGRAM_NAME;n=e instanceof B?e:new B(0,this.tokens.size-1),"string"==typeof e&&(r=e);var i=this.programs.get(r),u=n.start,c=n.stop;if(c>this.tokens.size-1&&(c=this.tokens.size-1),u<0&&(u=0),null==i||0===i.length)return this.tokens.getText(new B(u,c));for(var a=[],l=this.reduceToSingleOperationPerIndex(i),s=u;s<=c&&s<this.tokens.size;){var f=l.get(s);l.delete(s);var p=this.tokens.get(s);null==f?(p.type!==o.EOF&&a.push(String(p.text)),s++):s=f.execute(a)}if(c===this.tokens.size-1){var y,h=cl(l.values());try{for(h.s();!(y=h.n()).done;){var b=y.value;b.index>=this.tokens.size-1&&a.push(b.text.toString())}}catch(t){h.e(t)}finally{h.f()}}return a.join("")}},{key:"reduceToSingleOperationPerIndex",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null!=n&&n instanceof Sl){var r,o=n,i=cl(this.getKindOfOps(t,ml,e));try{for(i.s();!(r=i.n()).done;){var u=r.value;u.index===o.index?(t[u.instructionIndex]=void 0,o.text=u.text.toString()+(null!=o.text?o.text.toString():"")):u.index>o.index&&u.index<=o.lastIndex&&(t[u.instructionIndex]=void 0)}}catch(t){i.e(t)}finally{i.f()}var c,a=cl(this.getKindOfOps(t,Sl,e));try{for(a.s();!(c=a.n()).done;){var l=c.value;if(l.index>=o.index&&l.lastIndex<=o.lastIndex)t[l.instructionIndex]=void 0;else{var s=l.lastIndex<o.index||l.index>o.lastIndex;if(null!=l.text||null!=o.text||s){if(!s)throw new Error("replace op boundaries of ".concat(o," overlap with previous ").concat(l))}else t[l.instructionIndex]=void 0,o.index=Math.min(l.index,o.index),o.lastIndex=Math.max(l.lastIndex,o.lastIndex)}}}catch(t){a.e(t)}finally{a.f()}}}for(var f=0;f<t.length;f++){var p=t[f];if(null!=p&&p instanceof ml){var y,h=p,b=cl(this.getKindOfOps(t,ml,f));try{for(b.s();!(y=b.n()).done;){var v=y.value;v.index===h.index&&(v instanceof gl?(h.text=this.catOpText(v.text,h.text),t[v.instructionIndex]=void 0):v instanceof ml&&(h.text=this.catOpText(h.text,v.text),t[v.instructionIndex]=void 0))}}catch(t){b.e(t)}finally{b.f()}var d,m=cl(this.getKindOfOps(t,Sl,f));try{for(m.s();!(d=m.n()).done;){var g=d.value;if(h.index!==g.index){if(h.index>=g.index&&h.index<=g.lastIndex)throw new Error("insert op ".concat(h," within boundaries of previous ").concat(g))}else g.text=this.catOpText(h.text,g.text),t[f]=void 0}}catch(t){m.e(t)}finally{m.f()}}}var S,O=new Map,w=cl(t);try{for(w.s();!(S=w.n()).done;){var _=S.value;if(null!=_){if(null!=O.get(_.index))throw new Error("should only be one op per index");O.set(_.index,_)}}}catch(t){w.e(t)}finally{w.f()}return O}},{key:"catOpText",value:function(t,e){var n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}},{key:"getKindOfOps",value:function(t,e,n){return t.slice(0,n).filter((function(t){return t&&t instanceof e}))}}]),t}();yl=vl,bl="default",(hl=pl(hl="DEFAULT_PROGRAM_NAME"))in yl?Object.defineProperty(yl,hl,{value:bl,enumerable:!0,configurable:!0,writable:!0}):yl[hl]=bl;var dl=function(){function t(e,n,r,o){ll(this,t),this.tokens=e,this.instructionIndex=r,this.index=n,this.text=void 0===o?"":o}return fl(t,[{key:"toString",value:function(){var t=this.constructor.name,e=t.indexOf("$");return"<"+(t=t.substring(e+1,t.length))+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}]),t}(),ml=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i){return ll(this,n),e.call(this,t,r,o,i)}return fl(n,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==o.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}]),n}(dl),gl=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i){return ll(this,n),e.call(this,t,r+1,o,i)}return fl(n)}(ml),Sl=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i,u){var c;return ll(this,n),(c=e.call(this,t,r,i,u)).lastIndex=o,c}return fl(n,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}},{key:"toString",value:function(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}]),n}(dl);const Ol={atn:$u,dfa:ac,context:lc,misc:sc,tree:Sc,error:ea,Token:o,CommonToken:yi,CharStreams:va,CharStream:aa,InputStream:aa,CommonTokenStream:Ra,Lexer:Ui,Parser:Ua,ParserRuleContext:el,Interval:B,IntervalSet:V,LL1Analyzer:Ie,Utils:da,TokenStreamRewriter:vl}})();var o=exports;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=antlr4.web.cjs.map

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var exports = __webpack_exports__;
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
const LoadPrimaryPage_1 = __webpack_require__(/*! ./LoadPrimaryPage */ "./src/LoadPrimaryPage.ts");
const LoadExpressionTestPage_1 = __webpack_require__(/*! ./LoadExpressionTestPage */ "./src/LoadExpressionTestPage.ts");
const LoadInputParseTestPage_1 = __webpack_require__(/*! ./LoadInputParseTestPage */ "./src/LoadInputParseTestPage.ts");
const LoadSolverPage_1 = __webpack_require__(/*! ./LoadSolverPage */ "./src/LoadSolverPage.ts");
const LoadSimplificationTestPage_1 = __webpack_require__(/*! ./LoadSimplificationTestPage */ "./src/LoadSimplificationTestPage.ts");
window.onload = () => {
    setTimeout(function () {
        /**
          * Populate html elements by their class.
          */
        const classes = document.getElementsByTagName('body')[0].classList;
        if (classes.contains('expressionTestPage')) {
            (0, LoadExpressionTestPage_1.loadExpressionsTestPage)();
        }
        else if (classes.contains('primaryIntegrator')) {
            (0, LoadPrimaryPage_1.loadPrimaryPage)();
        }
        else if (classes.contains('inputParseTest')) {
            (0, LoadInputParseTestPage_1.loadInputParseTestPage)();
        }
        else if (classes.contains('solve_in_steps')) {
            (0, LoadSolverPage_1.loadSolverPage)();
        }
        else if (classes.contains('mathTests')) {
            (0, LoadSimplificationTestPage_1.loadSimplificationTestPage)();
        }
    }, 100);
};

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGlCQUFpQixnQ0FBZ0M7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZCQUE2Qjs7QUFFbEQ7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBCQUEwQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3ZGQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBLGVBQWUsbUJBQU8sQ0FBQyw0REFBZTs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCO0FBQ3pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNCQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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QUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7O0FDaEpBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQy9EQTs7QUFFQSxlQUFlLG1CQUFPLENBQUMsa0VBQWE7QUFDcEMsaUJBQWlCLG1CQUFPLENBQUMsc0VBQWU7QUFDeEMsc0JBQXNCLG1CQUFPLENBQUMsbUZBQXVCO0FBQ3JELDZCQUE2QixtQkFBTyxDQUFDLG9HQUE2Qjs7QUFFbEU7O0FBRUEsaUJBQWlCO0FBQ2pCLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDaFFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FB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LEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJO0lBQ3ZFLElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLElBQUk7Q0FDcEQsQ0FBQztBQW9CcUIsOEJBQWMsR0FBYSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3RFLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRTtJQUN0RSxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQztJQUN2RSxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUU7SUFDdEUsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFO0lBQ3ZFLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUc7SUFDeEUsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRztJQUN6RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFO0lBQ3hFLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdkUsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUU7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUU7SUFDdEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFO0lBQ3ZFLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUc7SUFDekUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRTtJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FB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QyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdEUsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUU7SUFDeEUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQztJQUN0RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN0RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN0RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDO0lBQ3RFLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdkUsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUM7SUFDdkUsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDO0lBQ3RFLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRTtJQUN4RSxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUU7SUFDdEUsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRTtJQUN2RSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxDQUFDLEVBQUMsQ0FB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QyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQzNDLG1EQUFzQixHQUFFO1NBQzNCO2FBQU0sSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7WUFDM0MsbUNBQWMsR0FBRTtTQUNuQjthQUFNLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRTtZQUN0QywyREFBMEIsR0FBRTtTQUMvQjtJQUNMLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUVoQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGguZXZlbnRzL2luZGV4LmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLmdyYXBoL2luZGV4LmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL05vZGVIZWFwLmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL2EtZ3JlZWR5LXN0YXIuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvYS1zdGFyLmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL2RlZmF1bHRTZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9oZXVyaXN0aWNzLmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL21ha2VTZWFyY2hTdGF0ZVBvb2wuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvbmJhL2luZGV4LmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL25iYS9tYWtlTkJBU2VhcmNoU3RhdGVQb29sLmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9Mb2FkRXhwcmVzc2lvblRlc3RQYWdlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvTG9hZElucHV0UGFyc2VUZXN0UGFnZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL0xvYWRQcmltYXJ5UGFnZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL0xvYWRTaW1wbGlmaWNhdGlvblRlc3RQYWdlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvTG9hZFNvbHZlclBhZ2UudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL0FyZ3VtZW50LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL0dyYXBoLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9HcmFwaE1pbmlwdWxhdG9yLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9NYXRoR3JhcGhOb2RlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9SZWxhdGlvbnNoaXAudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL0Rlcml2YXRpb25SdWxlcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvRGVyaXZlci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvUmVsYXRpb25hbERlcml2YXRpb25SdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9hbGdlYnJhL0RpdmlkZU9uQm90aFNpZGVzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9hbGdlYnJhL1N1YnRyYWN0RnJvbUJvdGhTaWRlcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvY2FsY3VsdXMvQnJlYWtEZXJpdmF0aXZlc092ZXJBZGRpdGlvbi50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvY2FsY3VsdXMvUG93ZXJSdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9Qcm9kdWN0UnVsZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvY2FsY3VsdXMvUHVsbENvbnN0YW50c0Zyb21EZXJpdmF0aXZlcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvY2FsY3VsdXMvUXVvdGllbnRSdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9VU3Vic3RpdHV0aW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9yZWN1cnNpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9BZGRpdGl2ZUlkZW50aXR5LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvQW55dGhpbmdUaW1lc1plcm8udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Bc3NvY2lhdGl2ZVByb3BlcnR5T2ZQcm9kdWN0c0FuZFN1bXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9DYW5jZWxOZWdhdGl2ZXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lQ29tbW9uRmFjdG9yc011bHRpcGxpY2F0aW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvQ29tYmluZUNvbW1vblRlcm1zQWRkaXRpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lSW50ZWdlckZhY3RvcnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lUHJvZHVjdHNBbmRGcmFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9EaXN0cmlidXRpdmVQcm9wZXJ0eS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0RpdmlkZUZyYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0RpdmlzaW9uSWRlbnRpdHkudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9FdmFsdWF0ZVN1bXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9FeHBvbmVudFRvWmVyby50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0V4cG9uZW50aWFsSWRlbnRpdHkudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9GT0lMLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvTG9nT2ZPbmUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9NdWx0aXBsaWNhdGl2ZUlkZW50aXR5LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvTXVsdGlwbHlFeHBvbmVudFBvd2Vycy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL09yZGVyUHJvZHVjdHMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9PcmRlclN1bXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9SZW1vdmVDb21tb25GYWN0b3JzT25Ub3BBbmRCb3R0b21PZkZyYWN0aW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvU3VidHJhY3RFeHBvbmVudHNPbkZyYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL1N1bUNvZWZmaWNpZW50c09mQWRkZWRUZXJtcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwb25lbnQudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL0ZyYWN0aW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ2VyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ3JhbC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvTG9nYXJpdGhtLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9Qcm9kdWN0LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9TdW0udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL1ZhcmlhYmxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9pbnRlcnByZXRpbmcvSW50ZXJwcmV0ZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2ludGVycHJldGluZy9QYXRoLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL0FyZ3VtZW50Tm9kZVZpZXcudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvRWRnZVZpZXcudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvRWRpdGFibGVNYXRoVmlldy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9FeHBsYW5hdGlvblBvcHVwLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL0V4cHJlc3Npb25Ob2RlVmlldy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9HcmFwaE5vZGVWaWV3LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL1RvdWNoR2VzdHVyZVJlY29nbml6ZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvVUlQcmVmZXJlbmNlcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9XZWJHcmFwaFZpZXcudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VzZXJpbnB1dC9BbnRsck1hdGhQYXJzZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VzZXJpbnB1dC9GbGF0dGVuZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VzZXJpbnB1dC9NYXRoVmlzaXRvckltcGwudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VzZXJpbnB1dC9hcml0aG1ldGljTGV4ZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VzZXJpbnB1dC9hcml0aG1ldGljUGFyc2VyLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvYXJpdGhtZXRpY1Zpc2l0b3IudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3V0aWwvTWF0aE1MSGVscGVycy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYi50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXRpbC9hc3NlcnQudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9hbnRscjQvZGlzdC9hbnRscjQud2ViLmNqcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV2ZW50aWZ5KHN1YmplY3QpIHtcbiAgdmFsaWRhdGVTdWJqZWN0KHN1YmplY3QpO1xuXG4gIHZhciBldmVudHNTdG9yYWdlID0gY3JlYXRlRXZlbnRzU3RvcmFnZShzdWJqZWN0KTtcbiAgc3ViamVjdC5vbiA9IGV2ZW50c1N0b3JhZ2Uub247XG4gIHN1YmplY3Qub2ZmID0gZXZlbnRzU3RvcmFnZS5vZmY7XG4gIHN1YmplY3QuZmlyZSA9IGV2ZW50c1N0b3JhZ2UuZmlyZTtcbiAgcmV0dXJuIHN1YmplY3Q7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVFdmVudHNTdG9yYWdlKHN1YmplY3QpIHtcbiAgLy8gU3RvcmUgYWxsIGV2ZW50IGxpc3RlbmVycyB0byB0aGlzIGhhc2guIEtleSBpcyBldmVudCBuYW1lLCB2YWx1ZSBpcyBhcnJheVxuICAvLyBvZiBjYWxsYmFjayByZWNvcmRzLlxuICAvL1xuICAvLyBBIGNhbGxiYWNrIHJlY29yZCBjb25zaXN0cyBvZiBjYWxsYmFjayBmdW5jdGlvbiBhbmQgaXRzIG9wdGlvbmFsIGNvbnRleHQ6XG4gIC8vIHsgJ2V2ZW50TmFtZScgPT4gW3tjYWxsYmFjazogZnVuY3Rpb24sIGN0eDogb2JqZWN0fV0gfVxuICB2YXIgcmVnaXN0ZXJlZEV2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgcmV0dXJuIHtcbiAgICBvbjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2ssIGN0eCkge1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbGxiYWNrIGlzIGV4cGVjdGVkIHRvIGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICAgIHZhciBoYW5kbGVycyA9IHJlZ2lzdGVyZWRFdmVudHNbZXZlbnROYW1lXTtcbiAgICAgIGlmICghaGFuZGxlcnMpIHtcbiAgICAgICAgaGFuZGxlcnMgPSByZWdpc3RlcmVkRXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIGhhbmRsZXJzLnB1c2goe2NhbGxiYWNrOiBjYWxsYmFjaywgY3R4OiBjdHh9KTtcblxuICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfSxcblxuICAgIG9mZjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIHZhciB3YW50VG9SZW1vdmVBbGwgPSAodHlwZW9mIGV2ZW50TmFtZSA9PT0gJ3VuZGVmaW5lZCcpO1xuICAgICAgaWYgKHdhbnRUb1JlbW92ZUFsbCkge1xuICAgICAgICAvLyBLaWxsaW5nIG9sZCBldmVudHMgc3RvcmFnZSBzaG91bGQgYmUgZW5vdWdoIGluIHRoaXMgY2FzZTpcbiAgICAgICAgcmVnaXN0ZXJlZEV2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgICAgfVxuXG4gICAgICBpZiAocmVnaXN0ZXJlZEV2ZW50c1tldmVudE5hbWVdKSB7XG4gICAgICAgIHZhciBkZWxldGVBbGxDYWxsYmFja3NGb3JFdmVudCA9ICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpO1xuICAgICAgICBpZiAoZGVsZXRlQWxsQ2FsbGJhY2tzRm9yRXZlbnQpIHtcbiAgICAgICAgICBkZWxldGUgcmVnaXN0ZXJlZEV2ZW50c1tldmVudE5hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBjYWxsYmFja3MgPSByZWdpc3RlcmVkRXZlbnRzW2V2ZW50TmFtZV07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3NbaV0uY2FsbGJhY2sgPT09IGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH0sXG5cbiAgICBmaXJlOiBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICB2YXIgY2FsbGJhY2tzID0gcmVnaXN0ZXJlZEV2ZW50c1tldmVudE5hbWVdO1xuICAgICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaXJlQXJndW1lbnRzO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZpcmVBcmd1bWVudHMgPSBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIH1cbiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrSW5mbyA9IGNhbGxiYWNrc1tpXTtcbiAgICAgICAgY2FsbGJhY2tJbmZvLmNhbGxiYWNrLmFwcGx5KGNhbGxiYWNrSW5mby5jdHgsIGZpcmVBcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlU3ViamVjdChzdWJqZWN0KSB7XG4gIGlmICghc3ViamVjdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignRXZlbnRpZnkgY2Fubm90IHVzZSBmYWxzeSBvYmplY3QgYXMgZXZlbnRzIHN1YmplY3QnKTtcbiAgfVxuICB2YXIgcmVzZXJ2ZWRXb3JkcyA9IFsnb24nLCAnZmlyZScsICdvZmYnXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNlcnZlZFdvcmRzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKHN1YmplY3QuaGFzT3duUHJvcGVydHkocmVzZXJ2ZWRXb3Jkc1tpXSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN1YmplY3QgY2Fubm90IGJlIGV2ZW50aWZpZWQsIHNpbmNlIGl0IGFscmVhZHkgaGFzIHByb3BlcnR5ICdcIiArIHJlc2VydmVkV29yZHNbaV0gKyBcIidcIik7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgQ29udGFpbnMgZGVmaW5pdGlvbiBvZiB0aGUgY29yZSBncmFwaCBvYmplY3QuXG4gKi9cblxuLy8gVE9ETzogbmVlZCB0byBjaGFuZ2Ugc3RvcmFnZSBsYXllcjpcbi8vIDEuIEJlIGFibGUgdG8gZ2V0IGFsbCBub2RlcyBPKDEpXG4vLyAyLiBCZSBhYmxlIHRvIGdldCBudW1iZXIgb2YgbGlua3MgTygxKVxuXG4vKipcbiAqIEBleGFtcGxlXG4gKiAgdmFyIGdyYXBoID0gcmVxdWlyZSgnbmdyYXBoLmdyYXBoJykoKTtcbiAqICBncmFwaC5hZGROb2RlKDEpOyAgICAgLy8gZ3JhcGggaGFzIG9uZSBub2RlLlxuICogIGdyYXBoLmFkZExpbmsoMiwgMyk7ICAvLyBub3cgZ3JhcGggY29udGFpbnMgdGhyZWUgbm9kZXMgYW5kIG9uZSBsaW5rLlxuICpcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVHcmFwaDtcblxudmFyIGV2ZW50aWZ5ID0gcmVxdWlyZSgnbmdyYXBoLmV2ZW50cycpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZ3JhcGhcbiAqL1xuZnVuY3Rpb24gY3JlYXRlR3JhcGgob3B0aW9ucykge1xuICAvLyBHcmFwaCBzdHJ1Y3R1cmUgaXMgbWFpbnRhaW5lZCBhcyBkaWN0aW9uYXJ5IG9mIG5vZGVzXG4gIC8vIGFuZCBhcnJheSBvZiBsaW5rcy4gRWFjaCBub2RlIGhhcyAnbGlua3MnIHByb3BlcnR5IHdoaWNoXG4gIC8vIGhvbGQgYWxsIGxpbmtzIHJlbGF0ZWQgdG8gdGhhdCBub2RlLiBBbmQgZ2VuZXJhbCBsaW5rc1xuICAvLyBhcnJheSBpcyB1c2VkIHRvIHNwZWVkIHVwIGFsbCBsaW5rcyBlbnVtZXJhdGlvbi4gVGhpcyBpcyBpbmVmZmljaWVudFxuICAvLyBpbiB0ZXJtcyBvZiBtZW1vcnksIGJ1dCBzaW1wbGlmaWVzIGNvZGluZy5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGlmICgndW5pcXVlTGlua0lkJyBpbiBvcHRpb25zKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ25ncmFwaC5ncmFwaDogU3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDAuMTQgYHVuaXF1ZUxpbmtJZGAgaXMgZGVwcmVjYXRlZC5cXG4nICtcbiAgICAgICdVc2UgYG11bHRpZ3JhcGhgIG9wdGlvbiBpbnN0ZWFkXFxuJyxcbiAgICAgICdcXG4nLFxuICAgICAgJ05vdGU6IHRoZXJlIGlzIGFsc28gY2hhbmdlIGluIGRlZmF1bHQgYmVoYXZpb3I6IEZyb20gbm93IG9uIGVhY2ggZ3JhcGhcXG4nK1xuICAgICAgJ2lzIGNvbnNpZGVyZWQgdG8gYmUgbm90IGEgbXVsdGlncmFwaCBieSBkZWZhdWx0IChlYWNoIGVkZ2UgaXMgdW5pcXVlKS4nXG4gICAgKTtcblxuICAgIG9wdGlvbnMubXVsdGlncmFwaCA9IG9wdGlvbnMudW5pcXVlTGlua0lkO1xuICB9XG5cbiAgLy8gRGVhciByZWFkZXIsIHRoZSBub24tbXVsdGlncmFwaHMgZG8gbm90IGd1YXJhbnRlZSB0aGF0IHRoZXJlIGlzIG9ubHlcbiAgLy8gb25lIGxpbmsgZm9yIGEgZ2l2ZW4gcGFpciBvZiBub2RlLiBXaGVuIHRoaXMgb3B0aW9uIGlzIHNldCB0byBmYWxzZVxuICAvLyB3ZSBjYW4gc2F2ZSBzb21lIG1lbW9yeSBhbmQgQ1BVICgxOCUgZmFzdGVyIGZvciBub24tbXVsdGlncmFwaCk7XG4gIGlmIChvcHRpb25zLm11bHRpZ3JhcGggPT09IHVuZGVmaW5lZCkgb3B0aW9ucy5tdWx0aWdyYXBoID0gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBNYXAgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBUT0RPOiBTaG91bGQgd2UgcG9seWZpbGwgaXQgb3Vyc2VsdmVzPyBXZSBkb24ndCB1c2UgbXVjaCBvcGVyYXRpb25zIHRoZXJlLi5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25ncmFwaC5ncmFwaCByZXF1aXJlcyBgTWFwYCB0byBiZSBkZWZpbmVkLiBQbGVhc2UgcG9seWZpbGwgaXQgYmVmb3JlIHVzaW5nIG5ncmFwaCcpO1xuICB9IFxuXG4gIHZhciBub2RlcyA9IG5ldyBNYXAoKTsgLy8gbm9kZUlkID0+IE5vZGVcbiAgdmFyIGxpbmtzID0gbmV3IE1hcCgpOyAvLyBsaW5rSWQgPT4gTGlua1xuICAgIC8vIEhhc2ggb2YgbXVsdGktZWRnZXMuIFVzZWQgdG8gdHJhY2sgaWRzIG9mIGVkZ2VzIGJldHdlZW4gc2FtZSBub2Rlc1xuICB2YXIgbXVsdGlFZGdlcyA9IHt9O1xuICB2YXIgc3VzcGVuZEV2ZW50cyA9IDA7XG5cbiAgdmFyIGNyZWF0ZUxpbmsgPSBvcHRpb25zLm11bHRpZ3JhcGggPyBjcmVhdGVVbmlxdWVMaW5rIDogY3JlYXRlU2luZ2xlTGluayxcblxuICAgIC8vIE91ciBncmFwaCBBUEkgcHJvdmlkZXMgbWVhbnMgdG8gbGlzdGVuIHRvIGdyYXBoIGNoYW5nZXMuIFVzZXJzIGNhbiBzdWJzY3JpYmVcbiAgICAvLyB0byBiZSBub3RpZmllZCBhYm91dCBjaGFuZ2VzIGluIHRoZSBncmFwaCBieSB1c2luZyBgb25gIG1ldGhvZC4gSG93ZXZlclxuICAgIC8vIGluIHNvbWUgY2FzZXMgdGhleSBkb24ndCB1c2UgaXQuIFRvIGF2b2lkIHVubmVjZXNzYXJ5IG1lbW9yeSBjb25zdW1wdGlvblxuICAgIC8vIHdlIHdpbGwgbm90IHJlY29yZCBncmFwaCBjaGFuZ2VzIHVudGlsIHdlIGhhdmUgYXQgbGVhc3Qgb25lIHN1YnNjcmliZXIuXG4gICAgLy8gQ29kZSBiZWxvdyBzdXBwb3J0cyB0aGlzIG9wdGltaXphdGlvbi5cbiAgICAvL1xuICAgIC8vIEFjY3VtdWxhdGVzIGFsbCBjaGFuZ2VzIG1hZGUgZHVyaW5nIGdyYXBoIHVwZGF0ZXMuXG4gICAgLy8gRWFjaCBjaGFuZ2UgZWxlbWVudCBjb250YWluczpcbiAgICAvLyAgY2hhbmdlVHlwZSAtIG9uZSBvZiB0aGUgc3RyaW5nczogJ2FkZCcsICdyZW1vdmUnIG9yICd1cGRhdGUnO1xuICAgIC8vICBub2RlIC0gaWYgY2hhbmdlIGlzIHJlbGF0ZWQgdG8gbm9kZSB0aGlzIHByb3BlcnR5IGlzIHNldCB0byBjaGFuZ2VkIGdyYXBoJ3Mgbm9kZTtcbiAgICAvLyAgbGluayAtIGlmIGNoYW5nZSBpcyByZWxhdGVkIHRvIGxpbmsgdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gY2hhbmdlZCBncmFwaCdzIGxpbms7XG4gICAgY2hhbmdlcyA9IFtdLFxuICAgIHJlY29yZExpbmtDaGFuZ2UgPSBub29wLFxuICAgIHJlY29yZE5vZGVDaGFuZ2UgPSBub29wLFxuICAgIGVudGVyTW9kaWZpY2F0aW9uID0gbm9vcCxcbiAgICBleGl0TW9kaWZpY2F0aW9uID0gbm9vcDtcblxuICAvLyB0aGlzIGlzIG91ciBwdWJsaWMgQVBJOlxuICB2YXIgZ3JhcGhQYXJ0ID0ge1xuICAgIC8qKlxuICAgICAqIFNvbWV0aW1lcyBkdWNrIHR5cGluZyBjb3VsZCBiZSBzbG93LiBHaXZpbmcgY2xpZW50cyBhIGhpbnQgYWJvdXQgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgKiB2aWEgZXhwbGljaXQgdmVyc2lvbiBudW1iZXIgaGVyZTpcbiAgICAgKi9cbiAgICB2ZXJzaW9uOiAyMC4wLFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBub2RlIHRvIHRoZSBncmFwaC4gSWYgbm9kZSB3aXRoIGdpdmVuIGlkIGFscmVhZHkgZXhpc3RzIGluIHRoZSBncmFwaFxuICAgICAqIGl0cyBkYXRhIGlzIGV4dGVuZGVkIHdpdGggd2hhdGV2ZXIgY29tZXMgaW4gJ2RhdGEnIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGVJZCB0aGUgbm9kZSdzIGlkZW50aWZpZXIuIEEgc3RyaW5nIG9yIG51bWJlciBpcyBwcmVmZXJyZWQuXG4gICAgICogQHBhcmFtIFtkYXRhXSBhZGRpdGlvbmFsIGRhdGEgZm9yIHRoZSBub2RlIGJlaW5nIGFkZGVkLiBJZiBub2RlIGFscmVhZHlcbiAgICAgKiAgIGV4aXN0cyBpdHMgZGF0YSBvYmplY3QgaXMgYXVnbWVudGVkIHdpdGggdGhlIG5ldyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtub2RlfSBUaGUgbmV3bHkgYWRkZWQgbm9kZSBvciBub2RlIHdpdGggZ2l2ZW4gaWQgaWYgaXQgYWxyZWFkeSBleGlzdHMuXG4gICAgICovXG4gICAgYWRkTm9kZTogYWRkTm9kZSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaW5rIHRvIHRoZSBncmFwaC4gVGhlIGZ1bmN0aW9uIGFsd2F5cyBjcmVhdGUgYSBuZXdcbiAgICAgKiBsaW5rIGJldHdlZW4gdHdvIG5vZGVzLiBJZiBvbmUgb2YgdGhlIG5vZGVzIGRvZXMgbm90IGV4aXN0c1xuICAgICAqIGEgbmV3IG5vZGUgaXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmcm9tSWQgbGluayBzdGFydCBub2RlIGlkO1xuICAgICAqIEBwYXJhbSB0b0lkIGxpbmsgZW5kIG5vZGUgaWQ7XG4gICAgICogQHBhcmFtIFtkYXRhXSBhZGRpdGlvbmFsIGRhdGEgdG8gYmUgc2V0IG9uIHRoZSBuZXcgbGluaztcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2xpbmt9IFRoZSBuZXdseSBjcmVhdGVkIGxpbmtcbiAgICAgKi9cbiAgICBhZGRMaW5rOiBhZGRMaW5rLFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaW5rIGZyb20gdGhlIGdyYXBoLiBJZiBsaW5rIGRvZXMgbm90IGV4aXN0IGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaW5rIC0gb2JqZWN0IHJldHVybmVkIGJ5IGFkZExpbmsoKSBvciBnZXRMaW5rcygpIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGxpbmsgd2FzIHJlbW92ZWQ7IGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICByZW1vdmVMaW5rOiByZW1vdmVMaW5rLFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBub2RlIHdpdGggZ2l2ZW4gaWQgZnJvbSB0aGUgZ3JhcGguIElmIG5vZGUgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGdyYXBoXG4gICAgICogZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGVJZCBub2RlJ3MgaWRlbnRpZmllciBwYXNzZWQgdG8gYWRkTm9kZSgpIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBub2RlIHdhcyByZW1vdmVkOyBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgcmVtb3ZlTm9kZTogcmVtb3ZlTm9kZSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgbm9kZSB3aXRoIGdpdmVuIGlkZW50aWZpZXIuIElmIG5vZGUgZG9lcyBub3QgZXhpc3QgdW5kZWZpbmVkIHZhbHVlIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGVJZCByZXF1ZXN0ZWQgbm9kZSBpZGVudGlmaWVyO1xuICAgICAqXG4gICAgICogQHJldHVybiB7bm9kZX0gaW4gd2l0aCByZXF1ZXN0ZWQgaWRlbnRpZmllciBvciB1bmRlZmluZWQgaWYgbm8gc3VjaCBub2RlIGV4aXN0cy5cbiAgICAgKi9cbiAgICBnZXROb2RlOiBnZXROb2RlLFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBudW1iZXIgb2Ygbm9kZXMgaW4gdGhpcyBncmFwaC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gbnVtYmVyIG9mIG5vZGVzIGluIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBnZXROb2RlQ291bnQ6IGdldE5vZGVDb3VudCxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdG90YWwgbnVtYmVyIG9mIGxpbmtzIGluIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBnZXRMaW5rQ291bnQ6IGdldExpbmtDb3VudCxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdG90YWwgbnVtYmVyIG9mIGxpbmtzIGluIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBnZXRFZGdlQ291bnQ6IGdldExpbmtDb3VudCxcblxuICAgIC8qKlxuICAgICAqIFN5bm9ueW0gZm9yIGBnZXRMaW5rQ291bnQoKWBcbiAgICAgKi9cbiAgICBnZXRMaW5rc0NvdW50OiBnZXRMaW5rQ291bnQsXG4gICAgXG4gICAgLyoqXG4gICAgICogU3lub255bSBmb3IgYGdldE5vZGVDb3VudCgpYFxuICAgICAqL1xuICAgIGdldE5vZGVzQ291bnQ6IGdldE5vZGVDb3VudCxcblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGxpbmtzIChpbmJvdW5kIGFuZCBvdXRib3VuZCkgZnJvbSB0aGUgbm9kZSB3aXRoIGdpdmVuIGlkLlxuICAgICAqIElmIG5vZGUgd2l0aCBnaXZlbiBpZCBpcyBub3QgZm91bmQgbnVsbCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlSWQgcmVxdWVzdGVkIG5vZGUgaWRlbnRpZmllci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gU2V0IG9mIGxpbmtzIGZyb20gYW5kIHRvIHJlcXVlc3RlZCBub2RlIGlmIHN1Y2ggbm9kZSBleGlzdHM7XG4gICAgICogICBvdGhlcndpc2UgbnVsbCBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICBnZXRMaW5rczogZ2V0TGlua3MsXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGNhbGxiYWNrIG9uIGVhY2ggbm9kZSBvZiB0aGUgZ3JhcGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uKG5vZGUpfSBjYWxsYmFjayBGdW5jdGlvbiB0byBiZSBpbnZva2VkLiBUaGUgZnVuY3Rpb25cbiAgICAgKiAgIGlzIHBhc3NlZCBvbmUgYXJndW1lbnQ6IHZpc2l0ZWQgbm9kZS5cbiAgICAgKi9cbiAgICBmb3JFYWNoTm9kZTogZm9yRWFjaE5vZGUsXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGNhbGxiYWNrIG9uIGV2ZXJ5IGxpbmtlZCAoYWRqYWNlbnQpIG5vZGUgdG8gdGhlIGdpdmVuIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlSWQgSWRlbnRpZmllciBvZiB0aGUgcmVxdWVzdGVkIG5vZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbihub2RlLCBsaW5rKX0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGFsbCBsaW5rZWQgbm9kZXMuXG4gICAgICogICBUaGUgZnVuY3Rpb24gaXMgcGFzc2VkIHR3byBwYXJhbWV0ZXJzOiBhZGphY2VudCBub2RlIGFuZCBsaW5rIG9iamVjdCBpdHNlbGYuXG4gICAgICogQHBhcmFtIG9yaWVudGVkIGlmIHRydWUgZ3JhcGggdHJlYXRlZCBhcyBvcmllbnRlZC5cbiAgICAgKi9cbiAgICBmb3JFYWNoTGlua2VkTm9kZTogZm9yRWFjaExpbmtlZE5vZGUsXG5cbiAgICAvKipcbiAgICAgKiBFbnVtZXJhdGVzIGFsbCBsaW5rcyBpbiB0aGUgZ3JhcGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb24obGluayl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBhbGwgbGlua3MgaW4gdGhlIGdyYXBoLlxuICAgICAqICAgVGhlIGZ1bmN0aW9uIGlzIHBhc3NlZCBvbmUgcGFyYW1ldGVyOiBncmFwaCdzIGxpbmsgb2JqZWN0LlxuICAgICAqXG4gICAgICogTGluayBvYmplY3QgY29udGFpbnMgYXQgbGVhc3QgdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgICogIGZyb21JZCAtIG5vZGUgaWQgd2hlcmUgbGluayBzdGFydHM7XG4gICAgICogIHRvSWQgLSBub2RlIGlkIHdoZXJlIGxpbmsgZW5kcyxcbiAgICAgKiAgZGF0YSAtIGFkZGl0aW9uYWwgZGF0YSBwYXNzZWQgdG8gZ3JhcGguYWRkTGluaygpIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmb3JFYWNoTGluazogZm9yRWFjaExpbmssXG5cbiAgICAvKipcbiAgICAgKiBTdXNwZW5kIGFsbCBub3RpZmljYXRpb25zIGFib3V0IGdyYXBoIGNoYW5nZXMgdW50aWxcbiAgICAgKiBlbmRVcGRhdGUgaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIGJlZ2luVXBkYXRlOiBlbnRlck1vZGlmaWNhdGlvbixcblxuICAgIC8qKlxuICAgICAqIFJlc3VtZXMgYWxsIG5vdGlmaWNhdGlvbnMgYWJvdXQgZ3JhcGggY2hhbmdlcyBhbmQgZmlyZXNcbiAgICAgKiBncmFwaCAnY2hhbmdlZCcgZXZlbnQgaW4gY2FzZSB0aGVyZSBhcmUgYW55IHBlbmRpbmcgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBlbmRVcGRhdGU6IGV4aXRNb2RpZmljYXRpb24sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBub2RlcyBhbmQgbGlua3MgZnJvbSB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgY2xlYXI6IGNsZWFyLFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyB3aGV0aGVyIHRoZXJlIGlzIGEgbGluayBiZXR3ZWVuIHR3byBub2Rlcy5cbiAgICAgKiBPcGVyYXRpb24gY29tcGxleGl0eSBpcyBPKG4pIHdoZXJlIG4gLSBudW1iZXIgb2YgbGlua3Mgb2YgYSBub2RlLlxuICAgICAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gaXMgc3lub255bSBmb3IgZ2V0TGluaygpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBsaW5rIGlmIHRoZXJlIGlzIG9uZS4gbnVsbCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaGFzTGluazogZ2V0TGluayxcblxuICAgIC8qKlxuICAgICAqIERldGVjdHMgd2hldGhlciB0aGVyZSBpcyBhIG5vZGUgd2l0aCBnaXZlbiBpZFxuICAgICAqIFxuICAgICAqIE9wZXJhdGlvbiBjb21wbGV4aXR5IGlzIE8oMSlcbiAgICAgKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIGlzIHN5bm9ueW0gZm9yIGdldE5vZGUoKVxuICAgICAqXG4gICAgICogQHJldHVybnMgbm9kZSBpZiB0aGVyZSBpcyBvbmU7IEZhbHN5IHZhbHVlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBoYXNOb2RlOiBnZXROb2RlLFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBlZGdlIGJldHdlZW4gdHdvIG5vZGVzLlxuICAgICAqIE9wZXJhdGlvbiBjb21wbGV4aXR5IGlzIE8obikgd2hlcmUgbiAtIG51bWJlciBvZiBsaW5rcyBvZiBhIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJvbUlkIGxpbmsgc3RhcnQgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0b0lkIGxpbmsgZW5kIGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGxpbmsgaWYgdGhlcmUgaXMgb25lOyB1bmRlZmluZWQgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGdldExpbms6IGdldExpbmtcbiAgfTtcblxuICAvLyB0aGlzIHdpbGwgYWRkIGBvbigpYCBhbmQgYGZpcmUoKWAgbWV0aG9kcy5cbiAgZXZlbnRpZnkoZ3JhcGhQYXJ0KTtcblxuICBtb25pdG9yU3Vic2NyaWJlcnMoKTtcblxuICByZXR1cm4gZ3JhcGhQYXJ0O1xuXG4gIGZ1bmN0aW9uIG1vbml0b3JTdWJzY3JpYmVycygpIHtcbiAgICB2YXIgcmVhbE9uID0gZ3JhcGhQYXJ0Lm9uO1xuXG4gICAgLy8gcmVwbGFjZSByZWFsIGBvbmAgd2l0aCBvdXIgdGVtcG9yYXJ5IG9uLCB3aGljaCB3aWxsIHRyaWdnZXIgY2hhbmdlXG4gICAgLy8gbW9kaWZpY2F0aW9uIG1vbml0b3Jpbmc6XG4gICAgZ3JhcGhQYXJ0Lm9uID0gb247XG5cbiAgICBmdW5jdGlvbiBvbigpIHtcbiAgICAgIC8vIG5vdyBpdCdzIHRpbWUgdG8gc3RhcnQgdHJhY2tpbmcgc3R1ZmY6XG4gICAgICBncmFwaFBhcnQuYmVnaW5VcGRhdGUgPSBlbnRlck1vZGlmaWNhdGlvbiA9IGVudGVyTW9kaWZpY2F0aW9uUmVhbDtcbiAgICAgIGdyYXBoUGFydC5lbmRVcGRhdGUgPSBleGl0TW9kaWZpY2F0aW9uID0gZXhpdE1vZGlmaWNhdGlvblJlYWw7XG4gICAgICByZWNvcmRMaW5rQ2hhbmdlID0gcmVjb3JkTGlua0NoYW5nZVJlYWw7XG4gICAgICByZWNvcmROb2RlQ2hhbmdlID0gcmVjb3JkTm9kZUNoYW5nZVJlYWw7XG5cbiAgICAgIC8vIHRoaXMgd2lsbCByZXBsYWNlIGN1cnJlbnQgYG9uYCBtZXRob2Qgd2l0aCByZWFsIHB1Yi9zdWIgZnJvbSBgZXZlbnRpZnlgLlxuICAgICAgZ3JhcGhQYXJ0Lm9uID0gcmVhbE9uO1xuICAgICAgLy8gZGVsZWdhdGUgdG8gcmVhbCBgb25gIGhhbmRsZXI6XG4gICAgICByZXR1cm4gcmVhbE9uLmFwcGx5KGdyYXBoUGFydCwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWNvcmRMaW5rQ2hhbmdlUmVhbChsaW5rLCBjaGFuZ2VUeXBlKSB7XG4gICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgIGxpbms6IGxpbmssXG4gICAgICBjaGFuZ2VUeXBlOiBjaGFuZ2VUeXBlXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvcmROb2RlQ2hhbmdlUmVhbChub2RlLCBjaGFuZ2VUeXBlKSB7XG4gICAgY2hhbmdlcy5wdXNoKHtcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICBjaGFuZ2VUeXBlOiBjaGFuZ2VUeXBlXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGROb2RlKG5vZGVJZCwgZGF0YSkge1xuICAgIGlmIChub2RlSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG5vZGUgaWRlbnRpZmllcicpO1xuICAgIH1cblxuICAgIGVudGVyTW9kaWZpY2F0aW9uKCk7XG5cbiAgICB2YXIgbm9kZSA9IGdldE5vZGUobm9kZUlkKTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIG5vZGUgPSBuZXcgTm9kZShub2RlSWQsIGRhdGEpO1xuICAgICAgcmVjb3JkTm9kZUNoYW5nZShub2RlLCAnYWRkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuZGF0YSA9IGRhdGE7XG4gICAgICByZWNvcmROb2RlQ2hhbmdlKG5vZGUsICd1cGRhdGUnKTtcbiAgICB9XG5cbiAgICBub2Rlcy5zZXQobm9kZUlkLCBub2RlKTtcblxuICAgIGV4aXRNb2RpZmljYXRpb24oKTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5vZGUobm9kZUlkKSB7XG4gICAgcmV0dXJuIG5vZGVzLmdldChub2RlSWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlSWQpIHtcbiAgICB2YXIgbm9kZSA9IGdldE5vZGUobm9kZUlkKTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBlbnRlck1vZGlmaWNhdGlvbigpO1xuXG4gICAgdmFyIHByZXZMaW5rcyA9IG5vZGUubGlua3M7XG4gICAgaWYgKHByZXZMaW5rcykge1xuICAgICAgcHJldkxpbmtzLmZvckVhY2gocmVtb3ZlTGlua0luc3RhbmNlKTtcbiAgICAgIG5vZGUubGlua3MgPSBudWxsO1xuICAgIH1cblxuICAgIG5vZGVzLmRlbGV0ZShub2RlSWQpO1xuXG4gICAgcmVjb3JkTm9kZUNoYW5nZShub2RlLCAncmVtb3ZlJyk7XG5cbiAgICBleGl0TW9kaWZpY2F0aW9uKCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gYWRkTGluayhmcm9tSWQsIHRvSWQsIGRhdGEpIHtcbiAgICBlbnRlck1vZGlmaWNhdGlvbigpO1xuXG4gICAgdmFyIGZyb21Ob2RlID0gZ2V0Tm9kZShmcm9tSWQpIHx8IGFkZE5vZGUoZnJvbUlkKTtcbiAgICB2YXIgdG9Ob2RlID0gZ2V0Tm9kZSh0b0lkKSB8fCBhZGROb2RlKHRvSWQpO1xuXG4gICAgdmFyIGxpbmsgPSBjcmVhdGVMaW5rKGZyb21JZCwgdG9JZCwgZGF0YSk7XG4gICAgdmFyIGlzVXBkYXRlID0gbGlua3MuaGFzKGxpbmsuaWQpO1xuXG4gICAgbGlua3Muc2V0KGxpbmsuaWQsIGxpbmspO1xuXG4gICAgLy8gVE9ETzogdGhpcyBpcyBub3QgY29vbC4gT24gbGFyZ2UgZ3JhcGhzIHBvdGVudGlhbGx5IHdvdWxkIGNvbnN1bWUgbW9yZSBtZW1vcnkuXG4gICAgYWRkTGlua1RvTm9kZShmcm9tTm9kZSwgbGluayk7XG4gICAgaWYgKGZyb21JZCAhPT0gdG9JZCkge1xuICAgICAgLy8gbWFrZSBzdXJlIHdlIGFyZSBub3QgZHVwbGljYXRpbmcgbGlua3MgZm9yIHNlbGYtbG9vcHNcbiAgICAgIGFkZExpbmtUb05vZGUodG9Ob2RlLCBsaW5rKTtcbiAgICB9XG5cbiAgICByZWNvcmRMaW5rQ2hhbmdlKGxpbmssIGlzVXBkYXRlID8gJ3VwZGF0ZScgOiAnYWRkJyk7XG5cbiAgICBleGl0TW9kaWZpY2F0aW9uKCk7XG5cbiAgICByZXR1cm4gbGluaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNpbmdsZUxpbmsoZnJvbUlkLCB0b0lkLCBkYXRhKSB7XG4gICAgdmFyIGxpbmtJZCA9IG1ha2VMaW5rSWQoZnJvbUlkLCB0b0lkKTtcbiAgICB2YXIgcHJldkxpbmsgPSBsaW5rcy5nZXQobGlua0lkKTtcbiAgICBpZiAocHJldkxpbmspIHtcbiAgICAgIHByZXZMaW5rLmRhdGEgPSBkYXRhO1xuICAgICAgcmV0dXJuIHByZXZMaW5rO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgTGluayhmcm9tSWQsIHRvSWQsIGRhdGEsIGxpbmtJZCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVVbmlxdWVMaW5rKGZyb21JZCwgdG9JZCwgZGF0YSkge1xuICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIvZmFzdGVyIHdheSB0byBzdG9yZSBtdWx0aWdyYXBoc1xuICAgIHZhciBsaW5rSWQgPSBtYWtlTGlua0lkKGZyb21JZCwgdG9JZCk7XG4gICAgdmFyIGlzTXVsdGlFZGdlID0gbXVsdGlFZGdlcy5oYXNPd25Qcm9wZXJ0eShsaW5rSWQpO1xuICAgIGlmIChpc011bHRpRWRnZSB8fCBnZXRMaW5rKGZyb21JZCwgdG9JZCkpIHtcbiAgICAgIGlmICghaXNNdWx0aUVkZ2UpIHtcbiAgICAgICAgbXVsdGlFZGdlc1tsaW5rSWRdID0gMDtcbiAgICAgIH1cbiAgICAgIHZhciBzdWZmaXggPSAnQCcgKyAoKyttdWx0aUVkZ2VzW2xpbmtJZF0pO1xuICAgICAgbGlua0lkID0gbWFrZUxpbmtJZChmcm9tSWQgKyBzdWZmaXgsIHRvSWQgKyBzdWZmaXgpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgTGluayhmcm9tSWQsIHRvSWQsIGRhdGEsIGxpbmtJZCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb2RlQ291bnQoKSB7XG4gICAgcmV0dXJuIG5vZGVzLnNpemU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaW5rQ291bnQoKSB7XG4gICAgcmV0dXJuIGxpbmtzLnNpemU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaW5rcyhub2RlSWQpIHtcbiAgICB2YXIgbm9kZSA9IGdldE5vZGUobm9kZUlkKTtcbiAgICByZXR1cm4gbm9kZSA/IG5vZGUubGlua3MgOiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTGluayhsaW5rLCBvdGhlcklkKSB7XG4gICAgaWYgKG90aGVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGluayA9IGdldExpbmsobGluaywgb3RoZXJJZCk7XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVMaW5rSW5zdGFuY2UobGluayk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVMaW5rSW5zdGFuY2UobGluaykge1xuICAgIGlmICghbGluaykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWxpbmtzLmdldChsaW5rLmlkKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZW50ZXJNb2RpZmljYXRpb24oKTtcblxuICAgIGxpbmtzLmRlbGV0ZShsaW5rLmlkKTtcblxuICAgIHZhciBmcm9tTm9kZSA9IGdldE5vZGUobGluay5mcm9tSWQpO1xuICAgIHZhciB0b05vZGUgPSBnZXROb2RlKGxpbmsudG9JZCk7XG5cbiAgICBpZiAoZnJvbU5vZGUpIHtcbiAgICAgIGZyb21Ob2RlLmxpbmtzLmRlbGV0ZShsaW5rKTtcbiAgICB9XG5cbiAgICBpZiAodG9Ob2RlKSB7XG4gICAgICB0b05vZGUubGlua3MuZGVsZXRlKGxpbmspO1xuICAgIH1cblxuICAgIHJlY29yZExpbmtDaGFuZ2UobGluaywgJ3JlbW92ZScpO1xuXG4gICAgZXhpdE1vZGlmaWNhdGlvbigpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaW5rKGZyb21Ob2RlSWQsIHRvTm9kZUlkKSB7XG4gICAgaWYgKGZyb21Ob2RlSWQgPT09IHVuZGVmaW5lZCB8fCB0b05vZGVJZCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBsaW5rcy5nZXQobWFrZUxpbmtJZChmcm9tTm9kZUlkLCB0b05vZGVJZCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgZW50ZXJNb2RpZmljYXRpb24oKTtcbiAgICBmb3JFYWNoTm9kZShmdW5jdGlvbihub2RlKSB7XG4gICAgICByZW1vdmVOb2RlKG5vZGUuaWQpO1xuICAgIH0pO1xuICAgIGV4aXRNb2RpZmljYXRpb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvckVhY2hMaW5rKGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHZhbHVlc0l0ZXJhdG9yID0gbGlua3MudmFsdWVzKCk7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgICAgd2hpbGUgKCFuZXh0VmFsdWUuZG9uZSkge1xuICAgICAgICBpZiAoY2FsbGJhY2sobmV4dFZhbHVlLnZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBjbGllbnQgZG9lc24ndCB3YW50IHRvIHByb2NlZWQuIFJldHVybi5cbiAgICAgICAgfVxuICAgICAgICBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZm9yRWFjaExpbmtlZE5vZGUobm9kZUlkLCBjYWxsYmFjaywgb3JpZW50ZWQpIHtcbiAgICB2YXIgbm9kZSA9IGdldE5vZGUobm9kZUlkKTtcblxuICAgIGlmIChub2RlICYmIG5vZGUubGlua3MgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAob3JpZW50ZWQpIHtcbiAgICAgICAgcmV0dXJuIGZvckVhY2hPcmllbnRlZExpbmsobm9kZS5saW5rcywgbm9kZUlkLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9yRWFjaE5vbk9yaWVudGVkTGluayhub2RlLmxpbmtzLCBub2RlSWQsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gIGZ1bmN0aW9uIGZvckVhY2hOb25PcmllbnRlZExpbmsobGlua3MsIG5vZGVJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgcXVpdEZhc3Q7XG5cbiAgICB2YXIgdmFsdWVzSXRlcmF0b3IgPSBsaW5rcy52YWx1ZXMoKTtcbiAgICB2YXIgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgIHdoaWxlICghbmV4dFZhbHVlLmRvbmUpIHtcbiAgICAgIHZhciBsaW5rID0gbmV4dFZhbHVlLnZhbHVlO1xuICAgICAgdmFyIGxpbmtlZE5vZGVJZCA9IGxpbmsuZnJvbUlkID09PSBub2RlSWQgPyBsaW5rLnRvSWQgOiBsaW5rLmZyb21JZDtcbiAgICAgIHF1aXRGYXN0ID0gY2FsbGJhY2sobm9kZXMuZ2V0KGxpbmtlZE5vZGVJZCksIGxpbmspO1xuICAgICAgaWYgKHF1aXRGYXN0KSB7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBDbGllbnQgZG9lcyBub3QgbmVlZCBtb3JlIGl0ZXJhdGlvbnMuIEJyZWFrIG5vdy5cbiAgICAgIH1cbiAgICAgIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gIGZ1bmN0aW9uIGZvckVhY2hPcmllbnRlZExpbmsobGlua3MsIG5vZGVJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgcXVpdEZhc3Q7XG4gICAgdmFyIHZhbHVlc0l0ZXJhdG9yID0gbGlua3MudmFsdWVzKCk7XG4gICAgdmFyIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICB3aGlsZSAoIW5leHRWYWx1ZS5kb25lKSB7XG4gICAgICB2YXIgbGluayA9IG5leHRWYWx1ZS52YWx1ZTtcbiAgICAgIGlmIChsaW5rLmZyb21JZCA9PT0gbm9kZUlkKSB7XG4gICAgICAgIHF1aXRGYXN0ID0gY2FsbGJhY2sobm9kZXMuZ2V0KGxpbmsudG9JZCksIGxpbmspO1xuICAgICAgICBpZiAocXVpdEZhc3QpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gQ2xpZW50IGRvZXMgbm90IG5lZWQgbW9yZSBpdGVyYXRpb25zLiBCcmVhayBub3cuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gIH1cblxuICAvLyB3ZSB3aWxsIG5vdCBmaXJlIGFueXRoaW5nIHVudGlsIHVzZXJzIG9mIHRoaXMgbGlicmFyeSBleHBsaWNpdGx5IGNhbGwgYG9uKClgXG4gIC8vIG1ldGhvZC5cbiAgZnVuY3Rpb24gbm9vcCgpIHt9XG5cbiAgLy8gRW50ZXIsIEV4aXQgbW9kaWZpY2F0aW9uIGFsbG93cyBidWxrIGdyYXBoIHVwZGF0ZXMgd2l0aG91dCBmaXJpbmcgZXZlbnRzLlxuICBmdW5jdGlvbiBlbnRlck1vZGlmaWNhdGlvblJlYWwoKSB7XG4gICAgc3VzcGVuZEV2ZW50cyArPSAxO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhpdE1vZGlmaWNhdGlvblJlYWwoKSB7XG4gICAgc3VzcGVuZEV2ZW50cyAtPSAxO1xuICAgIGlmIChzdXNwZW5kRXZlbnRzID09PSAwICYmIGNoYW5nZXMubGVuZ3RoID4gMCkge1xuICAgICAgZ3JhcGhQYXJ0LmZpcmUoJ2NoYW5nZWQnLCBjaGFuZ2VzKTtcbiAgICAgIGNoYW5nZXMubGVuZ3RoID0gMDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmb3JFYWNoTm9kZShjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gaXMgZXhwZWN0ZWQgdG8gaXRlcmF0ZSBvdmVyIGdyYXBoIG5vZGVzLiBZb3UgcGFzc2VkICcgKyBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlc0l0ZXJhdG9yID0gbm9kZXMudmFsdWVzKCk7XG4gICAgdmFyIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICB3aGlsZSAoIW5leHRWYWx1ZS5kb25lKSB7XG4gICAgICBpZiAoY2FsbGJhY2sobmV4dFZhbHVlLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gY2xpZW50IGRvZXNuJ3Qgd2FudCB0byBwcm9jZWVkLiBSZXR1cm4uXG4gICAgICB9XG4gICAgICBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgc3RydWN0dXJlIHRvIHJlcHJlc2VudCBub2RlO1xuICovXG5mdW5jdGlvbiBOb2RlKGlkLCBkYXRhKSB7XG4gIHRoaXMuaWQgPSBpZDtcbiAgdGhpcy5saW5rcyA9IG51bGw7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG59XG5cbmZ1bmN0aW9uIGFkZExpbmtUb05vZGUobm9kZSwgbGluaykge1xuICBpZiAobm9kZS5saW5rcykge1xuICAgIG5vZGUubGlua3MuYWRkKGxpbmspO1xuICB9IGVsc2Uge1xuICAgIG5vZGUubGlua3MgPSBuZXcgU2V0KFtsaW5rXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBzdHJ1Y3R1cmUgdG8gcmVwcmVzZW50IGxpbmtzO1xuICovXG5mdW5jdGlvbiBMaW5rKGZyb21JZCwgdG9JZCwgZGF0YSwgaWQpIHtcbiAgdGhpcy5mcm9tSWQgPSBmcm9tSWQ7XG4gIHRoaXMudG9JZCA9IHRvSWQ7XG4gIHRoaXMuZGF0YSA9IGRhdGE7XG4gIHRoaXMuaWQgPSBpZDtcbn1cblxuZnVuY3Rpb24gbWFrZUxpbmtJZChmcm9tSWQsIHRvSWQpIHtcbiAgcmV0dXJuIGZyb21JZC50b1N0cmluZygpICsgJ/CfkYkgJyArIHRvSWQudG9TdHJpbmcoKTtcbn1cbiIsIi8qKlxuICogQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL21vdXJuZXIvdGlueXF1ZXVlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIFZsYWRpbWlyIEFnYWZvbmtpbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci90aW55cXVldWUvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogXG4gKiBBZGFwdGVkIGZvciBQYXRoRmluZGluZyBuZWVkcyBieSBAYW52YWthXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIEFuZHJlaSBLYXNoY2hhXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gTm9kZUhlYXA7XG5cbmZ1bmN0aW9uIE5vZGVIZWFwKGRhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE5vZGVIZWFwKSkgcmV0dXJuIG5ldyBOb2RlSGVhcChkYXRhLCBvcHRpb25zKTtcblxuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAvLyBhc3N1bWUgZmlyc3QgYXJndW1lbnQgaXMgb3VyIGNvbmZpZyBvYmplY3Q7XG4gICAgb3B0aW9ucyA9IGRhdGE7XG4gICAgZGF0YSA9IFtdO1xuICB9XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdGhpcy5kYXRhID0gZGF0YSB8fCBbXTtcbiAgdGhpcy5sZW5ndGggPSB0aGlzLmRhdGEubGVuZ3RoO1xuICB0aGlzLmNvbXBhcmUgPSBvcHRpb25zLmNvbXBhcmUgfHwgZGVmYXVsdENvbXBhcmU7XG4gIHRoaXMuc2V0Tm9kZUlkID0gb3B0aW9ucy5zZXROb2RlSWQgfHwgbm9vcDtcblxuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgZm9yICh2YXIgaSA9ICh0aGlzLmxlbmd0aCA+PiAxKTsgaSA+PSAwOyBpLS0pIHRoaXMuX2Rvd24oaSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5zZXROb2RlSWQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRoaXMuc2V0Tm9kZUlkKHRoaXMuZGF0YVtpXSwgaSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gIHJldHVybiBhIC0gYjtcbn1cblxuTm9kZUhlYXAucHJvdG90eXBlID0ge1xuXG4gIHB1c2g6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdGhpcy5kYXRhLnB1c2goaXRlbSk7XG4gICAgdGhpcy5zZXROb2RlSWQoaXRlbSwgdGhpcy5sZW5ndGgpO1xuICAgIHRoaXMubGVuZ3RoKys7XG4gICAgdGhpcy5fdXAodGhpcy5sZW5ndGggLSAxKTtcbiAgfSxcblxuICBwb3A6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgdG9wID0gdGhpcy5kYXRhWzBdO1xuICAgIHRoaXMubGVuZ3RoLS07XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmRhdGFbMF0gPSB0aGlzLmRhdGFbdGhpcy5sZW5ndGhdO1xuICAgICAgdGhpcy5zZXROb2RlSWQodGhpcy5kYXRhWzBdLCAwKTtcbiAgICAgIHRoaXMuX2Rvd24oMCk7XG4gICAgfVxuICAgIHRoaXMuZGF0YS5wb3AoKTtcblxuICAgIHJldHVybiB0b3A7XG4gIH0sXG5cbiAgcGVlazogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGFbMF07XG4gIH0sXG5cbiAgdXBkYXRlSXRlbTogZnVuY3Rpb24gKHBvcykge1xuICAgIHRoaXMuX2Rvd24ocG9zKTtcbiAgICB0aGlzLl91cChwb3MpO1xuICB9LFxuXG4gIF91cDogZnVuY3Rpb24gKHBvcykge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBjb21wYXJlID0gdGhpcy5jb21wYXJlO1xuICAgIHZhciBzZXROb2RlSWQgPSB0aGlzLnNldE5vZGVJZDtcbiAgICB2YXIgaXRlbSA9IGRhdGFbcG9zXTtcblxuICAgIHdoaWxlIChwb3MgPiAwKSB7XG4gICAgICB2YXIgcGFyZW50ID0gKHBvcyAtIDEpID4+IDE7XG4gICAgICB2YXIgY3VycmVudCA9IGRhdGFbcGFyZW50XTtcbiAgICAgIGlmIChjb21wYXJlKGl0ZW0sIGN1cnJlbnQpID49IDApIGJyZWFrO1xuICAgICAgICBkYXRhW3Bvc10gPSBjdXJyZW50O1xuXG4gICAgICAgc2V0Tm9kZUlkKGN1cnJlbnQsIHBvcyk7XG4gICAgICAgcG9zID0gcGFyZW50O1xuICAgIH1cblxuICAgIGRhdGFbcG9zXSA9IGl0ZW07XG4gICAgc2V0Tm9kZUlkKGl0ZW0sIHBvcyk7XG4gIH0sXG5cbiAgX2Rvd246IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgY29tcGFyZSA9IHRoaXMuY29tcGFyZTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IHRoaXMubGVuZ3RoID4+IDE7XG4gICAgdmFyIGl0ZW0gPSBkYXRhW3Bvc107XG4gICAgdmFyIHNldE5vZGVJZCA9IHRoaXMuc2V0Tm9kZUlkO1xuXG4gICAgd2hpbGUgKHBvcyA8IGhhbGZMZW5ndGgpIHtcbiAgICAgIHZhciBsZWZ0ID0gKHBvcyA8PCAxKSArIDE7XG4gICAgICB2YXIgcmlnaHQgPSBsZWZ0ICsgMTtcbiAgICAgIHZhciBiZXN0ID0gZGF0YVtsZWZ0XTtcblxuICAgICAgaWYgKHJpZ2h0IDwgdGhpcy5sZW5ndGggJiYgY29tcGFyZShkYXRhW3JpZ2h0XSwgYmVzdCkgPCAwKSB7XG4gICAgICAgIGxlZnQgPSByaWdodDtcbiAgICAgICAgYmVzdCA9IGRhdGFbcmlnaHRdO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmUoYmVzdCwgaXRlbSkgPj0gMCkgYnJlYWs7XG5cbiAgICAgIGRhdGFbcG9zXSA9IGJlc3Q7XG4gICAgICBzZXROb2RlSWQoYmVzdCwgcG9zKTtcbiAgICAgIHBvcyA9IGxlZnQ7XG4gICAgfVxuXG4gICAgZGF0YVtwb3NdID0gaXRlbTtcbiAgICBzZXROb2RlSWQoaXRlbSwgcG9zKTtcbiAgfVxufTsiLCIvKipcbiAqIFBlcmZvcm1zIHN1Ym9wdGltYWwsIGdyZWVkIEEgU3RhciBwYXRoIGZpbmRpbmcuXG4gKiBUaGlzIGZpbmRlciBkb2VzIG5vdCBuZWNlc3NhcnkgZmluZHMgdGhlIHNob3J0ZXN0IHBhdGguIFRoZSBwYXRoXG4gKiB0aGF0IGl0IGZpbmRzIGlzIHZlcnkgY2xvc2UgdG8gdGhlIHNob3J0ZXN0IG9uZS4gSXQgaXMgdmVyeSBmYXN0IHRob3VnaC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBhU3RhckJpO1xuXG52YXIgTm9kZUhlYXAgPSByZXF1aXJlKCcuL05vZGVIZWFwJyk7XG52YXIgbWFrZVNlYXJjaFN0YXRlUG9vbCA9IHJlcXVpcmUoJy4vbWFrZVNlYXJjaFN0YXRlUG9vbCcpO1xudmFyIGhldXJpc3RpY3MgPSByZXF1aXJlKCcuL2hldXJpc3RpY3MnKTtcbnZhciBkZWZhdWx0U2V0dGluZ3MgPSByZXF1aXJlKCcuL2RlZmF1bHRTZXR0aW5ncycpO1xuXG52YXIgQllfRlJPTSA9IDE7XG52YXIgQllfVE8gPSAyO1xudmFyIE5PX1BBVEggPSBkZWZhdWx0U2V0dGluZ3MuTk9fUEFUSDtcblxubW9kdWxlLmV4cG9ydHMubDIgPSBoZXVyaXN0aWNzLmwyO1xubW9kdWxlLmV4cG9ydHMubDEgPSBoZXVyaXN0aWNzLmwxO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgcGF0aGZpbmRlci4gQSBwYXRoZmluZGVyIGhhcyBqdXN0IG9uZSBtZXRob2Q6XG4gKiBgZmluZChmcm9tSWQsIHRvSWQpYCwgaXQgbWF5IGJlIGV4dGVuZGVkIGluIGZ1dHVyZS5cbiAqIFxuICogTk9URTogQWxnb3JpdGhtIGltcGxlbWVudGVkIGluIHRoaXMgY29kZSBET0VTIE5PVCBmaW5kIG9wdGltYWwgcGF0aC5cbiAqIFlldCB0aGUgcGF0aCB0aGF0IGl0IGZpbmRzIGlzIGFsd2F5cyBuZWFyIG9wdGltYWwsIGFuZCBpdCBmaW5kcyBpdCB2ZXJ5IGZhc3QuXG4gKiBcbiAqIEBwYXJhbSB7bmdyYXBoLmdyYXBofSBncmFwaCBpbnN0YW5jZS4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnZha2EvbmdyYXBoLmdyYXBoXG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHRoYXQgY29uZmlndXJlcyBzZWFyY2hcbiAqIEBwYXJhbSB7RnVuY3Rpb24oYSwgYil9IG9wdGlvbnMuaGV1cmlzdGljIC0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZXN0aW1hdGVkIGRpc3RhbmNlIGJldHdlZW5cbiAqIG5vZGVzIGBhYCBhbmQgYGJgLiAgRGVmYXVsdHMgZnVuY3Rpb24gcmV0dXJucyAwLCB3aGljaCBtYWtlcyB0aGlzIHNlYXJjaCBlcXVpdmFsZW50IHRvIERpamtzdHJhIHNlYXJjaC5cbiAqIEBwYXJhbSB7RnVuY3Rpb24oYSwgYil9IG9wdGlvbnMuZGlzdGFuY2UgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhY3R1YWwgZGlzdGFuY2UgYmV0d2VlbiB0d29cbiAqIG5vZGVzIGBhYCBhbmQgYGJgLiBCeSBkZWZhdWx0IHRoaXMgaXMgc2V0IHRvIHJldHVybiBncmFwaC10aGVvcmV0aWNhbCBkaXN0YW5jZSAoYWx3YXlzIDEpO1xuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLm9yaWVudGVkIC0gd2hldGhlciBncmFwaCBzaG91bGQgYmUgY29uc2lkZXJlZCBvcmllbnRlZCBvciBub3QuXG4gKiBcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgcGF0aGZpbmRlciB3aXRoIHNpbmdsZSBtZXRob2QgYGZpbmQoKWAuXG4gKi9cbmZ1bmN0aW9uIGFTdGFyQmkoZ3JhcGgsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIC8vIHdoZXRoZXIgdHJhdmVyc2FsIHNob3VsZCBiZSBjb25zaWRlcmVkIG92ZXIgb3JpZW50ZWQgZ3JhcGguXG4gIHZhciBvcmllbnRlZCA9IG9wdGlvbnMub3JpZW50ZWQ7XG5cbiAgdmFyIGhldXJpc3RpYyA9IG9wdGlvbnMuaGV1cmlzdGljO1xuICBpZiAoIWhldXJpc3RpYykgaGV1cmlzdGljID0gZGVmYXVsdFNldHRpbmdzLmhldXJpc3RpYztcblxuICB2YXIgZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlO1xuICBpZiAoIWRpc3RhbmNlKSBkaXN0YW5jZSA9IGRlZmF1bHRTZXR0aW5ncy5kaXN0YW5jZTtcbiAgdmFyIHBvb2wgPSBtYWtlU2VhcmNoU3RhdGVQb29sKCk7XG5cbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmaW5kXG4gIH07XG5cbiAgZnVuY3Rpb24gZmluZChmcm9tSWQsIHRvSWQpIHtcbiAgICAvLyBOb3Qgc3VyZSBpZiB3ZSBzaG91bGQgcmV0dXJuIE5PX1BBVEggb3IgdGhyb3cuIFRocm93IHNlZW0gdG8gYmUgbW9yZVxuICAgIC8vIGhlbHBmdWwgdG8gZGVidWcgZXJyb3JzLiBTbywgdGhyb3dpbmcuXG4gICAgdmFyIGZyb20gPSBncmFwaC5nZXROb2RlKGZyb21JZCk7XG4gICAgaWYgKCFmcm9tKSB0aHJvdyBuZXcgRXJyb3IoJ2Zyb21JZCBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIGdyYXBoOiAnICsgZnJvbUlkKTtcbiAgICB2YXIgdG8gPSBncmFwaC5nZXROb2RlKHRvSWQpO1xuICAgIGlmICghdG8pIHRocm93IG5ldyBFcnJvcigndG9JZCBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIGdyYXBoOiAnICsgdG9JZCk7XG5cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHJldHVybiBbZnJvbV07IC8vIHRyaXZpYWwgY2FzZS5cblxuICAgIHBvb2wucmVzZXQoKTtcblxuICAgIHZhciBjYWxsVmlzaXRvciA9IG9yaWVudGVkID8gb3JpZW50ZWRWaXNpdG9yIDogbm9uT3JpZW50ZWRWaXNpdG9yO1xuXG4gICAgLy8gTWFwcyBub2RlSWQgdG8gTm9kZVNlYXJjaFN0YXRlLlxuICAgIHZhciBub2RlU3RhdGUgPSBuZXcgTWFwKCk7XG5cbiAgICB2YXIgb3BlblNldEZyb20gPSBuZXcgTm9kZUhlYXAoe1xuICAgICAgY29tcGFyZTogZGVmYXVsdFNldHRpbmdzLmNvbXBhcmVGU2NvcmUsXG4gICAgICBzZXROb2RlSWQ6IGRlZmF1bHRTZXR0aW5ncy5zZXRIZWFwSW5kZXhcbiAgICB9KTtcblxuICAgIHZhciBvcGVuU2V0VG8gPSBuZXcgTm9kZUhlYXAoe1xuICAgICAgY29tcGFyZTogZGVmYXVsdFNldHRpbmdzLmNvbXBhcmVGU2NvcmUsXG4gICAgICBzZXROb2RlSWQ6IGRlZmF1bHRTZXR0aW5ncy5zZXRIZWFwSW5kZXhcbiAgICB9KTtcblxuXG4gICAgdmFyIHN0YXJ0Tm9kZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUoZnJvbSk7XG4gICAgbm9kZVN0YXRlLnNldChmcm9tSWQsIHN0YXJ0Tm9kZSk7XG5cbiAgICAvLyBGb3IgdGhlIGZpcnN0IG5vZGUsIGZTY29yZSBpcyBjb21wbGV0ZWx5IGhldXJpc3RpYy5cbiAgICBzdGFydE5vZGUuZlNjb3JlID0gaGV1cmlzdGljKGZyb20sIHRvKTtcbiAgICAvLyBUaGUgY29zdCBvZiBnb2luZyBmcm9tIHN0YXJ0IHRvIHN0YXJ0IGlzIHplcm8uXG4gICAgc3RhcnROb2RlLmRpc3RhbmNlVG9Tb3VyY2UgPSAwO1xuICAgIG9wZW5TZXRGcm9tLnB1c2goc3RhcnROb2RlKTtcbiAgICBzdGFydE5vZGUub3BlbiA9IEJZX0ZST007XG5cbiAgICB2YXIgZW5kTm9kZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUodG8pO1xuICAgIGVuZE5vZGUuZlNjb3JlID0gaGV1cmlzdGljKHRvLCBmcm9tKTtcbiAgICBlbmROb2RlLmRpc3RhbmNlVG9Tb3VyY2UgPSAwO1xuICAgIG9wZW5TZXRUby5wdXNoKGVuZE5vZGUpO1xuICAgIGVuZE5vZGUub3BlbiA9IEJZX1RPO1xuXG4gICAgLy8gQ29zdCBvZiB0aGUgYmVzdCBzb2x1dGlvbiBmb3VuZCBzbyBmYXIuIFVzZWQgZm9yIGFjY3VyYXRlIHRlcm1pbmF0aW9uXG4gICAgdmFyIGxNaW4gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgdmFyIG1pbkZyb207XG4gICAgdmFyIG1pblRvO1xuXG4gICAgdmFyIGN1cnJlbnRTZXQgPSBvcGVuU2V0RnJvbTtcbiAgICB2YXIgY3VycmVudE9wZW5lciA9IEJZX0ZST007XG5cbiAgICB3aGlsZSAob3BlblNldEZyb20ubGVuZ3RoID4gMCAmJiBvcGVuU2V0VG8ubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKG9wZW5TZXRGcm9tLmxlbmd0aCA8IG9wZW5TZXRUby5sZW5ndGgpIHtcbiAgICAgICAgLy8gd2UgcGljayBhIHNldCB3aXRoIGxlc3MgZWxlbWVudHNcbiAgICAgICAgY3VycmVudE9wZW5lciA9IEJZX0ZST007XG4gICAgICAgIGN1cnJlbnRTZXQgPSBvcGVuU2V0RnJvbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRPcGVuZXIgPSBCWV9UTztcbiAgICAgICAgY3VycmVudFNldCA9IG9wZW5TZXRUbztcbiAgICAgIH1cblxuICAgICAgdmFyIGN1cnJlbnQgPSBjdXJyZW50U2V0LnBvcCgpO1xuXG4gICAgICAvLyBubyBuZWVkIHRvIHZpc2l0IHRoaXMgbm9kZSBhbnltb3JlXG4gICAgICBjdXJyZW50LmNsb3NlZCA9IHRydWU7XG5cbiAgICAgIGlmIChjdXJyZW50LmRpc3RhbmNlVG9Tb3VyY2UgPiBsTWluKSBjb250aW51ZTtcblxuICAgICAgZ3JhcGguZm9yRWFjaExpbmtlZE5vZGUoY3VycmVudC5ub2RlLmlkLCBjYWxsVmlzaXRvcik7XG5cbiAgICAgIGlmIChtaW5Gcm9tICYmIG1pblRvKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgbm90IG5lY2Vzc2FyeSB0aGUgYmVzdCBwYXRoLCBidXQgd2UgYXJlIHNvIGdyZWVkeSB0aGF0IHdlXG4gICAgICAgIC8vIGNhbid0IHJlc2lzdDpcbiAgICAgICAgcmV0dXJuIHJlY29uc3RydWN0QmlEaXJlY3Rpb25hbFBhdGgobWluRnJvbSwgbWluVG8pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOT19QQVRIOyAvLyBObyBwYXRoLlxuXG4gICAgZnVuY3Rpb24gbm9uT3JpZW50ZWRWaXNpdG9yKG90aGVyTm9kZSwgbGluaykge1xuICAgICAgcmV0dXJuIHZpc2l0Tm9kZShvdGhlck5vZGUsIGxpbmssIGN1cnJlbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9yaWVudGVkVmlzaXRvcihvdGhlck5vZGUsIGxpbmspIHtcbiAgICAgIC8vIEZvciBvcml0bmVkIGdyYXBocyB3ZSBuZWVkIHRvIHJldmVyc2UgZ3JhcGgsIHdoZW4gdHJhdmVsaW5nXG4gICAgICAvLyBiYWNrd2FyZHMuIFNvLCB3ZSB1c2Ugbm9uLW9yaWVudGVkIG5ncmFwaCdzIHRyYXZlcnNhbCwgYW5kIFxuICAgICAgLy8gZmlsdGVyIGxpbmsgb3JpZW50YXRpb24gaGVyZS5cbiAgICAgIGlmIChjdXJyZW50T3BlbmVyID09PSBCWV9GUk9NKSB7XG4gICAgICAgIGlmIChsaW5rLmZyb21JZCA9PT0gY3VycmVudC5ub2RlLmlkKSByZXR1cm4gdmlzaXROb2RlKG90aGVyTm9kZSwgbGluaywgY3VycmVudClcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudE9wZW5lciA9PT0gQllfVE8pIHtcbiAgICAgICAgaWYgKGxpbmsudG9JZCA9PT0gY3VycmVudC5ub2RlLmlkKSByZXR1cm4gdmlzaXROb2RlKG90aGVyTm9kZSwgbGluaywgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuRXhpdChjdXJyZW50Tm9kZSkge1xuICAgICAgdmFyIG9wZW5lciA9IGN1cnJlbnROb2RlLm9wZW5cbiAgICAgIGlmIChvcGVuZXIgJiYgb3BlbmVyICE9PSBjdXJyZW50T3BlbmVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVjb25zdHJ1Y3RCaURpcmVjdGlvbmFsUGF0aChhLCBiKSB7XG4gICAgICB2YXIgcGF0aE9mTm9kZXMgPSBbXTtcbiAgICAgIHZhciBhUGFyZW50ID0gYTtcbiAgICAgIHdoaWxlKGFQYXJlbnQpIHtcbiAgICAgICAgcGF0aE9mTm9kZXMucHVzaChhUGFyZW50Lm5vZGUpO1xuICAgICAgICBhUGFyZW50ID0gYVBhcmVudC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICB2YXIgYlBhcmVudCA9IGI7XG4gICAgICB3aGlsZSAoYlBhcmVudCkge1xuICAgICAgICBwYXRoT2ZOb2Rlcy51bnNoaWZ0KGJQYXJlbnQubm9kZSk7XG4gICAgICAgIGJQYXJlbnQgPSBiUGFyZW50LnBhcmVudFxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGhPZk5vZGVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpc2l0Tm9kZShvdGhlck5vZGUsIGxpbmssIGNhbWVGcm9tKSB7XG4gICAgICB2YXIgb3RoZXJTZWFyY2hTdGF0ZSA9IG5vZGVTdGF0ZS5nZXQob3RoZXJOb2RlLmlkKTtcbiAgICAgIGlmICghb3RoZXJTZWFyY2hTdGF0ZSkge1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZShvdGhlck5vZGUpO1xuICAgICAgICBub2RlU3RhdGUuc2V0KG90aGVyTm9kZS5pZCwgb3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLmNsb3NlZCkge1xuICAgICAgICAvLyBBbHJlYWR5IHByb2Nlc3NlZCB0aGlzIG5vZGUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbkV4aXQob3RoZXJTZWFyY2hTdGF0ZSwgY2FtZUZyb20pKSB7XG4gICAgICAgIC8vIHRoaXMgbm9kZSB3YXMgb3BlbmVkIGJ5IGFsdGVybmF0aXZlIG9wZW5lci4gVGhlIHNldHMgaW50ZXJzZWN0IG5vdyxcbiAgICAgICAgLy8gd2UgZm91bmQgYW4gb3B0aW1hbCBwYXRoLCB0aGF0IGdvZXMgdGhyb3VnaCAqdGhpcyogbm9kZS4gSG93ZXZlciwgdGhlcmVcbiAgICAgICAgLy8gaXMgbm8gZ3VhcmFudGVlIHRoYXQgdGhpcyBpcyB0aGUgZ2xvYmFsIG9wdGltYWwgc29sdXRpb24gcGF0aC5cblxuICAgICAgICB2YXIgcG90ZW50aWFsTE1pbiA9IG90aGVyU2VhcmNoU3RhdGUuZGlzdGFuY2VUb1NvdXJjZSArIGNhbWVGcm9tLmRpc3RhbmNlVG9Tb3VyY2U7XG4gICAgICAgIGlmIChwb3RlbnRpYWxMTWluIDwgbE1pbikge1xuICAgICAgICAgIG1pbkZyb20gPSBvdGhlclNlYXJjaFN0YXRlO1xuICAgICAgICAgIG1pblRvID0gY2FtZUZyb21cbiAgICAgICAgICBsTWluID0gcG90ZW50aWFsTE1pbjtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBhcmUgZG9uZSB3aXRoIHRoaXMgbm9kZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGVudGF0aXZlRGlzdGFuY2UgPSBjYW1lRnJvbS5kaXN0YW5jZVRvU291cmNlICsgZGlzdGFuY2Uob3RoZXJTZWFyY2hTdGF0ZS5ub2RlLCBjYW1lRnJvbS5ub2RlLCBsaW5rKTtcblxuICAgICAgaWYgKHRlbnRhdGl2ZURpc3RhbmNlID49IG90aGVyU2VhcmNoU3RhdGUuZGlzdGFuY2VUb1NvdXJjZSkge1xuICAgICAgICAvLyBUaGlzIHdvdWxkIG9ubHkgbWFrZSBvdXIgcGF0aCBsb25nZXIuIElnbm9yZSB0aGlzIHJvdXRlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENob29zZSB0YXJnZXQgYmFzZWQgb24gY3VycmVudCB3b3JraW5nIHNldDpcbiAgICAgIHZhciB0YXJnZXQgPSAoY3VycmVudE9wZW5lciA9PT0gQllfRlJPTSkgPyB0byA6IGZyb207XG4gICAgICB2YXIgbmV3RlNjb3JlID0gdGVudGF0aXZlRGlzdGFuY2UgKyBoZXVyaXN0aWMob3RoZXJTZWFyY2hTdGF0ZS5ub2RlLCB0YXJnZXQpO1xuICAgICAgaWYgKG5ld0ZTY29yZSA+PSBsTWluKSB7XG4gICAgICAgIC8vIHRoaXMgY2FuJ3QgYmUgb3B0aW1hbCBwYXRoLCBhcyB3ZSBoYXZlIGFscmVhZHkgZm91bmQgYSBzaG9ydGVyIHBhdGguXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG90aGVyU2VhcmNoU3RhdGUuZlNjb3JlID0gbmV3RlNjb3JlO1xuXG4gICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5vcGVuID09PSAwKSB7XG4gICAgICAgIC8vIFJlbWVtYmVyIHRoaXMgbm9kZSBpbiB0aGUgY3VycmVudCBzZXRcbiAgICAgICAgY3VycmVudFNldC5wdXNoKG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgICBjdXJyZW50U2V0LnVwZGF0ZUl0ZW0ob3RoZXJTZWFyY2hTdGF0ZS5oZWFwSW5kZXgpO1xuXG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUub3BlbiA9IGN1cnJlbnRPcGVuZXI7XG4gICAgICB9XG5cbiAgICAgIC8vIGJpbmdvISB3ZSBmb3VuZCBzaG9ydGVyIHBhdGg6XG4gICAgICBvdGhlclNlYXJjaFN0YXRlLnBhcmVudCA9IGNhbWVGcm9tO1xuICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5kaXN0YW5jZVRvU291cmNlID0gdGVudGF0aXZlRGlzdGFuY2U7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIFBlcmZvcm1zIGEgdW5pLWRpcmVjdGlvbmFsIEEgU3RhciBzZWFyY2ggb24gZ3JhcGguXG4gKiBcbiAqIFdlIHdpbGwgdHJ5IHRvIG1pbmltaXplIGYobikgPSBnKG4pICsgaChuKSwgd2hlcmVcbiAqIGcobikgaXMgYWN0dWFsIGRpc3RhbmNlIGZyb20gc291cmNlIG5vZGUgdG8gYG5gLCBhbmRcbiAqIGgobikgaXMgaGV1cmlzdGljIGRpc3RhbmNlIGZyb20gYG5gIHRvIHRhcmdldCBub2RlLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGFTdGFyUGF0aFNlYXJjaDtcblxudmFyIE5vZGVIZWFwID0gcmVxdWlyZSgnLi9Ob2RlSGVhcCcpO1xudmFyIG1ha2VTZWFyY2hTdGF0ZVBvb2wgPSByZXF1aXJlKCcuL21ha2VTZWFyY2hTdGF0ZVBvb2wnKTtcbnZhciBoZXVyaXN0aWNzID0gcmVxdWlyZSgnLi9oZXVyaXN0aWNzJyk7XG52YXIgZGVmYXVsdFNldHRpbmdzID0gcmVxdWlyZSgnLi9kZWZhdWx0U2V0dGluZ3MuanMnKTtcblxudmFyIE5PX1BBVEggPSBkZWZhdWx0U2V0dGluZ3MuTk9fUEFUSDtcblxubW9kdWxlLmV4cG9ydHMubDIgPSBoZXVyaXN0aWNzLmwyO1xubW9kdWxlLmV4cG9ydHMubDEgPSBoZXVyaXN0aWNzLmwxO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgcGF0aGZpbmRlci4gQSBwYXRoZmluZGVyIGhhcyBqdXN0IG9uZSBtZXRob2Q6XG4gKiBgZmluZChmcm9tSWQsIHRvSWQpYCwgaXQgbWF5IGJlIGV4dGVuZGVkIGluIGZ1dHVyZS5cbiAqIFxuICogQHBhcmFtIHtuZ3JhcGguZ3JhcGh9IGdyYXBoIGluc3RhbmNlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FudmFrYS9uZ3JhcGguZ3JhcGhcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHRoYXQgY29uZmlndXJlcyBzZWFyY2hcbiAqIEBwYXJhbSB7RnVuY3Rpb24oYSwgYil9IG9wdGlvbnMuaGV1cmlzdGljIC0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZXN0aW1hdGVkIGRpc3RhbmNlIGJldHdlZW5cbiAqIG5vZGVzIGBhYCBhbmQgYGJgLiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBuZXZlciBvdmVyZXN0aW1hdGUgYWN0dWFsIGRpc3RhbmNlIGJldHdlZW4gdHdvXG4gKiBub2RlcyAob3RoZXJ3aXNlIHRoZSBmb3VuZCBwYXRoIHdpbGwgbm90IGJlIHRoZSBzaG9ydGVzdCkuIERlZmF1bHRzIGZ1bmN0aW9uIHJldHVybnMgMCxcbiAqIHdoaWNoIG1ha2VzIHRoaXMgc2VhcmNoIGVxdWl2YWxlbnQgdG8gRGlqa3N0cmEgc2VhcmNoLlxuICogQHBhcmFtIHtGdW5jdGlvbihhLCBiKX0gb3B0aW9ucy5kaXN0YW5jZSAtIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFjdHVhbCBkaXN0YW5jZSBiZXR3ZWVuIHR3b1xuICogbm9kZXMgYGFgIGFuZCBgYmAuIEJ5IGRlZmF1bHQgdGhpcyBpcyBzZXQgdG8gcmV0dXJuIGdyYXBoLXRoZW9yZXRpY2FsIGRpc3RhbmNlIChhbHdheXMgMSk7XG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMub3JpZW50ZWQgLSB3aGV0aGVyIGdyYXBoIHNob3VsZCBiZSBjb25zaWRlcmVkIG9yaWVudGVkIG9yIG5vdC5cbiAqIFxuICogQHJldHVybnMge09iamVjdH0gQSBwYXRoZmluZGVyIHdpdGggc2luZ2xlIG1ldGhvZCBgZmluZCgpYC5cbiAqL1xuZnVuY3Rpb24gYVN0YXJQYXRoU2VhcmNoKGdyYXBoLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAvLyB3aGV0aGVyIHRyYXZlcnNhbCBzaG91bGQgYmUgY29uc2lkZXJlZCBvdmVyIG9yaWVudGVkIGdyYXBoLlxuICB2YXIgb3JpZW50ZWQgPSBvcHRpb25zLm9yaWVudGVkO1xuXG4gIHZhciBoZXVyaXN0aWMgPSBvcHRpb25zLmhldXJpc3RpYztcbiAgaWYgKCFoZXVyaXN0aWMpIGhldXJpc3RpYyA9IGRlZmF1bHRTZXR0aW5ncy5oZXVyaXN0aWM7XG5cbiAgdmFyIGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZTtcbiAgaWYgKCFkaXN0YW5jZSkgZGlzdGFuY2UgPSBkZWZhdWx0U2V0dGluZ3MuZGlzdGFuY2U7XG4gIHZhciBwb29sID0gbWFrZVNlYXJjaFN0YXRlUG9vbCgpO1xuXG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogRmluZHMgYSBwYXRoIGJldHdlZW4gbm9kZSBgZnJvbUlkYCBhbmQgYHRvSWRgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gb2Ygbm9kZXMgYmV0d2VlbiBgdG9JZGAgYW5kIGBmcm9tSWRgLiBFbXB0eSBhcnJheSBpcyByZXR1cm5lZFxuICAgICAqIGlmIG5vIHBhdGggaXMgZm91bmQuXG4gICAgICovXG4gICAgZmluZDogZmluZFxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbmQoZnJvbUlkLCB0b0lkKSB7XG4gICAgdmFyIGZyb20gPSBncmFwaC5nZXROb2RlKGZyb21JZCk7XG4gICAgaWYgKCFmcm9tKSB0aHJvdyBuZXcgRXJyb3IoJ2Zyb21JZCBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIGdyYXBoOiAnICsgZnJvbUlkKTtcbiAgICB2YXIgdG8gPSBncmFwaC5nZXROb2RlKHRvSWQpO1xuICAgIGlmICghdG8pIHRocm93IG5ldyBFcnJvcigndG9JZCBpcyBub3QgZGVmaW5lZCBpbiB0aGlzIGdyYXBoOiAnICsgdG9JZCk7XG4gICAgcG9vbC5yZXNldCgpO1xuXG4gICAgLy8gTWFwcyBub2RlSWQgdG8gTm9kZVNlYXJjaFN0YXRlLlxuICAgIHZhciBub2RlU3RhdGUgPSBuZXcgTWFwKCk7XG5cbiAgICAvLyB0aGUgbm9kZXMgdGhhdCB3ZSBzdGlsbCBuZWVkIHRvIGV2YWx1YXRlXG4gICAgdmFyIG9wZW5TZXQgPSBuZXcgTm9kZUhlYXAoe1xuICAgICAgY29tcGFyZTogZGVmYXVsdFNldHRpbmdzLmNvbXBhcmVGU2NvcmUsXG4gICAgICBzZXROb2RlSWQ6IGRlZmF1bHRTZXR0aW5ncy5zZXRIZWFwSW5kZXhcbiAgICB9KTtcblxuICAgIHZhciBzdGFydE5vZGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKGZyb20pO1xuICAgIG5vZGVTdGF0ZS5zZXQoZnJvbUlkLCBzdGFydE5vZGUpO1xuXG4gICAgLy8gRm9yIHRoZSBmaXJzdCBub2RlLCBmU2NvcmUgaXMgY29tcGxldGVseSBoZXVyaXN0aWMuXG4gICAgc3RhcnROb2RlLmZTY29yZSA9IGhldXJpc3RpYyhmcm9tLCB0byk7XG5cbiAgICAvLyBUaGUgY29zdCBvZiBnb2luZyBmcm9tIHN0YXJ0IHRvIHN0YXJ0IGlzIHplcm8uXG4gICAgc3RhcnROb2RlLmRpc3RhbmNlVG9Tb3VyY2UgPSAwO1xuICAgIG9wZW5TZXQucHVzaChzdGFydE5vZGUpO1xuICAgIHN0YXJ0Tm9kZS5vcGVuID0gMTtcblxuICAgIHZhciBjYW1lRnJvbTtcblxuICAgIHdoaWxlIChvcGVuU2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNhbWVGcm9tID0gb3BlblNldC5wb3AoKTtcbiAgICAgIGlmIChnb2FsUmVhY2hlZChjYW1lRnJvbSwgdG8pKSByZXR1cm4gcmVjb25zdHJ1Y3RQYXRoKGNhbWVGcm9tKTtcblxuICAgICAgLy8gbm8gbmVlZCB0byB2aXNpdCB0aGlzIG5vZGUgYW55bW9yZVxuICAgICAgY2FtZUZyb20uY2xvc2VkID0gdHJ1ZTtcbiAgICAgIGdyYXBoLmZvckVhY2hMaW5rZWROb2RlKGNhbWVGcm9tLm5vZGUuaWQsIHZpc2l0TmVpZ2hib3VyLCBvcmllbnRlZCk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgZ290IGhlcmUsIHRoZW4gdGhlcmUgaXMgbm8gcGF0aC5cbiAgICByZXR1cm4gTk9fUEFUSDtcblxuICAgIGZ1bmN0aW9uIHZpc2l0TmVpZ2hib3VyKG90aGVyTm9kZSwgbGluaykge1xuICAgICAgdmFyIG90aGVyU2VhcmNoU3RhdGUgPSBub2RlU3RhdGUuZ2V0KG90aGVyTm9kZS5pZCk7XG4gICAgICBpZiAoIW90aGVyU2VhcmNoU3RhdGUpIHtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUob3RoZXJOb2RlKTtcbiAgICAgICAgbm9kZVN0YXRlLnNldChvdGhlck5vZGUuaWQsIG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBwcm9jZXNzZWQgdGhpcyBub2RlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5vcGVuID09PSAwKSB7XG4gICAgICAgIC8vIFJlbWVtYmVyIHRoaXMgbm9kZS5cbiAgICAgICAgb3BlblNldC5wdXNoKG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLm9wZW4gPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGVudGF0aXZlRGlzdGFuY2UgPSBjYW1lRnJvbS5kaXN0YW5jZVRvU291cmNlICsgZGlzdGFuY2Uob3RoZXJOb2RlLCBjYW1lRnJvbS5ub2RlLCBsaW5rKTtcbiAgICAgIGlmICh0ZW50YXRpdmVEaXN0YW5jZSA+PSBvdGhlclNlYXJjaFN0YXRlLmRpc3RhbmNlVG9Tb3VyY2UpIHtcbiAgICAgICAgLy8gVGhpcyB3b3VsZCBvbmx5IG1ha2Ugb3VyIHBhdGggbG9uZ2VyLiBJZ25vcmUgdGhpcyByb3V0ZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBiaW5nbyEgd2UgZm91bmQgc2hvcnRlciBwYXRoOlxuICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5wYXJlbnQgPSBjYW1lRnJvbTtcbiAgICAgIG90aGVyU2VhcmNoU3RhdGUuZGlzdGFuY2VUb1NvdXJjZSA9IHRlbnRhdGl2ZURpc3RhbmNlO1xuICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5mU2NvcmUgPSB0ZW50YXRpdmVEaXN0YW5jZSArIGhldXJpc3RpYyhvdGhlclNlYXJjaFN0YXRlLm5vZGUsIHRvKTtcblxuICAgICAgb3BlblNldC51cGRhdGVJdGVtKG90aGVyU2VhcmNoU3RhdGUuaGVhcEluZGV4KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ29hbFJlYWNoZWQoc2VhcmNoU3RhdGUsIHRhcmdldE5vZGUpIHtcbiAgcmV0dXJuIHNlYXJjaFN0YXRlLm5vZGUgPT09IHRhcmdldE5vZGU7XG59XG5cbmZ1bmN0aW9uIHJlY29uc3RydWN0UGF0aChzZWFyY2hTdGF0ZSkge1xuICB2YXIgcGF0aCA9IFtzZWFyY2hTdGF0ZS5ub2RlXTtcbiAgdmFyIHBhcmVudCA9IHNlYXJjaFN0YXRlLnBhcmVudDtcblxuICB3aGlsZSAocGFyZW50KSB7XG4gICAgcGF0aC5wdXNoKHBhcmVudC5ub2RlKTtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICB9XG5cbiAgcmV0dXJuIHBhdGg7XG59XG4iLCIvLyBXZSByZXVzZSBpbnN0YW5jZSBvZiBhcnJheSwgYnV0IHdlIHRyaWUgdG8gZnJlZXplIGl0IGFzIHdlbGwsXG4vLyBzbyB0aGF0IGNvbnN1bWVycyBkb24ndCBtb2RpZnkgaXQuIE1heWJlIGl0J3MgYSBiYWQgaWRlYS5cbnZhciBOT19QQVRIID0gW107XG5pZiAodHlwZW9mIE9iamVjdC5mcmVlemUgPT09ICdmdW5jdGlvbicpIE9iamVjdC5mcmVlemUoTk9fUEFUSCk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBQYXRoIHNlYXJjaCBzZXR0aW5nc1xuICBoZXVyaXN0aWM6IGJsaW5kSGV1cmlzdGljLFxuICBkaXN0YW5jZTogY29uc3RhbnREaXN0YW5jZSxcbiAgY29tcGFyZUZTY29yZTogY29tcGFyZUZTY29yZSxcbiAgTk9fUEFUSDogTk9fUEFUSCxcblxuICAvLyBoZWFwIHNldHRpbmdzXG4gIHNldEhlYXBJbmRleDogc2V0SGVhcEluZGV4LFxuXG4gIC8vIG5iYTpcbiAgc2V0SDE6IHNldEgxLFxuICBzZXRIMjogc2V0SDIsXG4gIGNvbXBhcmVGMVNjb3JlOiBjb21wYXJlRjFTY29yZSxcbiAgY29tcGFyZUYyU2NvcmU6IGNvbXBhcmVGMlNjb3JlLFxufVxuXG5mdW5jdGlvbiBibGluZEhldXJpc3RpYygvKiBhLCBiICovKSB7XG4gIC8vIGJsaW5kIGhldXJpc3RpYyBtYWtlcyB0aGlzIHNlYXJjaCBlcXVhbCB0byBwbGFpbiBEaWprc3RyYSBwYXRoIHNlYXJjaC5cbiAgcmV0dXJuIDA7XG59XG5cbmZ1bmN0aW9uIGNvbnN0YW50RGlzdGFuY2UoLyogYSwgYiAqLykge1xuICByZXR1cm4gMTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUZTY29yZShhLCBiKSB7XG4gIHZhciByZXN1bHQgPSBhLmZTY29yZSAtIGIuZlNjb3JlO1xuICAvLyBUT0RPOiBDYW4gSSBpbXByb3ZlIHNwZWVkIHdpdGggc21hcnRlciB0aWVzLWJyZWFraW5nP1xuICAvLyBJIHRyaWVkIGRpc3RhbmNlVG9Tb3VyY2UsIGJ1dCBpdCBkaWRuJ3Qgc2VlbSB0byBoYXZlIG11Y2ggZWZmZWN0XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHNldEhlYXBJbmRleChub2RlU2VhcmNoU3RhdGUsIGhlYXBJbmRleCkge1xuICBub2RlU2VhcmNoU3RhdGUuaGVhcEluZGV4ID0gaGVhcEluZGV4O1xufVxuXG5mdW5jdGlvbiBjb21wYXJlRjFTY29yZShhLCBiKSB7XG4gIHJldHVybiBhLmYxIC0gYi5mMTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUYyU2NvcmUoYSwgYikge1xuICByZXR1cm4gYS5mMiAtIGIuZjI7XG59XG5cbmZ1bmN0aW9uIHNldEgxKG5vZGUsIGhlYXBJbmRleCkge1xuICBub2RlLmgxID0gaGVhcEluZGV4O1xufVxuXG5mdW5jdGlvbiBzZXRIMihub2RlLCBoZWFwSW5kZXgpIHtcbiAgbm9kZS5oMiA9IGhlYXBJbmRleDtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgbDI6IGwyLFxuICBsMTogbDFcbn07XG5cbi8qKlxuICogRXVjbGlkIGRpc3RhbmNlIChsMiBub3JtKTtcbiAqIFxuICogQHBhcmFtIHsqfSBhIFxuICogQHBhcmFtIHsqfSBiIFxuICovXG5mdW5jdGlvbiBsMihhLCBiKSB7XG4gIHZhciBkeCA9IGEueCAtIGIueDtcbiAgdmFyIGR5ID0gYS55IC0gYi55O1xuICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbn1cblxuLyoqXG4gKiBNYW5oYXR0YW4gZGlzdGFuY2UgKGwxIG5vcm0pO1xuICogQHBhcmFtIHsqfSBhIFxuICogQHBhcmFtIHsqfSBiIFxuICovXG5mdW5jdGlvbiBsMShhLCBiKSB7XG4gIHZhciBkeCA9IGEueCAtIGIueDtcbiAgdmFyIGR5ID0gYS55IC0gYi55O1xuICByZXR1cm4gTWF0aC5hYnMoZHgpICsgTWF0aC5hYnMoZHkpO1xufVxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBzaW5nbGUgc2VhcmNoIG5vZGUgaW4gdGhlIGV4cGxvcmF0aW9uIHRyZWUgZm9yXG4gKiBBKiBhbGdvcml0aG0uXG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlICBvcmlnaW5hbCBub2RlIGluIHRoZSBncmFwaFxuICovXG5mdW5jdGlvbiBOb2RlU2VhcmNoU3RhdGUobm9kZSkge1xuICB0aGlzLm5vZGUgPSBub2RlO1xuXG4gIC8vIEhvdyB3ZSBjYW1lIHRvIHRoaXMgbm9kZT9cbiAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gIHRoaXMub3BlbiA9IDA7XG5cbiAgdGhpcy5kaXN0YW5jZVRvU291cmNlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAvLyB0aGUgZihuKSA9IGcobikgKyBoKG4pIHZhbHVlXG4gIHRoaXMuZlNjb3JlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gIC8vIHVzZWQgdG8gcmVjb25zdHJ1Y3QgaGVhcCB3aGVuIGZTY29yZSBpcyB1cGRhdGVkLlxuICB0aGlzLmhlYXBJbmRleCA9IC0xO1xufTtcblxuZnVuY3Rpb24gbWFrZVNlYXJjaFN0YXRlUG9vbCgpIHtcbiAgdmFyIGN1cnJlbnRJbkNhY2hlID0gMDtcbiAgdmFyIG5vZGVDYWNoZSA9IFtdO1xuXG4gIHJldHVybiB7XG4gICAgY3JlYXRlTmV3U3RhdGU6IGNyZWF0ZU5ld1N0YXRlLFxuICAgIHJlc2V0OiByZXNldFxuICB9O1xuXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGN1cnJlbnRJbkNhY2hlID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5ld1N0YXRlKG5vZGUpIHtcbiAgICB2YXIgY2FjaGVkID0gbm9kZUNhY2hlW2N1cnJlbnRJbkNhY2hlXTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAvLyBUT0RPOiBUaGlzIGFsbW9zdCBkdXBsaWNhdGVzIGNvbnN0cnVjdG9yIGNvZGUuIE5vdCBzdXJlIGlmXG4gICAgICAvLyBpdCB3b3VsZCBpbXBhY3QgcGVyZm9ybWFuY2UgaWYgSSBtb3ZlIHRoaXMgY29kZSBpbnRvIGEgZnVuY3Rpb25cbiAgICAgIGNhY2hlZC5ub2RlID0gbm9kZTtcbiAgICAgIC8vIEhvdyB3ZSBjYW1lIHRvIHRoaXMgbm9kZT9cbiAgICAgIGNhY2hlZC5wYXJlbnQgPSBudWxsO1xuXG4gICAgICBjYWNoZWQuY2xvc2VkID0gZmFsc2U7XG4gICAgICBjYWNoZWQub3BlbiA9IDA7XG5cbiAgICAgIGNhY2hlZC5kaXN0YW5jZVRvU291cmNlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgLy8gdGhlIGYobikgPSBnKG4pICsgaChuKSB2YWx1ZVxuICAgICAgY2FjaGVkLmZTY29yZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAgICAgLy8gdXNlZCB0byByZWNvbnN0cnVjdCBoZWFwIHdoZW4gZlNjb3JlIGlzIHVwZGF0ZWQuXG4gICAgICBjYWNoZWQuaGVhcEluZGV4ID0gLTE7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVkID0gbmV3IE5vZGVTZWFyY2hTdGF0ZShub2RlKTtcbiAgICAgIG5vZGVDYWNoZVtjdXJyZW50SW5DYWNoZV0gPSBjYWNoZWQ7XG4gICAgfVxuICAgIGN1cnJlbnRJbkNhY2hlKys7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBtYWtlU2VhcmNoU3RhdGVQb29sOyIsIm1vZHVsZS5leHBvcnRzID0gbmJhO1xuXG52YXIgTm9kZUhlYXAgPSByZXF1aXJlKCcuLi9Ob2RlSGVhcCcpO1xudmFyIGhldXJpc3RpY3MgPSByZXF1aXJlKCcuLi9oZXVyaXN0aWNzJyk7XG52YXIgZGVmYXVsdFNldHRpbmdzID0gcmVxdWlyZSgnLi4vZGVmYXVsdFNldHRpbmdzLmpzJyk7XG52YXIgbWFrZU5CQVNlYXJjaFN0YXRlUG9vbCA9IHJlcXVpcmUoJy4vbWFrZU5CQVNlYXJjaFN0YXRlUG9vbC5qcycpO1xuXG52YXIgTk9fUEFUSCA9IGRlZmF1bHRTZXR0aW5ncy5OT19QQVRIO1xuXG5tb2R1bGUuZXhwb3J0cy5sMiA9IGhldXJpc3RpY3MubDI7XG5tb2R1bGUuZXhwb3J0cy5sMSA9IGhldXJpc3RpY3MubDE7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBwYXRoZmluZGVyLiBBIHBhdGhmaW5kZXIgaGFzIGp1c3Qgb25lIG1ldGhvZDpcbiAqIGBmaW5kKGZyb21JZCwgdG9JZClgLlxuICogXG4gKiBUaGlzIGlzIGltcGxlbWVudGF0aW9uIG9mIHRoZSBOQkEqIGFsZ29yaXRobSBkZXNjcmliZWQgaW4gXG4gKiBcbiAqICBcIllldCBhbm90aGVyIGJpZGlyZWN0aW9uYWwgYWxnb3JpdGhtIGZvciBzaG9ydGVzdCBwYXRoc1wiIHBhcGVyIGJ5IFdpbSBQaWpscyBhbmQgSGVuayBQb3N0XG4gKiBcbiAqIFRoZSBwYXBlciBpcyBhdmFpbGFibGUgaGVyZTogaHR0cHM6Ly9yZXB1Yi5ldXIubmwvcHViLzE2MTAwL2VpMjAwOS0xMC5wZGZcbiAqIFxuICogQHBhcmFtIHtuZ3JhcGguZ3JhcGh9IGdyYXBoIGluc3RhbmNlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FudmFrYS9uZ3JhcGguZ3JhcGhcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHRoYXQgY29uZmlndXJlcyBzZWFyY2hcbiAqIEBwYXJhbSB7RnVuY3Rpb24oYSwgYil9IG9wdGlvbnMuaGV1cmlzdGljIC0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZXN0aW1hdGVkIGRpc3RhbmNlIGJldHdlZW5cbiAqIG5vZGVzIGBhYCBhbmQgYGJgLiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBuZXZlciBvdmVyZXN0aW1hdGUgYWN0dWFsIGRpc3RhbmNlIGJldHdlZW4gdHdvXG4gKiBub2RlcyAob3RoZXJ3aXNlIHRoZSBmb3VuZCBwYXRoIHdpbGwgbm90IGJlIHRoZSBzaG9ydGVzdCkuIERlZmF1bHRzIGZ1bmN0aW9uIHJldHVybnMgMCxcbiAqIHdoaWNoIG1ha2VzIHRoaXMgc2VhcmNoIGVxdWl2YWxlbnQgdG8gRGlqa3N0cmEgc2VhcmNoLlxuICogQHBhcmFtIHtGdW5jdGlvbihhLCBiKX0gb3B0aW9ucy5kaXN0YW5jZSAtIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFjdHVhbCBkaXN0YW5jZSBiZXR3ZWVuIHR3b1xuICogbm9kZXMgYGFgIGFuZCBgYmAuIEJ5IGRlZmF1bHQgdGhpcyBpcyBzZXQgdG8gcmV0dXJuIGdyYXBoLXRoZW9yZXRpY2FsIGRpc3RhbmNlIChhbHdheXMgMSk7XG4gKiBcbiAqIEByZXR1cm5zIHtPYmplY3R9IEEgcGF0aGZpbmRlciB3aXRoIHNpbmdsZSBtZXRob2QgYGZpbmQoKWAuXG4gKi9cbmZ1bmN0aW9uIG5iYShncmFwaCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgLy8gd2hldGhlciB0cmF2ZXJzYWwgc2hvdWxkIGJlIGNvbnNpZGVyZWQgb3ZlciBvcmllbnRlZCBncmFwaC5cbiAgdmFyIG9yaWVudGVkID0gb3B0aW9ucy5vcmllbnRlZDtcbiAgdmFyIHF1aXRGYXN0ID0gb3B0aW9ucy5xdWl0RmFzdDtcblxuICB2YXIgaGV1cmlzdGljID0gb3B0aW9ucy5oZXVyaXN0aWM7XG4gIGlmICghaGV1cmlzdGljKSBoZXVyaXN0aWMgPSBkZWZhdWx0U2V0dGluZ3MuaGV1cmlzdGljO1xuXG4gIHZhciBkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2U7XG4gIGlmICghZGlzdGFuY2UpIGRpc3RhbmNlID0gZGVmYXVsdFNldHRpbmdzLmRpc3RhbmNlO1xuXG4gIC8vIER1cmluZyBzdHJlc3MgdGVzdHMgSSBub3RpY2VkIHRoYXQgZ2FyYmFnZSBjb2xsZWN0aW9uIHdhcyBvbmUgb2YgdGhlIGhlYXZpZXN0XG4gIC8vIGNvbnRyaWJ1dG9ycyB0byB0aGUgYWxnb3JpdGhtJ3Mgc3BlZWQuIFNvIEknbSB1c2luZyBhbiBvYmplY3QgcG9vbCB0byByZWN5Y2xlIG5vZGVzLlxuICB2YXIgcG9vbCA9IG1ha2VOQkFTZWFyY2hTdGF0ZVBvb2woKTtcblxuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIEZpbmRzIGEgcGF0aCBiZXR3ZWVuIG5vZGUgYGZyb21JZGAgYW5kIGB0b0lkYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IG9mIG5vZGVzIGJldHdlZW4gYHRvSWRgIGFuZCBgZnJvbUlkYC4gRW1wdHkgYXJyYXkgaXMgcmV0dXJuZWRcbiAgICAgKiBpZiBubyBwYXRoIGlzIGZvdW5kLlxuICAgICAqL1xuICAgIGZpbmQ6IGZpbmRcbiAgfTtcblxuICBmdW5jdGlvbiBmaW5kKGZyb21JZCwgdG9JZCkge1xuICAgIC8vIEkgbXVzdCBhcG9sb2dpemUgZm9yIHRoZSBjb2RlIGR1cGxpY2F0aW9uLiBUaGlzIHdhcyB0aGUgZWFzaWVzdCB3YXkgZm9yIG1lIHRvXG4gICAgLy8gaW1wbGVtZW50IHRoZSBhbGdvcml0aG0gZmFzdC5cbiAgICB2YXIgZnJvbSA9IGdyYXBoLmdldE5vZGUoZnJvbUlkKTtcbiAgICBpZiAoIWZyb20pIHRocm93IG5ldyBFcnJvcignZnJvbUlkIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgZ3JhcGg6ICcgKyBmcm9tSWQpO1xuICAgIHZhciB0byA9IGdyYXBoLmdldE5vZGUodG9JZCk7XG4gICAgaWYgKCF0bykgdGhyb3cgbmV3IEVycm9yKCd0b0lkIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgZ3JhcGg6ICcgKyB0b0lkKTtcblxuICAgIHBvb2wucmVzZXQoKTtcblxuICAgIC8vIEkgbXVzdCBhbHNvIGFwb2xvZ2l6ZSBmb3Igc29tZXdoYXQgY3J5cHRpYyBuYW1lcy4gVGhlIE5CQSogaXMgYmktZGlyZWN0aW9uYWxcbiAgICAvLyBzZWFyY2ggYWxnb3JpdGhtLCB3aGljaCBtZWFucyBpdCBydW5zIHR3byBzZWFyY2hlcyBpbiBwYXJhbGxlbC4gT25lIGlzIGNhbGxlZFxuICAgIC8vIGZvcndhcmQgc2VhcmNoIGFuZCBpdCBydW5zIGZyb20gc291cmNlIG5vZGUgdG8gdGFyZ2V0LCB3aGlsZSB0aGUgb3RoZXIgb25lXG4gICAgLy8gKGJhY2t3YXJkIHNlYXJjaCkgcnVucyBmcm9tIHRhcmdldCB0byBzb3VyY2UuXG5cbiAgICAvLyBFdmVyeXdoZXJlIHdoZXJlIHlvdSBzZWUgYDFgIGl0IG1lYW5zIGl0J3MgZm9yIHRoZSBmb3J3YXJkIHNlYXJjaC4gYDJgIGlzIGZvciBcbiAgICAvLyBiYWNrd2FyZCBzZWFyY2guXG5cbiAgICAvLyBGb3Igb3JpZW50ZWQgZ3JhcGggcGF0aCBmaW5kaW5nLCB3ZSBuZWVkIHRvIHJldmVyc2UgdGhlIGdyYXBoLCBzbyB0aGF0XG4gICAgLy8gYmFja3dhcmQgc2VhcmNoIHZpc2l0cyBjb3JyZWN0IGxpbmsuIE9idmlvdXNseSB3ZSBkb24ndCB3YW50IHRvIGR1cGxpY2F0ZVxuICAgIC8vIHRoZSBncmFwaCwgaW5zdGVhZCB3ZSBhbHdheXMgdHJhdmVyc2UgdGhlIGdyYXBoIGFzIG5vbi1vcmllbnRlZCwgYW5kIGZpbHRlclxuICAgIC8vIGVkZ2VzIGluIGB2aXNpdE4xT3JpZW50ZWQvdmlzaXROMk9yaXRlbnRlZGBcbiAgICB2YXIgZm9yd2FyZFZpc2l0b3IgPSBvcmllbnRlZCA/IHZpc2l0TjFPcmllbnRlZCA6IHZpc2l0TjE7XG4gICAgdmFyIHJldmVyc2VWaXNpdG9yID0gb3JpZW50ZWQgPyB2aXNpdE4yT3JpZW50ZWQgOiB2aXNpdE4yO1xuXG4gICAgLy8gTWFwcyBub2RlSWQgdG8gTkJBU2VhcmNoU3RhdGUuXG4gICAgdmFyIG5vZGVTdGF0ZSA9IG5ldyBNYXAoKTtcblxuICAgIC8vIFRoZXNlIHR3byBoZWFwcyBzdG9yZSBub2RlcyBieSB0aGVpciB1bmRlcmVzdGltYXRlZCB2YWx1ZXMuXG4gICAgdmFyIG9wZW4xU2V0ID0gbmV3IE5vZGVIZWFwKHtcbiAgICAgIGNvbXBhcmU6IGRlZmF1bHRTZXR0aW5ncy5jb21wYXJlRjFTY29yZSxcbiAgICAgIHNldE5vZGVJZDogZGVmYXVsdFNldHRpbmdzLnNldEgxXG4gICAgfSk7XG4gICAgdmFyIG9wZW4yU2V0ID0gbmV3IE5vZGVIZWFwKHtcbiAgICAgIGNvbXBhcmU6IGRlZmF1bHRTZXR0aW5ncy5jb21wYXJlRjJTY29yZSxcbiAgICAgIHNldE5vZGVJZDogZGVmYXVsdFNldHRpbmdzLnNldEgyXG4gICAgfSk7XG5cbiAgICAvLyBUaGlzIGlzIHdoZXJlIGJvdGggc2VhcmNoZXMgd2lsbCBtZWV0LlxuICAgIHZhciBtaW5Ob2RlO1xuXG4gICAgLy8gVGhlIHNtYWxsZXN0IHBhdGggbGVuZ3RoIHNlZW4gc28gZmFyIGlzIHN0b3JlZCBoZXJlOlxuICAgIHZhciBsTWluID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gICAgLy8gV2Ugc3RhcnQgYnkgcHV0dGluZyBzdGFydC9lbmQgbm9kZXMgdG8gdGhlIGNvcnJlc3BvbmRpbmcgaGVhcHNcbiAgICAvLyBJZiB2YXJpYWJsZSBuYW1lcyBsaWtlIGBmMWAsIGBnMWAgYXJlIHRvbyBjb25mdXNpbmcsIHBsZWFzZSByZWZlclxuICAgIC8vIHRvIG1ha2VOQkFTZWFyY2hTdGF0ZVBvb2wuanMgZmlsZSwgd2hpY2ggaGFzIGRldGFpbGVkIGRlc2NyaXB0aW9uLlxuICAgIHZhciBzdGFydE5vZGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKGZyb20pO1xuICAgIG5vZGVTdGF0ZS5zZXQoZnJvbUlkLCBzdGFydE5vZGUpOyBcbiAgICBzdGFydE5vZGUuZzEgPSAwO1xuICAgIHZhciBmMSA9IGhldXJpc3RpYyhmcm9tLCB0byk7XG4gICAgc3RhcnROb2RlLmYxID0gZjE7XG4gICAgb3BlbjFTZXQucHVzaChzdGFydE5vZGUpO1xuXG4gICAgdmFyIGVuZE5vZGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKHRvKTtcbiAgICBub2RlU3RhdGUuc2V0KHRvSWQsIGVuZE5vZGUpO1xuICAgIGVuZE5vZGUuZzIgPSAwO1xuICAgIHZhciBmMiA9IGYxOyAvLyB0aGV5IHNob3VsZCBhZ3JlZSBvcmlnaW5hbGx5XG4gICAgZW5kTm9kZS5mMiA9IGYyO1xuICAgIG9wZW4yU2V0LnB1c2goZW5kTm9kZSlcblxuICAgIC8vIHRoZSBgY2FtZUZyb21gIHZhcmlhYmxlIGlzIGFjY2Vzc2VkIGJ5IGJvdGggc2VhcmNoZXMsIHNvIHRoYXQgd2UgY2FuIHN0b3JlIHBhcmVudHMuXG4gICAgdmFyIGNhbWVGcm9tO1xuXG4gICAgLy8gdGhpcyBpcyB0aGUgbWFpbiBhbGdvcml0aG0gbG9vcDpcbiAgICB3aGlsZSAob3BlbjJTZXQubGVuZ3RoICYmIG9wZW4xU2V0Lmxlbmd0aCkge1xuICAgICAgaWYgKG9wZW4xU2V0Lmxlbmd0aCA8IG9wZW4yU2V0Lmxlbmd0aCkge1xuICAgICAgICBmb3J3YXJkU2VhcmNoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXZlcnNlU2VhcmNoKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxdWl0RmFzdCAmJiBtaW5Ob2RlKSBicmVhaztcbiAgICB9XG5cbiAgICB2YXIgcGF0aCA9IHJlY29uc3RydWN0UGF0aChtaW5Ob2RlKTtcbiAgICByZXR1cm4gcGF0aDsgLy8gdGhlIHB1YmxpYyBBUEkgaXMgb3ZlclxuXG4gICAgZnVuY3Rpb24gZm9yd2FyZFNlYXJjaCgpIHtcbiAgICAgIGNhbWVGcm9tID0gb3BlbjFTZXQucG9wKCk7XG4gICAgICBpZiAoY2FtZUZyb20uY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY2FtZUZyb20uY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgaWYgKGNhbWVGcm9tLmYxIDwgbE1pbiAmJiAoY2FtZUZyb20uZzEgKyBmMiAtIGhldXJpc3RpYyhmcm9tLCBjYW1lRnJvbS5ub2RlKSkgPCBsTWluKSB7XG4gICAgICAgIGdyYXBoLmZvckVhY2hMaW5rZWROb2RlKGNhbWVGcm9tLm5vZGUuaWQsIGZvcndhcmRWaXNpdG9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wZW4xU2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gdGhpcyB3aWxsIGJlIHVzZWQgaW4gcmV2ZXJzZSBzZWFyY2hcbiAgICAgICAgZjEgPSBvcGVuMVNldC5wZWVrKCkuZjE7XG4gICAgICB9IFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJldmVyc2VTZWFyY2goKSB7XG4gICAgICBjYW1lRnJvbSA9IG9wZW4yU2V0LnBvcCgpO1xuICAgICAgaWYgKGNhbWVGcm9tLmNsb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYW1lRnJvbS5jbG9zZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoY2FtZUZyb20uZjIgPCBsTWluICYmIChjYW1lRnJvbS5nMiArIGYxIC0gaGV1cmlzdGljKGNhbWVGcm9tLm5vZGUsIHRvKSkgPCBsTWluKSB7XG4gICAgICAgIGdyYXBoLmZvckVhY2hMaW5rZWROb2RlKGNhbWVGcm9tLm5vZGUuaWQsIHJldmVyc2VWaXNpdG9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wZW4yU2V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gdGhpcyB3aWxsIGJlIHVzZWQgaW4gZm9yd2FyZCBzZWFyY2hcbiAgICAgICAgZjIgPSBvcGVuMlNldC5wZWVrKCkuZjI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlzaXROMShvdGhlck5vZGUsIGxpbmspIHtcbiAgICAgIHZhciBvdGhlclNlYXJjaFN0YXRlID0gbm9kZVN0YXRlLmdldChvdGhlck5vZGUuaWQpO1xuICAgICAgaWYgKCFvdGhlclNlYXJjaFN0YXRlKSB7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKG90aGVyTm9kZSk7XG4gICAgICAgIG5vZGVTdGF0ZS5zZXQob3RoZXJOb2RlLmlkLCBvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUuY2xvc2VkKSByZXR1cm47XG5cbiAgICAgIHZhciB0ZW50YXRpdmVEaXN0YW5jZSA9IGNhbWVGcm9tLmcxICsgZGlzdGFuY2UoY2FtZUZyb20ubm9kZSwgb3RoZXJOb2RlLCBsaW5rKTtcblxuICAgICAgaWYgKHRlbnRhdGl2ZURpc3RhbmNlIDwgb3RoZXJTZWFyY2hTdGF0ZS5nMSkge1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLmcxID0gdGVudGF0aXZlRGlzdGFuY2U7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUuZjEgPSB0ZW50YXRpdmVEaXN0YW5jZSArIGhldXJpc3RpYyhvdGhlclNlYXJjaFN0YXRlLm5vZGUsIHRvKTtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5wMSA9IGNhbWVGcm9tO1xuICAgICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5oMSA8IDApIHtcbiAgICAgICAgICBvcGVuMVNldC5wdXNoKG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW4xU2V0LnVwZGF0ZUl0ZW0ob3RoZXJTZWFyY2hTdGF0ZS5oMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBwb3RlbnRpYWxNaW4gPSBvdGhlclNlYXJjaFN0YXRlLmcxICsgb3RoZXJTZWFyY2hTdGF0ZS5nMjtcbiAgICAgIGlmIChwb3RlbnRpYWxNaW4gPCBsTWluKSB7IFxuICAgICAgICBsTWluID0gcG90ZW50aWFsTWluO1xuICAgICAgICBtaW5Ob2RlID0gb3RoZXJTZWFyY2hTdGF0ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aXNpdE4yKG90aGVyTm9kZSwgbGluaykge1xuICAgICAgdmFyIG90aGVyU2VhcmNoU3RhdGUgPSBub2RlU3RhdGUuZ2V0KG90aGVyTm9kZS5pZCk7XG4gICAgICBpZiAoIW90aGVyU2VhcmNoU3RhdGUpIHtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUob3RoZXJOb2RlKTtcbiAgICAgICAgbm9kZVN0YXRlLnNldChvdGhlck5vZGUuaWQsIG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5jbG9zZWQpIHJldHVybjtcblxuICAgICAgdmFyIHRlbnRhdGl2ZURpc3RhbmNlID0gY2FtZUZyb20uZzIgKyBkaXN0YW5jZShjYW1lRnJvbS5ub2RlLCBvdGhlck5vZGUsIGxpbmspO1xuXG4gICAgICBpZiAodGVudGF0aXZlRGlzdGFuY2UgPCBvdGhlclNlYXJjaFN0YXRlLmcyKSB7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUuZzIgPSB0ZW50YXRpdmVEaXN0YW5jZTtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5mMiA9IHRlbnRhdGl2ZURpc3RhbmNlICsgaGV1cmlzdGljKGZyb20sIG90aGVyU2VhcmNoU3RhdGUubm9kZSk7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUucDIgPSBjYW1lRnJvbTtcbiAgICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUuaDIgPCAwKSB7XG4gICAgICAgICAgb3BlbjJTZXQucHVzaChvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcGVuMlNldC51cGRhdGVJdGVtKG90aGVyU2VhcmNoU3RhdGUuaDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcG90ZW50aWFsTWluID0gb3RoZXJTZWFyY2hTdGF0ZS5nMSArIG90aGVyU2VhcmNoU3RhdGUuZzI7XG4gICAgICBpZiAocG90ZW50aWFsTWluIDwgbE1pbikge1xuICAgICAgICBsTWluID0gcG90ZW50aWFsTWluO1xuICAgICAgICBtaW5Ob2RlID0gb3RoZXJTZWFyY2hTdGF0ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aXNpdE4yT3JpZW50ZWQob3RoZXJOb2RlLCBsaW5rKSB7XG4gICAgICAvLyB3ZSBhcmUgZ29pbmcgYmFja3dhcmRzLCBncmFwaCBuZWVkcyB0byBiZSByZXZlcnNlZC4gXG4gICAgICBpZiAobGluay50b0lkID09PSBjYW1lRnJvbS5ub2RlLmlkKSByZXR1cm4gdmlzaXROMihvdGhlck5vZGUsIGxpbmspO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2aXNpdE4xT3JpZW50ZWQob3RoZXJOb2RlLCBsaW5rKSB7XG4gICAgICAvLyB0aGlzIGlzIGZvcndhcmQgZGlyZWN0aW9uLCBzbyB3ZSBzaG91bGQgYmUgY29taW5nIEZST006XG4gICAgICBpZiAobGluay5mcm9tSWQgPT09IGNhbWVGcm9tLm5vZGUuaWQpIHJldHVybiB2aXNpdE4xKG90aGVyTm9kZSwgbGluayk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29uc3RydWN0UGF0aChzZWFyY2hTdGF0ZSkge1xuICBpZiAoIXNlYXJjaFN0YXRlKSByZXR1cm4gTk9fUEFUSDtcblxuICB2YXIgcGF0aCA9IFtzZWFyY2hTdGF0ZS5ub2RlXTtcbiAgdmFyIHBhcmVudCA9IHNlYXJjaFN0YXRlLnAxO1xuXG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBwYXRoLnB1c2gocGFyZW50Lm5vZGUpO1xuICAgIHBhcmVudCA9IHBhcmVudC5wMTtcbiAgfVxuXG4gIHZhciBjaGlsZCA9IHNlYXJjaFN0YXRlLnAyO1xuXG4gIHdoaWxlIChjaGlsZCkge1xuICAgIHBhdGgudW5zaGlmdChjaGlsZC5ub2RlKTtcbiAgICBjaGlsZCA9IGNoaWxkLnAyO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBtYWtlTkJBU2VhcmNoU3RhdGVQb29sO1xuXG4vKipcbiAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIE5CQVNlYXJjaFN0YXRlLiBUaGUgaW5zdGFuY2Ugc3RvcmVzIGluZm9ybWF0aW9uXG4gKiBhYm91dCBzZWFyY2ggc3RhdGUsIGFuZCBpcyB1c2VkIGJ5IE5CQSogYWxnb3JpdGhtLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIC0gb3JpZ2luYWwgZ3JhcGggbm9kZVxuICovXG5mdW5jdGlvbiBOQkFTZWFyY2hTdGF0ZShub2RlKSB7XG4gIC8qKlxuICAgKiBPcmlnaW5hbCBncmFwaCBub2RlLlxuICAgKi9cbiAgdGhpcy5ub2RlID0gbm9kZTtcblxuICAvKipcbiAgICogUGFyZW50IG9mIHRoaXMgbm9kZSBpbiBmb3J3YXJkIHNlYXJjaFxuICAgKi9cbiAgdGhpcy5wMSA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFBhcmVudCBvZiB0aGlzIG5vZGUgaW4gcmV2ZXJzZSBzZWFyY2hcbiAgICovXG4gIHRoaXMucDIgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIHNldCB0byB0cnVlLCB0aGVuIHRoZSBub2RlIHdhcyBhbHJlYWR5IHByb2Nlc3NlZFxuICAgKiBhbmQgd2Ugc2hvdWxkIG5vdCB0b3VjaCBpdCBhbnltb3JlLlxuICAgKi9cbiAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogQWN0dWFsIGRpc3RhbmNlIGZyb20gdGhpcyBub2RlIHRvIGl0cyBwYXJlbnQgaW4gZm9yd2FyZCBzZWFyY2hcbiAgICovXG4gIHRoaXMuZzEgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgLyoqXG4gICAqIEFjdHVhbCBkaXN0YW5jZSBmcm9tIHRoaXMgbm9kZSB0byBpdHMgcGFyZW50IGluIHJldmVyc2Ugc2VhcmNoXG4gICAqL1xuICB0aGlzLmcyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG5cbiAgLyoqXG4gICAqIFVuZGVyZXN0aW1hdGVkIGRpc3RhbmNlIGZyb20gdGhpcyBub2RlIHRvIHRoZSBwYXRoLWZpbmRpbmcgc291cmNlLlxuICAgKi9cbiAgdGhpcy5mMSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAvKipcbiAgICogVW5kZXJlc3RpbWF0ZWQgZGlzdGFuY2UgZnJvbSB0aGlzIG5vZGUgdG8gdGhlIHBhdGgtZmluZGluZyB0YXJnZXQuXG4gICAqL1xuICB0aGlzLmYyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gIC8vIHVzZWQgdG8gcmVjb25zdHJ1Y3QgaGVhcCB3aGVuIGZTY29yZSBpcyB1cGRhdGVkLiBUT0RPOiBkbyBJIG5lZWQgdGhlbSBib3RoP1xuXG4gIC8qKlxuICAgKiBJbmRleCBvZiB0aGlzIG5vZGUgaW4gdGhlIGZvcndhcmQgaGVhcC5cbiAgICovXG4gIHRoaXMuaDEgPSAtMTtcblxuICAvKipcbiAgICogSW5kZXggb2YgdGhpcyBub2RlIGluIHRoZSByZXZlcnNlIGhlYXAuXG4gICAqL1xuICB0aGlzLmgyID0gLTE7XG59XG5cbi8qKlxuICogQXMgcGF0aC1maW5kaW5nIGlzIG1lbW9yeS1pbnRlbnNpdmUgcHJvY2Vzcywgd2Ugd2FudCB0byByZWR1Y2UgcHJlc3N1cmUgb25cbiAqIGdhcmJhZ2UgY29sbGVjdG9yLiBUaGlzIGNsYXNzIGhlbHBzIHVzIHRvIHJlY3ljbGUgcGF0aC1maW5kaW5nIG5vZGVzIGFuZCBzaWduaWZpY2FudGx5XG4gKiByZWR1Y2VzIHRoZSBzZWFyY2ggdGltZSAofjIwJSBmYXN0ZXIgdGhhbiB3aXRob3V0IGl0KS5cbiAqL1xuZnVuY3Rpb24gbWFrZU5CQVNlYXJjaFN0YXRlUG9vbCgpIHtcbiAgdmFyIGN1cnJlbnRJbkNhY2hlID0gMDtcbiAgdmFyIG5vZGVDYWNoZSA9IFtdO1xuXG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBOQkFTZWFyY2hTdGF0ZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNyZWF0ZU5ld1N0YXRlOiBjcmVhdGVOZXdTdGF0ZSxcblxuICAgIC8qKlxuICAgICAqIE1hcmtzIGFsbCBjcmVhdGVkIGluc3RhbmNlcyBhdmFpbGFibGUgZm9yIHJlY3ljbGluZy5cbiAgICAgKi9cbiAgICByZXNldDogcmVzZXRcbiAgfTtcblxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBjdXJyZW50SW5DYWNoZSA9IDA7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOZXdTdGF0ZShub2RlKSB7XG4gICAgdmFyIGNhY2hlZCA9IG5vZGVDYWNoZVtjdXJyZW50SW5DYWNoZV07XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgLy8gVE9ETzogVGhpcyBhbG1vc3QgZHVwbGljYXRlcyBjb25zdHJ1Y3RvciBjb2RlLiBOb3Qgc3VyZSBpZlxuICAgICAgLy8gaXQgd291bGQgaW1wYWN0IHBlcmZvcm1hbmNlIGlmIEkgbW92ZSB0aGlzIGNvZGUgaW50byBhIGZ1bmN0aW9uXG4gICAgICBjYWNoZWQubm9kZSA9IG5vZGU7XG5cbiAgICAgIC8vIEhvdyB3ZSBjYW1lIHRvIHRoaXMgbm9kZT9cbiAgICAgIGNhY2hlZC5wMSA9IG51bGw7XG4gICAgICBjYWNoZWQucDIgPSBudWxsO1xuXG4gICAgICBjYWNoZWQuY2xvc2VkID0gZmFsc2U7XG5cbiAgICAgIGNhY2hlZC5nMSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIGNhY2hlZC5nMiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIGNhY2hlZC5mMSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIGNhY2hlZC5mMiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAgICAgLy8gdXNlZCB0byByZWNvbnN0cnVjdCBoZWFwIHdoZW4gZlNjb3JlIGlzIHVwZGF0ZWQuXG4gICAgICBjYWNoZWQuaDEgPSAtMTtcbiAgICAgIGNhY2hlZC5oMiA9IC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZWQgPSBuZXcgTkJBU2VhcmNoU3RhdGUobm9kZSk7XG4gICAgICBub2RlQ2FjaGVbY3VycmVudEluQ2FjaGVdID0gY2FjaGVkO1xuICAgIH1cbiAgICBjdXJyZW50SW5DYWNoZSsrO1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBhU3RhcjogcmVxdWlyZSgnLi9hLXN0YXIvYS1zdGFyLmpzJyksXG4gIGFHcmVlZHk6IHJlcXVpcmUoJy4vYS1zdGFyL2EtZ3JlZWR5LXN0YXInKSxcbiAgbmJhOiByZXF1aXJlKCcuL2Etc3Rhci9uYmEvaW5kZXguanMnKSxcbn1cbiIsImltcG9ydCB7IGEsIGIsIGMsIGludCwgbmVnYXRpdmUsIG51bSwgcHJvZHVjdCwgc3VtLCB4LCB5IH0gZnJvbSBcIi4vbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRGVyaXZhdGl2ZSB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwb25lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRnJhY3Rpb25cIlxuaW1wb3J0IHsgSW50ZWdyYWwgfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0ludGVncmFsXCJcbmltcG9ydCB7IEVkaXRhYmxlTWF0aFZpZXcgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvRWRpdGFibGVNYXRoVmlld1wiXG5cbi8qKlxuICogQ2FsbGVkIGFmdGVyIHRoZSBkb20gaXMgbG9hZGVkLlxuICogUG9wdWxhdGVzIHRoZSBib2R5IGVsZW1lbnQgb2YgdGhlIGRvY3VtZW50XG4gKiB3aXRoIHRoZSB0ZXN0IGV4cHJlc3Npb25zIHBhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRFeHByZXNzaW9uc1Rlc3RQYWdlKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdIGFzIEhUTUxCb2R5RWxlbWVudFxuXG4gICAgZnVuY3Rpb24gcChjb250ZW50OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxuICAgICAgICBlLmlubmVyVGV4dCA9IGNvbnRlbnRcbiAgICAgICAgcGFnZS5hcHBlbmQoZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aWV3KGV4cDogRXhwcmVzc2lvbikge1xuICAgICAgICBjb25zdCBlID0gbmV3IEVkaXRhYmxlTWF0aFZpZXcoKVxuICAgICAgICBlLnZhbHVlID0gZXhwXG4gICAgICAgIHBhZ2UuYXBwZW5kKGUpXG4gICAgfVxuXG4gICAgcChcIlRoZSBzdW0gb2YgYSwgYSwgYW5kIGFcIilcbiAgICB2aWV3KHN1bShhLCBhLCBhKSlcblxuICAgIHAoXCJJbnRlZ3JhbCBvZiBhIG92ZXIgYiB3aXRoIHJlc3BlY3QgdG8gY1wiKVxuICAgIHZpZXcoSW50ZWdyYWwub2YoRnJhY3Rpb24ub2YoYSwgYiksIGMpKVxuXG4gICAgcChcIkludGVncmFsIG9mIChhIG92ZXIgYSkgb3ZlciBiIHdpdGggcmVzcGVjdCB0byBjXCIpXG4gICAgdmlldyhJbnRlZ3JhbC5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihhLCBhKSwgYiksIGMpKVxuXG4gICAgcChcIkludGVncmFsIG9mICgoYSBvdmVyIGEpIG92ZXIgYSkgb3ZlciBiIHdpdGggcmVzcGVjdCB0byBjXCIpXG4gICAgdmlldyhJbnRlZ3JhbC5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihhLCBhKSwgYSksIGIpLCBjKSlcblxuICAgIHAoXCJJbnRlZ3JhbCBvZiAoKChhIG92ZXIgYSkgb3ZlciBhKSBvdmVyIGEpIG92ZXIgYiB3aXRoIHJlc3BlY3QgdG8gY1wiKVxuICAgIHZpZXcoSW50ZWdyYWwub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoYSwgYSksIGEpLCBhKSwgYiksIGMpKVxuXG4gICAgcChcIkludGVncmFsIG9mICgoKChhIG92ZXIgYSkgb3ZlciBhKSBvdmVyIGEpIG92ZXIgYSkgb3ZlciBiIHdpdGggcmVzcGVjdCB0byBjXCIpXG4gICAgdmlldyhJbnRlZ3JhbC5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihhLCBhKSwgYSksIGEpLCBhKSwgYiksIGMpKVxuICAgIFxuICAgIHAoXCJcIilcbiAgICB2aWV3KGludChGcmFjdGlvbi5vZihzdW0obmVnYXRpdmUoYiksIEV4cG9uZW50Lm9mKHN1bSh4LCBhKSwgRnJhY3Rpb24ub2YobnVtKDEpLCBudW0oMikpKSksIHByb2R1Y3QobnVtKDIpLCBhKSksIHgpKVxuXG4gICAgcChcIlByb2R1Y3Qgb2YgeCBhbmQgeVwiKVxuICAgIHZpZXcocHJvZHVjdCh4LCB5KSlcblxuICAgIHAoXCJQcm9kdWN0IG9mICh4LTEpLCAtMSBhbmQgeVwiKVxuICAgIHZpZXcocHJvZHVjdChzdW0oeCwgbmVnYXRpdmUobnVtKDEpKSksIG51bSgtMSksIHkpKVxuXG4gICAgcChcIk5lZ2F0aW9uIG9mIHggKFJlcGVkIGFzIHRoZSBwcm9wZHVjdCBvZiAtMSBhbmQgeClcIilcbiAgICB2aWV3KG5lZ2F0aXZlKHgpKVxuXG4gICAgcChcIlN1bSBvZiB4IGFuZCAteFwiKVxuICAgIHZpZXcoc3VtKHgsIG5lZ2F0aXZlKHgpKSlcblxuICAgIHAoXCJTdW0gb2YgLXggYW5kIHhcIilcbiAgICB2aWV3KHN1bShuZWdhdGl2ZSh4KSwgeCkpXG5cbiAgICBwKFwiRGVyaXZhdGl2ZSBvZiB0aGUgc3F1YXJlIG9mIHggd2l0aCByZXNwZWN0IHRvIHhcIilcbiAgICB2aWV3KERlcml2YXRpdmUub2YoRXhwb25lbnQub2YoeCwgbnVtKDIpKSwgeCkpXG5cbiAgICBwKFwiRGVyaXZhdGl2ZSAoKHheMikgLSAyKSB3aXRoIHJlc3BlY3QgdG8geFwiKVxuICAgIHZpZXcoRGVyaXZhdGl2ZS5vZihFeHBvbmVudC5vZihzdW0oeCwgbnVtKC0yKSksIG51bSgyKSksIHgpKVxuXG4gICAgcChcIlwiKVxuICAgIHZpZXcobnVtKDEpKVxuXG4gICAgcChcIlwiKVxuICAgIHZpZXcobnVtKDEpKVxuXG4gICAgcChcIlwiKVxuICAgIHZpZXcobnVtKDEpKVxuXG4gICAgcChcIlwiKVxuICAgIHZpZXcobnVtKDEpKVxuXG59IiwiaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwibWF0aGpzXCI7XG5pbXBvcnQgeyBhLCBiLCBjLCBkLCBmcmFjdGlvbiwgbmVnYXRpdmUsIG51bSwgcHJvZHVjdCwgc3VtLCB4LCB5IH0gZnJvbSBcIi4vbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgTG9nYXJpdGhtIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9Mb2dhcml0aG1cIjtcbmltcG9ydCB7IEVkaXRhYmxlTWF0aFZpZXcgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvRWRpdGFibGVNYXRoVmlld1wiO1xuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvQW50bHJNYXRoUGFyc2VyXCI7XG5pbXBvcnQgeyBQb3dlckNvbnRleHQgfSBmcm9tIFwiLi9tYXRobGliL3VzZXJpbnB1dC9hcml0aG1ldGljUGFyc2VyXCI7XG5cbi8qKlxuICogQ2FsbGVkIGFmdGVyIERPTSBpcyBsb2FkZWQuXG4gKiBTdWJzdGl0dXRlcyB0aGUgYm9keSBlbGVtZW50IGluIHRoZSBkb2N1bWVudFxuICogd2l0aCB0aGUgcHJpbWFyeSBpbnRlZ3JhdG9yIHZpZXcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSW5wdXRQYXJzZVRlc3RQYWdlKCkge1xuICAgIGNvbnN0IHBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdIGFzIEhUTUxCb2R5RWxlbWVudFxuICAgIHBhZ2Uuc3R5bGUucGFkZGluZyA9IFwiOGNoXCJcblxuICAgIGZ1bmN0aW9uIHAoY29udGVudDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICAgIGUuaW5uZXJUZXh0ID0gY29udGVudFxuICAgICAgICByZXR1cm4gZVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpZXcoZXhwOiBFeHByZXNzaW9uKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBlID0gbmV3IEVkaXRhYmxlTWF0aFZpZXcoKVxuICAgICAgICBlLnZhbHVlID0gZXhwXG4gICAgICAgIHJldHVybiBlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbnQgdGhlIHBhcnNlZCBleHByZXNzaW9uIHRvIHRoZSBwYWdlLlxuICAgICAqIEBwYXJhbSBpbnB1dCBVc2VyIGlucHV0IHN0cmluZyB0byBwYXJzZS5cbiAgICAgKiBAcGFyYW0gZXhwbGFuYXRpb24gXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXhwcmVzc2lvbihpbnB1dDogc3RyaW5nLCBleHBsYW5hdGlvbjogc3RyaW5nIHwgbnVsbCA9IG51bGwpIHtcbiAgICAgICAgcGFnZS5hcHBlbmQocChcIklucHV0OiAgICAgICBcIiArIGlucHV0KSlcbiAgICAgICAgaWYgKGV4cGxhbmF0aW9uICE9IG51bGwpIHBhZ2UuYXBwZW5kKHAoZXhwbGFuYXRpb24pKVxuICAgICAgICBwYWdlLmFwcGVuZCh2aWV3KHBhcnNlRXhwcmVzc2lvbihpbnB1dCkhIGFzIEV4cHJlc3Npb24pKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIGFuIGludGVybmFsIGV4cHJlc3Npb24sIGNvbnZlcnRzIGl0XG4gICAgICogdG8gYSBzdHJpbmcsIHRoZW4gcGFyc2VzIHRoYXQgc3RyaW5nIGludG8gXG4gICAgICogYW4gZXhwcmVzc2lvbi5cbiAgICAgKiBAcGFyYW0gaW5wdXQgXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHdvV2F5KGlucHV0OiBFeHByZXNzaW9uKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKVxuICAgICAgICB0YWJsZS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgICAgIHRhYmxlLnN0eWxlLndpZHRoID0gJzcwJSdcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKVxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChyb3cpXG5cbiAgICAgICAgY29uc3QgZGF0YTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgIGNvbnN0IGRhdGEyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgICBjb25zdCBkYXRhMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGRhdGExKVxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoZGF0YTIpXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChkYXRhMylcbiAgICAgICAgZGF0YTEuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICBkYXRhMi5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgICAgIGRhdGEzLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcblxuICAgICAgICBkYXRhMS5hcHBlbmRDaGlsZCh2aWV3KGlucHV0KSlcbiAgICAgICAgY29uc3QgdGV4dCA9IHAoaW5wdXQudG9VbmFtYmlnaW91c1N0cmluZygpKVxuICAgICAgICB0ZXh0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgICAgdGV4dC5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiXG4gICAgICAgIGRhdGEyLmFwcGVuZENoaWxkKHRleHQpXG4gICAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gcGFyc2VFeHByZXNzaW9uKGlucHV0LnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSlcbiAgICAgICAgZGF0YTMuYXBwZW5kQ2hpbGQodmlldyhwYXJzZVJlc3VsdCkpXG4gICAgICAgIHBhZ2UuYXBwZW5kKHRhYmxlKVxuXG4gICAgICAgIC8vIENvbmRpdGlvbmFsIGZvcm1hdHRpbmdcbiAgICAgICAgaWYgKGlucHV0ID09PSBwYXJzZVJlc3VsdCkge1xuICAgICAgICAgICAgZGF0YTMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGdyZWVuXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4cHJlc3Npb24gc3RyaW5ncyB0byB0ZXN0XG4gICAgZXhwcmVzc2lvbihcImludCh4KWR4K2NcIilcbiAgICBleHByZXNzaW9uKFwiYS9iaW50eFwiKVxuXG4gICAgZXhwcmVzc2lvbihcImFeYitjXCIsIFwiVGhlICtjIHNob3VsZG4ndCBiZSBpbiB0aGUgZXhwb25lbnRcIilcbiAgICBleHByZXNzaW9uKFwiYStiXmNcIilcbiAgICBleHByZXNzaW9uIChcIihhK2IpXmNcIilcblxuICAgIGV4cHJlc3Npb24oXCItYS1iK2NcIilcbiAgICBleHByZXNzaW9uKFwiLWErLWIrY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhK2IrY1wiKVxuICAgIGV4cHJlc3Npb24oXCItKGErYilcIilcbiAgICBleHByZXNzaW9uKFwiLWEoYStiKVwiKVxuICAgIGV4cHJlc3Npb24oXCJhKyhiK2MpXCIpXG4gICAgZXhwcmVzc2lvbihcImEtYi1jXCIpXG4gICAgZXhwcmVzc2lvbihcImEqYitjXCIpXG4gICAgZXhwcmVzc2lvbihcImEvYitjXCIpXG4gICAgZXhwcmVzc2lvbihcImEvYi9jXCIpXG4gICAgZXhwcmVzc2lvbihcImFieC1kXCIpXG4gICAgZXhwcmVzc2lvbihcIi1hYngtZFwiKVxuICAgIGV4cHJlc3Npb24oXCItYS1ieC1kXCIpXG4gICAgZXhwcmVzc2lvbihcImFiY2RcIilcbiAgICBleHByZXNzaW9uKFwiYSpiKmMqZFwiKVxuICAgIGV4cHJlc3Npb24oXCJhYipjZFwiKVxuXG4gICAgZXhwcmVzc2lvbihcImludDR4KzJcIilcbiAgICBleHByZXNzaW9uKFwiaW50KDR4KzIpXCIpXG5cbiAgICBleHByZXNzaW9uKFwibG9neFwiKVxuICAgIGV4cHJlc3Npb24oXCJsb2coeClcIilcbiAgICBleHByZXNzaW9uKFwiKDUvKDJ4LTMpLSgzLygoMngtMyleMikpXCIpXG4gICAgZXhwcmVzc2lvbihcIig1LygyeC0zKS0oMy8oMngtMyleMilcIilcblxuXG4gICAgcGFnZS5hcHBlbmQocChcIkluIHRoZXNlIHRlc3RzLCBhbiB1bmFtYmlnaW91cyBleHByZXNzaW9uIGlzIHdyaXR0ZW4gaW4gdGhlIFwiICtcbiAgICAgICAgXCIgc291cmNlIGNvZGUuIEl0IGlzIHRoZW4gY29udmVydGVkIHRvIGFuIHVuYW1iaWdpb3VzIHN0cmluZyBcIiArXG4gICAgICAgIFwicmVwcmVzZW50YXRpb24sIGFuZCB0aGVuIHBhcnNlZCBiYWNrIGludG8gYW4gZXhwcmVzc2lvbi4gXCIgK1xuICAgICAgICBcIlRoZSBnb2FsIGlzIHRoYXQgdGhpcyBwcm9jZXNzIHByZXNlcnZlcyB0aGUgZXhwcmVzc2lvbi4gVGhpcyBcIiArXG4gICAgICAgIFwicmVxdWlyZXMgMSkgZXhwcmVzc2lvbiAtPiBzdHJpbmcgaXMgdW5hbWJpZ2lvdXMgYW5kIGFjY3VyYXRlIGFuZCAyKSBcIiArIFxuICAgICAgICBcInRoZSBwYXJzZXIgaXMgd29ya2luZyBjb3JyZWN0bHkuXCJcbiAgICAgICAgKSlcbiAgICBwYWdlLmFwcGVuZChwKFwiVGhlIGZpcnN0IGNvbHVtbiBpcyBhc3N1bWVkIHRvIGJlIGNvcnJlY3QsIHRoZSBtaWRkbGUgY29sbHVtbiBoYXMgXCIgKyBcbiAgICAgICAgXCJ0aGUgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgc3RyaW5nIHZlcnNpb24gb2YgdGhlIGZpcnN0IGNvbHVtbiwgXCIgK1xuICAgICAgICBcImFuZCB0aGUgbGFzdCBjb2x1bW4gY29udGFpbnMgdGhlIGV4cHJlc3Npb24gcGFyc2VkIGZyb20gdGhlIHNlY29uZCBjb2x1bW4uXCJcbiAgICAgICAgKSlcbiAgICB0d29XYXkoc3VtKHgsIHksIGEsIGIsIGMpKVxuICAgIHR3b1dheShzdW0oeCwgeSwgbmVnYXRpdmUoYSksIGIsIGMpKVxuICAgIHR3b1dheShzdW0oeCwgeSwgbmVnYXRpdmUoYSksIG5lZ2F0aXZlKGIpLCBjKSlcbiAgICB0d29XYXkoc3VtKHgsIHksIG5lZ2F0aXZlKGEpLCBiLCBuZWdhdGl2ZShjKSkpXG4gICAgdHdvV2F5KHN1bShhLCBFeHBvbmVudC5vZihiLCBjKSkpXG4gICAgdHdvV2F5IChFeHBvbmVudC5vZihzdW0oYSwgYiksIGMpKVxuICAgIHR3b1dheShzdW0obmVnYXRpdmUoYSksIG5lZ2F0aXZlKGIpLCBjKSlcbiAgICB0d29XYXkoc3VtKGEsIGIsIGMpKVxuICAgIHR3b1dheShuZWdhdGl2ZShzdW0oYSwgYikpKVxuICAgIHR3b1dheShwcm9kdWN0KG5lZ2F0aXZlKGEpLCBzdW0oYSwgYikpKVxuICAgIHR3b1dheShuZWdhdGl2ZShwcm9kdWN0KGEsIHN1bShhLCBiKSkpKVxuICAgIHR3b1dheShzdW0oYSwgc3VtKGIsIGMpKSlcbiAgICB0d29XYXkoc3VtKGEsIG5lZ2F0aXZlKGIpLCBuZWdhdGl2ZShjKSkpXG4gICAgdHdvV2F5KHN1bShwcm9kdWN0KGEsIGIpLCBjKSlcbiAgICB0d29XYXkoc3VtKGZyYWN0aW9uKGEsIGIpLCBjKSlcbiAgICB0d29XYXkoZnJhY3Rpb24oZnJhY3Rpb24oYSwgYiksIGMpKVxuICAgIHR3b1dheShzdW0ocHJvZHVjdChhLCBiLCB4KSwgZCkpXG4gICAgdHdvV2F5KHN1bShuZWdhdGl2ZShwcm9kdWN0KGEsIGIsIHgpKSwgbmVnYXRpdmUoZCkpKVxuICAgIHR3b1dheShzdW0obmVnYXRpdmUoYSksIG5lZ2F0aXZlKHByb2R1Y3QoYix4KSksIG5lZ2F0aXZlKGQpKSlcbiAgICB0d29XYXkocHJvZHVjdChhLCBiLCBjLCBkKSlcbiAgICAvLyB0d29XYXkoXCJhYipjZFwiKVxuICAgIC8vIHR3b1dheShcImludDR4KzJcIilcbiAgICAvLyB0d29XYXkoXCJpbnQoNHgrMilcIilcbiAgICB0d29XYXkoTG9nYXJpdGhtLm9mKHgsIG51bSgxMCkpKVxuICAgIFxufSIsImltcG9ydCB7IGEsIGIsIG5lZ2F0aXZlLCBudW0sIHByb2R1Y3QsIHN1bSwgeCB9IGZyb20gXCIuL21hdGhsaWIvQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBXZWJHcmFwaFZpZXcsIFdlYkdyYXBoVmlld0luaXRTZXR0aW5ncyB9IGZyb20gXCIuL21hdGhsaWIvdWllbGVtZW50cy9XZWJHcmFwaFZpZXdcIjtcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4vbWF0aGxpYi9HcmFwaFwiO1xuaW1wb3J0IHsgRGVyaXZlciB9IGZyb20gXCIuL21hdGhsaWIvZGVyaXZhdGlvbnMvRGVyaXZlclwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9SZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGVcIjtcbmltcG9ydCB7IFN1YnRyYWN0RnJvbUJvdGhTaWRlcyB9IGZyb20gXCIuL21hdGhsaWIvZGVyaXZhdGlvbnMvYWxnZWJyYS9TdWJ0cmFjdEZyb21Cb3RoU2lkZXNcIjtcbmltcG9ydCB7IERpdmlkZU9uQm90aFNpZGVzIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9hbGdlYnJhL0RpdmlkZU9uQm90aFNpZGVzXCI7XG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvVmFyaWFibGVcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5pbXBvcnQgeyBMb2dhcml0aG0gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0xvZ2FyaXRobVwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IEludGVycHJldGVyIH0gZnJvbSBcIi4vbWF0aGxpYi9pbnRlcnByZXRpbmcvSW50ZXJwcmV0ZXJcIjtcbmltcG9ydCB7IFJVTEVfSUQgYXMgRXZhbHVhdGVfU3Vtc19SdWxlIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvRXZhbHVhdGVTdW1zXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuXG5cblJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZS5ydWxlcy5hZGQobmV3IFN1YnRyYWN0RnJvbUJvdGhTaWRlcygpKVxuUmVsYXRpb25hbERlcml2YXRpb25SdWxlLnJ1bGVzLmFkZChuZXcgRGl2aWRlT25Cb3RoU2lkZXMoKSlcblxuLyoqXG4gKiBDYWxsZWQgYWZ0ZXIgRE9NIGlzIGxvYWRlZC5cbiAqIFN1YnN0aXR1dGVzIHRoZSBib2R5IGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50XG4gKiB3aXRoIHRoZSBwcmltYXJ5IGludGVncmF0b3Igdmlldy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRQcmltYXJ5UGFnZSgpOiB2b2lkIHtcblxuICAgIC8vY29uc3Qgcm9vdCA9IERlcml2YXRpdmUub2Yoc3VtKGEsIGEsIHByb2R1Y3QobnVtKDIpLCBiKSksIGEpXG4gICAgLy9jb25zdCByb290ID0gRGVyaXZhdGl2ZS5vZihwcm9kdWN0KG51bSgzKSwgRXhwb25lbnQub2YoeCwgbnVtKDIpKSwgRXhwb25lbnQub2YoeCwgbnVtKDMpKSksIHgpXG4gICAgLy9jb25zdCByb290ID0gcHJvZHVjdChFeHBvbmVudC5vZih4LCBudW0oMykpLCBFeHBvbmVudC5vZih4LCBudW0oNCkpLCB4LCB4KVxuICAgIC8vY29uc3Qgcm9vdCA9IERlcml2YXRpdmUub2YoRnJhY3Rpb24ub2YoRXhwb25lbnQub2YoeCwgbnVtKDIpKSwgeCksIHgpXG4gICAgLy9jb25zdCByb290ID0gRnJhY3Rpb24ub2YocHJvZHVjdChudW0oMiksIHgsIEV4cG9uZW50Lm9mKHgsIGEpLCBhKSwgcHJvZHVjdChudW0oMiksIGEsIGEsIHgpKVxuICAgIGNvbnN0IHJvb3QgPSBwcm9kdWN0KHN1bShhLCBiKSwgc3VtKGEsIG5lZ2F0aXZlKGIpKSwgYSwgYSlcbiAgICBjb25zdCBncmFwaCA9IG5ldyBHcmFwaCgpLmFkZE5vZGUocm9vdClcblxuICAgIGNvbnN0IGRlcml2ZXIgPSBuZXcgRGVyaXZlcihncmFwaClcbiAgICBkZXJpdmVyLmV4cGFuZCgzMCwgdHJ1ZSlcblxuICAgIGNvbnN0IGludGVycHJldGVyID0gbmV3IEludGVycHJldGVyKHtcbiAgICAgICAgc2tpcHM6IHNldE9mKFxuICAgICAgICAgICAgRXZhbHVhdGVfU3Vtc19SdWxlXG4gICAgICAgIClcbiAgICB9KVxuXG4gICAgLy9jb25zb2xlLmxvZyhcIlJlc3VsdDogXCIgKyBncmFwaClcblxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dFwiKVxuICAgIGlucHV0IS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xuICAgICAgICAvL3BhcnNlKChpbnB1dCEgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWUpXG4gICAgfSlcblxuXG4gICAgY29uc3Qgb3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRwdXRib3hcIikhO1xuXG4gICAgY29uc3QgY29uZmlnOiBXZWJHcmFwaFZpZXdJbml0U2V0dGluZ3MgPSB7XG4gICAgICAgIHNob3dBcmd1bWVudHM6IGZhbHNlLFxuICAgICAgICBkcmF3RWRnZUxpbmVzOiB0cnVlLFxuICAgICAgICBkZWJ1Z0Nvcm5lckVuYWJsZWQ6IHRydWUsXG4gICAgfVxuXG4gICAgY29uc3QgZ3JhcGhWaWV3ID0gbmV3IFdlYkdyYXBoVmlldyhncmFwaCwgbmV3IFNldChbcm9vdF0pLCBpbnRlcnByZXRlciwgY29uZmlnKVxuICAgIGdyYXBoVmlldy5zZXROb2RlQ29sb3JpbmdTY2hlbWUobiA9PiB7XG4gICAgICAgIGlmIChuIGluc3RhbmNlb2YgRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgaWYgKCFkZXJpdmVyLmlzU2ltcGxpZmllZChuKSkgcmV0dXJuIFwibGlnaHRncmF5XCJcblxuICAgICAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBQcm9kdWN0KVxuICAgICAgICAgICAgICAgIGlmIChkZXJpdmVyLnBhc3NlZEZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uLmhhcyhuKSkgcmV0dXJuIFwiY29yYWxcIlxuICAgICAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBTdW0pXG4gICAgICAgICAgICAgICAgaWYgKGRlcml2ZXIucGFzc2VkUG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uLmhhcyhuKSkgcmV0dXJuIFwieWVsbG93XCJcbiAgICAgICAgICAgIGlmIChkZXJpdmVyLnBhc3NlZENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbi5oYXMobikpIHJldHVybiBcImxpZ2h0Z3JlZW5cIlxuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgVmFyaWFibGUpIHJldHVybiBcIm9yYW5nZVwiXG5cbiAgICAgICAgICAgIHJldHVybiBcImxpZ2h0Ymx1ZVwiXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiYmxhY2tcIlxuICAgIH0pXG4gICAgZ3JhcGhWaWV3LnNldEF0dHJpYnV0ZShcImlkXCIsIFwid2ViLWdyYXBodmlld1wiKVxuICAgIG91dC5hcHBlbmRDaGlsZChncmFwaFZpZXcpXG5cbn0iLCJpbXBvcnQgeyBhLCBiLCBjLCBkLCBmcmFjdGlvbiwgbmVnYXRpdmUsIG51bSwgcG93LCBwcm9kdWN0LCBzdW0sIHgsIHkgfSBmcm9tIFwiLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRGVyaXZlciB9IGZyb20gXCIuL21hdGhsaWIvZGVyaXZhdGlvbnMvRGVyaXZlclwiO1xuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBMb2dhcml0aG0gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0xvZ2FyaXRobVwiO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiLi9tYXRobGliL0dyYXBoXCI7XG5pbXBvcnQgeyBFZGl0YWJsZU1hdGhWaWV3IH0gZnJvbSBcIi4vbWF0aGxpYi91aWVsZW1lbnRzL0VkaXRhYmxlTWF0aFZpZXdcIjtcbmltcG9ydCB7IHBhcnNlRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvdXNlcmlucHV0L0FudGxyTWF0aFBhcnNlclwiO1xuaW1wb3J0IHsgUG93ZXJDb250ZXh0IH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvYXJpdGhtZXRpY1BhcnNlclwiO1xuXG4vKipcbiAqIENhbGxlZCBhZnRlciBET00gaXMgbG9hZGVkLlxuICogU3Vic3RpdHV0ZXMgdGhlIGJvZHkgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnRcbiAqIHdpdGggdGhlIHByaW1hcnkgaW50ZWdyYXRvciB2aWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNpbXBsaWZpY2F0aW9uVGVzdFBhZ2UoKSB7XG4gICAgY29uc3QgcGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF0gYXMgSFRNTEJvZHlFbGVtZW50XG4gICAgcGFnZS5zdHlsZS5wYWRkaW5nID0gXCI4Y2hcIlxuXG4gICAgZnVuY3Rpb24gcChjb250ZW50OiBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgZS5pbm5lclRleHQgPSBjb250ZW50XG4gICAgICAgIHJldHVybiBlXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlldyhleHA6IEV4cHJlc3Npb24pOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgRWRpdGFibGVNYXRoVmlldygpXG4gICAgICAgIGUudmFsdWUgPSBleHBcbiAgICAgICAgcmV0dXJuIGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdGVzdCBjb2x1bW4gdG8gdGhlIHBhZ2UuXG4gICAgICogQHBhcmFtIHN0YXJ0IFxuICAgICAqIEBwYXJhbSBhbnN3IFRoZSBjb3JyZWN0IHNpbXBsaWZpY2F0aW9uIG9mIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpbXBsaWZ5KHN0YXJ0OiBFeHByZXNzaW9uLCBhbnN3OiBFeHByZXNzaW9uKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKVxuICAgICAgICB0YWJsZS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgICAgIHRhYmxlLnN0eWxlLndpZHRoID0gJzgwJSdcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKVxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChyb3cpXG5cbiAgICAgICAgZnVuY3Rpb24gYXBwZW5kKGNlbGw6IEhUTUxUYWJsZUNlbGxFbGVtZW50KTogdm9pZCB7XG4gICAgICAgICAgICBjZWxsLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YTEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgIGNvbnN0IGRhdGEyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgICBjb25zdCBkYXRhMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgICAgYXBwZW5kKGRhdGExKVxuICAgICAgICBhcHBlbmQoZGF0YTIpXG4gICAgICAgIGFwcGVuZChkYXRhMylcblxuICAgICAgICBkYXRhMS5hcHBlbmRDaGlsZCh2aWV3KHN0YXJ0KSlcbiAgICAgICAgY29uc3QgZ3JhcGggPSBuZXcgR3JhcGgoKTtcbiAgICAgICAgZ3JhcGguYWRkTm9kZShzdGFydClcbiAgICAgICAgY29uc3QgZGVyaXZlciA9IG5ldyBEZXJpdmVyKGdyYXBoKVxuICAgICAgICBkZXJpdmVyLmV4cGFuZCg0MClcblxuICAgICAgICBjb25zdCByZXN1bHRzID0gZGVyaXZlci5zaW1wbGlmaWVkRXhwcmVzc2lvbnNcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0cy5sZW5ndGgpXG4gICAgICAgIGRhdGEyLmFwcGVuZENoaWxkKHZpZXcocmVzdWx0c1swXSkpXG4gICAgICAgIGRhdGEzLmFwcGVuZENoaWxkKHZpZXcoYW5zdykpXG5cbiAgICAgICAgcGFnZS5hcHBlbmQodGFibGUpXG5cbiAgICAgICAgLy8gQ29uZGl0aW9uYWwgZm9ybWF0dGluZ1xuICAgICAgICBpZiAocmVzdWx0c1swXSA9PT0gYW5zdykge1xuICAgICAgICAgICAgZGF0YTIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGdyZWVuXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCJcbiAgICAgICAgICAgIGNvbnN0IGRhdGE0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgICAgICAgY29uc3QgZGF0YTUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICAgICAgICBjb25zdCBkYXRhNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgICAgICAgIGFwcGVuZChkYXRhNClcbiAgICAgICAgICAgIGFwcGVuZChkYXRhNSlcbiAgICAgICAgICAgIGFwcGVuZChkYXRhNilcbiAgICAgICAgICAgIGRhdGE0LmlubmVySFRNTCA9IHJlc3VsdHNbMF0udG9VbmFtYmlnaW91c1N0cmluZygpICsgXCI8YnI+XCIgKyBhbnN3LnRvVW5hbWJpZ2lvdXNTdHJpbmcoKVxuICAgICAgICAgICAgZGF0YTUuaW5uZXJIVE1MID0gXCJIYXNoZXM6IDxicj5cIiArIHJlc3VsdHNbMF0uaGFzaCArIFwiPGJyPlwiICsgYW5zdy5oYXNoXG4gICAgICAgICAgICBkYXRhNi5pbm5lckhUTUwgPSBcIklEczogXCIgKyByZXN1bHRzWzBdLmlkICsgXCI8YnI+XCIgKyBhbnN3LmlkIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHBlciBmb3Igc2ltcGxpZnkgdGhhdCBwYXJzZXMgc3RyaW5nc1xuICAgICAqIEBwYXJhbSBpbnB1dCBcbiAgICAgKiBAcGFyYW0gYW5zdyBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwU2ltcChpbnB1dDogc3RyaW5nLCBhbnN3OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaW5wdXRFeHAgPSBwYXJzZUV4cHJlc3Npb24oaW5wdXQpXG4gICAgICAgIGNvbnN0IGFuc3dFeHAgPSBwYXJzZUV4cHJlc3Npb24oYW5zdylcbiAgICAgICAgc2ltcGxpZnkoaW5wdXRFeHAsIGFuc3dFeHApXG4gICAgfVxuXG4gICAgLy8gRXhwcmVzc2lvbnMgYW5kIHRoZWlyIGNvcnJlY3Qgc2ltcGxpZmljYXRpb25zXG4gICAgc2ltcGxpZnkoc3VtKHgsIHgpLCBwcm9kdWN0KG51bSgyKSwgeCkpXG4gICAgc2ltcGxpZnkocHJvZHVjdCh4LCB4KSwgcG93KHgsIG51bSgyKSkpXG4gICAgc2ltcGxpZnkoc3VtKGEsIGEsIGIpLCBzdW0ocHJvZHVjdChudW0oMiksIGEpLCBiKSlcbiAgICBzaW1wbGlmeShwcm9kdWN0KHBvdyhhLCBiKSwgcG93KGMsIGIpKSwgcHJvZHVjdChwb3coYSwgYiksIHBvdyhjLCBiKSkpXG4gICAgc2ltcGxpZnkocHJvZHVjdChwb3coYSwgYiksIHBvdyhhLCBjKSksIHBvdyhhLCBzdW0oYiwgYykpKVxuICAgIHNpbXBsaWZ5KHByb2R1Y3QocG93KGEsIGIpLCBwb3coYSwgYikpLCBwb3coYSwgcHJvZHVjdChudW0oMiksIGIpKSlcbiAgICBwU2ltcChcIihhK2IpKGErYilcIiwgXCIoYStiKV4yXCIpXG4gICAgcFNpbXAoXCIoYStiKShhLWIpXCIsIFwiYV4yLWJeMlwiKVxuICAgIHBTaW1wKFwiYl4yKmJcIiwgXCJiXjNcIilcbiAgICAvLyBSYW5kb20gb25saW5lIHByb2JsZW1zXG4gICAgcFNpbXAoXCIoLSgxL3gpKzEpKCh4XjIpLyh4LTEpKVwiLCBcInhcIilcbiAgICBwU2ltcChcIigzeCsyN3krMTV6KS8oeCs5eSs1eilcIiwgXCIzXCIpXG4gICAgcFNpbXAoXCIoeF4yLTkpLyh4KzMpXCIsIFwiKHgtMylcIilcbiAgICBwU2ltcChcIngrMyooMTAreSktN3gteVwiLCBcIi02eCsyeSszMFwiKVxuICAgIHBTaW1wKFwiKDUvKDJ4LTMpLSgzLygoMngtMyleMikpXCIsIFwiKDIoNXgtOSkpLygoMngtMyleMilcIilcblxuICAgIFxufSIsImltcG9ydCB7IERlcml2ZXIgfSBmcm9tIFwiLi9tYXRobGliL2Rlcml2YXRpb25zL0Rlcml2ZXJcIlxuaW1wb3J0IHsgR3JhcGgsIEdyYXBoRWRnZSB9IGZyb20gXCIuL21hdGhsaWIvR3JhcGhcIlxuaW1wb3J0IHsgRWRpdGFibGVNYXRoVmlldyB9IGZyb20gXCIuL21hdGhsaWIvdWllbGVtZW50cy9FZGl0YWJsZU1hdGhWaWV3XCJcbmltcG9ydCBwYXRoIGZyb20gXCJuZ3JhcGgucGF0aFwiXG5pbXBvcnQgY3JlYXRlR3JhcGggZnJvbSBcIm5ncmFwaC5ncmFwaFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi9tYXRobGliL01hdGhHcmFwaE5vZGVcIlxuaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi9tYXRobGliL0FyZ3VtZW50XCJcbmltcG9ydCB7IEFyZ3VtZW50Tm9kZVZpZXcgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvQXJndW1lbnROb2RlVmlld1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uTm9kZVZpZXcgfSBmcm9tIFwiLi9tYXRobGliL3VpZWxlbWVudHMvRXhwcmVzc2lvbk5vZGVWaWV3XCJcbmltcG9ydCB7IEdyYXBoTWluaXB1bGF0b3IgfSBmcm9tIFwiLi9tYXRobGliL0dyYXBoTWluaXB1bGF0b3JcIlxuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvQW50bHJNYXRoUGFyc2VyXCJcbmltcG9ydCB7IEludGVycHJldGVyIH0gZnJvbSBcIi4vbWF0aGxpYi9pbnRlcnByZXRpbmcvSW50ZXJwcmV0ZXJcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi9tYXRobGliL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgUlVMRV9JRCBhcyBFdmFsdWF0ZV9TdW1zX1J1bGUgfSBmcm9tIFwiLi9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9FdmFsdWF0ZVN1bXNcIlxuaW1wb3J0IHsgUGF0aCB9IGZyb20gXCIuL21hdGhsaWIvaW50ZXJwcmV0aW5nL1BhdGhcIlxuXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU29sdmVyUGFnZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dFZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvYmxlbScpISBhcyBIVE1MVGV4dEFyZWFFbGVtZW50XG4gICAgY29uc3QgcHJvYmxlbVZpZXdEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwcmVzc2lvblZpZXdEaXYnKSBhcyBIVE1MRGl2RWxlbWVudFxuICAgIGNvbnN0IHNvbHV0aW9uVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb2x1dGlvbicpISBhcyBFZGl0YWJsZU1hdGhWaWV3XG4gICAgY29uc3Qgc3RlcExpc3RWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXBzJykhXG5cbiAgICAvLyBQb3B1bGF0ZSB1aVxuICAgIGNvbnN0IHByb2JsZW1WaWV3ID0gbmV3IEVkaXRhYmxlTWF0aFZpZXcoKVxuICAgIHByb2JsZW1WaWV3RGl2LmFwcGVuZENoaWxkKHByb2JsZW1WaWV3KVxuXG4gICAgaW5wdXRWaWV3LmZvY3VzKClcblxuICAgIGlucHV0Vmlldy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKCkgPT4ge1xuICAgICAgICAvLyBQYXJzZSBpbnB1dFxuICAgICAgICBsZXQgZXhwOiBFeHByZXNzaW9uXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHAgPSBwYXJzZUV4cHJlc3Npb24oaW5wdXRWaWV3LnZhbHVlKVxuICAgICAgICAgICAgcHJvYmxlbVZpZXcudmFsdWUgPSBleHBcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgc3RlcExpc3RWaWV3LnN0eWxlLm9wYWNpdHkgPSBcIjAuNlwiXG4gICAgICAgICAgICBwcm9ibGVtVmlldy52YWx1ZSA9IG51bGxcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHdlcmUgYWJsZSB0byBwYXJzZSB0aGUgaW5wdXRcbiAgICAgICAgc3RlcExpc3RWaWV3LnN0eWxlLm9wYWNpdHkgPSBcIjFcIlxuXG4gICAgICAgIC8vIENsZWFyIHRoZSBwcmV2aW91cyByZXN1bHRcbiAgICAgICAgd2hpbGUgKHN0ZXBMaXN0Vmlldy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcucmVtb3ZlQ2hpbGQoc3RlcExpc3RWaWV3LmNoaWxkcmVuWzBdKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RlcHMgPSBnZXRTb2x1dGlvbihleHApXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKHN0ZXBzLm5vZGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcudGV4dENvbnRlbnQgPSBcIkNhbm5vdCBTaW1wbGlmeVwiXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEludGVycHJldCB0aGUgc29sdXRpb25cbiAgICAgICAgY29uc3QgaW50ZXJwcmV0ZXIgPSBuZXcgSW50ZXJwcmV0ZXIoe1xuICAgICAgICAgICAgc2tpcHM6IHNldE9mKFxuICAgICAgICAgICAgICAgIEV2YWx1YXRlX1N1bXNfUnVsZVxuICAgICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBza2lwU2V0ID0gaW50ZXJwcmV0ZXIucHJvY2Vzc1BhdGgoc3RlcHMpXG5cbiAgICAgICAgLy8gRGlzcGxheSBuZXcgcmVzdWx0XG4gICAgICAgIHNvbHV0aW9uVmlldy52YWx1ZSA9IHN0ZXBzLm5vZGVzW3N0ZXBzLm5vZGVzLmxlbmd0aCAtIDFdIGFzIEV4cHJlc3Npb25cblxuICAgICAgICBmdW5jdGlvbiByZWN1cnNpdmVBZGQobm9kZTogRXhwcmVzc2lvbik6IHZvaWQge1xuXG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcuYXBwZW5kQ2hpbGQobmV3IEV4cHJlc3Npb25Ob2RlVmlldyhub2RlLCB2aWV3ID0+IHt9KSlcblxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHNraXBTZXQubmV4dChub2RlKVxuICAgIFxuICAgICAgICAgICAgaWYgKG5leHQgPT0gbnVsbCkgcmV0dXJuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9IG5leHQuYVxuICAgICAgICAgICAgc3RlcExpc3RWaWV3LmFwcGVuZENoaWxkKG5ldyBBcmd1bWVudE5vZGVWaWV3KGFyZywgdmlldyA9PiB7fSkpXG4gICAgICAgICAgICByZWN1cnNpdmVBZGQobmV4dC5lKVxuICAgICAgICB9ICAgIFxuXG4gICAgICAgIHJlY3Vyc2l2ZUFkZChzdGVwcy5ub2Rlc1swXSlcbiAgICAgICAgXG4gICAgfSlcbn1cblxuLyoqXG4gKiBTaW1wbGlmaWVzIHRoZSBnaXZlbiBleHByZXNzaW9uIHJldHVybmluZyBhbiBhcnJheVxuICogb2Ygc3RlcHMgZW5kaW5nIGluIHRoZSBhbnN3ZXIuXG4gKiBUaGUgbGFzdCBub2RlIHdpbGwgYmUgYW4gZXhwcmVzc2lvbi5cbiAqIFJlc3VsdCBwYXRoIHdpbGwgaGF2ZSBubyBub2RlcyBpZiB0aGVyZSBpcyBubyBzb2x1dGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0U29sdXRpb24ocHJvYmxlbTogRXhwcmVzc2lvbik6IFBhdGg8RXhwcmVzc2lvbj4ge1xuICAgIGNvbnN0IGdyYXBoID0gbmV3IEdyYXBoKCkuYWRkTm9kZShwcm9ibGVtKVxuXG4gICAgY29uc3QgZGVyaXZlciA9IG5ldyBEZXJpdmVyKGdyYXBoKVxuICAgIGNvbnNvbGUubG9nKFwiUHJlIEV4cGFuZFwiKVxuICAgIGRlcml2ZXIuZXhwYW5kKDUwLCB0cnVlKVxuICAgIGNvbnNvbGUubG9nKFwiUG9zdCBleHBhbmRcIilcblxuICAgIGxldCBzaW1wbGlmaWVkOiBFeHByZXNzaW9uID0gcHJvYmxlbVxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmFwaC5nZXROb2RlcygpKSB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgICAgIGlmIChkZXJpdmVyLmlzU2ltcGxpZmllZChub2RlKSlcbiAgICAgICAgICAgICAgICBpZiAoc2ltcGxpZmllZC5jaGlsZENvdW50ID4gbm9kZS5jaGlsZENvdW50KVxuICAgICAgICAgICAgICAgICAgICBzaW1wbGlmaWVkID0gbm9kZSBhcyBFeHByZXNzaW9uXG4gICAgfVxuXG4gICAgLy8gQ29weSB0aGUgcmVzdWx0aW5nIGdyYXBoIGludG8gYSBsaWJyYXJ5IGltcGxlbWVudGF0aW9uIG9mIGdyYXBoXG4gICAgY29uc3QgbGlicmFyeUdyYXBoID0gY3JlYXRlR3JhcGg8TWF0aEdyYXBoTm9kZSwgR3JhcGhFZGdlPigpXG4gICAgZ3JhcGguZ2V0Tm9kZXMoKS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICBsaWJyYXJ5R3JhcGguYWRkTm9kZShuLmlkLCBuKVxuICAgIH0pXG5cbiAgICAvLyBJIGFzc3VtZSB0aGF0IGxpYnJhcnkgZ3JhcGggaXNuJ3QgZGlyZWN0ZWRcbiAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgR3JhcGhNaW5pcHVsYXRvci5kcm9wU3ltbWV0cmljKGdyYXBoLmdldEVkZ2VzKCkpKSB7XG4gICAgICAgIGlmIChlZGdlLmUgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgbGlicmFyeUdyYXBoLmFkZExpbmsoZWRnZS5uLmlkLCBlZGdlLmUuaWQpXG4gICAgICAgICAgICBsaWJyYXJ5R3JhcGguYWRkTGluayhlZGdlLmUuaWQsIGVkZ2UubjEuaWQpXG4gICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAvLyBpZiAoZWRnZS5uIGluc3RhbmNlb2YgRXhwcmVzc2lvbiAmJiBlZGdlLm4xIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGBlZGdlICR7ZWRnZS5ufSBBTkQgJHtlZGdlLm4xfWApXG4gICAgfVxuXG4gICAgLy8gRG8gcGF0aCBmaW5kaW5nIG9wZXJhdGlvbiBvbiBpdFxuICAgIGNvbnN0IHBhdGhGaW5kZXIgPSBwYXRoLm5iYTxNYXRoR3JhcGhOb2RlLCBHcmFwaEVkZ2U+KGxpYnJhcnlHcmFwaClcbiAgICBjb25zdCByZXN1bHRQYXRoID0gcGF0aEZpbmRlci5maW5kKHByb2JsZW0uaWQsIHNpbXBsaWZpZWQhLmlkKS5yZXZlcnNlKClcblxuICAgIGNvbnN0IHR5cGVkUmVzdWx0UGF0aCA9IHJlc3VsdFBhdGgubWFwKG5vZGUgPT4ge1xuICAgICAgICBpZiAobm9kZS5kYXRhIGluc3RhbmNlb2YgQXJndW1lbnQpXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5kYXRhIGFzIEFyZ3VtZW50XG4gICAgICAgIGVsc2UgaWYgKG5vZGUuZGF0YSBpbnN0YW5jZW9mIEV4cHJlc3Npb24pXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5kYXRhIGFzIEV4cHJlc3Npb25cbiAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICB9KS5maWx0ZXIobm9kZSA9PiBub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbikgYXMgRXhwcmVzc2lvbltdXG5cbiAgICByZXR1cm4gbmV3IFBhdGgoZ3JhcGgsIC4uLnR5cGVkUmVzdWx0UGF0aCkgICAgXG59IiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4vR3JhcGhcIjtcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi9NYXRoR3JhcGhOb2RlXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCI7XG5cbi8qKlxuICogQ29ubmVjdHMgb25lIG9yIG1vcmUgbm9kZXMgKGdyb3VuZHMpIHRvIG9uZSBvciBtb3JlIG5vZGVzIChjbGFpbXMpLlxuICogQ29udGFpbnMgYW4gZXhwbGFuYXRpb24vYXJndW1lbnQgZm9yIHRoZSBjb25uZWN0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQXJndW1lbnQgZXh0ZW5kcyBNYXRoR3JhcGhOb2RlIHtcbiAgICBjb25zdHJ1Y3Rvcihncm91bmRzOiBTZXQ8RXhwcmVzc2lvbj4sIGNsYWltOiB7bjogRXhwcmVzc2lvbiwgcjogUmVsYXRpb25zaGlwLCBuMTogRXhwcmVzc2lvbn0sIGFyZ3VtZW50OiBzdHJpbmcsIHJ1bGVJZDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5ncm91bmRzID0gZ3JvdW5kc1xuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuZ3JvdW5kcylcbiAgICAgICAgdGhpcy5jbGFpbSA9IGNsYWltXG4gICAgICAgIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudFxuICAgICAgICB0aGlzLnJ1bGVJZCA9IHJ1bGVJZFxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG4gICAgZXhwcmVzc2lvbkVkZ2U6IHRydWUgPSB0cnVlXG4gICAgZ2V0IHJlbGF0aW9uc2hpcCgpOiBSZWxhdGlvbnNoaXAge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFpbS5yXG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIkFyZ3VtZW50IFwiICsgdGhpcy5jbGFpbS5yXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHdvIG91dCBtYXRoIGdyYXBoIG5vZGVzIHRoYXQgYXJlIHJlbGF0ZWQgYnkgdGhpcyBBcnVnbWVudC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhaW06IHtuOiBFeHByZXNzaW9uLCByOiBSZWxhdGlvbnNoaXAsIG4xOiBFeHByZXNzaW9ufTtcbiAgICAvKipcbiAgICAgKiBUaGUgZXhwbGFuYXRpb24gdGhhdCBjb25uZWN0cyB0aGUgYXJndW1lbnQncyBncm91bmRzIHRvIFxuICAgICAqIGl0J3MgY2xhaW1lZCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgdHdvIG91dCBub2Rlcy5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJndW1lbnQ6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBOb2RlcyB0aGF0IGhhdmUgYW4gZWRnZSBwb2ludGluZyB0byB0aGlzIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBncm91bmRzOiBTZXQ8RXhwcmVzc2lvbj47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaWQgb2YgdGhlIHJ1bGUgd2hpY2ggZ2VuZXJhdGVkIHRoaXMgYXJndW1lbnQuXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IHJ1bGVJZDogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSByZXBPaygpIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuZ3JvdW5kcyAhPSBudWxsKVxuICAgICAgICBmb3IoY29uc3QgZ3JvdW5kIG9mIHRoaXMuZ3JvdW5kcykge1xuICAgICAgICAgICAgYXNzZXJ0KGdyb3VuZCAhPSBudWxsICYmIGdyb3VuZCAhPSB1bmRlZmluZWQpXG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KHRoaXMuY2xhaW0ubiAhPSBudWxsICYmIHRoaXMuY2xhaW0ubiAhPSB1bmRlZmluZWQpXG4gICAgICAgIGFzc2VydCh0aGlzLmNsYWltLm4xICE9IG51bGwgJiYgdGhpcy5jbGFpbS5uMSAhPSB1bmRlZmluZWQpXG4gICAgICAgIGFzc2VydCh0aGlzLmNsYWltLnIgIT0gdW5kZWZpbmVkICYmIHRoaXMuY2xhaW0uciAhPSBudWxsKVxuICAgIH1cbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvRnJhY3Rpb25cIjtcbmltcG9ydCB7IEludGVncmFsIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvSW50ZWdyYWxcIjtcbmltcG9ydCB7IGZhY3Rvck9yZGVyLCBQcm9kdWN0IH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgb3JkZXJUZXJtcywgU3VtLCBTdW1UeXBlIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCI7XG5pbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcmFjdGlvbihudW06IEV4cHJlc3Npb24sIGRlbjogRXhwcmVzc2lvbik6IEZyYWN0aW9uIHtcbiAgICByZXR1cm4gRnJhY3Rpb24ub2YobnVtLCBkZW4pXG59XG5cbi8qKlxuICogQSBjb252ZW5pZW5jZSBtZXRob2QgZm9yIFN1bS5vZigpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdW0oLi4udGVybXM6IEV4cHJlc3Npb25bXSk6IFN1bSB7XG4gICAgcmV0dXJuIFN1bS5vZih0ZXJtcylcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBjb3JyZWN0bHkgb3JkZXJlZCBzdW0gb2YgdGhlIGdpdmVuIHN1bS5cbiAqIDEgKyBhID0gYSArIDFcbiAqIEZvbGxvd3MgdGhlIHNwZWMgZ2l2ZW4gaW4gdGhlIFN1bS50cyBmaWxlLlxuICogQHBhcmFtIHN1bSBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJlZFN1bShzdW06IFN1bSk6IFN1bSB7XG4gICAgY29uc3Qgb3JkZXJlZCA9IG9yZGVyVGVybXMoLi4uc3VtLnRlcm1zKVxuICAgIHJldHVybiBTdW0ub2Yob3JkZXJlZClcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhlIGdpdmVuIHRlcm1zLCBldmFsdWF0aW5nIGFueSBpbnRlZ2VyIHRlcm1zLlxuICogUHV0cyBmaW5hbCBjb25zdGFudCBpbnRlZ2VyIGFzIHRoZSBsYXN0IHRlcm0uXG4gKiBJZiB0aGUgcmVzdWx0IGlzIGEgc3VtLCBpdCB3aWxsIG5vdCBoYXZlIHRoZSBpbnRlZ2VyIDAgYXMgYSB0ZXJtLlxuICogSWYgYWxsIGdpdmVuIHRlcm1zIHN1bSB0byB6ZXJvLCB0aGUgaW50ZWdlciB6ZXJvIHdpbGwgYmUgcmV0dXJuZWQuXG4gKiBAcGFyYW0gdGVybXMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdW1FdmFsSW50ZWdlclRlcm1zKC4uLnRlcm1zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uIHtcbiAgICBjb25zdCBpbnRlZ2VycyA9IHRlcm1zLmZpbHRlcihlID0+IGUgaW5zdGFuY2VvZiBJbnRlZ2VyKS5sZW5ndGhcbiAgICBpZiAoaW50ZWdlcnMgPCAyKSByZXR1cm4gc3VtKC4uLnRlcm1zKVxuXG4gICAgY29uc3Qgbm9uSW50VGVybXMgPSB0ZXJtcy5maWx0ZXIoZSA9PiAhKGUgaW5zdGFuY2VvZiBJbnRlZ2VyKSlcbiAgICBjb25zdCBpbnRUZXJtID0gdGVybXMuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIEludGVnZXIpXG4gICAgICAgIC5tYXA8SW50ZWdlcj4oZSA9PiBlIGFzIEludGVnZXIpXG4gICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IG51bShhLnZhbHVlICsgYi52YWx1ZSkpXG5cbiAgICBpZiAoaW50VGVybS52YWx1ZSA9PSAwKSB7XG4gICAgICAgIGlmIChub25JbnRUZXJtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtKC4uLm5vbkludFRlcm1zKVxuICAgICAgICB9IGVsc2UgaWYgKG5vbkludFRlcm1zLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9uSW50VGVybXNbMF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRUZXJtXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9uSW50VGVybXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRUZXJtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtKC4uLm5vbkludFRlcm1zLCBpbnRUZXJtKVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN1bSBvZiB0aGUgZ2l2ZW4gdGVybXMuIEV2YWx1YXRlcyBhbnlcbiAqIGludGVnZXIgdGVybXMuIEFkZGl0aW9uYWxseSBjYW5jZWxzIG91dCBhbnkgcG9zaXRpdmVcbiAqIG5lZ2F0aXZlIHRlcm1zLlxuICogXG4gKiBTaW1wbGlmaWVzXG4gKiAgeCArIGEgLSBhID0geFxuICogeCArIGFiIC0gYWIgPSB4XG4gKiB4ICsgMmFiIC0gMmFiID0geFxuICogYSAtIGEgPSAwXG4gKiBcbiAqIERvZXNuJ3QgYWZmZWN0XG4gKiAgeCArIDJhIC0gYVxuICogQHBhcmFtIHRlcm1zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VtSW50dWl0aXZlKC4uLnRlcm1zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uIHtcbiAgICBjb25zdCBpbnRFdmFsID0gIHN1bUV2YWxJbnRlZ2VyVGVybXMoLi4udGVybXMpXG4gICAgaWYgKGludEV2YWwuY2xhc3MgIT0gU3VtVHlwZSkgcmV0dXJuIGludEV2YWxcbiAgICB0ZXJtcyA9IFsuLi4oaW50RXZhbCBhcyBTdW0pLnRlcm1zXVxuXG4gICAgLy8gRmluZCBvcHBvc2l0ZSBwYWlyc1xuICAgIC8vIFRoZXkgd2lsbCB0YWtlIHRoZSBmb3JtXG4gICAgLy8gICAgICBleHAgKyAtMSAqIGV4cFxuICAgIC8vIEkgYXNzdW1lIGhlcmUgdGhhdCB0aGUgb25seSB3YXkgdG8gbm90YXRlXG4gICAgLy8gbmVnYXRpdml0eSBpcyBieSBtdWx0aXBseWluZyBieSAtMVxuICAgIHRlcm1zOiBmb3IgKGNvbnN0IHQgb2YgdGVybXMpIHtcbiAgICAgICAgY29uc3Qgb3RoZXJUZXJtcyA9IFsuLi50ZXJtc11cbiAgICAgICAgcmVtb3ZlKG90aGVyVGVybXMsIHQpXG5cbiAgICAgICAgZm9yIChjb25zdCBvdGhlciBvZiBvdGhlclRlcm1zKSB7XG4gICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyLmlzTmVnYXRpb24gJiYgb3RoZXIubmVnYXRpb24gPT09IHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHRlcm1zLCBvdGhlcilcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHRlcm1zLCB0KVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZSB0ZXJtc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0ZXJtcy5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIEludGVnZXIub2YoMClcbiAgICBlbHNlIGlmICh0ZXJtcy5sZW5ndGggPT0gMSlcbiAgICAgICAgcmV0dXJuIHRlcm1zWzBdXG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gc3VtKC4uLnRlcm1zKVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBzdW0gb2YgdGhlIGdpdmVuIHRlcm1zIG9yIGlmIG9ubHkgMSBcbiAqIGlzIGdpdmVuIHJldHVybnMgdGhhdCB0ZXJtLlxuICogQHBhcmFtIHRlcm1zIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdW1Pck5vdCguLi50ZXJtczogRXhwcmVzc2lvbltdKTogRXhwcmVzc2lvbiB7XG4gICAgaWYgKHRlcm1zLmxlbmd0aCA9PSAxKSByZXR1cm4gdGVybXNbMF1cbiAgICBlbHNlIHJldHVybiBzdW0oLi4udGVybXMpXG59XG5cbi8qKlxuICogUHJvZHVjZXMgYSBwcm9kdWN0IGZyb20gdGhlIGdpdmVuIGZhY3RvcnNcbiAqIHdoZXJlIHRoZSBmYWN0b3JzIGFyZSBvcmRlcmVkIGFjY29yZGluZyB0byBjb252ZW50aW9uLlxuICogQHBhcmFtIGZhY3RvcnMgQXQgbGVhc3QgMlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJlZFByb2R1Y3QoLi4uZmFjdG9yczogRXhwcmVzc2lvbltdKTogUHJvZHVjdCB7XG4gICAgZmFjdG9ycy5zb3J0KGZhY3Rvck9yZGVyKVxuICAgIHJldHVybiBwcm9kdWN0KC4uLmZhY3RvcnMpXG59XG5cbi8qKlxuICogQ29udmVuaWVuY2Ugd3JhcHBlciBmdW5jdGlvbiBmb3IgRXhwb25lbnQub2ZcbiAqIEBwYXJhbSBiYXNlIFxuICogQHBhcmFtIHBvd2VyIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb3coYmFzZTogRXhwcmVzc2lvbiwgcG93ZXI6IEV4cHJlc3Npb24pOiBFeHBvbmVudCB7XG4gICAgcmV0dXJuIEV4cG9uZW50Lm9mKGJhc2UsIHBvd2VyKVxufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGZpcnN0IGluc3RhbmNlIG9mIHRoZSBnaXZlblxuICogZWxlbWVudCBmcm9tIHRoZSBhcnJheS4gUmVhbGx5IHNob3VsZCBiZVxuICogcGFydCBvZiB0aGUgc3RkIGxpYnJhcnkuIElkZW50aWZpZXMgb2JqZWN0XG4gKiB3aXRoIHJlZmVyZW5jaWFsIGVxdWFsaXR5LlxuICogQHBhcmFtIGFycmF5IFxuICogQHBhcmFtIGVsZW1lbnQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmU8VD4oYXJyYXk6IFRbXSwgZWxlbWVudDogVCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJheVtpXSA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBHZXRzIGEgbmV3IGFycmF5IHdpdGhvdXQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIHRoZSBnaXZlblxuICogZWxlbWVudC4gUmVhbGx5IHNob3VsZCBiZVxuICogcGFydCBvZiB0aGUgc3RkIGxpYnJhcnkuIElkZW50aWZpZXMgb2JqZWN0XG4gKiB3aXRoIHJlZmVyZW5jaWFsIGVxdWFsaXR5LlxuICogQHBhcmFtIGFycmF5IFxuICogQHBhcmFtIGVsZW1lbnQgXG4gKi9cbiBleHBvcnQgZnVuY3Rpb24gcmVtb3ZlTmV3PFQ+KGFycmF5OiBUW10sIGVsZW1lbnQ6IFQpOiBUW10ge1xuICAgIGNvbnN0IGlucHV0ID0gWy4uLmFycmF5XVxuICAgIGZvciAobGV0IGk9MDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpbnB1dFtpXSA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgaW5wdXQuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiBhcnJheSBkb2Vzbid0IGNvbnRhaW4gZWxlbWVudCBcIiArIGVsZW1lbnQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0KC4uLmZhY3RvcnM6IEV4cHJlc3Npb25bXSk6IFByb2R1Y3Qge1xuICAgIGZhY3RvcnMuZm9yRWFjaChmID0+IGFzc2VydChmICE9IG51bGwgJiYgZiAhPSB1bmRlZmluZWQsIFwiTWFraW5nIHByb2R1Y3Qgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCBmYWN0b3JcIikpXG4gICAgcmV0dXJuIFByb2R1Y3Qub2YoZmFjdG9ycylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0aXZlKGV4cHJlc3Npb246IEV4cHJlc3Npb24pOiBFeHByZXNzaW9uIHtcbiAgICBhc3NlcnQoZXhwcmVzc2lvbiAhPSB1bmRlZmluZWQsIFwiVGFraW5nIG5lZ2F0aXZlIG9mIHVuZGVmaW5lZCBleHByZXNzaW9uXCIpXG4gICAgaWYgKGV4cHJlc3Npb24gaW5zdGFuY2VvZiBJbnRlZ2VyKSByZXR1cm4gSW50ZWdlci5vZigtZXhwcmVzc2lvbi52YWx1ZSlcbiAgICBlbHNlIHJldHVybiBQcm9kdWN0Lm9mKFtJbnRlZ2VyLm9mKC0xKSwgZXhwcmVzc2lvbl0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudW0odmFsOiBudW1iZXIpOiBJbnRlZ2VyIHtcbiAgICByZXR1cm4gSW50ZWdlci5vZih2YWwpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2KHN5bWJvbDogc3RyaW5nKTogVmFyaWFibGUge1xuICAgIHJldHVybiBWYXJpYWJsZS5vZihzeW1ib2wpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnQoaW50ZWdyYW5kOiBFeHByZXNzaW9uLCByZXNwZWN0VG86IEV4cHJlc3Npb24pOiBJbnRlZ3JhbCB7XG4gICAgcmV0dXJuIEludGVncmFsLm9mKGludGVncmFuZCwgcmVzcGVjdFRvKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1aXZhbGVuY2VBcmd1bWVudChmaXJzdDogRXhwcmVzc2lvbiwgc2Vjb25kOiBFeHByZXNzaW9uLCBleHBsYW5hdGlvbjogc3RyaW5nKTogQXJndW1lbnQge1xuICAgIHJldHVybiBuZXcgQXJndW1lbnQoc2V0T2YoZmlyc3QpLCB7XG4gICAgICAgIG46IGZpcnN0LFxuICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgIG4xOiBzZWNvbmQsXG4gICAgfSwgZXhwbGFuYXRpb24sIFwiVEVTVF9BUkdVTUVOVFwiKVxufVxuXG4vKipcbiAqIFxuICogQHJldHVybnMgVGhlIHByb2R1Y3Qgb2YgdGhlIGdpdmVuIGZhY3RvcnMsIG9yIHRoZSBvbmx5IGZhY3RvciBnaXZlblxuICogaWYgb25seSBvbmUgZ2l2ZW4uIFRocm93cyBpZiBubyBleHByZXNzaW9ucyBhcmUgZ2l2ZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0T3JOb3QoLi4uZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSk6IEV4cHJlc3Npb24ge1xuICAgIGFzc2VydChleHByZXNzaW9ucy5sZW5ndGggPiAwKVxuICAgIGlmIChleHByZXNzaW9ucy5sZW5ndGggPT0gMSkgcmV0dXJuIGV4cHJlc3Npb25zWzBdXG4gICAgcmV0dXJuIHByb2R1Y3QoLi4uZXhwcmVzc2lvbnMpXG59XG5cbi8qKlxuICogQHJldHVybnMgVGhlIHByb2R1Y3Qgb2YgdGhlIGdpdmVuIHRlcm1zIGV4bGN1ZGluZyB0aGUgZmlyc3QgaWYgXG4gKiAgICAgICAgICBpdCdzIG9uZS4gSWYgdGhlIHJlc3VsdGluZyB0ZXJtcyBsaXN0IGlzIG9ubHkgb25lIHRlcm0sXG4gKiAgICAgICAgICByZXR1cm5zIHRoZSBvbmx5IHRlcm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9kdWN0QW5kTm90VGltZXNPbmUoLi4uZXhwcmVzc2lvbnM6IEV4cHJlc3Npb25bXSk6IEV4cHJlc3Npb24ge1xuICAgIGlmIChleHByZXNzaW9uc1swXSBpbnN0YW5jZW9mIEludGVnZXIgJiYgZXhwcmVzc2lvbnNbMF0udmFsdWUgPT0gMSkge1xuICAgICAgICBleHByZXNzaW9ucy5zaGlmdCgpXG4gICAgICAgIHJldHVybiBwcm9kdWN0T3JOb3QoLi4uZXhwcmVzc2lvbnMpXG4gICAgfVxuICAgIHJldHVybiBwcm9kdWN0T3JOb3QoLi4uZXhwcmVzc2lvbnMpXG59XG5cbmZ1bmN0aW9uIHNldE9mKC4uLmV4cHJlc3Npb25zOiBFeHByZXNzaW9uW10pOiBTZXQ8RXhwcmVzc2lvbj4ge1xuICAgIGNvbnN0IG91dCA9IG5ldyBTZXQ8RXhwcmVzc2lvbj4oKVxuICAgIGV4cHJlc3Npb25zLmZvckVhY2goZSA9PiBvdXQuYWRkKGUpKVxuICAgIHJldHVybiBvdXRcbn1cblxuZXhwb3J0IGNvbnN0IGEgPSB2KCdhJylcbmV4cG9ydCBjb25zdCBiID0gdignYicpXG5leHBvcnQgY29uc3QgYyA9IHYoJ2MnKVxuZXhwb3J0IGNvbnN0IGQgPSB2KCdkJylcbmV4cG9ydCBjb25zdCBlID0gdignZScpXG5leHBvcnQgY29uc3QgZiA9IHYoJ2YnKVxuXG5leHBvcnQgY29uc3QgeCA9IHYoJ3gnKVxuZXhwb3J0IGNvbnN0IHkgPSB2KCd5JykiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuL01hdGhHcmFwaE5vZGVcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4vdXRpbC9hc3NlcnRcIjtcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBncmFwaCBvZiBleHByZXNzaW9ucyBhbmQgc3RhdGVtZW50c1xuICogaW5jbHVkaW5nIGV2ZXJ5dGhpbmcgd2Uga25vdyBhYm91dCBhIHByb2JsZW0uXG4gKiBDb25uZWN0cyBHcmFwaE5vZGVzIHZpYSBJbmZlcmVuY2VzIGZvciBlZGdlcy5cbiAqIFxuICogSXQncyBhIGRpZ3JhcGguIFRPRE86IEl0IG1heSBhbHNvIG5lZWQgdG8gYmUgYSBtdWx0aWdyYXBoLi4uXG4gKi9cbmV4cG9ydCBjbGFzcyBHcmFwaCB7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubm9kZXMgPSBuZXcgU2V0PE1hdGhHcmFwaE5vZGU+KClcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucyA9IG5ldyBNYXA8TWF0aEdyYXBoTm9kZSwgU2V0PE1hdGhHcmFwaE5vZGU+PigpXG4gICAgICAgIHRoaXMuZWRnZXMgPSBuZXcgTWFwPE1hdGhHcmFwaE5vZGUsIE1hcDxNYXRoR3JhcGhOb2RlLCBHcmFwaEVkZ2U+PigpXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW4gZXhwcmVzc2lvbiB0byB0aGUgcHJvYmxlbS5cbiAgICAgKiBAcGFyYW0gbm9kZSBcbiAgICAgKiBAcmV0dXJucyB0aGUgc2FtZSBncmFwaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZE5vZGUobm9kZTogTWF0aEdyYXBoTm9kZSk6IEdyYXBoIHtcbiAgICAgICAgdGhpcy5ub2Rlcy5hZGQobm9kZSlcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgdGhpcy5hZGRBcmd1bWVudChub2RlKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHR3byBlbGVtZW50cyBnaXZlbiBieSB0aGUgdXNlciB0byB0aGUgZ3JhcGguXG4gICAgICogU2hvdWxkIG5vdCBiZSBjYWxsZWQgdG8gYWRkIGRlcml2ZWQgdHJ1dGhzIGJjIHRoaXMgd29uJ3Qgc3RvcmUgYW4gZXhwbGFuYXRpb24uXG4gICAgICogQWRkcyBnaXZlbiBub2RlcyBpZiB0aGV5IGFyZW4ndCBhbHJlYWR5IG9uIHRoZSBncmFwaC5cbiAgICAgKiBAcGFyYW0gbiBcbiAgICAgKiBAcGFyYW0gbjEgXG4gICAgICogQHBhcmFtIHIgXG4gICAgICogQHJldHVybnMgc2VsZiBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkUmVsYXRpb25zaGlwKG46IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCByOiBSZWxhdGlvbnNoaXApOiBHcmFwaCB7XG4gICAgICAgIHRoaXMuYWRkTm9kZShuKVxuICAgICAgICB0aGlzLmFkZE5vZGUobjEpXG5cbiAgICAgICAgLy8gRGVmaW5lZCBib3RoIHdheXMgYmVjYXVzZSB0aGUgdXNlciBpcyBnaXZpbmcgaXRcbiAgICAgICAgdGhpcy5pbnRlcm5hbEFkZChuLCBuMSwgbmV3IEdpdmVuRWRnZShyKSlcbiAgICAgICAgdGhpcy5pbnRlcm5hbEFkZChuMSwgbiwgbmV3IEdpdmVuRWRnZShyKSlcblxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbm9kZSByZXByZXNlbnRpbmcgYW4gYWN1bXVsYXRpb24gb2YgZmFjdHNcbiAgICAgKiB0aGF0IGxlYWRzIHRvIGEgY29uY2x1c2lvbi5cbiAgICAgKiBUaGUgcmVsYXRpb25zaGlwIGNsYWltZWQgYnkgdGhlIGFyZ3VtZW50IGlzIGRpcmVjdGVkXG4gICAgICogZnJvbSBuIHRvIG4xIHdpdGggdGhlIGFyZ3VtZW50IGFzIHRoZSBlZGdlLlxuICAgICAqIEBwYXJhbSBhIFxuICAgICAqIEByZXR1cm5zIHRoZSBzYW1lIGdyYXBoIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkQXJndW1lbnQoYTogQXJndW1lbnQpOiBHcmFwaCB7XG4gICAgICAgIHRoaXMubm9kZXMuYWRkKGEpXG5cbiAgICAgICAgLy8gQWRkIHRoZSBncm91bmRzXG4gICAgICAgIGZvciAoY29uc3QgZ3JvdW5kIG9mIGEuZ3JvdW5kcykge1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5hZGQoZ3JvdW5kKVxuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbEFkZChncm91bmQsIGEsIEFyZ3VtZW50RWRnZS5UbylcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCB0aGUgY2xhaW1cbiAgICAgICAgY29uc3QgY2xhaW0gPSBhLmNsYWltXG4gICAgICAgIHRoaXMuYWRkTm9kZShjbGFpbS5uKVxuICAgICAgICB0aGlzLmFkZE5vZGUoY2xhaW0ubjEpXG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGQoYSwgY2xhaW0ubiwgQXJndW1lbnRFZGdlLkZyb20pXG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGQoYSwgY2xhaW0ubjEsIEFyZ3VtZW50RWRnZS5Gcm9tKVxuICAgICAgICB0aGlzLmludGVybmFsQWRkKGNsYWltLm4sIGNsYWltLm4xLCBhKVxuXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHRoZSBzYW1lIGdyYXBoIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkQXJndW1lbnRzKC4uLmE6IEFyZ3VtZW50W10pOiBHcmFwaCB7XG4gICAgICAgIGEuZm9yRWFjaChhcmcgPT4gdGhpcy5hZGRBcmd1bWVudChhcmcpKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGdpdmVuIGRpcmVjdGVkIGVkZ2UgdG8gdGhlIGdyYXBoLiBJZiBlaXRoZXIgbm9kZVxuICAgICAqIGlzIG1pc3NpbmcgZnJvbSB0aGUgZ3JhcGgsIGFkZHMgaXQuXG4gICAgICogQHBhcmFtIG4gXG4gICAgICogQHBhcmFtIG4xIFxuICAgICAqIEBwYXJhbSBlIFxuICAgICAqIEByZXR1cm5zIFRoaXMuXG4gICAgICovXG4gICAgcHVibGljIGFkZEVkZ2UobjogTWF0aEdyYXBoTm9kZSwgbjE6IE1hdGhHcmFwaE5vZGUsIGU6IEdyYXBoRWRnZSk6IEdyYXBoIHtcbiAgICAgICAgdGhpcy5hZGROb2RlKG4pXG4gICAgICAgIHRoaXMuYWRkTm9kZShuMSlcbiAgICAgICAgdGhpcy5pbnRlcm5hbEFkZChuLCBuMSwgZSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2V0IG9mIG5laWdoYm9ycyBvZiBhIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGUgXG4gICAgICogQHBhcmFtIGRpcmVjdGlvbiBOb2RlcyB0aGF0IGFyZSBhZGphY2VudCB0byB0aGlzIG5vZGUsIGZyb20gdGhpcyBub2RlLCBvciBlaXRoZXIuXG4gICAgICogQHJldHVybnMgVW5kZWZpbmVkIGlmIHRoZSBub2RlIGlzbid0IGluIHRoaXMgZ3JhcGguIE90aGVyd2lzZSwgYSBzZXQgb2YgY29ubmVjdGVkIG5vZGVzLlxuICAgICAqICAgICAgICAgIElmIHRoZSBub2RlIGlzIGluIHRoZSBncmFwaCBidXQgaXNuJ3QgY29ubmVjdGVkIHRvIGFueXRoaW5nLCByZXR1cm5zIGVtcHR5IHNldC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TmVpZ2hib3JzKG5vZGU6IE1hdGhHcmFwaE5vZGUsIGRpcmVjdGlvbjogXCJpblwiIHwgXCJvdXRcIiB8IFwiYm90aFwiKTogTWF0aEdyYXBoTm9kZVtdIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhcyhub2RlKSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcIm91dFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnRoaXMuY29ubmVjdGlvbnMuZ2V0KG5vZGUpIV1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYWRqYWNlbnRUbyA9IG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4oKVxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbnMuZ2V0KG4pPy5oYXMobm9kZSkpIGFkamFjZW50VG8uYWRkKG4pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImluXCIpIHJldHVybiBbLi4uYWRqYWNlbnRUb11cblxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5jb25uZWN0aW9ucy5nZXQobm9kZSkgPz8gW10pIGFkamFjZW50VG8uYWRkKG4pXG5cbiAgICAgICAgcmV0dXJuIFsuLi5hZGphY2VudFRvXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIG51bWJlciBvZiBlZGdlcyB0aGlzIG5vZGUgaGFzLlxuICAgICAqIEBwYXJhbSBub2RlIFRoZSBub2RlIGJlaW5nIGNvbnNkZXJlZC5cbiAgICAgKiBAcGFyYW0gZGlyZWN0aW9uIENvdW50IG9ubHkgdGhlIGVkZ2VzIGdvaW5nIHRvd2FyZHMgdGhpcyBub2RlLCBhd2F5IGZyb20gXG4gICAgICogICAgICAgICAgaXQsIG9yIGJvdGguXG4gICAgICogQHJldHVybnMgPj0gMCwgdW5kZWZpbmVkIGlmIHRoZSBnaXZlbiBub2RlIGlzbid0IGluIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RGVncmVlKG5vZGU6IE1hdGhHcmFwaE5vZGUsIGRpcmVjdGlvbjogXCJpblwiIHwgXCJvdXRcIiB8IFwiYm90aFwiKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhcyhub2RlKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0aW9uID09IFwib3V0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25zLmdldChub2RlKT8uc2l6ZSA/PyAwXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlZ0luID0gMFxuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5nZXQobikgPT0gdW5kZWZpbmVkKSByZXR1cm5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmdldChuKSEuaGFzKG5vZGUpKSBkZWdJbisrXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBpZiAoZGlyZWN0aW9uID09IFwiaW5cIilcbiAgICAgICAgICAgIHJldHVybiBkZWdJblxuXG4gICAgICAgIHJldHVybiBkZWdJbiArICh0aGlzLmNvbm5lY3Rpb25zLmdldChub2RlKT8uc2l6ZSA/PyAwKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuIE5vZGUgaW4gdGhlIGdyYXBoLlxuICAgICAqIEBwYXJhbSBuMSBJbiB0aGUgZ3JhcGguXG4gICAgICogQHJldHVybnMgVW5kZWZpbmVkIGlmIGVpdGhlciBub2RlIGlzbid0IGluIHRoZSBncmFwaCBvciB0aGV5J3JlIG5vdFxuICAgICAqIGNvbm5lY3RlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RWRnZShuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSk6IEdyYXBoRWRnZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmVkZ2VzLmdldChuKT8uZ2V0KG4xKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29udGFpbnMobm9kZTogTWF0aEdyYXBoTm9kZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5oYXMobm9kZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBBIG5ldyBzZXQgY29udGFpbmluZyBhbGwgdGhlIG5vZGVzIGluIHRoZSBncmFwaFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXROb2RlcygpOiBTZXQ8TWF0aEdyYXBoTm9kZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFNldDxNYXRoR3JhcGhOb2RlPih0aGlzLm5vZGVzKVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRFZGdlcygpOiBTZXQ8e246IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9PiB7XG4gICAgICAgIGNvbnN0IG91dCA9IG5ldyBTZXQ8e246IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9PigpXG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaCgobWFwLCBmaXJzdCkgPT4ge1xuICAgICAgICAgICAgbWFwLmZvckVhY2goKGVkZ2UsIHNlY29uZCkgPT4ge1xuICAgICAgICAgICAgICAgIG91dC5hZGQoe246IGZpcnN0LCBuMTogc2Vjb25kLCBlOiBlZGdlfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgbnVtTm9kZXMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuc2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIGdyYXBoIG5vZGVzIGFuZCBlZGdlcyB0byB0aGlzIG9uZS5cbiAgICAgKiBAcGFyYW0gZ3JhcGggXG4gICAgICogQHJldHVybnMgdGhlIHNhbWUgZ3JhcGggZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRHcmFwaChncmFwaDogR3JhcGgpOiBHcmFwaCB7XG4gICAgICAgIGdyYXBoLm5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vZGVzLmFkZChub2RlKVxuICAgICAgICB9KVxuICAgICAgICBncmFwaC5lZGdlcy5mb3JFYWNoKChtYXAsIG5vZGUxKSA9PiB7XG4gICAgICAgICAgICBtYXAuZm9yRWFjaCgoZWRnZSwgbm9kZTIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZWRnZSBpbnN0YW5jZW9mIEFyZ3VtZW50KSBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRBcmd1bWVudChlZGdlKVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVkZ2UgPT0gXCJzdXBwb3J0c1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxBZGQobm9kZTEsIG5vZGUyLCBBcmd1bWVudEVkZ2UuVG8pXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlZGdlID09IFwiY2xhaW1zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcm5hbEFkZChub2RlMSwgbm9kZTIsIEFyZ3VtZW50RWRnZS5Gcm9tKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gRWRnZSBUeXBlXCIpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG91dCA9IFwiR3JhcGgoViA9IHtcIjtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgIG91dCArPSBub2RlLnRvU3RyaW5nKCkgKyBcIixcIlxuICAgICAgICB9XG5cbiAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZygwLCBvdXQubGVuZ3RoIC0gMSkgKyBcIn0sIEUgPSB7XCJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5mb3JFYWNoKChzZXQsIHNyYykgPT4ge1xuICAgICAgICAgICAgc2V0LmZvckVhY2goZGVzdCA9PiB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IHNyYy50b1N0cmluZygpICsgXCIgLT4gXCIgKyBkZXN0LnRvU3RyaW5nKCkgKyBcIiwgXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIG91dCArPSBcIn0gRWRnZSBDb3VudDogXCIgKyB0aGlzLmNvbm5lY3Rpb25zLnNpemVcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbnRlcm5hbEFkZChuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmdldChuKSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLnNldChuLCBuZXcgU2V0PE1hdGhHcmFwaE5vZGU+KCkpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0aW9ucy5nZXQobikhLmFkZChuMSlcbiAgICAgICAgaWYgKHRoaXMuZWRnZXMuZ2V0KG4pID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lZGdlcy5zZXQobiwgbmV3IE1hcDxFeHByZXNzaW9uLCBHcmFwaEVkZ2U+KCkpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGdlcy5nZXQobikhLnNldChuMSwgZSk7XG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVwT2soKSB7XG4gICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGFzc2VydCh2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9IHVuZGVmaW5lZClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBBbGwgY29ubmVjdGlvbnMvZWRnZXMgaGF2ZSBub2Rlc1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLm5vZGVzLmhhcyhrZXkpKVxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5ub2Rlcy5oYXMobikpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaCgobWFwLCBmaXJzdCkgPT4ge1xuICAgICAgICAgICAgbWFwLmZvckVhY2goKGVkZ2UsIHNlY29uZCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLm5vZGVzLmhhcyhmaXJzdCkpXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMubm9kZXMuaGFzKHNlY29uZCkpXG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMuY29ubmVjdGlvbnMuZ2V0KGZpcnN0KSEuaGFzKHNlY29uZCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIHJlYWRvbmx5IG5vZGVzOiBTZXQ8TWF0aEdyYXBoTm9kZT5cbiAgICAvLyBRdWlja2x5IGFjY2VzcyBhbGwgY29ubmVjdGlvbnMgb2YgYSBub2RlXG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25uZWN0aW9uczogTWFwPE1hdGhHcmFwaE5vZGUsIFNldDxNYXRoR3JhcGhOb2RlPj5cbiAgICAvLyBEZXRlcm1pbmUgdGhlIHR5cGUgb2YgY29ubmVjdGlvbiBiZXR3ZWVuIHR3byBub2Rlc1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZWRnZXM6IE1hcDxNYXRoR3JhcGhOb2RlLCBNYXA8TWF0aEdyYXBoTm9kZSwgR3JhcGhFZGdlPj5cbn1cblxuZXhwb3J0IGVudW0gQXJndW1lbnRFZGdlIHtcbiAgICBUbyA9IFwic3VwcG9ydHNcIixcbiAgICBGcm9tID0gXCJjbGFpbXNcIlxufVxuXG4vKipcbiAqIEVkZ2VzIGluIHRoZSBncmFwaCBjYW4gYmUgaW5mZXJlbmNlcyB3aGljaCBob2xkIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIGFib3V0IHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBub2Rlcywgb3IgXCJ0b0FjdW11bGF0aW9uXCIgd2hpY2ggbWVhbnNcbiAqIHRoZSBmaXJzdCBub2RlIGlzIGEgbG9naWNhbCBkZXBlbmRhbmN5IG9mIGFuIGFjdW11bGF0aW9uLlxuICogV2hlbiBhbiBhcmd1bWVudCByZXN1bHRzIGluIHR3byBleHByZXNzaW9ucyB0aGF0IGFyZSBlcXVhbCwgdGhlIGV4cHJlc3Npb25zXG4gKiBhcmUgY29ubmVjdGVkIGJ5IHRoYXQgQXJndW1lbnQuXG4gKi9cbmV4cG9ydCB0eXBlIEdyYXBoRWRnZSA9IEFyZ3VtZW50IHwgQXJndW1lbnRFZGdlIHwgR2l2ZW5FZGdlXG5cbi8qKlxuICogQ29tbXVuaWNhdGVzIGEgcmVsYXRpb25oaXAgZ2l2ZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBHaXZlbkVkZ2Uge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihyOiBSZWxhdGlvbnNoaXApIHtcbiAgICAgICAgdGhpcy5yID0gclxuICAgIH1cbiAgICBwdWJsaWMgcmVhZG9ubHkgcjogUmVsYXRpb25zaGlwXG59XG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBHcmFwaEVkZ2UsIEdyYXBoIH0gZnJvbSBcIi4vR3JhcGhcIjtcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi9NYXRoR3JhcGhOb2RlXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCI7XG5cbi8qKlxuICogVG9vbCB0byBkbyBvcGVyYXRpb25zIG9uIGdyYXBocy5cbiAqL1xuZXhwb3J0IGNsYXNzIEdyYXBoTWluaXB1bGF0b3Ige1xuICAgIC8qKlxuICAgICAqIEZpbmQgbm9kZXMgb2YgY29tcG9uZW50cyBvZiBhIGdyYXBoIHdoZXJlIG9ubHkgZWRnZXMgZm9yIHdoaWNoXG4gICAgICogdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSBhcmUgY29uc2lkZXJlZC5cbiAgICAgKiBAcGFyYW0gXG4gICAgICogQHBhcmFtIGlzQ29ubmVjdGVkIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q29tcG9uZW50Tm9kZXMoaW5wdXQ6IEdyYXBoLCBpc0Nvbm5lY3RlZDogKGU6IEdyYXBoRWRnZSkgPT4gYm9vbGVhbik6IFNldDxTZXQ8TWF0aEdyYXBoTm9kZT4+IHtcbiAgICAgICAgY29uc3QgaW5jbHVkZWROb2RlcyA9IG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4oKVxuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gbmV3IFNldDxTZXQ8TWF0aEdyYXBoTm9kZT4+KClcblxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgaW5wdXQuZ2V0Tm9kZXMoKSkge1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVkTm9kZXMuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gbmV3IFNldDxNYXRoR3JhcGhOb2RlPigpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEFsbENvbm5lY3RlZChuOiBNYXRoR3JhcGhOb2RlKTogdm9pZCB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZWROb2Rlcy5hZGQobilcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmhhcyhuKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb21wb25lbnQuYWRkKG4pXG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIGlucHV0LmdldE5laWdoYm9ycyhuLCBcImJvdGhcIikhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNDb25uZWN0ZWQoaW5wdXQuZ2V0RWRnZShuLCBuZWlnaGJvcikhKSkgY29udGludWVcbiAgICAgICAgICAgICAgICAgICAgZ2V0QWxsQ29ubmVjdGVkKG5laWdoYm9yKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2V0QWxsQ29ubmVjdGVkKG5vZGUpXG4gICAgICAgICAgICBjb21wb25lbnQuYWRkKG5vZGUpXG4gICAgICAgICAgICBjb21wb25lbnRzLmFkZChjb21wb25lbnQpXG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnQoaW5jbHVkZWROb2Rlcy5zaXplID09IGlucHV0Lm51bU5vZGVzKCkpXG4gICAgICAgIC8vIEFzc2VydCBjb21wb25lbnRzIGFyZSBwYWlyd2lzZSBkaXNqb2ludCBvZiBwcm9ibGVtcyBzaG93IHVwXG5cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGdyYXBoIHdpdGggb25seSB0aGUgbm9kZXMgd2hpY2ggcGFzcyB0aGUgcHJvdmlkZWRcbiAgICAgKiBmaWx0ZXIgZnVuY3Rpb24uIEVkZ2VzIGNvbm5lY3RlZCB0byByZW1vdmVkIG5vZGVzIGFyZSByZW1vdmVkLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBncmFwaCBcbiAgICAgKiBAcGFyYW0gaW5jbHVkZWQgXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkcm9wTm9kZXMoZ3JhcGg6IEdyYXBoLCBpbmNsdWRlZDogKG5vZGU6IE1hdGhHcmFwaE5vZGUpID0+IGJvb2xlYW4pOiBHcmFwaCB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBHcmFwaCgpO1xuICAgICAgICBncmFwaC5nZXROb2RlcygpLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZWQobikpIHJlc3VsdC5hZGROb2RlKG4pXG4gICAgICAgIH0pXG4gICAgICAgIGdyYXBoLmdldEVkZ2VzKCkuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlZChlLm4pICYmIGluY2x1ZGVkKGUubjEpKSByZXN1bHQuYWRkRWRnZShlLm4sIGUubjEsIGUuZSlcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgZXZlcnkgZWRnZSBpbiB0aGUgZ3JhcGguXG4gICAgICogQHBhcmFtIGlucHV0IFxuICAgICAqIEByZXR1cm5zIFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0UmVsYXRpb25zKGlucHV0OiBHcmFwaCk6IHtmaXJzdDogTWF0aEdyYXBoTm9kZSwgc2Vjb25kOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9W10ge1xuICAgICAgICBjb25zdCBvdXQ6IHtmaXJzdDogTWF0aEdyYXBoTm9kZSwgc2Vjb25kOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9W10gPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgaW5wdXQuZ2V0Tm9kZXMoKSkgeyAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChjb25zdCBvdGhlciBvZiBpbnB1dC5nZXROZWlnaGJvcnMobm9kZSwgXCJvdXRcIikhKSB7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2goe2ZpcnN0OiBub2RlLCBzZWNvbmQ6IG90aGVyLCBlOiBpbnB1dC5nZXRFZGdlKG5vZGUsIG90aGVyKSF9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIGdyYXBoIGludG8gc2V0cyBvZlxuICAgICAqIG5vZGVzIGdyb3VwZWQgYnkgZGVwdGggZnJvbSBhIGNlbnRlciBub2RlLlxuICAgICAqIEFzc3VtZXMgdGhlIGdyYXBoIGlzIGNvbm5lY3RlZC5cbiAgICAgKiBAcGFyYW0gcm9vdE5vZGVzIENvbnRhaW5zIGF0IGxlYXN0IG9uZSBub2RlIGluIHRoZSBncmFwaC5cbiAgICAgKiBAcGFyYW0gY291bnQgRnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIGlmIGFueSBnaXZlbiBub2RlIHNob3VsZCBiZVxuICAgICAqIGluY2x1ZGVkIGluIHRoZSBkZXB0aCBjb3VudC4gRGVmYXVsdHMgdG8gY291bnRpbmcgYWxsIG5vZGVzLiBOb2RlcyB0aGF0IFxuICAgICAqIGFyZW4ndCBpbmNsdWRlZCB3b24ndCBiZSBpbiB0aGUgcmV0dXJuZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgTWFwIGZyb20gZGVwdGggaW4gZ3JhcGggdG8gYSBzZXQgb2Ygbm9kZXMgYXQgdGhhdCBkZXB0aC5cbiAgICAgKiBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldExldmVscyhpbnB1dDogR3JhcGgsIHJvb3ROb2RlczogSXRlcmFibGU8TWF0aEdyYXBoTm9kZT4sIGNvdW50OiAobjogTWF0aEdyYXBoTm9kZSkgPT4gYm9vbGVhbiA9ICgpID0+IHRydWUpOiBNYXA8bnVtYmVyLCBTZXQ8TWF0aEdyYXBoTm9kZT4+IHtcbiAgICAgICAgY29uc3Qgcm9vdHMgPSBuZXcgU2V0KHJvb3ROb2RlcylcbiAgICAgICAgY29uc3QgZGVwdGhzID0gbmV3IE1hcDxNYXRoR3JhcGhOb2RlLCBudW1iZXI+KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlY3Vyc2l2ZWx5IG1hcHMgb3V0IGFsbCBub2RlcyBpbiB0aGUgZ3JhcGgsXG4gICAgICAgICAqIHB1dHRpbiB0aGVtIGluIHRoZSBkZXB0aHMgbWFwLlxuICAgICAgICAgKiBAcGFyYW0gbm9kZSBcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1hcE5vZGUobm9kZTogTWF0aEdyYXBoTm9kZSwgZGVwdGg6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChyb290cy5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBkZXB0aCA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZXB0aCA8IChkZXB0aHMuZ2V0KG5vZGUpID8/IE51bWJlci5NQVhfVkFMVUUpKSB7XG4gICAgICAgICAgICAgICAgZGVwdGhzLnNldChub2RlLCBkZXB0aClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IFsuLi5pbnB1dC5nZXROZWlnaGJvcnMobm9kZSwgXCJib3RoXCIpIV07XG4gICAgICAgICAgICBuZWlnaGJvcnMuZmlsdGVyKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGZvdW5kIGEgc2hvcnRlciBwYXRoIHRvIGl0IG9yIHRoZXJlIHdhcyBubyBmb3VuZCBwYXRoIHRvIGl0XG4gICAgICAgICAgICAgICAgcmV0dXJuIChkZXB0aHMuZ2V0KHZhbHVlKSA9PSB1bmRlZmluZWQgfHwgZGVwdGhzLmdldCh2YWx1ZSkhID4gZGVwdGgpICYmIHZhbHVlICE9PSBub2RlXG4gICAgICAgICAgICB9KS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgICAgIG1hcE5vZGUobiwgY291bnQobm9kZSkgPyBkZXB0aCArIDEgOiBkZXB0aClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBtYXBOb2RlKFsuLi5yb290c11bMF0pO1xuXG4gICAgICAgIGNvbnN0IG91dCA9IG5ldyBNYXA8bnVtYmVyLCBTZXQ8TWF0aEdyYXBoTm9kZT4+KClcbiAgICAgICAgZGVwdGhzLmZvckVhY2goKGRlcHRoLCBub2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvdW50KG5vZGUpKSByZXR1cm5cbiAgICAgICAgICAgIGlmIChvdXQuZ2V0KGRlcHRoKSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvdXQuc2V0KGRlcHRoLCBuZXcgU2V0KCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQuZ2V0KGRlcHRoKSEuYWRkKG5vZGUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gZ3JhcGggaXMgY29ubmVjdGVkLCBtZWFuaW5nIHRoYXRcbiAgICAgKiBpdCdzIHBvc3NpYmxlIHRvIHRyYXZlcnNlIGJldHdlZW4gYW55IHR3byBub2RlcyBvbiB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBpc0Nvbm5lY3RlZChpbnB1dDogR3JhcGgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQ2hlY2sgZXZlcnkgbm9kZSBoYXMgYSBkZWdyZWUgb2YgMSBvciBtb3JlIG9yIGdyYXBoIG9ubHkgaGFzIDEgb3IgMCBlbGVtZW50c1xuICAgICAgICByZXR1cm4gWy4uLmlucHV0LmdldE5vZGVzKCldLm1hcDxib29sZWFuPihub2RlID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC5nZXREZWdyZWUobm9kZSwgXCJib3RoXCIpISA+IDBcbiAgICAgICAgfSkucmVkdWNlKChhLCBiKSA9PiBhICYmIGIpIHx8IGlucHV0Lm51bU5vZGVzKCkgPCAyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyBlZGdlcyBsaXN0IHJldHVybmluZyBhIGxpc3Qgd2hlcmUgb25seSBvbmUgZWRnZVxuICAgICAqIGZyb20gYW55IGVkZ2UgbG9vcHMgaXMgaW5jbHVkZWQuXG4gICAgICogRm9yIGV4YW1wbGUgaWYgdGhlIGlucHV0IGVkZ2VzIGFyZSBhIC0+IGIgYW5kIGIgLT4gYSxcbiAgICAgKiB0aGUgcmVzdWx0IHdpbGwgb25seSBjb250YWluIGEgLT4gYi5cbiAgICAgKiBAcGFyYW0gZWRnZXMgXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkcm9wU3ltbWV0cmljKGVkZ2VzOiBJdGVyYWJsZTx7bjogTWF0aEdyYXBoTm9kZSwgbjE6IE1hdGhHcmFwaE5vZGUsIGU6IEdyYXBoRWRnZX0+KToge246IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9W10ge1xuICAgICAgICBjb25zdCBvdXQ6IHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfVtdID0gW11cblxuICAgICAgICBmdW5jdGlvbiBhbHJlYWR5SGFzKGVkZ2U6IHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIG91dCkgXG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UubiA9PSBlLm4xICYmIGVkZ2UubjEgPT0gZS5uKSBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBlZGdlIG9mIGVkZ2VzKSB7XG4gICAgICAgICAgICBpZiAoIWFscmVhZHlIYXMoZWRnZSkpIG91dC5wdXNoKGVkZ2UpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBncmFwaCB3aXRoIG9ubHkgdGhlIGVkZ2VzIHdoaWNoIHBhc3NlZCB0aGVcbiAgICAgKiBmaWx0ZXIgZnVuY3Rpb24uIFRoZSByZXN1bHRpbmcgZ3JhcGggbWF5IG9yIG1heSBub3QgYmUgY29ubmVjdGVkLlxuICAgICAqIEFsbCB0aGUgbm9kZXMgb2YgdGhlIG9yaWdpbmFsIGdyYXBoIGFyZSBrZXB0LlxuICAgICAqIEBwYXJhbSBlZGdlRmlsdGVyIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZWRnZSBzaG91bGQgYmUgaW5jbHVkZWQgaW4gXG4gICAgICogICAgICB0aGUgcmVzdWx0aW5nIGdyYXBoLlxuICAgICAqIE5PVEU6IE5PVCBURVNURURcbiAgICAgKi9cbiAgICAgcHVibGljIHN0YXRpYyBkcm9wRWRnZXMoZ3JhcGg6IEdyYXBoLCBlZGdlRmlsdGVyOiAoZToge246IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9KSA9PiBCb29sZWFuKTogR3JhcGgge1xuICAgICAgICBjb25zdCBvdXQgPSBuZXcgR3JhcGgoKVxuXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmFwaC5nZXROb2RlcygpKSB7XG4gICAgICAgICAgICBvdXQuYWRkTm9kZShub2RlKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBlZGdlIG9mIGdyYXBoLmdldEVkZ2VzKCkpIHtcbiAgICAgICAgICAgIGlmIChlZGdlRmlsdGVyKGVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQuYWRkQXJndW1lbnQoZWRnZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxufSIsIlxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTWF0aEdyYXBoTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaWQgPSBNYXRoR3JhcGhOb2RlLm5leHRJZFxuICAgICAgICBNYXRoR3JhcGhOb2RlLm5leHRJZCsrXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIG5leHRJZCA9IDFcblxuICAgIHB1YmxpYyByZWFkb25seSBpZDogbnVtYmVyO1xufSIsIlxuLyoqXG4gKiBBIHdheSBpbiB3aGljaCAyIGV4cHJlc3Npb25zIGNhbiBiZSByZWxhdGVkLlxuICovXG5leHBvcnQgZW51bSBSZWxhdGlvbnNoaXAge1xuICAgIEVxdWFsID0gXCI9XCIsXG59IiwiaW1wb3J0IHsgQnJlYWtEZXJpdmF0aXZlc092ZXJBZGRpdGlvbiB9IGZyb20gXCIuL2NhbGN1bHVzL0JyZWFrRGVyaXZhdGl2ZXNPdmVyQWRkaXRpb25cIlxuaW1wb3J0IHsgUG93ZXJSdWxlIH0gZnJvbSBcIi4vY2FsY3VsdXMvUG93ZXJSdWxlXCJcbmltcG9ydCB7IFByb2R1Y3RSdWxlIH0gZnJvbSBcIi4vY2FsY3VsdXMvUHJvZHVjdFJ1bGVcIlxuaW1wb3J0IHsgUHVsbENvbnN0YW50c0Zyb21EZXJpdmF0aXZlcyB9IGZyb20gXCIuL2NhbGN1bHVzL1B1bGxDb25zdGFudHNGcm9tRGVyaXZhdGl2ZXNcIlxuaW1wb3J0IHsgUXVvdGllbnRSdWxlIH0gZnJvbSBcIi4vY2FsY3VsdXMvUXVvdGllbnRSdWxlXCJcbmltcG9ydCB7IFVTdWJzdGl0dXRpb24gfSBmcm9tIFwiLi9jYWxjdWx1cy9VU3Vic3RpdHV0aW9uXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcbmltcG9ydCB7IEFkZGl0aXZlSWRlbnRpdHkgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQWRkaXRpdmVJZGVudGl0eVwiXG5pbXBvcnQgeyBBbnl0aGluZ1RpbWVzWmVybyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9Bbnl0aGluZ1RpbWVzWmVyb1wiXG5pbXBvcnQgeyBBc3NvY2lhdGl2ZVByb3BlcnR5T2ZQcm9kdWN0c0FuZFN1bXMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQXNzb2NpYXRpdmVQcm9wZXJ0eU9mUHJvZHVjdHNBbmRTdW1zXCJcbmltcG9ydCB7IENhbmNlbE5lZ2F0aXZlcyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9DYW5jZWxOZWdhdGl2ZXNcIlxuaW1wb3J0IHsgQ29tYmluZUNvbW1vbkZhY3RvcnNNdWx0aXBsaWNhdGlvbiB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lQ29tbW9uRmFjdG9yc011bHRpcGxpY2F0aW9uXCJcbmltcG9ydCB7IENvbWJpbmVDb21tb25UZXJtc0FkZGl0aW9uIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0NvbWJpbmVDb21tb25UZXJtc0FkZGl0aW9uXCJcbmltcG9ydCB7IENvbWJpbmVJbnRlZ2VyRmFjdG9ycyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lSW50ZWdlckZhY3RvcnNcIlxuaW1wb3J0IHsgQ29tYmluZVByb2R1Y3RzQW5kRnJhY3Rpb25zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0NvbWJpbmVQcm9kdWN0c0FuZEZyYWN0aW9uc1wiXG5pbXBvcnQgeyBEaXN0cmlidXRpdmVQcm9wZXJ0eSB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9EaXN0cmlidXRpdmVQcm9wZXJ0eVwiXG5pbXBvcnQgeyBEaXZpZGVGcmFjdGlvbnMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvRGl2aWRlRnJhY3Rpb25zXCJcbmltcG9ydCB7IERpdmlzaW9uSWRlbnRpdHkgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvRGl2aXNpb25JZGVudGl0eVwiXG5pbXBvcnQgeyBFdmFsdWF0ZVN1bXMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvRXZhbHVhdGVTdW1zXCJcbmltcG9ydCB7IEV4cG9uZW50aWFsSWRlbnRpdHkgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvRXhwb25lbnRpYWxJZGVudGl0eVwiXG5pbXBvcnQgeyBFeHBvbmVudFRvWmVybyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9FeHBvbmVudFRvWmVyb1wiXG5pbXBvcnQgeyBGT0lMIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0ZPSUxcIlxuaW1wb3J0IHsgTG9nT2ZPbmUgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvTG9nT2ZPbmVcIlxuaW1wb3J0IHsgTXVsdGlwbGljYXRpdmVJZGVudGl0eSB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9NdWx0aXBsaWNhdGl2ZUlkZW50aXR5XCJcbmltcG9ydCB7IE11bHRpcGx5RXhwb25lbnRQb3dlcnMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvTXVsdGlwbHlFeHBvbmVudFBvd2Vyc1wiXG5pbXBvcnQgeyBPcmRlclByb2R1Y3RzIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL09yZGVyUHJvZHVjdHNcIlxuaW1wb3J0IHsgT3JkZXJTdW1zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL09yZGVyU3Vtc1wiXG5pbXBvcnQgeyBSZW1vdmVDb21tb25GYWN0b3JzRnJvbVRvcEFuZEJvdHRvbU9mRnJhY3Rpb24gfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvUmVtb3ZlQ29tbW9uRmFjdG9yc09uVG9wQW5kQm90dG9tT2ZGcmFjdGlvblwiXG5pbXBvcnQgeyBTdWJ0cmFjdEV4cG9uZW50c09uRnJhY3Rpb25zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL1N1YnRyYWN0RXhwb25lbnRzT25GcmFjdGlvbnNcIlxuaW1wb3J0IHsgU3VtQ29lZmZpY2llbnRzT2ZBZGRlZFRlcm1zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL1N1bUNvZWZmaWNpZW50c09mQWRkZWRUZXJtc1wiXG5cbi8qKlxuICogMSBpbnB1dCwgMSBvdXRwdXRcbiAqIFJld3JpdGUgZXhwcmVzc2lvbnMgdG8gZm9sbG93IG1hdGggY29udmVudGlvbnNcbiAqL1xuIGNvbnN0IGNvbnZlbnRpb25SdWxlcyA9IFtcbiAgICBuZXcgT3JkZXJQcm9kdWN0cygpLFxuICAgIG5ldyBPcmRlclN1bXMoKSxcbl1cblxuLyoqXG4gKiAxIGlucHV0LCAxIG91dHB1dFxuICovXG5jb25zdCBldmFsdWF0aXZlUnVsZXMgPSBbXG4gICAgbmV3IEV2YWx1YXRlU3VtcygpLFxuICAgIG5ldyBDYW5jZWxOZWdhdGl2ZXMoKSxcbiAgICBuZXcgQ29tYmluZUludGVnZXJGYWN0b3JzKCksXG5dXG5cbmNvbnN0IGNvbWJpbmF0b3JpY1J1bGVzID0gW1xuICAgIG5ldyBTdW1Db2VmZmljaWVudHNPZkFkZGVkVGVybXMoKSxcbiAgICBuZXcgQ29tYmluZUNvbW1vbkZhY3RvcnNNdWx0aXBsaWNhdGlvbigpLFxuICAgIG5ldyBNdWx0aXBseUV4cG9uZW50UG93ZXJzKCksXG4gICAgbmV3IFN1YnRyYWN0RXhwb25lbnRzT25GcmFjdGlvbnMoKSxcbiAgICBuZXcgQ29tYmluZVByb2R1Y3RzQW5kRnJhY3Rpb25zKCksXG5dXG5cbmNvbnN0IHJlbWFpbmluZ05vQ29udGV4dFNpbXBsaWZpY2F0aW9uUnVsZXM6IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVbXSA9IFtcbiAgICBuZXcgVVN1YnN0aXR1dGlvbigpLFxuICAgIG5ldyBQb3dlclJ1bGUoKSxcbiAgICBuZXcgUHVsbENvbnN0YW50c0Zyb21EZXJpdmF0aXZlcygpLFxuICAgIG5ldyBBc3NvY2lhdGl2ZVByb3BlcnR5T2ZQcm9kdWN0c0FuZFN1bXMoKSxcbiAgICBuZXcgUHJvZHVjdFJ1bGUoKSxcbiAgICBuZXcgUXVvdGllbnRSdWxlKCksXG4gICAgbmV3IERpdmlkZUZyYWN0aW9ucygpLFxuICAgIG5ldyBSZW1vdmVDb21tb25GYWN0b3JzRnJvbVRvcEFuZEJvdHRvbU9mRnJhY3Rpb24oKSxcbiAgICBuZXcgQnJlYWtEZXJpdmF0aXZlc092ZXJBZGRpdGlvbigpLFxuXVxuXG4vKipcbiAqIEEgbGlzdCBvZiBzaW1wbGlmaWNhdGlvbiBydWxlcy5cbiAqIElmIGFuZCBvbmx5IGlmIGFuIGVhcmxpZXIgcnVsZSBmYWlscyB0byBcbiAqIHByb2R1Y2UgZXF1aXZhbGVudCBleHByZXNzaW9ucyBzaG91bGQgbGF0ZXIgbGlzdHNcbiAqIGJlIHVzZWQuXG4gKiBUaGlzIGxpc3Qgb25seSBjb250YWlucyBydWxlcyB3aGljaCBjb252ZXJnZSB0byBvbmUgYW5zd2VyLlxuICovXG5leHBvcnQgY29uc3QgY29udmVyZ2VudFNpbXBsaWZpY2F0aW9uUnVsZXM6IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVbXSA9IFtcbiAgICAvLyBJZGVudGl0eSBydWxlcyBmaXJzdFxuICAgIG5ldyBBbnl0aGluZ1RpbWVzWmVybygpLFxuICAgIG5ldyBFeHBvbmVudFRvWmVybygpLFxuICAgIG5ldyBNdWx0aXBsaWNhdGl2ZUlkZW50aXR5KCksXG4gICAgbmV3IEV4cG9uZW50aWFsSWRlbnRpdHkoKSxcbiAgICBuZXcgRGl2aXNpb25JZGVudGl0eSgpLFxuICAgIG5ldyBBZGRpdGl2ZUlkZW50aXR5KCksXG4gICAgbmV3IExvZ09mT25lKCksXG4gICAgLi4uZXZhbHVhdGl2ZVJ1bGVzLFxuICAgIC4uLmNvbWJpbmF0b3JpY1J1bGVzLFxuICAgIC4uLmNvbnZlbnRpb25SdWxlcyxcbiAgICAuLi5yZW1haW5pbmdOb0NvbnRleHRTaW1wbGlmaWNhdGlvblJ1bGVzLFxuXVxuXG4vKipcbiAqIFRoZXNlIHJ1bGVzIGNvbnZlcmdlIHRvIGZhY3RvcmVkIGZvcm0uXG4gKi9cbmV4cG9ydCBjb25zdCBmYWN0b3JpbmdTaW1wbGlmaWNhdGlvblJ1bGVzIDogTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVtdID0gW1xuICAgIG5ldyBDb21iaW5lQ29tbW9uVGVybXNBZGRpdGlvbigpLFxuXVxuXG4vKipcbiAqIFRoZXNlIHJ1bGVzIGNvbnZlcmdlIHRvIHBvbHlub21pYWwgZm9ybS5cbiAqL1xuZXhwb3J0IGNvbnN0IHBvbHlub21pYWxTaW1wbGlmaWNhdGlvblJ1bGVzIDogTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVtdID0gW1xuICAgIG5ldyBEaXN0cmlidXRpdmVQcm9wZXJ0eSgpLCBcbiAgICBuZXcgRk9JTCgpLFxuXSIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QsIFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IEdpdmVuRWRnZSwgR3JhcGggfSBmcm9tIFwiLi4vR3JhcGhcIjtcbmltcG9ydCB7IGNvbnZlcmdlbnRTaW1wbGlmaWNhdGlvblJ1bGVzLCBmYWN0b3JpbmdTaW1wbGlmaWNhdGlvblJ1bGVzLCBwb2x5bm9taWFsU2ltcGxpZmljYXRpb25SdWxlcyB9IGZyb20gXCIuL0Rlcml2YXRpb25SdWxlc1wiO1xuaW1wb3J0IHsgQ29udmVyZ2VuY2VUYXJnZXQsIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5pbXBvcnQgeyBlcXVpdiB9IGZyb20gXCIuL3JlY3Vyc2lvblwiO1xuXG4vKipcbiAqIEhvbGRzIGEgc2luZ2xlIGdyYXBoIGFuZCBleHBhbmRzIGl0IHVzaW5nIHJ1bGVzLlxuICovXG5leHBvcnQgY2xhc3MgRGVyaXZlciB7XG4gICAgLyoqXG4gICAgICogR2l2ZSBpdCB0aGUgZ3JhcGggeW91J3JlIGdvaW5nIHRvIGV4cGFuZC5cbiAgICAgKiBAcGFyYW0gZ3JhcGggXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGdyYXBoOiBHcmFwaCkge1xuICAgICAgICB0aGlzLmdyYXBoID0gZ3JhcGhcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBhbmRzIHRoZSBncmFwaCBhcmJpdHJhcmlseS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHN0aWxsIHBvb3JseSBkZWZpbmVkLFxuICAgICAqIHZlcnkgZXhwZXJlbWVudGFsLlxuICAgICAqIEBwYXJhbSBtYXhEZXB0aCBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGVcbiAgICAgKiAgICAgIGRlcml2ZXIgd2lsbCBkbyBiZWZvcmUgcmV0dXJuaW5nLiBOb24tbmVnYXRpdmUuXG4gICAgICogICAgICBJZiBudWxsLCB0aGVyZSBpcyBubyBtYXggZGVwdGguXG4gICAgICogQHBhcmFtIHNraXBDb252ZXJnZW50U2ltcGxpZmljYXRpb25zIElmIHRydWUsIGNvbnZlcmdlbnQgc2ltcGxpZmljYXRpb24gb3BlcmF0aW9uc1xuICAgICAqICAgICAgICAgIGFyZW4ndCBjb3VudGVkIHdoZW4gY2FsY3VsYXRpbmcgZGVwdGguXG4gICAgICogQHBhcmFtIGFib3J0IEEgc2lnbmFsIHVzZWQgdG8gcHJlbWF0dXJlbHkgYWJvcnQgdGhlIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgZXhwYW5kKG1heERlcHRoOiBudW1iZXIsIHNraXBDb252ZXJnZW50U2ltcGxpZmljYXRpb25zOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICAgICAgLy8gU2ltcGxpZnkgYWxsIHRoZSBleHByZXNzaW9ucyB1c2luZyB0aGUgY29udGV4dGxlc3Mgc2ltcGxpZnlpbmcgcnVsZXNcbiAgICAgICAgLy8gRG8gdGhpcyB1bnRpbCB0aGVyZSdzIG5vdGhpbmcgbW9yZSB0byBzaW1wbGlmeVxuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbWF4RGVwdGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNraXBDb252ZXJnZW50U2ltcGxpZmljYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuc2ltcGxpZnlOb0NvbnRleHRDb252ZXJnZW50KCkpIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNpbXBsaWZ5Tm9Db250ZXh0RGl2ZXJnZW50KCkpIHJldHVyblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2ltcGxpZnlOb0NvbnRleHRDb252ZXJnZW50KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNpbXBsaWZ5Tm9Db250ZXh0RGl2ZXJnZW50KCkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cblxuICAgICAgICAvL3RoaXMuYWxnZWJyYWljRXhwYW5zaW9uKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlzdCBvZiBleHByZXNzaW9ucyB3aGljaCBjb3VsZG4ndCBiZSBzaW1wbGlmaWVkIGZ1cnRoZXIuXG4gICAgICovXG4gICAgcHVibGljIGdldCBzaW1wbGlmaWVkRXhwcmVzc2lvbnMoKTogRXhwcmVzc2lvbltdIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLnBhc3NlZEZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uLCAuLi50aGlzLnBhc3NlZFBvbHlub21pYWxTaW1wbGlmaWNhdGlvbl1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGNvbnZlcmdlbnQgc2ltcGxpZmljYXRpb24gcnVsZXMgdG8gZXhwYW5kIHRoZSBncmFwaC5cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZXJlIGlzIG1vcmUgdG8gc2ltcGxpZnkgYW5kIHRoaXMgc2hvdWxkXG4gICAgICogICAgICAgICAgYmUgY2FsbGVkIGFnYWluLiBXaWxsIGJlIGNhbGxlZCBhIGZpbml0ZSBudW1iZXIgb2YgdGltZXMuXG4gICAgICovXG4gICAgcHJpdmF0ZSBzaW1wbGlmeU5vQ29udGV4dENvbnZlcmdlbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHVuc2ltcGxpZmllZCA9IFsuLi50aGlzLmdyYXBoLmdldE5vZGVzKCldLmZpbHRlcihuID0+IG4gaW5zdGFuY2VvZiBFeHByZXNzaW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXA8RXhwcmVzc2lvbj4obiA9PiBuIGFzIEV4cHJlc3Npb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihlID0+ICF0aGlzLnByb2Nlc3NlZEJ5Q29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLmhhcyhlKSlcblxuICAgICAgICBsZXQgc2hvdWxkRG9BZ2FpbiA9IGZhbHNlXG4gICAgICAgIHVuc2ltcGxpZmllZC5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzZWRCeUNvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbi5hZGQoZSlcblxuICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgZXF1aXZhbGVudHMgdXNpbmcgZ2VuZXJhbCBjb252ZXJnZW50IHJ1bGVzLlxuICAgICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIGNvbnZlcmdlbnRTaW1wbGlmaWNhdGlvblJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVyaXZlZFNpbXBsaWZpY2F0aW9uID0gZXF1aXYoZSwgZXF1aXZhbGVudHNGblVzaW5nKFtydWxlXSkpWzBdXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRTaW1wbGlmaWNhdGlvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUb0dyYXBoKFtkZXJpdmVkU2ltcGxpZmljYXRpb25dKVxuICAgICAgICAgICAgICAgICAgICBzaG91bGREb0FnYWluID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC8vIFRvIG5leHQgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uYWRkKGUpXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHNob3VsZERvQWdhaW5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGRpdmVyZ2VudCBzaW1wbGlmaWNhdGlvbiBydWxlcyB0byBleHBhbmQgdGhlIGdyYXBoLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGZ1bmN0aW9uIGV4cGFuZGVkIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBwcml2YXRlIHNpbXBsaWZ5Tm9Db250ZXh0RGl2ZXJnZW50KCk6IGJvb2xlYW4ge1xuXG4gICAgICAgIC8vIE9ubHkgb3BlcmF0ZSBvbiBleHByZXNzaW9ucyB3aGljaCBoYXZlIHBhc3NlZCBjb252ZXJnZW50IHNpbXBsaWZpY2F0aW9uXG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBbLi4udGhpcy5wYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb25dXG5cbiAgICAgICAgLy8gVHJ1ZSBpZiBtb3JlIGV4cHJlc3Npb25zIHdlcmUgYWRkZWQgdG8gdGhlIGdyYXBoXG4gICAgICAgIGxldCBzaG91bGREb0FnYWluID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChlID0+IHtcblxuICAgICAgICAgICAgLy8gVHJ5IHRvIGZpbmQgZXF1aXZhbGVudHMgdXNpbmcgZGl2ZXJnZW50IHJ1bGVzLlxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgZmFjdG9yaW5nU2ltcGxpZmljYXRpb25SdWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlcml2ZWRTaW1wbGlmaWNhdGlvbnMgPSBlcXVpdihlLCBlcXVpdmFsZW50c0ZuVXNpbmcoW3J1bGVdKSlcblxuICAgICAgICAgICAgICAgIHNob3VsZERvQWdhaW4gfHw9IHRoaXMuYWRkVG9HcmFwaChkZXJpdmVkU2ltcGxpZmljYXRpb25zKVxuXG4gICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRTaW1wbGlmaWNhdGlvbnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBQcm9kdWN0KSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc2VkRmFjdG9yaW5nU2ltcGxpZmljYXRpb24uYWRkKGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgcG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uUnVsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmVkU2ltcGxpZmljYXRpb25zID0gZXF1aXYoZSwgZXF1aXZhbGVudHNGblVzaW5nKFtydWxlXSkpXG5cbiAgICAgICAgICAgICAgICBzaG91bGREb0FnYWluIHx8PSB0aGlzLmFkZFRvR3JhcGgoZGVyaXZlZFNpbXBsaWZpY2F0aW9ucylcblxuICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkU2ltcGxpZmljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBTdW0pIFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzZWRQb2x5bm9taWFsU2ltcGxpZmljYXRpb24uYWRkKGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBzaG91bGREb0FnYWluXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yIGVhY2ggZ2l2ZW4gYXJndW1lbnQsIGFkZHMgdG8gdGhlIGdyYXBoIGlmIGF0IGxlYXN0XG4gICAgICogb25lIG9mIGl0cyBjbGFpbSdzIGVuZHBvaW50cyBpc24ndCBhbHJlYWR5IGluIHRoZSBncmFwaC5cbiAgICAgKiBJZiBib3RoIGVuZCBwb2ludHMgb2YgYWxsIGFyZ3VtZW50cyBhcmUgYWxyZWFkeSBpbiB0aGUgZ3JhcGgsXG4gICAgICogcmV0dXJucyBmYWxzZS5cbiAgICAgKiBAcGFyYW0gYXJncyBcbiAgICAgKiBAZWZmZWN0cyB0aGlzLmdyYXBoXG4gICAgICovXG4gICAgcHJpdmF0ZSBhZGRUb0dyYXBoKGFyZ3M6IEFyZ3VtZW50W10pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGF0TGVhc3RPbmUgPSBmYWxzZTtcbiAgICAgICAgYXJncy5mb3JFYWNoKGEgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmNvbnRhaW5zKGEuY2xhaW0ubikgXG4gICAgICAgICAgICB8fCAhdGhpcy5ncmFwaC5jb250YWlucyhhLmNsYWltLm4xKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaC5hZGRBcmd1bWVudChhKVxuICAgICAgICAgICAgICAgIGF0TGVhc3RPbmUgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgIFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gYXRMZWFzdE9uZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHBhbmRzIHRoZSBncmFwaCB1c2luZyBhbGdlYnJhIHJ1bGVzLlxuICAgICAqIE9ubHkgc2ltcGxpZmllZCBydWxlcyBhcmUgdXNlZC5cbiAgICAgKi9cbiAgICBwcml2YXRlIGFsZ2VicmFpY0V4cGFuc2lvbigpOiB2b2lkIHtcbiAgICAgICAgLy8gY29uc3QgcnVsZXMgPSBbLi4uUmVsYXRpb25hbERlcml2YXRpb25SdWxlLnJ1bGVzXVxuXG4gICAgICAgIC8vIGNvbnN0IGNvbXBvbmVudHMgPSBbLi4uR3JhcGhNaW5pcHVsYXRvci5nZXRDb21wb25lbnROb2Rlcyh0aGlzLmdyYXBoLCBlZGdlID0+IHtcbiAgICAgICAgLy8gICAgIHJldHVybiAoZWRnZSBpbnN0YW5jZW9mIEFyZ3VtZW50ICYmIGVkZ2UucmVsYXRpb25zaGlwID09IFJlbGF0aW9uc2hpcC5FcXVhbClcbiAgICAgICAgLy8gICAgICAgICB8fCAoZWRnZSBpbnN0YW5jZW9mIEdpdmVuRWRnZSAmJiBlZGdlLnIgPT0gUmVsYXRpb25zaGlwLkVxdWFsKVxuICAgICAgICAvLyB9KV1cblxuICAgICAgICAvLyBjb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcbiAgICAgICAgLy8gICAgIGNvbnN0IGVxdWF0aW9uOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICAvLyAgICAgZm9yIChjb25zdCBub2RlIG9mIGNvbXBvbmVudCkge1xuICAgICAgICAvLyAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbiAmJiB0aGlzLnNpbXBsaWZpZWQuaGFzKG5vZGUpKVxuICAgICAgICAvLyAgICAgICAgICAgICBlcXVhdGlvbi5wdXNoKG5vZGUpXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgIC8vICAgICBydWxlcy5mb3JFYWNoKHIgPT4ge1xuICAgICAgICAvLyAgICAgICAgIHIuYXBwbHkoc2V0T2YoLi4uZXF1YXRpb24pKS5mb3JFYWNoKGEgPT4ge1xuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLmdyYXBoLmFkZEFyZ3VtZW50KGEpXG4gICAgICAgIC8vICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgIH0pXG4gICAgICAgIC8vIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHJlYWRvbmx5IGdyYXBoOiBHcmFwaFxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiBpcyBpbiB0aGUgZ3JhcGhcbiAgICAgKiBhbmQgaGFzIGFscmVhZHkgaGFkIHRoZSBjb250ZXh0bGVzcyBzaW1wbGlmaWNhdGlvbiBvcGVyYXRpb25zXG4gICAgICogZG9uZSB0byBpdCBhbmQgY2Fubm90IGJlIGZ1cnRoZXIgc2ltcGxpZmllZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgaXNTaW1wbGlmaWVkKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoIXRoaXMucGFzc2VkQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLmhhcyhleHApKSByZXR1cm4gZmFsc2VcblxuICAgICAgICBpZiAoZXhwIGluc3RhbmNlb2YgUHJvZHVjdCkgcmV0dXJuIHRoaXMucGFzc2VkRmFjdG9yaW5nU2ltcGxpZmljYXRpb24uaGFzKGV4cClcbiAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFN1bSkgcmV0dXJuIHRoaXMucGFzc2VkUG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uLmhhcyhleHApXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIC8vIEFsbCB0aGUgZXhwcmVzc2lvbnMgd2hpY2ggY291bGQgbm90IGJlIHNpbXBsaWZpZWQgZnVydGhlciBieVxuICAgIC8vIGNvbnZlcmdlbnQgc2ltcGxpZmljYXRpb24gcnVsZXMuXG4gICAgcHVibGljIHJlYWRvbmx5IHBhc3NlZENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8RXhwcmVzc2lvbj4oKVxuXG4gICAgLy8gQWxsIGV4cHJlc3Npb25zIHdoaWNoIGhhdmUgYmVlbiBwcm9jZXNzZWQgYnkgdGhlIHNpbXBsaWZpY2F0aW9uIHJ1bGVzXG4gICAgLy8vIHJlZ2FyZGxlc3Mgb2YgdGhlIHJlc3VsdC5cbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc2VkQnlDb252ZXJnZW50U2ltcGxpZmljYXRpb24gPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcblxuICAgIC8vIEFsbCBleHByZXNzaW9ucyB3aGljaCBhcmUgcHJvZHVjdHMgYW5kIGNvdWxkIG5vdCBiZSBmdXJ0aGVyXG4gICAgLy8gc2ltcGxpZmllZCBieSBmYWN0b3Jpbmcgc2ltcGxpZmljYXRpb24gcnVsZXMuIEEgc3Vic2V0IG9mXG4gICAgLy8gcGFzc2VkQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLlxuICAgIHB1YmxpYyByZWFkb25seSBwYXNzZWRGYWN0b3JpbmdTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8UHJvZHVjdD4oKVxuXG4gICAgLy8gQWxsIGV4cHJlc3Npb25zIHdoaWNoIGFyZSBzdW1zIGFuZCBjb3VsZCBub3QgYmUgZnVydGhlclxuICAgIC8vIHNpbXBsaWZpZWQgYnkgcG9seW5vbWlhbCBzaW1wbGlmaWNhdGlvbiBydWxlcy4gQSBzdWJzZXQgb2ZcbiAgICAvLyBwYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uXG4gICAgcHVibGljIHJlYWRvbmx5IHBhc3NlZFBvbHlub21pYWxTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8U3VtPigpXG59XG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBtYWtlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgZXF1aXZhbGVudFxuICogZXhwcmVzc2lvbnMgZm9yIGEgZ2l2ZW4gb25lLlxuICogQHBhcmFtIHJ1bGVzIFdoYXQgcnVsZXMgdGhlIHJlc3VsdGluZyBmdW5jdGlvbiBzaG91bGQgdXNlIHRvIFxuICogICAgICBmaW5kIGVxdWl2YWxlbnRzLlxuICogQHJldHVybnMgQSBmdW5jdGlvbiB3aGljaCB3aWxsIHVzZSB0aGUgZ2l2ZW4gcnVsZXMgdG9cbiAqICAgICAgZmluZCBkaXJlY3QgZXF1aXZhbGVudHMuXG4gKi9cbmZ1bmN0aW9uIGVxdWl2YWxlbnRzRm5Vc2luZyhydWxlczogTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVtdKTogKGV4cDogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50PiB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgb3V0OiBTZXQ8QXJndW1lbnQ+ID0gbmV3IFNldCgpXG4gICAgICAgIHJ1bGVzLmZpbHRlcihyID0+IHIuYXBwbGllcyhleHApKS5mb3JFYWNoKHJ1bGUgPT4ge1xuICAgICAgICAgICAgcnVsZS5hcHBseShleHApLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgICAgICAgb3V0LmFkZChpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiO1xuXG4vKipcbiAqIEEgcnVsZSB0aGF0IHRha2VzIGFuIGV4cHJlc3Npb24gYW5kIHByb2R1Y2VzIG9uZSBvciBtb3JlIGVxdWl2YWxlbnQgZXhwcmVzc2lvbnMuXG4gKiBUaGVzZSBjYW4gdXNlIHJlZmxlY3Rpb24gdG8gZGV0ZXJtaW5lIHdoYXRcbiAqIHR5cGUgb2YgZXhwcmVzc2lvbiB0aGV5J3JlIGdpdmVuLiBUaGVzZSBydWxlcyB3aWxsIGJlIHJlY3Vyc2l2ZWx5IHVzZWRcbiAqIHRvIGRlcml2ZSBzaW1wbGlmaWVkIGV4cHJlc3Npb25zLlxuICogXG4gKiBUaGVzZSBydWxlcyBhcmUgYWxzbyBjb250ZXh0bGVzczogdGhleSdyZSBvbmx5IGdpdmVuIHRoZSBleHByZXNzaW9uLFxuICogbm8gb3RoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHByb2JsZW0uXG4gKiBcbiAqIEFsbCBvZiB0aGVzZSBydWxlcyBuZWVkIHRvIGNvbnZlcmdlIHRvIGEgc2ltcGxpZmllZCBhbnN3ZXIuIFRoZXkgY2FuJ3RcbiAqIGZvcm0gbG9vcHMuIFRoaW5raW5nIGFib3V0IHRoaXMsIHRoZXJlIGFyZSB0d28gc2ltcGxpZmllZCBmb3JtcyB0byBcbiAqIGNvbnZlcmdlIHRvOlxuICogIC0gRmFjdG9yZWQgZm9ybSBjKGErYilcbiAqICAtIFBvbHlub21pYWwgZm9ybSBhYyArIGJjXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBydWxlIGNhbiBmaW5kIGVxdWl2YWxlbnRzIGZvciB0aGVcbiAgICAgKiBnaXZlbiBleHByZXNzaW9uLiBPbmx5IGNhbGwgYXBwbHkoKSBpZiB0cnVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBsaWVzKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWVzSW1wbChleHApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBzZXQgb2YgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZXF1aXZhbGVudCB0b1xuICAgICAqIHRoZSBnaXZlbiBvbmUuIE9ubHkgY2FsbCBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvblxuICAgICAqIHBhc3NlZCB0aGUgYXBwbGllcygpIHRlc3QuXG4gICAgICogQHBhcmFtIGV4cCBUaGUgZXhwcmVzc2lvbiB0byBmaW5kIGFuIGVxdWl2YWxlbnQgZm9yLlxuICAgICAqIEByZXR1cm5zIFNldCBvZiBlcXVpdmFsZW50IGV4cHJlc3Npb25zLCBub3QgaW5jbHVkaW5nIHRoZSBnaXZlbiBvbmUuXG4gICAgICovXG4gICAgcHVibGljIGFwcGx5KGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuY29uc3RydWN0b3IubmFtZSArIFwiIG9uIFwiICsgZXhwLnRvU3RyaW5nKCkpXG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hcHBseUltcGwoZXhwKTtcbiAgICAgICAgcmVzdWx0LmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBhc3NlcnQoZSAhPSBudWxsICYmIGUgIT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYXNzZXJ0KGUuY2xhaW0ubjEgIT09IGV4cCwgXCJSdWxlIFwiICsgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lICsgXCIgcHJvZHVjZWQgcmVzdWx0IGVxdWl2YWxlbnQgdG8gZ3JvdW5kXCIpXG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGZ1enp5IHRlc3QgaXMgaW5jb25sdXNpdmUgYW5kIGNhbiBmYWlsIHdoZW4gdHdvIGV4cHJlc3Npb25zIGFyZSBlcXVhbC5cbiAgICAgICAgICAgIC8vIERvbid0IGxlYXZlIGl0IGluIHByb2R1Y3Rpb24uXG4gICAgICAgICAgICAvLyBhc3NlcnQoZnV6enlFcXVpdmFsZW5jZVRlc3QoZXhwLCBlLmNsYWltLm4xKSwgXCJGYWlsZWQgZnV6enkgZXF1aXZhbGVuY2UgdGVzdCBcIiBcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICsgZXhwLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSArIFwiLz1cIiArIGUuY2xhaW0ubjEudG9VbmFtYmlnaW91c1N0cmluZygpXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICArIFwiIGR1cmluZyBhcmd1bWVudCBcIiArIGUuYXJndW1lbnQpXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHR5cGUgb2YgZXhwcmVzc2lvbiB0aGlzIHJ1bGUncyBcbiAgICAgKiByZXN1bHRzIGFwcHJvYWNoLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgY29udmVyZ2VuY2VUeXBlKCk6IENvbnZlcmdlbmNlVGFyZ2V0IHtcbiAgICAgICAgcmV0dXJuIENvbnZlcmdlbmNlVGFyZ2V0Lk5vbmU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+XG59XG5cbi8qKlxuICogUGx1Z3MgaW4gc29tZSB2YWx1ZXMgdG8gc2VlIGlmIHRoZXkncmUgZXF1aXZhbGVudC5cbiAqIEBwYXJhbSBlMSBcbiAqIEBwYXJhbSBlMiBcbiAqL1xuZnVuY3Rpb24gZnV6enlFcXVpdmFsZW5jZVRlc3QoZTE6IEV4cHJlc3Npb24sIGUyOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgTElNSVQgPSAwLjAwMTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZTEuZXZhbHVhdGUodmFsdWUpIC0gZTIuZXZhbHVhdGUodmFsdWUpKSA+IExJTUlUKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZW51bSBDb252ZXJnZW5jZVRhcmdldCB7XG4gICAgRmFjdG9yZWQsXG4gICAgUG9seW5vbWlhbCxcbiAgICBOb25lLFxufVxuXG5jb25zdCB2YWx1ZXM6IFNldDxWYXJpYWJsZVZhbHVlTWFwPiA9IHNldE9mKFxuICAgIGJ1aWxkVmFyaWFibGVWYWx1ZU1hcCgtMi4xKSxcbiAgICBidWlsZFZhcmlhYmxlVmFsdWVNYXAoLTEuMSksXG4gICAgYnVpbGRWYXJpYWJsZVZhbHVlTWFwKDAuMSksXG4gICAgYnVpbGRWYXJpYWJsZVZhbHVlTWFwKDEuMSksXG4gICAgYnVpbGRWYXJpYWJsZVZhbHVlTWFwKDIuMSksXG57XG4gICAgdmFsdWVPZih2OiBWYXJpYWJsZSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB2LnN5bWJvbC5jb2RlUG9pbnRBdCgwKSA/PyAwXG4gICAgfVxufSxcbntcbiAgICB2YWx1ZU9mKHY6IFZhcmlhYmxlKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHYuc3ltYm9sLmNoYXJDb2RlQXQoMClcbiAgICB9XG59KVxuXG5mdW5jdGlvbiBidWlsZFZhcmlhYmxlVmFsdWVNYXAodmFsOiBudW1iZXIpOiBWYXJpYWJsZVZhbHVlTWFwIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZU9mKHY6IFZhcmlhYmxlKTogbnVtYmVyIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5cbi8qKlxuICogUHJvZHVjZXMgdHJ1dGhzIGZyb20gYSBzZXQgb2YgZXF1aXZhbGVudCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZSB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGVxdWF0aW9uIEEgc2V0IG9mIGV4cHJlc3Npb25zIHdoaWNoIGFyZSBlcXVhbC5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwbHkoZXF1YXRpb246IFNldDxFeHByZXNzaW9uPik6IEFyZ3VtZW50W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseUltcGwoZXF1YXRpb24pXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGx5SW1wbChlcXVhdGlvbjogU2V0PEV4cHJlc3Npb24+KTogQXJndW1lbnRbXVxuXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBydWxlczogU2V0PFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZT4gPSBuZXcgU2V0KClcbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBmcmFjdGlvbiwgcHJvZHVjdE9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZSB9IGZyb20gXCIuLi9SZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGVcIjtcblxuZXhwb3J0IGNsYXNzIERpdmlkZU9uQm90aFNpZGVzIGV4dGVuZHMgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGVxdWF0aW9uOiBTZXQ8RXhwcmVzc2lvbj4pOiBBcmd1bWVudFtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiBBcmd1bWVudFtdID0gW11cblxuICAgICAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBjYXJ0ZXNpYW5Qcm9kdWN0PEV4cHJlc3Npb24+KGVxdWF0aW9uKVxuXG4gICAgICAgIGNvbWJpbmF0aW9ucy5maWx0ZXIocGFpciA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFpclswXSBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgfSkuZm9yRWFjaChwYWlyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBwYWlyWzBdIGFzIFByb2R1Y3RcbiAgICAgICAgICAgIGNvbnN0IG90aGVyID0gcGFpclsxXVxuXG4gICAgICAgICAgICAvLyBTb21lIHByb2R1Y3RzIGhhdmUgbXVsdGlwbGUgZmFjdG9yc1xuICAgICAgICAgICAgcC5mYWN0b3JzLmZvckVhY2goZmFjdG9yID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kOiBFeHByZXNzaW9uW11cbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFsuLi5vdGhlci5mYWN0b3JzXVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFtvdGhlcl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhaW0gPSB7bjogcC53aXRob3V0KGZhY3RvciksIG4xOiBmcmFjdGlvbihwcm9kdWN0T3JOb3QoLi4uc2Vjb25kKSwgZmFjdG9yKSwgcjogUmVsYXRpb25zaGlwLkVxdWFsfVxuICAgICAgICAgICAgICAgIG91dC5wdXNoKG5ldyBBcmd1bWVudChuZXcgU2V0KFtwLCBvdGhlcl0pLCBjbGFpbSwgXCJhPWIgJiBjPWQgPT4gYS9jID0gYi9kXCIsIFJVTEVfSUQpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGFudGktcmVmbGV4aXZlIGNsb3N1cmUgb2YgdGhlIHJlbGF0aW9uIEEgeCBBLlxuICogSXQncyBzeW1tZXRyaWMgYW5kIHRyYW5zaXRpdmUuXG4gKiBcbiAqIEBwYXJhbSBzZXQgXG4gKi9cbiBmdW5jdGlvbiBjYXJ0ZXNpYW5Qcm9kdWN0PFQ+KHNldDogU2V0PFQ+KTogVFtdW10ge1xuICAgIGNvbnN0IG91dCA9IFtdXG4gICAgZm9yIChjb25zdCBmaXJzdCBvZiBzZXQpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWNvbmQgb2Ygc2V0KSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QgPT09IHNlY29uZCkgY29udGludWVcbiAgICAgICAgICAgIG91dC5wdXNoKFtmaXJzdCwgc2Vjb25kXSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJEaXYgb24gYm90aCBzaWRlc1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG5lZ2F0aXZlLCBzdW1JbnR1aXRpdmUgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIH0gZnJvbSBcIi4uL1JlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZVwiO1xuXG5leHBvcnQgY2xhc3MgU3VidHJhY3RGcm9tQm90aFNpZGVzIGV4dGVuZHMgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGVxdWF0aW9uOiBTZXQ8RXhwcmVzc2lvbj4pOiBBcmd1bWVudFtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiBBcmd1bWVudFtdID0gW11cbiAgICAgICAgY29uc3QgY29tYmluYXRpb25zID0gY2FydGVzaWFuUHJvZHVjdDxFeHByZXNzaW9uPihlcXVhdGlvbilcblxuICAgICAgICAvLyBJZiBvbmUgaXMgYWRkaXRpb24sIHN1YnRyYWN0IGZyb20gYm90aCBzaWRlc1xuICAgICAgICAvLyBIZXJlIHdlIGZpbHRlciBzbyB0aGF0IG9ubHkgcGFpcnMgd2hlcmUgdGhlIGZpcnN0IGV4cHJlc3Npb24gaXNcbiAgICAgICAgLy8gYSBzdW0gYXJlIG9wZXJhdGVkIG9uLiBUaGlzIHdvcmtzIGJlY2F1c2UgY29tYmluYXRpb25zIGlzIHN5bWV0cmljLlxuICAgICAgICAvLyBOb3cgZm9yIGVhY2ggcGFpciB3ZSBvbmx5IGhhdmUgdG8gZGVhbCB3aXRoIHRoZSBmaXJzdCBleHAgYmVpbmcgc3VtLlxuICAgICAgICBjb21iaW5hdGlvbnMuZmlsdGVyKHBhaXIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhaXJbMF0gaW5zdGFuY2VvZiBTdW1cbiAgICAgICAgfSkuZm9yRWFjaChwYWlyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBwYWlyWzBdIGFzIFN1bVxuICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBwYWlyWzFdXG5cbiAgICAgICAgICAgIC8vIFNvbWUgU3VtcyBoYXZlIG11bHRpcGxlIHRlcm1zXG4gICAgICAgICAgICBzLnRlcm1zLmZpbHRlcih0ZXJtID0+ICEodGVybSBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgdGVybS5pc05lZ2F0aW9uKSlcbiAgICAgICAgICAgIC5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIG90aGVyIGlzIGl0c2VsZiBhIHN1bSwgd2Ugd2lsbCBicmVhayBpdCBhcGFydFxuICAgICAgICAgICAgICAgIC8vIGludG8gdGVybXMgc28gdGhhdCB3ZSBjYW4gY29tYmluZSBpbnRlZ2VyIHRlcm1zIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGZpbmFsIHJlc3VsdCBhbmQgYXZvaWRcbiAgICAgICAgICAgICAgICAvLyB4ICsgMiArIDIgPSB5ICsgMiA9PiB4ICsgMiA9IHkgKyAyIC0gMlxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgZG8gdGhpcyB0byBpbnRlZ2VyIHRlcm1zLCBiZWNhdXNlIHRoYXQnc1xuICAgICAgICAgICAgICAgIC8vIHNvIG9idmlvdXMgYW5kIGNvdWxkbid0IHBvc3NpYmx5IG5lZWQgdG8gYmUgZXhwbGFpbmVkIGZ1cnRoZXIuXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgZG8gaXQgdG8gdmFyaWFibGUgdGVybXMuIFRoZSBmb2xsb3dpbmcgaXMgY29ycmVjdCBiZWhhdmlvcjpcbiAgICAgICAgICAgICAgICAvLyB4ICsgYSArIGEgPSB5ICsgYSA9PiB4ICsgYSA9IHkgKyBhIC0gYVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgZGlzdGluY3Rpb24gaXMgZGViYXRhYmxlLiBXaHkgc2hvdWxkbid0IHRoZSBsZWZ0IGhhbmRcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgbGFzdCBkZWR1Y3Rpb24gYmUgeCArIGEgKyBhIC0gYT8gQnkgZG9pbmcgdGhpcywgXG4gICAgICAgICAgICAgICAgLy8gd2UgcHJvZHVjZSBhIG11Y2ggbW9yZSBjb21wbGljYXRlZCBhbmQgZXhwZW5zaXZlIGdyYXBoLiBcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kOiBFeHByZXNzaW9uW11cbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBTdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gWy4uLm90aGVyLnRlcm1zXVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFtvdGhlcl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2xhaW0gPSB7bjogcy53aXRob3V0KHRlcm0pLCBuMTogc3VtSW50dWl0aXZlKC4uLnNlY29uZCwgbmVnYXRpdmUodGVybSkpLCByOiBSZWxhdGlvbnNoaXAuRXF1YWx9XG4gICAgICAgICAgICAgICAgb3V0LnB1c2gobmV3IEFyZ3VtZW50KG5ldyBTZXQoW3MsIG90aGVyXSksIGNsYWltLCBcImE9YiAmIGM9ZCA9PiBhLWMgPSBiLWRcIiwgUlVMRV9JRCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGFudGktcmVmbGV4aXZlIGNsb3N1cmUgb2YgdGhlIHJlbGF0aW9uIEEgeCBBLlxuICogSXQncyBzeW1tZXRyaWMgYW5kIHRyYW5zaXRpdmUuXG4gKiBcbiAqIEBwYXJhbSBzZXQgXG4gKi9cbiBmdW5jdGlvbiBjYXJ0ZXNpYW5Qcm9kdWN0PFQ+KHNldDogU2V0PFQ+KTogVFtdW10ge1xuICAgIGNvbnN0IG91dCA9IFtdXG4gICAgZm9yIChjb25zdCBmaXJzdCBvZiBzZXQpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWNvbmQgb2Ygc2V0KSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QgPT09IHNlY29uZCkgY29udGludWVcbiAgICAgICAgICAgIG91dC5wdXNoKFtmaXJzdCwgc2Vjb25kXSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJTdWIgZnJvbSBib3RoIHNpZGVzXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRGVyaXZhdGl2ZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBCcmVha0Rlcml2YXRpdmVzT3ZlckFkZGl0aW9uIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRGVyaXZhdGl2ZVxuICAgICAgICAgICAgJiYgZXhwLmV4cCBpbnN0YW5jZW9mIFN1bVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBkID0gZXhwIGFzIERlcml2YXRpdmVcbiAgICAgICAgY29uc3Qgc3VtID0gZC5leHAgYXMgU3VtXG5cbiAgICAgICAgY29uc3QgdGVybXMgPSBbLi4uc3VtLnRlcm1zXVxuICAgICAgICBjb25zdCB3cmFwcGVkID0gdGVybXMubWFwPERlcml2YXRpdmU+KHQgPT4gRGVyaXZhdGl2ZS5vZih0LCBkLnJlbGF0aXZlVG8pKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZCksIHtcbiAgICAgICAgICAgIG46IGQsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogU3VtLm9mKHdyYXBwZWQpLFxuICAgICAgICB9LCBcIlNwbGl0IGRlcml2YXRpdmUgb3ZlciBhZGRpdGlvblwiLCBSVUxFX0lEKSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkJyZWFrIERlcml2YXRpdmVzIG92ZXIgQWRkaXRpb25cIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBuZWdhdGl2ZSwgbnVtLCBwcm9kdWN0LCBzdW1JbnR1aXRpdmUgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBEZXJpdmF0aXZlLCBEZXJpdmF0aXZlVHlwZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5pbXBvcnQgeyBFeHBvbmVudCwgRXhwb25lbnRUeXBlIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuaW1wb3J0IHsgUHJvZHVjdFR5cGUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogRGVyaXZlcyB1c2luZyB0aGUgcG93ZXIgcnVsZVxuICovXG5leHBvcnQgY2xhc3MgUG93ZXJSdWxlIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRGVyaXZhdGl2ZSBcbiAgICAgICAgJiYgKChleHAuZXhwIGluc3RhbmNlb2YgRXhwb25lbnRcbiAgICAgICAgICAgICYmIGV4cC5leHAuYmFzZSA9PT0gZXhwLnJlbGF0aXZlVG9cbiAgICAgICAgICAgICYmIGV4cC5leHAucG93ZXIuaXNDb25zdGFudClcbiAgICAgICAgfHwgKGV4cC5leHAgPT09IGV4cC5yZWxhdGl2ZVRvKSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXZSBrbm93OlxuICAgICAqIGV4cCBpcyBhIERlcml2YXRpdmUgb2YgYW4gRXhwb25lbnQgd2l0aCBhIGNvbnN0YW50IHBvd2VyXG4gICAgICogdGhlIGV4cG9uZW50J3MgYmFzZSBpcyB0aGUgc2FtZSBhcyB3aGF0IHRoZSBkZXJpdmF0aXZlIGlzIHJlbGF0aXZlIHRvXG4gICAgICovXG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZCA9IGV4cCBhcyBEZXJpdmF0aXZlXG4gICAgICAgIGxldCBleHBvbmVudDogRXhwb25lbnQ7XG4gICAgICAgIGlmIChkLmV4cCBpbnN0YW5jZW9mIEV4cG9uZW50KSB7XG4gICAgICAgICAgICBleHBvbmVudCA9IGQuZXhwXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBvbmVudCA9IEV4cG9uZW50Lm9mKGQuZXhwLCBudW0oMSkpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHJvZHVjdChleHBvbmVudC5wb3dlciwgRXhwb25lbnQub2YoZXhwb25lbnQuYmFzZSwgc3VtSW50dWl0aXZlKGV4cG9uZW50LnBvd2VyLCBuZWdhdGl2ZShudW0oMSkpKSkpXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICB9LCBcIlBvd2VyIHJ1bGVcIiwgUlVMRV9JRCkpXG5cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJQb3dlciBSdWxlXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgZiwgcHJvZHVjdCwgcmVtb3ZlTmV3LCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0Rlcml2YXRpdmVcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBEZXJpdmF0aXZlcyBvZiBwcm9kdWN0c1xuICogXG4gKiBPbmx5IG9wZXJhdGVzIG9uIGRlcml2YXRpdmVzIG9mIHByb2R1Y3RzIHdoZXJlIGFsbCBmYWN0b3JzIGFyZSBub3QgY29uc3RhbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9kdWN0UnVsZSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIERlcml2YXRpdmVcbiAgICAgICAgJiYgZXhwLmV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgLy8gQ29udGFpbnMgbm8gY29uc3RhbnQgZmFjdG9yc1xuICAgICAgICAmJiAhZXhwLmV4cC5mYWN0b3JzLm1hcDxib29sZWFuPihmID0+IGYuaXNDb25zdGFudCkucmVkdWNlKChhLCBiKSA9PiBhIHx8IGIpXG4gICAgICAgIC8vIENvbnRhaW5zIG5vIGRlcml2YXRpdmVzIFRPRE86IEZpbmQgYSBiZXR0ZXIgc29sdXRpb24gdG8gbG9vcCBndWFyZGluZ1xuICAgICAgICAvLyYmICFleHAuZXhwLmZhY3RvcnMubWFwPGJvb2xlYW4+KGYgPT4gZiBpbnN0YW5jZW9mIERlcml2YXRpdmUpLnJlZHVjZSgoYSwgYikgPT4gYSB8fCBiKVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG5cbiAgICAgICAgY29uc3QgZCA9IGV4cCBhcyBEZXJpdmF0aXZlXG4gICAgICAgIGNvbnN0IHAgPSBkLmV4cCBhcyBQcm9kdWN0XG4gICAgICAgIGNvbnN0IGZhY3RvcnMgPSBwLmZhY3RvcnNcblxuICAgICAgICAvLyBGb3IgZWFjaCBmYWN0b3IsIGNyZWF0ZSBhIHByb2R1Y3QgY29udGFpbmluZyBpdHMgZGVyaXZhdGl2ZSBhbmQgdGhlIG90aGVyIGZhY3RvcnNcbiAgICAgICAgY29uc3QgdGVybXM6IFByb2R1Y3RbXSA9IFtdXG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGZhY3RvcnMubGVuZ3RoOyBpKyspIHsgLy8gaSBpcyB0aGUgZmFjdG9yIHRvIGRlcml2YXRpemUgKHdoYXQgdGVybSB3ZSdyZSBvbilcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvclRvRGVyaXZhdGl6ZSA9IGZhY3RvcnNbaV1cbiAgICAgICAgICAgIGNvbnN0IHBGYWN0b3JzOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCBmYWN0b3Igb2YgZmFjdG9ycykgeyAvLyBhIGlzIHRoZSB0aGUgZmFjdG9yIHdlJ3JlIG9uXG4gICAgICAgICAgICAgICAgaWYgKGZhY3RvciA9PT0gZmFjdG9yVG9EZXJpdmF0aXplKSBwRmFjdG9ycy5wdXNoKERlcml2YXRpdmUub2YoZmFjdG9yLCBkLnJlbGF0aXZlVG8pKVxuICAgICAgICAgICAgICAgIGVsc2UgcEZhY3RvcnMucHVzaChmYWN0b3IpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRlcm1zLnB1c2gocHJvZHVjdCguLi5wRmFjdG9ycykpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGQpLCB7XG4gICAgICAgICAgICBuOiBkLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHN1bSguLi50ZXJtcykgYXMgRXhwcmVzc2lvblxuICAgICAgICB9LCBcIlByb2R1Y3QgUnVsZVwiLCBSVUxFX0lEKSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlByb2R1Y3QgUnVsZVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IHByb2R1Y3QsIHByb2R1Y3RBbmROb3RUaW1lc09uZSwgcHJvZHVjdE9yTm90LCByZW1vdmUsIHJlbW92ZU5ldyB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IERlcml2YXRpdmUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5leHBvcnQgY2xhc3MgUHVsbENvbnN0YW50c0Zyb21EZXJpdmF0aXZlcyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIERlcml2YXRpdmVcbiAgICAgICAgICAgICYmIGV4cC5leHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGQgPSBleHAgYXMgRGVyaXZhdGl2ZVxuICAgICAgICBjb25zdCBwID0gZC5leHAgYXMgUHJvZHVjdFxuXG4gICAgICAgIGNvbnN0IGNvbnN0RmFjdG9ycyA9IHAuZmFjdG9ycy5maWx0ZXIoZiA9PiBmLmlzQ29uc3RhbnQpXG5cbiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IFNldDxBcmd1bWVudD5cbiAgICAgICAgZm9yIChjb25zdCBmYWN0b3Igb2YgY29uc3RGYWN0b3JzKSB7XG4gICAgICAgICAgICBvdXQuYWRkKG5ldyBBcmd1bWVudChzZXRPZihkKSwge1xuICAgICAgICAgICAgICAgIG46IGQsXG4gICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgIG4xOiBwcm9kdWN0QW5kTm90VGltZXNPbmUoZmFjdG9yLCBEZXJpdmF0aXZlLm9mKHByb2R1Y3RPck5vdCguLi5yZW1vdmVOZXcocC5mYWN0b3JzLCBmYWN0b3IpKSwgZC5yZWxhdGl2ZVRvKSlcbiAgICAgICAgICAgIH0sIFwiUHVsbCBjb25zdGFudCBmYWN0b3IgZnJvbSBkZXJpdmF0aXZlXCIsIFJVTEVfSUQpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlB1bGwgQ29uc3RhbnRzIGZyb20gRGVyaXZzXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbmVnYXRpdmUsIG51bSwgcHJvZHVjdCwgc3VtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRGVyaXZhdGl2ZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cblxuZXhwb3J0IGNsYXNzIFF1b3RpZW50UnVsZSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIERlcml2YXRpdmVcbiAgICAgICAgICAgICYmIGV4cC5leHAgaW5zdGFuY2VvZiBGcmFjdGlvblxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBkID0gZXhwIGFzIERlcml2YXRpdmVcbiAgICAgICAgY29uc3QgYSA9IChkLmV4cCBhcyBGcmFjdGlvbikubnVtZXJhdG9yXG4gICAgICAgIGNvbnN0IGIgPSAoZC5leHAgYXMgRnJhY3Rpb24pLmRlbm9taW5hdG9yXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IEZyYWN0aW9uLm9mKFxuICAgICAgICAgICAgICAgICAgICBzdW0oXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0KERlcml2YXRpdmUub2YoYSwgZC5yZWxhdGl2ZVRvKSwgYiksXG4gICAgICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZShwcm9kdWN0KGEsIERlcml2YXRpdmUub2YoYiwgZC5yZWxhdGl2ZVRvKSkpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIEV4cG9uZW50Lm9mKGIsIG51bSgyKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgIH0sIFwiUXVvdGllbnQgUnVsZVwiLCBSVUxFX0lEKSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJRdW90aWVudCBSdWxlXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ3JhbCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ3JhbFwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBVU3Vic3RpdHV0aW9uIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7Ly9leHAgaW5zdGFuY2VvZiBJbnRlZ3JhbFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlVTdWJzdGl0dXRpb25cIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IHByb2R1Y3QsIHN1bSB9IGZyb20gXCIuLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRGVyaXZhdGl2ZSwgRGVyaXZhdGl2ZVR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBFeHBvbmVudCwgRXhwb25lbnRUeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiwgRnJhY3Rpb25UeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiXG5pbXBvcnQgeyBJbnRlZ3JhbCwgSW50ZWdyYWxUeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ludGVncmFsXCJcbmltcG9ydCB7IExvZ2FyaXRobSwgTG9nVHlwZSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9Mb2dhcml0aG1cIlxuaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdFR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBTdW0sIFN1bVR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvU3VtXCJcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5cbi8qKlxuICogU2VhcmNoZXMgZm9yIGVxdWl2YWxlbnRzIG9mIHRoZSBnaXZlblxuICogZXhwcmVzc2lvbiB3aXRoIGEgc2VhcmNoIGRlcHRoIG9mIDEuIFxuICogSXQgZG9lcyB0aGlzIGJ5IHJlZmxlY3RpbmcgdGhlIGV4cHJlc3Npb24nc1xuICogdHlwZSwgdGhlbiBkaXNiYXRjaGluZyB0byBhIHR5cGUgc3BlY2lmaWMgZXF1aXZhbGVudHNcbiAqIGZ1bmN0aW9uLiBcbiAqIFxuICogVGhlIHNwZWNpZmljIGZ1bmN0aW9ucyB1c2UgdGhlIGdpdmVuIGRpcmVjdEVxdWl2YWxlbnRzXG4gKiBmdW5jdGlvbiB0byBzd2FwIG91dCB0aGUgY29tcG9uZW50IHZhbHVlcyBvZiB0aGVpciBcbiAqIGV4cHJlc3Npb24gd2l0aCBlcXVpdmFsZW50cy5cbiAqIFxuICogRXgpXG4gKiAgR2l2ZW4gdGhlIGV4cHJlc3Npb25cbiAqICAgICAgICAgKGEgKyBhKSArIChiICogYilcbiAqICB3ZSBkaXNiYXRjaCB0byB0aGUgc3VtIHNwZWNpZmljIGZ1bmN0aW9uIChiZWNhdXNlXG4gKiAgdGhlIG91dGVyIG1vc3Qgb3BlcmF0aW9uIGlzIGFkZGl0aW9uKS4gVGhpcyBkaXNiYXRjaFxuICogIGZ1bmN0aW9uIHVzZXMgdGhlIGRpcmVjdEVxdWl2YWxlbnRzIGZ1bmN0aW9uIHRvIHN3YXAgb3V0IFxuICogIGVhY2ggb2YgdGhlIHN1bSdzIHRlcm1zIGluZGl2aWR1YWxseSwgeWllbGRpbmcgcmVzdWx0c1xuICogIGxpa2U6XG4gKiAgICAgIC0+ICgyYSkgKyAoYiAqIGIpIHdpdGggaW5mZXJlbmNlIGEgKyBhID0gMmFcbiAqICAgICAgLT4gKGEgKyBhKSArIGJeMlxuICogXG4gKiBAcGFyYW0gZXhwIFRoZSBleHByZXNzaW9uIHRvIHNlYXJjaCBmb3IgZXF1aXZhbGVudHMuXG4gKiBAcGFyYW0gZGlyZWN0RXF1aXZhbGVudHMgRnVuY3Rpb24gdGhhdCB0YWtlcyBleHByZXNzaW9ucyBhbmQgZmluZHMgZXF1aXZhbGVudHMuXG4gKiAgICAgICAgICAgICAgVGhpcyBmdW5jdGlvbiBvbmx5IG5lZWRzIHRvIGxvb2sgZm9yIHRvcCBsZXZlbCBlcXVpdmFsZW50cy0gcmVjdXJzaW9uXG4gKiAgICAgICAgICAgICAgaXMgaGFuZGxlZCBieSB0aGUgZXF1aXYgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyBBcnJheSBvZiBhcmd1bWVudHMgY29ubmVjdGluZyB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiB0byBlcXVpdmFsZW50cy5cbiAqL1xuIGV4cG9ydCBmdW5jdGlvbiBlcXVpdihleHA6IEV4cHJlc3Npb24sIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50Pik6IEFyZ3VtZW50W10ge1xuICAgIGlmIChleHAgaW5zdGFuY2VvZiBWYXJpYWJsZSB8fCBleHAgaW5zdGFuY2VvZiBJbnRlZ2VyKSByZXR1cm4gW11cbiAgICBlbHNlIHN3aXRjaChleHAuY2xhc3MpIHtcbiAgICAgICAgY2FzZSBTdW1UeXBlOiByZXR1cm4gc3VtRXF1aXYoZXhwIGFzIFN1bSwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgIGNhc2UgUHJvZHVjdFR5cGU6IHJldHVybiBwcm9kdWN0RXF1aXYoZXhwIGFzIFByb2R1Y3QsIGRpcmVjdEVxdWl2YWxlbnRzKVxuICAgICAgICBjYXNlIEV4cG9uZW50VHlwZTogcmV0dXJuIGV4cG9uZW50RXF1aXYoZXhwIGFzIEV4cG9uZW50LCBkaXJlY3RFcXVpdmFsZW50cylcbiAgICAgICAgY2FzZSBGcmFjdGlvblR5cGU6IHJldHVybiBmcmFjdGlvbkVxdWl2KGV4cCBhcyBGcmFjdGlvbiwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgIGNhc2UgRGVyaXZhdGl2ZVR5cGU6IHJldHVybiBkZXJpdmF0aXZlRXF1aXYoZXhwIGFzIERlcml2YXRpdmUsIGRpcmVjdEVxdWl2YWxlbnRzKVxuICAgICAgICBjYXNlIExvZ1R5cGU6IHJldHVybiBsb2dhcml0aG1FcXVpdihleHAgYXMgTG9nYXJpdGhtLCBkaXJlY3RFcXVpdmFsZW50cylcbiAgICAgICAgY2FzZSBJbnRlZ3JhbFR5cGU6IHJldHVybiBpbnRlZ3JhbEVxdWl2KGV4cCBhcyBJbnRlZ3JhbCwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCBmb3IgXCIgKyBleHAuY2xhc3MpXG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgYWxsIGVxdWl2YWxlbnRzIG9mIHRoZSBnaXZlbiBleHByZXNzaW9uXG4gKiBieSBzd2FwcGluZyBvdXQgaXQncyBjaGlsZHJlbiBpbmRpdmlkdWFsbHkuXG4gKiBcbiAqIChhICsgYSkgKyAoYiArIGIpXG4gKiAtPiAoMmEpICsgKGIgKyBiKSB3aXRoIGluZmVyZW5jZSBhICsgYSA9IDJhXG4gKiBAcGFyYW0gZXhwIFxuICogQHJldHVybnMgQXJyYXkgb2YgaW5mZXJlbmNlcyB0byBlcXVpdmFsZW50IGV4cHJlc3Npb25zLlxuICovXG5mdW5jdGlvbiBzdW1FcXVpdihleHA6IFN1bSwgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+KTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudFN1bXM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudFN1bXMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgLy8gRmluZCBlcXVpdmFsZW50cyBmb3IgZWFjaCB0ZXJtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHAudGVybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGVybSA9IGV4cC50ZXJtc1tpXVxuXG4gICAgICAgIC8vIFN1YnN0aXR1dGUgdGVybSBmb3IgZWFjaCBlcXVpdmFsZW50XG4gICAgICAgIGVxdWl2KHRlcm0sIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGEgPT4ge1xuICAgICAgICAgICAgZXF1aXZhbGVudFN1bXMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICAgICAgbjogZXhwLCBcbiAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsIFxuICAgICAgICAgICAgICAgIG4xOiBzd2FwKGV4cCwgaSwgYS5jbGFpbS5uMSBhcyBFeHByZXNzaW9uKX0sIGEuYXJndW1lbnQsIGEucnVsZUlkKSlcbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN3YXAoczogU3VtLCBpOiBudW1iZXIsIGU6IEV4cHJlc3Npb24pOiBTdW0ge1xuICAgICAgICBjb25zdCB0ZXJtcyA9IFsuLi5zLnRlcm1zXVxuICAgICAgICB0ZXJtc1tpXSA9IGVcbiAgICAgICAgcmV0dXJuIHN1bSguLi50ZXJtcylcbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRTdW1zXVxufVxuXG5mdW5jdGlvbiBwcm9kdWN0RXF1aXYoZXhwOiBQcm9kdWN0LCBkaXJlY3RFcXVpdmFsZW50czogKGU6IEV4cHJlc3Npb24pID0+IFNldDxBcmd1bWVudD4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50UHJvZHVjdHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudFByb2R1Y3RzLmFkZChpbmYpXG4gICAgfSlcblxuICAgIC8vIEZpbmQgZXF1aXZhbGVudHMgZm9yIGVhY2ggdGVybVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwLmZhY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZmFjdG9yID0gZXhwLmZhY3RvcnNbaV1cblxuICAgICAgICAvLyBTdWJzdGl0dXRlIHRlcm0gZm9yIGVhY2ggZXF1aXZhbGVudFxuICAgICAgICBlcXVpdihmYWN0b3IsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgICAgICBlcXVpdmFsZW50UHJvZHVjdHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogc3dhcChleHAsIGksIGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uKSxcbiAgICAgICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3dhcChzOiBQcm9kdWN0LCBpOiBudW1iZXIsIGU6IEV4cHJlc3Npb24pOiBQcm9kdWN0IHtcbiAgICAgICAgY29uc3QgdGVybXMgPSBbLi4ucy5mYWN0b3JzXVxuICAgICAgICB0ZXJtc1tpXSA9IGVcbiAgICAgICAgcmV0dXJuIHByb2R1Y3QoLi4udGVybXMpXG4gICAgfVxuXG4gICAgcmV0dXJuIFsuLi5lcXVpdmFsZW50UHJvZHVjdHNdXG59XG5cbmZ1bmN0aW9uIGV4cG9uZW50RXF1aXYoZXhwOiBFeHBvbmVudCwgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+KTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgZXF1aXYoZXhwLmJhc2UsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLCBcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBFeHBvbmVudC5vZihhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiwgZXhwLnBvd2VyKX0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcbiAgICBlcXVpdihleHAucG93ZXIsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IEV4cG9uZW50Lm9mKGV4cC5iYXNlLCBhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiksXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcblxuICAgIHJldHVybiBbLi4uZXF1aXZhbGVudHNdXG59XG5cbmZ1bmN0aW9uIGZyYWN0aW9uRXF1aXYoZXhwOiBGcmFjdGlvbiwgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+KTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgZXF1aXYoZXhwLm51bWVyYXRvciwgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsIFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IEZyYWN0aW9uLm9mKGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uLCBleHAuZGVub21pbmF0b3IpfSwgYWx0LmFyZ3VtZW50LCBhbHQucnVsZUlkKSlcbiAgICB9KVxuICAgIGVxdWl2KGV4cC5kZW5vbWluYXRvciwgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YoZXhwLm51bWVyYXRvciwgYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24pLFxuICAgICAgICB9LCBhbHQuYXJndW1lbnQsIGFsdC5ydWxlSWQpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufVxuXG5mdW5jdGlvbiBkZXJpdmF0aXZlRXF1aXYoZXhwOiBEZXJpdmF0aXZlLCBkaXJlY3RFcXVpdmFsZW50czogKGU6IEV4cHJlc3Npb24pID0+IFNldDxBcmd1bWVudD4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50czogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuXG4gICAgLy8gQWRkIHRvcCBsZXZlbCBlcXVpdmFsZW50c1xuICAgIGRpcmVjdEVxdWl2YWxlbnRzKGV4cCkuZm9yRWFjaChpbmYgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoaW5mKVxuICAgIH0pXG5cbiAgICBlcXVpdihleHAuZXhwLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCwgXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRGVyaXZhdGl2ZS5vZihhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiwgZXhwLnJlbGF0aXZlVG8pXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcbiAgICBlcXVpdihleHAucmVsYXRpdmVUbywgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRGVyaXZhdGl2ZS5vZihleHAuZXhwLCBhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiksXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcblxuICAgIHJldHVybiBbLi4uZXF1aXZhbGVudHNdXG59XG5cbmZ1bmN0aW9uIGxvZ2FyaXRobUVxdWl2KGV4cDogTG9nYXJpdGhtLCBkaXJlY3RFcXVpdmFsZW50czogKGU6IEV4cHJlc3Npb24pID0+IFNldDxBcmd1bWVudD4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50czogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuXG4gICAgLy8gQWRkIHRvcCBsZXZlbCBlcXVpdmFsZW50c1xuICAgIGRpcmVjdEVxdWl2YWxlbnRzKGV4cCkuZm9yRWFjaChhcmcgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoYXJnKVxuICAgIH0pXG5cbiAgICBlcXVpdihleHAuZXhwLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCwgXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogTG9nYXJpdGhtLm9mKGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uLCBleHAuYmFzZSlcbiAgICAgICAgfSwgYWx0LmFyZ3VtZW50LCBhbHQucnVsZUlkKSlcbiAgICB9KVxuICAgIGVxdWl2KGV4cC5iYXNlLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBMb2dhcml0aG0ub2YoZXhwLmV4cCwgYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24pLFxuICAgICAgICB9LCBhbHQuYXJndW1lbnQsIGFsdC5ydWxlSWQpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufVxuXG5mdW5jdGlvbiBpbnRlZ3JhbEVxdWl2KGV4cDogSW50ZWdyYWwsIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50Pik6IEFyZ3VtZW50W10ge1xuICAgIGNvbnN0IGVxdWl2YWxlbnRzOiBTZXQ8QXJndW1lbnQ+ID0gbmV3IFNldCgpXG5cbiAgICAvLyBBZGQgdG9wIGxldmVsIGVxdWl2YWxlbnRzXG4gICAgZGlyZWN0RXF1aXZhbGVudHMoZXhwKS5mb3JFYWNoKGFyZyA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChhcmcpXG4gICAgfSlcblxuICAgIGVxdWl2KGV4cC5pbnRlZ3JhbmQsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLCBcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBJbnRlZ3JhbC5vZihhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiwgZXhwLnJlbGF0aXZlVG8pXG4gICAgICAgIH0sIGFsdC5hcmd1bWVudCwgYWx0LnJ1bGVJZCkpXG4gICAgfSlcbiAgICBlcXVpdihleHAucmVsYXRpdmVUbywgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogSW50ZWdyYWwub2YoZXhwLmludGVncmFuZCwgYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24pLFxuICAgICAgICB9LCBhbHQuYXJndW1lbnQsIGFsdC5ydWxlSWQpKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufSIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBzdW1Pck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBBbnl0aGluZyBwbHVzIDAgaXMgYW55dGhpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIEFkZGl0aXZlSWRlbnRpdHkgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBTdW1cbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgdGVybXNXaXRob3V0WmVybyA9IChleHAgYXMgU3VtKS50ZXJtcy5maWx0ZXIodCA9PiAhKHQgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIHQudmFsdWUgPT0gMCkpXG4gICAgICAgIGlmICh0ZXJtc1dpdGhvdXRaZXJvLmxlbmd0aCA9PSAoZXhwIGFzIFN1bSkudGVybXMubGVuZ3RoKSByZXR1cm4gc2V0T2YoKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHN1bU9yTm90KC4uLnRlcm1zV2l0aG91dFplcm8pXG4gICAgICAgIH0sIFwiQWRkaXRpdmUgaWRlbnRpdHlcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJBZGRpdGl2ZSBJZGVudGl0eVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5cbmV4cG9ydCBjbGFzcyBBbnl0aGluZ1RpbWVzWmVybyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGV4cCBhcyBQcm9kdWN0XG5cbiAgICAgICAgbGV0IGlzWmVybyA9IGZhbHNlXG4gICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIHByb2R1Y3QuZmFjdG9ycylcbiAgICAgICAgICAgIGlmIChmYWN0b3IgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIGZhY3Rvci52YWx1ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlzWmVybyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1plcm8pIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogSW50ZWdlci5vZigwKVxuICAgICAgICB9LCBcIkFueXRoaW5nIHRpbWVzIHplcm8gaXMgemVyb1wiLCBSVUxFX0lEKSlcbiAgICB9XG4gICAgXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJBbnl0aGluZ1RpbWVzWmVyb1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IHByb2R1Y3QsIHN1bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBTdW0sIFN1bVR5cGUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBGbGF0dGVucyBwcm9kdWN0cyBpbiBwcm9kdWN0cyBhbmQgc3VtcyBpbiBzdW1zLlxuICogXG4gKiBPbmx5IHJldHVybnMgb25lIHNpbXBsaWZpY2F0aW9uIG9mIGFuIGlucHV0LiBcbiAqL1xuZXhwb3J0IGNsYXNzIEFzc29jaWF0aXZlUHJvcGVydHlPZlByb2R1Y3RzQW5kU3VtcyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFN1bSB8fCBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGlmIChleHAgaW5zdGFuY2VvZiBTdW0pIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rlcm1zID0gZXhwLnRlcm1zLm1hcDxFeHByZXNzaW9uW10+KHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0IGluc3RhbmNlb2YgU3VtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4udC50ZXJtc11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt0XVxuICAgICAgICAgICAgfSkuZmxhdCgpXG5cbiAgICAgICAgICAgIGlmIChuZXdUZXJtcy5sZW5ndGggPT0gZXhwLnRlcm1zLmxlbmd0aCkgcmV0dXJuIG5ldyBTZXQ8QXJndW1lbnQ+KClcblxuICAgICAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogc3VtKC4uLm5ld1Rlcm1zKVxuICAgICAgICAgICAgfSwgXCJBc3NvY2lhdGl2ZSBwcm9wZXJ0eSBvZiBhZGRpdGlvblwiLCBSVUxFX0lEKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0ZhY3RvcnMgPSAoZXhwIGFzIFByb2R1Y3QpLmZhY3RvcnMubWFwPEV4cHJlc3Npb25bXT4odCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4udC5mYWN0b3JzXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gW3RdXG4gICAgICAgICAgICB9KS5mbGF0KClcbiAgICAgICAgICAgIGlmIChuZXdGYWN0b3JzLmxlbmd0aCA9PSAoZXhwIGFzIFByb2R1Y3QpLmZhY3RvcnMubGVuZ3RoKSByZXR1cm4gbmV3IFNldDxBcmd1bWVudD4oKVxuXG4gICAgICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgIG4xOiBwcm9kdWN0KC4uLm5ld0ZhY3RvcnMpXG4gICAgICAgICAgICB9LCBcIkFzc29jaWF0aXZlIHByb3BlcnR5IG9mIG11bHRpcGxpY2F0aW9uXCIsICBSVUxFX0lEKSlcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQXNzb2NpYXRpdmUgUHJvcGVydHlcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBuZWdhdGl2ZSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcbmltcG9ydCB7IHByb2R1Y3QgYXMgcHJvZHVjdE9mIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuXG5cbi8qKlxuICogTWFrZXMgc3VyZSBhIHByb2R1Y3QgZG9lc24ndCBjb250YWluIGFueSBuZWdhdGlvbnMuXG4gKiBUaGUgcHJvZHVjdCBpcyBlaXRoZXIgYSBuZWdhdGlvbiBvciBub3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYW5jZWxOZWdhdGl2ZXMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBleHAgYXMgUHJvZHVjdFxuICAgICAgICBjb25zdCBuZWdhdGVkRmFjdG9yczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgY29uc3Qgb3RoZXJzOiBFeHByZXNzaW9uW10gPSBbXVxuXG4gICAgICAgIGZvciAoY29uc3QgZiBvZiBwcm9kdWN0LmZhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgUHJvZHVjdCAmJiBmLmlzTmVnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBuZWdhdGVkRmFjdG9ycy5wdXNoKGYubmVnYXRpb24pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG90aGVycy5wdXNoKGYpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc05lZ2F0aW9uID0gcHJvZHVjdC5pc05lZ2F0aW9uXG5cbiAgICAgICAgY29uc3QgbmVnYXRpb25zID0gbmVnYXRlZEZhY3RvcnMubGVuZ3RoICsgKGlzTmVnYXRpb24gPyAxIDogMClcblxuICAgICAgICBpZiAobmVnYXRpb25zIDwgMikgcmV0dXJuIHNldE9mKClcblxuICAgICAgICBjb25zdCByZXN1bHRJc05lZ2F0aXZlID0gbmVnYXRpb25zICUgMiA9PSAxXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2R1Y3RPZiguLi5uZWdhdGVkRmFjdG9ycywgLi4ub3RoZXJzKVxuICAgICAgICBjb25zdCBuZWdhdGVkUmVzdWx0ID0gcmVzdWx0SXNOZWdhdGl2ZSA/IG5lZ2F0aXZlKHJlc3VsdCkgOiByZXN1bHRcblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBuZWdhdGVkUmVzdWx0XG4gICAgICAgIH0sIFwiQ2FuY2VsIG5lZ2F0aXZlc1wiLCBSVUxFX0lEKSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJDYW5jZWwgTmVnYXRpdmVzXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbnVtLCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IGZhY3Rvck9yZGVyLCBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IG9yZGVyVGVybXMgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuXG5cbi8qKlxuICogQ29tYmluZXMgbGlrZSBmYWN0b3JzIGFuZCBleHBvbmVudHMgd2l0aCBsaWtlIGJhc2VzLlxuICovXG5leHBvcnQgY2xhc3MgQ29tYmluZUNvbW1vbkZhY3RvcnNNdWx0aXBsaWNhdGlvbiBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgICAgICYmICFleHAuaXNSZWR1Y2libGVcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGV4cCBhcyBQcm9kdWN0O1xuXG5cbiAgICAgICAgLy8gRmluZCBhbGwgdGhlIGJhc2VzL2ZhY3RvcnMgaW4gdGhlIHByb2R1Y3RcbiAgICAgICAgY29uc3QgYmFzZXMgPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcbiAgICAgICAgZm9yIChjb25zdCBmYWN0b3Igb2YgcHJvZHVjdC5mYWN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoZmFjdG9yIGluc3RhbmNlb2YgRXhwb25lbnQpIFxuICAgICAgICAgICAgICAgIGJhc2VzLmFkZChmYWN0b3IuYmFzZSlcbiAgICAgICAgICAgIGVsc2UgYmFzZXMuYWRkKGZhY3RvcilcbiAgICAgICAgfVxuXG5cbiAgICAgICAgY29uc3QgZXF1aXZhbGVudEV4cHJlc3Npb25zID0gbmV3IFNldDxQcm9kdWN0IHwgRXhwb25lbnQ+KCk7XG4gICAgICAgIC8vIEZvciBldmVyeSB1bmlxdWUgZmFjdG9yXG4gICAgICAgIGZvciAoY29uc3QgYmFzZSBvZiBiYXNlcykge1xuICAgICAgICAgICAgbGV0IHBvd2VyVGVybXM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdGYWN0b3JzOiBFeHByZXNzaW9uW10gPSBbXTtcbiAgICAgICAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgdGltZXMgaXQgb2NjdXJzIGluIHRoZSBwcm9kdWN0XG4gICAgICAgICAgICAvLyBDb2xsZWN0IHRoZSBvdGhlciBmYWN0b3JzIGluIGEgbGlzdFxuICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIHByb2R1Y3QuZmFjdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgRXhwb25lbnQgJiYgZi5iYXNlID09PSBiYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvd2VyVGVybXMucHVzaChmLnBvd2VyKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZiA9PT0gYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3dlclRlcm1zLnB1c2gobnVtKDEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdGYWN0b3JzLnB1c2goZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPcmRlciB0aGUgcG93ZXIgdGVybXMgY29ycmVjdGx5XG4gICAgICAgICAgICBwb3dlclRlcm1zID0gb3JkZXJUZXJtcyguLi5wb3dlclRlcm1zKVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgYmFzZSBvbmx5IG9jY3VyZWQgb25jZSwgbm90aGluZyB0byBzaW1wbGlmeVxuICAgICAgICAgICAgaWYgKHBvd2VyVGVybXMubGVuZ3RoID09IDEpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgZXhwb25lbnQgdGhhdCBjb21iaW5lcyB0aGUgdGVybXNcbiAgICAgICAgICAgIGNvbnN0IGV4cG9uZW50ID0gRXhwb25lbnQub2YoYmFzZSwgc3VtKC4uLnBvd2VyVGVybXMpKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gb3RoZXIgZmFjdG9ycywgd2UncmUgZG9uZVxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0ZhY3RvcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBlcXVpdmFsZW50RXhwcmVzc2lvbnMuYWRkKGV4cG9uZW50KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJbnNlcnQgdGhlIG5ldyBleHBvbmVudCBhdCB0aGUgY29ycmVjdCBwbGFjZSBpbiB0aGUgbmV3IHByb2R1Y3RcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluc2VydENvcnJlY3RseShhcnI6IEV4cHJlc3Npb25bXSwgZWw6IEV4cHJlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgICAgICAgICAvLyBQaWNrIGluZGV4XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFjdG9yT3JkZXIoZWwsIGFycltpXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGkgKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMCwgZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnNlcnRDb3JyZWN0bHkocmVtYWluaW5nRmFjdG9ycywgZXhwb25lbnQpXG4gICAgICAgICAgICBlcXVpdmFsZW50RXhwcmVzc2lvbnMuYWRkKFByb2R1Y3Qub2YocmVtYWluaW5nRmFjdG9ycykpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIGFyZ3VtZW50cyBmb3IgZWFjaCBlcXVpdmFsZW50IGV4cHJlc3Npb25cbiAgICAgICAgY29uc3QgYXJncyA9IG5ldyBTZXQ8QXJndW1lbnQ+KClcbiAgICAgICAgZXF1aXZhbGVudEV4cHJlc3Npb25zLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBhcmdzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YocHJvZHVjdCksIHtcbiAgICAgICAgICAgICAgICBuOiBwcm9kdWN0LFxuICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICBuMTogZSxcbiAgICAgICAgICAgIH0sIFwiQ29tYmluZSBjb21tb24gZmFjdG9ycyBtdWx0aXBsaWNhdGlvblwiLCBSVUxFX0lEKSlcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ0NGYWN0b3JzIE11bHRcIiIsImltcG9ydCB7IG5lZ2F0aXZlLCBudW0sIG9yZGVyZWRQcm9kdWN0LCBwcm9kdWN0LCBzdW1Pck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgQ29udmVyZ2VuY2VUYXJnZXQsIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgYWRkQWxsLCBoYXMsIHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcblxuLyoqXG4gKiBhICsgYSA9IDJhXG4gKiAyYSAtIGEgPSBhICAodGhpcyBtZWFucyB3ZSBoYXZlIHRvIGNoZWNrIGZvciBuZWdhdGlvbnMpXG4gKiBcbiAqIChiYylhICsgN2EgPSAoNyArIGJjKWFcbiAqIFxuICogQnV0IG5vdCBcbiAqIDEgKyAxID0gMigxKVxuICovXG5leHBvcnQgY2xhc3MgQ29tYmluZUNvbW1vblRlcm1zQWRkaXRpb24gZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcblxuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFN1bVxuICAgICAgICAgICAgJiYgIWV4cC5pc1JlZHVjaWJsZVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHN1bSA9IGV4cCBhcyBTdW07XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBuZXcgU2V0PEFyZ3VtZW50PigpXG5cbiAgICAgICAgY29uc3QgdW5pcXVlRmFjdG9ycyA9IG5ldyBTZXQ8RXhwcmVzc2lvbj4oKVxuXG4gICAgICAgIC8vIEZpbmQgYWxsIHVuaXF1ZSBmYWN0b3JzIGluIGFsbCB0ZXJtc1xuICAgICAgICAvLyBBc3N1bWUgcHJvZHVjdHMgaGF2ZSBiZWVuIGZsYXR0ZW5lZCBhbHJlYWR5IChhc3NvY2lhdGl2ZSBwcm9wZXJ0eSlcbiAgICAgICAgZm9yIChjb25zdCB0ZXJtIG9mIHN1bS50ZXJtcykge1xuICAgICAgICAgICAgaWYgKHRlcm0gaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgYWRkQWxsKHVuaXF1ZUZhY3RvcnMsIC4uLnRlcm0uZmFjdG9ycykgXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBDYXB0dXJlIGFsbCBjb21iaW5hdGlvbnMgb2YgZmFjdG9yc1xuICAgICAgICAgICAgICAgIC8vVE9ETzogQ2FwdHVyZSBpbnRlZ2VyIGZhY3RvcnNcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB1bmlxdWVGYWN0b3JzLmFkZCh0ZXJtKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYW4gYXJndW1lbnQgZm9yIHB1bGxpbmcgb3V0IGVhY2ggZmFjdG9yXG4gICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIHVuaXF1ZUZhY3RvcnMpIHtcblxuICAgICAgICAgICAgaWYgKGZhY3Rvci5pc1JlZHVjaWJsZU9ySW50KSBjb250aW51ZVxuXG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIHRlcm1zIGNvbnRhaW4gaXRcbiAgICAgICAgICAgIGNvbnN0IHJlbGF2ZW50VGVybXM6IFByb2R1Y3RbXSA9IFtdXG4gICAgICAgICAgICBjb25zdCBvdGhlclRlcm1zOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCB0ZXJtIG9mIHN1bS50ZXJtcykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXJtIGluc3RhbmNlb2YgUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzKHRlcm0uZmFjdG9ycywgZmFjdG9yKSkgXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdmVudFRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyVGVybXMucHVzaCh0ZXJtKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtID09PSBmYWN0b3IpIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXZlbnRUZXJtcy5wdXNoKFByb2R1Y3Qub2YoW251bSgxKSwgdGVybV0pKVxuICAgICAgICAgICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJUZXJtcy5wdXNoKHRlcm0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVsYXZlbnRUZXJtcy5sZW5ndGggPCAyKSBjb250aW51ZVxuXG4gICAgICAgICAgICAvLyBQdWxsIGl0IG91dCBvZiB0aG9zZSB0ZXJtc1xuICAgICAgICAgICAgY29uc3QgY29lZmZpY2llbnRzOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCB0ZXJtIG9mIHJlbGF2ZW50VGVybXMpIHtcbiAgICAgICAgICAgICAgICBjb2VmZmljaWVudHMucHVzaCh0ZXJtLndpdGhvdXQoZmFjdG9yKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHB1bGxlZCA9IHN1bU9yTm90KG9yZGVyZWRQcm9kdWN0KFN1bS5vZihjb2VmZmljaWVudHMpLCBmYWN0b3IpLCAuLi5vdGhlclRlcm1zKVxuXG4gICAgICAgICAgICBhcmdzLmFkZChuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgbjE6IHB1bGxlZFxuICAgICAgICAgICAgfSwgXCJDb21iaW5lIGxpa2UgdGVybXNcIiwgUlVMRV9JRCkpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJnc1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY29udmVyZ2VuY2VUeXBlKCk6IENvbnZlcmdlbmNlVGFyZ2V0IHtcbiAgICAgICAgcmV0dXJuIENvbnZlcmdlbmNlVGFyZ2V0LkZhY3RvcmVkXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ0NUZXJtcyBBZGRcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBudW0sIHByb2R1Y3RPck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG4vKipcbiAqIFByb2R1Y3RzIHdpdGggc2V2ZXJhbCBpbnRlZ2VyIHRlcm1zIGFyZSBzaW1wbGlmaWVkIHRvIG9ubHkgaW5jbHVkZSAxXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21iaW5lSW50ZWdlckZhY3RvcnMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgICAgICYmICFleHAuaXNOZWdhdGlvblxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwID0gZXhwIGFzIFByb2R1Y3RcblxuICAgICAgICBjb25zdCByZW1haW5pbmdGYWN0b3JzOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICBsZXQgY29lZmZpY2llbnQgPSAxXG4gICAgICAgIGZvciAoY29uc3QgZiBvZiBwLmZhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgSW50ZWdlcikge1xuICAgICAgICAgICAgICAgIGNvZWZmaWNpZW50ICo9IGYudmFsdWVcbiAgICAgICAgICAgIH0gZWxzZSAgXG4gICAgICAgICAgICAgICAgcmVtYWluaW5nRmFjdG9ycy5wdXNoKGYpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocC5mYWN0b3JzLmxlbmd0aCAtIHJlbWFpbmluZ0ZhY3RvcnMubGVuZ3RoIDwgMikgcmV0dXJuIG5ldyBTZXQ8QXJndW1lbnQ+KClcblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBwcm9kdWN0T3JOb3QobnVtKGNvZWZmaWNpZW50KSwgLi4ucmVtYWluaW5nRmFjdG9ycylcbiAgICAgICAgfSwgXCJNdWx0aXBseSBpbnRlZ2VyIHRlcm1zXCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ29tYkludEZhY3RzXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgcHJvZHVjdCBhcyBwcm9kdWN0T2YsIHByb2R1Y3RBbmROb3RUaW1lc09uZSwgcmVtb3ZlIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vLi4vdXRpbC9hc3NlcnRcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5cbi8qKlxuICogU2ltcGxpZmllcyBwcm9kdWN0cyBjb250YWluaW5nIGZyYWN0aW9ucyBieSBtb3ZpbmcgdGhlXG4gKiBwYXJ0cyBvZiB0aGUgcHJvZHVjdCBpbnRvIHRoZSBudW1lcmF0b3Igb2YgdGhlIGZpcnN0IGZyYWN0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQ29tYmluZVByb2R1Y3RzQW5kRnJhY3Rpb25zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gZXhwIGFzIFByb2R1Y3Q7XG4gICAgICAgIC8vIEFsbCBwcm9kdWN0cyBoYXZlIGF0IGxlYXN0IDIgZmFjdG9yc1xuXG4gICAgICAgIGNvbnN0IGZpcnN0RnJhY3Rpb246IEZyYWN0aW9uIHwgdW5kZWZpbmVkID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihmID0+IGYgaW5zdGFuY2VvZiBGcmFjdGlvbilbMF0gYXMgRnJhY3Rpb25cbiAgICAgICAgaWYgKGZpcnN0RnJhY3Rpb24gPT09IHVuZGVmaW5lZCkgcmV0dXJuIHNldE9mKClcbiAgICAgICAgLy8gQXQgbGVhc3Qgb25lIG9mIHRob3NlIGlzIGEgZnJhY3Rpb25cblxuICAgICAgICBjb25zdCBub25GcmFjdGlvbkZhY3RvcnMgPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKGYgPT4gIShmIGluc3RhbmNlb2YgRnJhY3Rpb24pKVxuICAgICAgICBpZiAobm9uRnJhY3Rpb25GYWN0b3JzLmxlbmd0aCA9PSAwKSByZXR1cm4gc2V0T2YoKVxuICAgICAgICAvLyBBdCBsZWFzdCBvbmUgb2YgdGhvc2UgaXMgbm90IGEgZnJhY3Rpb25cblxuICAgICAgICBsZXQgcmVzdWx0OiBFeHByZXNzaW9uO1xuICAgICAgICAvLyBGcmFjdGlvbiBhbmQgbm9uLWZyYWN0aW9uIGZhY3RvcnMgcGFydGl0aW9uIHRoZSBzZXQgb2YgZmFjdG9yc1xuICAgICAgICBpZiAocHJvZHVjdC5mYWN0b3JzLmxlbmd0aCAtIG5vbkZyYWN0aW9uRmFjdG9ycy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgLy8gVGhlcmUgaXMgZXhhY3RseSBvbmUgZnJhY3Rpb24gZmFjdG9yXG4gICAgICAgICAgICAvLyBBbGwgdGhlIGZhY3RvcnMgd2lsbCBiZSBjb21iaW5lZCBpbnRvIG9uZSBmYWN0b3JcbiAgICAgICAgICAgIHJlc3VsdCA9IEZyYWN0aW9uLm9mKFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0T2YoZmlyc3RGcmFjdGlvbi5udW1lcmF0b3IsIC4uLm5vbkZyYWN0aW9uRmFjdG9ycyksXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RnJhY3Rpb24uZGVub21pbmF0b3JcbiAgICAgICAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBhcmUgbXVsdGlwbGUgZnJhY3Rpb25zXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdGcmFjdGlvbkZhY3RvcnMgPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIEZyYWN0aW9uKVxuICAgICAgICAgICAgcmVtb3ZlKHJlbWFpbmluZ0ZyYWN0aW9uRmFjdG9ycywgZmlyc3RGcmFjdGlvbilcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXNzZXJ0KHJlbWFpbmluZ0ZyYWN0aW9uRmFjdG9ycy5sZW5ndGggPiAwKVxuXG4gICAgICAgICAgICByZXN1bHQgPSBwcm9kdWN0T2YoXG4gICAgICAgICAgICAgICAgRnJhY3Rpb24ub2YoXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RBbmROb3RUaW1lc09uZShmaXJzdEZyYWN0aW9uLm51bWVyYXRvciwgLi4ubm9uRnJhY3Rpb25GYWN0b3JzKSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RGcmFjdGlvbi5kZW5vbWluYXRvclxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgLi4ucmVtYWluaW5nRnJhY3Rpb25GYWN0b3JzXG4gICAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiByZXN1bHRcbiAgICAgICAgfSwgXCJDb21iaW5lIHByb2R1Y3RzIGludG8gZnJhY3Rpb25cIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJQcm9kPT5GcmFjXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgcHJvZHVjdE9yTm90LCBwcm9kdWN0IGFzIHByb2R1Y3RPZiwgcmVtb3ZlLCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uLy4uL3V0aWwvYXNzZXJ0XCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBDb252ZXJnZW5jZVRhcmdldCwgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogRGlzdHJpYnV0ZXMgbXVsdGlwbGljYXRpb24gb3ZlciBhZGRpdGlvbi5cbiAqIFxuICogYShiK2MpID0gYWIgKyBhY1xuICovXG5leHBvcnQgY2xhc3MgRGlzdHJpYnV0aXZlUHJvcGVydHkgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0O1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gZXhwIGFzIFByb2R1Y3Q7XG5cbiAgICAgICAgY29uc3Qgbm9uU3VtcyA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoZiA9PiAhKGYgaW5zdGFuY2VvZiBTdW0pKVxuICAgICAgICBpZiAobm9uU3Vtcy5sZW5ndGggPT0gMCkgcmV0dXJuIHNldE9mKClcbiAgICAgICAgLy8gVGhlcmUgaXMgYXQgbGVhc3Qgb25lIG5vbi1zdW0gZmFjdG9yXG5cbiAgICAgICAgY29uc3QgZmlyc3RTdW0gPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIFN1bSlbMF0gYXMgU3VtXG4gICAgICAgIGlmIChmaXJzdFN1bSA9PSB1bmRlZmluZWQpIHJldHVybiBzZXRPZigpXG4gICAgICAgIC8vIFRoZXJlIGlzIGF0IGxlYXN0IG9uZSBzdW1cblxuICAgICAgICBjb25zdCByZW1haW5pbmdTdW1zID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihmID0+IGYgaW5zdGFuY2VvZiBTdW0pXG4gICAgICAgIHJlbW92ZShyZW1haW5pbmdTdW1zLCBmaXJzdFN1bSlcblxuICAgICAgICBjb25zdCB0b0Rpc3RyaWJ1dGUgPSBwcm9kdWN0T3JOb3QoLi4ubm9uU3VtcylcblxuICAgICAgICBjb25zdCBkaXN0cmlidXRlZCA9IHN1bSguLi5maXJzdFN1bS50ZXJtcy5tYXAodCA9PiBwcm9kdWN0T2YodG9EaXN0cmlidXRlLCB0KSkpXG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHJvZHVjdE9yTm90KFxuICAgICAgICAgICAgZGlzdHJpYnV0ZWQsXG4gICAgICAgICAgICAuLi5yZW1haW5pbmdTdW1zXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiByZXN1bHRcbiAgICAgICAgfSwgYERpc3RyaWJ1dGUgJHtwcm9kdWN0T3JOb3QoLi4ubm9uU3VtcykudG9VbmFtYmlnaW91c1N0cmluZygpfWAsIFJVTEVfSUQpKVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY29udmVyZ2VuY2VUeXBlKCk6IENvbnZlcmdlbmNlVGFyZ2V0IHtcbiAgICAgICAgcmV0dXJuIENvbnZlcmdlbmNlVGFyZ2V0LlBvbHlub21pYWxcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJEaXN0cmlidXRpdmUgUHJvcGVydHlcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyByZW1vdmVOZXcsIG51bSBhcyBudW1PZiwgbmVnYXRpdmUsIHN1bU9yTm90LCBwcm9kdWN0T3JOb3QgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBoYXMsIHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5leHBvcnQgY2xhc3MgRGl2aWRlRnJhY3Rpb25zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRnJhY3Rpb25cbiAgICAgICAgICAgICYmIGV4cC5udW1lcmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgICAgICAgICAmJiBleHAuZGVub21pbmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGZyYWMgPSBleHAgYXMgRnJhY3Rpb25cbiAgICAgICAgY29uc3QgbnVtID0gZnJhYy5udW1lcmF0b3IgYXMgUHJvZHVjdFxuICAgICAgICBjb25zdCBkZW4gPSBmcmFjLmRlbm9taW5hdG9yIGFzIFByb2R1Y3RcblxuICAgICAgICAvLyBUYWtlIHRoZSBmYWN0b3JzIG9mIHRoZSBuZWdhdGlvbiBvZiBhbnkgbmVnYXRpb25zXG4gICAgICAgIGNvbnN0IG51bUZhY3RvcnMgPSBudW0uaXNOZWdhdGlvbiA/IFxuICAgICAgICAgICAgbnVtLm5lZ2F0aW9uIGluc3RhbmNlb2YgUHJvZHVjdCA/XG4gICAgICAgICAgICAgICAgbnVtLm5lZ2F0aW9uLmZhY3RvcnMgLy8gR2V0IGZhY3RvcnMgaWYgdGhlIG5lZ2F0aW9uIGlzIGEgcHJvZHVjdFxuICAgICAgICAgICAgICAgIDogW251bS5uZWdhdGlvbl0gIC8vIElmIG5lZ2F0aW9uIGlzbid0IGEgcHJvZHVjdCwgcmV0dXJuIHRoZSBuZWdhdGlvbiBhcyBhIGxpc3Qgb2YgMVxuICAgICAgICAgICAgICAgIDogbnVtLmZhY3RvcnMgICAvLyBJZiBub3QgYSBuZWdhdGlvbiwgcmV0dXJuIHRoZSBmYWN0b3JzXG4gICAgICAgIGNvbnN0IGRlbkZhY3RvcnMgPSAhZGVuLmlzTmVnYXRpb24gPyBkZW4uZmFjdG9yc1xuICAgICAgICAgICAgICAgIDogZGVuLm5lZ2F0aW9uIGluc3RhbmNlb2YgUHJvZHVjdCA/XG4gICAgICAgICAgICAgICAgICAgIGRlbi5uZWdhdGlvbi5mYWN0b3JzXG4gICAgICAgICAgICAgICAgICAgIDogW2Rlbi5uZWdhdGlvbl1cblxuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBhbnkgcmVwZWF0cywgZ2l2ZSB1cFxuICAgICAgICBpZiAobmV3IFNldChudW1GYWN0b3JzKS5zaXplIDwgbnVtRmFjdG9ycy5sZW5ndGgpIHJldHVybiBzZXRPZigpXG4gICAgICAgIGlmIChuZXcgU2V0KGRlbkZhY3RvcnMpLnNpemUgPCBkZW5GYWN0b3JzLmxlbmd0aCkgcmV0dXJuIHNldE9mKClcblxuICAgICAgICAvLyBUcmVhdCBldmVyeSBmYWN0b3IgYXMgYW4gZXhwb25lbnRcbiAgICAgICAgY29uc3QgbnVtRXhwb25lbnRzID0gbnVtRmFjdG9ycy5tYXA8RXhwb25lbnQ+KGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuIGZcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIEV4cG9uZW50Lm9mKGYsIG51bU9mKDEpKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBkZW5FeHBvbmVudHMgPSBkZW5GYWN0b3JzLm1hcDxFeHBvbmVudD4oZiA9PiB7XG4gICAgICAgICAgICBpZiAoZiBpbnN0YW5jZW9mIEV4cG9uZW50KSByZXR1cm4gZlxuICAgICAgICAgICAgZWxzZSByZXR1cm4gRXhwb25lbnQub2YoZiwgbnVtT2YoMSkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gRm9yIGVhY2ggZGVuIGV4cG9uZW50IGJhc2UsIGNyZWF0ZSBhbiBvdmVyYWxsIHN1bSBvZiB0aGUgcG93ZXJzXG4gICAgICAgIGNvbnN0IG51bUV4cG9uZW50UG93ZXJzID0gbmV3IE1hcDxFeHByZXNzaW9uLCBFeHByZXNzaW9uW10+KClcbiAgICAgICAgbnVtRXhwb25lbnRzLmZvckVhY2goZXhwb25lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKCFudW1FeHBvbmVudFBvd2Vycy5oYXMoZXhwb25lbnQuYmFzZSkpXG4gICAgICAgICAgICAgICAgbnVtRXhwb25lbnRQb3dlcnMuc2V0KGV4cG9uZW50LmJhc2UsIFtdKVxuICAgICAgICAgICAgbnVtRXhwb25lbnRQb3dlcnMuZ2V0KGV4cG9uZW50LmJhc2UpIS5wdXNoKGV4cG9uZW50LnBvd2VyKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBkZW5FeHBvbmVudFBvd2VycyA9IG5ldyBNYXA8RXhwcmVzc2lvbiwgRXhwcmVzc2lvbltdPigpXG4gICAgICAgIGRlbkV4cG9uZW50cy5mb3JFYWNoKGV4cG9uZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghZGVuRXhwb25lbnRQb3dlcnMuaGFzKGV4cG9uZW50LmJhc2UpKVxuICAgICAgICAgICAgICAgIGRlbkV4cG9uZW50UG93ZXJzLnNldChleHBvbmVudC5iYXNlLCBbXSlcbiAgICAgICAgICAgIGRlbkV4cG9uZW50UG93ZXJzLmdldChleHBvbmVudC5iYXNlKSEucHVzaChleHBvbmVudC5wb3dlcilcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBBbnkgYmFzZSB3aGljaCBpcyBpbiB0aGUgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvclxuICAgICAgICAvLyB3aWxsIG9ubHkgYmUgaW4gdGhlIG51bWVyYXRvclxuICAgICAgICBjb25zdCBuZXdOdW1FeHBvbmVudFBvd2VycyA9IG5ldyBNYXA8RXhwcmVzc2lvbiwgRXhwcmVzc2lvbltdPihudW1FeHBvbmVudFBvd2VycylcbiAgICAgICAgY29uc3QgbmV3RGVuRXhwb25lbnRQb3dlcnMgPSBuZXcgTWFwPEV4cHJlc3Npb24sIEV4cHJlc3Npb25bXT4oZGVuRXhwb25lbnRQb3dlcnMpXG4gICAgICAgIGRlbkV4cG9uZW50UG93ZXJzLmZvckVhY2goKHBvd2VycywgYmFzZSkgPT4ge1xuICAgICAgICAgICAgaWYgKG51bUV4cG9uZW50UG93ZXJzLmhhcyhiYXNlKSkge1xuICAgICAgICAgICAgICAgIG5ld051bUV4cG9uZW50UG93ZXJzLmdldChiYXNlKSEucHVzaChuZWdhdGl2ZShzdW1Pck5vdCguLi5wb3dlcnMpKSlcbiAgICAgICAgICAgICAgICBuZXdEZW5FeHBvbmVudFBvd2Vycy5kZWxldGUoYmFzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBHZXQgdGhlIG5ldyBmYWN0b3JzIGZvciB0aGUgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvclxuICAgICAgICBjb25zdCBuZXdOdW1FeHBvbmVudHM6IEV4cG9uZW50W10gPSBbXVxuICAgICAgICBuZXdOdW1FeHBvbmVudFBvd2Vycy5mb3JFYWNoKChwb3dlcnMsIGJhc2UpID0+IHtcbiAgICAgICAgICAgIG5ld051bUV4cG9uZW50cy5wdXNoKEV4cG9uZW50Lm9mKGJhc2UsIHN1bU9yTm90KC4uLnBvd2VycykpKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBuZXdEZW5FeHBvbmVudHM6IEV4cG9uZW50W10gPSBbXVxuICAgICAgICBuZXdEZW5FeHBvbmVudFBvd2Vycy5mb3JFYWNoKChwb3dlcnMsIGJhc2UpID0+IHtcbiAgICAgICAgICAgIG5ld0RlbkV4cG9uZW50cy5wdXNoKEV4cG9uZW50Lm9mKGJhc2UsIHN1bU9yTm90KC4uLnBvd2VycykpKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IHRvcCA9IHByb2R1Y3RPck5vdCguLi5uZXdOdW1FeHBvbmVudHMpXG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IG5ld0RlbkV4cG9uZW50cy5sZW5ndGggIT0gMCA/IHByb2R1Y3RPck5vdCguLi5uZXdEZW5FeHBvbmVudHMpIDogbnVtT2YoMSlcblxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgbmVnYXRpb25zIHJlbW92ZWQgZWFybGllclxuICAgICAgICBjb25zdCByZXN1bHQgPSBGcmFjdGlvbi5vZihcbiAgICAgICAgICAgIG51bS5pc05lZ2F0aW9uID8gbmVnYXRpdmUodG9wKSA6IHRvcCxcbiAgICAgICAgICAgIGRlbi5pc05lZ2F0aW9uID8gbmVnYXRpdmUoYm90dG9tKSA6IGJvdHRvbVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogcmVzdWx0XG4gICAgICAgIH0sIFwiQ2FuY2VsIG91dCBmcmFjdGlvbnNcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJDYW5jZWwgb3V0IGZyYWN0aW9uc1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG51bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRnJhY3Rpb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogQW55dGhpbmcgZGl2aWRlZCBieSAxIGlzIHRoZSBudW1lcmF0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIERpdmlzaW9uSWRlbnRpdHkgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBGcmFjdGlvblxuICAgICAgICAgICAgJiYgZXhwLmRlbm9taW5hdG9yIGluc3RhbmNlb2YgSW50ZWdlclxuICAgICAgICAgICAgJiYgZXhwLmRlbm9taW5hdG9yLnZhbHVlID09IDFcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZnJhYyA9IGV4cCBhcyBGcmFjdGlvblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGZyYWMpLCB7XG4gICAgICAgICAgICBuOiBmcmFjLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IGZyYWMubnVtZXJhdG9yLFxuICAgICAgICB9LCBcIkRpdmlzaW9uIGlkZW50aXR5IGlzIDFcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJEaXZpc2lvbiBJZGVudGl0eVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG5lZ2F0aXZlLCBwcm9kdWN0LCBzdW1Pck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5cbi8qKlxuICogQ29tYmluZSBhbnkgaW50ZWdlciB0ZXJtcyBpbiBTdW1zLlxuICogYSArIDIgKyAyICsgMj0gYSArIDRcbiAqIDIgLSAyID0gMFxuICogXG4gKiBDb21iaW5lcyBhbGwgb2YgdGhlbSBhdCBvbmNlIG5vIG1hdHRlciBob3cgbWFueSB0ZXJtcyB0aGVyZSBhcmUuXG4gKiBcbiAqL1xuZXhwb3J0IGNsYXNzIEV2YWx1YXRlU3VtcyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFN1bVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBzdW0gPSBleHAgYXMgU3VtXG4gICAgICAgIGNvbnN0IGludGVnZXJUZXJtcyA9IFsuLi5zdW0udGVybXNdLmZpbHRlcih0ID0+IHQgaW5zdGFuY2VvZiBJbnRlZ2VyIHx8ICh0IGluc3RhbmNlb2YgUHJvZHVjdCAmJiB0LmlzTmVnYXRpb24gJiYgdC5uZWdhdGlvbiBpbnN0YW5jZW9mIEludGVnZXIpKVxuICAgICAgICBpZiAoaW50ZWdlclRlcm1zLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRPZigpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3SW50ID0gSW50ZWdlci5vZihpbnRlZ2VyVGVybXMubWFwPG51bWJlcj4oZSA9PiB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEludGVnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZVxuICAgICAgICAgICAgfSByZXR1cm4gLSgoZSBhcyBQcm9kdWN0KS5uZWdhdGlvbiBhcyBJbnRlZ2VyKS52YWx1ZVxuICAgICAgICB9KS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKSlcbiAgICAgICAgY29uc3Qgb3RoZXJUZXJtcyA9IFsuLi5zdW0udGVybXNdLmZpbHRlcih0ID0+ICEodCBpbnN0YW5jZW9mIEludGVnZXIpICYmICEodCBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgdC5pc05lZ2F0aW9uICYmIHQubmVnYXRpb24gaW5zdGFuY2VvZiBJbnRlZ2VyKSlcblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKHN1bSksIHtcbiAgICAgICAgICAgIG46IHN1bSxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBzdW1Pck5vdCguLi5vdGhlclRlcm1zLCBuZXdJbnQpXG4gICAgICAgIH0sIFwiRXZhbHVhdGVkIEFkZGl0aW9uXCIsIFJVTEVfSUQpKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkV2YWwgQWRkaXRpb25cIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBudW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5leHBvcnQgY2xhc3MgRXhwb25lbnRUb1plcm8gZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBFeHBvbmVudFxuICAgICAgICAgICAgJiYgZXhwLnBvd2VyIGluc3RhbmNlb2YgSW50ZWdlclxuICAgICAgICAgICAgJiYgZXhwLnBvd2VyLnZhbHVlID09IDBcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHNldE9mKG5ldyBBcmd1bWVudChzZXRPZihleHApLCB7XG4gICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogbnVtKDEpXG4gICAgICAgIH0sIFwiQW55dGhpbmcgdG8gemVybyBpcyB6ZXJvXCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiUG93IG9mIFplcm9cIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG4vKipcbiAqIEFueXRoaW5nIHRvIHRoZSBmaXJzdCBpcyBqdXN0IHRoYXQgdGhpbmcuXG4gKiBUdXJucyBhbnkgZXhwb25lbnQgd2l0aCBhIHBvd2VyIG9mIDEgdG8gdGhhdCB0aGluZy5cbiAqL1xuZXhwb3J0IGNsYXNzIEV4cG9uZW50aWFsSWRlbnRpdHkgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBFeHBvbmVudFxuICAgICAgICAgICAgJiYgZXhwLnBvd2VyIGluc3RhbmNlb2YgSW50ZWdlclxuICAgICAgICAgICAgJiYgZXhwLnBvd2VyLnZhbHVlID09IDFcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZSA9IGV4cCBhcyBFeHBvbmVudFxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGUpLCB7XG4gICAgICAgICAgICBuOiBlLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IGUuYmFzZSxcbiAgICAgICAgfSwgXCJFeHBvbmVudGlhbCBJZGVudGl0eSBpcyAxXCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRXhwb25lbnRpYWwgSWRlbnRpdHlcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiO1xuaW1wb3J0IHsgcHJvZHVjdCBhcyBwcm9kdWN0T2YsIHByb2R1Y3RPck5vdCwgc3VtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgQ29udmVyZ2VuY2VUYXJnZXQsIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuXG4vKipcbiAqIChhICsgYikoYyArIGQpID0gYWMgKyBhZCArIGJjICsgYmRcbiAqL1xuZXhwb3J0IGNsYXNzIEZPSUwgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBleHAgYXMgUHJvZHVjdDtcblxuICAgICAgICBjb25zdCBzdW1zID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihmID0+IGYgaW5zdGFuY2VvZiBTdW0pXG4gICAgICAgIGlmIChzdW1zLmxlbmd0aCA8IDIpIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgY29uc3Qgbm9uU3VtcyA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoZiA9PiAhKGYgaW5zdGFuY2VvZiBTdW0pKVxuXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gc3Vtc1swXSBhcyBTdW1cbiAgICAgICAgY29uc3Qgc2Vjb25kID0gc3Vtc1sxXSBhcyBTdW1cblxuICAgICAgICBjb25zdCBmb2lsZWQgPSBmaXJzdC50ZXJtcy5tYXAodCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ZXJtczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgICAgIGZvciAoY29uc3QgdDEgb2Ygc2Vjb25kLnRlcm1zKSB7XG4gICAgICAgICAgICAgICAgdGVybXMucHVzaChwcm9kdWN0T2YodCwgdDEpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRlcm1zXG4gICAgICAgIH0pLmZsYXQoKVxuXG4gICAgICAgIHN1bXMuc3BsaWNlKDAsIDIpXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2R1Y3RPck5vdCguLi5ub25TdW1zLCBzdW0oLi4uZm9pbGVkKSwgLi4uc3VtcylcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICB9LCBcIkZvaWwgdGhhdCBzaGl0XCIsIFJVTEVfSUQpKVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY29udmVyZ2VuY2VUeXBlKCk6IENvbnZlcmdlbmNlVGFyZ2V0IHtcbiAgICAgICAgcmV0dXJuIENvbnZlcmdlbmNlVGFyZ2V0LlBvbHlub21pYWxcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkZPSUxcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBudW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuaW1wb3J0IHsgTG9nYXJpdGhtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0xvZ2FyaXRobVwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cblxuZXhwb3J0IGNsYXNzIExvZ09mT25lIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgTG9nYXJpdGhtXG4gICAgICAgICAgICAmJiBleHAuZXhwIGluc3RhbmNlb2YgSW50ZWdlclxuICAgICAgICAgICAgJiYgZXhwLmV4cC52YWx1ZSA9PT0gMVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBudW0oMClcbiAgICAgICAgfSwgXCJMb2cgaW4gYW55IGJhc2Ugb2YgMSBpcyAwXCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiTG9nIG9mIDFcIiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBudW0sIHByb2R1Y3RPck5vdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG4vKipcbiAqIDF4ID0geFxuICogMSoxeCA9IDFcbiAqL1xuZXhwb3J0IGNsYXNzIE11bHRpcGxpY2F0aXZlSWRlbnRpdHkgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgICAgICAgICAmJiBuZXcgU2V0KGV4cC5mYWN0b3JzKS5oYXMobnVtKDEpKVxuICAgICAgICAgICAgJiYgIWV4cC5pc05lZ2F0aW9uXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHAgPSBleHAgYXMgUHJvZHVjdFxuICAgICAgICBjb25zdCBuZXdGYWN0b3JzOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IGZhY3RvciBvZiBwLmZhY3RvcnMpIHtcbiAgICAgICAgICAgIGlmIChmYWN0b3IgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIGZhY3Rvci52YWx1ZSA9PSAxKSBjb250aW51ZVxuICAgICAgICAgICAgbmV3RmFjdG9ycy5wdXNoKGZhY3RvcilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdGYWN0b3JzLmxlbmd0aCA9PSAwKSBuZXdGYWN0b3JzLnB1c2gobnVtKDEpKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHByb2R1Y3RPck5vdCguLi5uZXdGYWN0b3JzKVxuICAgICAgICB9LCBcIk11bHRpcGxpY2F0aXZlIElkZW50aXR5XCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiTXVsdCBJZGVudGl0eVwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IHByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcblxuZXhwb3J0IGNsYXNzIE11bHRpcGx5RXhwb25lbnRQb3dlcnMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBFeHBvbmVudFxuICAgICAgICAgICAgJiYgZXhwLmJhc2UgaW5zdGFuY2VvZiBFeHBvbmVudFxuXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IG91dGVyID0gZXhwIGFzIEV4cG9uZW50XG4gICAgICAgIGNvbnN0IGlubmVyID0gb3V0ZXIuYmFzZSBhcyBFeHBvbmVudFxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IEV4cG9uZW50Lm9mKGlubmVyLmJhc2UsIHByb2R1Y3QoaW5uZXIucG93ZXIsIG91dGVyLnBvd2VyKSlcbiAgICAgICAgfSwgXCJFeHBvbmVudHMgdG8gZXhwb25lbnRzIG11bHRpcGx5XCIsIFJVTEVfSUQpKVxuICAgIH1cblxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRXhwIHRvIGV4cFwiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IHByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IGZhY3Rvck9yZGVyLCBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG4vKipcbiAqIFJlb3JkZXJzIGZhY3RvcnMgdG8gZm9sbG93IGNvbnZlbnRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBPcmRlclByb2R1Y3RzIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwID0gZXhwIGFzIFByb2R1Y3RcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9kdWN0KC4uLlsuLi5wLmZhY3RvcnNdLnNvcnQoZmFjdG9yT3JkZXIpKVxuICAgICAgICBpZiAocmVzdWx0ID09PSBwKSByZXR1cm4gc2V0T2YoKVxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICB9LCBcIlJlb3JkZXIgcHJvZHVjdCBmYWN0b3JzIHRvIG1hdGNoIG1hdGggY29udmVudGlvblwiLCBSVUxFX0lEKSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJPcmRlciBwcm9kdWN0c1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgb3JkZXJlZFN1bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IFN1bSwgU3VtVHlwZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5cbi8qKlxuICogVHVybnMgc3VtcyB0aGF0IGFyZSB1bmhlYWx0aHkgYmVjYXVzZSB0aGVpciB0ZXJtIG9yZGVyXG4gKiBpcyB3cm9uZyBpbnRvIGNvcnJlY3RseSBvcmRlcmVkIHN1bXMuXG4gKi9cbiBleHBvcnQgY2xhc3MgT3JkZXJTdW1zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG5cbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBTdW0gJiYgb3JkZXJlZFN1bShleHApICE9PSBleHBcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXQ8QXJndW1lbnQ+KFtuZXcgQXJndW1lbnQoc2V0T2YoZXhwKSwge1xuICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IG9yZGVyZWRTdW0oZXhwIGFzIFN1bSksXG4gICAgICAgIH0sIFwiUmVvcmRlcmVkXCIsIFJVTEVfSUQpXSlcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJPcmRlciBTdW1zXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgbnVtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBoYXMsIHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIjtcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiO1xuXG5leHBvcnQgY2xhc3MgUmVtb3ZlQ29tbW9uRmFjdG9yc0Zyb21Ub3BBbmRCb3R0b21PZkZyYWN0aW9uIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRnJhY3Rpb25cbiAgICAgICAgICAgICYmICEoZXhwLm51bWVyYXRvciBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgZXhwLm51bWVyYXRvci5pc05lZ2F0aW9uKVxuICAgICAgICAgICAgJiYgIShleHAuZGVub21pbmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0ICYmIGV4cC5kZW5vbWluYXRvci5pc05lZ2F0aW9uKVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBmcmFjID0gZXhwIGFzIEZyYWN0aW9uXG4gICAgICAgIGNvbnN0IHRvcCA9IGZyYWMubnVtZXJhdG9yXG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IGZyYWMuZGVub21pbmF0b3JcblxuICAgICAgICBjb25zdCBhbGxGYWN0b3JzID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG4gICAgICAgIGlmICh0b3AgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICB0b3AuZmFjdG9ycy5mb3JFYWNoKGYgPT4gYWxsRmFjdG9ycy5hZGQoZikpXG4gICAgICAgIH0gZWxzZSBhbGxGYWN0b3JzLmFkZCh0b3ApXG4gICAgICAgIGlmIChib3R0b20gaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICBib3R0b20uZmFjdG9ycy5mb3JFYWNoKGYgPT4gYWxsRmFjdG9ycy5hZGQoZikpXG4gICAgICAgIH0gZWxzZSBhbGxGYWN0b3JzLmFkZChib3R0b20pXG5cbiAgICAgICAgLy8gRmluZCBmYWN0b3JzIHRoYXQgYXJlIGluIGJvdGggdG9wIGFuZCBib3R0b21cbiAgICAgICAgY29uc3QgaW5Cb3RoID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG4gICAgICAgIGFsbEZhY3RvcnMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAodG9wIGluc3RhbmNlb2YgUHJvZHVjdCA/IGhhcyh0b3AuZmFjdG9ycywgZikgOiB0b3AgPT09IGYpXG4gICAgICAgICAgICAgICAgJiYgKGJvdHRvbSBpbnN0YW5jZW9mIFByb2R1Y3QgPyBoYXMoYm90dG9tLmZhY3RvcnMsIGYpIDogYm90dG9tID09PSBmKVxuICAgICAgICAgICAgKSBpbkJvdGguYWRkKGYpICAgIFxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChpbkJvdGguc2l6ZSA9PSAwKSByZXR1cm4gc2V0T2YoKVxuXG4gICAgICAgIC8vIFJldHVybiBuZXcgZnJhY3Rpb24gd2l0aG91dCB0aG9zZVxuICAgICAgICBsZXQgbmV3VG9wOiBFeHByZXNzaW9uID0gdG9wXG4gICAgICAgIGluQm90aC5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgaWYgKG5ld1RvcCBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBuZXdUb3AgPSBuZXdUb3Aud2l0aG91dChmKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdUb3AgPSBudW0oMSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgXG5cbiAgICAgICAgbGV0IG5ld0JvdHRvbTogRXhwcmVzc2lvbiA9IGJvdHRvbVxuICAgICAgICBpbkJvdGguZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIGlmIChuZXdCb3R0b20gaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgbmV3Qm90dG9tID0gbmV3Qm90dG9tLndpdGhvdXQoZilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3Qm90dG9tID0gbnVtKDEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIFxuXG4gICAgICAgIHJldHVybiBzZXRPZihuZXcgQXJndW1lbnQoc2V0T2YoZnJhYyksIHtcbiAgICAgICAgICAgIG46IGZyYWMsXG4gICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YobmV3VG9wLCBuZXdCb3R0b20pLFxuICAgICAgICB9LCBcIkRpdmlkZSB0b3AgYW5kIGJvdHRvbSBieSBzYW1lIHRoaW5nXCIsIFJVTEVfSUQpKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkRpdiB0b3AgYW5kIGJvdHRvbSBieSBzYW1lIHRoaW5nXCIiLCJpbXBvcnQgY29tbW9uIGZyb20gXCJtb2NoYS9saWIvaW50ZXJmYWNlcy9jb21tb25cIjtcbmltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCI7XG5pbXBvcnQgeyBmLCBuZWdhdGl2ZSwgbnVtLCBwcm9kdWN0T3JOb3QsIHN1bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIjtcbmltcG9ydCB7IGhhcywgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiO1xuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCI7XG5cbi8qKlxuICogSW4gYWxsIGNhc2VzLCBhbnkgY29tYmluZWQgZXhwb25lbnQgZmFjdG9ycyB3aWxsXG4gKiBiZSBwdXQgaW4gdGhlIG51bWVyYXRvci4gSXQncyBoYXJkIHRvIGtub3cgaWYgdGhleVxuICogd2lsbCBldmFsdWF0ZSB0byBiZSBuZWdhdGl2ZSBvciBub3QsIHNvIHdlJ2xsIHB1dCBcbiAqIHRoZW0gYWxsIGluIHRoZSBudW1lcmF0b3IgYW5kIGRlYWwgd2l0aCB0aGF0IGxhdGVyLlxuICogVE9ETzogTWF5YmUgd2UgY291bGQgaXRlcmF0ZSBvdmVyIHRoZSBncmFwaCBhZnRlciBpdCdzIFxuICogICAgICBkb25lIHRvIGdvIGJhY2sgYW5kIGZpeCB0aGlzPyBNYXliZSBpdCdzIHdvcnRoIHRoZSAyXm4gXG4gKiAgICAgIGFkZGVkIGNvbXBsZXhpdHkgdG8gY3JlYXRlIG5vZGVzIGZvciBldmVyeSBwb3NzaWJsZSBwbGFjZW1lbnRcbiAqICAgICAgdGhlbiBqdXN0IHBhdGhmaW5kIHRoZSBlYXNpZXN0P1xuICovXG5leHBvcnQgY2xhc3MgU3VidHJhY3RFeHBvbmVudHNPbkZyYWN0aW9ucyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIEZyYWN0aW9uXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGZyYWMgPSBleHAgYXMgRnJhY3Rpb25cbiAgICAgICAgY29uc3QgdG9wID0gZnJhYy5udW1lcmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0ID8gZnJhYy5udW1lcmF0b3IuZmFjdG9ycyA6IFtmcmFjLm51bWVyYXRvcl1cbiAgICAgICAgY29uc3QgYm90dG9tID0gZnJhYy5kZW5vbWluYXRvciBpbnN0YW5jZW9mIFByb2R1Y3QgPyBmcmFjLmRlbm9taW5hdG9yLmZhY3RvcnMgOiBbZnJhYy5kZW5vbWluYXRvcl1cblxuICAgICAgICAvLyBUcmVhdCBldmVyeSBmYWN0b3Igb2YgdG9wIGFuZCBib3R0b20gYXMgYW4gZXhwb25lbnRcbiAgICAgICAgZnVuY3Rpb24gYXNFeHBvbmVudChmOiBFeHByZXNzaW9uKTogRXhwb25lbnQge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuIGZcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIEV4cG9uZW50Lm9mKGYsIG51bSgxKSlcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b3BFeHBvbmVudHMgPSB0b3AubWFwPEV4cG9uZW50Pihhc0V4cG9uZW50KVxuICAgICAgICBjb25zdCBib3R0b21FeHBvbmVudHMgPSBib3R0b20ubWFwPEV4cG9uZW50Pihhc0V4cG9uZW50KVxuXG5cbiAgICAgICAgLy8gRmluZCB3aGF0IGJhc2VzIGFyZSBjb21tb25cbiAgICAgICAgY29uc3QgY29tbW9uQmFzZXMgPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcbiAgICAgICAgdG9wRXhwb25lbnRzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoaGFzKGJvdHRvbUV4cG9uZW50cy5tYXA8RXhwcmVzc2lvbj4oZSA9PiBlLmJhc2UpLCBlLmJhc2UpKSBjb21tb25CYXNlcy5hZGQoZS5iYXNlKVxuICAgICAgICB9KVxuICAgICAgICBib3R0b21FeHBvbmVudHMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGlmIChoYXModG9wRXhwb25lbnRzLm1hcDxFeHByZXNzaW9uPihlID0+IGUuYmFzZSksIGUuYmFzZSkpIGNvbW1vbkJhc2VzLmFkZChlLmJhc2UpXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGNvbW1vbkJhc2VzLnNpemUgPT0gMCkgcmV0dXJuIHNldE9mKClcblxuICAgICAgICBcbiAgICAgICAgLy8gU2VwYXJhdGUgZmFjdG9ycyB3aGljaCB3b24ndCBiZSBlZmZlY3RlZFxuICAgICAgICBjb25zdCB1bmVmZmVjdGVkVG9wRmFjdG9ycyA9IHRvcC5maWx0ZXIoIGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZi5iYXNlKVxuICAgICAgICAgICAgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZilcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgdW5lZmZlY3RlZEJvdHRvbUZhY3RvcnMgPSBib3R0b20uZmlsdGVyKCBmID0+IHtcbiAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgRXhwb25lbnQpIHJldHVybiAhY29tbW9uQmFzZXMuaGFzKGYuYmFzZSlcbiAgICAgICAgICAgIHJldHVybiAhY29tbW9uQmFzZXMuaGFzKGYpXG4gICAgICAgIH0pXG5cbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmQgYWxsIHRoZSB0ZXJtcyBmb3IgZWFjaCBiYXNlXG4gICAgICAgIC8vIFJlbWVtYmVyIHRoYXQgdGhlIGZpbmFsIGV4cG9uZW50IHdpbGwgYmUgaW4gdGhlIG51bWVyYXRvclxuICAgICAgICBjb25zdCBleHBvbmVudFRlcm1zID0gbmV3IE1hcDxFeHByZXNzaW9uLCBFeHByZXNzaW9uW10+KClcbiAgICAgICAgdG9wRXhwb25lbnRzLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbW1vbkJhc2VzLmhhcyhlLmJhc2UpKSByZXR1cm5cbiAgICAgICAgICAgIGlmICghZXhwb25lbnRUZXJtcy5oYXMoZS5iYXNlKSkge1xuICAgICAgICAgICAgICAgIGV4cG9uZW50VGVybXMuc2V0KGUuYmFzZSwgW10pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHBvbmVudFRlcm1zLmdldChlLmJhc2UpIS5wdXNoKGUucG93ZXIpXG4gICAgICAgIH0pXG4gICAgICAgIGJvdHRvbUV4cG9uZW50cy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb21tb25CYXNlcy5oYXMoZS5iYXNlKSkgcmV0dXJuXG4gICAgICAgICAgICBpZiAoIWV4cG9uZW50VGVybXMuaGFzKGUuYmFzZSkpIHtcbiAgICAgICAgICAgICAgICBleHBvbmVudFRlcm1zLnNldChlLmJhc2UsIFtdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmVnYXRpdmUgYmMgd2UncmUgcHV0dGluZyB0aGVzZSBpbiB0aGUgbnVtZXJhdG9yXG4gICAgICAgICAgICBleHBvbmVudFRlcm1zLmdldChlLmJhc2UpIS5wdXNoKG5lZ2F0aXZlKGUucG93ZXIpKVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0aW5nVG9wRXhwb25lbnRzOiBFeHBvbmVudFtdID0gW11cbiAgICAgICAgZXhwb25lbnRUZXJtcy5mb3JFYWNoKChwb3dlclRlcm1zLCBiYXNlKSA9PiB7XG4gICAgICAgICAgICByZXN1bHRpbmdUb3BFeHBvbmVudHMucHVzaChFeHBvbmVudC5vZihiYXNlLCBzdW0oLi4ucG93ZXJUZXJtcykpKVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmICh1bmVmZmVjdGVkQm90dG9tRmFjdG9ycy5sZW5ndGggPT0gMCkgdW5lZmZlY3RlZEJvdHRvbUZhY3RvcnMucHVzaChudW0oMSkpXG5cblxuICAgICAgICByZXR1cm4gc2V0T2YobmV3IEFyZ3VtZW50KHNldE9mKGZyYWMpLCB7XG4gICAgICAgICAgICBuOiBmcmFjLFxuICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgbjE6IEZyYWN0aW9uLm9mKHByb2R1Y3RPck5vdCguLi5yZXN1bHRpbmdUb3BFeHBvbmVudHMsIC4uLnVuZWZmZWN0ZWRUb3BGYWN0b3JzKSwgcHJvZHVjdE9yTm90KC4uLnVuZWZmZWN0ZWRCb3R0b21GYWN0b3JzKSksXG4gICAgICAgIH0sIFwiU3VtIGV4cG9uZW50cyBpbiBib3RoIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3JcIiwgUlVMRV9JRCkpXG4gICAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJTdW0gZXhwb25lbnRzIGluIG51bSBhbmQgZGVuIGluIGZyYWN0aW9uc1wiIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IG51bSwgcHJvZHVjdCwgcHJvZHVjdEFuZE5vdFRpbWVzT25lLCBwcm9kdWN0T3JOb3QsIHN1bUludHVpdGl2ZSwgc3VtT3JOb3QgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCI7XG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCI7XG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCI7XG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIjtcbmltcG9ydCB7IFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZSB9IGZyb20gXCIuLi9SZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGVcIjtcblxuLyoqXG4gKiBUYWtlcyBzdW1zIG9mIHNldmVyYWwgYWRkZWQgcHJvZHVjdHMgYW5kIGNvbWJpbmVzIG9uZXMgdGhhdCBvbmx5XG4gKiBoYXZlIGRpZmZlcmVudCBjb2VmZmljaWVudHMuXG4gKiBcbiAqIGEgKyAyYSA9IDNhXG4gKiBhIC0gMmEgPSAtMWFcbiAqL1xuZXhwb3J0IGNsYXNzIFN1bUNvZWZmaWNpZW50c09mQWRkZWRUZXJtcyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFN1bVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCB0ZXJtcyA9IChleHAgYXMgU3VtKS50ZXJtc1xuXG4gICAgICAgIC8vIFNwbGl0IHRoZSB0ZXJtcyBpbnRvIHByb2R1Y3QgYW5kIG5vdCBwcm9kdWN0c1xuICAgICAgICBjb25zdCBwcm9kdWN0VGVybXM6IFByb2R1Y3RbXSA9IFtdXG4gICAgICAgIGNvbnN0IG5vblByb2R1Y3RUZXJtczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgZm9yIChjb25zdCB0ZXJtIG9mIHRlcm1zKSB7XG4gICAgICAgICAgICBpZiAodGVybSBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgdGVybS5mYWN0b3JzWzBdIGluc3RhbmNlb2YgSW50ZWdlcikge1xuICAgICAgICAgICAgICAgIHByb2R1Y3RUZXJtcy5wdXNoKHRlcm0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vblByb2R1Y3RUZXJtcy5wdXNoKHRlcm0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb3J0IHRoZSBwcm9kdWN0IHRlcm1zIGludG8gZ3JvdXBzIG9mIGNvbW1vbiBmYWN0b3JzXG4gICAgICAgIGNvbnN0IGdyb3VwczogTWFwPEV4cHJlc3Npb24sIHtjb2VmZmljaWVudDogbnVtYmVyLCBtb3JlVGhhbk9uZTogYm9vbGVhbn0+ID0gbmV3IE1hcCgpXG4gICAgICAgIGZvciAoY29uc3QgdGVybSBvZiBwcm9kdWN0VGVybXMpIHtcblxuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSB0ZXJtLmZhY3RvcnNbMF0gYXMgSW50ZWdlclxuICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi50ZXJtLmZhY3RvcnNdXG4gICAgICAgICAgICB0ZW1wLnNwbGljZSgwLCAxKVxuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBwcm9kdWN0T3JOb3QoLi4udGVtcClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFncm91cHMuaGFzKGdyb3VwKSkgZ3JvdXBzLnNldChncm91cCwge2NvZWZmaWNpZW50OiBmaXJzdC52YWx1ZSwgbW9yZVRoYW5PbmU6IGZhbHNlfSlcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy5nZXQoZ3JvdXApIS5jb2VmZmljaWVudCArPSBmaXJzdC52YWx1ZVxuICAgICAgICAgICAgICAgIGdyb3Vwcy5nZXQoZ3JvdXApIS5tb3JlVGhhbk9uZSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cblxuICAgICAgICAvLyBGb3IgZXZlcnkgZ3JvdXAgd2l0aCBtb3JlIHRoYW4gb25lIHByb2R1Y3QsIHByb2R1Y2UgYSBuZXcgYXJndW1lbnRcbiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IFNldDxBcmd1bWVudD4oKVxuICAgICAgICBncm91cHMuZm9yRWFjaCgob2JqLCBncm91cCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFvYmoubW9yZVRoYW5PbmUpIHJldHVyblxuXG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0VGVybXNOb3RDb21iaW5lZCA9IHByb2R1Y3RUZXJtcy5maWx0ZXIodCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi50LmZhY3RvcnNdXG4gICAgICAgICAgICAgICAgdGVtcC5zcGxpY2UoMCwgMSlcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtV2l0aG91dExlYWRpbmdDb2VmZmljaWVudCA9IHByb2R1Y3RPck5vdCguLi50ZW1wKVxuICAgICAgICAgICAgICAgIHJldHVybiBncm91cCAhPT0gdGVybVdpdGhvdXRMZWFkaW5nQ29lZmZpY2llbnRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG91dC5hZGQobmV3IEFyZ3VtZW50KHNldE9mKGV4cCksIHtcbiAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgIG4xOiBzdW1Pck5vdChwcm9kdWN0QW5kTm90VGltZXNPbmUobnVtKG9iai5jb2VmZmljaWVudCksIGdyb3VwKSwgLi4ubm9uUHJvZHVjdFRlcm1zLCAuLi5wcm9kdWN0VGVybXNOb3RDb21iaW5lZClcbiAgICAgICAgICAgIH0sXCJDb21iaW5pbmcgbGlrZSB0ZXJtc1wiLCBSVUxFX0lEKSlcbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlN1bUNvZWZmaWNpZW50cyBvZiBhZGRlZCB0ZXJtc1wiIiwiaW1wb3J0IHsgVmFyaWFibGVWYWx1ZU1hcCB9IGZyb20gXCIuLi9WYXJpYWJsZVZhbHVlTWFwXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuL0ludGVnZXJcIjtcbmltcG9ydCB7IFByb2R1Y3QsIFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IHsgU3VtVHlwZSB9IGZyb20gXCIuL1N1bVwiO1xuXG4vKipcbiAqIFxuICovXG5leHBvcnQgY2xhc3MgRGVyaXZhdGl2ZSBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2YoZXhwOiBFeHByZXNzaW9uLCByZWxhdGl2ZVRvOiBFeHByZXNzaW9uKTogRGVyaXZhdGl2ZSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBleHAuaGFzaCArIHJlbGF0aXZlVG8uaGFzaFxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzLmhhcyhoYXNoKSlcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnNldChoYXNoLCBuZXcgRGVyaXZhdGl2ZShleHAsIHJlbGF0aXZlVG8pKVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIERlcml2YXRpdmU+ID0gbmV3IE1hcCgpO1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoZXhwOiBFeHByZXNzaW9uLCByZWxhdGl2ZVRvOiBFeHByZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5leHAgPSBleHBcbiAgICAgICAgdGhpcy5yZWxhdGl2ZVRvID0gcmVsYXRpdmVUb1xuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuZXhwKVxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMucmVsYXRpdmVUbylcbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IGZhbHNlIC8vVE9ETzogRGV0ZXJtaW5lIGlmIGEgZGVyaXZhdGl2ZSBpcyByZWR1Y2libGVcbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gZmFsc2UgLy8gVE9ETzogRGV0ZXJtaW5lIGlmIGEgZGVyaXZhdGl2ZSBpcyBjb25zdGFudFxuICAgICAgICB0aGlzLmNoaWxkQ291bnQgPSAyICsgZXhwLmNoaWxkQ291bnQgKyByZWxhdGl2ZVRvLmNoaWxkQ291bnRcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhwOiBFeHByZXNzaW9uO1xuICAgIHB1YmxpYyByZWFkb25seSByZWxhdGl2ZVRvOiBFeHByZXNzaW9uO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuO1xuICAgIHB1YmxpYyByZWFkb25seSBjbGFzczogc3RyaW5nID0gRGVyaXZhdGl2ZVR5cGU7XG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImQvZFwiICsgdGhpcy5yZWxhdGl2ZVRvLnRvU3RyaW5nKCkgKyBcIihcIiArIHRoaXMuZXhwLnRvU3RyaW5nKCkgKyBcIilcIlxuICAgIH1cblxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIihkL2RcIiArIHRoaXMucmVsYXRpdmVUby50b1VuYW1iaWdpb3VzU3RyaW5nKCkgKyBcIilcIiArIHRoaXMuZXhwLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKVxuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3MgKyB0aGlzLmV4cC5oYXNoICsgdGhpcy5yZWxhdGl2ZVRvLmhhc2hcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIGZ1bmN0aW9uIHdyYXBJZk5lZWRlZChleHA6IEV4cHJlc3Npb24pOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKGV4cC5jbGFzcyA9PSBTdW1UeXBlIHx8IGV4cC5jbGFzcyA9PSBQcm9kdWN0VHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8bW8+KDwvbW8+XCIgKyBleHAudG9NYXRoWE1MKCkgKyBcIjxtbz4pPC9tbz5cIlxuICAgICAgICAgICAgcmV0dXJuIGV4cC50b01hdGhYTUwoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIjxtZnJhYz48bW4+ZDwvbW4+PG1yb3c+PG1uPmQ8L21uPlwiICsgd3JhcElmTmVlZGVkKHRoaXMucmVsYXRpdmVUbykgKyBcIjwvbXJvdz48L21mcmFjPlwiICsgd3JhcElmTmVlZGVkKHRoaXMuZXhwKVxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICAvLyBNYXliZSBsYXRlclxuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyXG59XG5cbmV4cG9ydCBjb25zdCBEZXJpdmF0aXZlVHlwZSA9IFwiRGVyaXZhdGl2ZVwiIiwiaW1wb3J0IHsgaW5QYXJlbiwgaW5Sb3cgfSBmcm9tIFwiLi4vdXRpbC9NYXRoTUxIZWxwZXJzXCI7XG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBGcmFjdGlvblR5cGUgfSBmcm9tIFwiLi9GcmFjdGlvblwiO1xuaW1wb3J0IHsgSW50ZWdlciwgSW50ZWdlclR5cGUgfSBmcm9tIFwiLi9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0VHlwZSB9IGZyb20gXCIuL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFN1bVR5cGUgfSBmcm9tIFwiLi9TdW1cIjtcblxuXG5leHBvcnQgY2xhc3MgRXhwb25lbnQgZXh0ZW5kcyBFeHByZXNzaW9uIHtcbiAgICBwdWJsaWMgc3RhdGljIG9mKGJhc2U6IEV4cHJlc3Npb24sIHBvd2VyOiBFeHByZXNzaW9uKTogRXhwb25lbnQge1xuICAgICAgICBjb25zdCBoYXNoID0gYmFzZS5oYXNoICsgcG93ZXIuaGFzaFxuICAgICAgICBpZiAoIUV4cG9uZW50Lmluc3RhbmNlcy5oYXMoaGFzaCkpIHtcbiAgICAgICAgICAgIEV4cG9uZW50Lmluc3RhbmNlcy5zZXQoaGFzaCwgbmV3IEV4cG9uZW50KGJhc2UsIHBvd2VyKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRXhwb25lbnQuaW5zdGFuY2VzLmdldChoYXNoKSFcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzID0gbmV3IE1hcDxzdHJpbmcsIEV4cG9uZW50PigpXG5cbiAgICBwdWJsaWMgY2xhc3M6IHN0cmluZyA9IEV4cG9uZW50VHlwZTtcbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIGZ1bmN0aW9uIHdyYXBJZk5lZWRlZChleHA6IEV4cHJlc3Npb24pOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKGV4cC5jbGFzcyA9PSBTdW1UeXBlIHx8IGV4cC5jbGFzcyA9PSBQcm9kdWN0VHlwZSB8fCBleHAuY2xhc3MgPT0gRnJhY3Rpb25UeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBpblJvdyhpblBhcmVuKGV4cC50b01hdGhYTUwoKSkpXG4gICAgICAgICAgICByZXR1cm4gZXhwLnRvTWF0aFhNTCgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiPG1zdXA+XCIgKyB3cmFwSWZOZWVkZWQodGhpcy5iYXNlKSArIGluUm93KHRoaXMucG93ZXIudG9NYXRoWE1MKCkpICsgXCI8L21zdXA+XCJcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIihcIiArIHRoaXMuYmFzZSArIFwiKV4oXCIgKyB0aGlzLnBvd2VyICsgXCIpXCJcbiAgICB9XG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiKFwiICsgdGhpcy5iYXNlICsgXCIpXihcIiArIHRoaXMucG93ZXIgKyBcIilcIlxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJQb3dcIit0aGlzLmJhc2UuaGFzaCt0aGlzLnBvd2VyLmhhc2hcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHRoaXMuYmFzZS5ldmFsdWF0ZSh2YWx1ZXMpLCB0aGlzLnBvd2VyLmV2YWx1YXRlKHZhbHVlcykpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoYmFzZTogRXhwcmVzc2lvbiwgcG93ZXI6IEV4cHJlc3Npb24pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlXG4gICAgICAgIHRoaXMucG93ZXIgPSBwb3dlclxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuYmFzZSlcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLnBvd2VyKVxuICAgICAgICAvLyBUaGUgaW50ZWdlcnMgYXJlIGNsb3NlZCBvdmVyIGV4cG9uZW50aWF0aW9uXG4gICAgICAgIHRoaXMuaXNSZWR1Y2libGUgPSAoYmFzZS5pc1JlZHVjaWJsZU9ySW50KSAmJiAocG93ZXIuaXNSZWR1Y2libGVPckludCkvLyAmJiBNYXRoLnBvdyhiYXNlLnJlZHVjZWQudmFsdWUsIHBvd2VyLnJlZHVjZWQudmFsdWUpICUgMSA9PSAwXG4gICAgICAgIHRoaXMuaXNDb25zdGFudCA9IGJhc2UuaXNDb25zdGFudCAmJiBwb3dlci5pc0NvbnN0YW50XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBiYXNlLmNoaWxkQ291bnQgKyBwb3dlci5jaGlsZENvdW50XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyByZWFkb25seSBiYXNlOiBFeHByZXNzaW9uO1xuICAgIHB1YmxpYyByZWFkb25seSBwb3dlcjogRXhwcmVzc2lvbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyO1xufSBcblxuZXhwb3J0IGNvbnN0IEV4cG9uZW50VHlwZSA9IFwiRXhwb25lbnRcIiIsImltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi4vTWF0aEdyYXBoTm9kZVwiO1xuaW1wb3J0IHsgVmFyaWFibGVWYWx1ZU1hcCB9IGZyb20gXCIuLi9WYXJpYWJsZVZhbHVlTWFwXCI7XG5pbXBvcnQgeyBJbnRlZ2VyLCBJbnRlZ2VyVHlwZSB9IGZyb20gXCIuL0ludGVnZXJcIjtcbmltcG9ydCB7IE1hdGhFbGVtZW50IH0gZnJvbSBcIi4vTWF0aEVsZW1lbnRcIjtcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4vVmFyaWFibGVcIjtcblxuLyoqXG4gKiBCYXNlIG9mIGFsbCBtYXRoZW1hdGljYWwgZXhwcmVzc2lvbnMuXG4gKiBBbGwgY2hpbGRyZW4gc2hvdWxkIGltcGxlbWVudCBmbHktd2hlZWwgcGF0dGVybi5cbiAqIEFsbCBjaGlsZHJlbiBzaG91bGQgYmUgaW1tdXRhYmxlLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRXhwcmVzc2lvbiBleHRlbmRzIE1hdGhHcmFwaE5vZGUgaW1wbGVtZW50cyBNYXRoRWxlbWVudCB7XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgdG9NYXRoWE1MKCk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIGV4cHJlc3Npb24gY291bGQgYmUgd3JpdHRlbiBhcyBhbiBcbiAgICAgKiBpbnRlZ2VyIGJ1dCBpc24ndC5cbiAgICAgKiBcbiAgICAgKiBSZWR1Y2libGU6XG4gICAgICogMiArIDIgLT4gNFxuICAgICAqIDJeNCAtPiAzMlxuICAgICAqIDQvMiAtPiAyXG4gICAgICogXG4gICAgICogTm90IFJlZHVjaWJsZTpcbiAgICAgKiAxXG4gICAgICogNC8zXG4gICAgICogc3FydCgyKVxuICAgICAqIHBpXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIGV4cHJlc3Npb24gaXMgcmVkdWNpYmxlIG9yIGlzIGFuIGludGVnZXIuXG4gICAgICovXG4gICAgcHVibGljIGdldCBpc1JlZHVjaWJsZU9ySW50KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1JlZHVjaWJsZSB8fCB0aGlzLmNsYXNzID09IEludGVnZXJUeXBlXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFzcyBuYW1lIG9mIHRoZSBleHByZXNzaW9uLlxuICAgICAqIEZvciByZWZsZWN0aW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBjbGFzczogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBkZWJ1ZyBzdHJpbmcgdGhhdCBhZGVxdWF0ZWx5IGNvbW11bmljYXRlc1xuICAgICAqIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCB0b1N0cmluZygpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhIHN0cmluZyB3aGljaCBpcyBleGFjdGx5IHdoYXQncyBuZWNlc3NhcnlcbiAgICAgKiB0byBjb21tdW5pY2F0ZSB1bmFtZ2lnaW91c2x5IHRoZSBjb250ZW50IG9mIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgc3RyaW5nIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyBcbiAgICAgKiB0aGUgZXhwcmVzc2lvbidzIHR5cGUgYW5kIHZhbHVlcyBzdWNoIHRoYXRcbiAgICAgKiAxLiBubyB0d28gc3ViY2xhc3NlcyBvZiBleHByZXNzaW9uIGNvdWxkIHByb2R1Y2VcbiAgICAgKiB0aGUgc2FtZSBrZXlcbiAgICAgKiAyLiBBbGwgaW5zdGFuY2VzIG9mIGV4cHJlc3Npb24gd2l0aCBlcXVhbCB2YWx1ZXMgXG4gICAgICogaGF2ZSB0aGUgc2FtZSBrZXlcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0IGhhc2goKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGlzIGV4cHJlc3Npb24gY29udGFpbnMgbm8gdmFyaWFibGVzLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGl2ZSBpbnRlZ2VyIHJlcHJlc2VudGluZyB0aGUgY29tcGxleGl0eSBvZiB0aGUgZXhwcmVzc2lvblxuICAgICAqIGluY2x1ZGluZyBpdHMgY29tcG9zaW5nIGVsZW1lbnRzLiBFcXVhbHMgbnVtYmVyIG9mIGNoaWxkcmVuXG4gICAgICogIHBsdXMgdGhlIHRvdGFsIGNvbXBsZXhpdHkgb2YgYWxsIGNoaWxkcmVuLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXJcblxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlIHRoZSBleHByZXNzaW9uIHJlY3Vyc2l2ZWx5IHN1YnN0aXR1dGluZyBhbnkgdmFyaWFibGVzXG4gICAgICogd2l0aCB0aGUgc3VwcGxpZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBzdWJzdGl0dXRlIHZhcmlhYmxlcyB3aXRoIHdoZW5cbiAgICAgKiAgICAgICAgICBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXI7XG59IiwiaW1wb3J0IHsgVmFyaWFibGVWYWx1ZU1hcCB9IGZyb20gXCIuLi9WYXJpYWJsZVZhbHVlTWFwXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuL0ludGVnZXJcIjtcblxuZXhwb3J0IGNsYXNzIEZyYWN0aW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG4gICAgcHVibGljIHN0YXRpYyBvZihudW1lcmF0b3I6IEV4cHJlc3Npb24sIGRlbm9taW5hdG9yOiBFeHByZXNzaW9uKTogRnJhY3Rpb24ge1xuICAgICAgICBjb25zdCBoYXNoID0gbnVtZXJhdG9yLmhhc2ggKyBkZW5vbWluYXRvci5oYXNoXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZS5oYXMoaGFzaCkpXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLnNldChoYXNoLCBuZXcgRnJhY3Rpb24obnVtZXJhdG9yLCBkZW5vbWluYXRvcikpXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlLmdldChoYXNoKSFcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IE1hcDxzdHJpbmcsIEZyYWN0aW9uPiA9IG5ldyBNYXAoKVxuICAgIHByaXZhdGUgY29uc3RydWN0b3IobnVtOiBFeHByZXNzaW9uLCBkZW5vbTogRXhwcmVzc2lvbikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMubnVtZXJhdG9yID0gbnVtXG4gICAgICAgIHRoaXMuZGVub21pbmF0b3IgPSBkZW5vbVxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMubnVtZXJhdG9yKVxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuZGVub21pbmF0b3IpXG5cbiAgICAgICAgLypcbiAgICAgICAgQSBmcmFjdGlvbiBpcyByZWR1Y2libGUgaWYgdGhlIGRlbm9tIHwgbnVtLlxuICAgICAgICAgICAgPD0+IG51bSA9IGsgKiBkZW5vbSB3aGVyZSBrIGlzIGFuIGludGVnZXIuXG5cbiAgICAgICAgVGhpcyBtYWtlcyBwcm92aW5nIHJlZHVjaWJpbGl0eSBoYXJkLlxuICAgICAgICBUT0RPOiBEZWNpZGUgaWYgaXQncyB3b3J0aCBpbXBsZW1lbnRpbmcgcmVkdWNpYmlsaXR5IGZvciBGcmFjdGlvbnNcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IGZhbHNlXG4gICAgICAgIHRoaXMuaXNDb25zdGFudCA9IG51bS5pc0NvbnN0YW50ICYmIGRlbm9tLmlzQ29uc3RhbnRcbiAgICAgICAgdGhpcy5jaGlsZENvdW50ID0gMiArIG51bS5jaGlsZENvdW50ICsgZGVub20uY2hpbGRDb3VudFxuICAgIH1cbiAgICBwdWJsaWMgcmVhZG9ubHkgbnVtZXJhdG9yOiBFeHByZXNzaW9uXG4gICAgcHVibGljIHJlYWRvbmx5IGRlbm9taW5hdG9yOiBFeHByZXNzaW9uXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW47XG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBGcmFjdGlvblR5cGU7XG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bWVyYXRvci50b1N0cmluZygpICsgXCIgLyBcIiArIHRoaXMuZGVub21pbmF0b3IudG9TdHJpbmcoKVxuICAgIH1cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYCgke3RoaXMubnVtZXJhdG9yLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKX0pLygke3RoaXMuZGVub21pbmF0b3IudG9VbmFtYmlnaW91c1N0cmluZygpfSlgXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gRnJhY3Rpb25UeXBlICsgdGhpcy5udW1lcmF0b3IuaGFzaCArIHRoaXMuZGVub21pbmF0b3IuaGFzaFxuICAgIH1cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhbjtcbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIjxtZnJhYz48bXJvdz5cIiArIHRoaXMubnVtZXJhdG9yLnRvTWF0aFhNTCgpICsgXCI8L21yb3c+PG1yb3c+XCIgKyB0aGlzLmRlbm9taW5hdG9yLnRvTWF0aFhNTCgpICsgXCI8L21yb3c+PC9tZnJhYz5cIlxuICAgIH1cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtZXJhdG9yLmV2YWx1YXRlKHZhbHVlcykgLyB0aGlzLmRlbm9taW5hdG9yLmV2YWx1YXRlKHZhbHVlcyk7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXJcblxufVxuXG5leHBvcnQgY29uc3QgRnJhY3Rpb25UeXBlID0gXCJGcmFjdGlvblwiIiwiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL3V0aWwvYXNzZXJ0XCI7XG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5cbi8qKlxuICogSW50ZWdlclxuICogUG9zaXRpdmUgb3IgbmVnYXRpdmVcbiAqL1xuZXhwb3J0IGNsYXNzIEludGVnZXIgZXh0ZW5kcyBFeHByZXNzaW9uIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgb2YodmFsdWU6IG51bWJlcik6IEludGVnZXIge1xuICAgICAgICBpZiAoIUludGVnZXIuaW5zdGFuY2VzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIEludGVnZXIuaW5zdGFuY2VzLnNldCh2YWx1ZSwgbmV3IEludGVnZXIodmFsdWUpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJbnRlZ2VyLmluc3RhbmNlcy5nZXQodmFsdWUpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxudW1iZXIsIEludGVnZXI+ID0gbmV3IE1hcCgpO1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcih2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gICAgICAgIGFzc2VydCh0aGlzLnZhbHVlICUgMSA9PSAwLCBcIkNyZWF0aW5nIG5vbi1pbnRlZ2VyIGludGVnZXIgXCIgKyB0aGlzLnZhbHVlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEEgcG9zaXRpdmUgdmVyc2lvbiBvZiB0aGlzIGludGVnZXIuXG4gICAgICovXG4gICAgcHVibGljIGJ1dFBvc2l0aXZlKCk6IEludGVnZXIge1xuICAgICAgICByZXR1cm4gSW50ZWdlci5vZihNYXRoLmFicyh0aGlzLnZhbHVlKSlcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xhc3M6IHN0cmluZyA9IEludGVnZXJUeXBlXG4gICAgcHVibGljIHRvTWF0aFhNTCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCI8bW4+XCIgKyB0aGlzLnZhbHVlICsgXCI8L21uPlwiXG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlwiICsgdGhpcy52YWx1ZVxuICAgIH1cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJcIiArIHRoaXMudmFsdWVcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiSW50XCIgKyB0aGlzLnZhbHVlXG4gICAgfVxuXG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogbnVtYmVyO1xuICAgIHB1YmxpYyByZWFkb25seSBpc1JlZHVjaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzQ29uc3RhbnQgPSB0cnVlO1xuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50ID0gMFxuICAgIFxufVxuXG5leHBvcnQgY29uc3QgSW50ZWdlclR5cGUgPSBcIkludGVnZXJcIiIsImltcG9ydCB7IGluUGFyZW4gfSBmcm9tIFwiLi4vdXRpbC9NYXRoTUxIZWxwZXJzXCI7XG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4vSW50ZWdlclwiO1xuaW1wb3J0IHsgUHJvZHVjdFR5cGUgfSBmcm9tIFwiLi9Qcm9kdWN0XCI7XG5pbXBvcnQgeyBTdW1UeXBlIH0gZnJvbSBcIi4vU3VtXCI7XG5cblxuLyoqXG4gKiBBbiBpbmRlZmluYXRlIGludGVncmFsIChmb3Igbm93KS5cbiAqIFRPRE86IFNob3VsZCB3ZSBzZXBhcmF0ZSBkZWZpbmF0ZS9pbmRlZmluYXRlIGludGVncmFscz9cbiAqL1xuZXhwb3J0IGNsYXNzIEludGVncmFsIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG4gICAgcHVibGljIHN0YXRpYyBvZihpbnRlZ3JhbmQ6IEV4cHJlc3Npb24sIHJlbGF0aXZlVG86IEV4cHJlc3Npb24pOiBJbnRlZ3JhbCB7XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZXMuaGFzKGludGVncmFuZC5oYXNoICsgcmVsYXRpdmVUby5oYXNoKSlcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnNldChpbnRlZ3JhbmQuaGFzaCArIHJlbGF0aXZlVG8uaGFzaCwgbmV3IEludGVncmFsKGludGVncmFuZCwgcmVsYXRpdmVUbykpXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlcy5nZXQoaW50ZWdyYW5kLmhhc2ggKyByZWxhdGl2ZVRvLmhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIEludGVncmFsPiA9IG5ldyBNYXAoKVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihpbnRlZ3JhbmQ6IEV4cHJlc3Npb24sIHJlbGF0aXZlVG86IEV4cHJlc3Npb24pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmludGVncmFuZCA9IGludGVncmFuZFxuICAgICAgICB0aGlzLnJlbGF0aXZlVG8gPSByZWxhdGl2ZVRvXG5cbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmludGVncmFuZClcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLnJlbGF0aXZlVG8pXG5cbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IGZhbHNlXG4gICAgICAgIHRoaXMuaXNDb25zdGFudCA9IGZhbHNlXG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBpbnRlZ3JhbmQuY2hpbGRDb3VudCArIHJlbGF0aXZlVG8uY2hpbGRDb3VudFxuICAgIH1cbiAgICBwdWJsaWMgcmVhZG9ubHkgaW50ZWdyYW5kOiBFeHByZXNzaW9uXG4gICAgcHVibGljIHJlYWRvbmx5IHJlbGF0aXZlVG86IEV4cHJlc3Npb25cblxuICAgIHB1YmxpYyByZWFkb25seSBpc1JlZHVjaWJsZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhc3M6IHN0cmluZyA9IEludGVncmFsVHlwZTtcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwi4oirXCIgKyB0aGlzLmludGVncmFuZC50b1N0cmluZygpXG4gICAgfVxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIuKIqyhcIiArIHRoaXMuaW50ZWdyYW5kLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSArIFwiKVwiK3RoaXMucmVsYXRpdmVUby50b1VuYW1iaWdpb3VzU3RyaW5nKClcbiAgICB9XG4gICAgcHVibGljIGdldCBoYXNoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIuKIq1wiICsgdGhpcy5pbnRlZ3JhbmQudG9TdHJpbmcoKSArIHRoaXMucmVsYXRpdmVUby50b1N0cmluZygpXG4gICAgfVxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuO1xuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFN1bVR5cGUgfHwgZXhwLmNsYXNzID09IFByb2R1Y3RUeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBpblBhcmVuKGV4cC50b01hdGhYTUwoKSlcbiAgICAgICAgICAgIHJldHVybiBleHAudG9NYXRoWE1MKClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBcIjxtcm93Pjxtbz7iiKs8L21vPlwiICsgd3JhcElmTmVlZGVkKHRoaXMuaW50ZWdyYW5kKSArIFwiPG1uPmQ8L21uPlwiICsgd3JhcElmTmVlZGVkKHRoaXMucmVsYXRpdmVUbykgKyBcIjwvbXJvdz5cIlxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICAvLyBOYWggZnVjayB0aGlzIGJyb1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cblxuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXI7XG5cbn1cblxuZXhwb3J0IGNvbnN0IEludGVncmFsVHlwZSA9IFwiSW50ZWdyYWxcIiIsImltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIjtcblxuXG5leHBvcnQgY2xhc3MgTG9nYXJpdGhtIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG5cbiAgICBwdWJsaWMgc3RhdGljIG9mKGV4cDogRXhwcmVzc2lvbiwgYmFzZTogRXhwcmVzc2lvbik6IExvZ2FyaXRobSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBleHAuaGFzaCArIGJhc2UuaGFzaFxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzLmhhcyhoYXNoKSlcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnNldChoYXNoLCBuZXcgTG9nYXJpdGhtKGV4cCwgYmFzZSkpXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlcy5nZXQoaGFzaCkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogTWFwPHN0cmluZywgTG9nYXJpdGhtPiA9IG5ldyBNYXAoKTtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGV4cDogRXhwcmVzc2lvbiwgYmFzZTogRXhwcmVzc2lvbikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuZXhwID0gZXhwXG4gICAgICAgIHRoaXMuYmFzZSA9IGJhc2VcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmV4cClcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmJhc2UpXG4gICAgICAgIHRoaXMuaXNSZWR1Y2libGUgPSBmYWxzZSAvL1RPRE86IERldGVybWluZSBpZiBhIGxvZ2FyaXRobSBpcyByZWR1Y2libGVcbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gZXhwLmlzQ29uc3RhbnQgJiYgYmFzZS5pc0NvbnN0YW50XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBleHAuY2hpbGRDb3VudCArIGJhc2UuY2hpbGRDb3VudFxuICAgIH1cblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGA8bXJvdz5cbiAgICAgICAgICAgIDxtc3ViPjxtdGV4dD5sb2c8L210ZXh0PiR7dGhpcy5iYXNlLnRvTWF0aFhNTCgpfTwvbXN1Yj5cbiAgICAgICAgICAgIDxtcm93PiR7dGhpcy5leHAudG9NYXRoWE1MKCl9PC9tcm93PlxuICAgICAgICA8L3Jvdz5gXG4gICAgfVxuICAgIHB1YmxpYyBpc1JlZHVjaWJsZTogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhc3M6IHN0cmluZyA9IExvZ1R5cGU7XG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgbG9nJHt0aGlzLmJhc2UudG9TdHJpbmcoKX0oJHt0aGlzLmV4cC50b1N0cmluZygpfSlgXG4gICAgfVxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgbG9nKCR7dGhpcy5iYXNlLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKX0pKCR7dGhpcy5leHAudG9VbmFtYmlnaW91c1N0cmluZygpfSlgXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLmxvZyh0aGlzLmV4cC5ldmFsdWF0ZSh2YWx1ZXMpKSAvIE1hdGgubG9nKHRoaXMuYmFzZS5ldmFsdWF0ZSh2YWx1ZXMpKVxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhbjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyO1xuICAgIFxuICAgIHB1YmxpYyByZWFkb25seSBleHA6IEV4cHJlc3Npb25cbiAgICBwdWJsaWMgcmVhZG9ubHkgYmFzZTogRXhwcmVzc2lvblxufVxuXG5leHBvcnQgY29uc3QgTG9nVHlwZSA9IFwiTG9nYXJpdGhtXCIiLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIjtcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiO1xuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi9FeHBvbmVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIsIEludGVnZXJUeXBlIH0gZnJvbSBcIi4vSW50ZWdlclwiO1xuaW1wb3J0IHsgU3VtVHlwZSB9IGZyb20gXCIuL1N1bVwiO1xuaW1wb3J0IHsgVmFyaWFibGUgfSBmcm9tIFwiLi9WYXJpYWJsZVwiO1xuXG4vKipcbiAqIEEgbWF0aGVtYXRpY2FsIHByb2R1Y3Qgd2l0aCAyIG9yIG1vcmUgZmFjdG9ycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb2R1Y3QgZXh0ZW5kcyBFeHByZXNzaW9uIHtcbiAgICAvKipcbiAgICAgKiBGb3IgZWZmaWNpZW5jeSwgcHJvZHVjdHMgYXJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZS5cbiAgICAgKiBIZXJlIHdlIGVuc3VyZSA9PT0gPD0+ID09XG4gICAgICogQHBhcmFtIGZhY3RvcnMgXG4gICAgICogQHJldHVybnMgXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBvZihmYWN0b3JzOiBFeHByZXNzaW9uW10pOiBQcm9kdWN0IHtcbiAgICAgICAgY29uc3QgaGFzaCA9IGZhY3RvcnMubWFwPHN0cmluZz4oZSA9PiBlLmhhc2gpLmpvaW4oXCJcIilcbiAgICAgICAgaWYgKCFQcm9kdWN0Lmluc3RhbmNlcy5oYXMoaGFzaCkpXG4gICAgICAgICAgICBQcm9kdWN0Lmluc3RhbmNlcy5zZXQoaGFzaCwgbmV3IFByb2R1Y3QoZmFjdG9ycykpXG4gICAgICAgIHJldHVybiBQcm9kdWN0Lmluc3RhbmNlcy5nZXQoaGFzaCkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogTWFwPHN0cmluZywgUHJvZHVjdD4gPSBuZXcgTWFwKCk7XG4gICAgXG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGZhY3RvcnM6IEV4cHJlc3Npb25bXSkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIGFzc2VydChmYWN0b3JzLmxlbmd0aCA+PSAyLCBcIkNyZWF0aW5nIHByb2R1Y3Qgd2l0aCBsZXNzIHRoYW4gMiBmYWN0b3JzLlwiKVxuICAgICAgICB0aGlzLmZhY3RvcnMgPSBmYWN0b3JzO1xuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuZmFjdG9ycylcbiAgICAgICAgXG4gICAgICAgIGxldCByZWR1Y2libGUgPSB0cnVlXG4gICAgICAgIHRoaXMuZmFjdG9ycy5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgcmVkdWNpYmxlICYmPSBmLmlzUmVkdWNpYmxlIHx8IGYuY2xhc3MgPT0gSW50ZWdlclR5cGVcbiAgICAgICAgfSlcbiAgICAgICAgLy8gVGhlIGludGVnZXJzIGFyZSBjbG9zZWQgb3ZlciBtdWx0aXBsaWNhdGlvblxuICAgICAgICB0aGlzLmlzUmVkdWNpYmxlID0gcmVkdWNpYmxlXG5cbiAgICAgICAgbGV0IGhlYWx0aHkgPSB0cnVlXG4gICAgICAgIGhlYWx0aHkgJiY9IHRoaXMubnVtTmVnYXRpdmVzKCkgPCAyXG5cbiAgICAgICAgbGV0IGlzTmVnYXRpb24gPSBmYWN0b3JzLmxlbmd0aCA9PSAyXG4gICAgICAgIGlzTmVnYXRpb24gJiY9IGZhY3RvcnMuZmlsdGVyKGUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIChlIGFzIEludGVnZXIpLnZhbHVlID09IC0xXG4gICAgICAgIH0pLmxlbmd0aCA9PSAxXG4gICAgICAgIHRoaXMuaXNOZWdhdGlvbiA9IGlzTmVnYXRpb25cblxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSB0aGlzLmZhY3RvcnMubWFwPGJvb2xlYW4+KGYgPT4gZi5pc0NvbnN0YW50KS5yZWR1Y2UoKGEsIGIpID0+IGEgJiYgYilcbiAgICAgICAgdGhpcy5jaGlsZENvdW50ID0gZmFjdG9ycy5sZW5ndGggKyBmYWN0b3JzLm1hcDxudW1iZXI+KGYgPT4gZi5jaGlsZENvdW50KS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKSAtICh0aGlzLmlzTmVnYXRpb24gPyAxIDogMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIHRoaXMgcHJvZHVjdCBpcyBqdXN0XG4gICAgICogLTEgKiBhbm90aGVyIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGlzTmVnYXRpb246IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbHVlIHRoYXQgdGhpcyBwcm9kdWN0IGlzIG5lZ2F0aW5nXG4gICAgICogLTEgKiBleHAgcmV0dXJucyBleHAuXG4gICAgICogQHRocm93cyBpZiBwcm9kdWN0IGlzbid0IGEgbmVnYXRpb24uXG4gICAgICovXG4gICAgcHVibGljIGdldCBuZWdhdGlvbigpOiBFeHByZXNzaW9uIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMuaXNOZWdhdGlvbiwgXCJUcnlpbmcgdG8gZ2V0IG5lZ2F0aW9uIGZyb20gbm9uLW5lZ2F0aW5nIHN1bVwiKVxuICAgICAgICBpZiAodGhpcy5mYWN0b3JzWzBdLmNsYXNzID09IEludGVnZXJUeXBlICYmICh0aGlzLmZhY3RvcnNbMF0gYXMgSW50ZWdlcikudmFsdWUgPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mYWN0b3JzWzFdXG4gICAgICAgIHJldHVybiB0aGlzLmZhY3RvcnNbMF1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IEV4cHJlc3Npb24gd2l0aG91dCB0aGUgZ2l2ZW4gZmFjdG9yLlxuICAgICAqIElmIHRoZSBwcm9kdWN0IGNvbnRhaW5zIHRoZSBmYWN0b3IgbXVsdGlwbGUgdGltZXMsIFxuICAgICAqIG9ubHkgcmVtb3ZlcyBvbmUuIElmIGl0IGRvZXNuJ3QgY29udGFpbiB0aGUgZmFjdG9yLCBcbiAgICAgKiByZXR1cm5zIGl0c2VsZi5cbiAgICAgKiBAcGFyYW0gZXhwIEEgZmFjdG9yIGluIHRoaXMgcHJvZHVjdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgd2l0aG91dChleHA6IEV4cHJlc3Npb24pOiBFeHByZXNzaW9uIHtcbiAgICAgICAgY29uc3QgbmV3RmFjdG9ycyA9IFsuLi50aGlzLmZhY3RvcnNdXG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbmRleCA9IG5ld0ZhY3RvcnMuZmluZEluZGV4KCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBleHBcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSByZXR1cm4gdGhpc1xuXG4gICAgICAgIG5ld0ZhY3RvcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICBpZiAobmV3RmFjdG9ycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3RmFjdG9yc1swXSAvLyBHYXVyYW50ZWVkIHRoZXJlJ3Mgb25lIHRlcm0gaGVyZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9kdWN0Lm9mKG5ld0ZhY3RvcnMpXG4gICAgfVxuXG4gICAgcHVibGljIHRvTWF0aFhNTCgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gXCJcIlxuICAgICAgICBmdW5jdGlvbiB3cmFwSWZOZWVkZWQoZXhwOiBFeHByZXNzaW9uKTogc3RyaW5nIHtcbiAgICAgICAgICAgIGlmIChleHAuY2xhc3MgPT0gUHJvZHVjdFR5cGUgfHwgZXhwLmNsYXNzID09IFN1bVR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPG1vPig8L21vPlwiICsgZXhwLnRvTWF0aFhNTCgpICsgXCI8bW8+KTwvbW8+XCJcbiAgICAgICAgICAgIHJldHVybiBleHAudG9NYXRoWE1MKClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIGEgbmVnYXRpb24sIG9yIGEgbGlzdCBvZiBwcm9kdWN0c1xuICAgICAgICAvLyBGaXJzdCB0aGUgbmVnYXRpb24gY2FzZS4uLlxuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aW9uKSB7XG4gICAgICAgICAgICBvdXQgKz0gXCI8bW8+LTwvbW8+XCJcbiAgICAgICAgICAgIG91dCArPSB3cmFwSWZOZWVkZWQodGhpcy5uZWdhdGlvbilcbiAgICAgICAgICAgIHJldHVybiBvdXRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGl0J3MgYSBsaXN0IG9mIHByb2R1Y3RzLi4uXG4gICAgICAgIGNvbnN0IGZpcnN0RmFjdG9yID0gdGhpcy5mYWN0b3JzWzBdXG4gICAgICAgIG91dCArPSB3cmFwSWZOZWVkZWQoZmlyc3RGYWN0b3IpXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5mYWN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZmFjdG9yID0gdGhpcy5mYWN0b3JzW2ldXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBuZWVkc0RvdCA9IChmYWN0b3IuY2xhc3MgPT0gSW50ZWdlclR5cGUgJiYgdGhpcy5mYWN0b3JzW2ktMV0uY2xhc3MgPT0gSW50ZWdlclR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGZhY3RvciBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgZmFjdG9yLmlzTmVnYXRpb24pIC8vIElmIHRoZXJlJ3MgYSBuZWdhdGl2ZSBzaWduLCBnZXQgYSBkb3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoZmFjdG9yIGluc3RhbmNlb2YgSW50ZWdlciAmJiBmYWN0b3IudmFsdWUgPCAxKVxuXG4gICAgICAgICAgICBpZiAobmVlZHNEb3QpIG91dCArPSBcIjxtbz7CtzwvbW8+XCIgXG4gICAgICAgICAgICBvdXQgKz0gd3JhcElmTmVlZGVkKGZhY3RvcilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIE51bWJlciBvZiBuZWdhdGl2ZSBpbnRlZ2VyIHByb2R1Y3RzLlxuICAgICAqL1xuICAgIHByaXZhdGUgbnVtTmVnYXRpdmVzKCk6IG51bWJlciB7XG4gICAgICAgIGxldCBjb3VudCA9IDBcbiAgICAgICAgdGhpcy5mYWN0b3JzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICBpZiAoZiBpbnN0YW5jZW9mIEludGVnZXIpXG4gICAgICAgICAgICAgICAgaWYgKGYudmFsdWUgPCAwKVxuICAgICAgICAgICAgICAgIGNvdW50KytcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGNvdW50XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBvdXQgPSBcIlwiXG4gICAgICAgIGZvciAoY29uc3QgZXhwIG9mIHRoaXMuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gXCIoXCIgKyBleHAudG9TdHJpbmcoKSArIFwiKVwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSBleHAudG9TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9IFwiwrdcIlxuICAgICAgICB9XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aW9uKSBcbiAgICAgICAgICAgIHJldHVybiBgLSgke3RoaXMubmVnYXRpb24udG9VbmFtYmlnaW91c1N0cmluZygpfSlgXG4gICAgICAgIFxuXG4gICAgICAgIGxldCBvdXQgPSBcIlwiXG4gICAgICAgIGZvciAoY29uc3QgZXhwIG9mIHRoaXMuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gXCIoXCIgKyBleHAudG9TdHJpbmcoKSArIFwiKVwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSBleHAudG9TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9IFwiwrdcIlxuICAgICAgICB9XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiUHJvZHVjdFwiICsgdGhpcy5mYWN0b3JzLm1hcDxzdHJpbmc+KGUgPT4gZS5oYXNoKS5qb2luKClcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9ycy5tYXA8bnVtYmVyPihmID0+IGYuZXZhbHVhdGUodmFsdWVzKSkucmVkdWNlKChhLCBiKSA9PiBhICogYilcbiAgICB9XG5cbiAgICAvLyBBdCBsZWFzdCAyIGVsZW1lbnRzLCBvcmRlciBtYXR0ZXJzXG4gICAgcHVibGljIHJlYWRvbmx5IGZhY3RvcnM6IEV4cHJlc3Npb25bXTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhc3M6IHN0cmluZyA9IFByb2R1Y3RUeXBlO1xuICAgIHB1YmxpYyByZWFkb25seSBpc1JlZHVjaWJsZTogYm9vbGVhbjtcblxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuO1xuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBQcm9kdWN0VHlwZSA9IFwiUHJvZHVjdFwiXG5cbi8qKlxuICogQ2FuIGJlIHVzZWQgaW4gYXJyYXkuc29ydCgpIHRvIGdldCBwcm9wZXJseSBvcmRlcmVkIHByb2R1Y3RzLlxuICogXG4gKiBAcGFyYW0gYSBcbiAqIEBwYXJhbSBiXG4gKiBAcmV0dXJucyBQb3NpdGl2ZSBpZiBhIHNob3VsZCBiZSBhZnRlciBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmYWN0b3JPcmRlcihhOiBFeHByZXNzaW9uLCBiOiBFeHByZXNzaW9uKTogbnVtYmVyIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIEludGVnZXIgJiYgYiBpbnN0YW5jZW9mIEludGVnZXIpIHJldHVybiAwXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBJbnRlZ2VyKSB7XG4gICAgICAgIHJldHVybiBhRmlyc3RcbiAgICB9XG5cbiAgICAvLyBBbHBoYWJldGljYWxcbiAgICBjb25zdCBzeW1iQTogc3RyaW5nIHwgbnVsbCA9IGEgaW5zdGFuY2VvZiBWYXJpYWJsZSA/IGEuc3ltYm9sXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGEgaW5zdGFuY2VvZiBFeHBvbmVudCA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgYS5iYXNlIGluc3RhbmNlb2YgVmFyaWFibGUgPyBhLmJhc2Uuc3ltYm9sIDogbnVsbCA6IG51bGxcblxuICAgIGNvbnN0IHN5bWJCOiBzdHJpbmcgfCBudWxsID0gYiBpbnN0YW5jZW9mIFZhcmlhYmxlID8gYi5zeW1ib2xcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYiBpbnN0YW5jZW9mIEV4cG9uZW50ID8gXG4gICAgICAgICAgICAgICAgICAgICAgICBiLmJhc2UgaW5zdGFuY2VvZiBWYXJpYWJsZSA/IGIuYmFzZS5zeW1ib2wgOiBudWxsIDogbnVsbFxuXG4gICAgaWYgKHN5bWJBICE9IG51bGwgJiYgc3ltYkIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gc3ltYkEgPiBzeW1iQiA/IGFGaXJzdCA6IGFBZnRlclxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gMFxufVxuXG5jb25zdCBhRmlyc3QgPSAxXG5jb25zdCBhQWZ0ZXIgPSAtMSIsImltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL2Fzc2VydFwiO1xuaW1wb3J0IHsgVmFyaWFibGVWYWx1ZU1hcCB9IGZyb20gXCIuLi9WYXJpYWJsZVZhbHVlTWFwXCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgSW50ZWdlciwgSW50ZWdlclR5cGUgfSBmcm9tIFwiLi9JbnRlZ2VyXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IHsgVmFyaWFibGVUeXBlIH0gZnJvbSBcIi4vVmFyaWFibGVcIjtcblxuXG4vKipcbiAqIEV4cHJlc3Npb24gcmVwcmVzZW50aW5nIHRoZSBzdW0gb2YgMiBvciBtb3JlIHRlcm1zLlxuICovXG5leHBvcnQgY2xhc3MgU3VtIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG5cbiAgICAvKipcbiAgICAgKiBGYWN0b3J5IG1ldGhvZCBjb25zbnRydWN0b3IuXG4gICAgICogQHBhcmFtIHRlcm1zIENvbnRhaW5zIGF0IGxlYXN0IDIgZWxlbWVudHNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIG9mKHRlcm1zOiBFeHByZXNzaW9uW10pOiBTdW0ge1xuICAgICAgICBjb25zdCBoYXNoID0gdGVybXMubWFwPHN0cmluZz4odCA9PiB0Lmhhc2gpLmpvaW4oXCJcIilcbiAgICAgICAgaWYgKCFTdW0uaW5zdGFuY2VzLmhhcyhoYXNoKSkge1xuICAgICAgICAgICAgU3VtLmluc3RhbmNlcy5zZXQoaGFzaCwgbmV3IFN1bSh0ZXJtcykpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN1bS5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIFN1bT4gPSBuZXcgTWFwKCk7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHRlcm1zOiBFeHByZXNzaW9uW10pe1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIGFzc2VydCh0ZXJtcy5sZW5ndGggPj0gMiwgXCJDcmVhdGluZyBzdW0gd2l0aCBsZXNzIHRoYW4gMiB0ZXJtcy5cIilcbiAgICAgICAgdGhpcy50ZXJtcyA9IHRlcm1zO1xuICAgICAgICB0aGlzLmlzUmVkdWNpYmxlID0gdGhpcy50ZXJtcy5tYXA8Ym9vbGVhbj4odCA9PiB0LmlzUmVkdWNpYmxlIHx8IHQuY2xhc3MgPT0gSW50ZWdlclR5cGUpLnJlZHVjZSgoYSwgYikgPT4gYSAmJiBiKVxuXG4gICAgICAgIHRoaXMuaXNDb25zdGFudCA9IHRoaXMudGVybXMubWFwPGJvb2xlYW4+KHQgPT4gdC5pc0NvbnN0YW50KS5yZWR1Y2UoKGEsIGIpID0+IGEgJiYgYilcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLnRlcm1zKVxuICAgICAgICB0aGlzLmNoaWxkQ291bnQgPSB0ZXJtcy5sZW5ndGggKyB0ZXJtcy5tYXA8bnVtYmVyPih0ID0+IHQuY2hpbGRDb3VudCkucmVkdWNlKChhLCBiKSA9PiBhICsgYilcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IEV4cHJlc3Npb24gd2l0aG91dCB0aGUgZ2l2ZW4gdGVybS5cbiAgICAgKiBJZiB0aGUgc3VtIGNvbnRhaW5zIHRoZSB0ZXJtIG11bHRpcGxlIHRpbWVzLCBcbiAgICAgKiBvbmx5IHJlbW92ZXMgb25lLiBJZiBpdCBkb2Vzbid0IGNvbnRhaW4gdGhlIHRlcm0sIFxuICAgICAqIHJldHVybnMgaXRzZWxmLlxuICAgICAqIEBwYXJhbSB0ZXJtIEEgdGVybSBpbiB0aGlzIHN1bS5cbiAgICAgKi9cbiAgICBwdWJsaWMgd2l0aG91dCh0ZXJtOiBFeHByZXNzaW9uKTogRXhwcmVzc2lvbiB7XG4gICAgICAgIGNvbnN0IG5ld1Rlcm1zID0gWy4uLnRoaXMudGVybXNdXG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbmRleCA9IG5ld1Rlcm1zLmZpbmRJbmRleCgodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdGVybVxuICAgICAgICB9KVxuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHJldHVybiB0aGlzXG5cbiAgICAgICAgbmV3VGVybXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICBpZiAobmV3VGVybXMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgcmV0dXJuIG5ld1Rlcm1zWzBdIC8vIEdhdXJhbnRlZWQgdGhlcmUncyBvbmUgdGVybSBoZXJlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN1bS5vZihuZXdUZXJtcylcbiAgICB9XG5cblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFN1bVR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPG1vPig8L21vPlwiICsgZXhwLnRvTWF0aFhNTCgpICsgXCI8bW8+KTwvbW8+XCJcbiAgICAgICAgICAgIHJldHVybiBleHAudG9NYXRoWE1MKClcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvdXQgPSB3cmFwSWZOZWVkZWQodGhpcy50ZXJtc1swXSlcbiAgICAgICAgZm9yIChsZXQgaT0xOyBpIDwgdGhpcy50ZXJtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGVybSA9IHRoaXMudGVybXNbaV1cbiAgICAgICAgICAgIC8vIFN1YnRyYWN0IG5lZ2F0aXZlIHRlcm1zIGluc3RlYWQgb2YgYWRkaW5nIG5lZ2F0aXZlc1xuICAgICAgICAgICAgaWYgKHRlcm0gaW5zdGFuY2VvZiBQcm9kdWN0ICYmIHRlcm0uaXNOZWdhdGlvbikge1xuICAgICAgICAgICAgICAgIG91dCArPSBcIjxtbz4tPC9tbz5cIiArIHdyYXBJZk5lZWRlZCh0ZXJtLm5lZ2F0aW9uKVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXJtIGluc3RhbmNlb2YgSW50ZWdlciAmJiB0ZXJtLnZhbHVlIDwgIDApIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gXCI8bW8+LTwvbW8+XCIgKyB3cmFwSWZOZWVkZWQodGVybS5idXRQb3NpdGl2ZSgpKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gXCI8bW8+KzwvbW8+XCIgKyB3cmFwSWZOZWVkZWQodGhpcy50ZXJtc1tpXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGV4cCBvZiB0aGlzLnRlcm1zKSB7XG4gICAgICAgICAgICBvdXQgKz0gZXhwLnRvU3RyaW5nKCkgKyBcIitcIlxuICAgICAgICB9XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGV4cCBvZiB0aGlzLnRlcm1zKSB7XG4gICAgICAgICAgICBvdXQgKz0gXCIoXCIgKyBleHAudG9VbmFtYmlnaW91c1N0cmluZygpICsgXCIpK1wiXG4gICAgICAgIH1cbiAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZygwLCBvdXQubGVuZ3RoIC0gMSlcbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJTdW1cIiArIHRoaXMudGVybXMubWFwPHN0cmluZz4oZSA9PiBlLmhhc2gpLmpvaW4oKVxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXJtcy5tYXA8bnVtYmVyPih0ID0+IHQuZXZhbHVhdGUodmFsdWVzKSkucmVkdWNlKChhLCBiKSA9PiBhICsgYilcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzID0gU3VtVHlwZTtcbiAgICAvKipcbiAgICAgKiBPcmRlcmVkLCBpbW11dGFibGVcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgdGVybXM6IEV4cHJlc3Npb25bXTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNSZWR1Y2libGU6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhblxuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBTdW1UeXBlID0gXCJTdW1cIlxuXG4vKipcbiAqIFJldHVybnMgdGhlIGdpdmVuIHRlcm1zIG9yZGVyZWQgY29ycmVjdGx5IHRvXG4gKiBiZSBwbGFjZWQgaW4gYSBTdW0uIEFsdGVycyB0aGUgZ2l2ZW4gYXJyYXkuXG4gKiBAcGFyYW0gdGVybXMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmRlclRlcm1zKC4uLnRlcm1zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uW10ge1xuICAgIC8vIEEgbm90ZSBhYm91dCB0aGUgc29ydCBmdW5jdGlvbiBiYyB0aGUgZG9jdW1lbnRhdGlvbiBpcyBjcnlwdGljXG4gICAgLy8gSWYgYSBzaG91bGQgYmUgcHV0IGJlZm9yZSBiIGluIHRoZSBzdW0sIHJldHVybiBhIG5lZ2F0aXZlIHZhbHVlXG4gICAgcmV0dXJuIHRlcm1zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgLy8gVmFyaWFibGVzIGJlZm9yZSBJbnRlZ2Vyc1xuICAgICAgICBpZiAoYS5jbGFzcyA9PSBJbnRlZ2VyVHlwZSAmJiAoYi5jbGFzcyA9PSBWYXJpYWJsZVR5cGUgfHwgKGIgaW5zdGFuY2VvZiBQcm9kdWN0ICYmIGIuaXNOZWdhdGlvbiAmJiBiLm5lZ2F0aW9uLmNsYXNzID09IFZhcmlhYmxlVHlwZSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICB9XG4gICAgICAgIGlmICgoYS5jbGFzcyA9PSBWYXJpYWJsZVR5cGUgfHwgKGEgaW5zdGFuY2VvZiBQcm9kdWN0ICYmIGEuaXNOZWdhdGlvbiAmJiBhLm5lZ2F0aW9uLmNsYXNzID09IFZhcmlhYmxlVHlwZSkpICYmIGIuY2xhc3MgPT0gSW50ZWdlclR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDBcbiAgICB9KVxufSIsImltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi9JbnRlZ2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBWYXJpYWJsZSBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2Yoc3ltYm9sOiBzdHJpbmcpOiBWYXJpYWJsZSB7XG4gICAgICAgIGlmIChWYXJpYWJsZS5pbnN0YW5jZXMuZ2V0KHN5bWJvbCkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWYXJpYWJsZS5pbnN0YW5jZXMuc2V0KHN5bWJvbCwgbmV3IFZhcmlhYmxlKHN5bWJvbCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFZhcmlhYmxlLmluc3RhbmNlcy5nZXQoc3ltYm9sKSE7XG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlcyA9IG5ldyBNYXA8c3RyaW5nLCBWYXJpYWJsZT4oKVxuICAgIHByaXZhdGUgY29uc3RydWN0b3Ioc3ltYm9sOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zeW1ib2wgPSBzeW1ib2xcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xhc3M6IHN0cmluZyA9IFZhcmlhYmxlVHlwZVxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiPG1pPlwiK3RoaXMuc3ltYm9sK1wiPC9taT5cIjtcbiAgICB9XG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bWJvbDtcbiAgICB9XG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBoYXNoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlZhclwiK3RoaXMuc3ltYm9sXG4gICAgfVxuXG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB2YWx1ZXMudmFsdWVPZih0aGlzKVxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3ltYm9sOiBzdHJpbmc7XG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudCA9IGZhbHNlO1xuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXIgPSAwXG59XG5cbmV4cG9ydCBjb25zdCBWYXJpYWJsZVR5cGUgPSBcIlZhcmlhYmxlXCIiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCI7XG5pbXBvcnQgeyBHcmFwaCB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBNYXRoR3JhcGhOb2RlIH0gZnJvbSBcIi4uL01hdGhHcmFwaE5vZGVcIlxuaW1wb3J0IHsgUGF0aCB9IGZyb20gXCIuL1BhdGhcIjtcblxuXG4vKipcbiAqIFRha2VzIGEgZ3JhcGggYW5kIGNvbGxhcHNlcyBhbnkgYXJndW1lbnRzIHRoYXQgYXJlIG9idmlvdXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcnByZXRlciB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChjb25maWc6IEludGVycHJldGVyU2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWdcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJvY2Vzc1BhdGgocGF0aDogUGF0aDxFeHByZXNzaW9uPik6IFNraXBTZXQge1xuICAgICAgICB0aGlzLmdyYXBoID0gcGF0aC5ncmFwaFxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU2tpcFNldCgpO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFNraXAgPSAoYXJnOiBBcmd1bWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnNraXBzLmhhcyhhcmcucnVsZUlkKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdyYXBoID0gdGhpcy5ncmFwaFxuXG4gICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUFkZChub2RlOiBFeHByZXNzaW9uKTogdm9pZCB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gZmluZE5leHQobm9kZSlcbiAgICAgICAgICAgIGlmIChuZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcmd1bWVudCA9IGdyYXBoLmdldEVkZ2Uobm9kZSwgcGF0aC5ub2Rlc1twYXRoLm5vZGVzLmluZGV4T2Yobm9kZSkgKyAxXSkgYXMgQXJndW1lbnRcbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkU2tpcChub2RlLCB7ZTogbmV4dCwgYTogYXJndW1lbnR9KVxuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZUFkZChuZXh0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0cyB0aGUgbmV4dCBleHByZXNzaW9uIHRvIHNob3cgb3IgbnVsbCBpZiB0aGVyZVxuICAgICAgICAvLyBpc24ndCBvbmUuIE5ldmVyIHJldHVybnMgdGhlIGdpdmVuIGV4cHJlc3Npb25cbiAgICAgICAgZnVuY3Rpb24gZmluZE5leHQobm9kZTogRXhwcmVzc2lvbik6IEV4cHJlc3Npb24gfCBudWxsIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHBhdGgubm9kZXMuaW5kZXhPZihub2RlKVxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHBhdGgubm9kZXNbaW5kZXggKyAxXVxuICAgICAgICAgICAgaWYgKG5leHQgPT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbFxuXG4gICAgICAgICAgICBpZiAoc2hvdWxkU2tpcChncmFwaC5nZXRFZGdlKG5vZGUsIG5leHQpIGFzIEFyZ3VtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaW5kTmV4dChuZXh0KSA/PyBuZXh0XG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIG5leHRcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY3Vyc2l2ZUFkZChwYXRoLm5vZGVzWzBdKVxuXG4gICAgICAgIHRoaXMuZ3JhcGggPSBudWxsXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhc09uZU91dEVkZ2Uobm9kZTogTWF0aEdyYXBoTm9kZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaD8uZ2V0RGVncmVlKG5vZGUsIFwib3V0XCIpID09IDFcbiAgICB9XG5cblxuICAgIC8vIE51bGwgYWZ0ZXIgZXZlcnkgcHJvY2VzcyBjYWxsLlxuICAgIHByaXZhdGUgZ3JhcGg6IEdyYXBoIHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEludGVycHJldGVyU2V0dGluZ3Ncbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlcnByZXRlclNldHRpbmdzIHtcbiAgICAvKipcbiAgICAgKiBTZXQgb2YgcnVsZSBpZHMuIEFyZ3VtZW50cyBnZW5lcmF0ZWQgYnkgdGhlc2UgcnVsZXNcbiAgICAgKiB3aWxsIGJlIGJyaWRnZWQgb3ZlciBpbiB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgc2tpcHM6IFNldDxzdHJpbmc+XG59XG5cbmludGVyZmFjZSBTa2lwIHtcbiAgICByZWFkb25seSBhOiBBcmd1bWVudFxuICAgIHJlYWRvbmx5IGU6IEV4cHJlc3Npb25cbn1cblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBleHByZXNzaW9ucy5cbiAqIFRPRE86IEZpZ3VyZSBvdXQgYXJndW1lbnRzLlxuICovXG5leHBvcnQgY2xhc3MgU2tpcFNldCB7XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgbmV4dCBleHByZXNzaW9uIHRoYXQgc2hvdWxkIGJlIGRpc3BsYXllZC5cbiAgICAgKiBUaGUgaW5wdXQgYW5kIHJlc3VsdCBleHByZXNzaW9uIHNob3VsZCBiZSBkaXNwbGF5ZWQgYXNcbiAgICAgKiBjb25uZWN0ZWQgYnkgdGhlIGlucHV0J3Mgb3V0IGFyZ3VtZW50LCB3aGljaCBpcyBwcm92aWRlZFxuICAgICAqIGluIHRoZSByZXN1bHQuXG4gICAgICogXG4gICAgICogVGhlcmUgd2lsbCBiZVxuICAgICAqIGV4YWN0bHkgb25lIHNpbXBsZSBwYXRoIGNvbm5lY3RpbmcgdGhlIG91dHB1dCBhbmRcbiAgICAgKiByZXN1bHQuXG4gICAgICogQHBhcmFtIGlucHV0IFxuICAgICAqIEByZXR1cm4gTnVsbCBpZiB0aGUgaW5wdXQgaGFzIG5vIHNraXAgbWFwcGVkIHRvIGl0LlxuICAgICAqL1xuICAgIHB1YmxpYyBuZXh0KGlucHV0OiBFeHByZXNzaW9uKTogU2tpcCB8IG51bGwge1xuICAgICAgICBpZiAodGhpcy5za2lwcy5oYXMoaW5wdXQpKSByZXR1cm4gdGhpcy5za2lwcy5nZXQoaW5wdXQpIVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHN0YXJ0IGVuZCBwYWlyIHRvIHRoZSBza2lwIHNldC4gSWYgYWxyZWFkeSBpbmNsdWRlZCxcbiAgICAgKiBkb2VzIG5vdGhpbmcuIElmIHRoZSBnaXZlbiBzdGFydCBhbHJlYWR5IGhhcyBhbiBlbmQgYXNzaWduZWRcbiAgICAgKiBhbmQgdGhlIGFzc2lnbmVkIC89IHRoZSBnaXZlbiBlbmQsIHRocm93cy4gSWYgc3RhcnQgPT0gZW5kLFxuICAgICAqIGRvZXMgbm90aGluZy5cbiAgICAgKiBAcGFyYW0gc3RhcnQgXG4gICAgICogQHBhcmFtIGVuZCBcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkU2tpcChzdGFydDogRXhwcmVzc2lvbiwgZW5kOiBTa2lwKTogdm9pZCB7XG4gICAgICAgIGlmIChzdGFydCA9PSBlbmQuZSkgcmV0dXJuXG4gICAgICAgIGlmICh0aGlzLnNraXBzLmhhcyhzdGFydCkgJiYgdGhpcy5za2lwcy5nZXQoc3RhcnQpISAhPSBlbmQpIHRocm93IG5ldyBFcnJvcihcIkFkZGluZyBhbm90aGVyIGVuZCB0byBTa2lwU2V0XCIpXG4gICAgICAgIHRoaXMuc2tpcHMuc2V0KHN0YXJ0LCBlbmQpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBza2lwcyA9IG5ldyBNYXA8RXhwcmVzc2lvbiwge2U6IEV4cHJlc3Npb24sIGE6IEFyZ3VtZW50fT4oKVxufSIsImltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4uL0dyYXBoXCJcbmltcG9ydCB7IE1hdGhHcmFwaE5vZGUgfSBmcm9tIFwiLi4vTWF0aEdyYXBoTm9kZVwiXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHBhdGggb2YgZ3JhcGhzLlxuICogSW1tdXRhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXRoPFQgZXh0ZW5kcyBNYXRoR3JhcGhOb2RlPiBpbXBsZW1lbnRzIEl0ZXJhYmxlPE1hdGhHcmFwaE5vZGU+IHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZ3JhcGg6IEdyYXBoLCAuLi5ub2RlczogVFtdKSB7XG4gICAgICAgIHRoaXMubm9kZXMgPSBub2Rlc1xuICAgICAgICB0aGlzLmdyYXBoID0gZ3JhcGhcbiAgICB9XG4gICAgXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8TWF0aEdyYXBoTm9kZSwgYW55LCB1bmRlZmluZWQ+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIilcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgbm9kZXM6IFRbXVxuICAgIHB1YmxpYyByZWFkb25seSBncmFwaDogR3JhcGhcbn0iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiO1xuaW1wb3J0IHsgR3JhcGhOb2RlVmlldyB9IGZyb20gXCIuL0dyYXBoTm9kZVZpZXdcIjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGFyZ3VtZW50IG5vZGUuXG4gKi9cbiBleHBvcnQgY2xhc3MgQXJndW1lbnROb2RlVmlldyBleHRlbmRzIEdyYXBoTm9kZVZpZXcge1xuXG4gICAgY29uc3RydWN0b3IoYXJnOiBBcmd1bWVudCwgc2V0U3R5bGU6ICh2aWV3OiBHcmFwaE5vZGVWaWV3KSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKHNldFN0eWxlKVxuICAgICAgICB0aGlzLmFyZ3VtZW50ID0gYXJnXG4gICAgfVxuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdGhpcy5hcmd1bWVudC5hcmd1bWVudFxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJhcmd1bWVudFwiKVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJndW1lbnQ6IEFyZ3VtZW50O1xufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJhcmd1bWVudC1ub2Rldmlld1wiLCBBcmd1bWVudE5vZGVWaWV3LCB7ZXh0ZW5kczogXCJkaXZcIn0pOyIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IEdyYXBoRWRnZSB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHVpUHJlZmVyZW5jZXMgfSBmcm9tIFwiLi9VSVByZWZlcmVuY2VzXCJcbmltcG9ydCB7IFdlYkdyYXBoVmlldyB9IGZyb20gXCIuL1dlYkdyYXBoVmlld1wiXG5pbXBvcnQgeyBHaXZlbkVkZ2UgfSBmcm9tIFwiLi4vR3JhcGhcIlxuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuLi9NYXRoR3JhcGhOb2RlXCJcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL2Fzc2VydFwiXG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBlZGdlIGluIGEgZ3JhcGguXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGdlVmlldyBleHRlbmRzIEhUTUxQYXJhZ3JhcGhFbGVtZW50IHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob3duZXI6IFdlYkdyYXBoVmlldywgZWRnZToge246IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2V9KSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyXG4gICAgICAgIHRoaXMuZWRnZSA9IGVkZ2UuZVxuICAgICAgICB0aGlzLmZpcnN0ID0gZWRnZS5uXG4gICAgICAgIHRoaXMuc2Vjb25kID0gZWRnZS5uMVxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuZWRnZSlcblxuICAgICAgICB0aGlzLnN0eWxlLndpZHRoID0gXCJmaXQtY29udGVudFwiXG4gICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCJmaXQtY29udGVudFwiXG4gICAgICAgIHRoaXMuc3R5bGUucGFkZGluZyA9IFwiMFwiXG4gICAgICAgIHRoaXMuc3R5bGUuekluZGV4ID0gXCItMlwiXG4gICAgICAgIHRoaXMuc3R5bGUubWFyZ2luID0gXCIwXCJcbiAgICAgICAgdGhpcy5zdHlsZS53aGl0ZVNwYWNlID0gXCJub3dyYXBcIlxuICAgICAgICB0aGlzLnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCJcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB1aVByZWZlcmVuY2VzLmVkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgdGhpcy5zdHlsZS51c2VyU2VsZWN0ID0gXCJub25lXCJcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcblxuICAgICAgICB1aVByZWZlcmVuY2VzLm9uVXBkYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdWlQcmVmZXJlbmNlcy5lZGdlRXF1YWxzQmFja2dyb3VuZENvbG9yXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLm93bmVyLmVkZ2VDbGlja2VkKHRoaXMsIGV2ZW50KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnJlcE9rKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyByb3RhdGlvbiBhbmdsZSBvZiB2aWV3IHdoaWxlIGFsc29cbiAgICAgKiBsZXR0aW5nIGl0IGtub3cgdGhlIGFuZ2xlIGhhcyBjaGFuZ2VkLlxuICAgICAqIEBwYXJhbSByYWQgXG4gICAgICovXG4gICAgcHVibGljIHNldEFuZ2xlKHJhZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3R5bGUucm90YXRlID0gXCJcIiArIHJhZCArIFwicmFkXCJcbiAgICAgICAgLy90aGlzLnRleHRDb250ZW50ID0gXCJcIiArIChyYWQgKiAyICogTWF0aC5QSSAvIDM2MCkudG9GaXhlZCgyKSArIFwiZGVnXCJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGVsZW1lbnQgc2NyZWVuIHdpZHRoIGFuZCBlbnN1cmVzIHRleHQgZml0c1xuICAgICAqIGluc2lkZSB0aGUgZWRnZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0IHdpZHRoKHZhbDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyLnN0eWxlLndpZHRoID0gdmFsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZWxlbWVudCBpcyBjb25uY3RlZCB0byB0aGUgRE9NLlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZWRnZSBpbnN0YW5jZW9mIEFyZ3VtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gXCJcIiArIHRoaXMuZWRnZS5jbGFpbS5yXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lZGdlIGluc3RhbmNlb2YgR2l2ZW5FZGdlKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gXCJcIiArIHRoaXMuZWRnZS5yXG4gICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQgZm9yIFwiICsgdGhpcy5lZGdlKVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVwT2soKTogdm9pZCB7XG4gICAgICAgIGFzc2VydCh0aGlzLmZpcnN0ICE9IHVuZGVmaW5lZClcbiAgICAgICAgYXNzZXJ0KHRoaXMuc2Vjb25kICE9IHVuZGVmaW5lZClcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG93bmVyOiBXZWJHcmFwaFZpZXdcbiAgICBwdWJsaWMgcmVhZG9ubHkgZWRnZTogR3JhcGhFZGdlO1xuICAgIHB1YmxpYyByZWFkb25seSBmaXJzdDogTWF0aEdyYXBoTm9kZTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2Vjb25kOiBNYXRoR3JhcGhOb2RlO1xufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJlZGdlLXZpZXdcIiwgRWRnZVZpZXcsIHtleHRlbmRzOiBcInBcIn0pOyIsImltcG9ydCB7IE1hdGhFbGVtZW50IH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL01hdGhFbGVtZW50XCI7XG5cblxuLyoqXG4gKiBEaXNwbGF5cyBtYXRoIGFuZCBpcyBlZGl0YWJsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEVkaXRhYmxlTWF0aFZpZXcgZXh0ZW5kcyBIVE1MRGl2RWxlbWVudCB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpXG5cbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xuXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgdmFsdWUoZTogTWF0aEVsZW1lbnQgfCBudWxsKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gZVxuICAgICAgICB0aGlzLmlubmVySFRNTCA9IFwiPG1hdGggZGlzcGxheT0nYmxvY2snPlwiICsgKGU/LnRvTWF0aFhNTCgpID8/IFwiXCIpICsgXCI8L21hdGg+XCJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsID0+IGwodGhpcy5fdmFsdWUpKVxuICAgICAgICBNYXRoSmF4LnR5cGVzZXQoW3RoaXNdKVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdmFsdWUoKTogTWF0aEVsZW1lbnQgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpc3RlbmVyIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZSBtYXRoXG4gICAgICogaW4gdGhlIHZpZXcgaXMgZWRpdGVkLlxuICAgICAqIEBwYXJhbSBsIFxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRFZGl0TGlzdGVuZXIobDogRWRpdGFibGVNYXRoTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsKVxuICAgIH1cbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogRWRpdGFibGVNYXRoTGlzdGVuZXJbXSA9IFtdXG4gICAgcHJpdmF0ZSBfdmFsdWU6IE1hdGhFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbn1cblxuZXhwb3J0IHR5cGUgRWRpdGFibGVNYXRoTGlzdGVuZXIgPSAoZTogTWF0aEVsZW1lbnQgfCBudWxsKSA9PiB2b2lkO1xuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJlZGl0YWJsZS1tYXRodmlld1wiLCBFZGl0YWJsZU1hdGhWaWV3LCB7ZXh0ZW5kczogXCJkaXZcIn0pO1xuXG5kZWNsYXJlIGNvbnN0IE1hdGhKYXg6IGFueTsiLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgR3JhcGhFZGdlIH0gZnJvbSBcIi4uL0dyYXBoXCJcbmltcG9ydCB7IGluTWF0aCwgaW5NYXRoQmxvY2ssIGluUm93IH0gZnJvbSBcIi4uL3V0aWwvTWF0aE1MSGVscGVyc1wiXG5cbmV4cG9ydCBjbGFzcyBFeHBsYW5hdGlvblBvcHVwIGV4dGVuZHMgSFRNTERpdkVsZW1lbnQge1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGFyZyBcbiAgICAgKiBAcGFyYW0gb25DbG9zZSBDYWxsZWQgYWZ0ZXIgdXNlciBjbGlja3MgY2xvc2UgYnV0dG9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhcmc6IEFyZ3VtZW50LCBvbkNsb3NlOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5hcmcgPSBhcmdcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gb25DbG9zZVxuXG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYicpXG4gICAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgICAgY2xvc2VCdXR0b24udGV4dENvbnRlbnQgPSBcIkNsb3NlXCJcbiAgICAgICAgY2xvc2VCdXR0b24uc3R5bGUudXNlclNlbGVjdCA9IFwibm9uZVwiXG4gICAgICAgIGNsb3NlQnV0dG9uLnN0eWxlLmZsb2F0ID0gXCJyaWdodFwiXG4gICAgICAgIHRoaXMuYXBwZW5kKGNsb3NlQnV0dG9uKVxuXG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICB0ZXh0LmlubmVySFRNTCA9IGFyZy5hcmd1bWVudCArIFwiPGJyPlwiXG4gICAgICAgIGlmIChhcmcuY2xhaW0ubiBpbnN0YW5jZW9mIEV4cHJlc3Npb24gJiYgYXJnLmNsYWltLm4xIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgdGV4dC5pbm5lckhUTUwgKz0gaW5NYXRoQmxvY2soaW5Sb3coYXJnLmNsYWltLm4udG9NYXRoWE1MKCkgKyBcIiA8bW8+XCIgKyBhcmcuY2xhaW0uciArIFwiPC9tbz4gXCIgKyBhcmcuY2xhaW0ubjEudG9NYXRoWE1MKCkpKSArIFwiPGJyPiBEZXJpdmVkIGZyb206IDxicj5cIiBcbiAgICAgICAgZm9yIChjb25zdCBncm91bmQgb2YgYXJnLmdyb3VuZHMpIHtcbiAgICAgICAgICAgIGlmIChncm91bmQgaW5zdGFuY2VvZiBFeHByZXNzaW9uKVxuICAgICAgICAgICAgICAgIHRleHQuaW5uZXJIVE1MICs9IGluTWF0aChncm91bmQudG9NYXRoWE1MKCkpICsgXCI8YnI+XCJcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwcGVuZCh0ZXh0KVxuXG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIlxuICAgICAgICB0aGlzLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAgICAgdGhpcy5zdHlsZS5ib3hTaGFkb3cgPSBcIjAuM2NoIDAuM2NoIDAuNmNoIHJnYmEoMCwgMCwgMCwgMC41KVwiXG4gICAgICAgIHRoaXMuc3R5bGUucGFkZGluZyA9IFwiMWNoXCJcbiAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9IFwiZml0LWNvbnRlbnRcIlxuICAgICAgICB0aGlzLnN0eWxlLnpJbmRleCA9IFwiMTVcIlxuICAgIH1cblxuICAgIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICAgICAgTWF0aEpheC50eXBlc2V0KFt0aGlzXSlcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGFyZzogQXJndW1lbnRcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9uQ2xvc2U6ICgpID0+IHZvaWRcbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiZXhwbGFuYXRpb24tcG9wdXBcIiwgRXhwbGFuYXRpb25Qb3B1cCwge2V4dGVuZHM6IFwiZGl2XCJ9KTtcblxuZGVjbGFyZSBjb25zdCBNYXRoSmF4OiBhbnkiLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCI7XG5pbXBvcnQgeyBFZGl0YWJsZU1hdGhWaWV3IH0gZnJvbSBcIi4vRWRpdGFibGVNYXRoVmlld1wiO1xuaW1wb3J0IHsgR3JhcGhOb2RlVmlldyB9IGZyb20gXCIuL0dyYXBoTm9kZVZpZXdcIjtcblxuLyoqXG4gKiBBIGdyYXBoIG5vZGUgdmlldyBmb3IgZXhwcmVzc2lvbiBub2Rlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25Ob2RlVmlldyBleHRlbmRzIEdyYXBoTm9kZVZpZXcge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihub2RlOiBFeHByZXNzaW9uLCBzZXRTdHlsZTogKHZpZXc6IEdyYXBoTm9kZVZpZXcpID0+IHZvaWQpIHtcbiAgICAgICAgc3VwZXIoc2V0U3R5bGUpO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlXG5cbiAgICAgICAgdGhpcy5lZGl0YWJsZU1hdGhWaWV3ID0gbmV3IEVkaXRhYmxlTWF0aFZpZXcoKVxuICAgICAgICB0aGlzLmVkaXRhYmxlTWF0aFZpZXcudmFsdWUgPSB0aGlzLm5vZGVcbiAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLmVkaXRhYmxlTWF0aFZpZXcpXG5cbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5ub2RlLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImV4cHJlc3Npb25cIilcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgbm9kZTogRXhwcmVzc2lvbjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkaXRhYmxlTWF0aFZpZXc6IEVkaXRhYmxlTWF0aFZpZXc7XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJleHByZXNzaW9uLW5vZGV2aWV3XCIsIEV4cHJlc3Npb25Ob2RlVmlldywge2V4dGVuZHM6IFwiZGl2XCJ9KTtcblxuY29uc3QgY29sb3JVbmhlYWx0aHlOb2RlcyA9IHRydWUiLCIvKipcbiAqIEFuIGh0bWwgZWxlbWVudCB0aGF0IHJlcHJlc2VudHMgYSBtYXRoIGdyYXBoIG5vZGUuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBHcmFwaE5vZGVWaWV3IGV4dGVuZHMgSFRNTERpdkVsZW1lbnQge1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHNldFN0eWxlIEZ1bmN0aW9uIHRoYXQgd2hlbiBjYWxsZWRcbiAgICAgKiAgc2hvdWxkIHNldCB0aGUgc3R5bGUgZm9yIHRoaXMgdmlldy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzZXRTdHlsZTogKHZpZXc6IEdyYXBoTm9kZVZpZXcpID0+IHZvaWQpIHtcbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgIHRoaXMuc3R5bGUucGFkZGluZyA9IFwiMWNoXCJcbiAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9IFwiZml0LWNvbnRlbnRcIlxuICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IFwiZml0LWNvbnRlbnRcIlxuICAgICAgICB0aGlzLnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiXG5cbiAgICAgICAgc2V0U3R5bGUodGhpcylcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGJhY2tncm91bmRDb2xvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdmFsdWVcbiAgICB9XG5cbiAgICBwdWJsaWMgYWJzdHJhY3QgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZDtcbn0iLCIvKipcbiAqIEludGVycHJldCBjb21wbGljYXRlZCB0b3VjaCBnZXN0dXJlIGRhdGEuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb3VjaEdlc3R1cmVSZWNvZ25pemVyIHtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tb3ZlTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMucGluY2hMaXN0ZW5lcnMgPSBbXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTW92ZUxpc3RlbmVyKGNhbGxiYWNrOiBNb3ZlTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tb3ZlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYSBwaW5jaCBnZXN0dXJlIGhhcyBiZWVuIGRldGVjdGVkLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUYWtlcyBhIGNlbnRlciBjb29yZGluYXRlIHRoYXQncyB0aGUgYXZlcmFnZSBvZiB0aGUgZmluZ2VyIHBvc2l0aW9ucyxcbiAgICAgKiAgICAgICAgICAgICAgdGhlIGNoYW5nZSBpbiBzY2FsZSBzaW5jZSB0aGUgbGFzdCBjYWxsIG9uICgwLCBpbmZpbml0eSkgd2hlcmUgMSBpcyBubyBjaGFuZ2UsXG4gICAgICogICAgICAgICAgICAgIGFuZCB0aGUgbnVtYmVyIG9mIGZpbmdlcnMgaW4gdGhlIGdlc3R1cmUgKGFuIGludGVnZXIpLlxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRQaW5jaExpc3RlbmVyKGNhbGxiYWNrOiBQaW5jaExpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGluY2hMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRha2UgYWxsIHRvdWNoIGV2ZW50cyBmcm9tIHRoZSB2aWV3IHVzaW5nIGl0LlxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKi9cbiAgICBwdWJsaWMgcHJvY2Vzc1RvdWNoRG93bihldmVudDogRXZlbnQpOiB2b2lkIHtcblxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGFrZSBhbGwgdG91Y2ggZXZlbnRzIGZyb20gdGhlIHZpZXcgdXNpbmcgaXQuXG4gICAgICogQHBhcmFtIGV2ZW50IFxuICAgICAqL1xuICAgICBwdWJsaWMgcHJvY2Vzc1RvdWNoTW92ZShldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgICAgICBmb3IgKGNvbnN0IGNoYW5nZWQgb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgICAgIGNoYW5nZWQuY2xpZW50WFxuICAgICAgICB9XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRha2UgYWxsIHRvdWNoIGV2ZW50cyBmcm9tIHRoZSB2aWV3IHVzaW5nIGl0LlxuICAgICAqIEBwYXJhbSBldmVudCBcbiAgICAgKi9cbiAgICAgcHVibGljIHByb2Nlc3NUb3VjaEVuZChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge1xuXG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0YWtlIGFsbCB0b3VjaCBldmVudHMgZnJvbSB0aGUgdmlldyB1c2luZyBpdC5cbiAgICAgKiBAcGFyYW0gZXZlbnQgXG4gICAgICovXG4gICAgIHB1YmxpYyBwcm9jZXNzVG91Y2hDYW5jZWwoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcblxuICAgIH1cblxuICAgIC8vcHJpdmF0ZSBsYXN0WDogTWFwPFRvdWNoXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG1vdmVMaXN0ZW5lcnM6IE1vdmVMaXN0ZW5lcltdO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGluY2hMaXN0ZW5lcnM6IFBpbmNoTGlzdGVuZXJbXTtcbn1cblxuZXhwb3J0IHR5cGUgTW92ZUxpc3RlbmVyID0gKGRlbHRhWDogbnVtYmVyLCBkZWx0YVk6IG51bWJlciwgZmluZ2VyczogbnVtYmVyKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgUGluY2hMaXN0ZW5lciA9IChjZW50ZXI6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0sIHNjYWxlRGVsdGE6IG51bWJlciwgZmluZ2VyczogbnVtYmVyKSA9PiB2b2lkOyIsIlxuXG5jbGFzcyBVSVByZWZlcmVuY2VzIHtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgd2hlbmV2ZXIgYSB1aSBwcmVmZXJlbmNlXG4gICAgICogaXMgY2hhbmdlZC5cbiAgICAgKi9cbiAgICAgcHVibGljIG9uVXBkYXRlKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spXG4gICAgfVxuICAgIFxuXG4gICAgLy8gR2V0dGVycyBhbmQgU2V0dGVyc1xuXG4gICAgLyoqXG4gICAgICogQmFja2dyb3VuZCBjb2xvciBvZiBhIGdyYXBoIGVkZ2UgZGVub3RpbmdcbiAgICAgKiBlcXVhbGl0eSBiZXR3ZWVuIHR3byBleHByZXNzaW9ucy5cbiAgICAgKiBDc3MgdmFsdWUuXG4gICAgICovXG4gICAgcHVibGljIGdldCBlZGdlRXF1YWxzQmFja2dyb3VuZENvbG9yKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGdlRXF1YWxzQmFja2dyb3VuZENvbG9yXG4gICAgfVxuICAgIHB1YmxpYyBzZXQgZWRnZUVxdWFsc0JhY2tncm91bmRDb2xvcih2YWw6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9lZGdlRXF1YWxzQmFja2dyb3VuZENvbG9yID0gdmFsXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLmZvckVhY2goYyA9PiBjKCkpXG4gICAgfVxuXG5cbiAgICAvLyBQcmVmZXJlbmNlIFZhbHVlc1xuICAgIHByaXZhdGUgX2VkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZyA9IFwibm9uZVwiXG4gICAgcHJpdmF0ZSByZWFkb25seSBjYWxsYmFja3M6ICgoKSA9PiB2b2lkKVtdID0gW11cbn1cblxuZXhwb3J0IGNvbnN0IHVpUHJlZmVyZW5jZXMgPSBuZXcgVUlQcmVmZXJlbmNlcygpIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vQXJndW1lbnRcIjtcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiO1xuaW1wb3J0IHsgR3JhcGhFZGdlLCBHcmFwaCB9IGZyb20gXCIuLi9HcmFwaFwiO1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uL1JlbGF0aW9uc2hpcFwiO1xuaW1wb3J0IHsgbnVtIH0gZnJvbSBcIi4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHsgR3JhcGhNaW5pcHVsYXRvciB9IGZyb20gXCIuLi9HcmFwaE1pbmlwdWxhdG9yXCI7XG5pbXBvcnQgeyBhc3NlcnQsIGZvcl9hbGwsIGZvcl9zb21lIH0gZnJvbSBcIi4uL3V0aWwvYXNzZXJ0XCI7XG5pbXBvcnQgeyBUb3VjaEdlc3R1cmVSZWNvZ25pemVyIH0gZnJvbSBcIi4vVG91Y2hHZXN0dXJlUmVjb2duaXplclwiO1xuaW1wb3J0IHsgRWRnZVZpZXcgfSBmcm9tIFwiLi9FZGdlVmlld1wiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbk5vZGVWaWV3IH0gZnJvbSBcIi4vRXhwcmVzc2lvbk5vZGVWaWV3XCI7XG5pbXBvcnQgeyBBcmd1bWVudE5vZGVWaWV3IH0gZnJvbSBcIi4vQXJndW1lbnROb2RlVmlld1wiO1xuaW1wb3J0IHsgR3JhcGhOb2RlVmlldyB9IGZyb20gXCIuL0dyYXBoTm9kZVZpZXdcIjtcbmltcG9ydCB7IEV4cGxhbmF0aW9uUG9wdXAgfSBmcm9tIFwiLi9FeHBsYW5hdGlvblBvcHVwXCI7XG5pbXBvcnQgeyBNYXRoR3JhcGhOb2RlIH0gZnJvbSBcIi4uL01hdGhHcmFwaE5vZGVcIjtcbmltcG9ydCB7IG50aFJvb3REZXBlbmRlbmNpZXMsIG51bWJlciB9IGZyb20gXCJtYXRoanNcIjtcbmltcG9ydCB7IEludGVycHJldGVyIH0gZnJvbSBcIi4uL2ludGVycHJldGluZy9JbnRlcnByZXRlclwiO1xuXG4vKipcbiAqIEEgdWkgZWxlbWVudCB0aGF0IHdpbGwgZGlzcGxheSBhIG1hdGggZ3JhcGggaW4gYSB3ZWIuXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWJHcmFwaFZpZXcgZXh0ZW5kcyBIVE1MRGl2RWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGdyYXBoIE11c3QgYmUgZnVsbHkgY29ubmVjdGVkLlxuICAgICAqIEBwYXJhbSByb290cyBOb24tZW1wdHkuXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGdyYXBoOiBHcmFwaCwgcm9vdHM6IFNldDxNYXRoR3JhcGhOb2RlPiwgaW50ZXJwcmV0ZXI6IEludGVycHJldGVyLCBjb25maWc6IFdlYkdyYXBoVmlld0luaXRTZXR0aW5ncyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZ3JhcGggPSBncmFwaDtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ldyBNYXA8TWF0aEdyYXBoTm9kZSwgR3JhcGhOb2RlVmlldz4oKTtcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gMDtcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gMDtcbiAgICAgICAgdGhpcy5ub2RlUG9zaXRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmVkZ2VQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZWRnZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucm9vdE5vZGVzID0gbmV3IFNldChyb290cyk7XG4gICAgICAgIHRoaXMucmluZ0VsZW1lbnRzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLnJpbmdQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMgPSBbXVxuICAgICAgICB0aGlzLmludGVycHJldGVyID0gaW50ZXJwcmV0ZXJcblxuICAgICAgICBpZiAoY29uZmlnICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zaG93QXJndW1lbnRzID0gY29uZmlnLnNob3dBcmd1bWVudHNcbiAgICAgICAgICAgIHRoaXMuZHJhd0VkZ2VMaW5lcyA9IGNvbmZpZy5kcmF3RWRnZUxpbmVzXG4gICAgICAgICAgICB0aGlzLmRlYnVnQ29ybmVyRW5hYmxlZCA9IGNvbmZpZy5kZWJ1Z0Nvcm5lckVuYWJsZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGUuY2xpcFBhdGggPSBcInBvbHlnb24oMCUgMCUsIDEwMCUgMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIjtcbiAgICAgICAgdGhpcy5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIlxuICAgICAgICB0aGlzLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIlxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWVcbiAgICAgICAgICAgIHRoaXMudG91Y2hEb3duID0gZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW91c2VEb3duKSByZXR1cm5cbiAgICAgICAgICAgIHRoaXMub2Zmc2V0WCArPSBldmVudC5tb3ZlbWVudFggLyB0aGlzLnNjYWxlXG4gICAgICAgICAgICB0aGlzLm9mZnNldFkgKz0gZXZlbnQubW92ZW1lbnRZIC8gdGhpcy5zY2FsZVxuICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzKVxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW91c2VQb3MgPSBQb2ludChldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZURlbHRhID0gTWF0aC5wb3coMC44LCBldmVudC5kZWx0YVkgLyAzNjApXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGVEZWx0YSAqIHRoaXMuc2NhbGVcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyID0gbmV3IFRvdWNoR2VzdHVyZVJlY29nbml6ZXIoKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hkb3duXCIsIHRoaXMuZ2VzdHVyZVJlY29nbml6ZXIucHJvY2Vzc1RvdWNoRG93bilcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5nZXN0dXJlUmVjb2duaXplci5wcm9jZXNzVG91Y2hFbmQpXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsIHRoaXMuZ2VzdHVyZVJlY29nbml6ZXIucHJvY2Vzc1RvdWNoQ2FuY2VsKVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5nZXN0dXJlUmVjb2duaXplci5wcm9jZXNzVG91Y2hNb3ZlKVxuICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyLmFkZFBpbmNoTGlzdGVuZXIoKGNlbnRlciwgc2NhbGVEZWx0YSwgZmluZ2VycykgPT4ge1xuXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGZ1bmN0aW9uIHRoYXQgZGV0ZXJtaW5lcyB0aGUgY29sb3Igb2YgYSBub2RlLlxuICAgICAqIEBwYXJhbSBjb2xvckZuIFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXROb2RlQ29sb3JpbmdTY2hlbWUoY29sb3JGbjogKG46IE1hdGhHcmFwaE5vZGUpID0+IHN0cmluZykge1xuICAgICAgICB0aGlzLm5vZGVDb2xvckZuID0gY29sb3JGblxuICAgICAgICB0aGlzLnByb3BvZ2F0ZVNldHRpbmdzVG9Ob2RlcygpXG4gICAgfVxuICAgIHByaXZhdGUgbm9kZUNvbG9yRm46IChuOiBNYXRoR3JhcGhOb2RlKSA9PiBzdHJpbmcgPSAobikgPT4gXCJsaWdodGJsdWVcIlxuXG4gICAgcHJpdmF0ZSBwcm9wb2dhdGVTZXR0aW5nc1RvTm9kZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaCgodmlldywgbm9kZSkgPT4ge1xuICAgICAgICAgICAgdmlldy5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLm5vZGVDb2xvckZuKG5vZGUpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBpZiB0aGUgdmlldyBzaG91bGQgc2hvdyBhcmd1bWVudCBub2RlcyBhcyBub2Rlcy5cbiAgICAgKiBGYWxzZSBieSBkZWZhdWx0LlxuICAgICAqIEBwYXJhbSB2YWwgXG4gICAgICovXG4gICAgcHVibGljIHNldFNob3dBcmd1bWVudHModmFsOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuc2hvd0FyZ3VtZW50cyA9IHRydWVcbiAgICAgICAgdGhpcy5yZWFkR3JhcGgoKVxuICAgICAgICB0aGlzLmFycmFuZ2UoKVxuICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldCgpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgY2VudGVyKCk6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5vZmZzZXRXaWR0aCAvIDIsXG4gICAgICAgICAgICB5OiB0aGlzLm9mZnNldEhlaWdodCAvIDIsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb2xsb3dzIHRoZSBzaG93QXJndW1lbnQgc2V0dGluZy5cbiAgICAgKiBQb3B1bGF0ZXMgdGhpcy5ub2RlcywgdGhpcy5lZGdlcyxcbiAgICAgKiBhZGRzIHRoZSBjcmVhdGVkIHZpZXdzIHRvIHRoZSBzaGFkb3cgZG9tXG4gICAgICogdG8gbWF0Y2ggdGhlIGdyYXBoLlxuICAgICAqIFJlbW92ZXMgYW55IHByZS1leGlzdGluZyBlbGVtZW50cyBmcm9tIHRoZSBzaGFkb3cgZG9tLlxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZEdyYXBoKCk6IHZvaWQge1xuICAgICAgICAvLyBDbGVhciBleGlzdGluZ1xuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goKHZpZXcsIG5vZGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodmlldylcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5ub2Rlcy5jbGVhcigpXG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaCgodmlldywgZWRnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh2aWV3KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmVkZ2VzLmNsZWFyKClcblxuICAgICAgICAvLyBGZXRjaCBub2Rlc1xuICAgICAgICB0aGlzLmdyYXBoLmdldE5vZGVzKCkuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRXhwcmVzc2lvbk5vZGVWaWV3KG5vZGUsIHRoaXMuYmFzZU5vZGVTdHlsZSlcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5zZXQobm9kZSwgdmlldylcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZCh2aWV3KVxuICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hvd0FyZ3VtZW50cykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgQXJndW1lbnROb2RlVmlldyhub2RlLCB0aGlzLmJhc2VOb2RlU3R5bGUpXG4gICAgICAgICAgICAgICAgdmlldy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuc2V0KG5vZGUsIHZpZXcpXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQodmlldylcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJHcmFwaCBjb250YWlucyBub2RlIFdlYkdyYXBoVmlldyBjYW4ndCBwcm9jZXNzLlwiKVxuICAgICAgICAgICAgXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gRmV0Y2ggZWRnZXNcbiAgICAgICAgR3JhcGhNaW5pcHVsYXRvci5kcm9wU3ltbWV0cmljKHRoaXMuZ3JhcGguZ2V0RWRnZXMoKSkuZmlsdGVyKGVkZ2UgPT4ge1xuICAgICAgICAgICAgLy8gT25seSBjb25zaWRlciBlZGdlcyBmb3Igd2hpY2ggd2UgaGF2ZSBib3RoIGVuZHBvaW50cyBvbiB0aGUgdmlld1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuaGFzKGVkZ2UubikgJiYgdGhpcy5ub2Rlcy5oYXMoZWRnZS5uMSk7XG4gICAgICAgIH0pLmZvckVhY2goZWRnZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gbmV3IEVkZ2VWaWV3KHRoaXMsIGVkZ2UpXG4gICAgICAgICAgICB2aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICB0aGlzLmVkZ2VzLnNldChlZGdlLCB2aWV3KVxuICAgICAgICAgICAgdGhpcy5hcHBlbmQodmlldylcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnByb3BvZ2F0ZVNldHRpbmdzVG9Ob2RlcygpXG5cbiAgICAgICAgaWYgKHRoaXMuZGVidWdDb3JuZXJFbmFibGVkKSB7XG4gICAgICAgICAgICBjb25zdCBjb3JuZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcbiAgICAgICAgICAgIGNvcm5lci5pbm5lckhUTUwgPSBcIkdyYXBoIE5vZGVzOiBcIiArIHRoaXMuZ3JhcGguZ2V0Tm9kZXMoKS5zaXplICsgXCI8YnI+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBcIlZpc2libGUgTm9kZXM6IFwiICsgdGhpcy5ub2Rlcy5zaXplICsgXCI8YnI+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBcIkdyYXBoIEVkZ2VzOiBcIiArIHRoaXMuZ3JhcGguZ2V0RWRnZXMoKS5zaXplICsgXCI8YnI+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBcIlZpc2libGUgRWRnZXM6IFwiICsgdGhpcy5lZGdlcy5zaXplICsgXCI8YnI+XCJcbiAgICAgICAgICAgIGNvcm5lci5zdHlsZS56SW5kZXggPSBcIjEwMFwiXG4gICAgICAgICAgICBjb3JuZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiXG4gICAgICAgICAgICBjb3JuZXIuc3R5bGUud2lkdGggPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgICAgIGNvcm5lci5zdHlsZS5tYXJnaW4gPSBcIjBcIlxuICAgICAgICAgICAgY29ybmVyLnN0eWxlLnBhZGRpbmcgPSBcIjFjaFwiXG4gICAgICAgICAgICBjb3JuZXIuc3R5bGUuYm9yZGVyID0gXCJibGFjayAxcHggc29saWRcIlxuICAgICAgICAgICAgY29ybmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjb3JuZXIpICAgICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG5cbiAgICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMucmVhZEdyYXBoKClcbiAgICAgICAgdGhpcy5hcnJhbmdlKClcbiAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBpY2sgcGxhY2VzIGZvciBhbGwgdGhlIG5vZGVzL2VkZ2VzIG9uIHRoZSBzY3JlZW4uXG4gICAgICogUG9wdWxhdGVzIHRoZSBwb3NpdGlvbiogcmVwIHZhcnMuXG4gICAgICovXG4gICAgcHJpdmF0ZSBhcnJhbmdlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm5vZGVQb3NpdGlvbnMuY2xlYXIoKVxuICAgICAgICB0aGlzLmVkZ2VQb3NpdGlvbnMuY2xlYXIoKVxuICAgICAgICB0aGlzLnJpbmdQb3NpdGlvbnMuY2xlYXIoKVxuICAgICAgICB0aGlzLnJpbmdFbGVtZW50cy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChlKVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnJpbmdFbGVtZW50cy5jbGVhcigpXG4gICAgIFxuICAgICAgICAvLyBQbGFjZSBub2RlcyBvbiBhIHNlcmllcyBvZiByaW5ncyBmcm9tIHRoZSBjZW50ZXIgdXNpbmcgdGhlaXIgZGVwdGggaW4gdGhlIGdyYXBoXG4gICAgICAgIGNvbnN0IGxldmVscyA9IEdyYXBoTWluaXB1bGF0b3IuZ2V0TGV2ZWxzKHRoaXMuZ3JhcGgsIHRoaXMucm9vdE5vZGVzLCBub2RlID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbikgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUgaW5zdGFuY2VvZiBBcmd1bWVudCkgcmV0dXJuIHRoaXMuc2hvd0FyZ3VtZW50c1xuICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJOZXcgdHlwZSBvZiBub2RlXCIpXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IG1heERlcHRoID0gMDtcbiAgICAgICAgbGV2ZWxzLmZvckVhY2goKF8sIGRlcHRoKSA9PiB7XG4gICAgICAgICAgICBtYXhEZXB0aCA9IE1hdGgubWF4KG1heERlcHRoLCBkZXB0aClcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCBjZW50ZXIgPSB7eDogKHRoaXMuY2xpZW50V2lkdGggLyAyKSwgeTogdGhpcy5jbGllbnRIZWlnaHQgLyAyfTtcbiAgICAgICAgbGV0IGxhc3RSYWRpdXMgPSAwIC8vcHhcbiAgICAgICAgLy8gUmVjb3JkIHRoZSBwb3NpdGlvbnMgb2YgdGhlIGxhc3QgcmluZyBzbyB0aGF0IHdlIGNhblxuICAgICAgICAvLyBtYWtlIHRoZSBncmFwaCBhcHBlYXIgcGxhbmFyLWlzaC4gTWFwcyBub2RlcyB0byBhbmdsZVxuICAgICAgICAvLyBvZmZzZXQgaW4gcmFkaWFucy4gQW5nbGUgbXVzdCBiZSA8IDIqUGlcbiAgICAgICAgbGV0IGxhc3RQb3NpdGlvbnM6IE1hcDxNYXRoR3JhcGhOb2RlLCBudW1iZXI+IHwgbnVsbCA9IG51bGxcbiAgICAgICAgZm9yIChsZXQgZGVwdGggPSAwOyBkZXB0aCA8IG1heERlcHRoICsgMTsgZGVwdGgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBsZXZlbHMuZ2V0KGRlcHRoKSFcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxjdWxhdGluZyB0aGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgICAgICAgICAqIFN1cHBvc2UgZXZlcnkgcm9vdCBub2RlIG9uIHRoZSBzdGFydGluZyBjaXJjbGUgcmVxdWlyZXNcbiAgICAgICAgICAgICAqIGEgY2lyY3VsYXIgc3BhY2UgdG8gYmUgZHJhd24gd2l0aCByYWRpdXMgbm9kZVJhZGl1c1xuICAgICAgICAgICAgICogQSBzdGFydGluZyBjaXJjbGUgd2l0aCBuIG9mIHRoZXNlIG5vZGVzIHdvdWxkIHJlcXVpcmUgYSBcbiAgICAgICAgICAgICAqIGNpcmN1bWZlcmVuY2Ugb2YgbiAqIDJub2RlUmFkaXVzLlxuICAgICAgICAgICAgICogVGhlIGNpcmN1bWZlcmVuY2Ugb2YgYSBjaXJjbGUgY2FuIGJlIGV4cHJlc3NlZFxuICAgICAgICAgICAgICogYXMgMipwaSpyXG4gICAgICAgICAgICAgKiA9PiByID0gbiAqIDIgKiBzbWFsbFIgLyAoMiAqIHBpKVxuICAgICAgICAgICAgICogICAgICA9IG4gKiBzbWFsbFIgLyBwaVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBub2RlUmFkaXVzID0gNzA7IC8vIHBpeGVsc1xuICAgICAgICAgICAgbGV0IHJhZGl1cyA9IE1hdGgubWF4KG5vZGVzLnNpemUgKiBub2RlUmFkaXVzIC8gTWF0aC5QSSwgbGFzdFJhZGl1cyArICgzKm5vZGVSYWRpdXMpKVxuICAgICAgICAgICAgaWYgKGRlcHRoID09IDAgJiYgbm9kZXMuc2l6ZSA9PSAxKSByYWRpdXMgPSAwXG4gICAgICAgICAgICBsYXN0UmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgICAgICAvLyBNaW5pbXVtIHJhZGlhbnMgbmVjZXNzYXJ5IHRvIGtlZXAgbm9kZXMgbmVjZXNzYXJpbHkgc3BhY2VkIGF0IHRoZSBnaXZlbiBkZXB0aFxuICAgICAgICAgICAgY29uc3Qgc3RlcFNpemUgPSAoMiAqIE1hdGguUEkpIC8gTWF0aC5tYXgobm9kZXMuc2l6ZSwgcmFkaXVzKjIqTWF0aC5QSSAvICgyKjEuMipub2RlUmFkaXVzKSk7XG4gICAgXG4gICAgICAgICAgICAvLyBNYXBzIG5vZGVzIHRvIGFuZ2xlcyAocmFkKVxuICAgICAgICAgICAgY29uc3QgbnMgPSBuZXcgTWFwPE1hdGhHcmFwaE5vZGUsIG51bWJlcj4oKTtcblxuICAgICAgICAgICAgaWYgKGxhc3RQb3NpdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkZWFsQW5nbGVzID0gbmV3IE1hcDxNYXRoR3JhcGhOb2RlLCBudW1iZXI+KCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIG5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvIG5vdCBhc3N1bWUgdGhlIGdyYXBoIGlzIGEgdHJlZVxuICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgdGhlIG5vZGUgaGFzIGEgcGFyZW50XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ3JhcGguZ2V0TmVpZ2hib3JzKG4sIFwiaW5cIikhXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIobiA9PiBsZXZlbHMuZ2V0KGRlcHRoLTEpIS5oYXMobikgJiYgbGFzdFBvc2l0aW9ucyEuaGFzKG4pKVswXVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZGVhbEFuZ2xlID0gbGFzdFBvc2l0aW9ucy5nZXQocGFyZW50KSFcbiAgICAgICAgICAgICAgICAgICAgaWRlYWxBbmdsZXMuc2V0KG4sIGlkZWFsQW5nbGUpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGlkZWFsQW5nbGVzLnNpemUgPT0gbm9kZXMuc2l6ZSlcblxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBub2Rlcy5zaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIGlkZWFsQW5nbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYT0wXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZm9yX3NvbWUobnMsIHAgPT4gTWF0aC5hYnMocFsxXSAtIHBhaXJbMV0pIDwgc3RlcFNpemUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpclsxXSArPSBzdGVwU2l6ZSAqIGEgKiAoKC0xKSAqKiAoYSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYSsrXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBucy5zZXQocGFpclswXSwgcGFpclsxXSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi5ub2Rlc11cbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaSA8IG5vZGVzLnNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBucy5zZXQodGVtcFtpXSwgaSAqIHN0ZXBTaXplKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXNzZXJ0KG5zLnNpemUgPT0gbm9kZXMuc2l6ZSwgXCJPbmx5IHByb2R1Y2VkIFwiICsgbnMuc2l6ZSArIFwiIG5vZGVzIGluc3RlYWQgb2YgXCIgKyBub2Rlcy5zaXplKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsYXN0UG9zaXRpb25zID0gbmV3IE1hcCgpXG4gICAgICAgICAgICBucy5mb3JFYWNoKChhbmdsZSwgbm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLm5vZGVzLmdldChub2RlKSE7XG4gICAgICAgICAgICAgICAgLy92aWV3LnN0eWxlLndpZHRoID0gXCJcIiArIHNtYWxsUiArIFwicHhcIlxuICAgICAgICAgICAgICAgIC8vdmlldy5zdHlsZS5oZWlnaHQgPSBcIlwiICsgc21hbGxSICsgXCJweFwiXG4gICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9ucyEuc2V0KG5vZGUsIGFuZ2xlKVxuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBjYXJ0ZXNpYW4gcG9pbnQgZnJvbSB0aGUgcmFkaXVzIGFuZCBhbmdsZVxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkgKyBjZW50ZXIueFxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSkgKyBjZW50ZXIueVxuICAgICAgICAgICAgICAgIHRoaXMubm9kZVBvc2l0aW9ucy5zZXQodmlldywgUG9pbnQoeCwgeSkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgYXNzZXJ0KGZvcl9hbGwobGFzdFBvc2l0aW9ucy52YWx1ZXMoKSwgcG9zID0+IHBvcyAhPSB1bmRlZmluZWQgJiYgcG9zICE9IG51bGwpKVxuICAgICAgICAgICAgLy9hc3NlcnQobGFzdFBvc2l0aW9ucy5zaXplID4gMClcbiAgICAgICAgICAgIC8vYXNzZXJ0KGZvcl9hbGwobm9kZXMsIGxhc3RQb3NpdGlvbnMuaGFzKSlcblxuICAgICAgICAgICAgY29uc3QgcmluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgICAgIHJpbmcuc3R5bGUuYm9yZGVyID0gXCJsaWdodGdyYXkgc29saWQgMC4zY2hcIlxuICAgICAgICAgICAgcmluZy5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjEwMCVcIlxuICAgICAgICAgICAgcmluZy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgcmluZy5zdHlsZS56SW5kZXggPSBSSU5HX1pcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQocmluZylcbiAgICAgICAgICAgIHRoaXMucmluZ0VsZW1lbnRzLmFkZChyaW5nKVxuICAgICAgICAgICAgdGhpcy5yaW5nUG9zaXRpb25zLnNldChyaW5nLCB7cmFkaXVzOiByYWRpdXN9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IGFyYW5nZSB0aGUgZWRnZXNcbiAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKCh2aWV3LCBlZGdlKSA9PiB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBtaWRkbGUgb2YgdGhlIHR3byBlbmRwdHNcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0WCA9IHRoaXMubm9kZVBvc2l0aW9ucy5nZXQodGhpcy5ub2Rlcy5nZXQoZWRnZS5uKSEpIS54O1xuICAgICAgICAgICAgY29uc3QgZmlyc3RZID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldCh0aGlzLm5vZGVzLmdldChlZGdlLm4pISkhLnk7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRYID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldCh0aGlzLm5vZGVzLmdldChlZGdlLm4xKSEpIS54O1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kWSA9IHRoaXMubm9kZVBvc2l0aW9ucy5nZXQodGhpcy5ub2Rlcy5nZXQoZWRnZS5uMSkhKSEueTtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoZmlyc3RYICsgc2Vjb25kWCkgLyAyXG4gICAgICAgICAgICBjb25zdCB5ID0gKGZpcnN0WSArIHNlY29uZFkpIC8gMlxuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHNlY29uZFkgLSBmaXJzdFksIHNlY29uZFggLSBmaXJzdFgpXG4gICAgICAgICAgICB0aGlzLmVkZ2VQb3NpdGlvbnMuc2V0KHZpZXcsIHt4OiB4LCB5OiB5LCBhbmdsZTogYW5nbGV9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZHJhdyBwb3NpdGlvbiBvZiB0aGUgbm9kZXMgb24gdGhlIHNjcmVlblxuICAgICAqIHRvIG1hdGNoIHRoZSBvZmZzZXQgaW4gcmVwLiBBc3N1bWVzIGFsbCB2aWV3cyBoYXZlIGEgcG9zaXRpb25cbiAgICAgKiBzdG9yZWQgaW4gdGhlIHJlcC4gQ2FsbCBhcnJhbmdlKCkgZmlyc3QuXG4gICAgICogQWxzbyBhcHBsaWVzIHRoZSBzY2FsZSBmYWN0b3IgdG8gdGhlIGZpbmFsIGRyYXcgcG9zaXRpb25zLCBcbiAgICAgKiBpbnZpc2libGUgdG8gZXZlcnlvbmUgZWxzZS5cbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZU9mZnNldCgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZVxuXG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5U2NhbGUoaTogUG9pbnQpOiBQb2ludCB7XG4gICAgICAgICAgICByZXR1cm4gUG9pbnQoXG4gICAgICAgICAgICAgICAgKChpLngpLWNlbnRlci54KSAqIHNjYWxlICsgY2VudGVyLngsXG4gICAgICAgICAgICAgICAgKChpLnkpLWNlbnRlci55KSAqIHNjYWxlICsgY2VudGVyLnlcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubm9kZVBvc2l0aW9ucy5mb3JFYWNoKChwb3MsIHZpZXcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkID0gYXBwbHlTY2FsZSh7XG4gICAgICAgICAgICAgICAgeDogcG9zLnggKyB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogcG9zLnkgKyB0aGlzLm9mZnNldFksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdmlldy5zdHlsZS5sZWZ0ID0gXCJcIiArIChhZGp1c3RlZC54IC0gKDAuNSAqIHZpZXcub2Zmc2V0V2lkdGgpKSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS50b3AgPSBcIlwiICsgKGFkanVzdGVkLnkgLSAoMC41ICogdmlldy5vZmZzZXRIZWlnaHQpKSArIFwicHhcIlxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZWRnZVBvc2l0aW9ucy5mb3JFYWNoKChwb3MsIHZpZXcpID0+IHtcbiAgICAgICAgICAgIHZpZXcuc2V0QW5nbGUocG9zLmFuZ2xlKVxuICAgICAgICAgICAgaWYgKHRoaXMuZHJhd0VkZ2VMaW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UG9zID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldCh0aGlzLm5vZGVzLmdldCh2aWV3LmZpcnN0KSEpIVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZFBvcyA9IHRoaXMubm9kZVBvc2l0aW9ucy5nZXQodGhpcy5ub2Rlcy5nZXQodmlldy5zZWNvbmQpISkhXG4gICAgICAgICAgICAgICAgdmlldy53aWR0aCA9IFwiXCIgKyAgKHNjYWxlICogTWF0aC5oeXBvdChzZWNvbmRQb3MueCAtIGZpcnN0UG9zLngsIHNlY29uZFBvcy55IC0gZmlyc3RQb3MueSkpICsgXCJweFwiXG4gICAgICAgICAgICAgICAgdmlldy5zdHlsZS5ib3JkZXJCb3R0b20gPSBcImJsYWNrIDAuMWNoIHNvbGlkXCJcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLmJvcmRlclRvcCA9IFwiYmxhY2sgMC4xY2ggc29saWRcIlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2aWV3LndpZHRoID0gXCJmaXQtY29udGVudFwiXG4gICAgICAgICAgICAgICAgdmlldy5zdHlsZS5ib3JkZXJCb3R0b20gPSBcIm5vbmVcIlxuICAgICAgICAgICAgICAgIHZpZXcuc3R5bGUuYm9yZGVyVG9wID0gXCJub25lXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWQgPSBhcHBseVNjYWxlKHtcbiAgICAgICAgICAgICAgICB4OiBwb3MueCArIHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiBwb3MueSArIHRoaXMub2Zmc2V0WSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHZpZXcuc3R5bGUubGVmdCA9IFwiXCIgKyAoYWRqdXN0ZWQueCAgLSAoMC41ICogdmlldy5vZmZzZXRXaWR0aCkpICsgXCJweFwiXG4gICAgICAgICAgICB2aWV3LnN0eWxlLnRvcCA9IFwiXCIgKyAoYWRqdXN0ZWQueSAgLSAoMC41ICogdmlldy5vZmZzZXRIZWlnaHQpKSArIFwicHhcIlxuICAgICAgICB9KVxuICAgIFxuICAgICAgICAvLyBPdmVybGF5IGVsZW1lbnRzIGNoYW5nZSBzaXplIHdpdGggc2NhbGVcbiAgICAgICAgdGhpcy5yaW5nUG9zaXRpb25zLmZvckVhY2goKHBvcywgdmlldykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRDZW50ZXJQb3MgPSBhcHBseVNjYWxlKHtcbiAgICAgICAgICAgICAgICB4OiBjZW50ZXIueCArIHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiBjZW50ZXIueSArIHRoaXMub2Zmc2V0WSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB2aWV3LnN0eWxlLmxlZnQgPSBcIlwiICsgKGFkanVzdGVkQ2VudGVyUG9zLnggLSAocG9zLnJhZGl1cyAqIHNjYWxlKSkgKyBcInB4XCJcbiAgICAgICAgICAgIHZpZXcuc3R5bGUudG9wID0gXCJcIiArIChhZGp1c3RlZENlbnRlclBvcy55IC0gKHBvcy5yYWRpdXMgKiBzY2FsZSkpICsgXCJweFwiXG4gICAgICAgICAgICB2aWV3LnN0eWxlLndpZHRoID0gXCJcIiArIHBvcy5yYWRpdXMgKiAyICogc2NhbGUgKyBcInB4XCJcbiAgICAgICAgICAgIHZpZXcuc3R5bGUuYXNwZWN0UmF0aW8gPSBcIjFcIlxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMuZm9yRWFjaCh2YWwgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmlldyA9IHZhbC5lXG4gICAgICAgICAgICBjb25zdCBwb3MgPSB2YWwucG9zXG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZCA9IGFwcGx5U2NhbGUoe1xuICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgdGhpcy5vZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgdGhpcy5vZmZzZXRZLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHZpZXcuc3R5bGUubGVmdCA9IFwiXCIgKyAoYWRqdXN0ZWQueCAgLSAoMC41ICogdmlldy5vZmZzZXRXaWR0aCkpICsgXCJweFwiXG4gICAgICAgICAgICB2aWV3LnN0eWxlLnRvcCA9IFwiXCIgKyAoYWRqdXN0ZWQueSAgLSAoMC41ICogdmlldy5vZmZzZXRIZWlnaHQpKSArIFwicHhcIlxuICAgICAgICB9KVxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXAgZnJvbSByZWxhdGl2ZSBzY3JlZW4gY29vcmRpbmF0ZXMgKHdoZXJlIHRsIG9mIHRoaXMgdmlldyBpcyAoMCwwKSlcbiAgICAgKiB0byB0aGUgaW50ZXJuYWwgY29vcmRpbmF0ZSBzeXN0ZW0gd2UncmUgdXNpbmcuXG4gICAgICovXG4gICAgcHJpdmF0ZSBnZXRJbnRlcm5hbFBvcyhwaXhlbFBvczogUG9pbnQpOiBQb2ludCB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGVcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBQb2ludCAoXG4gICAgICAgICAgICAocGl4ZWxQb3MueCAtIGNlbnRlci54KSAvIHNjYWxlICsgY2VudGVyLnggLSB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgICAocGl4ZWxQb3MueSAtIGNlbnRlci55KSAvIHNjYWxlICsgY2VudGVyLnkgLSB0aGlzLm9mZnNldFksXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFjdCB0byBhbiBlZGdlIGJlaW5nIGNsaWNrZWQuXG4gICAgICogQHBhcmFtIHZpZXcgSW4gdGhpcyB2aWV3XG4gICAgICogQHBhcmFtIGV2ZW50IFRoZSBjbGljayBldmVudFxuICAgICAqL1xuICAgIHB1YmxpYyBlZGdlQ2xpY2tlZCh2aWV3OiBFZGdlVmlldywgZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgLy8gVE9ETzogRG9uJ3QgYWxsb3cgZHVwbGlhdGUgZXhwbGFuYXRpb24gcG9wdXBzXG4gICAgICAgIFxuICAgICAgICBpZiAodmlldy5lZGdlIGluc3RhbmNlb2YgQXJndW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwID0gbmV3IEV4cGxhbmF0aW9uUG9wdXAodmlldy5lZGdlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChwb3B1cClcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaSA8IHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZXhwbGFuYXRpb25Qb3B1cHNbaV0uZSA9PT0gcG9wdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9ICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBjb25zdCByZWFsdGl2ZVggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVZID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xuICAgICAgICAgICAgLy9UT0RPOiBUaGUgcG9zaXRpb24gaXNuJ3QgY29ycmVjdFxuICAgICAgICAgICAgLy9UT0RPOiBBbGdvcml0aG0gZm9yIHBpY2tpbmcgd2hlcmUgd2Ugc2hvdWxkIHB1dCB0aGUgcG9wdXAgc28gaXQgc3RheXMgb3V0XG4gICAgICAgICAgICAvLyBvZiB0aGUgd2F5IG9mIHRoZSBncmFwaFxuICAgICAgICAgICAgdGhpcy5leHBsYW5hdGlvblBvcHVwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlOiBwb3B1cCwgXG4gICAgICAgICAgICAgICAgcG9zOiB0aGlzLmdldEludGVybmFsUG9zKFBvaW50KHJlYWx0aXZlWCwgcmVsYXRpdmVZKSksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcG9wdXAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKHBvcHVwKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW9yZGVyVmlld1N0YWNrKHZpZXcpXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgei1pbmRleCBvZiBhbGwgdGhlIGVsZW1lbnRzIGluIHRoZSBncmFwaFxuICAgICAqIHB1dHRpbmcgdGhlIGdpdmVuIHJvb3Qgb24gdG9wIGFuZCBpdCdzIG5laWdoYm9yc1xuICAgICAqIHJpZ2h0IGJlbmVhdGggaXQgZXRjLlxuICAgICAqIEBwYXJhbSByb290IFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVvcmRlclZpZXdTdGFjayhyb290OiBFZGdlVmlldyB8IEdyYXBoTm9kZVZpZXcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJvb3QgaW5zdGFuY2VvZiBHcmFwaE5vZGVWaWV3KSB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcblxuICAgICAgICBpZiAocm9vdCBpbnN0YW5jZW9mIEVkZ2VWaWV3KSB7XG4gICAgICAgICAgICBjb25zdCByb290cyA9IFtyb290LmZpcnN0LCByb290LnNlY29uZF1cbiAgICAgICAgICAgIGNvbnN0IHN0YWNraW5nT3JkZXIgPSBHcmFwaE1pbmlwdWxhdG9yLmdldExldmVscyh0aGlzLmdyYXBoLCByb290cylcbiAgICAgICAgICAgIHN0YWNraW5nT3JkZXIuZm9yRWFjaCgobm9kZVNldCwgZGVwdGgpID0+IHtcbiAgICAgICAgICAgICAgICBub2RlU2V0LmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zaG93QXJndW1lbnRzICYmIG5vZGUgaW5zdGFuY2VvZiBBcmd1bWVudCkgcmV0dXJuXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBZGp1c3RpbmdcIilcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZVZpZXcgPSB0aGlzLm5vZGVzLmdldChub2RlKSFcbiAgICAgICAgICAgICAgICAgICAgbm9kZVZpZXcuc3R5bGUuekluZGV4ID0gKE5PREVfTUFYX1ogLSAwLjAwMDEgKiBkZXB0aCkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gRWRnZXNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKChlZGdlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGdlLmZpcnN0ID09PSBub2RlIHx8IGVkZ2Uuc2Vjb25kID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZS5zdHlsZS56SW5kZXggPSAoRURHRV9NQVhfWiAtIDAuMDAwMSAqIGRlcHRoKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXBPaygpOiB2b2lkIHtcbiAgICAgICAgYXNzZXJ0ICh0aGlzLnJvb3ROb2Rlcy5zaXplID4gMClcbiAgICAgICAgYXNzZXJ0KEdyYXBoTWluaXB1bGF0b3IuaXNDb25uZWN0ZWQodGhpcy5ncmFwaCksIFwiR3JhcGggbm90IGNvbm5lY3RlZFwiKVxuICAgICAgICBpZiAodGhpcy5zaG93QXJndW1lbnRzKSBhc3NlcnQodGhpcy5ncmFwaC5nZXROb2RlcygpLnNpemUgPT0gdGhpcy5ub2Rlcy5zaXplKVxuICAgIH1cblxuICAgIHByaXZhdGUgZ3JhcGg6IEdyYXBoO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgaW50ZXJwcmV0ZXI6IEludGVycHJldGVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbm9kZXM6IE1hcDxNYXRoR3JhcGhOb2RlLCBHcmFwaE5vZGVWaWV3PjtcbiAgICAvLyBUaGUgUG9zaXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGUgbm9kZS5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG5vZGVQb3NpdGlvbnM6IE1hcDxHcmFwaE5vZGVWaWV3LCBQb2ludD47XG4gICAgcHJpdmF0ZSByZWFkb25seSBlZGdlczogTWFwPHtuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSwgZTogR3JhcGhFZGdlfSwgRWRnZVZpZXc+O1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZWRnZVBvc2l0aW9uczogTWFwPEVkZ2VWaWV3LCBBbmdsZVBvaW50PjtcbiAgICAvLyBBbXQgdG8gYWRkIHRvIGxlZnQgY29vcmRpbmF0ZVxuICAgIHByaXZhdGUgb2Zmc2V0WDogbnVtYmVyO1xuICAgIC8vIEFkZGVkIHRvIHRvcCBjb29yZGluYXRlIG9mIG5vZGVzXG4gICAgcHJpdmF0ZSBvZmZzZXRZOiBudW1iZXI7XG4gICAgLy8gaWYgdGhlIG1vdXNlIGlzIGRvd25cbiAgICBwcml2YXRlIG1vdXNlRG93bjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgdG91Y2hEb3duOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIHNjYWxlOiBudW1iZXIgPSAxO1xuXG4gICAgLy8gVGhlc2Ugbm9kZXMgYXJlIHRoZSByb290IG9mIHRoZSBncmFwaFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcm9vdE5vZGVzOiBTZXQ8TWF0aEdyYXBoTm9kZT47XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHJpbmdFbGVtZW50czogU2V0PEhUTUxFbGVtZW50PjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJpbmdQb3NpdGlvbnM6IE1hcDxIVE1MRWxlbWVudCwge3JhZGl1czogbnVtYmVyfT47XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiBvZiB0b3AgbGVmdCBvZiBwb3B1cFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZXhwbGFuYXRpb25Qb3B1cHM6IHtlOiBFeHBsYW5hdGlvblBvcHVwLCBwb3M6IFBvaW50fVtdXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGdlc3R1cmVSZWNvZ25pemVyOiBUb3VjaEdlc3R1cmVSZWNvZ25pemVyO1xuXG4gICAgLy8gSWYgdGhlIGdyYXBoIHNob3VsZCBkcmF3IGFyZ3VtZW50IG5vZGVzLlxuICAgIHByaXZhdGUgc2hvd0FyZ3VtZW50czogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgZHJhd0VkZ2VMaW5lczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgZGVidWdDb3JuZXJFbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKF8gPT4ge1xuICAgICAgICB0aGlzLmFycmFuZ2UoKVxuICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldCgpXG4gICAgfSlcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYmFzZU5vZGVTdHlsZSA9ICh2aWV3OiBHcmFwaE5vZGVWaWV3KTogdm9pZCA9PiB7XG4gICAgICAgIHZpZXcuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCIxY2hcIlxuICAgICAgICB2aWV3LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibGlnaHRibHVlXCJcbiAgICAgICAgdmlldy5zdHlsZS56SW5kZXggPSBcIlwiICsgTk9ERV9NQVhfWjtcbiAgICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcIndlYi1ncmFwaHZpZXdcIiwgV2ViR3JhcGhWaWV3LCB7ZXh0ZW5kczogXCJkaXZcIn0pO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdlYkdyYXBoVmlld0luaXRTZXR0aW5ncyB7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHZpZXcgc2hvdWxkIGRpc3BsYXkgYXJndW1lbnQgbm9kZXMgYXMgbm9kZXMuXG4gICAgICogSGVscGZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqL1xuICAgIHNob3dBcmd1bWVudHM6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBkcmF3cyBhIGxpbmUgZm9yIGV2ZXJ5IGVkZ2UgY29ubmVjdGluZ1xuICAgICAqIGl0cyB0d28gZW5kIHBvaW50cy4gKE5vdGF0ZXMgZGlyZWN0aW9uIG9mIGNvbm5lY3Rpb24pXG4gICAgICovXG4gICAgZHJhd0VkZ2VMaW5lczogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHNob3dzIGEgYm94IGluIHRoZSBjb3JuZXIgb2YgdGhlIHZpZXdcbiAgICAgKiB0aGF0IGdpdmVzIGRlYnVnIGluZm8gYWJvdXQgdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIGRlYnVnQ29ybmVyRW5hYmxlZDogYm9vbGVhbjtcbn1cblxudHlwZSBQb2ludCA9IHt4OiBudW1iZXIsIHk6IG51bWJlcn1cbnR5cGUgQW5nbGVQb2ludCA9IFBvaW50ICYge2FuZ2xlOiBudW1iZXIvKlJhZGlhbnMgKi99XG5cbmZ1bmN0aW9uIFBvaW50KHg6IG51bWJlciwgeTogbnVtYmVyLCBhbmdsZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogUG9pbnQgfCBBbmdsZVBvaW50IHtcbiAgICBpZiAoYW5nbGUgPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgICBhbmdsZTogYW5nbGUsXG4gICAgfVxufVxuXG4vLyBaIEluZGV4IGNvbnN0YW50c1xuY29uc3QgREVCVUdfV0lORE9XX1ogPSBcIjEwMFwiO1xuY29uc3QgTk9ERV9NQVhfWiA9IDU7XG5jb25zdCBOT0RFX01JTl9aID0gXCI0LjAwMDAwMVwiO1xuY29uc3QgRURHRV9NQVhfWiA9IDQ7XG5jb25zdCBFREdFX01JTl9aID0gXCIzLjAwMDAwMVwiO1xuY29uc3QgUklOR19aID0gXCItMTBcIjsiLCJpbXBvcnQgYW50bHI0LCB7IFBhcnNlclJ1bGVDb250ZXh0IH0gZnJvbSBcImFudGxyNFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuY29uc3QgeyBDb21tb25Ub2tlblN0cmVhbSwgQ2hhclN0cmVhbSB9ID0gYW50bHI0XG5pbXBvcnQgYXJpdGhtZXRpY0xleGVyIGZyb20gXCIuL2FyaXRobWV0aWNMZXhlclwiXG5pbXBvcnQgYXJpdGhtZXRpY1BhcnNlciwgeyBFeHByZXNzaW9uQ29udGV4dCwgT3BlbkNvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCJcbmltcG9ydCB7IEV4cHJlc3Npb25WaXNpdG9yIH0gZnJvbSBcIi4vTWF0aFZpc2l0b3JJbXBsXCJcbmltcG9ydCB7IFByaW50VmlzaXRvciB9IGZyb20gXCIuL1ByaW50VmlzaXRvclwiXG5pbXBvcnQgeyBGbGF0dGVuZXIgfSBmcm9tIFwiLi9GbGF0dGVuZXJcIlxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL3V0aWwvYXNzZXJ0XCJcblxuLyoqXG4gKiBQYXJzZXMgdGhlIGdpdmVuIGlucHV0IHN0cmluZyB0byBhbiBleHByZXNzaW9uLlxuICogQHBhcmFtIGlucHV0IFNlZSB0aGUgZ3JhbWFyIGZpbGUgKC5nNClcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFeHByZXNzaW9uKGlucHV0OiBzdHJpbmcpOiBFeHByZXNzaW9uIHtcblxuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBDaGFyU3RyZWFtKGlucHV0LCB0cnVlKVxuICAgIGNvbnN0IGxleGVyID0gbmV3IGFyaXRobWV0aWNMZXhlcihzdHJlYW0pXG4gICAgY29uc3QgdG9rZW5zID0gbmV3IENvbW1vblRva2VuU3RyZWFtKGxleGVyKVxuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBhcml0aG1ldGljUGFyc2VyKHRva2VucylcbiAgICAvL3BhcnNlci5idWlsZFBhcnNlVHJlZXMgPSB0cnVlXG4gICAgY29uc3QgdHJlZSA9IHBhcnNlci5leHByZXNzaW9uKClcblxuICAgIFxuXG4gICAgdHJlZS5hY2NlcHQ8T3BlbkNvbnRleHQ+KG5ldyBGbGF0dGVuZXIoKSlcblxuICAgIC8vIFByaW50IGRlYnVnIGluZm9cbiAgICAvL3RyZWUuYWNjZXB0KG5ldyBQcmludFZpc2l0b3IoKSlcblxuICAgIGNvbnN0IHJlc3VsdCA9IHRyZWUuYWNjZXB0PEV4cHJlc3Npb24+KG5ldyBFeHByZXNzaW9uVmlzaXRvcigpKVxuICAgIGFzc2VydChyZXN1bHQgIT0gbnVsbCAmJiByZXN1bHQgIT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiByZXN1bHRcbn1cbiIsImltcG9ydCB7IFBhcnNlclJ1bGVDb250ZXh0LCBQYXJzZVRyZWUsIFRlcm1pbmFsTm9kZSB9IGZyb20gXCJhbnRscjRcIjtcbmltcG9ydCB7IHJlbW92ZSB9IGZyb20gXCIuLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IENsb3NlZENvbnRleHQsIEV4cHJlc3Npb25Db250ZXh0LCBPcGVuQ29udGV4dCwgUHJvZHVjdENvbnRleHQsIFN1bUNvbnRleHQsIFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCBhcml0aG1ldGljVmlzaXRvciBmcm9tIFwiLi9hcml0aG1ldGljVmlzaXRvclwiO1xuXG5cbi8qKlxuICogVmlzaXRvciB0aGF0IGZsYXR0ZW5zIHN1bXMgYW5kIHByb2R1Y3RzIGluIEFTVHMuXG4gKiBhICsgKGIgKyBjKSAtPiBhICsgYiArIGNcbiAqIFxuICogVGhpcyBvbmx5IGhhcHBlbnMgaWYgYiArIGMgaXNuJ3QgYWN0dWFsbHkgc3Vycm91bmRlZCBcbiAqIGJ5IHBhcmVucy5cbiAqIFxuICogICAgICAgICtcbiAqICAgICAgIC8gXFxcbiAqICAgICAgYSAgICtcbiAqICAgICAgICAgLyBcXFxuICogICAgICAgIGIgICBjXG4gKiBcbiAqIGJlY29tZXNcbiAqIFxuICogICAgICAgK1xuICogICAgICAvfFxcXG4gKiAgICAgYSBiIGNcbiAqICAgXG4gKiBcbiAqL1xuZXhwb3J0IGNsYXNzIEZsYXR0ZW5lciBleHRlbmRzIGFyaXRobWV0aWNWaXNpdG9yPENsb3NlZENvbnRleHQ+IHtcblxuICAgIHZpc2l0U3VtID0gKGN0eDogU3VtQ29udGV4dCk6IENsb3NlZENvbnRleHQgPT4ge1xuICAgICAgICBjb25zdCBmbGF0dGVuZWQgPSB0aGlzLmZsYXR0ZW5BZGRpdGlvbihjdHgpXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmxhdHRlbmVkLmNoaWxkcmVuISkge1xuICAgICAgICAgICAgdGhpcy52aXNpdChjaGlsZClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhdHRlbmVkXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcmludENoaWxkcmVuKGN0eDogU3VtQ29udGV4dCk6IHZvaWQge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN0eC5jaGlsZHJlbiEpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjaGlsZC5nZXRUZXh0KCkgKyBcIiAgXCIgXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxuICAgICAgICAvL2NvbnNvbGUubG9nKGN0eC50b1N0cmluZ1RyZWUobnVsbCwgY3R4LnBhcnNlciEpKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIHRoZSBnaXZlbiBzdW0ncyBjaGlsZHJlbiBhcmUgYWxzbyBzdW1zLCBcbiAgICAgKiBzZXRzIHRob3NlIHN1bXMgcGFyZW50cyB0byB0aGUgY3R4LlxuICAgICAqIFRoZSBnaXZlbiBzdW1jb250ZXh0IGFuZCBhbGwgaXRzIHN1bSBjaGlsZHJlblxuICAgICAqIG11c3QgaGF2ZSBleGFjdGx5IDIgZXhwcmVzc2lvbiBwYXJ0IGNoaWxkcmVuLlxuICAgICAqIFRoaXMgcHJldmVudHMgdGhlIG1pbmQgZnVjayBvZiByZWFycmFuZ2luZyB0aGVcbiAgICAgKiBBU1Qgb24gdGhlIHdheSBiYWNrIG91dC5cbiAgICAgKi9cbiAgICBwcml2YXRlIGZsYXR0ZW5BZGRpdGlvbihjdHg6IFN1bUNvbnRleHQpOiBDbG9zZWRDb250ZXh0IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgY2hpbGRyZW4gYXJlIHN1bXNcbiAgICAgICAgLy8gUmVhY2ggZG93biBhbmQgdGFrZSB0aGVpciBjaGlsZHJlblxuICAgICAgICBmdW5jdGlvbiB0YWtlQ2hpbGRyZW4oY2hpbGQ6IFN1bUNvbnRleHQpIHtcbiAgICAgICAgICAgIHJlbW92ZShjdHguY2hpbGRyZW4hLCBjaGlsZClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTW92ZSB0aGUgZXhwcmVzc2lvbiB1cFxuICAgICAgICAgICAgaWYgKGNoaWxkLl9yaWdodCBpbnN0YW5jZW9mIFN1bUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY2hpbGQuX3JpZ2h0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fcmlnaHQucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLl9yaWdodClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgaXNuJ3QgYWx3YXlzIGNvcnJlY3QgYmVjYXVzZSBuZWdhdGlvbiBvZiBzdW1zXG4gICAgICAgICAgICAvLyBPciBpcyBpcy4uLlxuICAgICAgICAgICAgLy8gQWxzbyBsb29rIGF0IHByb2R1Y3QgZmxhdHRlbmluZ1xuXG4gICAgICAgICAgICAvLyBNb3ZlIHRoZSBvcGVyYXRvciB1cFxuICAgICAgICAgICAgaWYgKGNoaWxkLk1JTlVTKCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLk1JTlVTKCkucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLk1JTlVTKCkpXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUoY2hpbGQuY2hpbGRyZW4hLCBjaGlsZC5NSU5VUygpKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5QTFVTKCkucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLlBMVVMoKSlcbiAgICAgICAgICAgICAgICAvL3JlbW92ZShjaGlsZC5jaGlsZHJlbiEsIGNoaWxkLlBMVVMoKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNoaWxkLl9sZWZ0IGluc3RhbmNlb2YgU3VtQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRha2VDaGlsZHJlbihjaGlsZC5fbGVmdClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2xlZnQucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLl9sZWZ0KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnRDdHggPSB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4Ll9sZWZ0IGluc3RhbmNlb2YgU3VtQ29udGV4dCkgXG4gICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY3R4Ll9sZWZ0KVxuICAgICAgICBpZiAoY3R4Ll9yaWdodCBpbnN0YW5jZW9mIFN1bUNvbnRleHQpIFxuICAgICAgICAgICAgdGFrZUNoaWxkcmVuKGN0eC5fcmlnaHQpXG5cbiAgICAgICAgcmV0dXJuIGN0eFxuICAgIH1cblxuICAgIHZpc2l0UHJvZHVjdCA9IChjdHg6IFByb2R1Y3RDb250ZXh0KTogQ2xvc2VkQ29udGV4dCA9PiB7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZCA9IHRoaXMuZmxhdHRlblByb2R1Y3QoY3R4KVxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGZsYXR0ZW5lZC5jaGlsZHJlbiEpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaXQoY2hpbGQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZFxuICAgIH1cblxuICAgIHByaXZhdGUgZmxhdHRlblByb2R1Y3QoY3R4OiBQcm9kdWN0Q29udGV4dCk6IENsb3NlZENvbnRleHQge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiRmxhdHRlbmluZyBwcm9kdWN0IFwiICsgY3R4LmdldFRleHQoKSArIFwiIHRvXCIpXG5cbiAgICAgICAgZnVuY3Rpb24gaW5zdGFuY2VPZlByb2R1Y3QoY2hpbGQ6IFBhcnNlclJ1bGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQgaW5zdGFuY2VvZiBQcm9kdWN0Q29udGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIGNoaWxkcmVuIGFyZSBzdW1zXG4gICAgICAgIC8vIFJlYWNoIGRvd24gYW5kIHRha2UgdGhlaXIgY2hpbGRyZW5cbiAgICAgICAgZnVuY3Rpb24gdGFrZUNoaWxkcmVuKGNoaWxkOiBQcm9kdWN0Q29udGV4dCkge1xuICAgICAgICAgICAgcmVtb3ZlKGN0eC5jaGlsZHJlbiEsIGNoaWxkKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VPZlByb2R1Y3QoY2hpbGQuX3JpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHRha2VDaGlsZHJlbihjaGlsZC5fcmlnaHQgYXMgUHJvZHVjdENvbnRleHQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9yaWdodC5wYXJlbnRDdHggPSBjdHhcbiAgICAgICAgICAgICAgICBjdHguY2hpbGRyZW4hLnVuc2hpZnQoY2hpbGQuX3JpZ2h0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBNb3ZlIHRoZSBvcGVyYXRvciB1cFxuICAgICAgICAgICAgaWYgKGNoaWxkLlRJTUVTKCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLlRJTUVTKCkucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLlRJTUVTKCkpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbnN0YW5jZU9mUHJvZHVjdChjaGlsZC5fbGVmdCkpIHtcbiAgICAgICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY2hpbGQuX2xlZnQgYXMgUHJvZHVjdENvbnRleHQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9sZWZ0LnBhcmVudEN0eCA9IGN0eFxuICAgICAgICAgICAgICAgIGN0eC5jaGlsZHJlbiEudW5zaGlmdChjaGlsZC5fbGVmdClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50Q3R4ID0gdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluc3RhbmNlT2ZQcm9kdWN0KGN0eC5fbGVmdCkpXG4gICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY3R4Ll9sZWZ0IGFzIFByb2R1Y3RDb250ZXh0KVxuICAgICAgICBpZiAoaW5zdGFuY2VPZlByb2R1Y3QoY3R4Ll9yaWdodCkpIFxuICAgICAgICAgICAgdGFrZUNoaWxkcmVuKGN0eC5fcmlnaHQgYXMgUHJvZHVjdENvbnRleHQpXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhjdHguZ2V0VGV4dCgpKVxuICAgICAgICByZXR1cm4gY3R4XG4gICAgfVxufSIsImltcG9ydCBhbnRscjQgZnJvbSBcImFudGxyNFwiXG5pbXBvcnQgeyBzdW0gfSBmcm9tIFwibWF0aGpzXCI7XG5pbXBvcnQgeyBuZWdhdGl2ZSwgcHJvZHVjdCB9IGZyb20gXCIuLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIjtcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCI7XG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIjtcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCI7XG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ludGVnZXJcIjtcbmltcG9ydCB7IEludGVncmFsIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ludGVncmFsXCI7XG5pbXBvcnQgeyBMb2dhcml0aG0gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvTG9nYXJpdGhtXCI7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIjtcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9TdW1cIjtcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIjtcbmltcG9ydCB7IEF0b21Db250ZXh0LCBEaXZpc2lvbkNvbnRleHQsIEVxdWF0aW9uQ29udGV4dCwgRXhwcmVzc2lvbkNvbnRleHQsIENsb3NlZENvbnRleHQsIFBhcmVuQ29udGV4dCwgUG93ZXJDb250ZXh0LCBQcm9kdWN0Q29udGV4dCwgUmVsb3BDb250ZXh0LCBTdW1Db250ZXh0LCBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHQsIE9wZW5Db250ZXh0LCBDbG9zZWRBdG9tQ29udGV4dCwgQ2xvc2VkSXNSaWdodF9DbG9zZWRDb250ZXh0LCBSaWdodF9DbG9zZWRJc09wZW5Db250ZXh0LCBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RDb250ZXh0LCBJbnRlZ3JhbENvbnRleHQsIExvZ0NvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgYXJpdGhtZXRpY1Zpc2l0b3IgZnJvbSBcIi4vYXJpdGhtZXRpY1Zpc2l0b3JcIjtcblxuLyoqXG4gKiBSZWFkcyBvdXQgYW4gZXhwcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25WaXNpdG9yIGV4dGVuZHMgYXJpdGhtZXRpY1Zpc2l0b3I8RXhwcmVzc2lvbj4ge1xuXG4gICAgcHJpdmF0ZSBwcmludENoaWxkcmVuKGN0eDogT3BlbkNvbnRleHQpOiB2b2lkIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjdHguY2hpbGRyZW4hKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gY2hpbGQuZ2V0VGV4dCgpICsgXCIgIFwiXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxuICAgIH1cblxuICAgIHZpc2l0RXhwcmVzc2lvbiA9IChjdHg6IEV4cHJlc3Npb25Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5vcGVuKCkpXG4gICAgfTtcblxuXHR2aXNpdEVxdWF0aW9uID0gKGN0eDogRXF1YXRpb25Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHBhcnNlIGVxdWF0aW9ucyB3aXRoIHRoaXMgdmlzaXRvclwiKVxuICAgIH07XG5cbiAgICB2aXNpdFBvd2VyID0gKGN0eDogUG93ZXJDb250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJQb3dlclwiKVxuICAgICAgICAvL3RoaXMucHJpbnRDaGlsZHJlbihjdHgpXG4gICAgICAgIC8vY29uc29sZS5sb2coY3R4Ll9sZWZ0LmdldFRleHQoKSlcbiAgICAgICAgLy9jb25zb2xlLmxvZyhjdHguX3JpZ2h0LmdldFRleHQoKSlcbiAgICAgICAgcmV0dXJuIEV4cG9uZW50Lm9mKFxuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX2xlZnQpLFxuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX3JpZ2h0KVxuICAgICAgICApXG4gICAgfVxuXG4gICAgdmlzaXRQYXJlbiA9IChjdHg6IFBhcmVuQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdChjdHgub3BlbigpKVxuICAgIH1cblxuICAgIHZpc2l0RGl2aXNpb24gPSAoY3R4OiBEaXZpc2lvbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIEZyYWN0aW9uLm9mKFxuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX2xlZnQpLFxuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX3JpZ2h0KVxuICAgICAgICApXG4gICAgfVxuXG4gICAgdmlzaXRQcm9kdWN0ID0gKGN0eDogUHJvZHVjdENvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIFByb2R1Y3Qub2YoW1xuICAgICAgICAgICAgLi4uY3R4LmNsb3NlZF9saXN0KCkubWFwKGV4cCA9PiB0aGlzLnZpc2l0KGV4cCkpXG4gICAgICAgIF0pXG4gICAgfVxuXG4gICAgdmlzaXRSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3QgPSAoY3R4OiBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RDb250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJSaWdodCBjbG9zZWQgaW1wbGljaXQgcHJvZHVjdCBvZiBjb250ZXh0XCIpXG4gICAgICAgIC8vdGhpcy5wcmludENoaWxkcmVuKGN0eClcbiAgICAgICAgcmV0dXJuIFByb2R1Y3Qub2YoW1xuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX2xlZnQpLFxuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX3JpZ2h0KVxuICAgICAgICBdKVxuICAgIH1cblxuICAgIHZpc2l0SW50ZWdyYWwgPSAoY3R4OiBJbnRlZ3JhbENvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIEludGVncmFsLm9mKFxuICAgICAgICAgICAgdGhpcy52aXNpdChjdHguX2ludGVncmFuZCksXG4gICAgICAgICAgICBWYXJpYWJsZS5vZigneCcpXG4gICAgICAgIClcbiAgICB9XG5cbiAgICB2aXNpdExvZyA9IChjdHg6IExvZ0NvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIExvZ2FyaXRobS5vZihcbiAgICAgICAgICAgIHRoaXMudmlzaXQoY3R4Ll9jb250ZW50KSxcbiAgICAgICAgICAgIGN0eC5fYmFzZSA9PSB1bmRlZmluZWQgPyBJbnRlZ2VyLm9mKDEwKSA6IHRoaXMudmlzaXQoY3R4Ll9iYXNlKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgLy8gdmlzaXRVbmFyeU9uQXRvbSA9IChjdHg6IFVuYXJ5T25BdG9tQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgIC8vICAgICBjb25zdCBpc1Bvc2l0aXZlID0gY3R4Lk1JTlVTX2xpc3QubGVuZ3RoICUgMiA9PSAwXG4gICAgLy8gICAgIGlmIChpc1Bvc2l0aXZlKVxuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4LmF0b20oKSlcbiAgICAvLyAgICAgcmV0dXJuIG5lZ2F0aXZlKHRoaXMudmlzaXQoY3R4LmF0b20oKSkpXG4gICAgLy8gfVxuXG4gICAgdmlzaXRVbmFyeU9uRXhwcmVzc2lvbiA9IChjdHg6IFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICBjb25zdCBpc1Bvc2l0aXZlID0gY3R4Lk1JTlVTKCkgPT0gbnVsbFxuICAgICAgICBpZiAoaXNQb3NpdGl2ZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5jbG9zZWQoKSlcbiAgICAgICAgcmV0dXJuIG5lZ2F0aXZlKHRoaXMudmlzaXQoY3R4LmNsb3NlZCgpKSlcbiAgICB9XG5cbiAgICB2aXNpdFN1bSA9IChjdHg6IFN1bUNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJWaXNpdGluZyBzdW0gd2l0aCBcIiArIGN0eC5jaGlsZHJlbiEubGVuZ3RoICsgXCIgY2hpbGRyZW46IFwiICsgY3R4LnRvU3RyaW5nVHJlZShudWxsLCBjdHgucGFyc2VyISkpXG5cbiAgICAgICAgLy8gdGhpcy5wcmludENoaWxkcmVuKGN0eClcblxuICAgICAgICAvLyBTdW0gb2YgcGx1cyBhbmQgbWludXMgY29tcG9uZW50c1xuICAgICAgICBjb25zdCB0ZXJtczogRXhwcmVzc2lvbltdID0gW3RoaXMudmlzaXQoY3R4LmNoaWxkcmVuIVswXSldO1xuICAgICAgICBmb3IgKGxldCBpPTE7IGkgPCBjdHguY2hpbGRyZW4hLmxlbmd0aDsgaSs9IDIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY2hpbGRyZW4hW2ldLmdldFRleHQoKSA9PSAnLScpXG4gICAgICAgICAgICAgICAgdGVybXMucHVzaChuZWdhdGl2ZSh0aGlzLnZpc2l0KGN0eC5jaGlsZHJlbiFbaSsxXSkpKVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVybXMucHVzaCh0aGlzLnZpc2l0KGN0eC5jaGlsZHJlbiFbaSsxXSkpXG4gICAgICAgICAgICB9ICAgXG4gICAgICAgIH1cbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlByaW50aW5nIG1hZGUgdGVybXNcIilcbiAgICAgICAgZm9yKGNvbnN0IHRlcm0gb2YgdGVybXMpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCIgIFwiICsgdGVybS50b1N0cmluZygpKVxuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJkb25lXCIpXG4gICAgICAgIHJldHVybiBTdW0ub2YodGVybXMpXG4gICAgfVxuXG5cdC8vIHZpc2l0RXhwcmVzc2lvbiA9IChjdHg6IEV4cHJlc3Npb25Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgLy8gICAgIC8vIEd1ZXNzIHdoYXQgZXhwcmVzc2lvbiB0eXBlIGl0IGlzLCBmb2xsb3dpbmcgcGVtZGFzXG4gICAgLy8gICAgIGlmICgoY3R4LlBMVVMoMCkgIT0gbnVsbCB8fCBjdHguTUlOVVMoMCkgIT0gbnVsbCkgXG4gICAgLy8gICAgICAgICAgICAgJiYgKGN0eC5leHByZXNzaW9uX2xpc3QoKS5sZW5ndGggPz8gMCkgPiAxKSB7XG4gICAgICAgICAgICBcblxuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJVbmtub3duIGV4cHJlc3Npb24gdHlwZVwiKVxuICAgIC8vICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoY3R4KSkge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2tleX06ICR7KGN0eCBhcyBhbnkpW2tleV19YClcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCkpIHtcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtrZXl9OiAkeyhjdHggYXMgYW55KVtrZXldfWApXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkV4cHJlc3Npb25zOiBcIiArIGN0eC5leHByZXNzaW9uX2xpc3QoKS5sZW5ndGgpXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIk51bSBjaGlsZHJlbjogXCIgKyBjdHguY2hpbGRyZW4hLmxlbmd0aClcbiAgICAvLyAgICAgICAgIGlmIChjdHguY2hpbGRyZW4/Lmxlbmd0aCA/PyAwID4gMClcbiAgICAvLyAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN0eC5jaGlsZHJlbiEpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDaGlsZDogXCIgKyBjaGlsZC5nZXRUZXh0KCkpXG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIDFcIilcbiAgICAvLyAgICAgfVxuICAgIC8vIH07XG5cblx0dmlzaXRBdG9tID0gKGN0eDogQXRvbUNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgaWYgKGN0eC5WQVJJQUJMRSgpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBWYXJpYWJsZS5vZihjdHguVkFSSUFCTEUoKS5nZXRUZXh0KCkpXG4gICAgICAgIH0gZWxzZSBpZiAoY3R4LlNDSUVOVElGSUNfTlVNQkVSKCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIEludGVnZXIub2YoXG4gICAgICAgICAgICAgICAgTnVtYmVyLnBhcnNlRmxvYXQoXG4gICAgICAgICAgICAgICAgICAgIGN0eC5TQ0lFTlRJRklDX05VTUJFUigpLmdldFRleHQoKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2aXNpdENsb3NlZEF0b20gPSAoY3R4OiBDbG9zZWRBdG9tQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdChjdHguYXRvbSgpKVxuICAgIH1cblxuICAgIHZpc2l0Q2xvc2VkSXNSaWdodF9DbG9zZWQgPSAoY3R4OiBDbG9zZWRJc1JpZ2h0X0Nsb3NlZENvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4LmNsb3NlZCgpKVxuICAgIH1cblxuICAgIHZpc2l0UmlnaHRfQ2xvc2VkSXNPcGVuID0gKGN0eDogUmlnaHRfQ2xvc2VkSXNPcGVuQ29udGV4dCk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdChjdHgucmlnaHRfY2xvc2VkKCkpXG4gICAgfVxuXG5cdHZpc2l0UmVsb3AgPSAoY3R4OiBSZWxvcENvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2hvdWxkbid0IGhhcHBlbiB3aXRoIHRoaXMgdmlzaXRvciBpbXBsXCIpXG4gICAgfTtcblxufVxuXG5cblxuIiwiLy8gR2VuZXJhdGVkIGZyb20gLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvYXJpdGhtZXRpYy5nNCBieSBBTlRMUiA0LjEzLjBcbi8vIG5vaW5zcGVjdGlvbiBFUzZVbnVzZWRJbXBvcnRzLEpTVW51c2VkR2xvYmFsU3ltYm9scyxKU1VudXNlZExvY2FsU3ltYm9sc1xuaW1wb3J0IHtcblx0QVROLFxuXHRBVE5EZXNlcmlhbGl6ZXIsXG5cdENoYXJTdHJlYW0sXG5cdERlY2lzaW9uU3RhdGUsIERGQSxcblx0TGV4ZXIsXG5cdExleGVyQVROU2ltdWxhdG9yLFxuXHRSdWxlQ29udGV4dCxcblx0UHJlZGljdGlvbkNvbnRleHRDYWNoZSxcblx0VG9rZW5cbn0gZnJvbSBcImFudGxyNFwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYXJpdGhtZXRpY0xleGVyIGV4dGVuZHMgTGV4ZXIge1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFNDSUVOVElGSUNfTlVNQkVSID0gMTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBMUEFSRU4gPSAyO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJQQVJFTiA9IDM7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUExVUyA9IDQ7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTUlOVVMgPSA1O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRJTUVTID0gNjtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBESVYgPSA3O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEdUID0gODtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBMVCA9IDk7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRVEgPSAxMDtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBQT0lOVCA9IDExO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPVyA9IDEyO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IElOVCA9IDEzO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExPRyA9IDE0O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFZBUklBQkxFID0gMTU7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgV1MgPSAxNjtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBFT0YgPSBUb2tlbi5FT0Y7XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBjaGFubmVsTmFtZXM6IHN0cmluZ1tdID0gWyBcIkRFRkFVTFRfVE9LRU5fQ0hBTk5FTFwiLCBcIkhJRERFTlwiIF07XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGl0ZXJhbE5hbWVzOiAoc3RyaW5nIHwgbnVsbClbXSA9IFsgbnVsbCwgbnVsbCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIicoJ1wiLCBcIicpJ1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJysnXCIsIFwiJy0nXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgXCInLydcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIic+J1wiLCBcIic8J1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJz0nXCIsIFwiJy4nXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCInXidcIiBdO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHN5bWJvbGljTmFtZXM6IChzdHJpbmcgfCBudWxsKVtdID0gWyBudWxsLCBcIlNDSUVOVElGSUNfTlVNQkVSXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTFBBUkVOXCIsIFwiUlBBUkVOXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUExVU1wiLCBcIk1JTlVTXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVElNRVNcIiwgXCJESVZcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJHVFwiLCBcIkxUXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRVFcIiwgXCJQT0lOVFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlBPV1wiLCBcIklOVFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkxPR1wiLCBcIlZBUklBQkxFXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiV1NcIiBdO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IG1vZGVOYW1lczogc3RyaW5nW10gPSBbIFwiREVGQVVMVF9NT0RFXCIsIF07XG5cblx0cHVibGljIHN0YXRpYyByZWFkb25seSBydWxlTmFtZXM6IHN0cmluZ1tdID0gW1xuXHRcdFwiU0NJRU5USUZJQ19OVU1CRVJcIiwgXCJOVU1CRVJcIiwgXCJVTlNJR05FRF9JTlRFR0VSXCIsIFwiRVwiLCBcIkxcIiwgXCJPXCIsIFwiR1wiLCBcblx0XHRcIlNJR05cIiwgXCJMUEFSRU5cIiwgXCJSUEFSRU5cIiwgXCJQTFVTXCIsIFwiTUlOVVNcIiwgXCJUSU1FU1wiLCBcIkRJVlwiLCBcIkdUXCIsIFwiTFRcIiwgXG5cdFx0XCJFUVwiLCBcIlBPSU5UXCIsIFwiUE9XXCIsIFwiSU5UXCIsIFwiTE9HXCIsIFwiVkFSSUFCTEVcIiwgXCJXU1wiLFxuXHRdO1xuXG5cblx0Y29uc3RydWN0b3IoaW5wdXQ6IENoYXJTdHJlYW0pIHtcblx0XHRzdXBlcihpbnB1dCk7XG5cdFx0dGhpcy5faW50ZXJwID0gbmV3IExleGVyQVROU2ltdWxhdG9yKHRoaXMsIGFyaXRobWV0aWNMZXhlci5fQVROLCBhcml0aG1ldGljTGV4ZXIuRGVjaXNpb25zVG9ERkEsIG5ldyBQcmVkaWN0aW9uQ29udGV4dENhY2hlKCkpO1xuXHR9XG5cblx0cHVibGljIGdldCBncmFtbWFyRmlsZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiYXJpdGhtZXRpYy5nNFwiOyB9XG5cblx0cHVibGljIGdldCBsaXRlcmFsTmFtZXMoKTogKHN0cmluZyB8IG51bGwpW10geyByZXR1cm4gYXJpdGhtZXRpY0xleGVyLmxpdGVyYWxOYW1lczsgfVxuXHRwdWJsaWMgZ2V0IHN5bWJvbGljTmFtZXMoKTogKHN0cmluZyB8IG51bGwpW10geyByZXR1cm4gYXJpdGhtZXRpY0xleGVyLnN5bWJvbGljTmFtZXM7IH1cblx0cHVibGljIGdldCBydWxlTmFtZXMoKTogc3RyaW5nW10geyByZXR1cm4gYXJpdGhtZXRpY0xleGVyLnJ1bGVOYW1lczsgfVxuXG5cdHB1YmxpYyBnZXQgc2VyaWFsaXplZEFUTigpOiBudW1iZXJbXSB7IHJldHVybiBhcml0aG1ldGljTGV4ZXIuX3NlcmlhbGl6ZWRBVE47IH1cblxuXHRwdWJsaWMgZ2V0IGNoYW5uZWxOYW1lcygpOiBzdHJpbmdbXSB7IHJldHVybiBhcml0aG1ldGljTGV4ZXIuY2hhbm5lbE5hbWVzOyB9XG5cblx0cHVibGljIGdldCBtb2RlTmFtZXMoKTogc3RyaW5nW10geyByZXR1cm4gYXJpdGhtZXRpY0xleGVyLm1vZGVOYW1lczsgfVxuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgX3NlcmlhbGl6ZWRBVE46IG51bWJlcltdID0gWzQsMCwxNiwxMjMsNiwtMSwyLDAsXG5cdDcsMCwyLDEsNywxLDIsMiw3LDIsMiwzLDcsMywyLDQsNyw0LDIsNSw3LDUsMiw2LDcsNiwyLDcsNyw3LDIsOCw3LDgsMiw5LFxuXHQ3LDksMiwxMCw3LDEwLDIsMTEsNywxMSwyLDEyLDcsMTIsMiwxMyw3LDEzLDIsMTQsNywxNCwyLDE1LDcsMTUsMiwxNiw3LFxuXHQxNiwyLDE3LDcsMTcsMiwxOCw3LDE4LDIsMTksNywxOSwyLDIwLDcsMjAsMiwyMSw3LDIxLDIsMjIsNywyMiwxLDAsMSwwLFxuXHQxLDAsMywwLDUxLDgsMCwxLDAsMSwwLDMsMCw1NSw4LDAsMSwxLDQsMSw1OCw4LDEsMTEsMSwxMiwxLDU5LDEsMSwxLDEsNCxcblx0MSw2NCw4LDEsMTEsMSwxMiwxLDY1LDMsMSw2OCw4LDEsMSwyLDQsMiw3MSw4LDIsMTEsMiwxMiwyLDcyLDEsMywxLDMsMSxcblx0NCwxLDQsMSw1LDEsNSwxLDYsMSw2LDEsNywxLDcsMSw4LDEsOCwxLDksMSw5LDEsMTAsMSwxMCwxLDExLDEsMTEsMSwxMixcblx0MSwxMiwxLDEzLDEsMTMsMSwxNCwxLDE0LDEsMTUsMSwxNSwxLDE2LDEsMTYsMSwxNywxLDE3LDEsMTgsMSwxOCwxLDE5LDEsXG5cdDE5LDEsMTksMSwxOSwxLDIwLDEsMjAsMSwyMCwxLDIwLDEsMjEsMSwyMSwxLDIyLDQsMjIsMTE4LDgsMjIsMTEsMjIsMTIsXG5cdDIyLDExOSwxLDIyLDEsMjIsMCwwLDIzLDEsMSwzLDAsNSwwLDcsMCw5LDAsMTEsMCwxMywwLDE1LDAsMTcsMiwxOSwzLDIxLFxuXHQ0LDIzLDUsMjUsNiwyNyw3LDI5LDgsMzEsOSwzMywxMCwzNSwxMSwzNywxMiwzOSwxMyw0MSwxNCw0MywxNSw0NSwxNiwxLFxuXHQwLDExLDIsMCw2OSw2OSwxMDEsMTAxLDIsMCw3Niw3NiwxMDgsMTA4LDIsMCw3OSw3OSwxMTEsMTExLDIsMCw3MSw3MSwxMDMsXG5cdDEwMywyLDAsNDMsNDMsNDUsNDUsMiwwLDQyLDQyLDE4MywxODMsMiwwLDczLDczLDEwNSwxMDUsMiwwLDc4LDc4LDExMCwxMTAsXG5cdDIsMCw4NCw4NCwxMTYsMTE2LDIsMCw2NSw5MCw5NywxMjIsMywwLDksMTAsMTMsMTMsMzIsMzIsMTIyLDAsMSwxLDAsMCwwLFxuXHQwLDE3LDEsMCwwLDAsMCwxOSwxLDAsMCwwLDAsMjEsMSwwLDAsMCwwLDIzLDEsMCwwLDAsMCwyNSwxLDAsMCwwLDAsMjcsMSxcblx0MCwwLDAsMCwyOSwxLDAsMCwwLDAsMzEsMSwwLDAsMCwwLDMzLDEsMCwwLDAsMCwzNSwxLDAsMCwwLDAsMzcsMSwwLDAsMCxcblx0MCwzOSwxLDAsMCwwLDAsNDEsMSwwLDAsMCwwLDQzLDEsMCwwLDAsMCw0NSwxLDAsMCwwLDEsNDcsMSwwLDAsMCwzLDU3LDEsXG5cdDAsMCwwLDUsNzAsMSwwLDAsMCw3LDc0LDEsMCwwLDAsOSw3NiwxLDAsMCwwLDExLDc4LDEsMCwwLDAsMTMsODAsMSwwLDAsXG5cdDAsMTUsODIsMSwwLDAsMCwxNyw4NCwxLDAsMCwwLDE5LDg2LDEsMCwwLDAsMjEsODgsMSwwLDAsMCwyMyw5MCwxLDAsMCwwLFxuXHQyNSw5MiwxLDAsMCwwLDI3LDk0LDEsMCwwLDAsMjksOTYsMSwwLDAsMCwzMSw5OCwxLDAsMCwwLDMzLDEwMCwxLDAsMCwwLFxuXHQzNSwxMDIsMSwwLDAsMCwzNywxMDQsMSwwLDAsMCwzOSwxMDYsMSwwLDAsMCw0MSwxMTAsMSwwLDAsMCw0MywxMTQsMSwwLFxuXHQwLDAsNDUsMTE3LDEsMCwwLDAsNDcsNTQsMywzLDEsMCw0OCw1MCwzLDcsMywwLDQ5LDUxLDMsMTUsNywwLDUwLDQ5LDEsMCxcblx0MCwwLDUwLDUxLDEsMCwwLDAsNTEsNTIsMSwwLDAsMCw1Miw1MywzLDUsMiwwLDUzLDU1LDEsMCwwLDAsNTQsNDgsMSwwLDAsXG5cdDAsNTQsNTUsMSwwLDAsMCw1NSwyLDEsMCwwLDAsNTYsNTgsMiw0OCw1NywwLDU3LDU2LDEsMCwwLDAsNTgsNTksMSwwLDAsXG5cdDAsNTksNTcsMSwwLDAsMCw1OSw2MCwxLDAsMCwwLDYwLDY3LDEsMCwwLDAsNjEsNjMsNSw0NiwwLDAsNjIsNjQsMiw0OCw1Nyxcblx0MCw2Myw2MiwxLDAsMCwwLDY0LDY1LDEsMCwwLDAsNjUsNjMsMSwwLDAsMCw2NSw2NiwxLDAsMCwwLDY2LDY4LDEsMCwwLDAsXG5cdDY3LDYxLDEsMCwwLDAsNjcsNjgsMSwwLDAsMCw2OCw0LDEsMCwwLDAsNjksNzEsMiw0OCw1NywwLDcwLDY5LDEsMCwwLDAsXG5cdDcxLDcyLDEsMCwwLDAsNzIsNzAsMSwwLDAsMCw3Miw3MywxLDAsMCwwLDczLDYsMSwwLDAsMCw3NCw3NSw3LDAsMCwwLDc1LFxuXHQ4LDEsMCwwLDAsNzYsNzcsNywxLDAsMCw3NywxMCwxLDAsMCwwLDc4LDc5LDcsMiwwLDAsNzksMTIsMSwwLDAsMCw4MCw4MSxcblx0NywzLDAsMCw4MSwxNCwxLDAsMCwwLDgyLDgzLDcsNCwwLDAsODMsMTYsMSwwLDAsMCw4NCw4NSw1LDQwLDAsMCw4NSwxOCxcblx0MSwwLDAsMCw4Niw4Nyw1LDQxLDAsMCw4NywyMCwxLDAsMCwwLDg4LDg5LDUsNDMsMCwwLDg5LDIyLDEsMCwwLDAsOTAsOTEsXG5cdDUsNDUsMCwwLDkxLDI0LDEsMCwwLDAsOTIsOTMsNyw1LDAsMCw5MywyNiwxLDAsMCwwLDk0LDk1LDUsNDcsMCwwLDk1LDI4LFxuXHQxLDAsMCwwLDk2LDk3LDUsNjIsMCwwLDk3LDMwLDEsMCwwLDAsOTgsOTksNSw2MCwwLDAsOTksMzIsMSwwLDAsMCwxMDAsMTAxLFxuXHQ1LDYxLDAsMCwxMDEsMzQsMSwwLDAsMCwxMDIsMTAzLDUsNDYsMCwwLDEwMywzNiwxLDAsMCwwLDEwNCwxMDUsNSw5NCwwLFxuXHQwLDEwNSwzOCwxLDAsMCwwLDEwNiwxMDcsNyw2LDAsMCwxMDcsMTA4LDcsNywwLDAsMTA4LDEwOSw3LDgsMCwwLDEwOSw0MCxcblx0MSwwLDAsMCwxMTAsMTExLDMsOSw0LDAsMTExLDExMiwzLDExLDUsMCwxMTIsMTEzLDMsMTMsNiwwLDExMyw0MiwxLDAsMCxcblx0MCwxMTQsMTE1LDcsOSwwLDAsMTE1LDQ0LDEsMCwwLDAsMTE2LDExOCw3LDEwLDAsMCwxMTcsMTE2LDEsMCwwLDAsMTE4LDExOSxcblx0MSwwLDAsMCwxMTksMTE3LDEsMCwwLDAsMTE5LDEyMCwxLDAsMCwwLDEyMCwxMjEsMSwwLDAsMCwxMjEsMTIyLDYsMjIsMCxcblx0MCwxMjIsNDYsMSwwLDAsMCw4LDAsNTAsNTQsNTksNjUsNjcsNzIsMTE5LDEsNiwwLDBdO1xuXG5cdHByaXZhdGUgc3RhdGljIF9fQVROOiBBVE47XG5cdHB1YmxpYyBzdGF0aWMgZ2V0IF9BVE4oKTogQVROIHtcblx0XHRpZiAoIWFyaXRobWV0aWNMZXhlci5fX0FUTikge1xuXHRcdFx0YXJpdGhtZXRpY0xleGVyLl9fQVROID0gbmV3IEFUTkRlc2VyaWFsaXplcigpLmRlc2VyaWFsaXplKGFyaXRobWV0aWNMZXhlci5fc2VyaWFsaXplZEFUTik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFyaXRobWV0aWNMZXhlci5fX0FUTjtcblx0fVxuXG5cblx0c3RhdGljIERlY2lzaW9uc1RvREZBID0gYXJpdGhtZXRpY0xleGVyLl9BVE4uZGVjaXNpb25Ub1N0YXRlLm1hcCggKGRzOiBEZWNpc2lvblN0YXRlLCBpbmRleDogbnVtYmVyKSA9PiBuZXcgREZBKGRzLCBpbmRleCkgKTtcbn0iLCIvLyBHZW5lcmF0ZWQgZnJvbSAuL3NyYy9tYXRobGliL3VzZXJpbnB1dC9hcml0aG1ldGljLmc0IGJ5IEFOVExSIDQuMTMuMFxuLy8gbm9pbnNwZWN0aW9uIEVTNlVudXNlZEltcG9ydHMsSlNVbnVzZWRHbG9iYWxTeW1ib2xzLEpTVW51c2VkTG9jYWxTeW1ib2xzXG5cbmltcG9ydCB7XG5cdEFUTixcblx0QVRORGVzZXJpYWxpemVyLCBEZWNpc2lvblN0YXRlLCBERkEsIEZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbixcblx0UmVjb2duaXRpb25FeGNlcHRpb24sIE5vVmlhYmxlQWx0RXhjZXB0aW9uLCBCYWlsRXJyb3JTdHJhdGVneSxcblx0UGFyc2VyLCBQYXJzZXJBVE5TaW11bGF0b3IsXG5cdFJ1bGVDb250ZXh0LCBQYXJzZXJSdWxlQ29udGV4dCwgUHJlZGljdGlvbk1vZGUsIFByZWRpY3Rpb25Db250ZXh0Q2FjaGUsXG5cdFRlcm1pbmFsTm9kZSwgUnVsZU5vZGUsXG5cdFRva2VuLCBUb2tlblN0cmVhbSxcblx0SW50ZXJ2YWwsIEludGVydmFsU2V0XG59IGZyb20gJ2FudGxyNCc7XG5pbXBvcnQgYXJpdGhtZXRpY0xpc3RlbmVyIGZyb20gXCIuL2FyaXRobWV0aWNMaXN0ZW5lci5qc1wiO1xuaW1wb3J0IGFyaXRobWV0aWNWaXNpdG9yIGZyb20gXCIuL2FyaXRobWV0aWNWaXNpdG9yLmpzXCI7XG5cbi8vIGZvciBydW5uaW5nIHRlc3RzIHdpdGggcGFyYW1ldGVycywgVE9ETzogZGlzY3VzcyBzdHJhdGVneSBmb3IgdHlwZWQgcGFyYW1ldGVycyBpbiBDSVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG50eXBlIGludCA9IG51bWJlcjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYXJpdGhtZXRpY1BhcnNlciBleHRlbmRzIFBhcnNlciB7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgU0NJRU5USUZJQ19OVU1CRVIgPSAxO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExQQVJFTiA9IDI7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUlBBUkVOID0gMztcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBQTFVTID0gNDtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBNSU5VUyA9IDU7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVElNRVMgPSA2O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERJViA9IDc7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgR1QgPSA4O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExUID0gOTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBFUSA9IDEwO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPSU5UID0gMTE7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUE9XID0gMTI7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSU5UID0gMTM7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTE9HID0gMTQ7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVkFSSUFCTEUgPSAxNTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBXUyA9IDE2O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVPRiA9IFRva2VuLkVPRjtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX2VxdWF0aW9uID0gMDtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX2V4cHJlc3Npb24gPSAxO1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfY2xvc2VkID0gMjtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX3JpZ2h0X2Nsb3NlZCA9IDM7XG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUlVMRV9vcGVuID0gNDtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX2F0b20gPSA1O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfcmVsb3AgPSA2O1xuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGxpdGVyYWxOYW1lczogKHN0cmluZyB8IG51bGwpW10gPSBbIG51bGwsIG51bGwsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCInKCdcIiwgXCInKSdcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIicrJ1wiLCBcIictJ1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFwiJy8nXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCInPidcIiwgXCInPCdcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIic9J1wiLCBcIicuJ1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiJ14nXCIgXTtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBzeW1ib2xpY05hbWVzOiAoc3RyaW5nIHwgbnVsbClbXSA9IFsgbnVsbCwgXCJTQ0lFTlRJRklDX05VTUJFUlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkxQQVJFTlwiLCBcIlJQQVJFTlwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlBMVVNcIiwgXCJNSU5VU1wiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRJTUVTXCIsIFwiRElWXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiR1RcIiwgXCJMVFwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkVRXCIsIFwiUE9JTlRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQT1dcIiwgXCJJTlRcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJMT0dcIiwgXCJWQVJJQUJMRVwiLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIldTXCIgXTtcblx0Ly8gdHNsaW50OmRpc2FibGU6bm8tdHJhaWxpbmctd2hpdGVzcGFjZVxuXHRwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHJ1bGVOYW1lczogc3RyaW5nW10gPSBbXG5cdFx0XCJlcXVhdGlvblwiLCBcImV4cHJlc3Npb25cIiwgXCJjbG9zZWRcIiwgXCJyaWdodF9jbG9zZWRcIiwgXCJvcGVuXCIsIFwiYXRvbVwiLCBcInJlbG9wXCIsXG5cdF07XG5cdHB1YmxpYyBnZXQgZ3JhbW1hckZpbGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcImFyaXRobWV0aWMuZzRcIjsgfVxuXHRwdWJsaWMgZ2V0IGxpdGVyYWxOYW1lcygpOiAoc3RyaW5nIHwgbnVsbClbXSB7IHJldHVybiBhcml0aG1ldGljUGFyc2VyLmxpdGVyYWxOYW1lczsgfVxuXHRwdWJsaWMgZ2V0IHN5bWJvbGljTmFtZXMoKTogKHN0cmluZyB8IG51bGwpW10geyByZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5zeW1ib2xpY05hbWVzOyB9XG5cdHB1YmxpYyBnZXQgcnVsZU5hbWVzKCk6IHN0cmluZ1tdIHsgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIucnVsZU5hbWVzOyB9XG5cdHB1YmxpYyBnZXQgc2VyaWFsaXplZEFUTigpOiBudW1iZXJbXSB7IHJldHVybiBhcml0aG1ldGljUGFyc2VyLl9zZXJpYWxpemVkQVROOyB9XG5cblx0cHJvdGVjdGVkIGNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihwcmVkaWNhdGU/OiBzdHJpbmcsIG1lc3NhZ2U/OiBzdHJpbmcpOiBGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb24ge1xuXHRcdHJldHVybiBuZXcgRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uKHRoaXMsIHByZWRpY2F0ZSwgbWVzc2FnZSk7XG5cdH1cblxuXHRjb25zdHJ1Y3RvcihpbnB1dDogVG9rZW5TdHJlYW0pIHtcblx0XHRzdXBlcihpbnB1dCk7XG5cdFx0dGhpcy5faW50ZXJwID0gbmV3IFBhcnNlckFUTlNpbXVsYXRvcih0aGlzLCBhcml0aG1ldGljUGFyc2VyLl9BVE4sIGFyaXRobWV0aWNQYXJzZXIuRGVjaXNpb25zVG9ERkEsIG5ldyBQcmVkaWN0aW9uQ29udGV4dENhY2hlKCkpO1xuXHR9XG5cdC8vIEBSdWxlVmVyc2lvbigwKVxuXHRwdWJsaWMgZXF1YXRpb24oKTogRXF1YXRpb25Db250ZXh0IHtcblx0XHRsZXQgbG9jYWxjdHg6IEVxdWF0aW9uQ29udGV4dCA9IG5ldyBFcXVhdGlvbkNvbnRleHQodGhpcywgdGhpcy5fY3R4LCB0aGlzLnN0YXRlKTtcblx0XHR0aGlzLmVudGVyUnVsZShsb2NhbGN0eCwgMCwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2VxdWF0aW9uKTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5lbnRlck91dGVyQWx0KGxvY2FsY3R4LCAxKTtcblx0XHRcdHtcblx0XHRcdHRoaXMuc3RhdGUgPSAxNDtcblx0XHRcdHRoaXMuZXhwcmVzc2lvbigpO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDE1O1xuXHRcdFx0dGhpcy5yZWxvcCgpO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDE2O1xuXHRcdFx0dGhpcy5leHByZXNzaW9uKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNhdGNoIChyZSkge1xuXHRcdFx0aWYgKHJlIGluc3RhbmNlb2YgUmVjb2duaXRpb25FeGNlcHRpb24pIHtcblx0XHRcdFx0bG9jYWxjdHguZXhjZXB0aW9uID0gcmU7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVwb3J0RXJyb3IodGhpcywgcmUpO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlY292ZXIodGhpcywgcmUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgcmU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZpbmFsbHkge1xuXHRcdFx0dGhpcy5leGl0UnVsZSgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbG9jYWxjdHg7XG5cdH1cblx0Ly8gQFJ1bGVWZXJzaW9uKDApXG5cdHB1YmxpYyBleHByZXNzaW9uKCk6IEV4cHJlc3Npb25Db250ZXh0IHtcblx0XHRsZXQgbG9jYWxjdHg6IEV4cHJlc3Npb25Db250ZXh0ID0gbmV3IEV4cHJlc3Npb25Db250ZXh0KHRoaXMsIHRoaXMuX2N0eCwgdGhpcy5zdGF0ZSk7XG5cdFx0dGhpcy5lbnRlclJ1bGUobG9jYWxjdHgsIDIsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9leHByZXNzaW9uKTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5lbnRlck91dGVyQWx0KGxvY2FsY3R4LCAxKTtcblx0XHRcdHtcblx0XHRcdHRoaXMuc3RhdGUgPSAxODtcblx0XHRcdHRoaXMub3BlbigwKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKHJlKSB7XG5cdFx0XHRpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuXHRcdFx0XHRsb2NhbGN0eC5leGNlcHRpb24gPSByZTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSk7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyByZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZmluYWxseSB7XG5cdFx0XHR0aGlzLmV4aXRSdWxlKCk7XG5cdFx0fVxuXHRcdHJldHVybiBsb2NhbGN0eDtcblx0fVxuXG5cdHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dDtcblx0cHVibGljIGNsb3NlZChfcDogbnVtYmVyKTogQ2xvc2VkQ29udGV4dDtcblx0Ly8gQFJ1bGVWZXJzaW9uKDApXG5cdHB1YmxpYyBjbG9zZWQoX3A/OiBudW1iZXIpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRpZiAoX3AgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0X3AgPSAwO1xuXHRcdH1cblxuXHRcdGxldCBfcGFyZW50Y3R4OiBQYXJzZXJSdWxlQ29udGV4dCA9IHRoaXMuX2N0eDtcblx0XHRsZXQgX3BhcmVudFN0YXRlOiBudW1iZXIgPSB0aGlzLnN0YXRlO1xuXHRcdGxldCBsb2NhbGN0eDogQ2xvc2VkQ29udGV4dCA9IG5ldyBDbG9zZWRDb250ZXh0KHRoaXMsIHRoaXMuX2N0eCwgX3BhcmVudFN0YXRlKTtcblx0XHRsZXQgX3ByZXZjdHg6IENsb3NlZENvbnRleHQgPSBsb2NhbGN0eDtcblx0XHRsZXQgX3N0YXJ0U3RhdGU6IG51bWJlciA9IDQ7XG5cdFx0dGhpcy5lbnRlclJlY3Vyc2lvblJ1bGUobG9jYWxjdHgsIDQsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9jbG9zZWQsIF9wKTtcblx0XHRsZXQgX2xhOiBudW1iZXI7XG5cdFx0dHJ5IHtcblx0XHRcdGxldCBfYWx0OiBudW1iZXI7XG5cdFx0XHR0aGlzLmVudGVyT3V0ZXJBbHQobG9jYWxjdHgsIDEpO1xuXHRcdFx0e1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDMzO1xuXHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0c3dpdGNoICh0aGlzLl9pbnB1dC5MQSgxKSkge1xuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHR7XG5cdFx0XHRcdGxvY2FsY3R4ID0gbmV3IFBhcmVuQ29udGV4dCh0aGlzLCBsb2NhbGN0eCk7XG5cdFx0XHRcdHRoaXMuX2N0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXG5cdFx0XHRcdHRoaXMuc3RhdGUgPSAyMTtcblx0XHRcdFx0dGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLkxQQVJFTik7XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSAyMjtcblx0XHRcdFx0dGhpcy5vcGVuKDApO1xuXHRcdFx0XHR0aGlzLnN0YXRlID0gMjM7XG5cdFx0XHRcdHRoaXMubWF0Y2goYXJpdGhtZXRpY1BhcnNlci5SUEFSRU4pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0Y2FzZSAxNTpcblx0XHRcdFx0e1xuXHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBDbG9zZWRBdG9tQ29udGV4dCh0aGlzLCBsb2NhbGN0eCk7XG5cdFx0XHRcdHRoaXMuX2N0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHR0aGlzLnN0YXRlID0gMjU7XG5cdFx0XHRcdHRoaXMuYXRvbSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxMzpcblx0XHRcdFx0e1xuXHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBJbnRlZ3JhbENvbnRleHQodGhpcywgbG9jYWxjdHgpO1xuXHRcdFx0XHR0aGlzLl9jdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0X3ByZXZjdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDI2O1xuXHRcdFx0XHR0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuSU5UKTtcblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDI3O1xuXHRcdFx0XHQobG9jYWxjdHggYXMgSW50ZWdyYWxDb250ZXh0KS5faW50ZWdyYW5kID0gdGhpcy5jbG9zZWQoNSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIDE0OlxuXHRcdFx0XHR7XG5cdFx0XHRcdGxvY2FsY3R4ID0gbmV3IExvZ0NvbnRleHQodGhpcywgbG9jYWxjdHgpO1xuXHRcdFx0XHR0aGlzLl9jdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0X3ByZXZjdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDI4O1xuXHRcdFx0XHR0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuTE9HKTtcblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDMwO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRcdHN3aXRjaCAoIHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QodGhpcy5faW5wdXQsIDAsIHRoaXMuX2N0eCkgKSB7XG5cdFx0XHRcdGNhc2UgMTpcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDI5O1xuXHRcdFx0XHRcdChsb2NhbGN0eCBhcyBMb2dDb250ZXh0KS5fYmFzZSA9IHRoaXMuY2xvc2VkKDApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnN0YXRlID0gMzI7XG5cdFx0XHRcdChsb2NhbGN0eCBhcyBMb2dDb250ZXh0KS5fY29udGVudCA9IHRoaXMuY2xvc2VkKDEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IE5vVmlhYmxlQWx0RXhjZXB0aW9uKHRoaXMpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5fY3R4LnN0b3AgPSB0aGlzLl9pbnB1dC5MVCgtMSk7XG5cdFx0XHR0aGlzLnN0YXRlID0gNDg7XG5cdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgNCwgdGhpcy5fY3R4KTtcblx0XHRcdHdoaWxlIChfYWx0ICE9PSAyICYmIF9hbHQgIT09IEFUTi5JTlZBTElEX0FMVF9OVU1CRVIpIHtcblx0XHRcdFx0aWYgKF9hbHQgPT09IDEpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5fcGFyc2VMaXN0ZW5lcnMgIT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0dGhpcy50cmlnZ2VyRXhpdFJ1bGVFdmVudCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRfcHJldmN0eCA9IGxvY2FsY3R4O1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHR0aGlzLnN0YXRlID0gNDY7XG5cdFx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0XHRcdHN3aXRjaCAoIHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QodGhpcy5faW5wdXQsIDMsIHRoaXMuX2N0eCkgKSB7XG5cdFx0XHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bG9jYWxjdHggPSBuZXcgRGl2aXNpb25Db250ZXh0KHRoaXMsIG5ldyBDbG9zZWRDb250ZXh0KHRoaXMsIF9wYXJlbnRjdHgsIF9wYXJlbnRTdGF0ZSkpO1xuXHRcdFx0XHRcdFx0KGxvY2FsY3R4IGFzIERpdmlzaW9uQ29udGV4dCkuX2xlZnQgPSBfcHJldmN0eDtcblx0XHRcdFx0XHRcdHRoaXMucHVzaE5ld1JlY3Vyc2lvbkNvbnRleHQobG9jYWxjdHgsIF9zdGFydFN0YXRlLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfY2xvc2VkKTtcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSAzNTtcblx0XHRcdFx0XHRcdGlmICghKHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCA0KSkpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgdGhpcy5jcmVhdGVGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb24oXCJ0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgNClcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlID0gMzY7XG5cdFx0XHRcdFx0XHR0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuRElWKTtcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSAzNztcblx0XHRcdFx0XHRcdChsb2NhbGN0eCBhcyBEaXZpc2lvbkNvbnRleHQpLl9yaWdodCA9IHRoaXMuY2xvc2VkKDUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAyOlxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bG9jYWxjdHggPSBuZXcgUG93ZXJDb250ZXh0KHRoaXMsIG5ldyBDbG9zZWRDb250ZXh0KHRoaXMsIF9wYXJlbnRjdHgsIF9wYXJlbnRTdGF0ZSkpO1xuXHRcdFx0XHRcdFx0KGxvY2FsY3R4IGFzIFBvd2VyQ29udGV4dCkuX2xlZnQgPSBfcHJldmN0eDtcblx0XHRcdFx0XHRcdHRoaXMucHVzaE5ld1JlY3Vyc2lvbkNvbnRleHQobG9jYWxjdHgsIF9zdGFydFN0YXRlLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfY2xvc2VkKTtcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSAzODtcblx0XHRcdFx0XHRcdGlmICghKHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAzKSkpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgdGhpcy5jcmVhdGVGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb24oXCJ0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMylcIik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlID0gMzk7XG5cdFx0XHRcdFx0XHR0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuUE9XKTtcblx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSA0MDtcblx0XHRcdFx0XHRcdChsb2NhbGN0eCBhcyBQb3dlckNvbnRleHQpLl9yaWdodCA9IHRoaXMuY2xvc2VkKDQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAzOlxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bG9jYWxjdHggPSBuZXcgUHJvZHVjdENvbnRleHQodGhpcywgbmV3IENsb3NlZENvbnRleHQodGhpcywgX3BhcmVudGN0eCwgX3BhcmVudFN0YXRlKSk7XG5cdFx0XHRcdFx0XHQobG9jYWxjdHggYXMgUHJvZHVjdENvbnRleHQpLl9sZWZ0ID0gX3ByZXZjdHg7XG5cdFx0XHRcdFx0XHR0aGlzLnB1c2hOZXdSZWN1cnNpb25Db250ZXh0KGxvY2FsY3R4LCBfc3RhcnRTdGF0ZSwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2Nsb3NlZCk7XG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlID0gNDE7XG5cdFx0XHRcdFx0XHRpZiAoISh0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMikpKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IHRoaXMuY3JlYXRlRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uKFwidGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDIpXCIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDQzO1xuXHRcdFx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0XHRcdFx0X2xhID0gdGhpcy5faW5wdXQuTEEoMSk7XG5cdFx0XHRcdFx0XHRpZiAoX2xhPT09Nikge1xuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHRoaXMuc3RhdGUgPSA0Mjtcblx0XHRcdFx0XHRcdFx0dGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLlRJTUVTKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLnN0YXRlID0gNDU7XG5cdFx0XHRcdFx0XHQobG9jYWxjdHggYXMgUHJvZHVjdENvbnRleHQpLl9yaWdodCA9IHRoaXMuY2xvc2VkKDMpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnN0YXRlID0gNTA7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKTtcblx0XHRcdFx0X2FsdCA9IHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QodGhpcy5faW5wdXQsIDQsIHRoaXMuX2N0eCk7XG5cdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNhdGNoIChyZSkge1xuXHRcdFx0aWYgKHJlIGluc3RhbmNlb2YgUmVjb2duaXRpb25FeGNlcHRpb24pIHtcblx0XHRcdFx0bG9jYWxjdHguZXhjZXB0aW9uID0gcmU7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVwb3J0RXJyb3IodGhpcywgcmUpO1xuXHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlY292ZXIodGhpcywgcmUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhyb3cgcmU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGZpbmFsbHkge1xuXHRcdFx0dGhpcy51bnJvbGxSZWN1cnNpb25Db250ZXh0cyhfcGFyZW50Y3R4KTtcblx0XHR9XG5cdFx0cmV0dXJuIGxvY2FsY3R4O1xuXHR9XG5cblx0cHVibGljIHJpZ2h0X2Nsb3NlZCgpOiBSaWdodF9jbG9zZWRDb250ZXh0O1xuXHRwdWJsaWMgcmlnaHRfY2xvc2VkKF9wOiBudW1iZXIpOiBSaWdodF9jbG9zZWRDb250ZXh0O1xuXHQvLyBAUnVsZVZlcnNpb24oMClcblx0cHVibGljIHJpZ2h0X2Nsb3NlZChfcD86IG51bWJlcik6IFJpZ2h0X2Nsb3NlZENvbnRleHQge1xuXHRcdGlmIChfcCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRfcCA9IDA7XG5cdFx0fVxuXG5cdFx0bGV0IF9wYXJlbnRjdHg6IFBhcnNlclJ1bGVDb250ZXh0ID0gdGhpcy5fY3R4O1xuXHRcdGxldCBfcGFyZW50U3RhdGU6IG51bWJlciA9IHRoaXMuc3RhdGU7XG5cdFx0bGV0IGxvY2FsY3R4OiBSaWdodF9jbG9zZWRDb250ZXh0ID0gbmV3IFJpZ2h0X2Nsb3NlZENvbnRleHQodGhpcywgdGhpcy5fY3R4LCBfcGFyZW50U3RhdGUpO1xuXHRcdGxldCBfcHJldmN0eDogUmlnaHRfY2xvc2VkQ29udGV4dCA9IGxvY2FsY3R4O1xuXHRcdGxldCBfc3RhcnRTdGF0ZTogbnVtYmVyID0gNjtcblx0XHR0aGlzLmVudGVyUmVjdXJzaW9uUnVsZShsb2NhbGN0eCwgNiwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX3JpZ2h0X2Nsb3NlZCwgX3ApO1xuXHRcdGxldCBfbGE6IG51bWJlcjtcblx0XHR0cnkge1xuXHRcdFx0bGV0IF9hbHQ6IG51bWJlcjtcblx0XHRcdHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSk7XG5cdFx0XHR7XG5cdFx0XHR0aGlzLnN0YXRlID0gNTU7XG5cdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcyk7XG5cdFx0XHRzd2l0Y2ggKHRoaXMuX2lucHV0LkxBKDEpKSB7XG5cdFx0XHRjYXNlIDE6XG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRjYXNlIDEzOlxuXHRcdFx0Y2FzZSAxNDpcblx0XHRcdGNhc2UgMTU6XG5cdFx0XHRcdHtcblx0XHRcdFx0bG9jYWxjdHggPSBuZXcgQ2xvc2VkSXNSaWdodF9DbG9zZWRDb250ZXh0KHRoaXMsIGxvY2FsY3R4KTtcblx0XHRcdFx0dGhpcy5fY3R4ID0gbG9jYWxjdHg7XG5cdFx0XHRcdF9wcmV2Y3R4ID0gbG9jYWxjdHg7XG5cblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDUyO1xuXHRcdFx0XHR0aGlzLmNsb3NlZCgwKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgNDpcblx0XHRcdGNhc2UgNTpcblx0XHRcdFx0e1xuXHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHQodGhpcywgbG9jYWxjdHgpO1xuXHRcdFx0XHR0aGlzLl9jdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0X3ByZXZjdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDUzO1xuXHRcdFx0XHRfbGEgPSB0aGlzLl9pbnB1dC5MQSgxKTtcblx0XHRcdFx0aWYoIShfbGE9PT00IHx8IF9sYT09PTUpKSB7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3ZlcklubGluZSh0aGlzKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydE1hdGNoKHRoaXMpO1xuXHRcdFx0XHQgICAgdGhpcy5jb25zdW1lKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5zdGF0ZSA9IDU0O1xuXHRcdFx0XHR0aGlzLmNsb3NlZCgwKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBOb1ZpYWJsZUFsdEV4Y2VwdGlvbih0aGlzKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuX2N0eC5zdG9wID0gdGhpcy5faW5wdXQuTFQoLTEpO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDYxO1xuXHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0X2FsdCA9IHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QodGhpcy5faW5wdXQsIDYsIHRoaXMuX2N0eCk7XG5cdFx0XHR3aGlsZSAoX2FsdCAhPT0gMiAmJiBfYWx0ICE9PSBBVE4uSU5WQUxJRF9BTFRfTlVNQkVSKSB7XG5cdFx0XHRcdGlmIChfYWx0ID09PSAxKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX3BhcnNlTGlzdGVuZXJzICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdHRoaXMudHJpZ2dlckV4aXRSdWxlRXZlbnQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0X3ByZXZjdHggPSBsb2NhbGN0eDtcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdGxvY2FsY3R4ID0gbmV3IFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQodGhpcywgbmV3IFJpZ2h0X2Nsb3NlZENvbnRleHQodGhpcywgX3BhcmVudGN0eCwgX3BhcmVudFN0YXRlKSk7XG5cdFx0XHRcdFx0KGxvY2FsY3R4IGFzIFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQpLl9sZWZ0ID0gX3ByZXZjdHg7XG5cdFx0XHRcdFx0dGhpcy5wdXNoTmV3UmVjdXJzaW9uQ29udGV4dChsb2NhbGN0eCwgX3N0YXJ0U3RhdGUsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9yaWdodF9jbG9zZWQpO1xuXHRcdFx0XHRcdHRoaXMuc3RhdGUgPSA1Nztcblx0XHRcdFx0XHRpZiAoISh0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMSkpKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyB0aGlzLmNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihcInRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAxKVwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDU4O1xuXHRcdFx0XHRcdChsb2NhbGN0eCBhcyBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RDb250ZXh0KS5fcmlnaHQgPSB0aGlzLmNsb3NlZCgwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSA2Mztcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0XHRfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgNiwgdGhpcy5fY3R4KTtcblx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKHJlKSB7XG5cdFx0XHRpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuXHRcdFx0XHRsb2NhbGN0eC5leGNlcHRpb24gPSByZTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSk7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyByZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZmluYWxseSB7XG5cdFx0XHR0aGlzLnVucm9sbFJlY3Vyc2lvbkNvbnRleHRzKF9wYXJlbnRjdHgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbG9jYWxjdHg7XG5cdH1cblxuXHRwdWJsaWMgb3BlbigpOiBPcGVuQ29udGV4dDtcblx0cHVibGljIG9wZW4oX3A6IG51bWJlcik6IE9wZW5Db250ZXh0O1xuXHQvLyBAUnVsZVZlcnNpb24oMClcblx0cHVibGljIG9wZW4oX3A/OiBudW1iZXIpOiBPcGVuQ29udGV4dCB7XG5cdFx0aWYgKF9wID09PSB1bmRlZmluZWQpIHtcblx0XHRcdF9wID0gMDtcblx0XHR9XG5cblx0XHRsZXQgX3BhcmVudGN0eDogUGFyc2VyUnVsZUNvbnRleHQgPSB0aGlzLl9jdHg7XG5cdFx0bGV0IF9wYXJlbnRTdGF0ZTogbnVtYmVyID0gdGhpcy5zdGF0ZTtcblx0XHRsZXQgbG9jYWxjdHg6IE9wZW5Db250ZXh0ID0gbmV3IE9wZW5Db250ZXh0KHRoaXMsIHRoaXMuX2N0eCwgX3BhcmVudFN0YXRlKTtcblx0XHRsZXQgX3ByZXZjdHg6IE9wZW5Db250ZXh0ID0gbG9jYWxjdHg7XG5cdFx0bGV0IF9zdGFydFN0YXRlOiBudW1iZXIgPSA4O1xuXHRcdHRoaXMuZW50ZXJSZWN1cnNpb25SdWxlKGxvY2FsY3R4LCA4LCBhcml0aG1ldGljUGFyc2VyLlJVTEVfb3BlbiwgX3ApO1xuXHRcdGxldCBfbGE6IG51bWJlcjtcblx0XHR0cnkge1xuXHRcdFx0bGV0IF9hbHQ6IG51bWJlcjtcblx0XHRcdHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSk7XG5cdFx0XHR7XG5cdFx0XHR7XG5cdFx0XHRsb2NhbGN0eCA9IG5ldyBSaWdodF9DbG9zZWRJc09wZW5Db250ZXh0KHRoaXMsIGxvY2FsY3R4KTtcblx0XHRcdHRoaXMuX2N0eCA9IGxvY2FsY3R4O1xuXHRcdFx0X3ByZXZjdHggPSBsb2NhbGN0eDtcblxuXHRcdFx0dGhpcy5zdGF0ZSA9IDY1O1xuXHRcdFx0dGhpcy5yaWdodF9jbG9zZWQoMCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLl9jdHguc3RvcCA9IHRoaXMuX2lucHV0LkxUKC0xKTtcblx0XHRcdHRoaXMuc3RhdGUgPSA3Mjtcblx0XHRcdHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKTtcblx0XHRcdF9hbHQgPSB0aGlzLl9pbnRlcnAuYWRhcHRpdmVQcmVkaWN0KHRoaXMuX2lucHV0LCA3LCB0aGlzLl9jdHgpO1xuXHRcdFx0d2hpbGUgKF9hbHQgIT09IDIgJiYgX2FsdCAhPT0gQVROLklOVkFMSURfQUxUX05VTUJFUikge1xuXHRcdFx0XHRpZiAoX2FsdCA9PT0gMSkge1xuXHRcdFx0XHRcdGlmICh0aGlzLl9wYXJzZUxpc3RlbmVycyAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRyaWdnZXJFeGl0UnVsZUV2ZW50KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF9wcmV2Y3R4ID0gbG9jYWxjdHg7XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRsb2NhbGN0eCA9IG5ldyBTdW1Db250ZXh0KHRoaXMsIG5ldyBPcGVuQ29udGV4dCh0aGlzLCBfcGFyZW50Y3R4LCBfcGFyZW50U3RhdGUpKTtcblx0XHRcdFx0XHQobG9jYWxjdHggYXMgU3VtQ29udGV4dCkuX2xlZnQgPSBfcHJldmN0eDtcblx0XHRcdFx0XHR0aGlzLnB1c2hOZXdSZWN1cnNpb25Db250ZXh0KGxvY2FsY3R4LCBfc3RhcnRTdGF0ZSwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX29wZW4pO1xuXHRcdFx0XHRcdHRoaXMuc3RhdGUgPSA2Nztcblx0XHRcdFx0XHRpZiAoISh0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMSkpKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyB0aGlzLmNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihcInRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAxKVwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDY4O1xuXHRcdFx0XHRcdF9sYSA9IHRoaXMuX2lucHV0LkxBKDEpO1xuXHRcdFx0XHRcdGlmKCEoX2xhPT09NCB8fCBfbGE9PT01KSkge1xuXHRcdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3ZlcklubGluZSh0aGlzKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydE1hdGNoKHRoaXMpO1xuXHRcdFx0XHRcdCAgICB0aGlzLmNvbnN1bWUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5zdGF0ZSA9IDY5O1xuXHRcdFx0XHRcdChsb2NhbGN0eCBhcyBTdW1Db250ZXh0KS5fcmlnaHQgPSB0aGlzLnJpZ2h0X2Nsb3NlZCgwKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSA3NDtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpO1xuXHRcdFx0XHRfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgNywgdGhpcy5fY3R4KTtcblx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKHJlKSB7XG5cdFx0XHRpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuXHRcdFx0XHRsb2NhbGN0eC5leGNlcHRpb24gPSByZTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSk7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyByZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZmluYWxseSB7XG5cdFx0XHR0aGlzLnVucm9sbFJlY3Vyc2lvbkNvbnRleHRzKF9wYXJlbnRjdHgpO1xuXHRcdH1cblx0XHRyZXR1cm4gbG9jYWxjdHg7XG5cdH1cblx0Ly8gQFJ1bGVWZXJzaW9uKDApXG5cdHB1YmxpYyBhdG9tKCk6IEF0b21Db250ZXh0IHtcblx0XHRsZXQgbG9jYWxjdHg6IEF0b21Db250ZXh0ID0gbmV3IEF0b21Db250ZXh0KHRoaXMsIHRoaXMuX2N0eCwgdGhpcy5zdGF0ZSk7XG5cdFx0dGhpcy5lbnRlclJ1bGUobG9jYWxjdHgsIDEwLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfYXRvbSk7XG5cdFx0bGV0IF9sYTogbnVtYmVyO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmVudGVyT3V0ZXJBbHQobG9jYWxjdHgsIDEpO1xuXHRcdFx0e1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDc1O1xuXHRcdFx0X2xhID0gdGhpcy5faW5wdXQuTEEoMSk7XG5cdFx0XHRpZighKF9sYT09PTEgfHwgX2xhPT09MTUpKSB7XG5cdFx0XHR0aGlzLl9lcnJIYW5kbGVyLnJlY292ZXJJbmxpbmUodGhpcyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRNYXRjaCh0aGlzKTtcblx0XHRcdCAgICB0aGlzLmNvbnN1bWUoKTtcblx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKHJlKSB7XG5cdFx0XHRpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuXHRcdFx0XHRsb2NhbGN0eC5leGNlcHRpb24gPSByZTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSk7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyByZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZmluYWxseSB7XG5cdFx0XHR0aGlzLmV4aXRSdWxlKCk7XG5cdFx0fVxuXHRcdHJldHVybiBsb2NhbGN0eDtcblx0fVxuXHQvLyBAUnVsZVZlcnNpb24oMClcblx0cHVibGljIHJlbG9wKCk6IFJlbG9wQ29udGV4dCB7XG5cdFx0bGV0IGxvY2FsY3R4OiBSZWxvcENvbnRleHQgPSBuZXcgUmVsb3BDb250ZXh0KHRoaXMsIHRoaXMuX2N0eCwgdGhpcy5zdGF0ZSk7XG5cdFx0dGhpcy5lbnRlclJ1bGUobG9jYWxjdHgsIDEyLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfcmVsb3ApO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLmVudGVyT3V0ZXJBbHQobG9jYWxjdHgsIDEpO1xuXHRcdFx0e1xuXHRcdFx0dGhpcy5zdGF0ZSA9IDc3O1xuXHRcdFx0dGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLkVRKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKHJlKSB7XG5cdFx0XHRpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuXHRcdFx0XHRsb2NhbGN0eC5leGNlcHRpb24gPSByZTtcblx0XHRcdFx0dGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSk7XG5cdFx0XHRcdHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aHJvdyByZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZmluYWxseSB7XG5cdFx0XHR0aGlzLmV4aXRSdWxlKCk7XG5cdFx0fVxuXHRcdHJldHVybiBsb2NhbGN0eDtcblx0fVxuXG5cdHB1YmxpYyBzZW1wcmVkKGxvY2FsY3R4OiBSdWxlQ29udGV4dCwgcnVsZUluZGV4OiBudW1iZXIsIHByZWRJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0c3dpdGNoIChydWxlSW5kZXgpIHtcblx0XHRjYXNlIDI6XG5cdFx0XHRyZXR1cm4gdGhpcy5jbG9zZWRfc2VtcHJlZChsb2NhbGN0eCBhcyBDbG9zZWRDb250ZXh0LCBwcmVkSW5kZXgpO1xuXHRcdGNhc2UgMzpcblx0XHRcdHJldHVybiB0aGlzLnJpZ2h0X2Nsb3NlZF9zZW1wcmVkKGxvY2FsY3R4IGFzIFJpZ2h0X2Nsb3NlZENvbnRleHQsIHByZWRJbmRleCk7XG5cdFx0Y2FzZSA0OlxuXHRcdFx0cmV0dXJuIHRoaXMub3Blbl9zZW1wcmVkKGxvY2FsY3R4IGFzIE9wZW5Db250ZXh0LCBwcmVkSW5kZXgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRwcml2YXRlIGNsb3NlZF9zZW1wcmVkKGxvY2FsY3R4OiBDbG9zZWRDb250ZXh0LCBwcmVkSW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuXHRcdHN3aXRjaCAocHJlZEluZGV4KSB7XG5cdFx0Y2FzZSAwOlxuXHRcdFx0cmV0dXJuIHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCA0KTtcblx0XHRjYXNlIDE6XG5cdFx0XHRyZXR1cm4gdGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDMpO1xuXHRcdGNhc2UgMjpcblx0XHRcdHJldHVybiB0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMik7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHByaXZhdGUgcmlnaHRfY2xvc2VkX3NlbXByZWQobG9jYWxjdHg6IFJpZ2h0X2Nsb3NlZENvbnRleHQsIHByZWRJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0c3dpdGNoIChwcmVkSW5kZXgpIHtcblx0XHRjYXNlIDM6XG5cdFx0XHRyZXR1cm4gdGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDEpO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRwcml2YXRlIG9wZW5fc2VtcHJlZChsb2NhbGN0eDogT3BlbkNvbnRleHQsIHByZWRJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG5cdFx0c3dpdGNoIChwcmVkSW5kZXgpIHtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gdGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDEpO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgX3NlcmlhbGl6ZWRBVE46IG51bWJlcltdID0gWzQsMSwxNiw4MCwyLDAsNywwLDIsXG5cdDEsNywxLDIsMiw3LDIsMiwzLDcsMywyLDQsNyw0LDIsNSw3LDUsMiw2LDcsNiwxLDAsMSwwLDEsMCwxLDAsMSwxLDEsMSwxLFxuXHQyLDEsMiwxLDIsMSwyLDEsMiwxLDIsMSwyLDEsMiwxLDIsMSwyLDMsMiwzMSw4LDIsMSwyLDMsMiwzNCw4LDIsMSwyLDEsMixcblx0MSwyLDEsMiwxLDIsMSwyLDEsMiwxLDIsMywyLDQ0LDgsMiwxLDIsNSwyLDQ3LDgsMiwxMCwyLDEyLDIsNTAsOSwyLDEsMyxcblx0MSwzLDEsMywxLDMsMywzLDU2LDgsMywxLDMsMSwzLDUsMyw2MCw4LDMsMTAsMywxMiwzLDYzLDksMywxLDQsMSw0LDEsNCxcblx0MSw0LDEsNCwxLDQsNSw0LDcxLDgsNCwxMCw0LDEyLDQsNzQsOSw0LDEsNSwxLDUsMSw2LDEsNiwxLDYsMCwzLDQsNiw4LDcsXG5cdDAsMiw0LDYsOCwxMCwxMiwwLDIsMSwwLDQsNSwyLDAsMSwxLDE1LDE1LDgzLDAsMTQsMSwwLDAsMCwyLDE4LDEsMCwwLDAsXG5cdDQsMzMsMSwwLDAsMCw2LDU1LDEsMCwwLDAsOCw2NCwxLDAsMCwwLDEwLDc1LDEsMCwwLDAsMTIsNzcsMSwwLDAsMCwxNCwxNSxcblx0MywyLDEsMCwxNSwxNiwzLDEyLDYsMCwxNiwxNywzLDIsMSwwLDE3LDEsMSwwLDAsMCwxOCwxOSwzLDgsNCwwLDE5LDMsMSxcblx0MCwwLDAsMjAsMjEsNiwyLC0xLDAsMjEsMjIsNSwyLDAsMCwyMiwyMywzLDgsNCwwLDIzLDI0LDUsMywwLDAsMjQsMzQsMSxcblx0MCwwLDAsMjUsMzQsMywxMCw1LDAsMjYsMjcsNSwxMywwLDAsMjcsMzQsMyw0LDIsNSwyOCwzMCw1LDE0LDAsMCwyOSwzMSxcblx0Myw0LDIsMCwzMCwyOSwxLDAsMCwwLDMwLDMxLDEsMCwwLDAsMzEsMzIsMSwwLDAsMCwzMiwzNCwzLDQsMiwxLDMzLDIwLDEsXG5cdDAsMCwwLDMzLDI1LDEsMCwwLDAsMzMsMjYsMSwwLDAsMCwzMywyOCwxLDAsMCwwLDM0LDQ4LDEsMCwwLDAsMzUsMzYsMTAsXG5cdDQsMCwwLDM2LDM3LDUsNywwLDAsMzcsNDcsMyw0LDIsNSwzOCwzOSwxMCwzLDAsMCwzOSw0MCw1LDEyLDAsMCw0MCw0NywzLFxuXHQ0LDIsNCw0MSw0MywxMCwyLDAsMCw0Miw0NCw1LDYsMCwwLDQzLDQyLDEsMCwwLDAsNDMsNDQsMSwwLDAsMCw0NCw0NSwxLFxuXHQwLDAsMCw0NSw0NywzLDQsMiwzLDQ2LDM1LDEsMCwwLDAsNDYsMzgsMSwwLDAsMCw0Niw0MSwxLDAsMCwwLDQ3LDUwLDEsMCxcblx0MCwwLDQ4LDQ2LDEsMCwwLDAsNDgsNDksMSwwLDAsMCw0OSw1LDEsMCwwLDAsNTAsNDgsMSwwLDAsMCw1MSw1Miw2LDMsLTEsXG5cdDAsNTIsNTYsMyw0LDIsMCw1Myw1NCw3LDAsMCwwLDU0LDU2LDMsNCwyLDAsNTUsNTEsMSwwLDAsMCw1NSw1MywxLDAsMCwwLFxuXHQ1Niw2MSwxLDAsMCwwLDU3LDU4LDEwLDEsMCwwLDU4LDYwLDMsNCwyLDAsNTksNTcsMSwwLDAsMCw2MCw2MywxLDAsMCwwLFxuXHQ2MSw1OSwxLDAsMCwwLDYxLDYyLDEsMCwwLDAsNjIsNywxLDAsMCwwLDYzLDYxLDEsMCwwLDAsNjQsNjUsNiw0LC0xLDAsNjUsXG5cdDY2LDMsNiwzLDAsNjYsNzIsMSwwLDAsMCw2Nyw2OCwxMCwxLDAsMCw2OCw2OSw3LDAsMCwwLDY5LDcxLDMsNiwzLDAsNzAsXG5cdDY3LDEsMCwwLDAsNzEsNzQsMSwwLDAsMCw3Miw3MCwxLDAsMCwwLDcyLDczLDEsMCwwLDAsNzMsOSwxLDAsMCwwLDc0LDcyLFxuXHQxLDAsMCwwLDc1LDc2LDcsMSwwLDAsNzYsMTEsMSwwLDAsMCw3Nyw3OCw1LDEwLDAsMCw3OCwxMywxLDAsMCwwLDgsMzAsMzMsXG5cdDQzLDQ2LDQ4LDU1LDYxLDcyXTtcblxuXHRwcml2YXRlIHN0YXRpYyBfX0FUTjogQVROO1xuXHRwdWJsaWMgc3RhdGljIGdldCBfQVROKCk6IEFUTiB7XG5cdFx0aWYgKCFhcml0aG1ldGljUGFyc2VyLl9fQVROKSB7XG5cdFx0XHRhcml0aG1ldGljUGFyc2VyLl9fQVROID0gbmV3IEFUTkRlc2VyaWFsaXplcigpLmRlc2VyaWFsaXplKGFyaXRobWV0aWNQYXJzZXIuX3NlcmlhbGl6ZWRBVE4pO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcml0aG1ldGljUGFyc2VyLl9fQVROO1xuXHR9XG5cblxuXHRzdGF0aWMgRGVjaXNpb25zVG9ERkEgPSBhcml0aG1ldGljUGFyc2VyLl9BVE4uZGVjaXNpb25Ub1N0YXRlLm1hcCggKGRzOiBEZWNpc2lvblN0YXRlLCBpbmRleDogbnVtYmVyKSA9PiBuZXcgREZBKGRzLCBpbmRleCkgKTtcblxufVxuXG5leHBvcnQgY2xhc3MgRXF1YXRpb25Db250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLCBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCwgaW52b2tpbmdTdGF0ZT86IG51bWJlcikge1xuXHRcdHN1cGVyKHBhcmVudCwgaW52b2tpbmdTdGF0ZSk7XG4gICAgXHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0fVxuXHRwdWJsaWMgZXhwcmVzc2lvbl9saXN0KCk6IEV4cHJlc3Npb25Db250ZXh0W10ge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHRzKEV4cHJlc3Npb25Db250ZXh0KSBhcyBFeHByZXNzaW9uQ29udGV4dFtdO1xuXHR9XG5cdHB1YmxpYyBleHByZXNzaW9uKGk6IG51bWJlcik6IEV4cHJlc3Npb25Db250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KEV4cHJlc3Npb25Db250ZXh0LCBpKSBhcyBFeHByZXNzaW9uQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgcmVsb3AoKTogUmVsb3BDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KFJlbG9wQ29udGV4dCwgMCkgYXMgUmVsb3BDb250ZXh0O1xuXHR9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICBcdHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfZXF1YXRpb247XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlckVxdWF0aW9uKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJFcXVhdGlvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRFcXVhdGlvbikge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRFcXVhdGlvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdEVxdWF0aW9uKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdEVxdWF0aW9uKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuXG5cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlciwgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsIGludm9raW5nU3RhdGU/OiBudW1iZXIpIHtcblx0XHRzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpO1xuICAgIFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdH1cblx0cHVibGljIG9wZW4oKTogT3BlbkNvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoT3BlbkNvbnRleHQsIDApIGFzIE9wZW5Db250ZXh0O1xuXHR9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICBcdHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfZXhwcmVzc2lvbjtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyRXhwcmVzc2lvbikge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyRXhwcmVzc2lvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRFeHByZXNzaW9uKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdEV4cHJlc3Npb24odGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRFeHByZXNzaW9uKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdEV4cHJlc3Npb24odGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5cblxuZXhwb3J0IGNsYXNzIENsb3NlZENvbnRleHQgZXh0ZW5kcyBQYXJzZXJSdWxlQ29udGV4dCB7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcj86IGFyaXRobWV0aWNQYXJzZXIsIHBhcmVudD86IFBhcnNlclJ1bGVDb250ZXh0LCBpbnZva2luZ1N0YXRlPzogbnVtYmVyKSB7XG5cdFx0c3VwZXIocGFyZW50LCBpbnZva2luZ1N0YXRlKTtcbiAgICBcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHR9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICBcdHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfY2xvc2VkO1xuXHR9XG5cdHB1YmxpYyBjb3B5RnJvbShjdHg6IENsb3NlZENvbnRleHQpOiB2b2lkIHtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG59XG5leHBvcnQgY2xhc3MgTG9nQ29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuXHRwdWJsaWMgX2Jhc2UhOiBDbG9zZWRDb250ZXh0O1xuXHRwdWJsaWMgX2NvbnRlbnQhOiBDbG9zZWRDb250ZXh0O1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIExPRygpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuTE9HLCAwKTtcblx0fVxuXHRwdWJsaWMgY2xvc2VkX2xpc3QoKTogQ2xvc2VkQ29udGV4dFtdIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0cyhDbG9zZWRDb250ZXh0KSBhcyBDbG9zZWRDb250ZXh0W107XG5cdH1cblx0cHVibGljIGNsb3NlZChpOiBudW1iZXIpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIGkpIGFzIENsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlckxvZykge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyTG9nKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdExvZykge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRMb2codGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRMb2cpIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0TG9nKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIEludGVncmFsQ29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuXHRwdWJsaWMgX2ludGVncmFuZCE6IENsb3NlZENvbnRleHQ7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBDbG9zZWRDb250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgSU5UKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5JTlQsIDApO1xuXHR9XG5cdHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChDbG9zZWRDb250ZXh0LCAwKSBhcyBDbG9zZWRDb250ZXh0O1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJJbnRlZ3JhbCkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVySW50ZWdyYWwodGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0SW50ZWdyYWwpIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0SW50ZWdyYWwodGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRJbnRlZ3JhbCkge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRJbnRlZ3JhbCh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9kdWN0Q29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuXHRwdWJsaWMgX2xlZnQhOiBDbG9zZWRDb250ZXh0O1xuXHRwdWJsaWMgX3JpZ2h0ITogQ2xvc2VkQ29udGV4dDtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IENsb3NlZENvbnRleHQpIHtcblx0XHRzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKTtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG5cdHB1YmxpYyBjbG9zZWRfbGlzdCgpOiBDbG9zZWRDb250ZXh0W10ge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHRzKENsb3NlZENvbnRleHQpIGFzIENsb3NlZENvbnRleHRbXTtcblx0fVxuXHRwdWJsaWMgY2xvc2VkKGk6IG51bWJlcik6IENsb3NlZENvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgaSkgYXMgQ2xvc2VkQ29udGV4dDtcblx0fVxuXHRwdWJsaWMgVElNRVMoKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLlRJTUVTLCAwKTtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyUHJvZHVjdCkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyUHJvZHVjdCh0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRQcm9kdWN0KSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdFByb2R1Y3QodGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRQcm9kdWN0KSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdFByb2R1Y3QodGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5leHBvcnQgY2xhc3MgRGl2aXNpb25Db250ZXh0IGV4dGVuZHMgQ2xvc2VkQ29udGV4dCB7XG5cdHB1YmxpYyBfbGVmdCE6IENsb3NlZENvbnRleHQ7XG5cdHB1YmxpYyBfcmlnaHQhOiBDbG9zZWRDb250ZXh0O1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIERJVigpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuRElWLCAwKTtcblx0fVxuXHRwdWJsaWMgY2xvc2VkX2xpc3QoKTogQ2xvc2VkQ29udGV4dFtdIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0cyhDbG9zZWRDb250ZXh0KSBhcyBDbG9zZWRDb250ZXh0W107XG5cdH1cblx0cHVibGljIGNsb3NlZChpOiBudW1iZXIpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIGkpIGFzIENsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlckRpdmlzaW9uKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJEaXZpc2lvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXREaXZpc2lvbikge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXREaXZpc2lvbih0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdERpdmlzaW9uKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdERpdmlzaW9uKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIENsb3NlZEF0b21Db250ZXh0IGV4dGVuZHMgQ2xvc2VkQ29udGV4dCB7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBDbG9zZWRDb250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgYXRvbSgpOiBBdG9tQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChBdG9tQ29udGV4dCwgMCkgYXMgQXRvbUNvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlckNsb3NlZEF0b20pIHtcblx0IFx0XHRsaXN0ZW5lci5lbnRlckNsb3NlZEF0b20odGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0Q2xvc2VkQXRvbSkge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRDbG9zZWRBdG9tKHRoaXMpO1xuXHRcdH1cblx0fVxuXHQvLyBAT3ZlcnJpZGVcblx0cHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuXHRcdGlmICh2aXNpdG9yLnZpc2l0Q2xvc2VkQXRvbSkge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDbG9zZWRBdG9tKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIFBvd2VyQ29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuXHRwdWJsaWMgX2xlZnQhOiBDbG9zZWRDb250ZXh0O1xuXHRwdWJsaWMgX3JpZ2h0ITogQ2xvc2VkQ29udGV4dDtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IENsb3NlZENvbnRleHQpIHtcblx0XHRzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKTtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG5cdHB1YmxpYyBQT1coKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLlBPVywgMCk7XG5cdH1cblx0cHVibGljIGNsb3NlZF9saXN0KCk6IENsb3NlZENvbnRleHRbXSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dHMoQ2xvc2VkQ29udGV4dCkgYXMgQ2xvc2VkQ29udGV4dFtdO1xuXHR9XG5cdHB1YmxpYyBjbG9zZWQoaTogbnVtYmVyKTogQ2xvc2VkQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChDbG9zZWRDb250ZXh0LCBpKSBhcyBDbG9zZWRDb250ZXh0O1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJQb3dlcikge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyUG93ZXIodGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0UG93ZXIpIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0UG93ZXIodGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRQb3dlcikge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRQb3dlcih0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cbmV4cG9ydCBjbGFzcyBQYXJlbkNvbnRleHQgZXh0ZW5kcyBDbG9zZWRDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IENsb3NlZENvbnRleHQpIHtcblx0XHRzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKTtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG5cdHB1YmxpYyBMUEFSRU4oKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLkxQQVJFTiwgMCk7XG5cdH1cblx0cHVibGljIG9wZW4oKTogT3BlbkNvbnRleHQge1xuXHRcdHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoT3BlbkNvbnRleHQsIDApIGFzIE9wZW5Db250ZXh0O1xuXHR9XG5cdHB1YmxpYyBSUEFSRU4oKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLlJQQVJFTiwgMCk7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlclBhcmVuKSB7XG5cdCBcdFx0bGlzdGVuZXIuZW50ZXJQYXJlbih0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRQYXJlbikge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRQYXJlbih0aGlzKTtcblx0XHR9XG5cdH1cblx0Ly8gQE92ZXJyaWRlXG5cdHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcblx0XHRpZiAodmlzaXRvci52aXNpdFBhcmVuKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdFBhcmVuKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuXG5cbmV4cG9ydCBjbGFzcyBSaWdodF9jbG9zZWRDb250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLCBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCwgaW52b2tpbmdTdGF0ZT86IG51bWJlcikge1xuXHRcdHN1cGVyKHBhcmVudCwgaW52b2tpbmdTdGF0ZSk7XG4gICAgXHR0aGlzLnBhcnNlciA9IHBhcnNlcjtcblx0fVxuICAgIHB1YmxpYyBnZXQgcnVsZUluZGV4KCk6IG51bWJlciB7XG4gICAgXHRyZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5SVUxFX3JpZ2h0X2Nsb3NlZDtcblx0fVxuXHRwdWJsaWMgY29weUZyb20oY3R4OiBSaWdodF9jbG9zZWRDb250ZXh0KTogdm9pZCB7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxufVxuZXhwb3J0IGNsYXNzIFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCBleHRlbmRzIFJpZ2h0X2Nsb3NlZENvbnRleHQge1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogUmlnaHRfY2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIGNsb3NlZCgpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIDApIGFzIENsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIFBMVVMoKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLlBMVVMsIDApO1xuXHR9XG5cdHB1YmxpYyBNSU5VUygpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuTUlOVVMsIDApO1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJVbmFyeU9uRXhwcmVzc2lvbikge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyVW5hcnlPbkV4cHJlc3Npb24odGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0VW5hcnlPbkV4cHJlc3Npb24pIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0VW5hcnlPbkV4cHJlc3Npb24odGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRVbmFyeU9uRXhwcmVzc2lvbikge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRVbmFyeU9uRXhwcmVzc2lvbih0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cbmV4cG9ydCBjbGFzcyBDbG9zZWRJc1JpZ2h0X0Nsb3NlZENvbnRleHQgZXh0ZW5kcyBSaWdodF9jbG9zZWRDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IFJpZ2h0X2Nsb3NlZENvbnRleHQpIHtcblx0XHRzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKTtcblx0XHRzdXBlci5jb3B5RnJvbShjdHgpO1xuXHR9XG5cdHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChDbG9zZWRDb250ZXh0LCAwKSBhcyBDbG9zZWRDb250ZXh0O1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJDbG9zZWRJc1JpZ2h0X0Nsb3NlZCkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyQ2xvc2VkSXNSaWdodF9DbG9zZWQodGhpcyk7XG5cdFx0fVxuXHR9XG5cdHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5leGl0Q2xvc2VkSXNSaWdodF9DbG9zZWQpIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0Q2xvc2VkSXNSaWdodF9DbG9zZWQodGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRDbG9zZWRJc1JpZ2h0X0Nsb3NlZCkge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDbG9zZWRJc1JpZ2h0X0Nsb3NlZCh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cbmV4cG9ydCBjbGFzcyBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RDb250ZXh0IGV4dGVuZHMgUmlnaHRfY2xvc2VkQ29udGV4dCB7XG5cdHB1YmxpYyBfbGVmdCE6IFJpZ2h0X2Nsb3NlZENvbnRleHQ7XG5cdHB1YmxpYyBfcmlnaHQhOiBDbG9zZWRDb250ZXh0O1xuXHRjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogUmlnaHRfY2xvc2VkQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIHJpZ2h0X2Nsb3NlZCgpOiBSaWdodF9jbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KFJpZ2h0X2Nsb3NlZENvbnRleHQsIDApIGFzIFJpZ2h0X2Nsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGNsb3NlZCgpOiBDbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIDApIGFzIENsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlclJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdCkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0KHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdCkge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3QodGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3QpIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0UmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0KHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuXG5cbmV4cG9ydCBjbGFzcyBPcGVuQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlciwgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsIGludm9raW5nU3RhdGU/OiBudW1iZXIpIHtcblx0XHRzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpO1xuICAgIFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVJbmRleCgpOiBudW1iZXIge1xuICAgIFx0cmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9vcGVuO1xuXHR9XG5cdHB1YmxpYyBjb3B5RnJvbShjdHg6IE9wZW5Db250ZXh0KTogdm9pZCB7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxufVxuZXhwb3J0IGNsYXNzIFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQgZXh0ZW5kcyBPcGVuQ29udGV4dCB7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBPcGVuQ29udGV4dCkge1xuXHRcdHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpO1xuXHRcdHN1cGVyLmNvcHlGcm9tKGN0eCk7XG5cdH1cblx0cHVibGljIHJpZ2h0X2Nsb3NlZCgpOiBSaWdodF9jbG9zZWRDb250ZXh0IHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KFJpZ2h0X2Nsb3NlZENvbnRleHQsIDApIGFzIFJpZ2h0X2Nsb3NlZENvbnRleHQ7XG5cdH1cblx0cHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG5cdCAgICBpZihsaXN0ZW5lci5lbnRlclJpZ2h0X0Nsb3NlZElzT3Blbikge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyUmlnaHRfQ2xvc2VkSXNPcGVuKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdFJpZ2h0X0Nsb3NlZElzT3Blbikge1xuXHQgXHRcdGxpc3RlbmVyLmV4aXRSaWdodF9DbG9zZWRJc09wZW4odGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRSaWdodF9DbG9zZWRJc09wZW4pIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0UmlnaHRfQ2xvc2VkSXNPcGVuKHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpO1xuXHRcdH1cblx0fVxufVxuZXhwb3J0IGNsYXNzIFN1bUNvbnRleHQgZXh0ZW5kcyBPcGVuQ29udGV4dCB7XG5cdHB1YmxpYyBfbGVmdCE6IE9wZW5Db250ZXh0O1xuXHRwdWJsaWMgX3JpZ2h0ITogUmlnaHRfY2xvc2VkQ29udGV4dDtcblx0Y29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IE9wZW5Db250ZXh0KSB7XG5cdFx0c3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSk7XG5cdFx0c3VwZXIuY29weUZyb20oY3R4KTtcblx0fVxuXHRwdWJsaWMgb3BlbigpOiBPcGVuQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChPcGVuQ29udGV4dCwgMCkgYXMgT3BlbkNvbnRleHQ7XG5cdH1cblx0cHVibGljIFBMVVMoKTogVGVybWluYWxOb2RlIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLlBMVVMsIDApO1xuXHR9XG5cdHB1YmxpYyBNSU5VUygpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuTUlOVVMsIDApO1xuXHR9XG5cdHB1YmxpYyByaWdodF9jbG9zZWQoKTogUmlnaHRfY2xvc2VkQ29udGV4dCB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChSaWdodF9jbG9zZWRDb250ZXh0LCAwKSBhcyBSaWdodF9jbG9zZWRDb250ZXh0O1xuXHR9XG5cdHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZW50ZXJTdW0pIHtcblx0IFx0XHRsaXN0ZW5lci5lbnRlclN1bSh0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRTdW0pIHtcblx0IFx0XHRsaXN0ZW5lci5leGl0U3VtKHRoaXMpO1xuXHRcdH1cblx0fVxuXHQvLyBAT3ZlcnJpZGVcblx0cHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuXHRcdGlmICh2aXNpdG9yLnZpc2l0U3VtKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdFN1bSh0aGlzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKTtcblx0XHR9XG5cdH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQXRvbUNvbnRleHQgZXh0ZW5kcyBQYXJzZXJSdWxlQ29udGV4dCB7XG5cdGNvbnN0cnVjdG9yKHBhcnNlcj86IGFyaXRobWV0aWNQYXJzZXIsIHBhcmVudD86IFBhcnNlclJ1bGVDb250ZXh0LCBpbnZva2luZ1N0YXRlPzogbnVtYmVyKSB7XG5cdFx0c3VwZXIocGFyZW50LCBpbnZva2luZ1N0YXRlKTtcbiAgICBcdHRoaXMucGFyc2VyID0gcGFyc2VyO1xuXHR9XG5cdHB1YmxpYyBTQ0lFTlRJRklDX05VTUJFUigpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuU0NJRU5USUZJQ19OVU1CRVIsIDApO1xuXHR9XG5cdHB1YmxpYyBWQVJJQUJMRSgpOiBUZXJtaW5hbE5vZGUge1xuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuVkFSSUFCTEUsIDApO1xuXHR9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICBcdHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfYXRvbTtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyQXRvbSkge1xuXHQgXHRcdGxpc3RlbmVyLmVudGVyQXRvbSh0aGlzKTtcblx0XHR9XG5cdH1cblx0cHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmV4aXRBdG9tKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdEF0b20odGhpcyk7XG5cdFx0fVxuXHR9XG5cdC8vIEBPdmVycmlkZVxuXHRwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG5cdFx0aWYgKHZpc2l0b3IudmlzaXRBdG9tKSB7XG5cdFx0XHRyZXR1cm4gdmlzaXRvci52aXNpdEF0b20odGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG5cblxuZXhwb3J0IGNsYXNzIFJlbG9wQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcblx0Y29uc3RydWN0b3IocGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlciwgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsIGludm9raW5nU3RhdGU/OiBudW1iZXIpIHtcblx0XHRzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpO1xuICAgIFx0dGhpcy5wYXJzZXIgPSBwYXJzZXI7XG5cdH1cblx0cHVibGljIEVRKCk6IFRlcm1pbmFsTm9kZSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5FUSwgMCk7XG5cdH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVJbmRleCgpOiBudW1iZXIge1xuICAgIFx0cmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9yZWxvcDtcblx0fVxuXHRwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcblx0ICAgIGlmKGxpc3RlbmVyLmVudGVyUmVsb3ApIHtcblx0IFx0XHRsaXN0ZW5lci5lbnRlclJlbG9wKHRoaXMpO1xuXHRcdH1cblx0fVxuXHRwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuXHQgICAgaWYobGlzdGVuZXIuZXhpdFJlbG9wKSB7XG5cdCBcdFx0bGlzdGVuZXIuZXhpdFJlbG9wKHRoaXMpO1xuXHRcdH1cblx0fVxuXHQvLyBAT3ZlcnJpZGVcblx0cHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuXHRcdGlmICh2aXNpdG9yLnZpc2l0UmVsb3ApIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0UmVsb3AodGhpcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcyk7XG5cdFx0fVxuXHR9XG59XG4iLCIvLyBHZW5lcmF0ZWQgZnJvbSAuL3NyYy9tYXRobGliL3VzZXJpbnB1dC9hcml0aG1ldGljLmc0IGJ5IEFOVExSIDQuMTMuMFxuXG5pbXBvcnQge1BhcnNlVHJlZVZpc2l0b3J9IGZyb20gJ2FudGxyNCc7XG5cblxuaW1wb3J0IHsgRXF1YXRpb25Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgRXhwcmVzc2lvbkNvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBMb2dDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgSW50ZWdyYWxDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgUHJvZHVjdENvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBEaXZpc2lvbkNvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBDbG9zZWRBdG9tQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IFBvd2VyQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IFBhcmVuQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IENsb3NlZElzUmlnaHRfQ2xvc2VkQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCI7XG5pbXBvcnQgeyBSaWdodF9DbG9zZWRJc09wZW5Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgU3VtQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIjtcbmltcG9ydCB7IEF0b21Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuaW1wb3J0IHsgUmVsb3BDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiO1xuXG5cbi8qKlxuICogVGhpcyBpbnRlcmZhY2UgZGVmaW5lcyBhIGNvbXBsZXRlIGdlbmVyaWMgdmlzaXRvciBmb3IgYSBwYXJzZSB0cmVlIHByb2R1Y2VkXG4gKiBieSBgYXJpdGhtZXRpY1BhcnNlcmAuXG4gKlxuICogQHBhcmFtIDxSZXN1bHQ+IFRoZSByZXR1cm4gdHlwZSBvZiB0aGUgdmlzaXQgb3BlcmF0aW9uLiBVc2UgYHZvaWRgIGZvclxuICogb3BlcmF0aW9ucyB3aXRoIG5vIHJldHVybiB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+IGV4dGVuZHMgUGFyc2VUcmVlVmlzaXRvcjxSZXN1bHQ+IHtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSBgYXJpdGhtZXRpY1BhcnNlci5lcXVhdGlvbmAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0RXF1YXRpb24/OiAoY3R4OiBFcXVhdGlvbkNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSBgYXJpdGhtZXRpY1BhcnNlci5leHByZXNzaW9uYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRFeHByZXNzaW9uPzogKGN0eDogRXhwcmVzc2lvbkNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYExvZ2Bcblx0ICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5jbG9zZWRgLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdExvZz86IChjdHg6IExvZ0NvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYEludGVncmFsYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0SW50ZWdyYWw/OiAoY3R4OiBJbnRlZ3JhbENvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFByb2R1Y3RgXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIuY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRQcm9kdWN0PzogKGN0eDogUHJvZHVjdENvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYERpdmlzaW9uYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0RGl2aXNpb24/OiAoY3R4OiBEaXZpc2lvbkNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYENsb3NlZEF0b21gXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIuY2xvc2VkYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRDbG9zZWRBdG9tPzogKGN0eDogQ2xvc2VkQXRvbUNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFBvd2VyYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0UG93ZXI/OiAoY3R4OiBQb3dlckNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFBhcmVuYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0UGFyZW4/OiAoY3R4OiBQYXJlbkNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFVuYXJ5T25FeHByZXNzaW9uYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLnJpZ2h0X2Nsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0VW5hcnlPbkV4cHJlc3Npb24/OiAoY3R4OiBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYENsb3NlZElzUmlnaHRfQ2xvc2VkYFxuXHQgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLnJpZ2h0X2Nsb3NlZGAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0Q2xvc2VkSXNSaWdodF9DbG9zZWQ/OiAoY3R4OiBDbG9zZWRJc1JpZ2h0X0Nsb3NlZENvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdGBcblx0ICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5yaWdodF9jbG9zZWRgLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdD86IChjdHg6IFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQpID0+IFJlc3VsdDtcblx0LyoqXG5cdCAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFJpZ2h0X0Nsb3NlZElzT3BlbmBcblx0ICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5vcGVuYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRSaWdodF9DbG9zZWRJc09wZW4/OiAoY3R4OiBSaWdodF9DbG9zZWRJc09wZW5Db250ZXh0KSA9PiBSZXN1bHQ7XG5cdC8qKlxuXHQgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgdGhlIGBTdW1gXG5cdCAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIub3BlbmAuXG5cdCAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcblx0ICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcblx0ICovXG5cdHZpc2l0U3VtPzogKGN0eDogU3VtQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IGBhcml0aG1ldGljUGFyc2VyLmF0b21gLlxuXHQgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG5cdCAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG5cdCAqL1xuXHR2aXNpdEF0b20/OiAoY3R4OiBBdG9tQ29udGV4dCkgPT4gUmVzdWx0O1xuXHQvKipcblx0ICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IGBhcml0aG1ldGljUGFyc2VyLnJlbG9wYC5cblx0ICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuXHQgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuXHQgKi9cblx0dmlzaXRSZWxvcD86IChjdHg6IFJlbG9wQ29udGV4dCkgPT4gUmVzdWx0O1xufVxuXG4iLCJcbi8qKlxuICogV3JhcHMgdGhlIGdpdmVuIG1hdGhtbCBzdHJpbmcgaW4gbWF0aG1sIHBhcmVudGhhc2VzLlxuICogQHBhcmFtIHN0ciBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluUGFyZW4oc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxtbz4oPC9tbz5cIiArIHN0ciArIFwiPG1vPik8L21vPlwiXG59XG5cbi8qKlxuICogUHV0cyB0aGUgZ2l2ZW4gbWF0aG1sIGV4cHJlc3Npb24gaW4gYSByb3cgc28gdGhhdCBcbiAqIGl0IGRvZXNuJ3QgZ2V0IGRpdmlkZWQgYnkgbWF0aGpheC5cbiAqIEBwYXJhbSBzdHIgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluUm93KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI8bXJvdz5cIiArIHN0ciArIFwiPC9tcm93PlwiXG59XG5cbi8qKlxuICogV3JhcHMgdGhlIGdpdmVuIHN0cmluZyBpbiA8bWF0aD48L21hdGg+XG4gKiBAcGFyYW0gc3RyIFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5NYXRoKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI8bWF0aD5cIiArIHN0ciArIFwiPC9tYXRoPlwiXG59XG5cbi8qKlxuICogV3JhcHMgdGhlIGdpdmVuIHN0cmluZyBpbiA8bWF0aCBkaXNwbGF5PSdibG9jayc+PC9tYXRoPlxuICogQHBhcmFtIHN0ciBcbiAqL1xuIGV4cG9ydCBmdW5jdGlvbiBpbk1hdGhCbG9jayhzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPG1hdGggZGlzcGxheT0nYmxvY2snPlwiICsgc3RyICsgXCI8L21hdGg+XCJcbn0iLCJpbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuXG5leHBvcnQgZnVuY3Rpb24gc2V0T2Y8VD4oLi4uYXJyOiBUW10pOiBTZXQ8VD4ge1xuICAgIGNvbnN0IG91dCA9IG5ldyBTZXQ8VD4oKVxuICAgIGFyci5mb3JFYWNoKGUgPT4gb3V0LmFkZChlKSlcbiAgICByZXR1cm4gb3V0XG59XG5cbi8qKlxuICogQWRkcyB0aGUgZ2l2ZW4gZWxlbWVudHMgdG8gdGhlIGdpdmVuIGNvbGxlY3Rpb25cbiAqIEBwYXJhbSBjb2xsZWN0aW9uIFxuICogQHBhcmFtIGVsZW1lbnRzIFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQWxsPFQ+KGNvbGxlY3Rpb246IFNldDxUPiwgLi4uZWxlbWVudHM6IFRbXSkge1xuICAgIGZvciAoY29uc3QgZSBvZiBlbGVtZW50cykge1xuICAgICAgICBjb2xsZWN0aW9uLmFkZChlKVxuICAgIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaXMgaW4gdGhlIGdpdmVuIGNvbGxlY3Rpb25cbiAqIHVzaW5nIHJlZmVyZW5jaWFsIGVxdWFsaXR5LlxuICogQHBhcmFtIGNvbGxlY3Rpb24gXG4gKiBAcGFyYW0gZWxlbWVudCBcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNvbGxlY3Rpb24gaGFzIHRoZSBlbGVtZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXM8VD4oY29sbGVjdGlvbjogVFtdLCBlbGVtZW50OiBUKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBlIG9mIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGUgPT09IGVsZW1lbnQpIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxufSIsIlxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGV4cHJlc3Npb24gZXZhbHVhdGVkIHRvIHRydWUuIElmIG5vdCwgdGhyb3dzIGVycm9yXG4gKiB3aXRoIHRoZSBtZXNzYWdlIGdpdmVuLlxuICogQHBhcmFtIG1zZyBEaXNwbGF5ZWQgaWYgdGhlIGV4cHJlc3Npb24gaXMgZmFsc2UuIERlZmF1bHRzIHRvIFwiRmFpbGVkIEFzc2VydFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoZXhwOiBib29sZWFuLCBtc2c6IHN0cmluZyA9IFwiRmFpbGVkIGFzc2VydFwiKTogdm9pZCB7XG4gICAgaWYgKCFleHApIHRocm93IG5ldyBFcnJvcihtc2cpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yX2FsbDxUPihpdGVyYWJsZTogSXRlcmFibGU8VD4sIGV4cDogKHZhbDogVCkgPT4gYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGZvciAoY29uc3QgaSBvZiBpdGVyYWJsZSkge1xuICAgICAgICBpZiAoIWV4cChpKSkgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3Jfc29tZTxUPihpdGVyYWJsZTogSXRlcmFibGU8VD4sIGV4cDogKHZhbDogVCkgPT4gYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGZvciAoY29uc3QgaSBvZiBpdGVyYWJsZSkge1xuICAgICAgICBpZiAoZXhwKGkpKSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2Vcbn0iLCIoKCk9Pnt2YXIgdD17OTI6KCk9Pnt9fSxlPXt9O2Z1bmN0aW9uIG4ocil7dmFyIG89ZVtyXTtpZih2b2lkIDAhPT1vKXJldHVybiBvLmV4cG9ydHM7dmFyIGk9ZVtyXT17ZXhwb3J0czp7fX07cmV0dXJuIHRbcl0oaSxpLmV4cG9ydHMsbiksaS5leHBvcnRzfW4uZD0odCxlKT0+e2Zvcih2YXIgciBpbiBlKW4ubyhlLHIpJiYhbi5vKHQscikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIse2VudW1lcmFibGU6ITAsZ2V0OmVbcl19KX0sbi5vPSh0LGUpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSxuLnI9dD0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9O3ZhciByPXt9OygoKT0+e1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdChlKX1mdW5jdGlvbiBlKGUsbil7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCh2b2lkIDAsaT1mdW5jdGlvbihlLG4pe2lmKFwib2JqZWN0XCIhPT10KGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIG89ci5jYWxsKGUsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXQobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcoZSl9KG8ua2V5KSxcInN5bWJvbFwiPT09dChpKT9pOlN0cmluZyhpKSksbyl9dmFyIGl9bi5yKHIpLG4uZChyLHtBVE46KCk9PkZlLEFUTkRlc2VyaWFsaXplcjooKT0+SG8sQmFpbEVycm9yU3RyYXRlZ3k6KCk9PnRhLENoYXJTdHJlYW06KCk9PmFhLENoYXJTdHJlYW1zOigpPT52YSxDb21tb25Ub2tlbjooKT0+eWksQ29tbW9uVG9rZW5TdHJlYW06KCk9PlJhLERGQTooKT0+Y2MsRGlhZ25vc3RpY0Vycm9yTGlzdGVuZXI6KCk9PkljLEVycm9yTGlzdGVuZXI6KCk9PkdvLEZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbjooKT0+amMsSW5wdXRTdHJlYW06KCk9PmFhLEludGVydmFsOigpPT5CLEludGVydmFsU2V0OigpPT5WLExMMUFuYWx5emVyOigpPT5JZSxMZXhlcjooKT0+VWksTGV4ZXJBVE5TaW11bGF0b3I6KCk9PkV1LE5vVmlhYmxlQWx0RXhjZXB0aW9uOigpPT5CdSxQYXJzZVRyZWVMaXN0ZW5lcjooKT0+eWMsUGFyc2VUcmVlVmlzaXRvcjooKT0+dmMsUGFyc2VUcmVlV2Fsa2VyOigpPT5nYyxQYXJzZXI6KCk9PlVhLFBhcnNlckFUTlNpbXVsYXRvcjooKT0+WXUsUGFyc2VyUnVsZUNvbnRleHQ6KCk9PmVsLFByZWRpY3Rpb25Db250ZXh0Q2FjaGU6KCk9Plh1LFByZWRpY3Rpb25Nb2RlOigpPT5JdSxSZWNvZ25pdGlvbkV4Y2VwdGlvbjooKT0+eGksUnVsZUNvbnRleHQ6KCk9PmVlLFJ1bGVOb2RlOigpPT5VdCxUZXJtaW5hbE5vZGU6KCk9Pkh0LFRva2VuOigpPT5vLGFycmF5VG9TdHJpbmc6KCk9PmIsZGVmYXVsdDooKT0+T2x9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuc291cmNlPW51bGwsdGhpcy50eXBlPW51bGwsdGhpcy5jaGFubmVsPW51bGwsdGhpcy5zdGFydD1udWxsLHRoaXMuc3RvcD1udWxsLHRoaXMudG9rZW5JbmRleD1udWxsLHRoaXMubGluZT1udWxsLHRoaXMuY29sdW1uPW51bGwsdGhpcy5fdGV4dD1udWxsfXZhciBuLHI7cmV0dXJuIG49dCwocj1be2tleTpcImdldFRva2VuU291cmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2VbMF19fSx7a2V5OlwiZ2V0SW5wdXRTdHJlYW1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZVsxXX19LHtrZXk6XCJ0ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0PXR9fV0pJiZlKG4ucHJvdG90eXBlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBpKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCl8fCFBcnJheS5pc0FycmF5KGUpKXJldHVybiExO2lmKHQ9PT1lKXJldHVybiEwO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoISh0W25dPT09ZVtuXXx8dFtuXS5lcXVhbHMmJnRbbl0uZXF1YWxzKGVbbl0pKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB1KHQpe3JldHVybiB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHUodCl9by5JTlZBTElEX1RZUEU9MCxvLkVQU0lMT049LTIsby5NSU5fVVNFUl9UT0tFTl9UWVBFPTEsby5FT0Y9LTEsby5ERUZBVUxUX0NIQU5ORUw9MCxvLkhJRERFTl9DSEFOTkVMPTE7dmFyIGM9TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKk1hdGgucG93KDIsMzIpKTtmdW5jdGlvbiBhKHQpe2lmKCF0KXJldHVybiAwO3ZhciBlLG4scj11KHQpLG89XCJzdHJpbmdcIj09PXI/dDohKFwib2JqZWN0XCIhPT1yfHwhdC50b1N0cmluZykmJnQudG9TdHJpbmcoKTtpZighbylyZXR1cm4gMDtmb3IodmFyIGk9MyZvLmxlbmd0aCxhPW8ubGVuZ3RoLWksbD1jLHM9MzQzMjkxODM1MyxmPTQ2MTg0NTkwNyxwPTA7cDxhOyluPTI1NSZvLmNoYXJDb2RlQXQocCl8KDI1NSZvLmNoYXJDb2RlQXQoKytwKSk8PDh8KDI1NSZvLmNoYXJDb2RlQXQoKytwKSk8PDE2fCgyNTUmby5jaGFyQ29kZUF0KCsrcCkpPDwyNCwrK3AsbD0yNzQ5MisoNjU1MzUmKGU9NSooNjU1MzUmKGw9KGxePW49KDY1NTM1JihuPShuPSg2NTUzNSZuKSpzKygoKG4+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bj4+PjE3KSkqZisoKChuPj4+MTYpKmYmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDEzfGw+Pj4xOSkpKygoNSoobD4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KSkrKCg1ODk2NCsoZT4+PjE2KSY2NTUzNSk8PDE2KTtzd2l0Y2gobj0wLGkpe2Nhc2UgMzpuXj0oMjU1Jm8uY2hhckNvZGVBdChwKzIpKTw8MTY7Y2FzZSAyOm5ePSgyNTUmby5jaGFyQ29kZUF0KHArMSkpPDw4O2Nhc2UgMTpsXj1uPSg2NTUzNSYobj0obj0oNjU1MzUmKG5ePTI1NSZvLmNoYXJDb2RlQXQocCkpKSpzKygoKG4+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bj4+PjE3KSkqZisoKChuPj4+MTYpKmYmNjU1MzUpPDwxNikmNDI5NDk2NzI5NX1yZXR1cm4gbF49by5sZW5ndGgsbD0yMjQ2ODIyNTA3Kig2NTUzNSYobF49bD4+PjE2KSkrKCgyMjQ2ODIyNTA3KihsPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsbD0zMjY2NDg5OTA5Kig2NTUzNSYobF49bD4+PjEzKSkrKCgzMjY2NDg5OTA5KihsPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKGxePWw+Pj4xNik+Pj4wfWZ1bmN0aW9uIGwodCl7cmV0dXJuIGw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbCh0KX1mdW5jdGlvbiBzKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1sKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWwocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09bChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmNvdW50PTAsdGhpcy5oYXNoPTB9dmFyIGUsbixyO3JldHVybiBlPXQsbj1be2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGU9YXJndW1lbnRzW3RdO2lmKG51bGwhPWUpaWYoQXJyYXkuaXNBcnJheShlKSl0aGlzLnVwZGF0ZS5hcHBseSh0aGlzLGUpO2Vsc2V7dmFyIG49MDtzd2l0Y2gobChlKSl7Y2FzZVwidW5kZWZpbmVkXCI6Y2FzZVwiZnVuY3Rpb25cIjpjb250aW51ZTtjYXNlXCJudW1iZXJcIjpjYXNlXCJib29sZWFuXCI6bj1lO2JyZWFrO2Nhc2VcInN0cmluZ1wiOm49YShlKTticmVhaztkZWZhdWx0OmUudXBkYXRlSGFzaENvZGU/ZS51cGRhdGVIYXNoQ29kZSh0aGlzKTpjb25zb2xlLmxvZyhcIk5vIHVwZGF0ZUhhc2hDb2RlIGZvciBcIitlLnRvU3RyaW5nKCkpO2NvbnRpbnVlfW49KG4qPTM0MzI5MTgzNTMpPDwxNXxuPj4+MTcsbio9NDYxODQ1OTA3LHRoaXMuY291bnQ9dGhpcy5jb3VudCsxO3ZhciByPXRoaXMuaGFzaF5uO3I9NSoocj1yPDwxM3xyPj4+MTkpKzM4NjQyOTIxOTYsdGhpcy5oYXNoPXJ9fX19LHtrZXk6XCJmaW5pc2hcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaGFzaF40KnRoaXMuY291bnQ7cmV0dXJuIHRePXQ+Pj4xNix0Kj0yMjQ2ODIyNTA3LHRePXQ+Pj4xMywodCo9MzI2NjQ4OTkwOSledD4+PjE2fX1dLHI9W3trZXk6XCJoYXNoU3R1ZmZcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW5ldyB0O3JldHVybiBlLnVwZGF0ZS5hcHBseShlLGFyZ3VtZW50cyksZS5maW5pc2goKX19XSxuJiZzKGUucHJvdG90eXBlLG4pLHImJnMoZSxyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gcCh0KXtyZXR1cm4gdD9cInN0cmluZ1wiPT10eXBlb2YgdD9hKHQpOnQuaGFzaENvZGUoKTotMX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuIHQ/dC5lcXVhbHMoZSk6dD09PWV9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gbnVsbD09PXQ/XCJudWxsXCI6dH1mdW5jdGlvbiBiKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP1wiW1wiK3QubWFwKGgpLmpvaW4oXCIsIFwiKStcIl1cIjpcIm51bGxcIn1mdW5jdGlvbiB2KHQpe3JldHVybiB2PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHYodCl9ZnVuY3Rpb24gZCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09dih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT12KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXYobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBtPVwiaC1cIixnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5kYXRhPXt9LHRoaXMuaGFzaEZ1bmN0aW9uPWV8fHAsdGhpcy5lcXVhbHNGdW5jdGlvbj1ufHx5fXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bSt0aGlzLmhhc2hGdW5jdGlvbih0KTtpZihlIGluIHRoaXMuZGF0YSl7Zm9yKHZhciBuPXRoaXMuZGF0YVtlXSxyPTA7cjxuLmxlbmd0aDtyKyspaWYodGhpcy5lcXVhbHNGdW5jdGlvbih0LG5bcl0pKXJldHVybiBuW3JdO3JldHVybiBuLnB1c2godCksdH1yZXR1cm4gdGhpcy5kYXRhW2VdPVt0XSx0fX0se2tleTpcImhhc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10aGlzLmdldCh0KX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1tK3RoaXMuaGFzaEZ1bmN0aW9uKHQpO2lmKGUgaW4gdGhpcy5kYXRhKWZvcih2YXIgbj10aGlzLmRhdGFbZV0scj0wO3I8bi5sZW5ndGg7cisrKWlmKHRoaXMuZXF1YWxzRnVuY3Rpb24odCxuW3JdKSlyZXR1cm4gbltyXTtyZXR1cm4gbnVsbH19LHtrZXk6XCJ2YWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKG0pfSkpLmZsYXRNYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFbZV19KSx0aGlzKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcy52YWx1ZXMoKSl9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5kYXRhKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgobSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhW2VdLmxlbmd0aH0pLHRoaXMpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSksMCl9fV0sbiYmZChlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gUyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZPKHQsZSl9ZnVuY3Rpb24gTyh0LGUpe3JldHVybiBPPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sTyh0LGUpfWZ1bmN0aW9uIHcodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixyPV8odCk7aWYoZSl7dmFyIG89Xyh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KHIsYXJndW1lbnRzLG8pfWVsc2Ugbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVAoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsbil9fWZ1bmN0aW9uIF8odCl7cmV0dXJuIF89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LF8odCl9ZnVuY3Rpb24gUCh0KXtyZXR1cm4gUD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxQKHQpfWZ1bmN0aW9uIFQodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIEUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVAodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09UChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1QKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBrKHQsZSxuKXtyZXR1cm4gZSYmRSh0LnByb3RvdHlwZSxlKSxuJiZFKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fXZhciBqPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1QodGhpcyx0KX1yZXR1cm4gayh0LFt7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBmO3JldHVybiB0aGlzLnVwZGF0ZUhhc2hDb2RlKHQpLHQuZmluaXNoKCl9fSx7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe319LHtrZXk6XCJldmFsUHJlY2VkZW5jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXN9fV0sW3trZXk6XCJhbmRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtpZihudWxsPT09ZXx8ZT09PXQuTk9ORSlyZXR1cm4gbjtpZihudWxsPT09bnx8bj09PXQuTk9ORSlyZXR1cm4gZTt2YXIgcj1uZXcgeChlLG4pO3JldHVybiAxPT09ci5vcG5kcy5sZW5ndGg/ci5vcG5kc1swXTpyfX0se2tleTpcIm9yQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7aWYobnVsbD09PWUpcmV0dXJuIG47aWYobnVsbD09PW4pcmV0dXJuIGU7aWYoZT09PXQuTk9ORXx8bj09PXQuTk9ORSlyZXR1cm4gdC5OT05FO3ZhciByPW5ldyBSKGUsbik7cmV0dXJuIDE9PT1yLm9wbmRzLmxlbmd0aD9yLm9wbmRzWzBdOnJ9fV0pLHR9KCkseD1mdW5jdGlvbih0KXtTKG4sdCk7dmFyIGU9dyhuKTtmdW5jdGlvbiBuKHQscil7dmFyIG87VCh0aGlzLG4pLG89ZS5jYWxsKHRoaXMpO3ZhciBpPW5ldyBnO3QgaW5zdGFuY2VvZiBuP3Qub3BuZHMubWFwKChmdW5jdGlvbih0KXtpLmFkZCh0KX0pKTppLmFkZCh0KSxyIGluc3RhbmNlb2Ygbj9yLm9wbmRzLm1hcCgoZnVuY3Rpb24odCl7aS5hZGQodCl9KSk6aS5hZGQocik7dmFyIHU9QyhpKTtpZih1Lmxlbmd0aD4wKXt2YXIgYz1udWxsO3UubWFwKChmdW5jdGlvbih0KXsobnVsbD09PWN8fHQucHJlY2VkZW5jZTxjLnByZWNlZGVuY2UpJiYoYz10KX0pKSxpLmFkZChjKX1yZXR1cm4gby5vcG5kcz1BcnJheS5mcm9tKGkudmFsdWVzKCkpLG99cmV0dXJuIGsobixbe2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIG4mJmkodGhpcy5vcG5kcyx0Lm9wbmRzKX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMub3BuZHMsXCJBTkRcIil9fSx7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5vcG5kcy5sZW5ndGg7bisrKWlmKCF0aGlzLm9wbmRzW25dLmV2YWx1YXRlKHQsZSkpcmV0dXJuITE7cmV0dXJuITB9fSx7a2V5OlwiZXZhbFByZWNlZGVuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0hMSxyPVtdLG89MDtvPHRoaXMub3BuZHMubGVuZ3RoO28rKyl7dmFyIGk9dGhpcy5vcG5kc1tvXSx1PWkuZXZhbFByZWNlZGVuY2UodCxlKTtpZihufD11IT09aSxudWxsPT09dSlyZXR1cm4gbnVsbDt1IT09ai5OT05FJiZyLnB1c2godSl9aWYoIW4pcmV0dXJuIHRoaXM7aWYoMD09PXIubGVuZ3RoKXJldHVybiBqLk5PTkU7dmFyIGM9bnVsbDtyZXR1cm4gci5tYXAoKGZ1bmN0aW9uKHQpe2M9bnVsbD09PWM/dDpqLmFuZENvbnRleHQoYyx0KX0pKSxjfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wbmRzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoKX0pKTtyZXR1cm4odC5sZW5ndGg+Mz90LnNsaWNlKDMpOnQpLmpvaW4oXCImJlwiKX19XSksbn0oaiksUj1mdW5jdGlvbih0KXtTKG4sdCk7dmFyIGU9dyhuKTtmdW5jdGlvbiBuKHQscil7dmFyIG87VCh0aGlzLG4pLG89ZS5jYWxsKHRoaXMpO3ZhciBpPW5ldyBnO3QgaW5zdGFuY2VvZiBuP3Qub3BuZHMubWFwKChmdW5jdGlvbih0KXtpLmFkZCh0KX0pKTppLmFkZCh0KSxyIGluc3RhbmNlb2Ygbj9yLm9wbmRzLm1hcCgoZnVuY3Rpb24odCl7aS5hZGQodCl9KSk6aS5hZGQocik7dmFyIHU9QyhpKTtpZih1Lmxlbmd0aD4wKXt2YXIgYz11LnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29tcGFyZVRvKGUpfSkpLGE9Y1tjLmxlbmd0aC0xXTtpLmFkZChhKX1yZXR1cm4gby5vcG5kcz1BcnJheS5mcm9tKGkudmFsdWVzKCkpLG99cmV0dXJuIGsobixbe2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIG4mJmkodGhpcy5vcG5kcyx0Lm9wbmRzKX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMub3BuZHMsXCJPUlwiKX19LHtrZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0aGlzLm9wbmRzLmxlbmd0aDtuKyspaWYodGhpcy5vcG5kc1tuXS5ldmFsdWF0ZSh0LGUpKXJldHVybiEwO3JldHVybiExfX0se2tleTpcImV2YWxQcmVjZWRlbmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITEscj1bXSxvPTA7bzx0aGlzLm9wbmRzLmxlbmd0aDtvKyspe3ZhciBpPXRoaXMub3BuZHNbb10sdT1pLmV2YWxQcmVjZWRlbmNlKHQsZSk7aWYobnw9dSE9PWksdT09PWouTk9ORSlyZXR1cm4gai5OT05FO251bGwhPT11JiZyLnB1c2godSl9aWYoIW4pcmV0dXJuIHRoaXM7aWYoMD09PXIubGVuZ3RoKXJldHVybiBudWxsO3JldHVybiByLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSksbnVsbH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcG5kcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCl9KSk7cmV0dXJuKHQubGVuZ3RoPjM/dC5zbGljZSgzKTp0KS5qb2luKFwifHxcIil9fV0pLG59KGopO2Z1bmN0aW9uIEModCl7dmFyIGU9W107cmV0dXJuIHQudmFsdWVzKCkubWFwKChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2Ygai5QcmVjZWRlbmNlUHJlZGljYXRlJiZlLnB1c2godCl9KSksZX1mdW5jdGlvbiBBKHQpe3JldHVybiBBPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEEodCl9ZnVuY3Rpb24gTih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09QSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1BKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEkodCxlKXtpZihudWxsPT09dCl7dmFyIG49e3N0YXRlOm51bGwsYWx0Om51bGwsY29udGV4dDpudWxsLHNlbWFudGljQ29udGV4dDpudWxsfTtyZXR1cm4gZSYmKG4ucmVhY2hlc0ludG9PdXRlckNvbnRleHQ9MCksbn12YXIgcj17fTtyZXR1cm4gci5zdGF0ZT10LnN0YXRlfHxudWxsLHIuYWx0PXZvaWQgMD09PXQuYWx0P251bGw6dC5hbHQsci5jb250ZXh0PXQuY29udGV4dHx8bnVsbCxyLnNlbWFudGljQ29udGV4dD10LnNlbWFudGljQ29udGV4dHx8bnVsbCxlJiYoci5yZWFjaGVzSW50b091dGVyQ29udGV4dD10LnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0fHwwLHIucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWQ9dC5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZHx8ITEpLHJ9dmFyIEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmNoZWNrQ29udGV4dChlLG4pLGU9SShlKSxuPUkobiwhMCksdGhpcy5zdGF0ZT1udWxsIT09ZS5zdGF0ZT9lLnN0YXRlOm4uc3RhdGUsdGhpcy5hbHQ9bnVsbCE9PWUuYWx0P2UuYWx0Om4uYWx0LHRoaXMuY29udGV4dD1udWxsIT09ZS5jb250ZXh0P2UuY29udGV4dDpuLmNvbnRleHQsdGhpcy5zZW1hbnRpY0NvbnRleHQ9bnVsbCE9PWUuc2VtYW50aWNDb250ZXh0P2Uuc2VtYW50aWNDb250ZXh0Om51bGwhPT1uLnNlbWFudGljQ29udGV4dD9uLnNlbWFudGljQ29udGV4dDpqLk5PTkUsdGhpcy5yZWFjaGVzSW50b091dGVyQ29udGV4dD1uLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0LHRoaXMucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWQ9bi5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZH12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJjaGVja0NvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe251bGwhPT10LmNvbnRleHQmJnZvaWQgMCE9PXQuY29udGV4dHx8bnVsbCE9PWUmJm51bGwhPT1lLmNvbnRleHQmJnZvaWQgMCE9PWUuY29udGV4dHx8KHRoaXMuY29udGV4dD1udWxsKX19LHtrZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGY7cmV0dXJuIHRoaXMudXBkYXRlSGFzaENvZGUodCksdC5maW5pc2goKX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuc3RhdGUuc3RhdGVOdW1iZXIsdGhpcy5hbHQsdGhpcy5jb250ZXh0LHRoaXMuc2VtYW50aWNDb250ZXh0KX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcz09PWV8fGUgaW5zdGFuY2VvZiB0JiZ0aGlzLnN0YXRlLnN0YXRlTnVtYmVyPT09ZS5zdGF0ZS5zdGF0ZU51bWJlciYmdGhpcy5hbHQ9PT1lLmFsdCYmKG51bGw9PT10aGlzLmNvbnRleHQ/bnVsbD09PWUuY29udGV4dDp0aGlzLmNvbnRleHQuZXF1YWxzKGUuY29udGV4dCkpJiZ0aGlzLnNlbWFudGljQ29udGV4dC5lcXVhbHMoZS5zZW1hbnRpY0NvbnRleHQpJiZ0aGlzLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkPT09ZS5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZH19LHtrZXk6XCJoYXNoQ29kZUZvckNvbmZpZ1NldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGY7cmV0dXJuIHQudXBkYXRlKHRoaXMuc3RhdGUuc3RhdGVOdW1iZXIsdGhpcy5hbHQsdGhpcy5zZW1hbnRpY0NvbnRleHQpLHQuZmluaXNoKCl9fSx7a2V5OlwiZXF1YWxzRm9yQ29uZmlnU2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXM9PT1lfHxlIGluc3RhbmNlb2YgdCYmdGhpcy5zdGF0ZS5zdGF0ZU51bWJlcj09PWUuc3RhdGUuc3RhdGVOdW1iZXImJnRoaXMuYWx0PT09ZS5hbHQmJnRoaXMuc2VtYW50aWNDb250ZXh0LmVxdWFscyhlLnNlbWFudGljQ29udGV4dCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiKFwiK3RoaXMuc3RhdGUrXCIsXCIrdGhpcy5hbHQrKG51bGwhPT10aGlzLmNvbnRleHQ/XCIsW1wiK3RoaXMuY29udGV4dC50b1N0cmluZygpK1wiXVwiOlwiXCIpKyh0aGlzLnNlbWFudGljQ29udGV4dCE9PWouTk9ORT9cIixcIit0aGlzLnNlbWFudGljQ29udGV4dC50b1N0cmluZygpOlwiXCIpKyh0aGlzLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PjA/XCIsdXA9XCIrdGhpcy5yZWFjaGVzSW50b091dGVyQ29udGV4dDpcIlwiKStcIilcIn19XSkmJk4oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIEQodCl7cmV0dXJuIEQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRCh0KX1mdW5jdGlvbiBGKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1EKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnN0YXJ0PWUsdGhpcy5zdG9wPW59dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiY2xvbmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLnN0YXJ0LHRoaXMuc3RvcCl9fSx7a2V5OlwiY29udGFpbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD49dGhpcy5zdGFydCYmdDx0aGlzLnN0b3B9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0PT09dGhpcy5zdG9wLTE/dGhpcy5zdGFydC50b1N0cmluZygpOnRoaXMuc3RhcnQudG9TdHJpbmcoKStcIi4uXCIrKHRoaXMuc3RvcC0xKS50b1N0cmluZygpfX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0b3AtdGhpcy5zdGFydH19XSkmJkYoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIE0odCl7cmV0dXJuIE09XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTSh0KX1mdW5jdGlvbiBVKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1NKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PU0ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09TShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99Qi5JTlZBTElEX0lOVEVSVkFMPW5ldyBCKC0xLC0yKTt2YXIgVj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuaW50ZXJ2YWxzPW51bGwsdGhpcy5yZWFkT25seT0hMX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImZpcnN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10aGlzLmludGVydmFsc3x8MD09PXRoaXMuaW50ZXJ2YWxzLmxlbmd0aD9vLklOVkFMSURfVFlQRTp0aGlzLmludGVydmFsc1swXS5zdGFydH19LHtrZXk6XCJhZGRPbmVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmFkZEludGVydmFsKG5ldyBCKHQsdCsxKSl9fSx7a2V5OlwiYWRkUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuYWRkSW50ZXJ2YWwobmV3IEIodCxlKzEpKX19LHtrZXk6XCJhZGRJbnRlcnZhbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLmludGVydmFscyl0aGlzLmludGVydmFscz1bXSx0aGlzLmludGVydmFscy5wdXNoKHQuY2xvbmUoKSk7ZWxzZXtmb3IodmFyIGU9MDtlPHRoaXMuaW50ZXJ2YWxzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuaW50ZXJ2YWxzW2VdO2lmKHQuc3RvcDxuLnN0YXJ0KXJldHVybiB2b2lkIHRoaXMuaW50ZXJ2YWxzLnNwbGljZShlLDAsdCk7aWYodC5zdG9wPT09bi5zdGFydClyZXR1cm4gdm9pZCh0aGlzLmludGVydmFsc1tlXT1uZXcgQih0LnN0YXJ0LG4uc3RvcCkpO2lmKHQuc3RhcnQ8PW4uc3RvcClyZXR1cm4gdGhpcy5pbnRlcnZhbHNbZV09bmV3IEIoTWF0aC5taW4obi5zdGFydCx0LnN0YXJ0KSxNYXRoLm1heChuLnN0b3AsdC5zdG9wKSksdm9pZCB0aGlzLnJlZHVjZShlKX10aGlzLmludGVydmFscy5wdXNoKHQuY2xvbmUoKSl9fX0se2tleTpcImFkZFNldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIG51bGwhPT10LmludGVydmFscyYmdC5pbnRlcnZhbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkSW50ZXJ2YWwodCl9KSx0aGlzKSx0aGlzfX0se2tleTpcInJlZHVjZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQ8dGhpcy5pbnRlcnZhbHMubGVuZ3RoLTEpe3ZhciBlPXRoaXMuaW50ZXJ2YWxzW3RdLG49dGhpcy5pbnRlcnZhbHNbdCsxXTtlLnN0b3A+PW4uc3RvcD8odGhpcy5pbnRlcnZhbHMuc3BsaWNlKHQrMSwxKSx0aGlzLnJlZHVjZSh0KSk6ZS5zdG9wPj1uLnN0YXJ0JiYodGhpcy5pbnRlcnZhbHNbdF09bmV3IEIoZS5zdGFydCxuLnN0b3ApLHRoaXMuaW50ZXJ2YWxzLnNwbGljZSh0KzEsMSkpfX19LHtrZXk6XCJjb21wbGVtZW50XCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uZXcgdDtyZXR1cm4gci5hZGRJbnRlcnZhbChuZXcgQihlLG4rMSkpLG51bGwhPT10aGlzLmludGVydmFscyYmdGhpcy5pbnRlcnZhbHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHIucmVtb3ZlUmFuZ2UodCl9KSkscn19LHtrZXk6XCJjb250YWluc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLmludGVydmFscylyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMuaW50ZXJ2YWxzLmxlbmd0aDtlKyspaWYodGhpcy5pbnRlcnZhbHNbZV0uY29udGFpbnModCkpcmV0dXJuITA7cmV0dXJuITF9fSx7a2V5OlwicmVtb3ZlUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0LnN0YXJ0PT09dC5zdG9wLTEpdGhpcy5yZW1vdmVPbmUodC5zdGFydCk7ZWxzZSBpZihudWxsIT09dGhpcy5pbnRlcnZhbHMpZm9yKHZhciBlPTAsbj0wO248dGhpcy5pbnRlcnZhbHMubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5pbnRlcnZhbHNbZV07aWYodC5zdG9wPD1yLnN0YXJ0KXJldHVybjtpZih0LnN0YXJ0PnIuc3RhcnQmJnQuc3RvcDxyLnN0b3Ape3RoaXMuaW50ZXJ2YWxzW2VdPW5ldyBCKHIuc3RhcnQsdC5zdGFydCk7dmFyIG89bmV3IEIodC5zdG9wLHIuc3RvcCk7cmV0dXJuIHZvaWQgdGhpcy5pbnRlcnZhbHMuc3BsaWNlKGUsMCxvKX10LnN0YXJ0PD1yLnN0YXJ0JiZ0LnN0b3A+PXIuc3RvcD8odGhpcy5pbnRlcnZhbHMuc3BsaWNlKGUsMSksZS09MSk6dC5zdGFydDxyLnN0b3A/dGhpcy5pbnRlcnZhbHNbZV09bmV3IEIoci5zdGFydCx0LnN0YXJ0KTp0LnN0b3A8ci5zdG9wJiYodGhpcy5pbnRlcnZhbHNbZV09bmV3IEIodC5zdG9wLHIuc3RvcCkpLGUrPTF9fX0se2tleTpcInJlbW92ZU9uZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGwhPT10aGlzLmludGVydmFscylmb3IodmFyIGU9MDtlPHRoaXMuaW50ZXJ2YWxzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuaW50ZXJ2YWxzW2VdO2lmKHQ8bi5zdGFydClyZXR1cm47aWYodD09PW4uc3RhcnQmJnQ9PT1uLnN0b3AtMSlyZXR1cm4gdm9pZCB0aGlzLmludGVydmFscy5zcGxpY2UoZSwxKTtpZih0PT09bi5zdGFydClyZXR1cm4gdm9pZCh0aGlzLmludGVydmFsc1tlXT1uZXcgQihuLnN0YXJ0KzEsbi5zdG9wKSk7aWYodD09PW4uc3RvcC0xKXJldHVybiB2b2lkKHRoaXMuaW50ZXJ2YWxzW2VdPW5ldyBCKG4uc3RhcnQsbi5zdG9wLTEpKTtpZih0PG4uc3RvcC0xKXt2YXIgcj1uZXcgQihuLnN0YXJ0LHQpO3JldHVybiBuLnN0YXJ0PXQrMSx2b2lkIHRoaXMuaW50ZXJ2YWxzLnNwbGljZShlLDAscil9fX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD10fHxudWxsLGU9ZXx8bnVsbCxuPW58fCExLG51bGw9PT10aGlzLmludGVydmFscz9cInt9XCI6bnVsbCE9PXR8fG51bGwhPT1lP3RoaXMudG9Ub2tlblN0cmluZyh0LGUpOm4/dGhpcy50b0NoYXJTdHJpbmcoKTp0aGlzLnRvSW5kZXhTdHJpbmcoKX19LHtrZXk6XCJ0b0NoYXJTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmludGVydmFscy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmludGVydmFsc1tlXTtuLnN0b3A9PT1uLnN0YXJ0KzE/bi5zdGFydD09PW8uRU9GP3QucHVzaChcIjxFT0Y+XCIpOnQucHVzaChcIidcIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4uc3RhcnQpK1wiJ1wiKTp0LnB1c2goXCInXCIrU3RyaW5nLmZyb21DaGFyQ29kZShuLnN0YXJ0KStcIicuLidcIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4uc3RvcC0xKStcIidcIil9cmV0dXJuIHQubGVuZ3RoPjE/XCJ7XCIrdC5qb2luKFwiLCBcIikrXCJ9XCI6dFswXX19LHtrZXk6XCJ0b0luZGV4U3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5pbnRlcnZhbHMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5pbnRlcnZhbHNbZV07bi5zdG9wPT09bi5zdGFydCsxP24uc3RhcnQ9PT1vLkVPRj90LnB1c2goXCI8RU9GPlwiKTp0LnB1c2gobi5zdGFydC50b1N0cmluZygpKTp0LnB1c2gobi5zdGFydC50b1N0cmluZygpK1wiLi5cIisobi5zdG9wLTEpLnRvU3RyaW5nKCkpfXJldHVybiB0Lmxlbmd0aD4xP1wie1wiK3Quam9pbihcIiwgXCIpK1wifVwiOnRbMF19fSx7a2V5OlwidG9Ub2tlblN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPHRoaXMuaW50ZXJ2YWxzLmxlbmd0aDtyKyspZm9yKHZhciBvPXRoaXMuaW50ZXJ2YWxzW3JdLGk9by5zdGFydDtpPG8uc3RvcDtpKyspbi5wdXNoKHRoaXMuZWxlbWVudE5hbWUodCxlLGkpKTtyZXR1cm4gbi5sZW5ndGg+MT9cIntcIituLmpvaW4oXCIsIFwiKStcIn1cIjpuWzBdfX0se2tleTpcImVsZW1lbnROYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuPT09by5FT0Y/XCI8RU9GPlwiOm49PT1vLkVQU0lMT04/XCI8RVBTSUxPTj5cIjp0W25dfHxlW25dfX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVydmFscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pKX19XSxuJiZVKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiB6KHQpe3JldHVybiB6PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHoodCl9ZnVuY3Rpb24gcSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09eih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT16KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXoobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBIPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5hdG49bnVsbCx0aGlzLnN0YXRlTnVtYmVyPXQuSU5WQUxJRF9TVEFURV9OVU1CRVIsdGhpcy5zdGF0ZVR5cGU9bnVsbCx0aGlzLnJ1bGVJbmRleD0wLHRoaXMuZXBzaWxvbk9ubHlUcmFuc2l0aW9ucz0hMSx0aGlzLnRyYW5zaXRpb25zPVtdLHRoaXMubmV4dFRva2VuV2l0aGluUnVsZT1udWxsfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZU51bWJlcn19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQmJnRoaXMuc3RhdGVOdW1iZXI9PT1lLnN0YXRlTnVtYmVyfX0se2tleTpcImlzTm9uR3JlZWR5RXhpdFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHtrZXk6XCJhZGRUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0tMSksMD09PXRoaXMudHJhbnNpdGlvbnMubGVuZ3RoP3RoaXMuZXBzaWxvbk9ubHlUcmFuc2l0aW9ucz10LmlzRXBzaWxvbjp0aGlzLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnMhPT10LmlzRXBzaWxvbiYmKHRoaXMuZXBzaWxvbk9ubHlUcmFuc2l0aW9ucz0hMSksLTE9PT1lP3RoaXMudHJhbnNpdGlvbnMucHVzaCh0KTp0aGlzLnRyYW5zaXRpb25zLnNwbGljZShlLDEsdCl9fV0pJiZxKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBLKHQpe3JldHVybiBLPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEsodCl9ZnVuY3Rpb24gWSh0LGUpe3JldHVybiBZPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWSh0LGUpfWZ1bmN0aW9uIEcodCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUsoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBXKHQpfWZ1bmN0aW9uIFcodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gWCh0KXtyZXR1cm4gWD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sWCh0KX1ILklOVkFMSURfVFlQRT0wLEguQkFTSUM9MSxILlJVTEVfU1RBUlQ9MixILkJMT0NLX1NUQVJUPTMsSC5QTFVTX0JMT0NLX1NUQVJUPTQsSC5TVEFSX0JMT0NLX1NUQVJUPTUsSC5UT0tFTl9TVEFSVD02LEguUlVMRV9TVE9QPTcsSC5CTE9DS19FTkQ9OCxILlNUQVJfTE9PUF9CQUNLPTksSC5TVEFSX0xPT1BfRU5UUlk9MTAsSC5QTFVTX0xPT1BfQkFDSz0xMSxILkxPT1BfRU5EPTEyLEguc2VyaWFsaXphdGlvbk5hbWVzPVtcIklOVkFMSURcIixcIkJBU0lDXCIsXCJSVUxFX1NUQVJUXCIsXCJCTE9DS19TVEFSVFwiLFwiUExVU19CTE9DS19TVEFSVFwiLFwiU1RBUl9CTE9DS19TVEFSVFwiLFwiVE9LRU5fU1RBUlRcIixcIlJVTEVfU1RPUFwiLFwiQkxPQ0tfRU5EXCIsXCJTVEFSX0xPT1BfQkFDS1wiLFwiU1RBUl9MT09QX0VOVFJZXCIsXCJQTFVTX0xPT1BfQkFDS1wiLFwiTE9PUF9FTkRcIl0sSC5JTlZBTElEX1NUQVRFX05VTUJFUj0tMTt2YXIgJD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmWSh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1YKG4pO2lmKHIpe3ZhciBvPVgodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIEcodGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguUlVMRV9TVE9QLEcodCxXKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSCk7ZnVuY3Rpb24gSih0KXtyZXR1cm4gSj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxKKHQpfWZ1bmN0aW9uIFEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUoodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09SihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1KKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBaKHQsZSxuKXtyZXR1cm4gZSYmUSh0LnByb3RvdHlwZSxlKSxuJiZRKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fXZhciB0dD1aKChmdW5jdGlvbiB0KGUpe2lmKGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxudWxsPT1lKXRocm93XCJ0YXJnZXQgY2Fubm90IGJlIG51bGwuXCI7dGhpcy50YXJnZXQ9ZSx0aGlzLmlzRXBzaWxvbj0hMSx0aGlzLmxhYmVsPW51bGx9KSk7ZnVuY3Rpb24gZXQodCl7cmV0dXJuIGV0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGV0KHQpfWZ1bmN0aW9uIG50KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1ldCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1ldChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1ldChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gcnQodCxlKXtyZXR1cm4gcnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxydCh0LGUpfWZ1bmN0aW9uIG90KHQpe3JldHVybiBvdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sb3QodCl9dHQuRVBTSUxPTj0xLHR0LlJBTkdFPTIsdHQuUlVMRT0zLHR0LlBSRURJQ0FURT00LHR0LkFUT009NSx0dC5BQ1RJT049Nix0dC5TRVQ9Nyx0dC5OT1RfU0VUPTgsdHQuV0lMRENBUkQ9OSx0dC5QUkVDRURFTkNFPTEwLHR0LnNlcmlhbGl6YXRpb25OYW1lcz1bXCJJTlZBTElEXCIsXCJFUFNJTE9OXCIsXCJSQU5HRVwiLFwiUlVMRVwiLFwiUFJFRElDQVRFXCIsXCJBVE9NXCIsXCJBQ1RJT05cIixcIlNFVFwiLFwiTk9UX1NFVFwiLFwiV0lMRENBUkRcIixcIlBSRUNFREVOQ0VcIl0sdHQuc2VyaWFsaXphdGlvblR5cGVzPXtFcHNpbG9uVHJhbnNpdGlvbjp0dC5FUFNJTE9OLFJhbmdlVHJhbnNpdGlvbjp0dC5SQU5HRSxSdWxlVHJhbnNpdGlvbjp0dC5SVUxFLFByZWRpY2F0ZVRyYW5zaXRpb246dHQuUFJFRElDQVRFLEF0b21UcmFuc2l0aW9uOnR0LkFUT00sQWN0aW9uVHJhbnNpdGlvbjp0dC5BQ1RJT04sU2V0VHJhbnNpdGlvbjp0dC5TRVQsTm90U2V0VHJhbnNpdGlvbjp0dC5OT1RfU0VULFdpbGRjYXJkVHJhbnNpdGlvbjp0dC5XSUxEQ0FSRCxQcmVjZWRlbmNlUHJlZGljYXRlVHJhbnNpdGlvbjp0dC5QUkVDRURFTkNFfTt2YXIgaXQ9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnJ0KHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9b3Qocik7aWYobyl7dmFyIG49b3QodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1ldChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlLG4scil7dmFyIG87cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobz1pLmNhbGwodGhpcyx0KSkucnVsZUluZGV4PWUsby5wcmVjZWRlbmNlPW4sby5mb2xsb3dTdGF0ZT1yLG8uc2VyaWFsaXphdGlvblR5cGU9dHQuUlVMRSxvLmlzRXBzaWxvbj0hMCxvfXJldHVybiBlPXUsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiExfX1dKSYmbnQoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh0dCk7ZnVuY3Rpb24gdXQodCl7cmV0dXJuIHV0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHV0KHQpfWZ1bmN0aW9uIGN0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT11dCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT11dChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT11dChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gYXQodCxlKXtyZXR1cm4gYXQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxhdCh0LGUpfWZ1bmN0aW9uIGx0KHQpe3JldHVybiBsdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sbHQodCl9dmFyIHN0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZhdCh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWx0KHIpO2lmKGkpe3ZhciBuPWx0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09dXQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwobj11LmNhbGwodGhpcyx0KSkuc2VyaWFsaXphdGlvblR5cGU9dHQuU0VULG51bGwhPWU/bi5sYWJlbD1lOihuLmxhYmVsPW5ldyBWLG4ubGFiZWwuYWRkT25lKG8uSU5WQUxJRF9UWVBFKSksbn1yZXR1cm4gZT1jLChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5sYWJlbC5jb250YWlucyh0KX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWwudG9TdHJpbmcoKX19XSkmJmN0KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30odHQpO2Z1bmN0aW9uIGZ0KHQpe3JldHVybiBmdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxmdCh0KX1mdW5jdGlvbiBwdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09ZnQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09ZnQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09ZnQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHl0KCl7cmV0dXJuIHl0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1idCh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LHl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBodCh0LGUpe3JldHVybiBodD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGh0KHQsZSl9ZnVuY3Rpb24gYnQodCl7cmV0dXJuIGJ0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxidCh0KX12YXIgdnQ9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmh0KHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9YnQocik7aWYobyl7dmFyIG49YnQodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1mdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzLHQsZSkpLnNlcmlhbGl6YXRpb25UeXBlPXR0Lk5PVF9TRVQsbn1yZXR1cm4gZT11LChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD49ZSYmdDw9biYmIXl0KGJ0KHUucHJvdG90eXBlKSxcIm1hdGNoZXNcIix0aGlzKS5jYWxsKHRoaXMsdCxlLG4pfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIn5cIit5dChidCh1LnByb3RvdHlwZSksXCJ0b1N0cmluZ1wiLHRoaXMpLmNhbGwodGhpcyl9fV0pJiZwdChlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHN0KTtmdW5jdGlvbiBkdCh0KXtyZXR1cm4gZHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZHQodCl9ZnVuY3Rpb24gbXQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWR0KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWR0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWR0KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBndCh0LGUpe3JldHVybiBndD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGd0KHQsZSl9ZnVuY3Rpb24gU3QodCl7cmV0dXJuIFN0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxTdCh0KX12YXIgT3Q9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmd0KHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9U3Qocik7aWYobyl7dmFyIG49U3QodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1kdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwoZT1pLmNhbGwodGhpcyx0KSkuc2VyaWFsaXphdGlvblR5cGU9dHQuV0lMRENBUkQsZX1yZXR1cm4gZT11LChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD49ZSYmdDw9bn19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCIuXCJ9fV0pJiZtdChlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHR0KTtmdW5jdGlvbiB3dCh0KXtyZXR1cm4gd3Q9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sd3QodCl9ZnVuY3Rpb24gX3QodCxlKXtyZXR1cm4gX3Q9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxfdCh0LGUpfWZ1bmN0aW9uIFB0KHQpe3JldHVybiBQdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sUHQodCl9dmFyIFR0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZfdCh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1QdChuKTtpZihyKXt2YXIgbz1QdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXd0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLG8uY2FsbCh0aGlzLHQpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfSh0dCk7ZnVuY3Rpb24gRXQodCl7cmV0dXJuIEV0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEV0KHQpfWZ1bmN0aW9uIGt0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1FdCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1FdChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1FdChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24ganQodCxlLG4pe3JldHVybiBlJiZrdCh0LnByb3RvdHlwZSxlKSxuJiZrdCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiB4dCh0KXtyZXR1cm4geHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0seHQodCl9ZnVuY3Rpb24gUnQodCxlKXtyZXR1cm4gUnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxSdCh0LGUpfWZ1bmN0aW9uIEN0KHQpe3JldHVybiBDdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sQ3QodCl9ZnVuY3Rpb24gQXQodCl7cmV0dXJuIEF0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEF0KHQpfWZ1bmN0aW9uIE50KHQsZSl7cmV0dXJuIE50PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sTnQodCxlKX1mdW5jdGlvbiBJdCh0KXtyZXR1cm4gSXQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEl0KHQpfXZhciBMdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTnQodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9SXQobik7aWYocil7dmFyIG89SXQodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1BdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShmdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmUnQodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Q3Qobik7aWYocil7dmFyIG89Q3QodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT14dChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShqdCgoZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9KSkpKTtmdW5jdGlvbiBEdCh0KXtyZXR1cm4gRHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRHQodCl9ZnVuY3Rpb24gRnQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUR0KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUR0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUR0KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBCdCh0LGUpe3JldHVybiBCdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEJ0KHQsZSl9ZnVuY3Rpb24gTXQodCl7cmV0dXJuIE10PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxNdCh0KX12YXIgVXQ9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkJ0KHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9TXQocik7aWYobyl7dmFyIG49TXQodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1EdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlPXUsKG49W3trZXk6XCJydWxlQ29udGV4dFwiLGdldDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgaW50ZXJmYWNlIGltcGxlbWVudGF0aW9uXCIpfX1dKSYmRnQoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShMdCk7ZnVuY3Rpb24gVnQodCl7cmV0dXJuIFZ0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFZ0KHQpfWZ1bmN0aW9uIHp0KHQsZSl7cmV0dXJuIHp0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0senQodCxlKX1mdW5jdGlvbiBxdCh0KXtyZXR1cm4gcXQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHF0KHQpfXZhciBIdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmenQodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9cXQobik7aWYocil7dmFyIG89cXQodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1WdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShMdCk7ZnVuY3Rpb24gS3QodCl7cmV0dXJuIEt0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEt0KHQpfWZ1bmN0aW9uIFl0KHQsZSl7cmV0dXJuIFl0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWXQodCxlKX1mdW5jdGlvbiBHdCh0KXtyZXR1cm4gR3Q9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEd0KHQpfXZhciBXdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmWXQodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9R3Qobik7aWYocil7dmFyIG89R3QodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1LdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIdCksWHQ9e3RvU3RyaW5nVHJlZTpmdW5jdGlvbih0LGUsbil7ZT1lfHxudWxsLG51bGwhPT0obj1ufHxudWxsKSYmKGU9bi5ydWxlTmFtZXMpO3ZhciByPVh0LmdldE5vZGVUZXh0KHQsZSk7cj1mdW5jdGlvbih0LGUpe3JldHVybiB0PXQucmVwbGFjZSgvXFx0L2csXCJcXFxcdFwiKS5yZXBsYWNlKC9cXG4vZyxcIlxcXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxcXHJcIil9KHIpO3ZhciBvPXQuZ2V0Q2hpbGRDb3VudCgpO2lmKDA9PT1vKXJldHVybiByO3ZhciBpPVwiKFwiK3IrXCIgXCI7bz4wJiYocj1YdC50b1N0cmluZ1RyZWUodC5nZXRDaGlsZCgwKSxlKSxpPWkuY29uY2F0KHIpKTtmb3IodmFyIHU9MTt1PG87dSsrKXI9WHQudG9TdHJpbmdUcmVlKHQuZ2V0Q2hpbGQodSksZSksaT1pLmNvbmNhdChcIiBcIityKTtyZXR1cm4gaS5jb25jYXQoXCIpXCIpfSxnZXROb2RlVGV4dDpmdW5jdGlvbih0LGUsbil7aWYoZT1lfHxudWxsLG51bGwhPT0obj1ufHxudWxsKSYmKGU9bi5ydWxlTmFtZXMpLG51bGwhPT1lKXtpZih0IGluc3RhbmNlb2YgVXQpe3ZhciByPXQucnVsZUNvbnRleHQuZ2V0QWx0TnVtYmVyKCk7cmV0dXJuIDAhPXI/ZVt0LnJ1bGVJbmRleF0rXCI6XCIrcjplW3QucnVsZUluZGV4XX1pZih0IGluc3RhbmNlb2YgV3QpcmV0dXJuIHQudG9TdHJpbmcoKTtpZih0IGluc3RhbmNlb2YgSHQmJm51bGwhPT10LnN5bWJvbClyZXR1cm4gdC5zeW1ib2wudGV4dH12YXIgaT10LmdldFBheWxvYWQoKTtyZXR1cm4gaSBpbnN0YW5jZW9mIG8/aS50ZXh0OnQuZ2V0UGF5bG9hZCgpLnRvU3RyaW5nKCl9LGdldENoaWxkcmVuOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0LmdldENoaWxkQ291bnQoKTtuKyspZS5wdXNoKHQuZ2V0Q2hpbGQobikpO3JldHVybiBlfSxnZXRBbmNlc3RvcnM6ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHQ9dC5nZXRQYXJlbnQoKTtudWxsIT09dDspZT1bdF0uY29uY2F0KGUpLHQ9dC5nZXRQYXJlbnQoKTtyZXR1cm4gZX0sZmluZEFsbFRva2VuTm9kZXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gWHQuZmluZEFsbE5vZGVzKHQsZSwhMCl9LGZpbmRBbGxSdWxlTm9kZXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gWHQuZmluZEFsbE5vZGVzKHQsZSwhMSl9LGZpbmRBbGxOb2RlczpmdW5jdGlvbih0LGUsbil7dmFyIHI9W107cmV0dXJuIFh0Ll9maW5kQWxsTm9kZXModCxlLG4scikscn0sX2ZpbmRBbGxOb2RlczpmdW5jdGlvbih0LGUsbixyKXtuJiZ0IGluc3RhbmNlb2YgSHQ/dC5zeW1ib2wudHlwZT09PWUmJnIucHVzaCh0KTohbiYmdCBpbnN0YW5jZW9mIFV0JiZ0LnJ1bGVJbmRleD09PWUmJnIucHVzaCh0KTtmb3IodmFyIG89MDtvPHQuZ2V0Q2hpbGRDb3VudCgpO28rKylYdC5fZmluZEFsbE5vZGVzKHQuZ2V0Q2hpbGQobyksZSxuLHIpfSxkZXNjZW5kYW50czpmdW5jdGlvbih0KXtmb3IodmFyIGU9W3RdLG49MDtuPHQuZ2V0Q2hpbGRDb3VudCgpO24rKyllPWUuY29uY2F0KFh0LmRlc2NlbmRhbnRzKHQuZ2V0Q2hpbGQobikpKTtyZXR1cm4gZX19O2NvbnN0ICR0PVh0O2Z1bmN0aW9uIEp0KHQpe3JldHVybiBKdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxKdCh0KX1mdW5jdGlvbiBRdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09SnQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09SnQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09SnQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFp0KHQsZSl7cmV0dXJuIFp0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWnQodCxlKX1mdW5jdGlvbiB0ZSh0KXtyZXR1cm4gdGU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHRlKHQpfXZhciBlZT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmWnQodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT10ZShyKTtpZihvKXt2YXIgbj10ZSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUp0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMpKS5wYXJlbnRDdHg9dHx8bnVsbCxuLmludm9raW5nU3RhdGU9ZXx8LTEsbn1yZXR1cm4gZT11LChuPVt7a2V5OlwiZGVwdGhcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcztudWxsIT09ZTspZT1lLnBhcmVudEN0eCx0Kz0xO3JldHVybiB0fX0se2tleTpcImlzRW1wdHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybi0xPT09dGhpcy5pbnZva2luZ1N0YXRlfX0se2tleTpcImdldFNvdXJjZUludGVydmFsXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQi5JTlZBTElEX0lOVEVSVkFMfX0se2tleTpcInJ1bGVDb250ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OlwiZ2V0UGF5bG9hZFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSx7a2V5OlwiZ2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmdldENoaWxkQ291bnQoKT9cIlwiOnRoaXMuY2hpbGRyZW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRUZXh0KCl9KSkuam9pbihcIlwiKX19LHtrZXk6XCJnZXRBbHROdW1iZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwfX0se2tleTpcInNldEFsdE51bWJlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJnZXRDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfX0se2tleTpcImdldENoaWxkQ291bnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwfX0se2tleTpcImFjY2VwdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnZpc2l0Q2hpbGRyZW4odGhpcyl9fSx7a2V5OlwidG9TdHJpbmdUcmVlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gJHQudG9TdHJpbmdUcmVlKHRoaXMsdCxlKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dD10fHxudWxsLGU9ZXx8bnVsbDtmb3IodmFyIG49dGhpcyxyPVwiW1wiO251bGwhPT1uJiZuIT09ZTspe2lmKG51bGw9PT10KW4uaXNFbXB0eSgpfHwocis9bi5pbnZva2luZ1N0YXRlKTtlbHNle3ZhciBvPW4ucnVsZUluZGV4O3IrPW8+PTAmJm88dC5sZW5ndGg/dFtvXTpcIlwiK299bnVsbD09PW4ucGFyZW50Q3R4fHxudWxsPT09dCYmbi5wYXJlbnRDdHguaXNFbXB0eSgpfHwocis9XCIgXCIpLG49bi5wYXJlbnRDdHh9cmV0dXJuIHIrXCJdXCJ9fV0pJiZRdChlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFV0KTtmdW5jdGlvbiBuZSh0KXtyZXR1cm4gbmU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbmUodCl9ZnVuY3Rpb24gcmUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PW5lKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PW5lKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PW5lKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgb2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5jYWNoZWRIYXNoQ29kZT1lfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImlzRW1wdHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09dC5FTVBUWX19LHtrZXk6XCJoYXNFbXB0eVBhdGhcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJldHVyblN0YXRlKHRoaXMubGVuZ3RoLTEpPT09dC5FTVBUWV9SRVRVUk5fU1RBVEV9fSx7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlZEhhc2hDb2RlfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5jYWNoZWRIYXNoQ29kZSl9fV0pJiZyZShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gaWUodCl7cmV0dXJuIGllPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGllKHQpfWZ1bmN0aW9uIHVlKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1pZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1pZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1pZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gY2UodCxlKXtyZXR1cm4gY2U9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxjZSh0LGUpfWZ1bmN0aW9uIGFlKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1pZShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGxlKHQpfWZ1bmN0aW9uIGxlKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIHNlKHQpe3JldHVybiBzZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sc2UodCl9b2UuRU1QVFk9bnVsbCxvZS5FTVBUWV9SRVRVUk5fU1RBVEU9MjE0NzQ4MzY0NyxvZS5nbG9iYWxOb2RlQ291bnQ9MSxvZS5pZD1vZS5nbG9iYWxOb2RlQ291bnQsb2UudHJhY2VfYXRuX3NpbT0hMTt2YXIgZmU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmNlKHQsZSl9KGMsdCk7dmFyIGUsbixyLG8sdT0ocj1jLG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9c2Uocik7aWYobyl7dmFyIG49c2UodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGFlKHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQsZSl7dmFyIG47IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKTt2YXIgcj1uZXcgZjtyLnVwZGF0ZSh0LGUpO3ZhciBvPXIuZmluaXNoKCk7cmV0dXJuKG49dS5jYWxsKHRoaXMsbykpLnBhcmVudHM9dCxuLnJldHVyblN0YXRlcz1lLGFlKG4sbGUobikpfXJldHVybiBlPWMsbj1be2tleTpcImlzRW1wdHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJldHVyblN0YXRlc1swXT09PW9lLkVNUFRZX1JFVFVSTl9TVEFURX19LHtrZXk6XCJnZXRQYXJlbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJlbnRzW3RdfX0se2tleTpcImdldFJldHVyblN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmV0dXJuU3RhdGVzW3RdfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIGMmJnRoaXMuaGFzaENvZGUoKT09PXQuaGFzaENvZGUoKSYmaSh0aGlzLnJldHVyblN0YXRlcyx0LnJldHVyblN0YXRlcykmJmkodGhpcy5wYXJlbnRzLHQucGFyZW50cyl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVyblwiW11cIjtmb3IodmFyIHQ9XCJbXCIsZT0wO2U8dGhpcy5yZXR1cm5TdGF0ZXMubGVuZ3RoO2UrKyllPjAmJih0Kz1cIiwgXCIpLHRoaXMucmV0dXJuU3RhdGVzW2VdIT09b2UuRU1QVFlfUkVUVVJOX1NUQVRFPyh0Kz10aGlzLnJldHVyblN0YXRlc1tlXSxudWxsIT09dGhpcy5wYXJlbnRzW2VdP3Q9dCtcIiBcIit0aGlzLnBhcmVudHNbZV06dCs9XCJudWxsXCIpOnQrPVwiJFwiO3JldHVybiB0K1wiXVwifX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJldHVyblN0YXRlcy5sZW5ndGh9fV0sbiYmdWUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShvZSk7ZnVuY3Rpb24gcGUodCl7cmV0dXJuIHBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHBlKHQpfWZ1bmN0aW9uIHllKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1wZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1wZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1wZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gaGUodCxlKXtyZXR1cm4gaGU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxoZSh0LGUpfWZ1bmN0aW9uIGJlKHQpe3JldHVybiBiZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sYmUodCl9dmFyIHZlPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZoZSh0LGUpfShjLHQpO3ZhciBlLG4scixvLGksdT0obz1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9YmUobyk7aWYoaSl7dmFyIG49YmUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1wZShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCxlKXt2YXIgbjshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpO3ZhciByLG89bmV3IGY7cmV0dXJuIG51bGwhPT10P28udXBkYXRlKHQsZSk6by51cGRhdGUoMSkscj1vLmZpbmlzaCgpLChuPXUuY2FsbCh0aGlzLHIpKS5wYXJlbnRDdHg9dCxuLnJldHVyblN0YXRlPWUsbn1yZXR1cm4gZT1jLHI9W3trZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBlPT09b2UuRU1QVFlfUkVUVVJOX1NUQVRFJiZudWxsPT09dD9vZS5FTVBUWTpuZXcgYyh0LGUpfX1dLChuPVt7a2V5OlwiZ2V0UGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFyZW50Q3R4fX0se2tleTpcImdldFJldHVyblN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmV0dXJuU3RhdGV9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgYyYmdGhpcy5oYXNoQ29kZSgpPT09dC5oYXNoQ29kZSgpJiZ0aGlzLnJldHVyblN0YXRlPT09dC5yZXR1cm5TdGF0ZSYmKG51bGw9PXRoaXMucGFyZW50Q3R4P251bGw9PXQucGFyZW50Q3R4OnRoaXMucGFyZW50Q3R4LmVxdWFscyh0LnBhcmVudEN0eCkpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1udWxsPT09dGhpcy5wYXJlbnRDdHg/XCJcIjp0aGlzLnBhcmVudEN0eC50b1N0cmluZygpO3JldHVybiAwPT09dC5sZW5ndGg/dGhpcy5yZXR1cm5TdGF0ZT09PW9lLkVNUFRZX1JFVFVSTl9TVEFURT9cIiRcIjpcIlwiK3RoaXMucmV0dXJuU3RhdGU6dGhpcy5yZXR1cm5TdGF0ZStcIiBcIit0fX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiAxfX1dKSYmeWUoZS5wcm90b3R5cGUsbiksciYmeWUoZSxyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KG9lKTtmdW5jdGlvbiBkZSh0KXtyZXR1cm4gZGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZGUodCl9ZnVuY3Rpb24gbWUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWRlKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWRlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWRlKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBnZSh0LGUpe3JldHVybiBnZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGdlKHQsZSl9ZnVuY3Rpb24gU2UodCl7cmV0dXJuIFNlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxTZSh0KX12YXIgT2U9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmdlKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9U2Uocik7aWYobyl7dmFyIG49U2UodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1kZShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzLG51bGwsb2UuRU1QVFlfUkVUVVJOX1NUQVRFKX1yZXR1cm4gZT11LChuPVt7a2V5OlwiaXNFbXB0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2V5OlwiZ2V0UGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9fSx7a2V5OlwiZ2V0UmV0dXJuU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXR1cm5TdGF0ZX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiJFwifX1dKSYmbWUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh2ZSk7ZnVuY3Rpb24gd2UodCl7cmV0dXJuIHdlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHdlKHQpfWZ1bmN0aW9uIF9lKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT13ZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT13ZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT13ZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99b2UuRU1QVFk9bmV3IE9lO3ZhciBQZT1cImgtXCIsVGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmRhdGE9e30sdGhpcy5oYXNoRnVuY3Rpb249ZXx8cCx0aGlzLmVxdWFsc0Z1bmN0aW9uPW58fHl9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVBlK3RoaXMuaGFzaEZ1bmN0aW9uKHQpO2lmKG4gaW4gdGhpcy5kYXRhKXtmb3IodmFyIHI9dGhpcy5kYXRhW25dLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTtpZih0aGlzLmVxdWFsc0Z1bmN0aW9uKHQsaS5rZXkpKXt2YXIgdT1pLnZhbHVlO3JldHVybiBpLnZhbHVlPWUsdX19cmV0dXJuIHIucHVzaCh7a2V5OnQsdmFsdWU6ZX0pLGV9cmV0dXJuIHRoaXMuZGF0YVtuXT1be2tleTp0LHZhbHVlOmV9XSxlfX0se2tleTpcImNvbnRhaW5zS2V5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9UGUrdGhpcy5oYXNoRnVuY3Rpb24odCk7aWYoZSBpbiB0aGlzLmRhdGEpZm9yKHZhciBuPXRoaXMuZGF0YVtlXSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07aWYodGhpcy5lcXVhbHNGdW5jdGlvbih0LG8ua2V5KSlyZXR1cm4hMH1yZXR1cm4hMX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1QZSt0aGlzLmhhc2hGdW5jdGlvbih0KTtpZihlIGluIHRoaXMuZGF0YSlmb3IodmFyIG49dGhpcy5kYXRhW2VdLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXTtpZih0aGlzLmVxdWFsc0Z1bmN0aW9uKHQsby5rZXkpKXJldHVybiBvLnZhbHVlfXJldHVybiBudWxsfX0se2tleTpcImVudHJpZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFBlKX0pKS5mbGF0TWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhW2VdfSksdGhpcyl9fSx7a2V5OlwiZ2V0S2V5c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQua2V5fSkpfX0se2tleTpcImdldFZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuZW50cmllcygpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuXCJ7XCIrdC5rZXkrXCI6XCIrdC52YWx1ZStcIn1cIn0pKS5qb2luKFwiLCBcIikrXCJdXCJ9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5kYXRhKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0c1dpdGgoUGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVtlXS5sZW5ndGh9KSx0aGlzKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApfX1dLG4mJl9lKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBFZSh0LGUpe2lmKG51bGw9PWUmJihlPWVlLkVNUFRZKSxudWxsPT09ZS5wYXJlbnRDdHh8fGU9PT1lZS5FTVBUWSlyZXR1cm4gb2UuRU1QVFk7dmFyIG49RWUodCxlLnBhcmVudEN0eCkscj10LnN0YXRlc1tlLmludm9raW5nU3RhdGVdLnRyYW5zaXRpb25zWzBdO3JldHVybiB2ZS5jcmVhdGUobixyLmZvbGxvd1N0YXRlLnN0YXRlTnVtYmVyKX1mdW5jdGlvbiBrZSh0LGUsbil7aWYodC5pc0VtcHR5KCkpcmV0dXJuIHQ7dmFyIHI9bi5nZXQodCl8fG51bGw7aWYobnVsbCE9PXIpcmV0dXJuIHI7aWYobnVsbCE9PShyPWUuZ2V0KHQpKSlyZXR1cm4gbi5zZXQodCxyKSxyO2Zvcih2YXIgbz0hMSxpPVtdLHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIGM9a2UodC5nZXRQYXJlbnQodSksZSxuKTtpZihvfHxjIT09dC5nZXRQYXJlbnQodSkpe2lmKCFvKXtpPVtdO2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKWlbYV09dC5nZXRQYXJlbnQoYSk7bz0hMH1pW3VdPWN9fWlmKCFvKXJldHVybiBlLmFkZCh0KSxuLnNldCh0LHQpLHQ7dmFyIGw7cmV0dXJuIGw9MD09PWkubGVuZ3RoP29lLkVNUFRZOjE9PT1pLmxlbmd0aD92ZS5jcmVhdGUoaVswXSx0LmdldFJldHVyblN0YXRlKDApKTpuZXcgZmUoaSx0LnJldHVyblN0YXRlcyksZS5hZGQobCksbi5zZXQobCxsKSxuLnNldCh0LGwpLGx9ZnVuY3Rpb24gamUodCxlLG4scil7aWYodD09PWUpcmV0dXJuIHQ7aWYodCBpbnN0YW5jZW9mIHZlJiZlIGluc3RhbmNlb2YgdmUpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe2lmKG51bGwhPT1yKXt2YXIgbz1yLmdldCh0LGUpO2lmKG51bGwhPT1vKXJldHVybiBvO2lmKG51bGwhPT0obz1yLmdldChlLHQpKSlyZXR1cm4gb312YXIgaT1mdW5jdGlvbih0LGUsbil7aWYobil7aWYodD09PW9lLkVNUFRZKXJldHVybiBvZS5FTVBUWTtpZihlPT09b2UuRU1QVFkpcmV0dXJuIG9lLkVNUFRZfWVsc2V7aWYodD09PW9lLkVNUFRZJiZlPT09b2UuRU1QVFkpcmV0dXJuIG9lLkVNUFRZO2lmKHQ9PT1vZS5FTVBUWSl7dmFyIHI9W2UucmV0dXJuU3RhdGUsb2UuRU1QVFlfUkVUVVJOX1NUQVRFXSxvPVtlLnBhcmVudEN0eCxudWxsXTtyZXR1cm4gbmV3IGZlKG8scil9aWYoZT09PW9lLkVNUFRZKXt2YXIgaT1bdC5yZXR1cm5TdGF0ZSxvZS5FTVBUWV9SRVRVUk5fU1RBVEVdLHU9W3QucGFyZW50Q3R4LG51bGxdO3JldHVybiBuZXcgZmUodSxpKX19cmV0dXJuIG51bGx9KHQsZSxuKTtpZihudWxsIT09aSlyZXR1cm4gbnVsbCE9PXImJnIuc2V0KHQsZSxpKSxpO2lmKHQucmV0dXJuU3RhdGU9PT1lLnJldHVyblN0YXRlKXt2YXIgdT1qZSh0LnBhcmVudEN0eCxlLnBhcmVudEN0eCxuLHIpO2lmKHU9PT10LnBhcmVudEN0eClyZXR1cm4gdDtpZih1PT09ZS5wYXJlbnRDdHgpcmV0dXJuIGU7dmFyIGM9dmUuY3JlYXRlKHUsdC5yZXR1cm5TdGF0ZSk7cmV0dXJuIG51bGwhPT1yJiZyLnNldCh0LGUsYyksY312YXIgYT1udWxsO2lmKCh0PT09ZXx8bnVsbCE9PXQucGFyZW50Q3R4JiZ0LnBhcmVudEN0eD09PWUucGFyZW50Q3R4KSYmKGE9dC5wYXJlbnRDdHgpLG51bGwhPT1hKXt2YXIgbD1bdC5yZXR1cm5TdGF0ZSxlLnJldHVyblN0YXRlXTt0LnJldHVyblN0YXRlPmUucmV0dXJuU3RhdGUmJihsWzBdPWUucmV0dXJuU3RhdGUsbFsxXT10LnJldHVyblN0YXRlKTt2YXIgcz1uZXcgZmUoW2EsYV0sbCk7cmV0dXJuIG51bGwhPT1yJiZyLnNldCh0LGUscyksc312YXIgZj1bdC5yZXR1cm5TdGF0ZSxlLnJldHVyblN0YXRlXSxwPVt0LnBhcmVudEN0eCxlLnBhcmVudEN0eF07dC5yZXR1cm5TdGF0ZT5lLnJldHVyblN0YXRlJiYoZlswXT1lLnJldHVyblN0YXRlLGZbMV09dC5yZXR1cm5TdGF0ZSxwPVtlLnBhcmVudEN0eCx0LnBhcmVudEN0eF0pO3ZhciB5PW5ldyBmZShwLGYpO3JldHVybiBudWxsIT09ciYmci5zZXQodCxlLHkpLHl9KHQsZSxuLHIpO2lmKG4pe2lmKHQgaW5zdGFuY2VvZiBPZSlyZXR1cm4gdDtpZihlIGluc3RhbmNlb2YgT2UpcmV0dXJuIGV9cmV0dXJuIHQgaW5zdGFuY2VvZiB2ZSYmKHQ9bmV3IGZlKFt0LmdldFBhcmVudCgpXSxbdC5yZXR1cm5TdGF0ZV0pKSxlIGluc3RhbmNlb2YgdmUmJihlPW5ldyBmZShbZS5nZXRQYXJlbnQoKV0sW2UucmV0dXJuU3RhdGVdKSksZnVuY3Rpb24odCxlLG4scil7aWYobnVsbCE9PXIpe3ZhciBvPXIuZ2V0KHQsZSk7aWYobnVsbCE9PW8pcmV0dXJuIG9lLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwibWVyZ2VBcnJheXMgYT1cIit0K1wiLGI9XCIrZStcIiAtPiBwcmV2aW91c1wiKSxvO2lmKG51bGwhPT0obz1yLmdldChlLHQpKSlyZXR1cm4gb2UudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJtZXJnZUFycmF5cyBhPVwiK3QrXCIsYj1cIitlK1wiIC0+IHByZXZpb3VzXCIpLG99Zm9yKHZhciBpPTAsdT0wLGM9MCxhPW5ldyBBcnJheSh0LnJldHVyblN0YXRlcy5sZW5ndGgrZS5yZXR1cm5TdGF0ZXMubGVuZ3RoKS5maWxsKDApLGw9bmV3IEFycmF5KHQucmV0dXJuU3RhdGVzLmxlbmd0aCtlLnJldHVyblN0YXRlcy5sZW5ndGgpLmZpbGwobnVsbCk7aTx0LnJldHVyblN0YXRlcy5sZW5ndGgmJnU8ZS5yZXR1cm5TdGF0ZXMubGVuZ3RoOyl7dmFyIHM9dC5wYXJlbnRzW2ldLGY9ZS5wYXJlbnRzW3VdO2lmKHQucmV0dXJuU3RhdGVzW2ldPT09ZS5yZXR1cm5TdGF0ZXNbdV0pe3ZhciBwPXQucmV0dXJuU3RhdGVzW2ldO3A9PT1vZS5FTVBUWV9SRVRVUk5fU1RBVEUmJm51bGw9PT1zJiZudWxsPT09Znx8bnVsbCE9PXMmJm51bGwhPT1mJiZzPT09Zj8obFtjXT1zLGFbY109cCk6KGxbY109amUocyxmLG4sciksYVtjXT1wKSxpKz0xLHUrPTF9ZWxzZSB0LnJldHVyblN0YXRlc1tpXTxlLnJldHVyblN0YXRlc1t1XT8obFtjXT1zLGFbY109dC5yZXR1cm5TdGF0ZXNbaV0saSs9MSk6KGxbY109ZixhW2NdPWUucmV0dXJuU3RhdGVzW3VdLHUrPTEpO2MrPTF9aWYoaTx0LnJldHVyblN0YXRlcy5sZW5ndGgpZm9yKHZhciB5PWk7eTx0LnJldHVyblN0YXRlcy5sZW5ndGg7eSsrKWxbY109dC5wYXJlbnRzW3ldLGFbY109dC5yZXR1cm5TdGF0ZXNbeV0sYys9MTtlbHNlIGZvcih2YXIgaD11O2g8ZS5yZXR1cm5TdGF0ZXMubGVuZ3RoO2grKylsW2NdPWUucGFyZW50c1toXSxhW2NdPWUucmV0dXJuU3RhdGVzW2hdLGMrPTE7aWYoYzxsLmxlbmd0aCl7aWYoMT09PWMpe3ZhciBiPXZlLmNyZWF0ZShsWzBdLGFbMF0pO3JldHVybiBudWxsIT09ciYmci5zZXQodCxlLGIpLGJ9bD1sLnNsaWNlKDAsYyksYT1hLnNsaWNlKDAsYyl9dmFyIHY9bmV3IGZlKGwsYSk7cmV0dXJuIHYuZXF1YWxzKHQpPyhudWxsIT09ciYmci5zZXQodCxlLHQpLG9lLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwibWVyZ2VBcnJheXMgYT1cIit0K1wiLGI9XCIrZStcIiAtPiBhXCIpLHQpOnYuZXF1YWxzKGUpPyhudWxsIT09ciYmci5zZXQodCxlLGUpLG9lLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwibWVyZ2VBcnJheXMgYT1cIit0K1wiLGI9XCIrZStcIiAtPiBiXCIpLGUpOihmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IFRlLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtlLmNvbnRhaW5zS2V5KHIpfHxlLnNldChyLHIpfWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXRbb109ZS5nZXQodFtvXSl9KGwpLG51bGwhPT1yJiZyLnNldCh0LGUsdiksb2UudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJtZXJnZUFycmF5cyBhPVwiK3QrXCIsYj1cIitlK1wiIC0+IFwiK3YpLHYpfSh0LGUsbixyKX1mdW5jdGlvbiB4ZSh0KXtyZXR1cm4geGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0seGUodCl9ZnVuY3Rpb24gUmUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXhlKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXhlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXhlKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgQ2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmRhdGE9W119dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5kYXRhW3RdPSEwfX0se2tleTpcIm9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztPYmplY3Qua2V5cyh0LmRhdGEpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkKHQpfSksdGhpcyl9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuZGF0YVt0XX19LHtrZXk6XCJoYXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hMD09PXRoaXMuZGF0YVt0XX19LHtrZXk6XCJ2YWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpfX0se2tleTpcIm1pblZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLnZhbHVlcygpKX19LHtrZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuaGFzaFN0dWZmKHRoaXMudmFsdWVzKCkpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdCYmaSh0aGlzLmRhdGEsZS5kYXRhKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ7XCIrdGhpcy52YWx1ZXMoKS5qb2luKFwiLCBcIikrXCJ9XCJ9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCkubGVuZ3RofX1dKSYmUmUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIEFlKHQpe3JldHVybiBBZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxBZSh0KX1mdW5jdGlvbiBOZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09QWUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09QWUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09QWUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBJZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmF0bj1lfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiZ2V0RGVjaXNpb25Mb29rYWhlYWRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtmb3IodmFyIG49ZS50cmFuc2l0aW9ucy5sZW5ndGgscj1bXSxvPTA7bzxuO28rKyl7cltvXT1uZXcgVjt2YXIgaT1uZXcgZzt0aGlzLl9MT09LKGUudHJhbnNpdGlvbihvKS50YXJnZXQsbnVsbCxvZS5FTVBUWSxyW29dLGksbmV3IENlLCExLCExKSwoMD09PXJbb10ubGVuZ3RofHxyW29dLmNvbnRhaW5zKHQuSElUX1BSRUQpKSYmKHJbb109bnVsbCl9cmV0dXJuIHJ9fSx7a2V5OlwiTE9PS1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgVixvPW51bGwhPT0obj1ufHxudWxsKT9FZSh0LmF0bixuKTpudWxsO3JldHVybiB0aGlzLl9MT09LKHQsZSxvLHIsbmV3IGcsbmV3IENlLCEwLCEwKSxyfX0se2tleTpcIl9MT09LXCIsdmFsdWU6ZnVuY3Rpb24oZSxuLHIsaSx1LGMsYSxsKXt2YXIgcz1uZXcgTCh7c3RhdGU6ZSxhbHQ6MCxjb250ZXh0OnJ9LG51bGwpO2lmKCF1LmhhcyhzKSl7aWYodS5hZGQocyksZT09PW4pe2lmKG51bGw9PT1yKXJldHVybiB2b2lkIGkuYWRkT25lKG8uRVBTSUxPTik7aWYoci5pc0VtcHR5KCkmJmwpcmV0dXJuIHZvaWQgaS5hZGRPbmUoby5FT0YpfWlmKGUgaW5zdGFuY2VvZiAkKXtpZihudWxsPT09cilyZXR1cm4gdm9pZCBpLmFkZE9uZShvLkVQU0lMT04pO2lmKHIuaXNFbXB0eSgpJiZsKXJldHVybiB2b2lkIGkuYWRkT25lKG8uRU9GKTtpZihyIT09b2UuRU1QVFkpe3ZhciBmPWMuaGFzKGUucnVsZUluZGV4KTt0cnl7Yy5yZW1vdmUoZS5ydWxlSW5kZXgpO2Zvcih2YXIgcD0wO3A8ci5sZW5ndGg7cCsrKXt2YXIgeT10aGlzLmF0bi5zdGF0ZXNbci5nZXRSZXR1cm5TdGF0ZShwKV07dGhpcy5fTE9PSyh5LG4sci5nZXRQYXJlbnQocCksaSx1LGMsYSxsKX19ZmluYWxseXtmJiZjLmFkZChlLnJ1bGVJbmRleCl9cmV0dXJufX1mb3IodmFyIGg9MDtoPGUudHJhbnNpdGlvbnMubGVuZ3RoO2grKyl7dmFyIGI9ZS50cmFuc2l0aW9uc1toXTtpZihiLmNvbnN0cnVjdG9yPT09aXQpe2lmKGMuaGFzKGIudGFyZ2V0LnJ1bGVJbmRleCkpY29udGludWU7dmFyIHY9dmUuY3JlYXRlKHIsYi5mb2xsb3dTdGF0ZS5zdGF0ZU51bWJlcik7dHJ5e2MuYWRkKGIudGFyZ2V0LnJ1bGVJbmRleCksdGhpcy5fTE9PSyhiLnRhcmdldCxuLHYsaSx1LGMsYSxsKX1maW5hbGx5e2MucmVtb3ZlKGIudGFyZ2V0LnJ1bGVJbmRleCl9fWVsc2UgaWYoYiBpbnN0YW5jZW9mIFR0KWE/dGhpcy5fTE9PSyhiLnRhcmdldCxuLHIsaSx1LGMsYSxsKTppLmFkZE9uZSh0LkhJVF9QUkVEKTtlbHNlIGlmKGIuaXNFcHNpbG9uKXRoaXMuX0xPT0soYi50YXJnZXQsbixyLGksdSxjLGEsbCk7ZWxzZSBpZihiLmNvbnN0cnVjdG9yPT09T3QpaS5hZGRSYW5nZShvLk1JTl9VU0VSX1RPS0VOX1RZUEUsdGhpcy5hdG4ubWF4VG9rZW5UeXBlKTtlbHNle3ZhciBkPWIubGFiZWw7bnVsbCE9PWQmJihiIGluc3RhbmNlb2YgdnQmJihkPWQuY29tcGxlbWVudChvLk1JTl9VU0VSX1RPS0VOX1RZUEUsdGhpcy5hdG4ubWF4VG9rZW5UeXBlKSksaS5hZGRTZXQoZCkpfX19fX1dLG4mJk5lKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBMZSh0KXtyZXR1cm4gTGU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTGUodCl9ZnVuY3Rpb24gRGUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUxlKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUxlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUxlKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31JZS5ISVRfUFJFRD1vLklOVkFMSURfVFlQRTt2YXIgRmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmdyYW1tYXJUeXBlPWUsdGhpcy5tYXhUb2tlblR5cGU9bix0aGlzLnN0YXRlcz1bXSx0aGlzLmRlY2lzaW9uVG9TdGF0ZT1bXSx0aGlzLnJ1bGVUb1N0YXJ0U3RhdGU9W10sdGhpcy5ydWxlVG9TdG9wU3RhdGU9bnVsbCx0aGlzLm1vZGVOYW1lVG9TdGFydFN0YXRlPXt9LHRoaXMucnVsZVRvVG9rZW5UeXBlPW51bGwsdGhpcy5sZXhlckFjdGlvbnM9bnVsbCx0aGlzLm1vZGVUb1N0YXJ0U3RhdGU9W119dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwibmV4dFRva2Vuc0luQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBJZSh0aGlzKS5MT09LKHQsbnVsbCxlKX19LHtrZXk6XCJuZXh0VG9rZW5zTm9Db250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10Lm5leHRUb2tlbldpdGhpblJ1bGV8fCh0Lm5leHRUb2tlbldpdGhpblJ1bGU9dGhpcy5uZXh0VG9rZW5zSW5Db250ZXh0KHQsbnVsbCksdC5uZXh0VG9rZW5XaXRoaW5SdWxlLnJlYWRPbmx5PSEwKSx0Lm5leHRUb2tlbldpdGhpblJ1bGV9fSx7a2V5OlwibmV4dFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5uZXh0VG9rZW5zTm9Db250ZXh0KHQpOnRoaXMubmV4dFRva2Vuc0luQ29udGV4dCh0LGUpfX0se2tleTpcImFkZFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7bnVsbCE9PXQmJih0LmF0bj10aGlzLHQuc3RhdGVOdW1iZXI9dGhpcy5zdGF0ZXMubGVuZ3RoKSx0aGlzLnN0YXRlcy5wdXNoKHQpfX0se2tleTpcInJlbW92ZVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZXNbdC5zdGF0ZU51bWJlcl09bnVsbH19LHtrZXk6XCJkZWZpbmVEZWNpc2lvblN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGVjaXNpb25Ub1N0YXRlLnB1c2godCksdC5kZWNpc2lvbj10aGlzLmRlY2lzaW9uVG9TdGF0ZS5sZW5ndGgtMSx0LmRlY2lzaW9ufX0se2tleTpcImdldERlY2lzaW9uU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMuZGVjaXNpb25Ub1N0YXRlLmxlbmd0aD9udWxsOnRoaXMuZGVjaXNpb25Ub1N0YXRlW3RdfX0se2tleTpcImdldEV4cGVjdGVkVG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0PDB8fHQ+PXRoaXMuc3RhdGVzLmxlbmd0aCl0aHJvd1wiSW52YWxpZCBzdGF0ZSBudW1iZXIuXCI7dmFyIG49dGhpcy5zdGF0ZXNbdF0scj10aGlzLm5leHRUb2tlbnMobik7aWYoIXIuY29udGFpbnMoby5FUFNJTE9OKSlyZXR1cm4gcjt2YXIgaT1uZXcgVjtmb3IoaS5hZGRTZXQociksaS5yZW1vdmVPbmUoby5FUFNJTE9OKTtudWxsIT09ZSYmZS5pbnZva2luZ1N0YXRlPj0wJiZyLmNvbnRhaW5zKG8uRVBTSUxPTik7KXt2YXIgdT10aGlzLnN0YXRlc1tlLmludm9raW5nU3RhdGVdLnRyYW5zaXRpb25zWzBdO3I9dGhpcy5uZXh0VG9rZW5zKHUuZm9sbG93U3RhdGUpLGkuYWRkU2V0KHIpLGkucmVtb3ZlT25lKG8uRVBTSUxPTiksZT1lLnBhcmVudEN0eH1yZXR1cm4gci5jb250YWlucyhvLkVQU0lMT04pJiZpLmFkZE9uZShvLkVPRiksaX19XSkmJkRlKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtGZS5JTlZBTElEX0FMVF9OVU1CRVI9MDtmdW5jdGlvbiBCZSh0KXtyZXR1cm4gQmU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQmUodCl9ZnVuY3Rpb24gTWUodCxlKXtyZXR1cm4gTWU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxNZSh0LGUpfWZ1bmN0aW9uIFVlKHQpe3JldHVybiBVZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVWUodCl9dmFyIFZlPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZNZSh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1VZShuKTtpZihyKXt2YXIgbz1VZSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUJlKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5CQVNJQyx0fXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIKTtmdW5jdGlvbiB6ZSh0KXtyZXR1cm4gemU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0semUodCl9ZnVuY3Rpb24gcWUodCxlKXtyZXR1cm4gcWU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxxZSh0LGUpfWZ1bmN0aW9uIEhlKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT16ZShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIEtlKHQpfWZ1bmN0aW9uIEtlKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIFllKHQpe3JldHVybiBZZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sWWUodCl9dmFyIEdlPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZxZSh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1ZZShuKTtpZihyKXt2YXIgbz1ZZSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gSGUodGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuZGVjaXNpb249LTEsdC5ub25HcmVlZHk9ITEsSGUodCxLZSh0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEgpO2Z1bmN0aW9uIFdlKHQpe3JldHVybiBXZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxXZSh0KX1mdW5jdGlvbiBYZSh0LGUpe3JldHVybiBYZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFhlKHQsZSl9ZnVuY3Rpb24gJGUodCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVdlKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gSmUodCl9ZnVuY3Rpb24gSmUodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gUWUodCl7cmV0dXJuIFFlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxRZSh0KX12YXIgWmU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlhlKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVFlKG4pO2lmKHIpe3ZhciBvPVFlKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiAkZSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5lbmRTdGF0ZT1udWxsLCRlKHQsSmUodCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShHZSk7ZnVuY3Rpb24gdG4odCl7cmV0dXJuIHRuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHRuKHQpfWZ1bmN0aW9uIGVuKHQsZSl7cmV0dXJuIGVuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZW4odCxlKX1mdW5jdGlvbiBubih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09dG4oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBybih0KX1mdW5jdGlvbiBybih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBvbih0KXtyZXR1cm4gb249T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LG9uKHQpfXZhciB1bj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZW4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9b24obik7aWYocil7dmFyIG89b24odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG5uKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILkJMT0NLX0VORCx0LnN0YXJ0U3RhdGU9bnVsbCxubih0LHJuKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSCk7ZnVuY3Rpb24gY24odCl7cmV0dXJuIGNuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGNuKHQpfWZ1bmN0aW9uIGFuKHQsZSl7cmV0dXJuIGFuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sYW4odCxlKX1mdW5jdGlvbiBsbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Y24oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBzbih0KX1mdW5jdGlvbiBzbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBmbih0KXtyZXR1cm4gZm49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGZuKHQpfXZhciBwbj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmYW4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Zm4obik7aWYocil7dmFyIG89Zm4odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGxuKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILkxPT1BfRU5ELHQubG9vcEJhY2tTdGF0ZT1udWxsLGxuKHQsc24odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIKTtmdW5jdGlvbiB5bih0KXtyZXR1cm4geW49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0seW4odCl9ZnVuY3Rpb24gaG4odCxlKXtyZXR1cm4gaG49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxobih0LGUpfWZ1bmN0aW9uIGJuKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT15bihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHZuKHQpfWZ1bmN0aW9uIHZuKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIGRuKHQpe3JldHVybiBkbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sZG4odCl9dmFyIG1uPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZobih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1kbihuKTtpZihyKXt2YXIgbz1kbih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYm4odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguUlVMRV9TVEFSVCx0LnN0b3BTdGF0ZT1udWxsLHQuaXNQcmVjZWRlbmNlUnVsZT0hMSxibih0LHZuKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSCk7ZnVuY3Rpb24gZ24odCl7cmV0dXJuIGduPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGduKHQpfWZ1bmN0aW9uIFNuKHQsZSl7cmV0dXJuIFNuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sU24odCxlKX1mdW5jdGlvbiBPbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Z24oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiB3bih0KX1mdW5jdGlvbiB3bih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBfbih0KXtyZXR1cm4gX249T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LF9uKHQpfXZhciBQbj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmU24odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9X24obik7aWYocil7dmFyIG89X24odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIE9uKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlRPS0VOX1NUQVJULE9uKHQsd24odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShHZSk7ZnVuY3Rpb24gVG4odCl7cmV0dXJuIFRuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFRuKHQpfWZ1bmN0aW9uIEVuKHQsZSl7cmV0dXJuIEVuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sRW4odCxlKX1mdW5jdGlvbiBrbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09VG4oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBqbih0KX1mdW5jdGlvbiBqbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiB4bih0KXtyZXR1cm4geG49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHhuKHQpfXZhciBSbj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmRW4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9eG4obik7aWYocil7dmFyIG89eG4odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGtuKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlBMVVNfTE9PUF9CQUNLLGtuKHQsam4odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShHZSk7ZnVuY3Rpb24gQ24odCl7cmV0dXJuIENuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LENuKHQpfWZ1bmN0aW9uIEFuKHQsZSl7cmV0dXJuIEFuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQW4odCxlKX1mdW5jdGlvbiBObih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Q24oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBJbih0KX1mdW5jdGlvbiBJbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBMbih0KXtyZXR1cm4gTG49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LExuKHQpfXZhciBEbj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQW4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9TG4obik7aWYocil7dmFyIG89TG4odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIE5uKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlNUQVJfTE9PUF9CQUNLLE5uKHQsSW4odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIKTtmdW5jdGlvbiBGbih0KXtyZXR1cm4gRm49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRm4odCl9ZnVuY3Rpb24gQm4odCxlKXtyZXR1cm4gQm49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxCbih0LGUpfWZ1bmN0aW9uIE1uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1GbihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIFVuKHQpfWZ1bmN0aW9uIFVuKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIFZuKHQpe3JldHVybiBWbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVm4odCl9dmFyIHpuPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZCbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1WbihuKTtpZihyKXt2YXIgbz1Wbih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gTW4odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguU1RBUl9MT09QX0VOVFJZLHQubG9vcEJhY2tTdGF0ZT1udWxsLHQuaXNQcmVjZWRlbmNlRGVjaXNpb249bnVsbCxNbih0LFVuKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oR2UpO2Z1bmN0aW9uIHFuKHQpe3JldHVybiBxbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxxbih0KX1mdW5jdGlvbiBIbih0LGUpe3JldHVybiBIbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEhuKHQsZSl9ZnVuY3Rpb24gS24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXFuKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gWW4odCl9ZnVuY3Rpb24gWW4odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gR24odCl7cmV0dXJuIEduPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxHbih0KX12YXIgV249ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkhuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUduKG4pO2lmKHIpe3ZhciBvPUduKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBLbih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5QTFVTX0JMT0NLX1NUQVJULHQubG9vcEJhY2tTdGF0ZT1udWxsLEtuKHQsWW4odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShaZSk7ZnVuY3Rpb24gWG4odCl7cmV0dXJuIFhuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFhuKHQpfWZ1bmN0aW9uICRuKHQsZSl7cmV0dXJuICRuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sJG4odCxlKX1mdW5jdGlvbiBKbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09WG4oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBRbih0KX1mdW5jdGlvbiBRbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBabih0KXtyZXR1cm4gWm49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFpuKHQpfXZhciB0cj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmJG4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Wm4obik7aWYocil7dmFyIG89Wm4odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIEpuKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlNUQVJfQkxPQ0tfU1RBUlQsSm4odCxRbih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KFplKTtmdW5jdGlvbiBlcih0KXtyZXR1cm4gZXI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZXIodCl9ZnVuY3Rpb24gbnIodCxlKXtyZXR1cm4gbnI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxucih0LGUpfWZ1bmN0aW9uIHJyKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1lcihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIG9yKHQpfWZ1bmN0aW9uIG9yKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIGlyKHQpe3JldHVybiBpcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0saXIodCl9dmFyIHVyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZucih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1pcihuKTtpZihyKXt2YXIgbz1pcih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gcnIodGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguQkxPQ0tfU1RBUlQscnIodCxvcih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KFplKTtmdW5jdGlvbiBjcih0KXtyZXR1cm4gY3I9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sY3IodCl9ZnVuY3Rpb24gYXIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWNyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWNyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWNyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBscih0LGUpe3JldHVybiBscj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGxyKHQsZSl9ZnVuY3Rpb24gc3IodCl7cmV0dXJuIHNyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxzcih0KX12YXIgZnI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmxyKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9c3Iocik7aWYobyl7dmFyIG49c3IodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1jcihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzLHQpKS5sYWJlbF89ZSxuLmxhYmVsPW4ubWFrZUxhYmVsKCksbi5zZXJpYWxpemF0aW9uVHlwZT10dC5BVE9NLG59cmV0dXJuIGU9dSwobj1be2tleTpcIm1ha2VMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFY7cmV0dXJuIHQuYWRkT25lKHRoaXMubGFiZWxfKSx0fX0se2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMubGFiZWxfPT09dH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWxffX1dKSYmYXIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh0dCk7ZnVuY3Rpb24gcHIodCl7cmV0dXJuIHByPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHByKHQpfWZ1bmN0aW9uIHlyKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1wcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1wcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1wcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gaHIodCxlKXtyZXR1cm4gaHI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxocih0LGUpfWZ1bmN0aW9uIGJyKHQpe3JldHVybiBicj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sYnIodCl9dmFyIHZyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZocih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWJyKHIpO2lmKG8pe3ZhciBuPWJyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09cHIoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSxuKXt2YXIgcjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChyPWkuY2FsbCh0aGlzLHQpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5SQU5HRSxyLnN0YXJ0PWUsci5zdG9wPW4sci5sYWJlbD1yLm1ha2VMYWJlbCgpLHJ9cmV0dXJuIGU9dSwobj1be2tleTpcIm1ha2VMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFY7cmV0dXJuIHQuYWRkUmFuZ2UodGhpcy5zdGFydCx0aGlzLnN0b3ApLHR9fSx7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD49dGhpcy5zdGFydCYmdDw9dGhpcy5zdG9wfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIidcIitTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuc3RhcnQpK1wiJy4uJ1wiK1N0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5zdG9wKStcIidcIn19XSkmJnlyKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0odHQpO2Z1bmN0aW9uIGRyKHQpe3JldHVybiBkcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxkcih0KX1mdW5jdGlvbiBtcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09ZHIodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09ZHIocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09ZHIobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGdyKHQsZSl7cmV0dXJuIGdyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZ3IodCxlKX1mdW5jdGlvbiBTcih0KXtyZXR1cm4gU3I9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFNyKHQpfXZhciBPcj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZ3IodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1TcihyKTtpZihvKXt2YXIgbj1Tcih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWRyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUsbixyKXt2YXIgbztyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChvPWkuY2FsbCh0aGlzLHQpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5BQ1RJT04sby5ydWxlSW5kZXg9ZSxvLmFjdGlvbkluZGV4PXZvaWQgMD09PW4/LTE6bixvLmlzQ3R4RGVwZW5kZW50PXZvaWQgMCE9PXImJnIsby5pc0Vwc2lsb249ITAsb31yZXR1cm4gZT11LChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hMX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJhY3Rpb25fXCIrdGhpcy5ydWxlSW5kZXgrXCI6XCIrdGhpcy5hY3Rpb25JbmRleH19XSkmJm1yKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0odHQpO2Z1bmN0aW9uIHdyKHQpe3JldHVybiB3cj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx3cih0KX1mdW5jdGlvbiBfcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09d3IodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09d3IocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09d3Iobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFByKHQsZSl7cmV0dXJuIFByPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sUHIodCxlKX1mdW5jdGlvbiBUcih0KXtyZXR1cm4gVHI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFRyKHQpfXZhciBFcj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmUHIodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1UcihyKTtpZihvKXt2YXIgbj1Ucih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXdyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMsdCkpLnNlcmlhbGl6YXRpb25UeXBlPXR0LkVQU0lMT04sbi5pc0Vwc2lsb249ITAsbi5vdXRlcm1vc3RQcmVjZWRlbmNlUmV0dXJuPWUsbn1yZXR1cm4gZT11LChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hMX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJlcHNpbG9uXCJ9fV0pJiZfcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHR0KTtmdW5jdGlvbiBrcih0KXtyZXR1cm4ga3I9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sa3IodCl9ZnVuY3Rpb24ganIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWtyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWtyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWtyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiB4cih0LGUpe3JldHVybiB4cj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHhyKHQsZSl9ZnVuY3Rpb24gUnIodCl7cmV0dXJuIFJyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxScih0KX12YXIgQ3I9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnhyKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9UnIocik7aWYobyl7dmFyIG49UnIodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1rcihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlLG4pe3ZhciByO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKHI9aS5jYWxsKHRoaXMpKS5ydWxlSW5kZXg9dm9pZCAwPT09dD8tMTp0LHIucHJlZEluZGV4PXZvaWQgMD09PWU/LTE6ZSxyLmlzQ3R4RGVwZW5kZW50PXZvaWQgMCE9PW4mJm4scn1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuaXNDdHhEZXBlbmRlbnQ/ZTpudWxsO3JldHVybiB0LnNlbXByZWQobix0aGlzLnJ1bGVJbmRleCx0aGlzLnByZWRJbmRleCl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLnJ1bGVJbmRleCx0aGlzLnByZWRJbmRleCx0aGlzLmlzQ3R4RGVwZW5kZW50KX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLnJ1bGVJbmRleD09PXQucnVsZUluZGV4JiZ0aGlzLnByZWRJbmRleD09PXQucHJlZEluZGV4JiZ0aGlzLmlzQ3R4RGVwZW5kZW50PT09dC5pc0N0eERlcGVuZGVudH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ7XCIrdGhpcy5ydWxlSW5kZXgrXCI6XCIrdGhpcy5wcmVkSW5kZXgrXCJ9P1wifX1dKSYmanIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShqKTtmdW5jdGlvbiBBcih0KXtyZXR1cm4gQXI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQXIodCl9ZnVuY3Rpb24gTnIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUFyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUFyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUFyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBJcih0LGUpe3JldHVybiBJcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LElyKHQsZSl9ZnVuY3Rpb24gTHIodCl7cmV0dXJuIExyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxMcih0KX1qLk5PTkU9bmV3IENyO3ZhciBEcj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSXIodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1McihyKTtpZihvKXt2YXIgbj1Mcih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUFyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUsbixyKXt2YXIgbztyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChvPWkuY2FsbCh0aGlzLHQpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5QUkVESUNBVEUsby5ydWxlSW5kZXg9ZSxvLnByZWRJbmRleD1uLG8uaXNDdHhEZXBlbmRlbnQ9cixvLmlzRXBzaWxvbj0hMCxvfXJldHVybiBlPXUsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiExfX0se2tleTpcImdldFByZWRpY2F0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDcih0aGlzLnJ1bGVJbmRleCx0aGlzLnByZWRJbmRleCx0aGlzLmlzQ3R4RGVwZW5kZW50KX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJwcmVkX1wiK3RoaXMucnVsZUluZGV4K1wiOlwiK3RoaXMucHJlZEluZGV4fX1dKSYmTnIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShUdCk7ZnVuY3Rpb24gRnIodCl7cmV0dXJuIEZyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEZyKHQpfWZ1bmN0aW9uIEJyKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Gcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1GcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1GcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gTXIodCxlKXtyZXR1cm4gTXI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxNcih0LGUpfWZ1bmN0aW9uIFVyKHQpe3JldHVybiBVcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sVXIodCl9dmFyIFZyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZNcih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVVyKHIpO2lmKG8pe3ZhciBuPVVyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09RnIoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKGU9aS5jYWxsKHRoaXMpKS5wcmVjZWRlbmNlPXZvaWQgMD09PXQ/MDp0LGV9cmV0dXJuIGU9dSwobj1be2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wcmVjcHJlZChlLHRoaXMucHJlY2VkZW5jZSl9fSx7a2V5OlwiZXZhbFByZWNlZGVuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnByZWNwcmVkKGUsdGhpcy5wcmVjZWRlbmNlKT9qLk5PTkU6bnVsbH19LHtrZXk6XCJjb21wYXJlVG9cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmVjZWRlbmNlLXQucHJlY2VkZW5jZX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMucHJlY2VkZW5jZSl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5wcmVjZWRlbmNlPT09dC5wcmVjZWRlbmNlfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIntcIit0aGlzLnByZWNlZGVuY2UrXCI+PXByZWN9P1wifX1dKSYmQnIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShqKTtmdW5jdGlvbiB6cih0KXtyZXR1cm4genI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0senIodCl9ZnVuY3Rpb24gcXIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXpyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXpyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXpyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBIcih0LGUpe3JldHVybiBIcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEhyKHQsZSl9ZnVuY3Rpb24gS3IodCl7cmV0dXJuIEtyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxLcih0KX1qLlByZWNlZGVuY2VQcmVkaWNhdGU9VnI7dmFyIFlyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZIcih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUtyKHIpO2lmKG8pe3ZhciBuPUtyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09enIoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcyx0KSkuc2VyaWFsaXphdGlvblR5cGU9dHQuUFJFQ0VERU5DRSxuLnByZWNlZGVuY2U9ZSxuLmlzRXBzaWxvbj0hMCxufXJldHVybiBlPXUsKG49W3trZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiExfX0se2tleTpcImdldFByZWRpY2F0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBWcih0aGlzLnByZWNlZGVuY2UpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmVjZWRlbmNlK1wiID49IF9wXCJ9fV0pJiZxcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFR0KTtmdW5jdGlvbiBHcih0KXtyZXR1cm4gR3I9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sR3IodCl9ZnVuY3Rpb24gV3IodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUdyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUdyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUdyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBYcih0LGUsbil7cmV0dXJuIGUmJldyKHQucHJvdG90eXBlLGUpLG4mJldyKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fXZhciAkcj1YcigoZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMucmVhZE9ubHk9ITEsdGhpcy52ZXJpZnlBVE49bnVsbD09PWV8fGUudmVyaWZ5QVROLHRoaXMuZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvbnM9bnVsbCE9PWUmJmUuZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvbnN9KSk7JHIuZGVmYXVsdE9wdGlvbnM9bmV3ICRyLCRyLmRlZmF1bHRPcHRpb25zLnJlYWRPbmx5PSEwO2Z1bmN0aW9uIEpyKHQpe3JldHVybiBKcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxKcih0KX1mdW5jdGlvbiBRcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09SnIodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09SnIocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09SnIobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBacj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmFjdGlvblR5cGU9ZSx0aGlzLmlzUG9zaXRpb25EZXBlbmRlbnQ9ITF9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBmO3JldHVybiB0aGlzLnVwZGF0ZUhhc2hDb2RlKHQpLHQuZmluaXNoKCl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmFjdGlvblR5cGUpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dH19XSkmJlFyKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiB0byh0KXtyZXR1cm4gdG89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdG8odCl9ZnVuY3Rpb24gZW8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXRvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXRvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXRvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBubyh0LGUpe3JldHVybiBubz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LG5vKHQsZSl9ZnVuY3Rpb24gcm8odCl7cmV0dXJuIHJvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxybyh0KX12YXIgb289ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJm5vKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9cm8ocik7aWYobyl7dmFyIG49cm8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT10byhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzLDYpfXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5za2lwKCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwic2tpcFwifX1dKSYmZW8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gaW8odCl7cmV0dXJuIGlvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGlvKHQpfWZ1bmN0aW9uIHVvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1pbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1pbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1pbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gY28odCxlKXtyZXR1cm4gY289T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxjbyh0LGUpfWZ1bmN0aW9uIGFvKHQpe3JldHVybiBhbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sYW8odCl9b28uSU5TVEFOQ0U9bmV3IG9vO3ZhciBsbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmY28odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1hbyhyKTtpZihvKXt2YXIgbj1hbyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWlvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChlPWkuY2FsbCh0aGlzLDApKS5jaGFubmVsPXQsZX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuX2NoYW5uZWw9dGhpcy5jaGFubmVsfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5hY3Rpb25UeXBlLHRoaXMuY2hhbm5lbCl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5jaGFubmVsPT09dC5jaGFubmVsfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cImNoYW5uZWwoXCIrdGhpcy5jaGFubmVsK1wiKVwifX1dKSYmdW8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gc28odCl7cmV0dXJuIHNvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHNvKHQpfWZ1bmN0aW9uIGZvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1zbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1zbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1zbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gcG8odCxlKXtyZXR1cm4gcG89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxwbyh0LGUpfWZ1bmN0aW9uIHlvKHQpe3JldHVybiB5bz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0seW8odCl9dmFyIGhvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZwbyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXlvKHIpO2lmKG8pe3ZhciBuPXlvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09c28oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcywxKSkucnVsZUluZGV4PXQsbi5hY3Rpb25JbmRleD1lLG4uaXNQb3NpdGlvbkRlcGVuZGVudD0hMCxufXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5hY3Rpb24obnVsbCx0aGlzLnJ1bGVJbmRleCx0aGlzLmFjdGlvbkluZGV4KX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuYWN0aW9uVHlwZSx0aGlzLnJ1bGVJbmRleCx0aGlzLmFjdGlvbkluZGV4KX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLnJ1bGVJbmRleD09PXQucnVsZUluZGV4JiZ0aGlzLmFjdGlvbkluZGV4PT09dC5hY3Rpb25JbmRleH19XSkmJmZvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIGJvKHQpe3JldHVybiBibz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxibyh0KX1mdW5jdGlvbiB2byh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09Ym8odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09Ym8ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Ym8obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIG1vKHQsZSl7cmV0dXJuIG1vPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbW8odCxlKX1mdW5jdGlvbiBnbyh0KXtyZXR1cm4gZ289T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGdvKHQpfXZhciBTbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmbW8odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1nbyhyKTtpZihvKXt2YXIgbj1nbyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWJvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSgpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMsMyl9cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0Lm1vcmUoKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJtb3JlXCJ9fV0pJiZ2byhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBPbyh0KXtyZXR1cm4gT289XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sT28odCl9ZnVuY3Rpb24gd28odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PU9vKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PU9vKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PU9vKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBfbyh0LGUpe3JldHVybiBfbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LF9vKHQsZSl9ZnVuY3Rpb24gUG8odCl7cmV0dXJuIFBvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxQbyh0KX1Tby5JTlNUQU5DRT1uZXcgU287dmFyIFRvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZfbyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVBvKHIpO2lmKG8pe3ZhciBuPVBvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09T28oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKGU9aS5jYWxsKHRoaXMsNykpLnR5cGU9dCxlfXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC50eXBlPXRoaXMudHlwZX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuYWN0aW9uVHlwZSx0aGlzLnR5cGUpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMudHlwZT09PXQudHlwZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ0eXBlKFwiK3RoaXMudHlwZStcIilcIn19XSkmJndvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIEVvKHQpe3JldHVybiBFbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxFbyh0KX1mdW5jdGlvbiBrbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RW8odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RW8ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RW8obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGpvKHQsZSl7cmV0dXJuIGpvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sam8odCxlKX1mdW5jdGlvbiB4byh0KXtyZXR1cm4geG89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHhvKHQpfXZhciBSbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmam8odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT14byhyKTtpZihvKXt2YXIgbj14byh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUVvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChlPWkuY2FsbCh0aGlzLDUpKS5tb2RlPXQsZX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QucHVzaE1vZGUodGhpcy5tb2RlKX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuYWN0aW9uVHlwZSx0aGlzLm1vZGUpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMubW9kZT09PXQubW9kZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJwdXNoTW9kZShcIit0aGlzLm1vZGUrXCIpXCJ9fV0pJiZrbyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBDbyh0KXtyZXR1cm4gQ289XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQ28odCl9ZnVuY3Rpb24gQW8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUNvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUNvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUNvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBObyh0LGUpe3JldHVybiBObz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LE5vKHQsZSl9ZnVuY3Rpb24gSW8odCl7cmV0dXJuIElvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxJbyh0KX12YXIgTG89ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJk5vKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9SW8ocik7aWYobyl7dmFyIG49SW8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1DbyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzLDQpfXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5wb3BNb2RlKCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwicG9wTW9kZVwifX1dKSYmQW8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gRG8odCl7cmV0dXJuIERvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LERvKHQpfWZ1bmN0aW9uIEZvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Ebyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1EbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1EbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gQm8odCxlKXtyZXR1cm4gQm89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxCbyh0LGUpfWZ1bmN0aW9uIE1vKHQpe3JldHVybiBNbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTW8odCl9TG8uSU5TVEFOQ0U9bmV3IExvO3ZhciBVbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQm8odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1NbyhyKTtpZihvKXt2YXIgbj1Nbyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PURvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChlPWkuY2FsbCh0aGlzLDIpKS5tb2RlPXQsZX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QubW9kZSh0aGlzLm1vZGUpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5hY3Rpb25UeXBlLHRoaXMubW9kZSl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5tb2RlPT09dC5tb2RlfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIm1vZGUoXCIrdGhpcy5tb2RlK1wiKVwifX1dKSYmRm8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gVm8odCl7cmV0dXJuIFZvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFZvKHQpfWZ1bmN0aW9uIHpvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Wbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1WbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1WbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gcW8odCxlKXt2YXIgbj1bXTtyZXR1cm4gblt0LTFdPWUsbi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlfSkpfXZhciBIbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxudWxsPT1lJiYoZT0kci5kZWZhdWx0T3B0aW9ucyksdGhpcy5kZXNlcmlhbGl6YXRpb25PcHRpb25zPWUsdGhpcy5zdGF0ZUZhY3Rvcmllcz1udWxsLHRoaXMuYWN0aW9uRmFjdG9yaWVzPW51bGx9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJkZXNlcmlhbGl6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVzZXQodCk7dGhpcy5jaGVja1ZlcnNpb24oZSksZSYmdGhpcy5za2lwVVVJRCgpO3ZhciBuPXRoaXMucmVhZEFUTigpO3RoaXMucmVhZFN0YXRlcyhuLGUpLHRoaXMucmVhZFJ1bGVzKG4sZSksdGhpcy5yZWFkTW9kZXMobik7dmFyIHI9W107cmV0dXJuIHRoaXMucmVhZFNldHMobixyLHRoaXMucmVhZEludC5iaW5kKHRoaXMpKSxlJiZ0aGlzLnJlYWRTZXRzKG4scix0aGlzLnJlYWRJbnQzMi5iaW5kKHRoaXMpKSx0aGlzLnJlYWRFZGdlcyhuLHIpLHRoaXMucmVhZERlY2lzaW9ucyhuKSx0aGlzLnJlYWRMZXhlckFjdGlvbnMobixlKSx0aGlzLm1hcmtQcmVjZWRlbmNlRGVjaXNpb25zKG4pLHRoaXMudmVyaWZ5QVROKG4pLHRoaXMuZGVzZXJpYWxpemF0aW9uT3B0aW9ucy5nZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9ucyYmMT09PW4uZ3JhbW1hclR5cGUmJih0aGlzLmdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb25zKG4pLHRoaXMudmVyaWZ5QVROKG4pKSxufX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoMz09PSh0LmNoYXJDb2RlQXQ/dC5jaGFyQ29kZUF0KDApOnRbMF0pKXt2YXIgZT10LnNwbGl0KFwiXCIpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFyQ29kZUF0KDApO3JldHVybiBlPjE/ZS0yOmUrNjU1MzR9KSk7cmV0dXJuIGVbMF09dC5jaGFyQ29kZUF0KDApLHRoaXMuZGF0YT1lLHRoaXMucG9zPTAsITB9cmV0dXJuIHRoaXMuZGF0YT10LHRoaXMucG9zPTAsITF9fSx7a2V5Olwic2tpcFVVSURcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3QrKzw4Oyl0aGlzLnJlYWRJbnQoKX19LHtrZXk6XCJjaGVja1ZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlYWRJbnQoKTtpZighdCYmNCE9PWUpdGhyb3dcIkNvdWxkIG5vdCBkZXNlcmlhbGl6ZSBBVE4gd2l0aCB2ZXJzaW9uIFwiK2UrXCIgKGV4cGVjdGVkIDQpLlwifX0se2tleTpcInJlYWRBVE5cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZEludCgpLGU9dGhpcy5yZWFkSW50KCk7cmV0dXJuIG5ldyBGZSh0LGUpfX0se2tleTpcInJlYWRTdGF0ZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyLG8saT1bXSx1PVtdLGM9dGhpcy5yZWFkSW50KCksYT0wO2E8YzthKyspe3ZhciBsPXRoaXMucmVhZEludCgpO2lmKGwhPT1ILklOVkFMSURfVFlQRSl7dmFyIHM9dGhpcy5yZWFkSW50KCk7ZSYmNjU1MzU9PT1zJiYocz0tMSk7dmFyIGY9dGhpcy5zdGF0ZUZhY3RvcnkobCxzKTtpZihsPT09SC5MT09QX0VORCl7dmFyIHA9dGhpcy5yZWFkSW50KCk7aS5wdXNoKFtmLHBdKX1lbHNlIGlmKGYgaW5zdGFuY2VvZiBaZSl7dmFyIHk9dGhpcy5yZWFkSW50KCk7dS5wdXNoKFtmLHldKX10LmFkZFN0YXRlKGYpfWVsc2UgdC5hZGRTdGF0ZShudWxsKX1mb3Iobj0wO248aS5sZW5ndGg7bisrKShyPWlbbl0pWzBdLmxvb3BCYWNrU3RhdGU9dC5zdGF0ZXNbclsxXV07Zm9yKG49MDtuPHUubGVuZ3RoO24rKykocj11W25dKVswXS5lbmRTdGF0ZT10LnN0YXRlc1tyWzFdXTt2YXIgaD10aGlzLnJlYWRJbnQoKTtmb3Iobj0wO248aDtuKyspbz10aGlzLnJlYWRJbnQoKSx0LnN0YXRlc1tvXS5ub25HcmVlZHk9ITA7dmFyIGI9dGhpcy5yZWFkSW50KCk7Zm9yKG49MDtuPGI7bisrKW89dGhpcy5yZWFkSW50KCksdC5zdGF0ZXNbb10uaXNQcmVjZWRlbmNlUnVsZT0hMH19LHtrZXk6XCJyZWFkUnVsZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI9dGhpcy5yZWFkSW50KCk7Zm9yKDA9PT10LmdyYW1tYXJUeXBlJiYodC5ydWxlVG9Ub2tlblR5cGU9cW8ociwwKSksdC5ydWxlVG9TdGFydFN0YXRlPXFvKHIsMCksbj0wO248cjtuKyspe3ZhciBpPXRoaXMucmVhZEludCgpO2lmKHQucnVsZVRvU3RhcnRTdGF0ZVtuXT10LnN0YXRlc1tpXSwwPT09dC5ncmFtbWFyVHlwZSl7dmFyIHU9dGhpcy5yZWFkSW50KCk7ZSYmNjU1MzU9PT11JiYodT1vLkVPRiksdC5ydWxlVG9Ub2tlblR5cGVbbl09dX19Zm9yKHQucnVsZVRvU3RvcFN0YXRlPXFvKHIsMCksbj0wO248dC5zdGF0ZXMubGVuZ3RoO24rKyl7dmFyIGM9dC5zdGF0ZXNbbl07YyBpbnN0YW5jZW9mICQmJih0LnJ1bGVUb1N0b3BTdGF0ZVtjLnJ1bGVJbmRleF09Yyx0LnJ1bGVUb1N0YXJ0U3RhdGVbYy5ydWxlSW5kZXhdLnN0b3BTdGF0ZT1jKX19fSx7a2V5OlwicmVhZE1vZGVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVhZEludCgpLG49MDtuPGU7bisrKXt2YXIgcj10aGlzLnJlYWRJbnQoKTt0Lm1vZGVUb1N0YXJ0U3RhdGUucHVzaCh0LnN0YXRlc1tyXSl9fX0se2tleTpcInJlYWRTZXRzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10aGlzLnJlYWRJbnQoKSxvPTA7bzxyO28rKyl7dmFyIGk9bmV3IFY7ZS5wdXNoKGkpO3ZhciB1PXRoaXMucmVhZEludCgpOzAhPT10aGlzLnJlYWRJbnQoKSYmaS5hZGRPbmUoLTEpO2Zvcih2YXIgYz0wO2M8dTtjKyspe3ZhciBhPW4oKSxsPW4oKTtpLmFkZFJhbmdlKGEsbCl9fX19LHtrZXk6XCJyZWFkRWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIsbyxpLHUsYz10aGlzLnJlYWRJbnQoKTtmb3Iobj0wO248YztuKyspe3ZhciBhPXRoaXMucmVhZEludCgpLGw9dGhpcy5yZWFkSW50KCkscz10aGlzLnJlYWRJbnQoKSxmPXRoaXMucmVhZEludCgpLHA9dGhpcy5yZWFkSW50KCkseT10aGlzLnJlYWRJbnQoKTtpPXRoaXMuZWRnZUZhY3RvcnkodCxzLGEsbCxmLHAseSxlKSx0LnN0YXRlc1thXS5hZGRUcmFuc2l0aW9uKGkpfWZvcihuPTA7bjx0LnN0YXRlcy5sZW5ndGg7bisrKWZvcihvPXQuc3RhdGVzW25dLHI9MDtyPG8udHJhbnNpdGlvbnMubGVuZ3RoO3IrKyl7dmFyIGg9by50cmFuc2l0aW9uc1tyXTtpZihoIGluc3RhbmNlb2YgaXQpe3ZhciBiPS0xO3QucnVsZVRvU3RhcnRTdGF0ZVtoLnRhcmdldC5ydWxlSW5kZXhdLmlzUHJlY2VkZW5jZVJ1bGUmJjA9PT1oLnByZWNlZGVuY2UmJihiPWgudGFyZ2V0LnJ1bGVJbmRleCksaT1uZXcgRXIoaC5mb2xsb3dTdGF0ZSxiKSx0LnJ1bGVUb1N0b3BTdGF0ZVtoLnRhcmdldC5ydWxlSW5kZXhdLmFkZFRyYW5zaXRpb24oaSl9fWZvcihuPTA7bjx0LnN0YXRlcy5sZW5ndGg7bisrKXtpZigobz10LnN0YXRlc1tuXSlpbnN0YW5jZW9mIFplKXtpZihudWxsPT09by5lbmRTdGF0ZSl0aHJvd1wiSWxsZWdhbFN0YXRlXCI7aWYobnVsbCE9PW8uZW5kU3RhdGUuc3RhcnRTdGF0ZSl0aHJvd1wiSWxsZWdhbFN0YXRlXCI7by5lbmRTdGF0ZS5zdGFydFN0YXRlPW99aWYobyBpbnN0YW5jZW9mIFJuKWZvcihyPTA7cjxvLnRyYW5zaXRpb25zLmxlbmd0aDtyKyspKHU9by50cmFuc2l0aW9uc1tyXS50YXJnZXQpaW5zdGFuY2VvZiBXbiYmKHUubG9vcEJhY2tTdGF0ZT1vKTtlbHNlIGlmKG8gaW5zdGFuY2VvZiBEbilmb3Iocj0wO3I8by50cmFuc2l0aW9ucy5sZW5ndGg7cisrKSh1PW8udHJhbnNpdGlvbnNbcl0udGFyZ2V0KWluc3RhbmNlb2Ygem4mJih1Lmxvb3BCYWNrU3RhdGU9byl9fX0se2tleTpcInJlYWREZWNpc2lvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yZWFkSW50KCksbj0wO248ZTtuKyspe3ZhciByPXRoaXMucmVhZEludCgpLG89dC5zdGF0ZXNbcl07dC5kZWNpc2lvblRvU3RhdGUucHVzaChvKSxvLmRlY2lzaW9uPW59fX0se2tleTpcInJlYWRMZXhlckFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKDA9PT10LmdyYW1tYXJUeXBlKXt2YXIgbj10aGlzLnJlYWRJbnQoKTt0LmxleGVyQWN0aW9ucz1xbyhuLG51bGwpO2Zvcih2YXIgcj0wO3I8bjtyKyspe3ZhciBvPXRoaXMucmVhZEludCgpLGk9dGhpcy5yZWFkSW50KCk7ZSYmNjU1MzU9PT1pJiYoaT0tMSk7dmFyIHU9dGhpcy5yZWFkSW50KCk7ZSYmNjU1MzU9PT11JiYodT0tMSksdC5sZXhlckFjdGlvbnNbcl09dGhpcy5sZXhlckFjdGlvbkZhY3RvcnkobyxpLHUpfX19fSx7a2V5OlwiZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXQucnVsZVRvU3RhcnRTdGF0ZS5sZW5ndGg7Zm9yKGU9MDtlPG47ZSsrKXQucnVsZVRvVG9rZW5UeXBlW2VdPXQubWF4VG9rZW5UeXBlK2UrMTtmb3IoZT0wO2U8bjtlKyspdGhpcy5nZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9uKHQsZSl9fSx7a2V5OlwiZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scixvPW5ldyB1cjtvLnJ1bGVJbmRleD1lLHQuYWRkU3RhdGUobyk7dmFyIGk9bmV3IHVuO2kucnVsZUluZGV4PWUsdC5hZGRTdGF0ZShpKSxvLmVuZFN0YXRlPWksdC5kZWZpbmVEZWNpc2lvblN0YXRlKG8pLGkuc3RhcnRTdGF0ZT1vO3ZhciB1PW51bGwsYz1udWxsO2lmKHQucnVsZVRvU3RhcnRTdGF0ZVtlXS5pc1ByZWNlZGVuY2VSdWxlKXtmb3IoYz1udWxsLG49MDtuPHQuc3RhdGVzLmxlbmd0aDtuKyspaWYocj10LnN0YXRlc1tuXSx0aGlzLnN0YXRlSXNFbmRTdGF0ZUZvcihyLGUpKXtjPXIsdT1yLmxvb3BCYWNrU3RhdGUudHJhbnNpdGlvbnNbMF07YnJlYWt9aWYobnVsbD09PXUpdGhyb3dcIkNvdWxkbid0IGlkZW50aWZ5IGZpbmFsIHN0YXRlIG9mIHRoZSBwcmVjZWRlbmNlIHJ1bGUgcHJlZml4IHNlY3Rpb24uXCJ9ZWxzZSBjPXQucnVsZVRvU3RvcFN0YXRlW2VdO2ZvcihuPTA7bjx0LnN0YXRlcy5sZW5ndGg7bisrKXtyPXQuc3RhdGVzW25dO2Zvcih2YXIgYT0wO2E8ci50cmFuc2l0aW9ucy5sZW5ndGg7YSsrKXt2YXIgbD1yLnRyYW5zaXRpb25zW2FdO2whPT11JiZsLnRhcmdldD09PWMmJihsLnRhcmdldD1pKX19Zm9yKHZhciBzPXQucnVsZVRvU3RhcnRTdGF0ZVtlXSxmPXMudHJhbnNpdGlvbnMubGVuZ3RoO2Y+MDspby5hZGRUcmFuc2l0aW9uKHMudHJhbnNpdGlvbnNbZi0xXSkscy50cmFuc2l0aW9ucz1zLnRyYW5zaXRpb25zLnNsaWNlKC0xKTt0LnJ1bGVUb1N0YXJ0U3RhdGVbZV0uYWRkVHJhbnNpdGlvbihuZXcgRXIobykpLGkuYWRkVHJhbnNpdGlvbihuZXcgRXIoYykpO3ZhciBwPW5ldyBWZTt0LmFkZFN0YXRlKHApLHAuYWRkVHJhbnNpdGlvbihuZXcgZnIoaSx0LnJ1bGVUb1Rva2VuVHlwZVtlXSkpLG8uYWRkVHJhbnNpdGlvbihuZXcgRXIocCkpfX0se2tleTpcInN0YXRlSXNFbmRTdGF0ZUZvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodC5ydWxlSW5kZXghPT1lKXJldHVybiBudWxsO2lmKCEodCBpbnN0YW5jZW9mIHpuKSlyZXR1cm4gbnVsbDt2YXIgbj10LnRyYW5zaXRpb25zW3QudHJhbnNpdGlvbnMubGVuZ3RoLTFdLnRhcmdldDtyZXR1cm4gbiBpbnN0YW5jZW9mIHBuJiZuLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnMmJm4udHJhbnNpdGlvbnNbMF0udGFyZ2V0IGluc3RhbmNlb2YgJD90Om51bGx9fSx7a2V5OlwibWFya1ByZWNlZGVuY2VEZWNpc2lvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQuc3RhdGVzLmxlbmd0aDtlKyspe3ZhciBuPXQuc3RhdGVzW2VdO2lmKG4gaW5zdGFuY2VvZiB6biYmdC5ydWxlVG9TdGFydFN0YXRlW24ucnVsZUluZGV4XS5pc1ByZWNlZGVuY2VSdWxlKXt2YXIgcj1uLnRyYW5zaXRpb25zW24udHJhbnNpdGlvbnMubGVuZ3RoLTFdLnRhcmdldDtyIGluc3RhbmNlb2YgcG4mJnIuZXBzaWxvbk9ubHlUcmFuc2l0aW9ucyYmci50cmFuc2l0aW9uc1swXS50YXJnZXQgaW5zdGFuY2VvZiAkJiYobi5pc1ByZWNlZGVuY2VEZWNpc2lvbj0hMCl9fX19LHtrZXk6XCJ2ZXJpZnlBVE5cIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmRlc2VyaWFsaXphdGlvbk9wdGlvbnMudmVyaWZ5QVROKWZvcih2YXIgZT0wO2U8dC5zdGF0ZXMubGVuZ3RoO2UrKyl7dmFyIG49dC5zdGF0ZXNbZV07aWYobnVsbCE9PW4paWYodGhpcy5jaGVja0NvbmRpdGlvbihuLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnN8fG4udHJhbnNpdGlvbnMubGVuZ3RoPD0xKSxuIGluc3RhbmNlb2YgV24pdGhpcy5jaGVja0NvbmRpdGlvbihudWxsIT09bi5sb29wQmFja1N0YXRlKTtlbHNlIGlmKG4gaW5zdGFuY2VvZiB6bilpZih0aGlzLmNoZWNrQ29uZGl0aW9uKG51bGwhPT1uLmxvb3BCYWNrU3RhdGUpLHRoaXMuY2hlY2tDb25kaXRpb24oMj09PW4udHJhbnNpdGlvbnMubGVuZ3RoKSxuLnRyYW5zaXRpb25zWzBdLnRhcmdldCBpbnN0YW5jZW9mIHRyKXRoaXMuY2hlY2tDb25kaXRpb24obi50cmFuc2l0aW9uc1sxXS50YXJnZXQgaW5zdGFuY2VvZiBwbiksdGhpcy5jaGVja0NvbmRpdGlvbighbi5ub25HcmVlZHkpO2Vsc2V7aWYoIShuLnRyYW5zaXRpb25zWzBdLnRhcmdldCBpbnN0YW5jZW9mIHBuKSl0aHJvd1wiSWxsZWdhbFN0YXRlXCI7dGhpcy5jaGVja0NvbmRpdGlvbihuLnRyYW5zaXRpb25zWzFdLnRhcmdldCBpbnN0YW5jZW9mIHRyKSx0aGlzLmNoZWNrQ29uZGl0aW9uKG4ubm9uR3JlZWR5KX1lbHNlIG4gaW5zdGFuY2VvZiBEbj8odGhpcy5jaGVja0NvbmRpdGlvbigxPT09bi50cmFuc2l0aW9ucy5sZW5ndGgpLHRoaXMuY2hlY2tDb25kaXRpb24obi50cmFuc2l0aW9uc1swXS50YXJnZXQgaW5zdGFuY2VvZiB6bikpOm4gaW5zdGFuY2VvZiBwbj90aGlzLmNoZWNrQ29uZGl0aW9uKG51bGwhPT1uLmxvb3BCYWNrU3RhdGUpOm4gaW5zdGFuY2VvZiBtbj90aGlzLmNoZWNrQ29uZGl0aW9uKG51bGwhPT1uLnN0b3BTdGF0ZSk6biBpbnN0YW5jZW9mIFplP3RoaXMuY2hlY2tDb25kaXRpb24obnVsbCE9PW4uZW5kU3RhdGUpOm4gaW5zdGFuY2VvZiB1bj90aGlzLmNoZWNrQ29uZGl0aW9uKG51bGwhPT1uLnN0YXJ0U3RhdGUpOm4gaW5zdGFuY2VvZiBHZT90aGlzLmNoZWNrQ29uZGl0aW9uKG4udHJhbnNpdGlvbnMubGVuZ3RoPD0xfHxuLmRlY2lzaW9uPj0wKTp0aGlzLmNoZWNrQ29uZGl0aW9uKG4udHJhbnNpdGlvbnMubGVuZ3RoPD0xfHxuIGluc3RhbmNlb2YgJCl9fX0se2tleTpcImNoZWNrQ29uZGl0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBudWxsPT1lJiYoZT1cIklsbGVnYWxTdGF0ZVwiKSxlfX0se2tleTpcInJlYWRJbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbdGhpcy5wb3MrK119fSx7a2V5OlwicmVhZEludDMyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkSW50KCl8dGhpcy5yZWFkSW50KCk8PDE2fX0se2tleTpcImVkZ2VGYWN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLHUsYyxhKXt2YXIgbD10LnN0YXRlc1tyXTtzd2l0Y2goZSl7Y2FzZSB0dC5FUFNJTE9OOnJldHVybiBuZXcgRXIobCk7Y2FzZSB0dC5SQU5HRTpyZXR1cm4gbmV3IHZyKGwsMCE9PWM/by5FT0Y6aSx1KTtjYXNlIHR0LlJVTEU6cmV0dXJuIG5ldyBpdCh0LnN0YXRlc1tpXSx1LGMsbCk7Y2FzZSB0dC5QUkVESUNBVEU6cmV0dXJuIG5ldyBEcihsLGksdSwwIT09Yyk7Y2FzZSB0dC5QUkVDRURFTkNFOnJldHVybiBuZXcgWXIobCxpKTtjYXNlIHR0LkFUT006cmV0dXJuIG5ldyBmcihsLDAhPT1jP28uRU9GOmkpO2Nhc2UgdHQuQUNUSU9OOnJldHVybiBuZXcgT3IobCxpLHUsMCE9PWMpO2Nhc2UgdHQuU0VUOnJldHVybiBuZXcgc3QobCxhW2ldKTtjYXNlIHR0Lk5PVF9TRVQ6cmV0dXJuIG5ldyB2dChsLGFbaV0pO2Nhc2UgdHQuV0lMRENBUkQ6cmV0dXJuIG5ldyBPdChsKTtkZWZhdWx0OnRocm93XCJUaGUgc3BlY2lmaWVkIHRyYW5zaXRpb24gdHlwZTogXCIrZStcIiBpcyBub3QgdmFsaWQuXCJ9fX0se2tleTpcInN0YXRlRmFjdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PXRoaXMuc3RhdGVGYWN0b3JpZXMpe3ZhciBuPVtdO25bSC5JTlZBTElEX1RZUEVdPW51bGwsbltILkJBU0lDXT1mdW5jdGlvbigpe3JldHVybiBuZXcgVmV9LG5bSC5SVUxFX1NUQVJUXT1mdW5jdGlvbigpe3JldHVybiBuZXcgbW59LG5bSC5CTE9DS19TVEFSVF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVyfSxuW0guUExVU19CTE9DS19TVEFSVF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFdufSxuW0guU1RBUl9CTE9DS19TVEFSVF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRyfSxuW0guVE9LRU5fU1RBUlRdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQbn0sbltILlJVTEVfU1RPUF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3ICR9LG5bSC5CTE9DS19FTkRdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1bn0sbltILlNUQVJfTE9PUF9CQUNLXT1mdW5jdGlvbigpe3JldHVybiBuZXcgRG59LG5bSC5TVEFSX0xPT1BfRU5UUlldPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6bn0sbltILlBMVVNfTE9PUF9CQUNLXT1mdW5jdGlvbigpe3JldHVybiBuZXcgUm59LG5bSC5MT09QX0VORF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHBufSx0aGlzLnN0YXRlRmFjdG9yaWVzPW59aWYodD50aGlzLnN0YXRlRmFjdG9yaWVzLmxlbmd0aHx8bnVsbD09PXRoaXMuc3RhdGVGYWN0b3JpZXNbdF0pdGhyb3dcIlRoZSBzcGVjaWZpZWQgc3RhdGUgdHlwZSBcIit0K1wiIGlzIG5vdCB2YWxpZC5cIjt2YXIgcj10aGlzLnN0YXRlRmFjdG9yaWVzW3RdKCk7aWYobnVsbCE9PXIpcmV0dXJuIHIucnVsZUluZGV4PWUscn19LHtrZXk6XCJsZXhlckFjdGlvbkZhY3RvcnlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7aWYobnVsbD09PXRoaXMuYWN0aW9uRmFjdG9yaWVzKXt2YXIgcj1bXTtyWzBdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBsbyh0KX0sclsxXT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaG8odCxlKX0sclsyXT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVW8odCl9LHJbM109ZnVuY3Rpb24odCxlKXtyZXR1cm4gU28uSU5TVEFOQ0V9LHJbNF09ZnVuY3Rpb24odCxlKXtyZXR1cm4gTG8uSU5TVEFOQ0V9LHJbNV09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFJvKHQpfSxyWzZdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG9vLklOU1RBTkNFfSxyWzddPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBUbyh0KX0sdGhpcy5hY3Rpb25GYWN0b3JpZXM9cn1pZih0PnRoaXMuYWN0aW9uRmFjdG9yaWVzLmxlbmd0aHx8bnVsbD09PXRoaXMuYWN0aW9uRmFjdG9yaWVzW3RdKXRocm93XCJUaGUgc3BlY2lmaWVkIGxleGVyIGFjdGlvbiB0eXBlIFwiK3QrXCIgaXMgbm90IHZhbGlkLlwiO3JldHVybiB0aGlzLmFjdGlvbkZhY3Rvcmllc1t0XShlLG4pfX1dLG4mJnpvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBLbyh0KXtyZXR1cm4gS289XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sS28odCl9ZnVuY3Rpb24gWW8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUtvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUtvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUtvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgR289ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJzeW50YXhFcnJvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt9fSx7a2V5OlwicmVwb3J0QW1iaWd1aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGksdSl7fX0se2tleTpcInJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt9fSx7a2V5OlwicmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe319XSkmJllvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBXbyh0KXtyZXR1cm4gV289XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sV28odCl9ZnVuY3Rpb24gWG8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVdvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVdvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVdvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiAkbyh0LGUpe3JldHVybiAkbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LCRvKHQsZSl9ZnVuY3Rpb24gSm8odCl7cmV0dXJuIEpvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxKbyh0KX12YXIgUW89ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJiRvKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Sm8ocik7aWYobyl7dmFyIG49Sm8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1XbyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzKX1yZXR1cm4gZT11LChuPVt7a2V5Olwic3ludGF4RXJyb3JcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7Y29uc29sZS5lcnJvcihcImxpbmUgXCIrbitcIjpcIityK1wiIFwiK28pfX1dKSYmWG8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShHbyk7ZnVuY3Rpb24gWm8odCl7cmV0dXJuIFpvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFpvKHQpfWZ1bmN0aW9uIHRpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1abyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1abyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1abyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gZWkodCxlKXtyZXR1cm4gZWk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxlaSh0LGUpfWZ1bmN0aW9uIG5pKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1abyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHJpKHQpfWZ1bmN0aW9uIHJpKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIG9pKHQpe3JldHVybiBvaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sb2kodCl9UW8uSU5TVEFOQ0U9bmV3IFFvO3ZhciBpaT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmZWkodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1vaShyKTtpZihvKXt2YXIgbj1vaSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbmkodGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7aWYoZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGU9aS5jYWxsKHRoaXMpLG51bGw9PT10KXRocm93XCJkZWxlZ2F0ZXNcIjtyZXR1cm4gZS5kZWxlZ2F0ZXM9dCxuaShlLHJpKGUpKX1yZXR1cm4gZT11LG49W3trZXk6XCJzeW50YXhFcnJvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt0aGlzLmRlbGVnYXRlcy5tYXAoKGZ1bmN0aW9uKHUpe3JldHVybiB1LnN5bnRheEVycm9yKHQsZSxuLHIsbyxpKX0pKX19LHtrZXk6XCJyZXBvcnRBbWJpZ3VpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSx1KXt0aGlzLmRlbGVnYXRlcy5tYXAoKGZ1bmN0aW9uKGMpe3JldHVybiBjLnJlcG9ydEFtYmlndWl0eSh0LGUsbixyLG8saSx1KX0pKX19LHtrZXk6XCJyZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7dGhpcy5kZWxlZ2F0ZXMubWFwKChmdW5jdGlvbih1KXtyZXR1cm4gdS5yZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHQodCxlLG4scixvLGkpfSkpfX0se2tleTpcInJlcG9ydENvbnRleHRTZW5zaXRpdml0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt0aGlzLmRlbGVnYXRlcy5tYXAoKGZ1bmN0aW9uKHUpe3JldHVybiB1LnJlcG9ydENvbnRleHRTZW5zaXRpdml0eSh0LGUsbixyLG8saSl9KSl9fV0sbiYmdGkoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShHbyk7ZnVuY3Rpb24gdWkodCl7cmV0dXJuIHVpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHVpKHQpfWZ1bmN0aW9uIGNpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT11aSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT11aShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT11aShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIGFpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5fbGlzdGVuZXJzPVtRby5JTlNUQU5DRV0sdGhpcy5faW50ZXJwPW51bGwsdGhpcy5fc3RhdGVOdW1iZXI9LTF9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJjaGVja1ZlcnNpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1cIjQuMTMuMFwiO2UhPT10JiZjb25zb2xlLmxvZyhcIkFOVExSIHJ1bnRpbWUgYW5kIGdlbmVyYXRlZCBjb2RlIHZlcnNpb25zIGRpc2FncmVlOiBcIitlK1wiIT1cIit0KX19LHtrZXk6XCJhZGRFcnJvckxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fbGlzdGVuZXJzLnB1c2godCl9fSx7a2V5OlwicmVtb3ZlRXJyb3JMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2xpc3RlbmVycz1bXX19LHtrZXk6XCJnZXRMaXRlcmFsTmFtZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IubGl0ZXJhbE5hbWVzfHxbXX19LHtrZXk6XCJnZXRTeW1ib2xpY05hbWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yLnN5bWJvbGljTmFtZXN8fFtdfX0se2tleTpcImdldFRva2VuTmFtZXNcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnRva2VuTmFtZXMpe3ZhciB0PXRoaXMuZ2V0TGl0ZXJhbE5hbWVzKCksZT10aGlzLmdldFN5bWJvbGljTmFtZXMoKSxuPXQubGVuZ3RoPmUubGVuZ3RoP3QubGVuZ3RoOmUubGVuZ3RoO3RoaXMudG9rZW5OYW1lcz1bXTtmb3IodmFyIHI9MDtyPG47cisrKXRoaXMudG9rZW5OYW1lc1tyXT10W3JdfHxlW3JdfHxcIjxJTlZBTElEXCJ9cmV0dXJuIHRoaXMudG9rZW5OYW1lc319LHtrZXk6XCJnZXRUb2tlblR5cGVNYXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0VG9rZW5OYW1lcygpO2lmKG51bGw9PT10KXRocm93XCJUaGUgY3VycmVudCByZWNvZ25pemVyIGRvZXMgbm90IHByb3ZpZGUgYSBsaXN0IG9mIHRva2VuIG5hbWVzLlwiO3ZhciBlPXRoaXMudG9rZW5UeXBlTWFwQ2FjaGVbdF07cmV0dXJuIHZvaWQgMD09PWUmJihlPXQucmVkdWNlKChmdW5jdGlvbih0LGUsbil7dFtlXT1ufSkpLGUuRU9GPW8uRU9GLHRoaXMudG9rZW5UeXBlTWFwQ2FjaGVbdF09ZSksZX19LHtrZXk6XCJnZXRSdWxlSW5kZXhNYXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucnVsZU5hbWVzO2lmKG51bGw9PT10KXRocm93XCJUaGUgY3VycmVudCByZWNvZ25pemVyIGRvZXMgbm90IHByb3ZpZGUgYSBsaXN0IG9mIHJ1bGUgbmFtZXMuXCI7dmFyIGU9dGhpcy5ydWxlSW5kZXhNYXBDYWNoZVt0XTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSxuKXt0W2VdPW59KSksdGhpcy5ydWxlSW5kZXhNYXBDYWNoZVt0XT1lKSxlfX0se2tleTpcImdldFRva2VuVHlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0VG9rZW5UeXBlTWFwKClbdF07cmV0dXJuIHZvaWQgMCE9PWU/ZTpvLklOVkFMSURfVFlQRX19LHtrZXk6XCJnZXRFcnJvckhlYWRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwibGluZSBcIit0LmdldE9mZmVuZGluZ1Rva2VuKCkubGluZStcIjpcIit0LmdldE9mZmVuZGluZ1Rva2VuKCkuY29sdW1ufX0se2tleTpcImdldFRva2VuRXJyb3JEaXNwbGF5XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXQpcmV0dXJuXCI8bm8gdG9rZW4+XCI7dmFyIGU9dC50ZXh0O3JldHVybiBudWxsPT09ZSYmKGU9dC50eXBlPT09by5FT0Y/XCI8RU9GPlwiOlwiPFwiK3QudHlwZStcIj5cIiksXCInXCIrKGU9ZS5yZXBsYWNlKFwiXFxuXCIsXCJcXFxcblwiKS5yZXBsYWNlKFwiXFxyXCIsXCJcXFxcclwiKS5yZXBsYWNlKFwiXFx0XCIsXCJcXFxcdFwiKSkrXCInXCJ9fSx7a2V5OlwiZ2V0RXJyb3JMaXN0ZW5lckRpc3BhdGNoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGlpKHRoaXMuX2xpc3RlbmVycyl9fSx7a2V5Olwic2VtcHJlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hMH19LHtrZXk6XCJwcmVjcHJlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuITB9fSx7a2V5OlwiYXRuXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVycC5hdG59fSx7a2V5Olwic3RhdGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGVOdW1iZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zdGF0ZU51bWJlcj10fX1dLG4mJmNpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBsaSh0KXtyZXR1cm4gbGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbGkodCl9ZnVuY3Rpb24gc2kodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWxpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWxpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWxpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBmaSh0LGUpe3JldHVybiBmaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGZpKHQsZSl9ZnVuY3Rpb24gcGkodCl7cmV0dXJuIHBpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxwaSh0KX1haS50b2tlblR5cGVNYXBDYWNoZT17fSxhaS5ydWxlSW5kZXhNYXBDYWNoZT17fTt2YXIgeWk9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmZpKHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9cGkocik7aWYoaSl7dmFyIG49cGkodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1saShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCxlLG4scixpKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChhPXUuY2FsbCh0aGlzKSkuc291cmNlPXZvaWQgMCE9PXQ/dDpjLkVNUFRZX1NPVVJDRSxhLnR5cGU9dm9pZCAwIT09ZT9lOm51bGwsYS5jaGFubmVsPXZvaWQgMCE9PW4/bjpvLkRFRkFVTFRfQ0hBTk5FTCxhLnN0YXJ0PXZvaWQgMCE9PXI/cjotMSxhLnN0b3A9dm9pZCAwIT09aT9pOi0xLGEudG9rZW5JbmRleD0tMSxudWxsIT09YS5zb3VyY2VbMF0/KGEubGluZT10WzBdLmxpbmUsYS5jb2x1bW49dFswXS5jb2x1bW4pOmEuY29sdW1uPS0xLGF9cmV0dXJuIGU9Yywobj1be2tleTpcImNsb25lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgYyh0aGlzLnNvdXJjZSx0aGlzLnR5cGUsdGhpcy5jaGFubmVsLHRoaXMuc3RhcnQsdGhpcy5zdG9wKTtyZXR1cm4gdC50b2tlbkluZGV4PXRoaXMudG9rZW5JbmRleCx0LmxpbmU9dGhpcy5saW5lLHQuY29sdW1uPXRoaXMuY29sdW1uLHQudGV4dD10aGlzLnRleHQsdH19LHtrZXk6XCJjbG9uZVdpdGhUeXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGModGhpcy5zb3VyY2UsdCx0aGlzLmNoYW5uZWwsdGhpcy5zdGFydCx0aGlzLnN0b3ApO3JldHVybiBlLnRva2VuSW5kZXg9dGhpcy50b2tlbkluZGV4LGUubGluZT10aGlzLmxpbmUsZS5jb2x1bW49dGhpcy5jb2x1bW4sdD09PW8uRU9GJiYoZS50ZXh0PVwiXCIpLGV9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudGV4dDtyZXR1cm4gdD1udWxsIT09dD90LnJlcGxhY2UoL1xcbi9nLFwiXFxcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXFxcclwiKS5yZXBsYWNlKC9cXHQvZyxcIlxcXFx0XCIpOlwiPG5vIHRleHQ+XCIsXCJbQFwiK3RoaXMudG9rZW5JbmRleCtcIixcIit0aGlzLnN0YXJ0K1wiOlwiK3RoaXMuc3RvcCtcIj0nXCIrdCtcIicsPFwiK3RoaXMudHlwZStcIj5cIisodGhpcy5jaGFubmVsPjA/XCIsY2hhbm5lbD1cIit0aGlzLmNoYW5uZWw6XCJcIikrXCIsXCIrdGhpcy5saW5lK1wiOlwiK3RoaXMuY29sdW1uK1wiXVwifX0se2tleTpcInRleHRcIixnZXQ6ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5fdGV4dClyZXR1cm4gdGhpcy5fdGV4dDt2YXIgdD10aGlzLmdldElucHV0U3RyZWFtKCk7aWYobnVsbD09PXQpcmV0dXJuIG51bGw7dmFyIGU9dC5zaXplO3JldHVybiB0aGlzLnN0YXJ0PGUmJnRoaXMuc3RvcDxlP3QuZ2V0VGV4dCh0aGlzLnN0YXJ0LHRoaXMuc3RvcCk6XCI8RU9GPlwifSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dD10fX1dKSYmc2koZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShvKTtmdW5jdGlvbiBoaSh0KXtyZXR1cm4gaGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saGkodCl9ZnVuY3Rpb24gYmkodCxlKXtyZXR1cm4gYmk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxiaSh0LGUpfWZ1bmN0aW9uIHZpKHQpe3JldHVybiB2aT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sdmkodCl9ZnVuY3Rpb24gZGkodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWhpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWhpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWhpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBtaSh0LGUsbil7cmV0dXJuIGUmJmRpKHQucHJvdG90eXBlLGUpLG4mJmRpKHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIGdpKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX15aS5FTVBUWV9TT1VSQ0U9W251bGwsbnVsbF07dmFyIFNpPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZiaSh0LGUpfShvLHQpO3ZhciBlLG4scj0oZT1vLG49ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LHI9dmkoZSk7aWYobil7dmFyIG89dmkodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChyLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1oaShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIG8odCl7dmFyIGU7cmV0dXJuIGdpKHRoaXMsbyksKGU9ci5jYWxsKHRoaXMpKS5jb3B5VGV4dD12b2lkIDAhPT10JiZ0LGV9cmV0dXJuIG1pKG8sW3trZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSx1LGMpe3ZhciBhPW5ldyB5aSh0LGUscixvLGkpO3JldHVybiBhLmxpbmU9dSxhLmNvbHVtbj1jLG51bGwhPT1uP2EudGV4dD1uOnRoaXMuY29weVRleHQmJm51bGwhPT10WzFdJiYoYS50ZXh0PXRbMV0uZ2V0VGV4dChvLGkpKSxhfX0se2tleTpcImNyZWF0ZVRoaW5cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPW5ldyB5aShudWxsLHQpO3JldHVybiBuLnRleHQ9ZSxufX1dKSxvfShtaSgoZnVuY3Rpb24gdCgpe2dpKHRoaXMsdCl9KSkpO2Z1bmN0aW9uIE9pKHQpe3JldHVybiBPaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxPaSh0KX1mdW5jdGlvbiB3aSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09T2kodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09T2kocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09T2kobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIF9pKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIFBpKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4gUGk9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fChuPXQsLTE9PT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKG4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpKSlyZXR1cm4gdDt2YXIgbjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtpZih2b2lkIDAhPT1lKXtpZihlLmhhcyh0KSlyZXR1cm4gZS5nZXQodCk7ZS5zZXQodCxyKX1mdW5jdGlvbiByKCl7cmV0dXJuIFRpKHQsYXJndW1lbnRzLGppKHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnIsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksa2kocix0KX0sUGkodCl9ZnVuY3Rpb24gVGkodCxlLG4pe3JldHVybiBUaT1FaSgpP1JlZmxlY3QuY29uc3RydWN0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9W251bGxdO3IucHVzaC5hcHBseShyLGUpO3ZhciBvPW5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KHQscikpO3JldHVybiBuJiZraShvLG4ucHJvdG90eXBlKSxvfSxUaS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gRWkoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiBraSh0LGUpe3JldHVybiBraT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGtpKHQsZSl9ZnVuY3Rpb24gamkodCl7cmV0dXJuIGppPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxqaSh0KX1TaS5ERUZBVUxUPW5ldyBTaTt2YXIgeGk9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmtpKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89RWkoKSxmdW5jdGlvbigpe3ZhciB0LGU9amkocik7aWYobyl7dmFyIG49amkodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1PaShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIF9pKHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGU9aS5jYWxsKHRoaXMsdC5tZXNzYWdlKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX2koZSksdSksZS5tZXNzYWdlPXQubWVzc2FnZSxlLnJlY29nbml6ZXI9dC5yZWNvZ25pemVyLGUuaW5wdXQ9dC5pbnB1dCxlLmN0eD10LmN0eCxlLm9mZmVuZGluZ1Rva2VuPW51bGwsZS5vZmZlbmRpbmdTdGF0ZT0tMSxudWxsIT09ZS5yZWNvZ25pemVyJiYoZS5vZmZlbmRpbmdTdGF0ZT1lLnJlY29nbml6ZXIuc3RhdGUpLGV9cmV0dXJuIGU9dSwobj1be2tleTpcImdldEV4cGVjdGVkVG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMucmVjb2duaXplcj90aGlzLnJlY29nbml6ZXIuYXRuLmdldEV4cGVjdGVkVG9rZW5zKHRoaXMub2ZmZW5kaW5nU3RhdGUsdGhpcy5jdHgpOm51bGx9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2V9fV0pJiZ3aShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFBpKEVycm9yKSk7ZnVuY3Rpb24gUmkodCl7cmV0dXJuIFJpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFJpKHQpfWZ1bmN0aW9uIENpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1SaSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1SaShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1SaShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gQWkodCxlKXtyZXR1cm4gQWk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxBaSh0LGUpfWZ1bmN0aW9uIE5pKHQpe3JldHVybiBOaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTmkodCl9dmFyIElpPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZBaSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPU5pKHIpO2lmKG8pe3ZhciBuPU5pKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09UmkoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSxuLHIpe3ZhciBvO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG89aS5jYWxsKHRoaXMse21lc3NhZ2U6XCJcIixyZWNvZ25pemVyOnQsaW5wdXQ6ZSxjdHg6bnVsbH0pKS5zdGFydEluZGV4PW4sby5kZWFkRW5kQ29uZmlncz1yLG99cmV0dXJuIGU9dSwobj1be2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1cIlwiO3JldHVybiB0aGlzLnN0YXJ0SW5kZXg+PTAmJnRoaXMuc3RhcnRJbmRleDx0aGlzLmlucHV0LnNpemUmJih0PXRoaXMuaW5wdXQuZ2V0VGV4dChuZXcgQih0aGlzLnN0YXJ0SW5kZXgsdGhpcy5zdGFydEluZGV4KSkpLFwiTGV4ZXJOb1ZpYWJsZUFsdEV4Y2VwdGlvblwiK3R9fV0pJiZDaShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHhpKTtmdW5jdGlvbiBMaSh0KXtyZXR1cm4gTGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTGkodCl9ZnVuY3Rpb24gRGkodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUxpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUxpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUxpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBGaSh0LGUpe3JldHVybiBGaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEZpKHQsZSl9ZnVuY3Rpb24gQmkodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gTWkodCl7cmV0dXJuIE1pPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxNaSh0KX12YXIgVWk9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkZpKHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9TWkocik7aWYoaSl7dmFyIG49TWkodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1MaShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIEJpKHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChlPXUuY2FsbCh0aGlzKSkuX2lucHV0PXQsZS5fZmFjdG9yeT1TaS5ERUZBVUxULGUuX3Rva2VuRmFjdG9yeVNvdXJjZVBhaXI9W0JpKGUpLHRdLGUuX2ludGVycD1udWxsLGUuX3Rva2VuPW51bGwsZS5fdG9rZW5TdGFydENoYXJJbmRleD0tMSxlLl90b2tlblN0YXJ0TGluZT0tMSxlLl90b2tlblN0YXJ0Q29sdW1uPS0xLGUuX2hpdEVPRj0hMSxlLl9jaGFubmVsPW8uREVGQVVMVF9DSEFOTkVMLGUuX3R5cGU9by5JTlZBTElEX1RZUEUsZS5fbW9kZVN0YWNrPVtdLGUuX21vZGU9Yy5ERUZBVUxUX01PREUsZS5fdGV4dD1udWxsLGV9cmV0dXJuIGU9YyxuPVt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe251bGwhPT10aGlzLl9pbnB1dCYmdGhpcy5faW5wdXQuc2VlaygwKSx0aGlzLl90b2tlbj1udWxsLHRoaXMuX3R5cGU9by5JTlZBTElEX1RZUEUsdGhpcy5fY2hhbm5lbD1vLkRFRkFVTFRfQ0hBTk5FTCx0aGlzLl90b2tlblN0YXJ0Q2hhckluZGV4PS0xLHRoaXMuX3Rva2VuU3RhcnRDb2x1bW49LTEsdGhpcy5fdG9rZW5TdGFydExpbmU9LTEsdGhpcy5fdGV4dD1udWxsLHRoaXMuX2hpdEVPRj0hMSx0aGlzLl9tb2RlPWMuREVGQVVMVF9NT0RFLHRoaXMuX21vZGVTdGFjaz1bXSx0aGlzLl9pbnRlcnAucmVzZXQoKX19LHtrZXk6XCJuZXh0VG9rZW5cIix2YWx1ZTpmdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl9pbnB1dCl0aHJvd1wibmV4dFRva2VuIHJlcXVpcmVzIGEgbm9uLW51bGwgaW5wdXQgc3RyZWFtLlwiO3ZhciB0PXRoaXMuX2lucHV0Lm1hcmsoKTt0cnl7Zm9yKDs7KXtpZih0aGlzLl9oaXRFT0YpcmV0dXJuIHRoaXMuZW1pdEVPRigpLHRoaXMuX3Rva2VuO3RoaXMuX3Rva2VuPW51bGwsdGhpcy5fY2hhbm5lbD1vLkRFRkFVTFRfQ0hBTk5FTCx0aGlzLl90b2tlblN0YXJ0Q2hhckluZGV4PXRoaXMuX2lucHV0LmluZGV4LHRoaXMuX3Rva2VuU3RhcnRDb2x1bW49dGhpcy5faW50ZXJwLmNvbHVtbix0aGlzLl90b2tlblN0YXJ0TGluZT10aGlzLl9pbnRlcnAubGluZSx0aGlzLl90ZXh0PW51bGw7Zm9yKHZhciBlPSExOzspe3RoaXMuX3R5cGU9by5JTlZBTElEX1RZUEU7dmFyIG49Yy5TS0lQO3RyeXtuPXRoaXMuX2ludGVycC5tYXRjaCh0aGlzLl9pbnB1dCx0aGlzLl9tb2RlKX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiB4aSkpdGhyb3cgY29uc29sZS5sb2codC5zdGFjayksdDt0aGlzLm5vdGlmeUxpc3RlbmVycyh0KSx0aGlzLnJlY292ZXIodCl9aWYodGhpcy5faW5wdXQuTEEoMSk9PT1vLkVPRiYmKHRoaXMuX2hpdEVPRj0hMCksdGhpcy5fdHlwZT09PW8uSU5WQUxJRF9UWVBFJiYodGhpcy5fdHlwZT1uKSx0aGlzLl90eXBlPT09Yy5TS0lQKXtlPSEwO2JyZWFrfWlmKHRoaXMuX3R5cGUhPT1jLk1PUkUpYnJlYWt9aWYoIWUpcmV0dXJuIG51bGw9PT10aGlzLl90b2tlbiYmdGhpcy5lbWl0KCksdGhpcy5fdG9rZW59fWZpbmFsbHl7dGhpcy5faW5wdXQucmVsZWFzZSh0KX19fSx7a2V5Olwic2tpcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdHlwZT1jLlNLSVB9fSx7a2V5OlwibW9yZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fdHlwZT1jLk1PUkV9fSx7a2V5OlwibW9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX21vZGU9dH19LHtrZXk6XCJwdXNoTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVycC5kZWJ1ZyYmY29uc29sZS5sb2coXCJwdXNoTW9kZSBcIit0KSx0aGlzLl9tb2RlU3RhY2sucHVzaCh0aGlzLl9tb2RlKSx0aGlzLm1vZGUodCl9fSx7a2V5OlwicG9wTW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuX21vZGVTdGFjay5sZW5ndGgpdGhyb3dcIkVtcHR5IFN0YWNrXCI7cmV0dXJuIHRoaXMuX2ludGVycC5kZWJ1ZyYmY29uc29sZS5sb2coXCJwb3BNb2RlIGJhY2sgdG8gXCIrdGhpcy5fbW9kZVN0YWNrLnNsaWNlKDAsLTEpKSx0aGlzLm1vZGUodGhpcy5fbW9kZVN0YWNrLnBvcCgpKSx0aGlzLl9tb2RlfX0se2tleTpcImVtaXRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX3Rva2VuPXR9fSx7a2V5OlwiZW1pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZmFjdG9yeS5jcmVhdGUodGhpcy5fdG9rZW5GYWN0b3J5U291cmNlUGFpcix0aGlzLl90eXBlLHRoaXMuX3RleHQsdGhpcy5fY2hhbm5lbCx0aGlzLl90b2tlblN0YXJ0Q2hhckluZGV4LHRoaXMuZ2V0Q2hhckluZGV4KCktMSx0aGlzLl90b2tlblN0YXJ0TGluZSx0aGlzLl90b2tlblN0YXJ0Q29sdW1uKTtyZXR1cm4gdGhpcy5lbWl0VG9rZW4odCksdH19LHtrZXk6XCJlbWl0RU9GXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbHVtbixlPXRoaXMubGluZSxuPXRoaXMuX2ZhY3RvcnkuY3JlYXRlKHRoaXMuX3Rva2VuRmFjdG9yeVNvdXJjZVBhaXIsby5FT0YsbnVsbCxvLkRFRkFVTFRfQ0hBTk5FTCx0aGlzLl9pbnB1dC5pbmRleCx0aGlzLl9pbnB1dC5pbmRleC0xLGUsdCk7cmV0dXJuIHRoaXMuZW1pdFRva2VuKG4pLG59fSx7a2V5OlwiZ2V0Q2hhckluZGV4XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQuaW5kZXh9fSx7a2V5OlwiZ2V0QWxsVG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLm5leHRUb2tlbigpO2UudHlwZSE9PW8uRU9GOyl0LnB1c2goZSksZT10aGlzLm5leHRUb2tlbigpO3JldHVybiB0fX0se2tleTpcIm5vdGlmeUxpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Rva2VuU3RhcnRDaGFySW5kZXgsbj10aGlzLl9pbnB1dC5pbmRleCxyPXRoaXMuX2lucHV0LmdldFRleHQoZSxuKSxvPVwidG9rZW4gcmVjb2duaXRpb24gZXJyb3IgYXQ6ICdcIit0aGlzLmdldEVycm9yRGlzcGxheShyKStcIidcIjt0aGlzLmdldEVycm9yTGlzdGVuZXJEaXNwYXRjaCgpLnN5bnRheEVycm9yKHRoaXMsbnVsbCx0aGlzLl90b2tlblN0YXJ0TGluZSx0aGlzLl90b2tlblN0YXJ0Q29sdW1uLG8sdCl9fSx7a2V5OlwiZ2V0RXJyb3JEaXNwbGF5XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoO24rKyllLnB1c2godFtuXSk7cmV0dXJuIGUuam9pbihcIlwiKX19LHtrZXk6XCJnZXRFcnJvckRpc3BsYXlGb3JDaGFyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hhckNvZGVBdCgwKT09PW8uRU9GP1wiPEVPRj5cIjpcIlxcblwiPT09dD9cIlxcXFxuXCI6XCJcXHRcIj09PXQ/XCJcXFxcdFwiOlwiXFxyXCI9PT10P1wiXFxcXHJcIjp0fX0se2tleTpcImdldENoYXJFcnJvckRpc3BsYXlcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cIidcIit0aGlzLmdldEVycm9yRGlzcGxheUZvckNoYXIodCkrXCInXCJ9fSx7a2V5OlwicmVjb3ZlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2lucHV0LkxBKDEpIT09by5FT0YmJih0IGluc3RhbmNlb2YgSWk/dGhpcy5faW50ZXJwLmNvbnN1bWUodGhpcy5faW5wdXQpOnRoaXMuX2lucHV0LmNvbnN1bWUoKSl9fSx7a2V5OlwiaW5wdXRTdHJlYW1cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dD1udWxsLHRoaXMuX3Rva2VuRmFjdG9yeVNvdXJjZVBhaXI9W3RoaXMsdGhpcy5faW5wdXRdLHRoaXMucmVzZXQoKSx0aGlzLl9pbnB1dD10LHRoaXMuX3Rva2VuRmFjdG9yeVNvdXJjZVBhaXI9W3RoaXMsdGhpcy5faW5wdXRdfX0se2tleTpcInNvdXJjZU5hbWVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQuc291cmNlTmFtZX19LHtrZXk6XCJ0eXBlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90eXBlPXR9fSx7a2V5OlwibGluZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnAubGluZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVycC5saW5lPXR9fSx7a2V5OlwiY29sdW1uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVycC5jb2x1bW59LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcnAuY29sdW1uPXR9fSx7a2V5OlwidGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5fdGV4dD90aGlzLl90ZXh0OnRoaXMuX2ludGVycC5nZXRUZXh0KHRoaXMuX2lucHV0KX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHQ9dH19XSxuJiZEaShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KGFpKTtmdW5jdGlvbiBWaSh0KXtyZXR1cm4gVmk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sVmkodCl9ZnVuY3Rpb24gemkodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVZpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVZpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVZpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBxaSh0KXtyZXR1cm4gdC5oYXNoQ29kZUZvckNvbmZpZ1NldCgpfWZ1bmN0aW9uIEhpKHQsZSl7cmV0dXJuIHQ9PT1lfHxudWxsIT09dCYmbnVsbCE9PWUmJnQuZXF1YWxzRm9yQ29uZmlnU2V0KGUpfVVpLkRFRkFVTFRfTU9ERT0wLFVpLk1PUkU9LTIsVWkuU0tJUD0tMyxVaS5ERUZBVUxUX1RPS0VOX0NIQU5ORUw9by5ERUZBVUxUX0NIQU5ORUwsVWkuSElEREVOPW8uSElEREVOX0NIQU5ORUwsVWkuTUlOX0NIQVJfVkFMVUU9MCxVaS5NQVhfQ0hBUl9WQUxVRT0xMTE0MTExO3ZhciBLaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmNvbmZpZ0xvb2t1cD1uZXcgZyhxaSxIaSksdGhpcy5mdWxsQ3R4PXZvaWQgMD09PWV8fGUsdGhpcy5yZWFkT25seT0hMSx0aGlzLmNvbmZpZ3M9W10sdGhpcy51bmlxdWVBbHQ9MCx0aGlzLmNvbmZsaWN0aW5nQWx0cz1udWxsLHRoaXMuaGFzU2VtYW50aWNDb250ZXh0PSExLHRoaXMuZGlwc0ludG9PdXRlckNvbnRleHQ9ITEsdGhpcy5jYWNoZWRIYXNoQ29kZT0tMX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9bnVsbCksdGhpcy5yZWFkT25seSl0aHJvd1wiVGhpcyBzZXQgaXMgcmVhZG9ubHlcIjt0LnNlbWFudGljQ29udGV4dCE9PWouTk9ORSYmKHRoaXMuaGFzU2VtYW50aWNDb250ZXh0PSEwKSx0LnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PjAmJih0aGlzLmRpcHNJbnRvT3V0ZXJDb250ZXh0PSEwKTt2YXIgbj10aGlzLmNvbmZpZ0xvb2t1cC5hZGQodCk7aWYobj09PXQpcmV0dXJuIHRoaXMuY2FjaGVkSGFzaENvZGU9LTEsdGhpcy5jb25maWdzLnB1c2godCksITA7dmFyIHI9IXRoaXMuZnVsbEN0eCxvPWplKG4uY29udGV4dCx0LmNvbnRleHQscixlKTtyZXR1cm4gbi5yZWFjaGVzSW50b091dGVyQ29udGV4dD1NYXRoLm1heChuLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0LHQucmVhY2hlc0ludG9PdXRlckNvbnRleHQpLHQucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWQmJihuLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkPSEwKSxuLmNvbnRleHQ9bywhMH19LHtrZXk6XCJnZXRTdGF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgZyxlPTA7ZTx0aGlzLmNvbmZpZ3MubGVuZ3RoO2UrKyl0LmFkZCh0aGlzLmNvbmZpZ3NbZV0uc3RhdGUpO3JldHVybiB0fX0se2tleTpcImdldFByZWRpY2F0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmNvbmZpZ3MubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5jb25maWdzW2VdLnNlbWFudGljQ29udGV4dDtuIT09ai5OT05FJiZ0LnB1c2gobi5zZW1hbnRpY0NvbnRleHQpfXJldHVybiB0fX0se2tleTpcIm9wdGltaXplQ29uZmlnc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMucmVhZE9ubHkpdGhyb3dcIlRoaXMgc2V0IGlzIHJlYWRvbmx5XCI7aWYoMCE9PXRoaXMuY29uZmlnTG9va3VwLmxlbmd0aClmb3IodmFyIGU9MDtlPHRoaXMuY29uZmlncy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmNvbmZpZ3NbZV07bi5jb250ZXh0PXQuZ2V0Q2FjaGVkQ29udGV4dChuLmNvbnRleHQpfX19LHtrZXk6XCJhZGRBbGxcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLmFkZCh0W2VdKTtyZXR1cm4hMX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcz09PWV8fGUgaW5zdGFuY2VvZiB0JiZpKHRoaXMuY29uZmlncyxlLmNvbmZpZ3MpJiZ0aGlzLmZ1bGxDdHg9PT1lLmZ1bGxDdHgmJnRoaXMudW5pcXVlQWx0PT09ZS51bmlxdWVBbHQmJnRoaXMuY29uZmxpY3RpbmdBbHRzPT09ZS5jb25mbGljdGluZ0FsdHMmJnRoaXMuaGFzU2VtYW50aWNDb250ZXh0PT09ZS5oYXNTZW1hbnRpY0NvbnRleHQmJnRoaXMuZGlwc0ludG9PdXRlckNvbnRleHQ9PT1lLmRpcHNJbnRvT3V0ZXJDb250ZXh0fX0se2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjtyZXR1cm4gdC51cGRhdGUodGhpcy5jb25maWdzKSx0LmZpbmlzaCgpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWFkT25seT8oLTE9PT10aGlzLmNhY2hlZEhhc2hDb2RlJiYodGhpcy5jYWNoZWRIYXNoQ29kZT10aGlzLmhhc2hDb2RlKCkpLHQudXBkYXRlKHRoaXMuY2FjaGVkSGFzaENvZGUpKTp0LnVwZGF0ZSh0aGlzLmhhc2hDb2RlKCkpfX0se2tleTpcImlzRW1wdHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5jb25maWdzLmxlbmd0aH19LHtrZXk6XCJjb250YWluc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLmNvbmZpZ0xvb2t1cCl0aHJvd1wiVGhpcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkIGZvciByZWFkb25seSBzZXRzLlwiO3JldHVybiB0aGlzLmNvbmZpZ0xvb2t1cC5jb250YWlucyh0KX19LHtrZXk6XCJjb250YWluc0Zhc3RcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5jb25maWdMb29rdXApdGhyb3dcIlRoaXMgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgcmVhZG9ubHkgc2V0cy5cIjtyZXR1cm4gdGhpcy5jb25maWdMb29rdXAuY29udGFpbnNGYXN0KHQpfX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLnJlYWRPbmx5KXRocm93XCJUaGlzIHNldCBpcyByZWFkb25seVwiO3RoaXMuY29uZmlncz1bXSx0aGlzLmNhY2hlZEhhc2hDb2RlPS0xLHRoaXMuY29uZmlnTG9va3VwPW5ldyBnfX0se2tleTpcInNldFJlYWRvbmx5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWFkT25seT10LHQmJih0aGlzLmNvbmZpZ0xvb2t1cD1udWxsKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcy5jb25maWdzKSsodGhpcy5oYXNTZW1hbnRpY0NvbnRleHQ/XCIsaGFzU2VtYW50aWNDb250ZXh0PVwiK3RoaXMuaGFzU2VtYW50aWNDb250ZXh0OlwiXCIpKyh0aGlzLnVuaXF1ZUFsdCE9PUZlLklOVkFMSURfQUxUX05VTUJFUj9cIix1bmlxdWVBbHQ9XCIrdGhpcy51bmlxdWVBbHQ6XCJcIikrKG51bGwhPT10aGlzLmNvbmZsaWN0aW5nQWx0cz9cIixjb25mbGljdGluZ0FsdHM9XCIrdGhpcy5jb25mbGljdGluZ0FsdHM6XCJcIikrKHRoaXMuZGlwc0ludG9PdXRlckNvbnRleHQ/XCIsZGlwc0ludG9PdXRlckNvbnRleHRcIjpcIlwiKX19LHtrZXk6XCJpdGVtc1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZ3N9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlncy5sZW5ndGh9fV0sbiYmemkoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIFlpKHQpe3JldHVybiBZaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxZaSh0KX1mdW5jdGlvbiBHaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09WWkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09WWkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09WWkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBXaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLG51bGw9PT1lJiYoZT0tMSksbnVsbD09PW4mJihuPW5ldyBLaSksdGhpcy5zdGF0ZU51bWJlcj1lLHRoaXMuY29uZmlncz1uLHRoaXMuZWRnZXM9bnVsbCx0aGlzLmlzQWNjZXB0U3RhdGU9ITEsdGhpcy5wcmVkaWN0aW9uPTAsdGhpcy5sZXhlckFjdGlvbkV4ZWN1dG9yPW51bGwsdGhpcy5yZXF1aXJlc0Z1bGxDb250ZXh0PSExLHRoaXMucHJlZGljYXRlcz1udWxsLHRoaXN9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJnZXRBbHRTZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBnO2lmKG51bGwhPT10aGlzLmNvbmZpZ3MpZm9yKHZhciBlPTA7ZTx0aGlzLmNvbmZpZ3MubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5jb25maWdzW2VdO3QuYWRkKG4uYWx0KX1yZXR1cm4gMD09PXQubGVuZ3RoP251bGw6dH19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcz09PWV8fGUgaW5zdGFuY2VvZiB0JiZ0aGlzLmNvbmZpZ3MuZXF1YWxzKGUuY29uZmlncyl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhdGVOdW1iZXIrXCI6XCIrdGhpcy5jb25maWdzO3JldHVybiB0aGlzLmlzQWNjZXB0U3RhdGUmJih0Kz1cIj0+XCIsbnVsbCE9PXRoaXMucHJlZGljYXRlcz90Kz10aGlzLnByZWRpY2F0ZXM6dCs9dGhpcy5wcmVkaWN0aW9uKSx0fX0se2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjtyZXR1cm4gdC51cGRhdGUodGhpcy5jb25maWdzKSx0LmZpbmlzaCgpfX1dLG4mJkdpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBYaSh0KXtyZXR1cm4gWGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sWGkodCl9ZnVuY3Rpb24gJGkodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVhpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVhpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVhpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgSmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmF0bj1lLHRoaXMuc2hhcmVkQ29udGV4dENhY2hlPW4sdGhpc312YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImdldENhY2hlZENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5zaGFyZWRDb250ZXh0Q2FjaGUpcmV0dXJuIHQ7dmFyIGU9bmV3IFRlO3JldHVybiBrZSh0LHRoaXMuc2hhcmVkQ29udGV4dENhY2hlLGUpfX1dLG4mJiRpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBRaSh0KXtyZXR1cm4gUWk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sUWkodCl9ZnVuY3Rpb24gWmkodCxlKXtyZXR1cm4gWmk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxaaSh0LGUpfWZ1bmN0aW9uIHR1KHQpe3JldHVybiB0dT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sdHUodCl9SmkuRVJST1I9bmV3IFdpKDIxNDc0ODM2NDcsbmV3IEtpKTt2YXIgZXU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlppKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXR1KG4pO2lmKHIpe3ZhciBvPXR1KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09UWkoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLmNvbmZpZ0xvb2t1cD1uZXcgZyx0fXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShLaSk7ZnVuY3Rpb24gbnUodCl7cmV0dXJuIG51PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LG51KHQpfWZ1bmN0aW9uIHJ1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1udSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1udShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1udShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gb3UoKXtyZXR1cm4gb3U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PWF1KHQpKTspO3JldHVybiB0fSh0LGUpO2lmKHIpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixlKTtyZXR1cm4gby5nZXQ/by5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoPDM/dDpuKTpvLnZhbHVlfX0sb3UuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGl1KHQsZSl7cmV0dXJuIGl1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0saXUodCxlKX1mdW5jdGlvbiB1dSh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09bnUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBjdSh0KX1mdW5jdGlvbiBjdSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBhdSh0KXtyZXR1cm4gYXU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGF1KHQpfXZhciBsdT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmaXUodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1hdShyKTtpZihvKXt2YXIgbj1hdSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXUodGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLG49aS5jYWxsKHRoaXMsdCxlKTt2YXIgcj10LmxleGVyQWN0aW9uRXhlY3V0b3J8fG51bGw7cmV0dXJuIG4ubGV4ZXJBY3Rpb25FeGVjdXRvcj1yfHwobnVsbCE9PWU/ZS5sZXhlckFjdGlvbkV4ZWN1dG9yOm51bGwpLG4ucGFzc2VkVGhyb3VnaE5vbkdyZWVkeURlY2lzaW9uPW51bGwhPT1lJiZuLmNoZWNrTm9uR3JlZWR5RGVjaXNpb24oZSxuLnN0YXRlKSxuLmhhc2hDb2RlRm9yQ29uZmlnU2V0PXUucHJvdG90eXBlLmhhc2hDb2RlLG4uZXF1YWxzRm9yQ29uZmlnU2V0PXUucHJvdG90eXBlLmVxdWFscyx1dShuLGN1KG4pKX1yZXR1cm4gZT11LChuPVt7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLnN0YXRlLnN0YXRlTnVtYmVyLHRoaXMuYWx0LHRoaXMuY29udGV4dCx0aGlzLnNlbWFudGljQ29udGV4dCx0aGlzLnBhc3NlZFRocm91Z2hOb25HcmVlZHlEZWNpc2lvbix0aGlzLmxleGVyQWN0aW9uRXhlY3V0b3IpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMucGFzc2VkVGhyb3VnaE5vbkdyZWVkeURlY2lzaW9uPT09dC5wYXNzZWRUaHJvdWdoTm9uR3JlZWR5RGVjaXNpb24mJih0aGlzLmxleGVyQWN0aW9uRXhlY3V0b3I/dGhpcy5sZXhlckFjdGlvbkV4ZWN1dG9yLmVxdWFscyh0LmxleGVyQWN0aW9uRXhlY3V0b3IpOiF0LmxleGVyQWN0aW9uRXhlY3V0b3IpJiZvdShhdSh1LnByb3RvdHlwZSksXCJlcXVhbHNcIix0aGlzKS5jYWxsKHRoaXMsdCl9fSx7a2V5OlwiY2hlY2tOb25HcmVlZHlEZWNpc2lvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucGFzc2VkVGhyb3VnaE5vbkdyZWVkeURlY2lzaW9ufHxlIGluc3RhbmNlb2YgR2UmJmUubm9uR3JlZWR5fX1dKSYmcnUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShMKTtmdW5jdGlvbiBzdSh0KXtyZXR1cm4gc3U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sc3UodCl9ZnVuY3Rpb24gZnUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXN1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXN1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXN1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBwdSh0LGUpe3JldHVybiBwdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHB1KHQsZSl9ZnVuY3Rpb24geXUodCl7cmV0dXJuIHl1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx5dSh0KX12YXIgaHU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnB1KHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9eXUocik7aWYobyl7dmFyIG49eXUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1zdShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzLGUuYWN0aW9uVHlwZSkpLm9mZnNldD10LG4uYWN0aW9uPWUsbi5pc1Bvc2l0aW9uRGVwZW5kZW50PSEwLG59cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmFjdGlvbi5leGVjdXRlKHQpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5hY3Rpb25UeXBlLHRoaXMub2Zmc2V0LHRoaXMuYWN0aW9uKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLm9mZnNldD09PXQub2Zmc2V0JiZ0aGlzLmFjdGlvbj09PXQuYWN0aW9ufX1dKSYmZnUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gYnUodCl7cmV0dXJuIGJ1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGJ1KHQpfWZ1bmN0aW9uIHZ1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1idSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1idShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1idShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIGR1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMubGV4ZXJBY3Rpb25zPW51bGw9PT1lP1tdOmUsdGhpcy5jYWNoZWRIYXNoQ29kZT1mLmhhc2hTdHVmZihlKSx0aGlzfXZhciBlLG4scjtyZXR1cm4gZT10LG49W3trZXk6XCJmaXhPZmZzZXRCZWZvcmVNYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1udWxsLHI9MDtyPHRoaXMubGV4ZXJBY3Rpb25zLmxlbmd0aDtyKyspIXRoaXMubGV4ZXJBY3Rpb25zW3JdLmlzUG9zaXRpb25EZXBlbmRlbnR8fHRoaXMubGV4ZXJBY3Rpb25zW3JdaW5zdGFuY2VvZiBodXx8KG51bGw9PT1uJiYobj10aGlzLmxleGVyQWN0aW9ucy5jb25jYXQoW10pKSxuW3JdPW5ldyBodShlLHRoaXMubGV4ZXJBY3Rpb25zW3JdKSk7cmV0dXJuIG51bGw9PT1uP3RoaXM6bmV3IHQobil9fSx7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0hMSxvPWUuaW5kZXg7dHJ5e2Zvcih2YXIgaT0wO2k8dGhpcy5sZXhlckFjdGlvbnMubGVuZ3RoO2krKyl7dmFyIHU9dGhpcy5sZXhlckFjdGlvbnNbaV07aWYodSBpbnN0YW5jZW9mIGh1KXt2YXIgYz11Lm9mZnNldDtlLnNlZWsobitjKSx1PXUuYWN0aW9uLHI9bitjIT09b31lbHNlIHUuaXNQb3NpdGlvbkRlcGVuZGVudCYmKGUuc2VlayhvKSxyPSExKTt1LmV4ZWN1dGUodCl9fWZpbmFsbHl7ciYmZS5zZWVrKG8pfX19LHtrZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGVkSGFzaENvZGV9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmNhY2hlZEhhc2hDb2RlKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzPT09ZSlyZXR1cm4hMDtpZihlIGluc3RhbmNlb2YgdCl7aWYodGhpcy5jYWNoZWRIYXNoQ29kZSE9ZS5jYWNoZWRIYXNoQ29kZSlyZXR1cm4hMTtpZih0aGlzLmxleGVyQWN0aW9ucy5sZW5ndGghPWUubGV4ZXJBY3Rpb25zLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49dGhpcy5sZXhlckFjdGlvbnMubGVuZ3RoLHI9MDtyPG47KytyKWlmKCF0aGlzLmxleGVyQWN0aW9uc1tyXS5lcXVhbHMoZS5sZXhlckFjdGlvbnNbcl0pKXJldHVybiExO3JldHVybiEwfXJldHVybiExfX1dLHI9W3trZXk6XCJhcHBlbmRcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3JldHVybiBuZXcgdChudWxsPT09ZT9bbl06ZS5sZXhlckFjdGlvbnMuY29uY2F0KFtuXSkpfX1dLG4mJnZ1KGUucHJvdG90eXBlLG4pLHImJnZ1KGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIG11KHQsZSl7cmV0dXJuIG11PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbXUodCxlKX1mdW5jdGlvbiBndSh0KXtyZXR1cm4gZ3U9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGd1KHQpfWZ1bmN0aW9uIFN1KHQpe3JldHVybiBTdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxTdSh0KX1mdW5jdGlvbiBPdSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gd3UodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVN1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVN1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVN1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBfdSh0LGUsbil7cmV0dXJuIGUmJnd1KHQucHJvdG90eXBlLGUpLG4mJnd1KHQsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fWZ1bmN0aW9uIFB1KHQpe3QuaW5kZXg9LTEsdC5saW5lPTAsdC5jb2x1bW49LTEsdC5kZmFTdGF0ZT1udWxsfXZhciBUdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtPdSh0aGlzLHQpLFB1KHRoaXMpfXJldHVybiBfdSh0LFt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe1B1KHRoaXMpfX1dKSx0fSgpLEV1PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZtdSh0LGUpfShpLHQpO3ZhciBlLG4scj0oZT1pLG49ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LHI9Z3UoZSk7aWYobil7dmFyIG89Z3UodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChyLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1TdShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkodCxlLG4sbyl7dmFyIHU7cmV0dXJuIE91KHRoaXMsaSksKHU9ci5jYWxsKHRoaXMsZSxvKSkuZGVjaXNpb25Ub0RGQT1uLHUucmVjb2c9dCx1LnN0YXJ0SW5kZXg9LTEsdS5saW5lPTEsdS5jb2x1bW49MCx1Lm1vZGU9VWkuREVGQVVMVF9NT0RFLHUucHJldkFjY2VwdD1uZXcgVHUsdX1yZXR1cm4gX3UoaSxbe2tleTpcImNvcHlTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuY29sdW1uPXQuY29sdW1uLHRoaXMubGluZT10LmxpbmUsdGhpcy5tb2RlPXQubW9kZSx0aGlzLnN0YXJ0SW5kZXg9dC5zdGFydEluZGV4fX0se2tleTpcIm1hdGNoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLm1vZGU9ZTt2YXIgbj10Lm1hcmsoKTt0cnl7dGhpcy5zdGFydEluZGV4PXQuaW5kZXgsdGhpcy5wcmV2QWNjZXB0LnJlc2V0KCk7dmFyIHI9dGhpcy5kZWNpc2lvblRvREZBW2VdO3JldHVybiBudWxsPT09ci5zMD90aGlzLm1hdGNoQVROKHQpOnRoaXMuZXhlY0FUTih0LHIuczApfWZpbmFsbHl7dC5yZWxlYXNlKG4pfX19LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcmV2QWNjZXB0LnJlc2V0KCksdGhpcy5zdGFydEluZGV4PS0xLHRoaXMubGluZT0xLHRoaXMuY29sdW1uPTAsdGhpcy5tb2RlPVVpLkRFRkFVTFRfTU9ERX19LHtrZXk6XCJtYXRjaEFUTlwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXRuLm1vZGVUb1N0YXJ0U3RhdGVbdGhpcy5tb2RlXTtpLmRlYnVnJiZjb25zb2xlLmxvZyhcIm1hdGNoQVROIG1vZGUgXCIrdGhpcy5tb2RlK1wiIHN0YXJ0OiBcIitlKTt2YXIgbj10aGlzLm1vZGUscj10aGlzLmNvbXB1dGVTdGFydFN0YXRlKHQsZSksbz1yLmhhc1NlbWFudGljQ29udGV4dDtyLmhhc1NlbWFudGljQ29udGV4dD0hMTt2YXIgdT10aGlzLmFkZERGQVN0YXRlKHIpO298fCh0aGlzLmRlY2lzaW9uVG9ERkFbdGhpcy5tb2RlXS5zMD11KTt2YXIgYz10aGlzLmV4ZWNBVE4odCx1KTtyZXR1cm4gaS5kZWJ1ZyYmY29uc29sZS5sb2coXCJERkEgYWZ0ZXIgbWF0Y2hBVE46IFwiK3RoaXMuZGVjaXNpb25Ub0RGQVtuXS50b0xleGVyU3RyaW5nKCkpLGN9fSx7a2V5OlwiZXhlY0FUTlwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aS5kZWJ1ZyYmY29uc29sZS5sb2coXCJzdGFydCBzdGF0ZSBjbG9zdXJlPVwiK2UuY29uZmlncyksZS5pc0FjY2VwdFN0YXRlJiZ0aGlzLmNhcHR1cmVTaW1TdGF0ZSh0aGlzLnByZXZBY2NlcHQsdCxlKTtmb3IodmFyIG49dC5MQSgxKSxyPWU7Oyl7aS5kZWJ1ZyYmY29uc29sZS5sb2coXCJleGVjQVROIGxvb3Agc3RhcnRpbmcgY2xvc3VyZTogXCIrci5jb25maWdzKTt2YXIgdT10aGlzLmdldEV4aXN0aW5nVGFyZ2V0U3RhdGUocixuKTtpZihudWxsPT09dSYmKHU9dGhpcy5jb21wdXRlVGFyZ2V0U3RhdGUodCxyLG4pKSx1PT09SmkuRVJST1IpYnJlYWs7aWYobiE9PW8uRU9GJiZ0aGlzLmNvbnN1bWUodCksdS5pc0FjY2VwdFN0YXRlJiYodGhpcy5jYXB0dXJlU2ltU3RhdGUodGhpcy5wcmV2QWNjZXB0LHQsdSksbj09PW8uRU9GKSlicmVhaztuPXQuTEEoMSkscj11fXJldHVybiB0aGlzLmZhaWxPckFjY2VwdCh0aGlzLnByZXZBY2NlcHQsdCxyLmNvbmZpZ3Msbil9fSx7a2V5OlwiZ2V0RXhpc3RpbmdUYXJnZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PXQuZWRnZXN8fGU8aS5NSU5fREZBX0VER0V8fGU+aS5NQVhfREZBX0VER0UpcmV0dXJuIG51bGw7dmFyIG49dC5lZGdlc1tlLWkuTUlOX0RGQV9FREdFXTtyZXR1cm4gdm9pZCAwPT09biYmKG49bnVsbCksaS5kZWJ1ZyYmbnVsbCE9PW4mJmNvbnNvbGUubG9nKFwicmV1c2Ugc3RhdGUgXCIrdC5zdGF0ZU51bWJlcitcIiBlZGdlIHRvIFwiK24uc3RhdGVOdW1iZXIpLG59fSx7a2V5OlwiY29tcHV0ZVRhcmdldFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBldTtyZXR1cm4gdGhpcy5nZXRSZWFjaGFibGVDb25maWdTZXQodCxlLmNvbmZpZ3MscixuKSwwPT09ci5pdGVtcy5sZW5ndGg/KHIuaGFzU2VtYW50aWNDb250ZXh0fHx0aGlzLmFkZERGQUVkZ2UoZSxuLEppLkVSUk9SKSxKaS5FUlJPUik6dGhpcy5hZGRERkFFZGdlKGUsbixudWxsLHIpfX0se2tleTpcImZhaWxPckFjY2VwdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2lmKG51bGwhPT10aGlzLnByZXZBY2NlcHQuZGZhU3RhdGUpe3ZhciBpPXQuZGZhU3RhdGUubGV4ZXJBY3Rpb25FeGVjdXRvcjtyZXR1cm4gdGhpcy5hY2NlcHQoZSxpLHRoaXMuc3RhcnRJbmRleCx0LmluZGV4LHQubGluZSx0LmNvbHVtbiksdC5kZmFTdGF0ZS5wcmVkaWN0aW9ufWlmKHI9PT1vLkVPRiYmZS5pbmRleD09PXRoaXMuc3RhcnRJbmRleClyZXR1cm4gby5FT0Y7dGhyb3cgbmV3IElpKHRoaXMucmVjb2csZSx0aGlzLnN0YXJ0SW5kZXgsbil9fSx7a2V5OlwiZ2V0UmVhY2hhYmxlQ29uZmlnU2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciB1PUZlLklOVkFMSURfQUxUX05VTUJFUixjPTA7YzxlLml0ZW1zLmxlbmd0aDtjKyspe3ZhciBhPWUuaXRlbXNbY10sbD1hLmFsdD09PXU7aWYoIWx8fCFhLnBhc3NlZFRocm91Z2hOb25HcmVlZHlEZWNpc2lvbil7aS5kZWJ1ZyYmY29uc29sZS5sb2coXCJ0ZXN0aW5nICVzIGF0ICVzXFxuXCIsdGhpcy5nZXRUb2tlbk5hbWUociksYS50b1N0cmluZyh0aGlzLnJlY29nLCEwKSk7Zm9yKHZhciBzPTA7czxhLnN0YXRlLnRyYW5zaXRpb25zLmxlbmd0aDtzKyspe3ZhciBmPWEuc3RhdGUudHJhbnNpdGlvbnNbc10scD10aGlzLmdldFJlYWNoYWJsZVRhcmdldChmLHIpO2lmKG51bGwhPT1wKXt2YXIgeT1hLmxleGVyQWN0aW9uRXhlY3V0b3I7bnVsbCE9PXkmJih5PXkuZml4T2Zmc2V0QmVmb3JlTWF0Y2godC5pbmRleC10aGlzLnN0YXJ0SW5kZXgpKTt2YXIgaD1yPT09by5FT0YsYj1uZXcgbHUoe3N0YXRlOnAsbGV4ZXJBY3Rpb25FeGVjdXRvcjp5fSxhKTt0aGlzLmNsb3N1cmUodCxiLG4sbCwhMCxoKSYmKHU9YS5hbHQpfX19fX19LHtrZXk6XCJhY2NlcHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8sdSl7aS5kZWJ1ZyYmY29uc29sZS5sb2coXCJBQ1RJT04gJXNcXG5cIixlKSx0LnNlZWsociksdGhpcy5saW5lPW8sdGhpcy5jb2x1bW49dSxudWxsIT09ZSYmbnVsbCE9PXRoaXMucmVjb2cmJmUuZXhlY3V0ZSh0aGlzLnJlY29nLHQsbil9fSx7a2V5OlwiZ2V0UmVhY2hhYmxlVGFyZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXRjaGVzKGUsMCxVaS5NQVhfQ0hBUl9WQUxVRSk/dC50YXJnZXQ6bnVsbH19LHtrZXk6XCJjb21wdXRlU3RhcnRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW9lLkVNUFRZLHI9bmV3IGV1LG89MDtvPGUudHJhbnNpdGlvbnMubGVuZ3RoO28rKyl7dmFyIGk9ZS50cmFuc2l0aW9uc1tvXS50YXJnZXQsdT1uZXcgbHUoe3N0YXRlOmksYWx0Om8rMSxjb250ZXh0Om59LG51bGwpO3RoaXMuY2xvc3VyZSh0LHUsciwhMSwhMSwhMSl9cmV0dXJuIHJ9fSx7a2V5OlwiY2xvc3VyZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyx1KXt2YXIgYz1udWxsO2lmKGkuZGVidWcmJmNvbnNvbGUubG9nKFwiY2xvc3VyZShcIitlLnRvU3RyaW5nKHRoaXMucmVjb2csITApK1wiKVwiKSxlLnN0YXRlIGluc3RhbmNlb2YgJCl7aWYoaS5kZWJ1ZyYmKG51bGwhPT10aGlzLnJlY29nP2NvbnNvbGUubG9nKFwiY2xvc3VyZSBhdCAlcyBydWxlIHN0b3AgJXNcXG5cIix0aGlzLnJlY29nLnJ1bGVOYW1lc1tlLnN0YXRlLnJ1bGVJbmRleF0sZSk6Y29uc29sZS5sb2coXCJjbG9zdXJlIGF0IHJ1bGUgc3RvcCAlc1xcblwiLGUpKSxudWxsPT09ZS5jb250ZXh0fHxlLmNvbnRleHQuaGFzRW1wdHlQYXRoKCkpe2lmKG51bGw9PT1lLmNvbnRleHR8fGUuY29udGV4dC5pc0VtcHR5KCkpcmV0dXJuIG4uYWRkKGUpLCEwO24uYWRkKG5ldyBsdSh7c3RhdGU6ZS5zdGF0ZSxjb250ZXh0Om9lLkVNUFRZfSxlKSkscj0hMH1pZihudWxsIT09ZS5jb250ZXh0JiYhZS5jb250ZXh0LmlzRW1wdHkoKSlmb3IodmFyIGE9MDthPGUuY29udGV4dC5sZW5ndGg7YSsrKWlmKGUuY29udGV4dC5nZXRSZXR1cm5TdGF0ZShhKSE9PW9lLkVNUFRZX1JFVFVSTl9TVEFURSl7dmFyIGw9ZS5jb250ZXh0LmdldFBhcmVudChhKSxzPXRoaXMuYXRuLnN0YXRlc1tlLmNvbnRleHQuZ2V0UmV0dXJuU3RhdGUoYSldO2M9bmV3IGx1KHtzdGF0ZTpzLGNvbnRleHQ6bH0sZSkscj10aGlzLmNsb3N1cmUodCxjLG4scixvLHUpfXJldHVybiByfWUuc3RhdGUuZXBzaWxvbk9ubHlUcmFuc2l0aW9uc3x8ciYmZS5wYXNzZWRUaHJvdWdoTm9uR3JlZWR5RGVjaXNpb258fG4uYWRkKGUpO2Zvcih2YXIgZj0wO2Y8ZS5zdGF0ZS50cmFuc2l0aW9ucy5sZW5ndGg7ZisrKXt2YXIgcD1lLnN0YXRlLnRyYW5zaXRpb25zW2ZdO251bGwhPT0oYz10aGlzLmdldEVwc2lsb25UYXJnZXQodCxlLHAsbixvLHUpKSYmKHI9dGhpcy5jbG9zdXJlKHQsYyxuLHIsbyx1KSl9cmV0dXJuIHJ9fSx7a2V5OlwiZ2V0RXBzaWxvblRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsdSxjKXt2YXIgYT1udWxsO2lmKG4uc2VyaWFsaXphdGlvblR5cGU9PT10dC5SVUxFKXt2YXIgbD12ZS5jcmVhdGUoZS5jb250ZXh0LG4uZm9sbG93U3RhdGUuc3RhdGVOdW1iZXIpO2E9bmV3IGx1KHtzdGF0ZTpuLnRhcmdldCxjb250ZXh0Omx9LGUpfWVsc2V7aWYobi5zZXJpYWxpemF0aW9uVHlwZT09PXR0LlBSRUNFREVOQ0UpdGhyb3dcIlByZWNlZGVuY2UgcHJlZGljYXRlcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBsZXhlcnMuXCI7aWYobi5zZXJpYWxpemF0aW9uVHlwZT09PXR0LlBSRURJQ0FURSlpLmRlYnVnJiZjb25zb2xlLmxvZyhcIkVWQUwgcnVsZSBcIituLnJ1bGVJbmRleCtcIjpcIituLnByZWRJbmRleCksci5oYXNTZW1hbnRpY0NvbnRleHQ9ITAsdGhpcy5ldmFsdWF0ZVByZWRpY2F0ZSh0LG4ucnVsZUluZGV4LG4ucHJlZEluZGV4LHUpJiYoYT1uZXcgbHUoe3N0YXRlOm4udGFyZ2V0fSxlKSk7ZWxzZSBpZihuLnNlcmlhbGl6YXRpb25UeXBlPT09dHQuQUNUSU9OKWlmKG51bGw9PT1lLmNvbnRleHR8fGUuY29udGV4dC5oYXNFbXB0eVBhdGgoKSl7dmFyIHM9ZHUuYXBwZW5kKGUubGV4ZXJBY3Rpb25FeGVjdXRvcix0aGlzLmF0bi5sZXhlckFjdGlvbnNbbi5hY3Rpb25JbmRleF0pO2E9bmV3IGx1KHtzdGF0ZTpuLnRhcmdldCxsZXhlckFjdGlvbkV4ZWN1dG9yOnN9LGUpfWVsc2UgYT1uZXcgbHUoe3N0YXRlOm4udGFyZ2V0fSxlKTtlbHNlIG4uc2VyaWFsaXphdGlvblR5cGU9PT10dC5FUFNJTE9OP2E9bmV3IGx1KHtzdGF0ZTpuLnRhcmdldH0sZSk6bi5zZXJpYWxpemF0aW9uVHlwZSE9PXR0LkFUT00mJm4uc2VyaWFsaXphdGlvblR5cGUhPT10dC5SQU5HRSYmbi5zZXJpYWxpemF0aW9uVHlwZSE9PXR0LlNFVHx8YyYmbi5tYXRjaGVzKG8uRU9GLDAsVWkuTUFYX0NIQVJfVkFMVUUpJiYoYT1uZXcgbHUoe3N0YXRlOm4udGFyZ2V0fSxlKSl9cmV0dXJuIGF9fSx7a2V5OlwiZXZhbHVhdGVQcmVkaWNhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtpZihudWxsPT09dGhpcy5yZWNvZylyZXR1cm4hMDtpZighcilyZXR1cm4gdGhpcy5yZWNvZy5zZW1wcmVkKG51bGwsZSxuKTt2YXIgbz10aGlzLmNvbHVtbixpPXRoaXMubGluZSx1PXQuaW5kZXgsYz10Lm1hcmsoKTt0cnl7cmV0dXJuIHRoaXMuY29uc3VtZSh0KSx0aGlzLnJlY29nLnNlbXByZWQobnVsbCxlLG4pfWZpbmFsbHl7dGhpcy5jb2x1bW49byx0aGlzLmxpbmU9aSx0LnNlZWsodSksdC5yZWxlYXNlKGMpfX19LHtrZXk6XCJjYXB0dXJlU2ltU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dC5pbmRleD1lLmluZGV4LHQubGluZT10aGlzLmxpbmUsdC5jb2x1bW49dGhpcy5jb2x1bW4sdC5kZmFTdGF0ZT1ufX0se2tleTpcImFkZERGQUVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtpZih2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1yJiYocj1udWxsKSxudWxsPT09biYmbnVsbCE9PXIpe3ZhciBvPXIuaGFzU2VtYW50aWNDb250ZXh0O2lmKHIuaGFzU2VtYW50aWNDb250ZXh0PSExLG49dGhpcy5hZGRERkFTdGF0ZShyKSxvKXJldHVybiBufXJldHVybiBlPGkuTUlOX0RGQV9FREdFfHxlPmkuTUFYX0RGQV9FREdFfHwoaS5kZWJ1ZyYmY29uc29sZS5sb2coXCJFREdFIFwiK3QrXCIgLT4gXCIrbitcIiB1cG9uIFwiK2UpLG51bGw9PT10LmVkZ2VzJiYodC5lZGdlcz1bXSksdC5lZGdlc1tlLWkuTUlOX0RGQV9FREdFXT1uKSxufX0se2tleTpcImFkZERGQVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBXaShudWxsLHQpLG49bnVsbCxyPTA7cjx0Lml0ZW1zLmxlbmd0aDtyKyspe3ZhciBvPXQuaXRlbXNbcl07aWYoby5zdGF0ZSBpbnN0YW5jZW9mICQpe249bzticmVha319bnVsbCE9PW4mJihlLmlzQWNjZXB0U3RhdGU9ITAsZS5sZXhlckFjdGlvbkV4ZWN1dG9yPW4ubGV4ZXJBY3Rpb25FeGVjdXRvcixlLnByZWRpY3Rpb249dGhpcy5hdG4ucnVsZVRvVG9rZW5UeXBlW24uc3RhdGUucnVsZUluZGV4XSk7dmFyIGk9dGhpcy5kZWNpc2lvblRvREZBW3RoaXMubW9kZV0sdT1pLnN0YXRlcy5nZXQoZSk7aWYobnVsbCE9PXUpcmV0dXJuIHU7dmFyIGM9ZTtyZXR1cm4gYy5zdGF0ZU51bWJlcj1pLnN0YXRlcy5sZW5ndGgsdC5zZXRSZWFkb25seSghMCksYy5jb25maWdzPXQsaS5zdGF0ZXMuYWRkKGMpLGN9fSx7a2V5OlwiZ2V0REZBXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGVjaXNpb25Ub0RGQVt0XX19LHtrZXk6XCJnZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0VGV4dCh0aGlzLnN0YXJ0SW5kZXgsdC5pbmRleC0xKX19LHtrZXk6XCJjb25zdW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5MQSgxKT09PVwiXFxuXCIuY2hhckNvZGVBdCgwKT8odGhpcy5saW5lKz0xLHRoaXMuY29sdW1uPTApOnRoaXMuY29sdW1uKz0xLHQuY29uc3VtZSgpfX0se2tleTpcImdldFRva2VuTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybi0xPT09dD9cIkVPRlwiOlwiJ1wiK1N0cmluZy5mcm9tQ2hhckNvZGUodCkrXCInXCJ9fV0pLGl9KEppKTtmdW5jdGlvbiBrdSh0KXtyZXR1cm4ga3U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sa3UodCl9ZnVuY3Rpb24ganUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWt1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWt1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWt1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31FdS5kZWJ1Zz0hMSxFdS5kZmFfZGVidWc9ITEsRXUuTUlOX0RGQV9FREdFPTAsRXUuTUFYX0RGQV9FREdFPTEyNzt2YXIgeHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmFsdD1uLHRoaXMucHJlZD1lfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIihcIit0aGlzLnByZWQrXCIsIFwiK3RoaXMuYWx0K1wiKVwifX1dKSYmanUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIFJ1KHQpe3JldHVybiBSdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxSdSh0KX1mdW5jdGlvbiBDdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09UnUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09UnUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09UnUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBBdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuZGF0YT17fX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhW1wiay1cIit0XXx8bnVsbH19LHtrZXk6XCJzZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZGF0YVtcImstXCIrdF09ZX19LHtrZXk6XCJ2YWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFwiay1cIil9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhW2VdfSksdGhpcyl9fV0pJiZDdShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCksTnU9e1NMTDowLExMOjEsTExfRVhBQ1RfQU1CSUdfREVURUNUSU9OOjIsaGFzU0xMQ29uZmxpY3RUZXJtaW5hdGluZ1ByZWRpY3Rpb246ZnVuY3Rpb24odCxlKXtpZihOdS5hbGxDb25maWdzSW5SdWxlU3RvcFN0YXRlcyhlKSlyZXR1cm4hMDtpZih0PT09TnUuU0xMJiZlLmhhc1NlbWFudGljQ29udGV4dCl7Zm9yKHZhciBuPW5ldyBLaSxyPTA7cjxlLml0ZW1zLmxlbmd0aDtyKyspe3ZhciBvPWUuaXRlbXNbcl07bz1uZXcgTCh7c2VtYW50aWNDb250ZXh0OmouTk9ORX0sbyksbi5hZGQobyl9ZT1ufXZhciBpPU51LmdldENvbmZsaWN0aW5nQWx0U3Vic2V0cyhlKTtyZXR1cm4gTnUuaGFzQ29uZmxpY3RpbmdBbHRTZXQoaSkmJiFOdS5oYXNTdGF0ZUFzc29jaWF0ZWRXaXRoT25lQWx0KGUpfSxoYXNDb25maWdJblJ1bGVTdG9wU3RhdGU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lml0ZW1zLmxlbmd0aDtlKyspaWYodC5pdGVtc1tlXS5zdGF0ZSBpbnN0YW5jZW9mICQpcmV0dXJuITA7cmV0dXJuITF9LGFsbENvbmZpZ3NJblJ1bGVTdG9wU3RhdGVzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5pdGVtcy5sZW5ndGg7ZSsrKWlmKCEodC5pdGVtc1tlXS5zdGF0ZSBpbnN0YW5jZW9mICQpKXJldHVybiExO3JldHVybiEwfSxyZXNvbHZlc1RvSnVzdE9uZVZpYWJsZUFsdDpmdW5jdGlvbih0KXtyZXR1cm4gTnUuZ2V0U2luZ2xlVmlhYmxlQWx0KHQpfSxhbGxTdWJzZXRzQ29uZmxpY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIU51Lmhhc05vbkNvbmZsaWN0aW5nQWx0U2V0KHQpfSxoYXNOb25Db25mbGljdGluZ0FsdFNldDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZigxPT09dFtlXS5sZW5ndGgpcmV0dXJuITA7cmV0dXJuITF9LGhhc0NvbmZsaWN0aW5nQWx0U2V0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0ubGVuZ3RoPjEpcmV0dXJuITA7cmV0dXJuITF9LGFsbFN1YnNldHNFcXVhbDpmdW5jdGlvbih0KXtmb3IodmFyIGU9bnVsbCxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07aWYobnVsbD09PWUpZT1yO2Vsc2UgaWYociE9PWUpcmV0dXJuITF9cmV0dXJuITB9LGdldFVuaXF1ZUFsdDpmdW5jdGlvbih0KXt2YXIgZT1OdS5nZXRBbHRzKHQpO3JldHVybiAxPT09ZS5sZW5ndGg/ZS5taW5WYWx1ZSgpOkZlLklOVkFMSURfQUxUX05VTUJFUn0sZ2V0QWx0czpmdW5jdGlvbih0KXt2YXIgZT1uZXcgQ2U7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtlLm9yKHQpfSkpLGV9LGdldENvbmZsaWN0aW5nQWx0U3Vic2V0czpmdW5jdGlvbih0KXt2YXIgZT1uZXcgVGU7cmV0dXJuIGUuaGFzaEZ1bmN0aW9uPWZ1bmN0aW9uKHQpe2YuaGFzaFN0dWZmKHQuc3RhdGUuc3RhdGVOdW1iZXIsdC5jb250ZXh0KX0sZS5lcXVhbHNGdW5jdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiB0LnN0YXRlLnN0YXRlTnVtYmVyPT09ZS5zdGF0ZS5zdGF0ZU51bWJlciYmdC5jb250ZXh0LmVxdWFscyhlLmNvbnRleHQpfSx0Lml0ZW1zLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZS5nZXQodCk7bnVsbD09PW4mJihuPW5ldyBDZSxlLnNldCh0LG4pKSxuLmFkZCh0LmFsdCl9KSksZS5nZXRWYWx1ZXMoKX0sZ2V0U3RhdGVUb0FsdE1hcDpmdW5jdGlvbih0KXt2YXIgZT1uZXcgQXU7cmV0dXJuIHQuaXRlbXMubWFwKChmdW5jdGlvbih0KXt2YXIgbj1lLmdldCh0LnN0YXRlKTtudWxsPT09biYmKG49bmV3IENlLGUuc2V0KHQuc3RhdGUsbikpLG4uYWRkKHQuYWx0KX0pKSxlfSxoYXNTdGF0ZUFzc29jaWF0ZWRXaXRoT25lQWx0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1OdS5nZXRTdGF0ZVRvQWx0TWFwKHQpLnZhbHVlcygpLG49MDtuPGUubGVuZ3RoO24rKylpZigxPT09ZVtuXS5sZW5ndGgpcmV0dXJuITA7cmV0dXJuITF9LGdldFNpbmdsZVZpYWJsZUFsdDpmdW5jdGlvbih0KXtmb3IodmFyIGU9bnVsbCxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0ubWluVmFsdWUoKTtpZihudWxsPT09ZSllPXI7ZWxzZSBpZihlIT09cilyZXR1cm4gRmUuSU5WQUxJRF9BTFRfTlVNQkVSfXJldHVybiBlfX07Y29uc3QgSXU9TnU7ZnVuY3Rpb24gTHUodCl7cmV0dXJuIEx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEx1KHQpfWZ1bmN0aW9uIER1KHQsZSl7cmV0dXJuIER1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sRHUodCxlKX1mdW5jdGlvbiBGdSh0KXtyZXR1cm4gRnU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEZ1KHQpfXZhciBCdT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmRHUodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9RnUobik7aWYocil7dmFyIG89RnUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1MdShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkodCxlLG4scix1LGMpe3ZhciBhO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksYz1jfHx0Ll9jdHgscj1yfHx0LmdldEN1cnJlbnRUb2tlbigpLG49bnx8dC5nZXRDdXJyZW50VG9rZW4oKSxlPWV8fHQuZ2V0SW5wdXRTdHJlYW0oKSwoYT1vLmNhbGwodGhpcyx7bWVzc2FnZTpcIlwiLHJlY29nbml6ZXI6dCxpbnB1dDplLGN0eDpjfSkpLmRlYWRFbmRDb25maWdzPXUsYS5zdGFydFRva2VuPW4sYS5vZmZlbmRpbmdUb2tlbj1yLGF9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KHhpKTtmdW5jdGlvbiBNdSh0KXtyZXR1cm4gTXU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTXUodCl9ZnVuY3Rpb24gVXUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PU11KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PU11KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PU11KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgVnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5kZWZhdWx0TWFwQ3Rvcj1lfHxUZSx0aGlzLmNhY2hlTWFwPW5ldyB0aGlzLmRlZmF1bHRNYXBDdG9yfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jYWNoZU1hcC5nZXQodCl8fG51bGw7cmV0dXJuIG51bGw9PT1uP251bGw6bi5nZXQoZSl8fG51bGx9fSx7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuY2FjaGVNYXAuZ2V0KHQpfHxudWxsO251bGw9PT1yJiYocj1uZXcgdGhpcy5kZWZhdWx0TWFwQ3Rvcix0aGlzLmNhY2hlTWFwLnNldCh0LHIpKSxyLnNldChlLG4pfX1dKSYmVXUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIHp1KHQpe3JldHVybiB6dT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx6dSh0KX1mdW5jdGlvbiBxdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09enUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09enUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09enUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEh1KHQsZSl7cmV0dXJuIEh1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sSHUodCxlKX1mdW5jdGlvbiBLdSh0KXtyZXR1cm4gS3U9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEt1KHQpfXZhciBZdT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSHUodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1LdShyKTtpZihpKXt2YXIgbj1LdSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXp1KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0LGUsbixyKXt2YXIgbztyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChvPXUuY2FsbCh0aGlzLGUscikpLnBhcnNlcj10LG8uZGVjaXNpb25Ub0RGQT1uLG8ucHJlZGljdGlvbk1vZGU9SXUuTEwsby5faW5wdXQ9bnVsbCxvLl9zdGFydEluZGV4PTAsby5fb3V0ZXJDb250ZXh0PW51bGwsby5fZGZhPW51bGwsby5tZXJnZUNhY2hlPW51bGwsby5kZWJ1Zz0hMSxvLmRlYnVnX2Nsb3N1cmU9ITEsby5kZWJ1Z19hZGQ9ITEsby50cmFjZV9hdG5fc2ltPSExLG8uZGZhX2RlYnVnPSExLG8ucmV0cnlfZGVidWc9ITEsb31yZXR1cm4gZT1jLG49W3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcImFkYXB0aXZlUHJlZGljdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXsodGhpcy5kZWJ1Z3x8dGhpcy50cmFjZV9hdG5fc2ltKSYmY29uc29sZS5sb2coXCJhZGFwdGl2ZVByZWRpY3QgZGVjaXNpb24gXCIrZStcIiBleGVjIExBKDEpPT1cIit0aGlzLmdldExvb2thaGVhZE5hbWUodCkrXCIgbGluZSBcIit0LkxUKDEpLmxpbmUrXCI6XCIrdC5MVCgxKS5jb2x1bW4pLHRoaXMuX2lucHV0PXQsdGhpcy5fc3RhcnRJbmRleD10LmluZGV4LHRoaXMuX291dGVyQ29udGV4dD1uO3ZhciByPXRoaXMuZGVjaXNpb25Ub0RGQVtlXTt0aGlzLl9kZmE9cjt2YXIgbz10Lm1hcmsoKSxpPXQuaW5kZXg7dHJ5e3ZhciB1O2lmKG51bGw9PT0odT1yLnByZWNlZGVuY2VEZmE/ci5nZXRQcmVjZWRlbmNlU3RhcnRTdGF0ZSh0aGlzLnBhcnNlci5nZXRQcmVjZWRlbmNlKCkpOnIuczApKXtudWxsPT09biYmKG49ZWUuRU1QVFkpLHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwicHJlZGljdEFUTiBkZWNpc2lvbiBcIityLmRlY2lzaW9uK1wiIGV4ZWMgTEEoMSk9PVwiK3RoaXMuZ2V0TG9va2FoZWFkTmFtZSh0KStcIiwgb3V0ZXJDb250ZXh0PVwiK24udG9TdHJpbmcodGhpcy5wYXJzZXIucnVsZU5hbWVzKSk7dmFyIGM9dGhpcy5jb21wdXRlU3RhcnRTdGF0ZShyLmF0blN0YXJ0U3RhdGUsZWUuRU1QVFksITEpO3IucHJlY2VkZW5jZURmYT8oci5zMC5jb25maWdzPWMsYz10aGlzLmFwcGx5UHJlY2VkZW5jZUZpbHRlcihjKSx1PXRoaXMuYWRkREZBU3RhdGUocixuZXcgV2kobnVsbCxjKSksci5zZXRQcmVjZWRlbmNlU3RhcnRTdGF0ZSh0aGlzLnBhcnNlci5nZXRQcmVjZWRlbmNlKCksdSkpOih1PXRoaXMuYWRkREZBU3RhdGUocixuZXcgV2kobnVsbCxjKSksci5zMD11KX12YXIgYT10aGlzLmV4ZWNBVE4ocix1LHQsaSxuKTtyZXR1cm4gdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJERkEgYWZ0ZXIgcHJlZGljdEFUTjogXCIrci50b1N0cmluZyh0aGlzLnBhcnNlci5saXRlcmFsTmFtZXMsdGhpcy5wYXJzZXIuc3ltYm9saWNOYW1lcykpLGF9ZmluYWxseXt0aGlzLl9kZmE9bnVsbCx0aGlzLm1lcmdlQ2FjaGU9bnVsbCx0LnNlZWsoaSksdC5yZWxlYXNlKG8pfX19LHtrZXk6XCJleGVjQVROXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgdTsodGhpcy5kZWJ1Z3x8dGhpcy50cmFjZV9hdG5fc2ltKSYmY29uc29sZS5sb2coXCJleGVjQVROIGRlY2lzaW9uIFwiK3QuZGVjaXNpb24rXCIsIERGQSBzdGF0ZSBcIitlK1wiLCBMQSgxKT09XCIrdGhpcy5nZXRMb29rYWhlYWROYW1lKG4pK1wiIGxpbmUgXCIrbi5MVCgxKS5saW5lK1wiOlwiK24uTFQoMSkuY29sdW1uKTt2YXIgYz1lO3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiczAgPSBcIitlKTtmb3IodmFyIGE9bi5MQSgxKTs7KXt2YXIgbD10aGlzLmdldEV4aXN0aW5nVGFyZ2V0U3RhdGUoYyxhKTtpZihudWxsPT09bCYmKGw9dGhpcy5jb21wdXRlVGFyZ2V0U3RhdGUodCxjLGEpKSxsPT09SmkuRVJST1Ipe3ZhciBzPXRoaXMubm9WaWFibGVBbHQobixpLGMuY29uZmlncyxyKTtpZihuLnNlZWsociksKHU9dGhpcy5nZXRTeW5WYWxpZE9yU2VtSW52YWxpZEFsdFRoYXRGaW5pc2hlZERlY2lzaW9uRW50cnlSdWxlKGMuY29uZmlncyxpKSkhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVIpcmV0dXJuIHU7dGhyb3cgc31pZihsLnJlcXVpcmVzRnVsbENvbnRleHQmJnRoaXMucHJlZGljdGlvbk1vZGUhPT1JdS5TTEwpe3ZhciBmPW51bGw7aWYobnVsbCE9PWwucHJlZGljYXRlcyl7dGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJERkEgc3RhdGUgaGFzIHByZWRzIGluIERGQSBzaW0gTEwgZmFpbG92ZXJcIik7dmFyIHA9bi5pbmRleDtpZihwIT09ciYmbi5zZWVrKHIpLDE9PT0oZj10aGlzLmV2YWxTZW1hbnRpY0NvbnRleHQobC5wcmVkaWNhdGVzLGksITApKS5sZW5ndGgpcmV0dXJuIHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiRnVsbCBMTCBhdm9pZGVkXCIpLGYubWluVmFsdWUoKTtwIT09ciYmbi5zZWVrKHApfXRoaXMuZGZhX2RlYnVnJiZjb25zb2xlLmxvZyhcImN0eCBzZW5zaXRpdmUgc3RhdGUgXCIraStcIiBpbiBcIitsKTt2YXIgeT10aGlzLmNvbXB1dGVTdGFydFN0YXRlKHQuYXRuU3RhcnRTdGF0ZSxpLCEwKTtyZXR1cm4gdGhpcy5yZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHQodCxmLGwuY29uZmlncyxyLG4uaW5kZXgpLHRoaXMuZXhlY0FUTldpdGhGdWxsQ29udGV4dCh0LGwseSxuLHIsaSl9aWYobC5pc0FjY2VwdFN0YXRlKXtpZihudWxsPT09bC5wcmVkaWNhdGVzKXJldHVybiBsLnByZWRpY3Rpb247dmFyIGg9bi5pbmRleDtuLnNlZWsocik7dmFyIGI9dGhpcy5ldmFsU2VtYW50aWNDb250ZXh0KGwucHJlZGljYXRlcyxpLCEwKTtpZigwPT09Yi5sZW5ndGgpdGhyb3cgdGhpcy5ub1ZpYWJsZUFsdChuLGksbC5jb25maWdzLHIpO3JldHVybiAxPT09Yi5sZW5ndGh8fHRoaXMucmVwb3J0QW1iaWd1aXR5KHQsbCxyLGgsITEsYixsLmNvbmZpZ3MpLGIubWluVmFsdWUoKX1jPWwsYSE9PW8uRU9GJiYobi5jb25zdW1lKCksYT1uLkxBKDEpKX19fSx7a2V5OlwiZ2V0RXhpc3RpbmdUYXJnZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5lZGdlcztyZXR1cm4gbnVsbD09PW4/bnVsbDpuW2UrMV18fG51bGx9fSx7a2V5OlwiY29tcHV0ZVRhcmdldFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuY29tcHV0ZVJlYWNoU2V0KGUuY29uZmlncyxuLCExKTtpZihudWxsPT09cilyZXR1cm4gdGhpcy5hZGRERkFFZGdlKHQsZSxuLEppLkVSUk9SKSxKaS5FUlJPUjt2YXIgbz1uZXcgV2kobnVsbCxyKSxpPXRoaXMuZ2V0VW5pcXVlQWx0KHIpO2lmKHRoaXMuZGVidWcpe3ZhciB1PUl1LmdldENvbmZsaWN0aW5nQWx0U3Vic2V0cyhyKTtjb25zb2xlLmxvZyhcIlNMTCBhbHRTdWJTZXRzPVwiK2IodSkrXCIsIGNvbmZpZ3M9XCIrcitcIiwgcHJlZGljdD1cIitpK1wiLCBhbGxTdWJzZXRzQ29uZmxpY3Q9XCIrSXUuYWxsU3Vic2V0c0NvbmZsaWN0KHUpK1wiLCBjb25mbGljdGluZ0FsdHM9XCIrdGhpcy5nZXRDb25mbGljdGluZ0FsdHMocikpfXJldHVybiBpIT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSPyhvLmlzQWNjZXB0U3RhdGU9ITAsby5jb25maWdzLnVuaXF1ZUFsdD1pLG8ucHJlZGljdGlvbj1pKTpJdS5oYXNTTExDb25mbGljdFRlcm1pbmF0aW5nUHJlZGljdGlvbih0aGlzLnByZWRpY3Rpb25Nb2RlLHIpJiYoby5jb25maWdzLmNvbmZsaWN0aW5nQWx0cz10aGlzLmdldENvbmZsaWN0aW5nQWx0cyhyKSxvLnJlcXVpcmVzRnVsbENvbnRleHQ9ITAsby5pc0FjY2VwdFN0YXRlPSEwLG8ucHJlZGljdGlvbj1vLmNvbmZpZ3MuY29uZmxpY3RpbmdBbHRzLm1pblZhbHVlKCkpLG8uaXNBY2NlcHRTdGF0ZSYmby5jb25maWdzLmhhc1NlbWFudGljQ29udGV4dCYmKHRoaXMucHJlZGljYXRlREZBU3RhdGUobyx0aGlzLmF0bi5nZXREZWNpc2lvblN0YXRlKHQuZGVjaXNpb24pKSxudWxsIT09by5wcmVkaWNhdGVzJiYoby5wcmVkaWN0aW9uPUZlLklOVkFMSURfQUxUX05VTUJFUikpLHRoaXMuYWRkREZBRWRnZSh0LGUsbixvKX19LHtrZXk6XCJwcmVkaWNhdGVERkFTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS50cmFuc2l0aW9ucy5sZW5ndGgscj10aGlzLmdldENvbmZsaWN0aW5nQWx0c09yVW5pcXVlQWx0KHQuY29uZmlncyksbz10aGlzLmdldFByZWRzRm9yQW1iaWdBbHRzKHIsdC5jb25maWdzLG4pO251bGwhPT1vPyh0LnByZWRpY2F0ZXM9dGhpcy5nZXRQcmVkaWNhdGVQcmVkaWN0aW9ucyhyLG8pLHQucHJlZGljdGlvbj1GZS5JTlZBTElEX0FMVF9OVU1CRVIpOnQucHJlZGljdGlvbj1yLm1pblZhbHVlKCl9fSx7a2V5OlwiZXhlY0FUTldpdGhGdWxsQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSx1KXsodGhpcy5kZWJ1Z3x8dGhpcy50cmFjZV9hdG5fc2ltKSYmY29uc29sZS5sb2coXCJleGVjQVROV2l0aEZ1bGxDb250ZXh0IFwiK24pO3ZhciBjLGE9ITEsbD1uO3Iuc2VlayhpKTtmb3IodmFyIHM9ci5MQSgxKSxmPS0xOzspe2lmKG51bGw9PT0oYz10aGlzLmNvbXB1dGVSZWFjaFNldChsLHMsITApKSl7dmFyIHA9dGhpcy5ub1ZpYWJsZUFsdChyLHUsbCxpKTtyLnNlZWsoaSk7dmFyIHk9dGhpcy5nZXRTeW5WYWxpZE9yU2VtSW52YWxpZEFsdFRoYXRGaW5pc2hlZERlY2lzaW9uRW50cnlSdWxlKGwsdSk7aWYoeSE9PUZlLklOVkFMSURfQUxUX05VTUJFUilyZXR1cm4geTt0aHJvdyBwfXZhciBoPUl1LmdldENvbmZsaWN0aW5nQWx0U3Vic2V0cyhjKTtpZih0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkxMIGFsdFN1YlNldHM9XCIraCtcIiwgcHJlZGljdD1cIitJdS5nZXRVbmlxdWVBbHQoaCkrXCIsIHJlc29sdmVzVG9KdXN0T25lVmlhYmxlQWx0PVwiK0l1LnJlc29sdmVzVG9KdXN0T25lVmlhYmxlQWx0KGgpKSxjLnVuaXF1ZUFsdD10aGlzLmdldFVuaXF1ZUFsdChjKSxjLnVuaXF1ZUFsdCE9PUZlLklOVkFMSURfQUxUX05VTUJFUil7Zj1jLnVuaXF1ZUFsdDticmVha31pZih0aGlzLnByZWRpY3Rpb25Nb2RlIT09SXUuTExfRVhBQ1RfQU1CSUdfREVURUNUSU9OKXtpZigoZj1JdS5yZXNvbHZlc1RvSnVzdE9uZVZpYWJsZUFsdChoKSkhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVIpYnJlYWt9ZWxzZSBpZihJdS5hbGxTdWJzZXRzQ29uZmxpY3QoaCkmJkl1LmFsbFN1YnNldHNFcXVhbChoKSl7YT0hMCxmPUl1LmdldFNpbmdsZVZpYWJsZUFsdChoKTticmVha31sPWMscyE9PW8uRU9GJiYoci5jb25zdW1lKCkscz1yLkxBKDEpKX1yZXR1cm4gYy51bmlxdWVBbHQhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVI/KHRoaXMucmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5KHQsZixjLGksci5pbmRleCksZik6KHRoaXMucmVwb3J0QW1iaWd1aXR5KHQsZSxpLHIuaW5kZXgsYSxudWxsLGMpLGYpfX0se2tleTpcImNvbXB1dGVSZWFjaFNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcImluIGNvbXB1dGVSZWFjaFNldCwgc3RhcnRpbmcgY2xvc3VyZTogXCIrdCksbnVsbD09PXRoaXMubWVyZ2VDYWNoZSYmKHRoaXMubWVyZ2VDYWNoZT1uZXcgVnUpO2Zvcih2YXIgcj1uZXcgS2kobiksaT1udWxsLHU9MDt1PHQuaXRlbXMubGVuZ3RoO3UrKyl7dmFyIGM9dC5pdGVtc1t1XTtpZih0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcInRlc3RpbmcgXCIrdGhpcy5nZXRUb2tlbk5hbWUoZSkrXCIgYXQgXCIrYyksYy5zdGF0ZSBpbnN0YW5jZW9mICQpKG58fGU9PT1vLkVPRikmJihudWxsPT09aSYmKGk9W10pLGkucHVzaChjKSx0aGlzLmRlYnVnX2FkZCYmY29uc29sZS5sb2coXCJhZGRlZCBcIitjK1wiIHRvIHNraXBwZWRTdG9wU3RhdGVzXCIpKTtlbHNlIGZvcih2YXIgYT0wO2E8Yy5zdGF0ZS50cmFuc2l0aW9ucy5sZW5ndGg7YSsrKXt2YXIgbD1jLnN0YXRlLnRyYW5zaXRpb25zW2FdLHM9dGhpcy5nZXRSZWFjaGFibGVUYXJnZXQobCxlKTtpZihudWxsIT09cyl7dmFyIGY9bmV3IEwoe3N0YXRlOnN9LGMpO3IuYWRkKGYsdGhpcy5tZXJnZUNhY2hlKSx0aGlzLmRlYnVnX2FkZCYmY29uc29sZS5sb2coXCJhZGRlZCBcIitmK1wiIHRvIGludGVybWVkaWF0ZVwiKX19fXZhciBwPW51bGw7aWYobnVsbD09PWkmJmUhPT1vLkVPRiYmKDE9PT1yLml0ZW1zLmxlbmd0aHx8dGhpcy5nZXRVbmlxdWVBbHQocikhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVIpJiYocD1yKSxudWxsPT09cCl7cD1uZXcgS2kobik7Zm9yKHZhciB5PW5ldyBnLGg9ZT09PW8uRU9GLGI9MDtiPHIuaXRlbXMubGVuZ3RoO2IrKyl0aGlzLmNsb3N1cmUoci5pdGVtc1tiXSxwLHksITEsbixoKX1pZihlPT09by5FT0YmJihwPXRoaXMucmVtb3ZlQWxsQ29uZmlnc05vdEluUnVsZVN0b3BTdGF0ZShwLHA9PT1yKSksIShudWxsPT09aXx8biYmSXUuaGFzQ29uZmlnSW5SdWxlU3RvcFN0YXRlKHApKSlmb3IodmFyIHY9MDt2PGkubGVuZ3RoO3YrKylwLmFkZChpW3ZdLHRoaXMubWVyZ2VDYWNoZSk7cmV0dXJuIHRoaXMudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJjb21wdXRlUmVhY2hTZXQgXCIrdCtcIiAtPiBcIitwKSwwPT09cC5pdGVtcy5sZW5ndGg/bnVsbDpwfX0se2tleTpcInJlbW92ZUFsbENvbmZpZ3NOb3RJblJ1bGVTdG9wU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKEl1LmFsbENvbmZpZ3NJblJ1bGVTdG9wU3RhdGVzKHQpKXJldHVybiB0O2Zvcih2YXIgbj1uZXcgS2kodC5mdWxsQ3R4KSxyPTA7cjx0Lml0ZW1zLmxlbmd0aDtyKyspe3ZhciBpPXQuaXRlbXNbcl07aWYoaS5zdGF0ZSBpbnN0YW5jZW9mICQpbi5hZGQoaSx0aGlzLm1lcmdlQ2FjaGUpO2Vsc2UgaWYoZSYmaS5zdGF0ZS5lcHNpbG9uT25seVRyYW5zaXRpb25zJiZ0aGlzLmF0bi5uZXh0VG9rZW5zKGkuc3RhdGUpLmNvbnRhaW5zKG8uRVBTSUxPTikpe3ZhciB1PXRoaXMuYXRuLnJ1bGVUb1N0b3BTdGF0ZVtpLnN0YXRlLnJ1bGVJbmRleF07bi5hZGQobmV3IEwoe3N0YXRlOnV9LGkpLHRoaXMubWVyZ2VDYWNoZSl9fXJldHVybiBufX0se2tleTpcImNvbXB1dGVTdGFydFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPUVlKHRoaXMuYXRuLGUpLG89bmV3IEtpKG4pO3RoaXMudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJjb21wdXRlU3RhcnRTdGF0ZSBmcm9tIEFUTiBzdGF0ZSBcIit0K1wiIGluaXRpYWxDb250ZXh0PVwiK3IudG9TdHJpbmcodGhpcy5wYXJzZXIpKTtmb3IodmFyIGk9MDtpPHQudHJhbnNpdGlvbnMubGVuZ3RoO2krKyl7dmFyIHU9dC50cmFuc2l0aW9uc1tpXS50YXJnZXQsYz1uZXcgTCh7c3RhdGU6dSxhbHQ6aSsxLGNvbnRleHQ6cn0sbnVsbCksYT1uZXcgZzt0aGlzLmNsb3N1cmUoYyxvLGEsITAsbiwhMSl9cmV0dXJuIG99fSx7a2V5OlwiYXBwbHlQcmVjZWRlbmNlRmlsdGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49W10scj1uZXcgS2kodC5mdWxsQ3R4KSxvPTA7bzx0Lml0ZW1zLmxlbmd0aDtvKyspaWYoMT09PShlPXQuaXRlbXNbb10pLmFsdCl7dmFyIGk9ZS5zZW1hbnRpY0NvbnRleHQuZXZhbFByZWNlZGVuY2UodGhpcy5wYXJzZXIsdGhpcy5fb3V0ZXJDb250ZXh0KTtudWxsIT09aSYmKG5bZS5zdGF0ZS5zdGF0ZU51bWJlcl09ZS5jb250ZXh0LGkhPT1lLnNlbWFudGljQ29udGV4dD9yLmFkZChuZXcgTCh7c2VtYW50aWNDb250ZXh0Oml9LGUpLHRoaXMubWVyZ2VDYWNoZSk6ci5hZGQoZSx0aGlzLm1lcmdlQ2FjaGUpKX1mb3IodmFyIHU9MDt1PHQuaXRlbXMubGVuZ3RoO3UrKylpZigxIT09KGU9dC5pdGVtc1t1XSkuYWx0KXtpZighZS5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZCl7dmFyIGM9bltlLnN0YXRlLnN0YXRlTnVtYmVyXXx8bnVsbDtpZihudWxsIT09YyYmYy5lcXVhbHMoZS5jb250ZXh0KSljb250aW51ZX1yLmFkZChlLHRoaXMubWVyZ2VDYWNoZSl9cmV0dXJuIHJ9fSx7a2V5OlwiZ2V0UmVhY2hhYmxlVGFyZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5tYXRjaGVzKGUsMCx0aGlzLmF0bi5tYXhUb2tlblR5cGUpP3QudGFyZ2V0Om51bGx9fSx7a2V5OlwiZ2V0UHJlZHNGb3JBbWJpZ0FsdHNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLG89MDtvPGUuaXRlbXMubGVuZ3RoO28rKyl7dmFyIGk9ZS5pdGVtc1tvXTt0LmhhcyhpLmFsdCkmJihyW2kuYWx0XT1qLm9yQ29udGV4dChyW2kuYWx0XXx8bnVsbCxpLnNlbWFudGljQ29udGV4dCkpfWZvcih2YXIgdT0wLGM9MTtjPG4rMTtjKyspe3ZhciBhPXJbY118fG51bGw7bnVsbD09PWE/cltjXT1qLk5PTkU6YSE9PWouTk9ORSYmKHUrPTEpfXJldHVybiAwPT09dSYmKHI9bnVsbCksdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJnZXRQcmVkc0ZvckFtYmlnQWx0cyByZXN1bHQgXCIrYihyKSkscn19LHtrZXk6XCJnZXRQcmVkaWNhdGVQcmVkaWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9ITEsbz0xO288ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO251bGwhPT10JiZ0LmhhcyhvKSYmbi5wdXNoKG5ldyB4dShpLG8pKSxpIT09ai5OT05FJiYocj0hMCl9cmV0dXJuIHI/bjpudWxsfX0se2tleTpcImdldFN5blZhbGlkT3JTZW1JbnZhbGlkQWx0VGhhdEZpbmlzaGVkRGVjaXNpb25FbnRyeVJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuc3BsaXRBY2NvcmRpbmdUb1NlbWFudGljVmFsaWRpdHkodCxlKSxyPW5bMF0sbz1uWzFdLGk9dGhpcy5nZXRBbHRUaGF0RmluaXNoZWREZWNpc2lvbkVudHJ5UnVsZShyKTtyZXR1cm4gaSE9PUZlLklOVkFMSURfQUxUX05VTUJFUnx8by5pdGVtcy5sZW5ndGg+MCYmKGk9dGhpcy5nZXRBbHRUaGF0RmluaXNoZWREZWNpc2lvbkVudHJ5UnVsZShvKSkhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVI/aTpGZS5JTlZBTElEX0FMVF9OVU1CRVJ9fSx7a2V5OlwiZ2V0QWx0VGhhdEZpbmlzaGVkRGVjaXNpb25FbnRyeVJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5pdGVtcy5sZW5ndGg7bisrKXt2YXIgcj10Lml0ZW1zW25dOyhyLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PjB8fHIuc3RhdGUgaW5zdGFuY2VvZiAkJiZyLmNvbnRleHQuaGFzRW1wdHlQYXRoKCkpJiZlLmluZGV4T2Yoci5hbHQpPDAmJmUucHVzaChyLmFsdCl9cmV0dXJuIDA9PT1lLmxlbmd0aD9GZS5JTlZBTElEX0FMVF9OVU1CRVI6TWF0aC5taW4uYXBwbHkobnVsbCxlKX19LHtrZXk6XCJzcGxpdEFjY29yZGluZ1RvU2VtYW50aWNWYWxpZGl0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBLaSh0LmZ1bGxDdHgpLHI9bmV3IEtpKHQuZnVsbEN0eCksbz0wO288dC5pdGVtcy5sZW5ndGg7bysrKXt2YXIgaT10Lml0ZW1zW29dO2kuc2VtYW50aWNDb250ZXh0IT09ai5OT05FP2kuc2VtYW50aWNDb250ZXh0LmV2YWx1YXRlKHRoaXMucGFyc2VyLGUpP24uYWRkKGkpOnIuYWRkKGkpOm4uYWRkKGkpfXJldHVybltuLHJdfX0se2tleTpcImV2YWxTZW1hbnRpY0NvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPW5ldyBDZSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBpPXRbb107aWYoaS5wcmVkIT09ai5OT05FKXt2YXIgdT1pLnByZWQuZXZhbHVhdGUodGhpcy5wYXJzZXIsZSk7aWYoKHRoaXMuZGVidWd8fHRoaXMuZGZhX2RlYnVnKSYmY29uc29sZS5sb2coXCJldmFsIHByZWQgXCIraStcIj1cIit1KSx1JiYoKHRoaXMuZGVidWd8fHRoaXMuZGZhX2RlYnVnKSYmY29uc29sZS5sb2coXCJQUkVESUNUIFwiK2kuYWx0KSxyLmFkZChpLmFsdCksIW4pKWJyZWFrfWVsc2UgaWYoci5hZGQoaS5hbHQpLCFuKWJyZWFrfXJldHVybiByfX0se2tleTpcImNsb3N1cmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7dGhpcy5jbG9zdXJlQ2hlY2tpbmdTdG9wU3RhdGUodCxlLG4scixvLDAsaSl9fSx7a2V5OlwiY2xvc3VyZUNoZWNraW5nU3RvcFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGksdSl7aWYoKHRoaXMudHJhY2VfYXRuX3NpbXx8dGhpcy5kZWJ1Z19jbG9zdXJlKSYmY29uc29sZS5sb2coXCJjbG9zdXJlKFwiK3QudG9TdHJpbmcodGhpcy5wYXJzZXIsITApK1wiKVwiKSx0LnN0YXRlIGluc3RhbmNlb2YgJCl7aWYoIXQuY29udGV4dC5pc0VtcHR5KCkpe2Zvcih2YXIgYz0wO2M8dC5jb250ZXh0Lmxlbmd0aDtjKyspaWYodC5jb250ZXh0LmdldFJldHVyblN0YXRlKGMpIT09b2UuRU1QVFlfUkVUVVJOX1NUQVRFKXt2YXIgYT10aGlzLmF0bi5zdGF0ZXNbdC5jb250ZXh0LmdldFJldHVyblN0YXRlKGMpXSxsPXQuY29udGV4dC5nZXRQYXJlbnQoYykscz17c3RhdGU6YSxhbHQ6dC5hbHQsY29udGV4dDpsLHNlbWFudGljQ29udGV4dDp0LnNlbWFudGljQ29udGV4dH0sZj1uZXcgTChzLG51bGwpO2YucmVhY2hlc0ludG9PdXRlckNvbnRleHQ9dC5yZWFjaGVzSW50b091dGVyQ29udGV4dCx0aGlzLmNsb3N1cmVDaGVja2luZ1N0b3BTdGF0ZShmLGUsbixyLG8saS0xLHUpfWVsc2V7aWYobyl7ZS5hZGQobmV3IEwoe3N0YXRlOnQuc3RhdGUsY29udGV4dDpvZS5FTVBUWX0sdCksdGhpcy5tZXJnZUNhY2hlKTtjb250aW51ZX10aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkZBTExJTkcgb2ZmIHJ1bGUgXCIrdGhpcy5nZXRSdWxlTmFtZSh0LnN0YXRlLnJ1bGVJbmRleCkpLHRoaXMuY2xvc3VyZV8odCxlLG4scixvLGksdSl9cmV0dXJufWlmKG8pcmV0dXJuIHZvaWQgZS5hZGQodCx0aGlzLm1lcmdlQ2FjaGUpO3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiRkFMTElORyBvZmYgcnVsZSBcIit0aGlzLmdldFJ1bGVOYW1lKHQuc3RhdGUucnVsZUluZGV4KSl9dGhpcy5jbG9zdXJlXyh0LGUsbixyLG8saSx1KX19LHtrZXk6XCJjbG9zdXJlX1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUpe3ZhciBjPXQuc3RhdGU7Yy5lcHNpbG9uT25seVRyYW5zaXRpb25zfHxlLmFkZCh0LHRoaXMubWVyZ2VDYWNoZSk7Zm9yKHZhciBhPTA7YTxjLnRyYW5zaXRpb25zLmxlbmd0aDthKyspaWYoMCE9PWF8fCF0aGlzLmNhbkRyb3BMb29wRW50cnlFZGdlSW5MZWZ0UmVjdXJzaXZlUnVsZSh0KSl7dmFyIGw9Yy50cmFuc2l0aW9uc1thXSxzPXImJiEobCBpbnN0YW5jZW9mIE9yKSxmPXRoaXMuZ2V0RXBzaWxvblRhcmdldCh0LGwscywwPT09aSxvLHUpO2lmKG51bGwhPT1mKXt2YXIgcD1pO2lmKHQuc3RhdGUgaW5zdGFuY2VvZiAkKXtpZihudWxsIT09dGhpcy5fZGZhJiZ0aGlzLl9kZmEucHJlY2VkZW5jZURmYSYmbC5vdXRlcm1vc3RQcmVjZWRlbmNlUmV0dXJuPT09dGhpcy5fZGZhLmF0blN0YXJ0U3RhdGUucnVsZUluZGV4JiYoZi5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZD0hMCksZi5yZWFjaGVzSW50b091dGVyQ29udGV4dCs9MSxuLmFkZChmKSE9PWYpY29udGludWU7ZS5kaXBzSW50b091dGVyQ29udGV4dD0hMCxwLT0xLHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiZGlwcyBpbnRvIG91dGVyIGN0eDogXCIrZil9ZWxzZXtpZighbC5pc0Vwc2lsb24mJm4uYWRkKGYpIT09Ziljb250aW51ZTtsIGluc3RhbmNlb2YgaXQmJnA+PTAmJihwKz0xKX10aGlzLmNsb3N1cmVDaGVja2luZ1N0b3BTdGF0ZShmLGUsbixzLG8scCx1KX19fX0se2tleTpcImNhbkRyb3BMb29wRW50cnlFZGdlSW5MZWZ0UmVjdXJzaXZlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhdGU7aWYoZS5zdGF0ZVR5cGUhPT1ILlNUQVJfTE9PUF9FTlRSWSlyZXR1cm4hMTtpZihlLnN0YXRlVHlwZSE9PUguU1RBUl9MT09QX0VOVFJZfHwhZS5pc1ByZWNlZGVuY2VEZWNpc2lvbnx8dC5jb250ZXh0LmlzRW1wdHkoKXx8dC5jb250ZXh0Lmhhc0VtcHR5UGF0aCgpKXJldHVybiExO2Zvcih2YXIgbj10LmNvbnRleHQubGVuZ3RoLHI9MDtyPG47cisrKWlmKHRoaXMuYXRuLnN0YXRlc1t0LmNvbnRleHQuZ2V0UmV0dXJuU3RhdGUocildLnJ1bGVJbmRleCE9PWUucnVsZUluZGV4KXJldHVybiExO2Zvcih2YXIgbz1lLnRyYW5zaXRpb25zWzBdLnRhcmdldC5lbmRTdGF0ZS5zdGF0ZU51bWJlcixpPXRoaXMuYXRuLnN0YXRlc1tvXSx1PTA7dTxuO3UrKyl7dmFyIGM9dC5jb250ZXh0LmdldFJldHVyblN0YXRlKHUpLGE9dGhpcy5hdG4uc3RhdGVzW2NdO2lmKDEhPT1hLnRyYW5zaXRpb25zLmxlbmd0aHx8IWEudHJhbnNpdGlvbnNbMF0uaXNFcHNpbG9uKXJldHVybiExO3ZhciBsPWEudHJhbnNpdGlvbnNbMF0udGFyZ2V0O2lmKCEoYS5zdGF0ZVR5cGU9PT1ILkJMT0NLX0VORCYmbD09PWV8fGE9PT1pfHxsPT09aXx8bC5zdGF0ZVR5cGU9PT1ILkJMT0NLX0VORCYmMT09PWwudHJhbnNpdGlvbnMubGVuZ3RoJiZsLnRyYW5zaXRpb25zWzBdLmlzRXBzaWxvbiYmbC50cmFuc2l0aW9uc1swXS50YXJnZXQ9PT1lKSlyZXR1cm4hMX1yZXR1cm4hMH19LHtrZXk6XCJnZXRSdWxlTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dGhpcy5wYXJzZXImJnQ+PTA/dGhpcy5wYXJzZXIucnVsZU5hbWVzW3RdOlwiPHJ1bGUgXCIrdCtcIj5cIn19LHtrZXk6XCJnZXRFcHNpbG9uVGFyZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLHUpe3N3aXRjaChlLnNlcmlhbGl6YXRpb25UeXBlKXtjYXNlIHR0LlJVTEU6cmV0dXJuIHRoaXMucnVsZVRyYW5zaXRpb24odCxlKTtjYXNlIHR0LlBSRUNFREVOQ0U6cmV0dXJuIHRoaXMucHJlY2VkZW5jZVRyYW5zaXRpb24odCxlLG4scixpKTtjYXNlIHR0LlBSRURJQ0FURTpyZXR1cm4gdGhpcy5wcmVkVHJhbnNpdGlvbih0LGUsbixyLGkpO2Nhc2UgdHQuQUNUSU9OOnJldHVybiB0aGlzLmFjdGlvblRyYW5zaXRpb24odCxlKTtjYXNlIHR0LkVQU0lMT046cmV0dXJuIG5ldyBMKHtzdGF0ZTplLnRhcmdldH0sdCk7Y2FzZSB0dC5BVE9NOmNhc2UgdHQuUkFOR0U6Y2FzZSB0dC5TRVQ6cmV0dXJuIHUmJmUubWF0Y2hlcyhvLkVPRiwwLDEpP25ldyBMKHtzdGF0ZTplLnRhcmdldH0sdCk6bnVsbDtkZWZhdWx0OnJldHVybiBudWxsfX19LHtrZXk6XCJhY3Rpb25UcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmRlYnVnKXt2YXIgbj0tMT09PWUuYWN0aW9uSW5kZXg/NjU1MzU6ZS5hY3Rpb25JbmRleDtjb25zb2xlLmxvZyhcIkFDVElPTiBlZGdlIFwiK2UucnVsZUluZGV4K1wiOlwiK24pfXJldHVybiBuZXcgTCh7c3RhdGU6ZS50YXJnZXR9LHQpfX0se2tleTpcInByZWNlZGVuY2VUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvKXt0aGlzLmRlYnVnJiYoY29uc29sZS5sb2coXCJQUkVEIChjb2xsZWN0UHJlZGljYXRlcz1cIituK1wiKSBcIitlLnByZWNlZGVuY2UrXCI+PV9wLCBjdHggZGVwZW5kZW50PXRydWVcIiksbnVsbCE9PXRoaXMucGFyc2VyJiZjb25zb2xlLmxvZyhcImNvbnRleHQgc3Vycm91bmRpbmcgcHJlZCBpcyBcIitiKHRoaXMucGFyc2VyLmdldFJ1bGVJbnZvY2F0aW9uU3RhY2soKSkpKTt2YXIgaT1udWxsO2lmKG4mJnIpaWYobyl7dmFyIHU9dGhpcy5faW5wdXQuaW5kZXg7dGhpcy5faW5wdXQuc2Vlayh0aGlzLl9zdGFydEluZGV4KTt2YXIgYz1lLmdldFByZWRpY2F0ZSgpLmV2YWx1YXRlKHRoaXMucGFyc2VyLHRoaXMuX291dGVyQ29udGV4dCk7dGhpcy5faW5wdXQuc2Vlayh1KSxjJiYoaT1uZXcgTCh7c3RhdGU6ZS50YXJnZXR9LHQpKX1lbHNle3ZhciBhPWouYW5kQ29udGV4dCh0LnNlbWFudGljQ29udGV4dCxlLmdldFByZWRpY2F0ZSgpKTtpPW5ldyBMKHtzdGF0ZTplLnRhcmdldCxzZW1hbnRpY0NvbnRleHQ6YX0sdCl9ZWxzZSBpPW5ldyBMKHtzdGF0ZTplLnRhcmdldH0sdCk7cmV0dXJuIHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiY29uZmlnIGZyb20gcHJlZCB0cmFuc2l0aW9uPVwiK2kpLGl9fSx7a2V5OlwicHJlZFRyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8pe3RoaXMuZGVidWcmJihjb25zb2xlLmxvZyhcIlBSRUQgKGNvbGxlY3RQcmVkaWNhdGVzPVwiK24rXCIpIFwiK2UucnVsZUluZGV4K1wiOlwiK2UucHJlZEluZGV4K1wiLCBjdHggZGVwZW5kZW50PVwiK2UuaXNDdHhEZXBlbmRlbnQpLG51bGwhPT10aGlzLnBhcnNlciYmY29uc29sZS5sb2coXCJjb250ZXh0IHN1cnJvdW5kaW5nIHByZWQgaXMgXCIrYih0aGlzLnBhcnNlci5nZXRSdWxlSW52b2NhdGlvblN0YWNrKCkpKSk7dmFyIGk9bnVsbDtpZihuJiYoZS5pc0N0eERlcGVuZGVudCYmcnx8IWUuaXNDdHhEZXBlbmRlbnQpKWlmKG8pe3ZhciB1PXRoaXMuX2lucHV0LmluZGV4O3RoaXMuX2lucHV0LnNlZWsodGhpcy5fc3RhcnRJbmRleCk7dmFyIGM9ZS5nZXRQcmVkaWNhdGUoKS5ldmFsdWF0ZSh0aGlzLnBhcnNlcix0aGlzLl9vdXRlckNvbnRleHQpO3RoaXMuX2lucHV0LnNlZWsodSksYyYmKGk9bmV3IEwoe3N0YXRlOmUudGFyZ2V0fSx0KSl9ZWxzZXt2YXIgYT1qLmFuZENvbnRleHQodC5zZW1hbnRpY0NvbnRleHQsZS5nZXRQcmVkaWNhdGUoKSk7aT1uZXcgTCh7c3RhdGU6ZS50YXJnZXQsc2VtYW50aWNDb250ZXh0OmF9LHQpfWVsc2UgaT1uZXcgTCh7c3RhdGU6ZS50YXJnZXR9LHQpO3JldHVybiB0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcImNvbmZpZyBmcm9tIHByZWQgdHJhbnNpdGlvbj1cIitpKSxpfX0se2tleTpcInJ1bGVUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkNBTEwgcnVsZSBcIit0aGlzLmdldFJ1bGVOYW1lKGUudGFyZ2V0LnJ1bGVJbmRleCkrXCIsIGN0eD1cIit0LmNvbnRleHQpO3ZhciBuPWUuZm9sbG93U3RhdGUscj12ZS5jcmVhdGUodC5jb250ZXh0LG4uc3RhdGVOdW1iZXIpO3JldHVybiBuZXcgTCh7c3RhdGU6ZS50YXJnZXQsY29udGV4dDpyfSx0KX19LHtrZXk6XCJnZXRDb25mbGljdGluZ0FsdHNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1JdS5nZXRDb25mbGljdGluZ0FsdFN1YnNldHModCk7cmV0dXJuIEl1LmdldEFsdHMoZSl9fSx7a2V5OlwiZ2V0Q29uZmxpY3RpbmdBbHRzT3JVbmlxdWVBbHRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1udWxsO3JldHVybiB0LnVuaXF1ZUFsdCE9PUZlLklOVkFMSURfQUxUX05VTUJFUj8oZT1uZXcgQ2UpLmFkZCh0LnVuaXF1ZUFsdCk6ZT10LmNvbmZsaWN0aW5nQWx0cyxlfX0se2tleTpcImdldFRva2VuTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHQ9PT1vLkVPRilyZXR1cm5cIkVPRlwiO2lmKG51bGwhPT10aGlzLnBhcnNlciYmbnVsbCE9PXRoaXMucGFyc2VyLmxpdGVyYWxOYW1lcyl7aWYoISh0Pj10aGlzLnBhcnNlci5saXRlcmFsTmFtZXMubGVuZ3RoJiZ0Pj10aGlzLnBhcnNlci5zeW1ib2xpY05hbWVzLmxlbmd0aCkpcmV0dXJuKHRoaXMucGFyc2VyLmxpdGVyYWxOYW1lc1t0XXx8dGhpcy5wYXJzZXIuc3ltYm9saWNOYW1lc1t0XSkrXCI8XCIrdCtcIj5cIjtjb25zb2xlLmxvZyh0K1wiIHR0eXBlIG91dCBvZiByYW5nZTogXCIrdGhpcy5wYXJzZXIubGl0ZXJhbE5hbWVzKSxjb25zb2xlLmxvZyhcIlwiK3RoaXMucGFyc2VyLmdldElucHV0U3RyZWFtKCkuZ2V0VG9rZW5zKCkpfXJldHVyblwiXCIrdH19LHtrZXk6XCJnZXRMb29rYWhlYWROYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0VG9rZW5OYW1lKHQuTEEoMSkpfX0se2tleTpcImR1bXBEZWFkRW5kQ29uZmlnc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwiZGVhZCBlbmQgY29uZmlnczogXCIpO2Zvcih2YXIgZT10LmdldERlYWRFbmRDb25maWdzKCksbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLG89XCJubyBlZGdlc1wiO2lmKHIuc3RhdGUudHJhbnNpdGlvbnMubGVuZ3RoPjApe3ZhciBpPXIuc3RhdGUudHJhbnNpdGlvbnNbMF07aSBpbnN0YW5jZW9mIGZyP289XCJBdG9tIFwiK3RoaXMuZ2V0VG9rZW5OYW1lKGkubGFiZWwpOmkgaW5zdGFuY2VvZiBzdCYmKG89KGkgaW5zdGFuY2VvZiB2dD9cIn5cIjpcIlwiKStcIlNldCBcIitpLnNldCl9Y29uc29sZS5lcnJvcihyLnRvU3RyaW5nKHRoaXMucGFyc2VyLCEwKStcIjpcIitvKX19fSx7a2V5Olwibm9WaWFibGVBbHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IEJ1KHRoaXMucGFyc2VyLHQsdC5nZXQociksdC5MVCgxKSxuLGUpfX0se2tleTpcImdldFVuaXF1ZUFsdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1GZS5JTlZBTElEX0FMVF9OVU1CRVIsbj0wO248dC5pdGVtcy5sZW5ndGg7bisrKXt2YXIgcj10Lml0ZW1zW25dO2lmKGU9PT1GZS5JTlZBTElEX0FMVF9OVU1CRVIpZT1yLmFsdDtlbHNlIGlmKHIuYWx0IT09ZSlyZXR1cm4gRmUuSU5WQUxJRF9BTFRfTlVNQkVSfXJldHVybiBlfX0se2tleTpcImFkZERGQUVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtpZih0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkVER0UgXCIrZStcIiAtPiBcIityK1wiIHVwb24gXCIrdGhpcy5nZXRUb2tlbk5hbWUobikpLG51bGw9PT1yKXJldHVybiBudWxsO2lmKHI9dGhpcy5hZGRERkFTdGF0ZSh0LHIpLG51bGw9PT1lfHxuPC0xfHxuPnRoaXMuYXRuLm1heFRva2VuVHlwZSlyZXR1cm4gcjtpZihudWxsPT09ZS5lZGdlcyYmKGUuZWRnZXM9W10pLGUuZWRnZXNbbisxXT1yLHRoaXMuZGVidWcpe3ZhciBvPW51bGw9PT10aGlzLnBhcnNlcj9udWxsOnRoaXMucGFyc2VyLmxpdGVyYWxOYW1lcyxpPW51bGw9PT10aGlzLnBhcnNlcj9udWxsOnRoaXMucGFyc2VyLnN5bWJvbGljTmFtZXM7Y29uc29sZS5sb2coXCJERkE9XFxuXCIrdC50b1N0cmluZyhvLGkpKX1yZXR1cm4gcn19LHtrZXk6XCJhZGRERkFTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoZT09PUppLkVSUk9SKXJldHVybiBlO3ZhciBuPXQuc3RhdGVzLmdldChlKTtyZXR1cm4gbnVsbCE9PW4/KHRoaXMudHJhY2VfYXRuX3NpbSYmY29uc29sZS5sb2coXCJhZGRERkFTdGF0ZSBcIitlK1wiIGV4aXN0c1wiKSxuKTooZS5zdGF0ZU51bWJlcj10LnN0YXRlcy5sZW5ndGgsZS5jb25maWdzLnJlYWRPbmx5fHwoZS5jb25maWdzLm9wdGltaXplQ29uZmlncyh0aGlzKSxlLmNvbmZpZ3Muc2V0UmVhZG9ubHkoITApKSx0aGlzLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwiYWRkREZBU3RhdGUgbmV3IFwiK2UpLHQuc3RhdGVzLmFkZChlKSx0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcImFkZGluZyBuZXcgREZBIHN0YXRlOiBcIitlKSxlKX19LHtrZXk6XCJyZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8pe2lmKHRoaXMuZGVidWd8fHRoaXMucmV0cnlfZGVidWcpe3ZhciBpPW5ldyBCKHIsbysxKTtjb25zb2xlLmxvZyhcInJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dCBkZWNpc2lvbj1cIit0LmRlY2lzaW9uK1wiOlwiK24rXCIsIGlucHV0PVwiK3RoaXMucGFyc2VyLmdldFRva2VuU3RyZWFtKCkuZ2V0VGV4dChpKSl9bnVsbCE9PXRoaXMucGFyc2VyJiZ0aGlzLnBhcnNlci5nZXRFcnJvckxpc3RlbmVyRGlzcGF0Y2goKS5yZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHQodGhpcy5wYXJzZXIsdCxyLG8sZSxuKX19LHtrZXk6XCJyZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8pe2lmKHRoaXMuZGVidWd8fHRoaXMucmV0cnlfZGVidWcpe3ZhciBpPW5ldyBCKHIsbysxKTtjb25zb2xlLmxvZyhcInJlcG9ydENvbnRleHRTZW5zaXRpdml0eSBkZWNpc2lvbj1cIit0LmRlY2lzaW9uK1wiOlwiK24rXCIsIGlucHV0PVwiK3RoaXMucGFyc2VyLmdldFRva2VuU3RyZWFtKCkuZ2V0VGV4dChpKSl9bnVsbCE9PXRoaXMucGFyc2VyJiZ0aGlzLnBhcnNlci5nZXRFcnJvckxpc3RlbmVyRGlzcGF0Y2goKS5yZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHkodGhpcy5wYXJzZXIsdCxyLG8sZSxuKX19LHtrZXk6XCJyZXBvcnRBbWJpZ3VpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSx1KXtpZih0aGlzLmRlYnVnfHx0aGlzLnJldHJ5X2RlYnVnKXt2YXIgYz1uZXcgQihuLHIrMSk7Y29uc29sZS5sb2coXCJyZXBvcnRBbWJpZ3VpdHkgXCIraStcIjpcIit1K1wiLCBpbnB1dD1cIit0aGlzLnBhcnNlci5nZXRUb2tlblN0cmVhbSgpLmdldFRleHQoYykpfW51bGwhPT10aGlzLnBhcnNlciYmdGhpcy5wYXJzZXIuZ2V0RXJyb3JMaXN0ZW5lckRpc3BhdGNoKCkucmVwb3J0QW1iaWd1aXR5KHRoaXMucGFyc2VyLHQsbixyLG8saSx1KX19XSxuJiZxdShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KEppKTtmdW5jdGlvbiBHdSh0KXtyZXR1cm4gR3U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sR3UodCl9ZnVuY3Rpb24gV3UodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUd1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUd1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUd1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgWHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmNhY2hlPW5ldyBUZX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0PT09b2UuRU1QVFkpcmV0dXJuIG9lLkVNUFRZO3ZhciBlPXRoaXMuY2FjaGUuZ2V0KHQpfHxudWxsO3JldHVybiBudWxsIT09ZT9lOih0aGlzLmNhY2hlLnNldCh0LHQpLHQpfX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhY2hlLmdldCh0KXx8bnVsbH19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZS5sZW5ndGh9fV0pJiZXdShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7Y29uc3QgJHU9e0FUTjpGZSxBVE5EZXNlcmlhbGl6ZXI6SG8sTGV4ZXJBVE5TaW11bGF0b3I6RXUsUGFyc2VyQVROU2ltdWxhdG9yOll1LFByZWRpY3Rpb25Nb2RlOkl1LFByZWRpY3Rpb25Db250ZXh0Q2FjaGU6WHV9O2Z1bmN0aW9uIEp1KHQpe3JldHVybiBKdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxKdSh0KX1mdW5jdGlvbiBRdSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09SnUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09SnUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09SnUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBadT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuLHIpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5kZmE9ZSx0aGlzLmxpdGVyYWxOYW1lcz1ufHxbXSx0aGlzLnN5bWJvbGljTmFtZXM9cnx8W119dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuZGZhLnMwKXJldHVybiBudWxsO2Zvcih2YXIgdD1cIlwiLGU9dGhpcy5kZmEuc29ydGVkU3RhdGVzKCksbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2lmKG51bGwhPT1yLmVkZ2VzKWZvcih2YXIgbz1yLmVkZ2VzLmxlbmd0aCxpPTA7aTxvO2krKyl7dmFyIHU9ci5lZGdlc1tpXXx8bnVsbDtudWxsIT09dSYmMjE0NzQ4MzY0NyE9PXUuc3RhdGVOdW1iZXImJih0PSh0PSh0PSh0PSh0PSh0PXQuY29uY2F0KHRoaXMuZ2V0U3RhdGVTdHJpbmcocikpKS5jb25jYXQoXCItXCIpKS5jb25jYXQodGhpcy5nZXRFZGdlTGFiZWwoaSkpKS5jb25jYXQoXCItPlwiKSkuY29uY2F0KHRoaXMuZ2V0U3RhdGVTdHJpbmcodSkpKS5jb25jYXQoXCJcXG5cIikpfX1yZXR1cm4gMD09PXQubGVuZ3RoP251bGw6dH19LHtrZXk6XCJnZXRFZGdlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/XCJFT0ZcIjpudWxsIT09dGhpcy5saXRlcmFsTmFtZXN8fG51bGwhPT10aGlzLnN5bWJvbGljTmFtZXM/dGhpcy5saXRlcmFsTmFtZXNbdC0xXXx8dGhpcy5zeW1ib2xpY05hbWVzW3QtMV06U3RyaW5nLmZyb21DaGFyQ29kZSh0LTEpfX0se2tleTpcImdldFN0YXRlU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9KHQuaXNBY2NlcHRTdGF0ZT9cIjpcIjpcIlwiKStcInNcIit0LnN0YXRlTnVtYmVyKyh0LnJlcXVpcmVzRnVsbENvbnRleHQ/XCJeXCI6XCJcIik7cmV0dXJuIHQuaXNBY2NlcHRTdGF0ZT9udWxsIT09dC5wcmVkaWNhdGVzP2UrXCI9PlwiK2IodC5wcmVkaWNhdGVzKTplK1wiPT5cIit0LnByZWRpY3Rpb24udG9TdHJpbmcoKTplfX1dLG4mJlF1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiB0Yyh0KXtyZXR1cm4gdGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdGModCl9ZnVuY3Rpb24gZWModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXRjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXRjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXRjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBuYyh0LGUpe3JldHVybiBuYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LG5jKHQsZSl9ZnVuY3Rpb24gcmModCl7cmV0dXJuIHJjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxyYyh0KX12YXIgb2M9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJm5jKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9cmMocik7aWYobyl7dmFyIG49cmModGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT10YyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcyx0LG51bGwpfXJldHVybiBlPXUsbj1be2tleTpcImdldEVkZ2VMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwiJ1wiK1N0cmluZy5mcm9tQ2hhckNvZGUodCkrXCInXCJ9fV0sbiYmZWMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShadSk7ZnVuY3Rpb24gaWModCl7cmV0dXJuIGljPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGljKHQpfWZ1bmN0aW9uIHVjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1pYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1pYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1pYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIGNjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe2lmKGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx2b2lkIDA9PT1uJiYobj0wKSx0aGlzLmF0blN0YXJ0U3RhdGU9ZSx0aGlzLmRlY2lzaW9uPW4sdGhpcy5fc3RhdGVzPW5ldyBnLHRoaXMuczA9bnVsbCx0aGlzLnByZWNlZGVuY2VEZmE9ITEsZSBpbnN0YW5jZW9mIHpuJiZlLmlzUHJlY2VkZW5jZURlY2lzaW9uKXt0aGlzLnByZWNlZGVuY2VEZmE9ITA7dmFyIHI9bmV3IFdpKG51bGwsbmV3IEtpKTtyLmVkZ2VzPVtdLHIuaXNBY2NlcHRTdGF0ZT0hMSxyLnJlcXVpcmVzRnVsbENvbnRleHQ9ITEsdGhpcy5zMD1yfX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJnZXRQcmVjZWRlbmNlU3RhcnRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLnByZWNlZGVuY2VEZmEpdGhyb3dcIk9ubHkgcHJlY2VkZW5jZSBERkFzIG1heSBjb250YWluIGEgcHJlY2VkZW5jZSBzdGFydCBzdGF0ZS5cIjtyZXR1cm4gdDwwfHx0Pj10aGlzLnMwLmVkZ2VzLmxlbmd0aD9udWxsOnRoaXMuczAuZWRnZXNbdF18fG51bGx9fSx7a2V5Olwic2V0UHJlY2VkZW5jZVN0YXJ0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCF0aGlzLnByZWNlZGVuY2VEZmEpdGhyb3dcIk9ubHkgcHJlY2VkZW5jZSBERkFzIG1heSBjb250YWluIGEgcHJlY2VkZW5jZSBzdGFydCBzdGF0ZS5cIjt0PDB8fCh0aGlzLnMwLmVkZ2VzW3RdPWUpfX0se2tleTpcInNldFByZWNlZGVuY2VEZmFcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnByZWNlZGVuY2VEZmEhPT10KXtpZih0aGlzLl9zdGF0ZXM9bmV3IGcsdCl7dmFyIGU9bmV3IFdpKG51bGwsbmV3IEtpKTtlLmVkZ2VzPVtdLGUuaXNBY2NlcHRTdGF0ZT0hMSxlLnJlcXVpcmVzRnVsbENvbnRleHQ9ITEsdGhpcy5zMD1lfWVsc2UgdGhpcy5zMD1udWxsO3RoaXMucHJlY2VkZW5jZURmYT10fX19LHtrZXk6XCJzb3J0ZWRTdGF0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZXMudmFsdWVzKCkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdGF0ZU51bWJlci1lLnN0YXRlTnVtYmVyfSkpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHxudWxsLGU9ZXx8bnVsbCxudWxsPT09dGhpcy5zMD9cIlwiOm5ldyBadSh0aGlzLHQsZSkudG9TdHJpbmcoKX19LHtrZXk6XCJ0b0xleGVyU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuczA/XCJcIjpuZXcgb2ModGhpcykudG9TdHJpbmcoKX19LHtrZXk6XCJzdGF0ZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGVzfX1dKSYmdWMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2NvbnN0IGFjPXtERkE6Y2MsREZBU2VyaWFsaXplcjpadSxMZXhlckRGQVNlcmlhbGl6ZXI6b2MsUHJlZFByZWRpY3Rpb246eHV9LGxjPXtQcmVkaWN0aW9uQ29udGV4dDpvZX0sc2M9e0ludGVydmFsOkIsSW50ZXJ2YWxTZXQ6Vn07ZnVuY3Rpb24gZmModCl7cmV0dXJuIGZjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGZjKHQpfWZ1bmN0aW9uIHBjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1mYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1mYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1mYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIHljPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwidmlzaXRUZXJtaW5hbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJ2aXNpdEVycm9yTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJlbnRlckV2ZXJ5UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJleGl0RXZlcnlSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX1dKSYmcGMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIGhjKHQpe3JldHVybiBoYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxoYyh0KX1mdW5jdGlvbiBiYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09aGModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09aGMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09aGMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciB2Yz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcInZpc2l0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFjY2VwdCh0aGlzKX0pLHRoaXMpOnQuYWNjZXB0KHRoaXMpfX0se2tleTpcInZpc2l0Q2hpbGRyZW5cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jaGlsZHJlbj90aGlzLnZpc2l0KHQuY2hpbGRyZW4pOm51bGx9fSx7a2V5OlwidmlzaXRUZXJtaW5hbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJ2aXNpdEVycm9yTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319XSkmJmJjKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBkYyh0KXtyZXR1cm4gZGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZGModCl9ZnVuY3Rpb24gbWModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWRjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWRjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWRjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgZ2M9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcIndhbGtcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKGUgaW5zdGFuY2VvZiBXdHx8dm9pZCAwIT09ZS5pc0Vycm9yTm9kZSYmZS5pc0Vycm9yTm9kZSgpKXQudmlzaXRFcnJvck5vZGUoZSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgSHQpdC52aXNpdFRlcm1pbmFsKGUpO2Vsc2V7dGhpcy5lbnRlclJ1bGUodCxlKTtmb3IodmFyIG49MDtuPGUuZ2V0Q2hpbGRDb3VudCgpO24rKyl7dmFyIHI9ZS5nZXRDaGlsZChuKTt0aGlzLndhbGsodCxyKX10aGlzLmV4aXRSdWxlKHQsZSl9fX0se2tleTpcImVudGVyUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ydWxlQ29udGV4dDt0LmVudGVyRXZlcnlSdWxlKG4pLG4uZW50ZXJSdWxlKHQpfX0se2tleTpcImV4aXRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnJ1bGVDb250ZXh0O24uZXhpdFJ1bGUodCksdC5leGl0RXZlcnlSdWxlKG4pfX1dLG4mJm1jKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtnYy5ERUZBVUxUPW5ldyBnYztjb25zdCBTYz17VHJlZXM6JHQsUnVsZU5vZGU6VXQsRXJyb3JOb2RlOld0LFRlcm1pbmFsTm9kZTpIdCxQYXJzZVRyZWVMaXN0ZW5lcjp5YyxQYXJzZVRyZWVWaXNpdG9yOnZjLFBhcnNlVHJlZVdhbGtlcjpnY307ZnVuY3Rpb24gT2ModCl7cmV0dXJuIE9jPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE9jKHQpfWZ1bmN0aW9uIHdjKHQsZSl7cmV0dXJuIHdjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sd2ModCxlKX1mdW5jdGlvbiBfYyh0KXtyZXR1cm4gX2M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LF9jKHQpfXZhciBQYz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmd2ModCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9X2Mobik7aWYocil7dmFyIG89X2ModGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1PYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwoZT1vLmNhbGwodGhpcyx7bWVzc2FnZTpcIlwiLHJlY29nbml6ZXI6dCxpbnB1dDp0LmdldElucHV0U3RyZWFtKCksY3R4OnQuX2N0eH0pKS5vZmZlbmRpbmdUb2tlbj10LmdldEN1cnJlbnRUb2tlbigpLGV9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KHhpKTtmdW5jdGlvbiBUYyh0KXtyZXR1cm4gVGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sVGModCl9ZnVuY3Rpb24gRWModCxlKXtyZXR1cm4gRWM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxFYyh0LGUpfWZ1bmN0aW9uIGtjKHQpe3JldHVybiBrYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sa2ModCl9dmFyIGpjPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZFYyh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1rYyhuKTtpZihyKXt2YXIgbz1rYyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVRjKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSh0LGUsbil7dmFyIHI7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxyPW8uY2FsbCh0aGlzLHttZXNzYWdlOnhjKGUsbnx8bnVsbCkscmVjb2duaXplcjp0LGlucHV0OnQuZ2V0SW5wdXRTdHJlYW0oKSxjdHg6dC5fY3R4fSk7dmFyIHU9dC5faW50ZXJwLmF0bi5zdGF0ZXNbdC5zdGF0ZV0udHJhbnNpdGlvbnNbMF07cmV0dXJuIHUgaW5zdGFuY2VvZiBEcj8oci5ydWxlSW5kZXg9dS5ydWxlSW5kZXgsci5wcmVkaWNhdGVJbmRleD11LnByZWRJbmRleCk6KHIucnVsZUluZGV4PTAsci5wcmVkaWNhdGVJbmRleD0wKSxyLnByZWRpY2F0ZT1lLHIub2ZmZW5kaW5nVG9rZW49dC5nZXRDdXJyZW50VG9rZW4oKSxyfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfSh4aSk7ZnVuY3Rpb24geGModCxlKXtyZXR1cm4gbnVsbCE9PWU/ZTpcImZhaWxlZCBwcmVkaWNhdGU6IHtcIit0K1wifT9cIn1mdW5jdGlvbiBSYyh0KXtyZXR1cm4gUmM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sUmModCl9ZnVuY3Rpb24gQ2ModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVJjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVJjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVJjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBBYyh0LGUpe3JldHVybiBBYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEFjKHQsZSl9ZnVuY3Rpb24gTmModCl7cmV0dXJuIE5jPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxOYyh0KX12YXIgSWM9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkFjKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9TmMocik7aWYobyl7dmFyIG49TmModGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1SYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSx0PXR8fCEwLChlPWkuY2FsbCh0aGlzKSkuZXhhY3RPbmx5PXQsZX1yZXR1cm4gZT11LG49W3trZXk6XCJyZXBvcnRBbWJpZ3VpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSx1KXtpZighdGhpcy5leGFjdE9ubHl8fG8pe3ZhciBjPVwicmVwb3J0QW1iaWd1aXR5IGQ9XCIrdGhpcy5nZXREZWNpc2lvbkRlc2NyaXB0aW9uKHQsZSkrXCI6IGFtYmlnQWx0cz1cIit0aGlzLmdldENvbmZsaWN0aW5nQWx0cyhpLHUpK1wiLCBpbnB1dD0nXCIrdC5nZXRUb2tlblN0cmVhbSgpLmdldFRleHQobmV3IEIobixyKSkrXCInXCI7dC5ub3RpZnlFcnJvckxpc3RlbmVycyhjKX19fSx7a2V5OlwicmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe3ZhciB1PVwicmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0IGQ9XCIrdGhpcy5nZXREZWNpc2lvbkRlc2NyaXB0aW9uKHQsZSkrXCIsIGlucHV0PSdcIit0LmdldFRva2VuU3RyZWFtKCkuZ2V0VGV4dChuZXcgQihuLHIpKStcIidcIjt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKHUpfX0se2tleTpcInJlcG9ydENvbnRleHRTZW5zaXRpdml0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt2YXIgdT1cInJlcG9ydENvbnRleHRTZW5zaXRpdml0eSBkPVwiK3RoaXMuZ2V0RGVjaXNpb25EZXNjcmlwdGlvbih0LGUpK1wiLCBpbnB1dD0nXCIrdC5nZXRUb2tlblN0cmVhbSgpLmdldFRleHQobmV3IEIobixyKSkrXCInXCI7dC5ub3RpZnlFcnJvckxpc3RlbmVycyh1KX19LHtrZXk6XCJnZXREZWNpc2lvbkRlc2NyaXB0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmRlY2lzaW9uLHI9ZS5hdG5TdGFydFN0YXRlLnJ1bGVJbmRleCxvPXQucnVsZU5hbWVzO2lmKHI8MHx8cj49by5sZW5ndGgpcmV0dXJuXCJcIituO3ZhciBpPW9bcl18fG51bGw7cmV0dXJuIG51bGw9PT1pfHwwPT09aS5sZW5ndGg/XCJcIituOlwiXCIuY29uY2F0KG4sXCIgKFwiKS5jb25jYXQoaSxcIilcIil9fSx7a2V5OlwiZ2V0Q29uZmxpY3RpbmdBbHRzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihudWxsIT09dClyZXR1cm4gdDtmb3IodmFyIG49bmV3IENlLHI9MDtyPGUuaXRlbXMubGVuZ3RoO3IrKyluLmFkZChlLml0ZW1zW3JdLmFsdCk7cmV0dXJuXCJ7XCIuY29uY2F0KG4udmFsdWVzKCkuam9pbihcIiwgXCIpLFwifVwiKX19XSxuJiZDYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KEdvKTtmdW5jdGlvbiBMYyh0KXtyZXR1cm4gTGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sTGModCl9ZnVuY3Rpb24gRGModCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gRmModCl7dmFyIGU9XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwP25ldyBNYXA6dm9pZCAwO3JldHVybiBGYz1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8KG49dCwtMT09PUZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwobikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikpKXJldHVybiB0O3ZhciBuO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2lmKHZvaWQgMCE9PWUpe2lmKGUuaGFzKHQpKXJldHVybiBlLmdldCh0KTtlLnNldCh0LHIpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gQmModCxhcmd1bWVudHMsVmModGhpcykuY29uc3RydWN0b3IpfXJldHVybiByLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6cixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxVYyhyLHQpfSxGYyh0KX1mdW5jdGlvbiBCYyh0LGUsbil7cmV0dXJuIEJjPU1jKCk/UmVmbGVjdC5jb25zdHJ1Y3QuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1bbnVsbF07ci5wdXNoLmFwcGx5KHIsZSk7dmFyIG89bmV3KEZ1bmN0aW9uLmJpbmQuYXBwbHkodCxyKSk7cmV0dXJuIG4mJlVjKG8sbi5wcm90b3R5cGUpLG99LEJjLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBNYygpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fWZ1bmN0aW9uIFVjKHQsZSl7cmV0dXJuIFVjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sVWModCxlKX1mdW5jdGlvbiBWYyh0KXtyZXR1cm4gVmM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFZjKHQpfXZhciB6Yz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmVWModCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9TWMoKSxmdW5jdGlvbigpe3ZhciB0LGU9VmMobik7aWYocil7dmFyIG89VmModGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1MYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIERjKHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksdD1vLmNhbGwodGhpcyksRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoRGModCksaSksdH1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oRmMoRXJyb3IpKTtmdW5jdGlvbiBxYyh0KXtyZXR1cm4gcWM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0scWModCl9ZnVuY3Rpb24gSGModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXFjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXFjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXFjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBLYyh0KXtyZXR1cm4gS2M9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sS2ModCl9ZnVuY3Rpb24gWWModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUtjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUtjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUtjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBHYyh0LGUpe3JldHVybiBHYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEdjKHQsZSl9ZnVuY3Rpb24gV2ModCl7cmV0dXJuIFdjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxXYyh0KX12YXIgWGM9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkdjKHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9V2Mocik7aWYoaSl7dmFyIG49V2ModGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1LYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGMoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLCh0PXUuY2FsbCh0aGlzKSkuZXJyb3JSZWNvdmVyeU1vZGU9ITEsdC5sYXN0RXJyb3JJbmRleD0tMSx0Lmxhc3RFcnJvclN0YXRlcz1udWxsLHQubmV4dFRva2Vuc0NvbnRleHQ9bnVsbCx0Lm5leHRUb2tlblN0YXRlPTAsdH1yZXR1cm4gZT1jLG49W3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW5kRXJyb3JDb25kaXRpb24odCl9fSx7a2V5OlwiYmVnaW5FcnJvckNvbmRpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZXJyb3JSZWNvdmVyeU1vZGU9ITB9fSx7a2V5OlwiaW5FcnJvclJlY292ZXJ5TW9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVycm9yUmVjb3ZlcnlNb2RlfX0se2tleTpcImVuZEVycm9yQ29uZGl0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lcnJvclJlY292ZXJ5TW9kZT0hMSx0aGlzLmxhc3RFcnJvclN0YXRlcz1udWxsLHRoaXMubGFzdEVycm9ySW5kZXg9LTF9fSx7a2V5OlwicmVwb3J0TWF0Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVuZEVycm9yQ29uZGl0aW9uKHQpfX0se2tleTpcInJlcG9ydEVycm9yXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmluRXJyb3JSZWNvdmVyeU1vZGUodCl8fCh0aGlzLmJlZ2luRXJyb3JDb25kaXRpb24odCksZSBpbnN0YW5jZW9mIEJ1P3RoaXMucmVwb3J0Tm9WaWFibGVBbHRlcm5hdGl2ZSh0LGUpOmUgaW5zdGFuY2VvZiBQYz90aGlzLnJlcG9ydElucHV0TWlzbWF0Y2godCxlKTplIGluc3RhbmNlb2YgamM/dGhpcy5yZXBvcnRGYWlsZWRQcmVkaWNhdGUodCxlKTooY29uc29sZS5sb2coXCJ1bmtub3duIHJlY29nbml0aW9uIGVycm9yIHR5cGU6IFwiK2UuY29uc3RydWN0b3IubmFtZSksY29uc29sZS5sb2coZS5zdGFjayksdC5ub3RpZnlFcnJvckxpc3RlbmVycyhlLmdldE9mZmVuZGluZ1Rva2VuKCksZS5nZXRNZXNzYWdlKCksZSkpKX19LHtrZXk6XCJyZWNvdmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmxhc3RFcnJvckluZGV4PT09dC5nZXRJbnB1dFN0cmVhbSgpLmluZGV4JiZudWxsIT09dGhpcy5sYXN0RXJyb3JTdGF0ZXMmJnRoaXMubGFzdEVycm9yU3RhdGVzLmluZGV4T2YodC5zdGF0ZSk+PTAmJnQuY29uc3VtZSgpLHRoaXMubGFzdEVycm9ySW5kZXg9dC5faW5wdXQuaW5kZXgsbnVsbD09PXRoaXMubGFzdEVycm9yU3RhdGVzJiYodGhpcy5sYXN0RXJyb3JTdGF0ZXM9W10pLHRoaXMubGFzdEVycm9yU3RhdGVzLnB1c2godC5zdGF0ZSk7dmFyIG49dGhpcy5nZXRFcnJvclJlY292ZXJ5U2V0KHQpO3RoaXMuY29uc3VtZVVudGlsKHQsbil9fSx7a2V5Olwic3luY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmluRXJyb3JSZWNvdmVyeU1vZGUodCkpe3ZhciBlPXQuX2ludGVycC5hdG4uc3RhdGVzW3Quc3RhdGVdLG49dC5nZXRUb2tlblN0cmVhbSgpLkxBKDEpLHI9dC5hdG4ubmV4dFRva2VucyhlKTtpZihyLmNvbnRhaW5zKG4pKXJldHVybiB0aGlzLm5leHRUb2tlbnNDb250ZXh0PW51bGwsdm9pZCh0aGlzLm5leHRUb2tlblN0YXRlPUguSU5WQUxJRF9TVEFURV9OVU1CRVIpO2lmKHIuY29udGFpbnMoby5FUFNJTE9OKSludWxsPT09dGhpcy5uZXh0VG9rZW5zQ29udGV4dCYmKHRoaXMubmV4dFRva2Vuc0NvbnRleHQ9dC5fY3R4LHRoaXMubmV4dFRva2Vuc1N0YXRlPXQuX3N0YXRlTnVtYmVyKTtlbHNlIHN3aXRjaChlLnN0YXRlVHlwZSl7Y2FzZSBILkJMT0NLX1NUQVJUOmNhc2UgSC5TVEFSX0JMT0NLX1NUQVJUOmNhc2UgSC5QTFVTX0JMT0NLX1NUQVJUOmNhc2UgSC5TVEFSX0xPT1BfRU5UUlk6aWYobnVsbCE9PXRoaXMuc2luZ2xlVG9rZW5EZWxldGlvbih0KSlyZXR1cm47dGhyb3cgbmV3IFBjKHQpO2Nhc2UgSC5QTFVTX0xPT1BfQkFDSzpjYXNlIEguU1RBUl9MT09QX0JBQ0s6dGhpcy5yZXBvcnRVbndhbnRlZFRva2VuKHQpO3ZhciBpPW5ldyBWO2kuYWRkU2V0KHQuZ2V0RXhwZWN0ZWRUb2tlbnMoKSk7dmFyIHU9aS5hZGRTZXQodGhpcy5nZXRFcnJvclJlY292ZXJ5U2V0KHQpKTt0aGlzLmNvbnN1bWVVbnRpbCh0LHUpfX19fSx7a2V5OlwicmVwb3J0Tm9WaWFibGVBbHRlcm5hdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG4scj10LmdldFRva2VuU3RyZWFtKCk7bj1udWxsIT09cj9lLnN0YXJ0VG9rZW4udHlwZT09PW8uRU9GP1wiPEVPRj5cIjpyLmdldFRleHQobmV3IEIoZS5zdGFydFRva2VuLnRva2VuSW5kZXgsZS5vZmZlbmRpbmdUb2tlbi50b2tlbkluZGV4KSk6XCI8dW5rbm93biBpbnB1dD5cIjt2YXIgaT1cIm5vIHZpYWJsZSBhbHRlcm5hdGl2ZSBhdCBpbnB1dCBcIit0aGlzLmVzY2FwZVdTQW5kUXVvdGUobik7dC5ub3RpZnlFcnJvckxpc3RlbmVycyhpLGUub2ZmZW5kaW5nVG9rZW4sZSl9fSx7a2V5OlwicmVwb3J0SW5wdXRNaXNtYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49XCJtaXNtYXRjaGVkIGlucHV0IFwiK3RoaXMuZ2V0VG9rZW5FcnJvckRpc3BsYXkoZS5vZmZlbmRpbmdUb2tlbikrXCIgZXhwZWN0aW5nIFwiK2UuZ2V0RXhwZWN0ZWRUb2tlbnMoKS50b1N0cmluZyh0LmxpdGVyYWxOYW1lcyx0LnN5bWJvbGljTmFtZXMpO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnMobixlLm9mZmVuZGluZ1Rva2VuLGUpfX0se2tleTpcInJlcG9ydEZhaWxlZFByZWRpY2F0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49XCJydWxlIFwiK3QucnVsZU5hbWVzW3QuX2N0eC5ydWxlSW5kZXhdK1wiIFwiK2UubWVzc2FnZTt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKG4sZS5vZmZlbmRpbmdUb2tlbixlKX19LHtrZXk6XCJyZXBvcnRVbndhbnRlZFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaW5FcnJvclJlY292ZXJ5TW9kZSh0KSl7dGhpcy5iZWdpbkVycm9yQ29uZGl0aW9uKHQpO3ZhciBlPXQuZ2V0Q3VycmVudFRva2VuKCksbj1cImV4dHJhbmVvdXMgaW5wdXQgXCIrdGhpcy5nZXRUb2tlbkVycm9yRGlzcGxheShlKStcIiBleHBlY3RpbmcgXCIrdGhpcy5nZXRFeHBlY3RlZFRva2Vucyh0KS50b1N0cmluZyh0LmxpdGVyYWxOYW1lcyx0LnN5bWJvbGljTmFtZXMpO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnMobixlLG51bGwpfX19LHtrZXk6XCJyZXBvcnRNaXNzaW5nVG9rZW5cIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5pbkVycm9yUmVjb3ZlcnlNb2RlKHQpKXt0aGlzLmJlZ2luRXJyb3JDb25kaXRpb24odCk7dmFyIGU9dC5nZXRDdXJyZW50VG9rZW4oKSxuPVwibWlzc2luZyBcIit0aGlzLmdldEV4cGVjdGVkVG9rZW5zKHQpLnRvU3RyaW5nKHQubGl0ZXJhbE5hbWVzLHQuc3ltYm9saWNOYW1lcykrXCIgYXQgXCIrdGhpcy5nZXRUb2tlbkVycm9yRGlzcGxheShlKTt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKG4sZSxudWxsKX19fSx7a2V5OlwicmVjb3ZlcklubGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2luZ2xlVG9rZW5EZWxldGlvbih0KTtpZihudWxsIT09ZSlyZXR1cm4gdC5jb25zdW1lKCksZTtpZih0aGlzLnNpbmdsZVRva2VuSW5zZXJ0aW9uKHQpKXJldHVybiB0aGlzLmdldE1pc3NpbmdTeW1ib2wodCk7dGhyb3cgbmV3IFBjKHQpfX0se2tleTpcInNpbmdsZVRva2VuSW5zZXJ0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRUb2tlblN0cmVhbSgpLkxBKDEpLG49dC5faW50ZXJwLmF0bixyPW4uc3RhdGVzW3Quc3RhdGVdLnRyYW5zaXRpb25zWzBdLnRhcmdldDtyZXR1cm4hIW4ubmV4dFRva2VucyhyLHQuX2N0eCkuY29udGFpbnMoZSkmJih0aGlzLnJlcG9ydE1pc3NpbmdUb2tlbih0KSwhMCl9fSx7a2V5Olwic2luZ2xlVG9rZW5EZWxldGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VG9rZW5TdHJlYW0oKS5MQSgyKTtpZih0aGlzLmdldEV4cGVjdGVkVG9rZW5zKHQpLmNvbnRhaW5zKGUpKXt0aGlzLnJlcG9ydFVud2FudGVkVG9rZW4odCksdC5jb25zdW1lKCk7dmFyIG49dC5nZXRDdXJyZW50VG9rZW4oKTtyZXR1cm4gdGhpcy5yZXBvcnRNYXRjaCh0KSxufXJldHVybiBudWxsfX0se2tleTpcImdldE1pc3NpbmdTeW1ib2xcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxuPXQuZ2V0Q3VycmVudFRva2VuKCkscj10aGlzLmdldEV4cGVjdGVkVG9rZW5zKHQpLmZpcnN0KCk7ZT1yPT09by5FT0Y/XCI8bWlzc2luZyBFT0Y+XCI6XCI8bWlzc2luZyBcIit0LmxpdGVyYWxOYW1lc1tyXStcIj5cIjt2YXIgaT1uLHU9dC5nZXRUb2tlblN0cmVhbSgpLkxUKC0xKTtyZXR1cm4gaS50eXBlPT09by5FT0YmJm51bGwhPT11JiYoaT11KSx0LmdldFRva2VuRmFjdG9yeSgpLmNyZWF0ZShpLnNvdXJjZSxyLGUsby5ERUZBVUxUX0NIQU5ORUwsLTEsLTEsaS5saW5lLGkuY29sdW1uKX19LHtrZXk6XCJnZXRFeHBlY3RlZFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmdldEV4cGVjdGVkVG9rZW5zKCl9fSx7a2V5OlwiZ2V0VG9rZW5FcnJvckRpc3BsYXlcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dClyZXR1cm5cIjxubyB0b2tlbj5cIjt2YXIgZT10LnRleHQ7cmV0dXJuIG51bGw9PT1lJiYoZT10LnR5cGU9PT1vLkVPRj9cIjxFT0Y+XCI6XCI8XCIrdC50eXBlK1wiPlwiKSx0aGlzLmVzY2FwZVdTQW5kUXVvdGUoZSl9fSx7a2V5OlwiZXNjYXBlV1NBbmRRdW90ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVyblwiJ1wiKyh0PSh0PSh0PXQucmVwbGFjZSgvXFxuL2csXCJcXFxcblwiKSkucmVwbGFjZSgvXFxyL2csXCJcXFxcclwiKSkucmVwbGFjZSgvXFx0L2csXCJcXFxcdFwiKSkrXCInXCJ9fSx7a2V5OlwiZ2V0RXJyb3JSZWNvdmVyeVNldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Ll9pbnRlcnAuYXRuLG49dC5fY3R4LHI9bmV3IFY7bnVsbCE9PW4mJm4uaW52b2tpbmdTdGF0ZT49MDspe3ZhciBpPWUuc3RhdGVzW24uaW52b2tpbmdTdGF0ZV0udHJhbnNpdGlvbnNbMF0sdT1lLm5leHRUb2tlbnMoaS5mb2xsb3dTdGF0ZSk7ci5hZGRTZXQodSksbj1uLnBhcmVudEN0eH1yZXR1cm4gci5yZW1vdmVPbmUoby5FUFNJTE9OKSxyfX0se2tleTpcImNvbnN1bWVVbnRpbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZ2V0VG9rZW5TdHJlYW0oKS5MQSgxKTtuIT09by5FT0YmJiFlLmNvbnRhaW5zKG4pOyl0LmNvbnN1bWUoKSxuPXQuZ2V0VG9rZW5TdHJlYW0oKS5MQSgxKX19XSxuJiZZYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwicmVjb3ZlcklubGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJyZWNvdmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt9fSx7a2V5Olwic3luY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJpbkVycm9yUmVjb3ZlcnlNb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcInJlcG9ydEVycm9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX1dKSYmSGMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpKTtmdW5jdGlvbiAkYyh0KXtyZXR1cm4gJGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sJGModCl9ZnVuY3Rpb24gSmModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PSRjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PSRjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PSRjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBRYyh0LGUpe3JldHVybiBRYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFFjKHQsZSl9ZnVuY3Rpb24gWmModCl7cmV0dXJuIFpjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxaYyh0KX12YXIgdGE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlFjKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9WmMocik7aWYobyl7dmFyIG49WmModGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT0kYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzKX1yZXR1cm4gZT11LG49W3trZXk6XCJyZWNvdmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5fY3R4O251bGwhPT1uOyluLmV4Y2VwdGlvbj1lLG49bi5wYXJlbnRDdHg7dGhyb3cgbmV3IHpjKGUpfX0se2tleTpcInJlY292ZXJJbmxpbmVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlY292ZXIodCxuZXcgUGModCkpfX0se2tleTpcInN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXt9fV0sbiYmSmMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShYYyk7Y29uc3QgZWE9e1JlY29nbml0aW9uRXhjZXB0aW9uOnhpLE5vVmlhYmxlQWx0RXhjZXB0aW9uOkJ1LExleGVyTm9WaWFibGVBbHRFeGNlcHRpb246SWksSW5wdXRNaXNtYXRjaEV4Y2VwdGlvbjpQYyxGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb246amMsRGlhZ25vc3RpY0Vycm9yTGlzdGVuZXI6SWMsQmFpbEVycm9yU3RyYXRlZ3k6dGEsRGVmYXVsdEVycm9yU3RyYXRlZ3k6WGMsRXJyb3JMaXN0ZW5lcjpHb307ZnVuY3Rpb24gbmEodCl7cmV0dXJuIG5hPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LG5hKHQpfWZ1bmN0aW9uIHJhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1uYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1uYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1uYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIG9hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe2lmKGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLm5hbWU9XCI8ZW1wdHk+XCIsdGhpcy5zdHJkYXRhPWUsdGhpcy5kZWNvZGVUb1VuaWNvZGVDb2RlUG9pbnRzPW58fCExLHRoaXMuX2luZGV4PTAsdGhpcy5kYXRhPVtdLHRoaXMuZGVjb2RlVG9Vbmljb2RlQ29kZVBvaW50cylmb3IodmFyIHI9MDtyPHRoaXMuc3RyZGF0YS5sZW5ndGg7KXt2YXIgbz10aGlzLnN0cmRhdGEuY29kZVBvaW50QXQocik7dGhpcy5kYXRhLnB1c2gobykscis9bzw9NjU1MzU/MToyfWVsc2V7dGhpcy5kYXRhPW5ldyBBcnJheSh0aGlzLnN0cmRhdGEubGVuZ3RoKTtmb3IodmFyIGk9MDtpPHRoaXMuc3RyZGF0YS5sZW5ndGg7aSsrKXRoaXMuZGF0YVtpXT10aGlzLnN0cmRhdGEuY2hhckNvZGVBdChpKX10aGlzLl9zaXplPXRoaXMuZGF0YS5sZW5ndGh9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW5kZXg9MH19LHtrZXk6XCJjb25zdW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9pbmRleD49dGhpcy5fc2l6ZSl0aHJvd1wiY2Fubm90IGNvbnN1bWUgRU9GXCI7dGhpcy5faW5kZXgrPTF9fSx7a2V5OlwiTEFcIix2YWx1ZTpmdW5jdGlvbih0KXtpZigwPT09dClyZXR1cm4gMDt0PDAmJih0Kz0xKTt2YXIgZT10aGlzLl9pbmRleCt0LTE7cmV0dXJuIGU8MHx8ZT49dGhpcy5fc2l6ZT9vLkVPRjp0aGlzLmRhdGFbZV19fSx7a2V5OlwiTFRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5MQSh0KX19LHtrZXk6XCJtYXJrXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMX19LHtrZXk6XCJyZWxlYXNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcInNlZWtcIix2YWx1ZTpmdW5jdGlvbih0KXt0PD10aGlzLl9pbmRleD90aGlzLl9pbmRleD10OnRoaXMuX2luZGV4PU1hdGgubWluKHQsdGhpcy5fc2l6ZSl9fSx7a2V5OlwiZ2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoZT49dGhpcy5fc2l6ZSYmKGU9dGhpcy5fc2l6ZS0xKSx0Pj10aGlzLl9zaXplKXJldHVyblwiXCI7aWYodGhpcy5kZWNvZGVUb1VuaWNvZGVDb2RlUG9pbnRzKXtmb3IodmFyIG49XCJcIixyPXQ7cjw9ZTtyKyspbis9U3RyaW5nLmZyb21Db2RlUG9pbnQodGhpcy5kYXRhW3JdKTtyZXR1cm4gbn1yZXR1cm4gdGhpcy5zdHJkYXRhLnNsaWNlKHQsZSsxKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyZGF0YX19LHtrZXk6XCJpbmRleFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleH19LHtrZXk6XCJzaXplXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9fV0sbiYmcmEoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIGlhKHQpe3JldHVybiBpYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpYSh0KX1mdW5jdGlvbiB1YSh0LGUpe3JldHVybiB1YT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHVhKHQsZSl9ZnVuY3Rpb24gY2EodCl7cmV0dXJuIGNhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxjYSh0KX12YXIgYWE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnVhKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWNhKG4pO2lmKHIpe3ZhciBvPWNhKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09aWEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxvLmNhbGwodGhpcyx0LGUpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShvYSksbGE9big5Mik7ZnVuY3Rpb24gc2EodCl7cmV0dXJuIHNhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHNhKHQpfWZ1bmN0aW9uIGZhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1zYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1zYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1zYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gcGEodCxlKXtyZXR1cm4gcGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxwYSh0LGUpfWZ1bmN0aW9uIHlhKHQpe3JldHVybiB5YT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0seWEodCl9dmFyIGhhPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZudWxsIT1wcm9jZXNzLnZlcnNpb25zJiZudWxsIT1wcm9jZXNzLnZlcnNpb25zLm5vZGUsYmE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnBhKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9eWEocik7aWYobyl7dmFyIG49eWEodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1zYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlLG4pe3ZhciByO2lmKGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwhaGEpdGhyb3cgbmV3IEVycm9yKFwiRmlsZVN0cmVhbSBpcyBvbmx5IGF2YWlsYWJsZSB3aGVuIHJ1bm5pbmcgaW4gTm9kZSFcIik7dmFyIG89bGEucmVhZEZpbGVTeW5jKHQsZXx8XCJ1dGYtOFwiKTtyZXR1cm4ocj1pLmNhbGwodGhpcyxvLG4pKS5maWxlTmFtZT10LHJ9cmV0dXJuIGU9dSxuPVt7a2V5OlwiZnJvbVBhdGhcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7aWYoIWhhKXRocm93IG5ldyBFcnJvcihcIkZpbGVTdHJlYW0gaXMgb25seSBhdmFpbGFibGUgd2hlbiBydW5uaW5nIGluIE5vZGUhXCIpO2xhLnJlYWRGaWxlKHQsZSwoZnVuY3Rpb24odCxlKXt2YXIgcj1udWxsO251bGwhPT1lJiYocj1uZXcgb2EoZSwhMCkpLG4odCxyKX0pKX19XSxudWxsJiZmYShlLnByb3RvdHlwZSxudWxsKSxuJiZmYShlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oYWEpO2NvbnN0IHZhPXtmcm9tU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgb2EodCwhMCl9LGZyb21CbG9iOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPW5ldyB3aW5kb3cuRmlsZVJlYWRlcjtvLm9ubG9hZD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgb2EodC50YXJnZXQucmVzdWx0LCEwKTtuKGUpfSxvLm9uZXJyb3I9cixvLnJlYWRBc1RleHQodCxlKX0sZnJvbUJ1ZmZlcjpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgb2EodC50b1N0cmluZyhlKSwhMCl9LGZyb21QYXRoOmZ1bmN0aW9uKHQsZSxuKXtiYS5mcm9tUGF0aCh0LGUsbil9LGZyb21QYXRoU3luYzpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgYmEodCxlKX19LGRhPXthcnJheVRvU3RyaW5nOmIsc3RyaW5nVG9DaGFyQXJyYXk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBVaW50MTZBcnJheSh0Lmxlbmd0aCksbj0wO248dC5sZW5ndGg7bisrKWVbbl09dC5jaGFyQ29kZUF0KG4pO3JldHVybiBlfX07ZnVuY3Rpb24gbWEodCl7cmV0dXJuIG1hPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LG1hKHQpfWZ1bmN0aW9uIGdhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1tYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1tYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1tYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gU2EodCxlLG4pe3JldHVybiBlJiZnYSh0LnByb3RvdHlwZSxlKSxuJiZnYSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBPYSh0KXtyZXR1cm4gT2E9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sT2EodCl9ZnVuY3Rpb24gd2EodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PU9hKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PU9hKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PU9hKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBfYSh0LGUpe3JldHVybiBfYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LF9hKHQsZSl9ZnVuY3Rpb24gUGEodCl7cmV0dXJuIFBhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxQYSh0KX12YXIgVGE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJl9hKHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9UGEocik7aWYoaSl7dmFyIG49UGEodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1PYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwoZT11LmNhbGwodGhpcykpLnRva2VuU291cmNlPXQsZS50b2tlbnM9W10sZS5pbmRleD0tMSxlLmZldGNoZWRFT0Y9ITEsZX1yZXR1cm4gZT1jLG49W3trZXk6XCJtYXJrXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6XCJyZWxlYXNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNlZWsoMCl9fSx7a2V5Olwic2Vla1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubGF6eUluaXQoKSx0aGlzLmluZGV4PXRoaXMuYWRqdXN0U2Vla0luZGV4KHQpfX0se2tleTpcInNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2tlbnMubGVuZ3RofX0se2tleTpcImdldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxhenlJbml0KCksdGhpcy50b2tlbnNbdF19fSx7a2V5OlwiY29uc3VtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoISh0aGlzLmluZGV4Pj0wJiYodGhpcy5mZXRjaGVkRU9GP3RoaXMuaW5kZXg8dGhpcy50b2tlbnMubGVuZ3RoLTE6dGhpcy5pbmRleDx0aGlzLnRva2Vucy5sZW5ndGgpKSYmdGhpcy5MQSgxKT09PW8uRU9GKXRocm93XCJjYW5ub3QgY29uc3VtZSBFT0ZcIjt0aGlzLnN5bmModGhpcy5pbmRleCsxKSYmKHRoaXMuaW5kZXg9dGhpcy5hZGp1c3RTZWVrSW5kZXgodGhpcy5pbmRleCsxKSl9fSx7a2V5Olwic3luY1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQtdGhpcy50b2tlbnMubGVuZ3RoKzE7cmV0dXJuIShlPjApfHx0aGlzLmZldGNoKGUpPj1lfX0se2tleTpcImZldGNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5mZXRjaGVkRU9GKXJldHVybiAwO2Zvcih2YXIgZT0wO2U8dDtlKyspe3ZhciBuPXRoaXMudG9rZW5Tb3VyY2UubmV4dFRva2VuKCk7aWYobi50b2tlbkluZGV4PXRoaXMudG9rZW5zLmxlbmd0aCx0aGlzLnRva2Vucy5wdXNoKG4pLG4udHlwZT09PW8uRU9GKXJldHVybiB0aGlzLmZldGNoZWRFT0Y9ITAsZSsxfXJldHVybiB0fX0se2tleTpcImdldFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj1udWxsKSx0PDB8fGU8MClyZXR1cm4gbnVsbDt0aGlzLmxhenlJbml0KCk7dmFyIHI9W107ZT49dGhpcy50b2tlbnMubGVuZ3RoJiYoZT10aGlzLnRva2Vucy5sZW5ndGgtMSk7Zm9yKHZhciBpPXQ7aTxlO2krKyl7dmFyIHU9dGhpcy50b2tlbnNbaV07aWYodS50eXBlPT09by5FT0YpYnJlYWs7KG51bGw9PT1ufHxuLmNvbnRhaW5zKHUudHlwZSkpJiZyLnB1c2godSl9cmV0dXJuIHJ9fSx7a2V5OlwiTEFcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5MVCh0KS50eXBlfX0se2tleTpcIkxCXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5kZXgtdDwwP251bGw6dGhpcy50b2tlbnNbdGhpcy5pbmRleC10XX19LHtrZXk6XCJMVFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMubGF6eUluaXQoKSwwPT09dClyZXR1cm4gbnVsbDtpZih0PDApcmV0dXJuIHRoaXMuTEIoLXQpO3ZhciBlPXRoaXMuaW5kZXgrdC0xO3JldHVybiB0aGlzLnN5bmMoZSksZT49dGhpcy50b2tlbnMubGVuZ3RoP3RoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aC0xXTp0aGlzLnRva2Vuc1tlXX19LHtrZXk6XCJhZGp1c3RTZWVrSW5kZXhcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdH19LHtrZXk6XCJsYXp5SW5pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7LTE9PT10aGlzLmluZGV4JiZ0aGlzLnNldHVwKCl9fSx7a2V5Olwic2V0dXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3luYygwKSx0aGlzLmluZGV4PXRoaXMuYWRqdXN0U2Vla0luZGV4KDApfX0se2tleTpcInNldFRva2VuU291cmNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy50b2tlblNvdXJjZT10LHRoaXMudG9rZW5zPVtdLHRoaXMuaW5kZXg9LTEsdGhpcy5mZXRjaGVkRU9GPSExfX0se2tleTpcIm5leHRUb2tlbk9uQ2hhbm5lbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zeW5jKHQpLHQ+PXRoaXMudG9rZW5zLmxlbmd0aClyZXR1cm4tMTtmb3IodmFyIG49dGhpcy50b2tlbnNbdF07bi5jaGFubmVsIT09dGhpcy5jaGFubmVsOyl7aWYobi50eXBlPT09by5FT0YpcmV0dXJuLTE7dCs9MSx0aGlzLnN5bmModCksbj10aGlzLnRva2Vuc1t0XX1yZXR1cm4gdH19LHtrZXk6XCJwcmV2aW91c1Rva2VuT25DaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IoO3Q+PTAmJnRoaXMudG9rZW5zW3RdLmNoYW5uZWwhPT1lOyl0LT0xO3JldHVybiB0fX0se2tleTpcImdldEhpZGRlblRva2Vuc1RvUmlnaHRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPS0xKSx0aGlzLmxhenlJbml0KCksdDwwfHx0Pj10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgdCtcIiBub3QgaW4gMC4uXCIrdGhpcy50b2tlbnMubGVuZ3RoLTE7dmFyIG49dGhpcy5uZXh0VG9rZW5PbkNoYW5uZWwodCsxLFVpLkRFRkFVTFRfVE9LRU5fQ0hBTk5FTCkscj10KzEsbz0tMT09PW4/dGhpcy50b2tlbnMubGVuZ3RoLTE6bjtyZXR1cm4gdGhpcy5maWx0ZXJGb3JDaGFubmVsKHIsbyxlKX19LHtrZXk6XCJnZXRIaWRkZW5Ub2tlbnNUb0xlZnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPS0xKSx0aGlzLmxhenlJbml0KCksdDwwfHx0Pj10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgdCtcIiBub3QgaW4gMC4uXCIrdGhpcy50b2tlbnMubGVuZ3RoLTE7dmFyIG49dGhpcy5wcmV2aW91c1Rva2VuT25DaGFubmVsKHQtMSxVaS5ERUZBVUxUX1RPS0VOX0NIQU5ORUwpO2lmKG49PT10LTEpcmV0dXJuIG51bGw7dmFyIHI9bisxLG89dC0xO3JldHVybiB0aGlzLmZpbHRlckZvckNoYW5uZWwocixvLGUpfX0se2tleTpcImZpbHRlckZvckNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLG89dDtvPGUrMTtvKyspe3ZhciBpPXRoaXMudG9rZW5zW29dOy0xPT09bj9pLmNoYW5uZWwhPT1VaS5ERUZBVUxUX1RPS0VOX0NIQU5ORUwmJnIucHVzaChpKTppLmNoYW5uZWw9PT1uJiZyLnB1c2goaSl9cmV0dXJuIDA9PT1yLmxlbmd0aD9udWxsOnJ9fSx7a2V5OlwiZ2V0U291cmNlTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW5Tb3VyY2UuZ2V0U291cmNlTmFtZSgpfX0se2tleTpcImdldFRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmxhenlJbml0KCksdGhpcy5maWxsKCksdHx8KHQ9bmV3IEIoMCx0aGlzLnRva2Vucy5sZW5ndGgtMSkpO3ZhciBlPXQuc3RhcnQ7ZSBpbnN0YW5jZW9mIG8mJihlPWUudG9rZW5JbmRleCk7dmFyIG49dC5zdG9wO2lmKG4gaW5zdGFuY2VvZiBvJiYobj1uLnRva2VuSW5kZXgpLG51bGw9PT1lfHxudWxsPT09bnx8ZTwwfHxuPDApcmV0dXJuXCJcIjtuPj10aGlzLnRva2Vucy5sZW5ndGgmJihuPXRoaXMudG9rZW5zLmxlbmd0aC0xKTtmb3IodmFyIHI9XCJcIixpPWU7aTxuKzE7aSsrKXt2YXIgdT10aGlzLnRva2Vuc1tpXTtpZih1LnR5cGU9PT1vLkVPRilicmVhaztyKz11LnRleHR9cmV0dXJuIHJ9fSx7a2V5OlwiZmlsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHRoaXMubGF6eUluaXQoKTsxZTM9PT10aGlzLmZldGNoKDFlMyk7KTt9fV0sbiYmd2EoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShTYSgoZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9KSkpO2Z1bmN0aW9uIEVhKHQpe3JldHVybiBFYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxFYSh0KX1mdW5jdGlvbiBrYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RWEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RWEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RWEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGphKHQsZSl7cmV0dXJuIGphPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0samEodCxlKX1mdW5jdGlvbiB4YSh0KXtyZXR1cm4geGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHhhKHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW5zLmxlbmd0aH19KTt2YXIgUmE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmphKHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9eGEocik7aWYoaSl7dmFyIG49eGEodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1FYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChuPXUuY2FsbCh0aGlzLHQpKS5jaGFubmVsPXZvaWQgMD09PWU/by5ERUZBVUxUX0NIQU5ORUw6ZSxufXJldHVybiBlPWMsbj1be2tleTpcImFkanVzdFNlZWtJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHRUb2tlbk9uQ2hhbm5lbCh0LHRoaXMuY2hhbm5lbCl9fSx7a2V5OlwiTEJcIix2YWx1ZTpmdW5jdGlvbih0KXtpZigwPT09dHx8dGhpcy5pbmRleC10PDApcmV0dXJuIG51bGw7Zm9yKHZhciBlPXRoaXMuaW5kZXgsbj0xO248PXQ7KWU9dGhpcy5wcmV2aW91c1Rva2VuT25DaGFubmVsKGUtMSx0aGlzLmNoYW5uZWwpLG4rPTE7cmV0dXJuIGU8MD9udWxsOnRoaXMudG9rZW5zW2VdfX0se2tleTpcIkxUXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5sYXp5SW5pdCgpLDA9PT10KXJldHVybiBudWxsO2lmKHQ8MClyZXR1cm4gdGhpcy5MQigtdCk7Zm9yKHZhciBlPXRoaXMuaW5kZXgsbj0xO248dDspdGhpcy5zeW5jKGUrMSkmJihlPXRoaXMubmV4dFRva2VuT25DaGFubmVsKGUrMSx0aGlzLmNoYW5uZWwpKSxuKz0xO3JldHVybiB0aGlzLnRva2Vuc1tlXX19LHtrZXk6XCJnZXROdW1iZXJPZk9uQ2hhbm5lbFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDt0aGlzLmZpbGwoKTtmb3IodmFyIGU9MDtlPHRoaXMudG9rZW5zLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMudG9rZW5zW2VdO2lmKG4uY2hhbm5lbD09PXRoaXMuY2hhbm5lbCYmKHQrPTEpLG4udHlwZT09PW8uRU9GKWJyZWFrfXJldHVybiB0fX1dLG4mJmthKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30oVGEpO2Z1bmN0aW9uIENhKHQpe3JldHVybiBDYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxDYSh0KX1mdW5jdGlvbiBBYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09Q2EodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09Q2EocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Q2Eobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIE5hKHQsZSl7cmV0dXJuIE5hPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sTmEodCxlKX1mdW5jdGlvbiBJYSh0KXtyZXR1cm4gSWE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LElhKHQpfXZhciBMYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTmEodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1JYShyKTtpZihvKXt2YXIgbj1JYSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUNhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChlPWkuY2FsbCh0aGlzKSkucGFyc2VyPXQsZX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZW50ZXJFdmVyeVJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcImVudGVyICAgXCIrdGhpcy5wYXJzZXIucnVsZU5hbWVzW3QucnVsZUluZGV4XStcIiwgTFQoMSk9XCIrdGhpcy5wYXJzZXIuX2lucHV0LkxUKDEpLnRleHQpfX0se2tleTpcInZpc2l0VGVybWluYWxcIix2YWx1ZTpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcImNvbnN1bWUgXCIrdC5zeW1ib2wrXCIgcnVsZSBcIit0aGlzLnBhcnNlci5ydWxlTmFtZXNbdGhpcy5wYXJzZXIuX2N0eC5ydWxlSW5kZXhdKX19LHtrZXk6XCJleGl0RXZlcnlSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Y29uc29sZS5sb2coXCJleGl0ICAgIFwiK3RoaXMucGFyc2VyLnJ1bGVOYW1lc1t0LnJ1bGVJbmRleF0rXCIsIExUKDEpPVwiK3RoaXMucGFyc2VyLl9pbnB1dC5MVCgxKS50ZXh0KX19XSkmJkFhKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oeWMpO2Z1bmN0aW9uIERhKHQpe3JldHVybiBEYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxEYSh0KX1mdW5jdGlvbiBGYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RGEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RGEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RGEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEJhKHQsZSl7cmV0dXJuIEJhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQmEodCxlKX1mdW5jdGlvbiBNYSh0KXtyZXR1cm4gTWE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE1hKHQpfXZhciBVYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQmEodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1NYShyKTtpZihpKXt2YXIgbj1NYSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PURhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChlPXUuY2FsbCh0aGlzKSkuX2lucHV0PW51bGwsZS5fZXJySGFuZGxlcj1uZXcgWGMsZS5fcHJlY2VkZW5jZVN0YWNrPVtdLGUuX3ByZWNlZGVuY2VTdGFjay5wdXNoKDApLGUuX2N0eD1udWxsLGUuYnVpbGRQYXJzZVRyZWVzPSEwLGUuX3RyYWNlcj1udWxsLGUuX3BhcnNlTGlzdGVuZXJzPW51bGwsZS5fc3ludGF4RXJyb3JzPTAsZS5zZXRJbnB1dFN0cmVhbSh0KSxlfXJldHVybiBlPWMsbj1be2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5faW5wdXQmJnRoaXMuX2lucHV0LnNlZWsoMCksdGhpcy5fZXJySGFuZGxlci5yZXNldCh0aGlzKSx0aGlzLl9jdHg9bnVsbCx0aGlzLl9zeW50YXhFcnJvcnM9MCx0aGlzLnNldFRyYWNlKCExKSx0aGlzLl9wcmVjZWRlbmNlU3RhY2s9W10sdGhpcy5fcHJlY2VkZW5jZVN0YWNrLnB1c2goMCksbnVsbCE9PXRoaXMuX2ludGVycCYmdGhpcy5faW50ZXJwLnJlc2V0KCl9fSx7a2V5OlwibWF0Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEN1cnJlbnRUb2tlbigpO3JldHVybiBlLnR5cGU9PT10Pyh0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydE1hdGNoKHRoaXMpLHRoaXMuY29uc3VtZSgpKTooZT10aGlzLl9lcnJIYW5kbGVyLnJlY292ZXJJbmxpbmUodGhpcyksdGhpcy5idWlsZFBhcnNlVHJlZXMmJi0xPT09ZS50b2tlbkluZGV4JiZ0aGlzLl9jdHguYWRkRXJyb3JOb2RlKGUpKSxlfX0se2tleTpcIm1hdGNoV2lsZGNhcmRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Q3VycmVudFRva2VuKCk7cmV0dXJuIHQudHlwZT4wPyh0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydE1hdGNoKHRoaXMpLHRoaXMuY29uc3VtZSgpKToodD10aGlzLl9lcnJIYW5kbGVyLnJlY292ZXJJbmxpbmUodGhpcyksdGhpcy5idWlsZFBhcnNlVHJlZXMmJi0xPT09dC50b2tlbkluZGV4JiZ0aGlzLl9jdHguYWRkRXJyb3JOb2RlKHQpKSx0fX0se2tleTpcImdldFBhcnNlTGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyc2VMaXN0ZW5lcnN8fFtdfX0se2tleTpcImFkZFBhcnNlTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dCl0aHJvd1wibGlzdGVuZXJcIjtudWxsPT09dGhpcy5fcGFyc2VMaXN0ZW5lcnMmJih0aGlzLl9wYXJzZUxpc3RlbmVycz1bXSksdGhpcy5fcGFyc2VMaXN0ZW5lcnMucHVzaCh0KX19LHtrZXk6XCJyZW1vdmVQYXJzZUxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbCE9PXRoaXMuX3BhcnNlTGlzdGVuZXJzKXt2YXIgZT10aGlzLl9wYXJzZUxpc3RlbmVycy5pbmRleE9mKHQpO2U+PTAmJnRoaXMuX3BhcnNlTGlzdGVuZXJzLnNwbGljZShlLDEpLDA9PT10aGlzLl9wYXJzZUxpc3RlbmVycy5sZW5ndGgmJih0aGlzLl9wYXJzZUxpc3RlbmVycz1udWxsKX19fSx7a2V5OlwicmVtb3ZlUGFyc2VMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3BhcnNlTGlzdGVuZXJzPW51bGx9fSx7a2V5OlwidHJpZ2dlckVudGVyUnVsZUV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5fcGFyc2VMaXN0ZW5lcnMpe3ZhciB0PXRoaXMuX2N0eDt0aGlzLl9wYXJzZUxpc3RlbmVycy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmVudGVyRXZlcnlSdWxlKHQpLHQuZW50ZXJSdWxlKGUpfSkpfX19LHtrZXk6XCJ0cmlnZ2VyRXhpdFJ1bGVFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3BhcnNlTGlzdGVuZXJzKXt2YXIgdD10aGlzLl9jdHg7dGhpcy5fcGFyc2VMaXN0ZW5lcnMuc2xpY2UoMCkucmV2ZXJzZSgpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuZXhpdFJ1bGUoZSksZS5leGl0RXZlcnlSdWxlKHQpfSkpfX19LHtrZXk6XCJnZXRUb2tlbkZhY3RvcnlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dC50b2tlblNvdXJjZS5fZmFjdG9yeX19LHtrZXk6XCJzZXRUb2tlbkZhY3RvcnlcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dC50b2tlblNvdXJjZS5fZmFjdG9yeT10fX0se2tleTpcImdldEFUTldpdGhCeXBhc3NBbHRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNlcmlhbGl6ZWRBVE4oKTtpZihudWxsPT09dCl0aHJvd1wiVGhlIGN1cnJlbnQgcGFyc2VyIGRvZXMgbm90IHN1cHBvcnQgYW4gQVROIHdpdGggYnlwYXNzIGFsdGVybmF0aXZlcy5cIjt2YXIgZT10aGlzLmJ5cGFzc0FsdHNBdG5DYWNoZVt0XTtpZihudWxsPT09ZSl7dmFyIG49bmV3ICRyO24uZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvbnM9ITAsZT1uZXcgSG8obikuZGVzZXJpYWxpemUodCksdGhpcy5ieXBhc3NBbHRzQXRuQ2FjaGVbdF09ZX1yZXR1cm4gZX19LHtrZXk6XCJnZXRJbnB1dFN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VG9rZW5TdHJlYW0oKX19LHtrZXk6XCJzZXRJbnB1dFN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2V0VG9rZW5TdHJlYW0odCl9fSx7a2V5OlwiZ2V0VG9rZW5TdHJlYW1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dH19LHtrZXk6XCJzZXRUb2tlblN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2lucHV0PW51bGwsdGhpcy5yZXNldCgpLHRoaXMuX2lucHV0PXR9fSx7a2V5Olwic3ludGF4RXJyb3JzQ291bnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3ludGF4RXJyb3JzfX0se2tleTpcImdldEN1cnJlbnRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0LkxUKDEpfX0se2tleTpcIm5vdGlmeUVycm9yTGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe249bnx8bnVsbCxudWxsPT09KGU9ZXx8bnVsbCkmJihlPXRoaXMuZ2V0Q3VycmVudFRva2VuKCkpLHRoaXMuX3N5bnRheEVycm9ycys9MTt2YXIgcj1lLmxpbmUsbz1lLmNvbHVtbjt0aGlzLmdldEVycm9yTGlzdGVuZXJEaXNwYXRjaCgpLnN5bnRheEVycm9yKHRoaXMsZSxyLG8sdCxuKX19LHtrZXk6XCJjb25zdW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEN1cnJlbnRUb2tlbigpO3QudHlwZSE9PW8uRU9GJiZ0aGlzLmdldElucHV0U3RyZWFtKCkuY29uc3VtZSgpO3ZhciBlLG49bnVsbCE9PXRoaXMuX3BhcnNlTGlzdGVuZXJzJiZ0aGlzLl9wYXJzZUxpc3RlbmVycy5sZW5ndGg+MDtyZXR1cm4odGhpcy5idWlsZFBhcnNlVHJlZXN8fG4pJiYoKGU9dGhpcy5fZXJySGFuZGxlci5pbkVycm9yUmVjb3ZlcnlNb2RlKHRoaXMpP3RoaXMuX2N0eC5hZGRFcnJvck5vZGUodCk6dGhpcy5fY3R4LmFkZFRva2VuTm9kZSh0KSkuaW52b2tpbmdTdGF0ZT10aGlzLnN0YXRlLG4mJnRoaXMuX3BhcnNlTGlzdGVuZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UgaW5zdGFuY2VvZiBXdHx8dm9pZCAwIT09ZS5pc0Vycm9yTm9kZSYmZS5pc0Vycm9yTm9kZSgpP3QudmlzaXRFcnJvck5vZGUoZSk6ZSBpbnN0YW5jZW9mIEh0JiZ0LnZpc2l0VGVybWluYWwoZSl9KSkpLHR9fSx7a2V5OlwiYWRkQ29udGV4dFRvUGFyc2VUcmVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5fY3R4LnBhcmVudEN0eCYmdGhpcy5fY3R4LnBhcmVudEN0eC5hZGRDaGlsZCh0aGlzLl9jdHgpfX0se2tleTpcImVudGVyUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0aGlzLnN0YXRlPWUsdGhpcy5fY3R4PXQsdGhpcy5fY3R4LnN0YXJ0PXRoaXMuX2lucHV0LkxUKDEpLHRoaXMuYnVpbGRQYXJzZVRyZWVzJiZ0aGlzLmFkZENvbnRleHRUb1BhcnNlVHJlZSgpLHRoaXMudHJpZ2dlckVudGVyUnVsZUV2ZW50KCl9fSx7a2V5OlwiZXhpdFJ1bGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2N0eC5zdG9wPXRoaXMuX2lucHV0LkxUKC0xKSx0aGlzLnRyaWdnZXJFeGl0UnVsZUV2ZW50KCksdGhpcy5zdGF0ZT10aGlzLl9jdHguaW52b2tpbmdTdGF0ZSx0aGlzLl9jdHg9dGhpcy5fY3R4LnBhcmVudEN0eH19LHtrZXk6XCJlbnRlck91dGVyQWx0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LnNldEFsdE51bWJlcihlKSx0aGlzLmJ1aWxkUGFyc2VUcmVlcyYmdGhpcy5fY3R4IT09dCYmbnVsbCE9PXRoaXMuX2N0eC5wYXJlbnRDdHgmJih0aGlzLl9jdHgucGFyZW50Q3R4LnJlbW92ZUxhc3RDaGlsZCgpLHRoaXMuX2N0eC5wYXJlbnRDdHguYWRkQ2hpbGQodCkpLHRoaXMuX2N0eD10fX0se2tleTpcImdldFByZWNlZGVuY2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcHJlY2VkZW5jZVN0YWNrLmxlbmd0aD8tMTp0aGlzLl9wcmVjZWRlbmNlU3RhY2tbdGhpcy5fcHJlY2VkZW5jZVN0YWNrLmxlbmd0aC0xXX19LHtrZXk6XCJlbnRlclJlY3Vyc2lvblJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXt0aGlzLnN0YXRlPWUsdGhpcy5fcHJlY2VkZW5jZVN0YWNrLnB1c2gociksdGhpcy5fY3R4PXQsdGhpcy5fY3R4LnN0YXJ0PXRoaXMuX2lucHV0LkxUKDEpLHRoaXMudHJpZ2dlckVudGVyUnVsZUV2ZW50KCl9fSx7a2V5OlwicHVzaE5ld1JlY3Vyc2lvbkNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fY3R4O3IucGFyZW50Q3R4PXQsci5pbnZva2luZ1N0YXRlPWUsci5zdG9wPXRoaXMuX2lucHV0LkxUKC0xKSx0aGlzLl9jdHg9dCx0aGlzLl9jdHguc3RhcnQ9ci5zdGFydCx0aGlzLmJ1aWxkUGFyc2VUcmVlcyYmdGhpcy5fY3R4LmFkZENoaWxkKHIpLHRoaXMudHJpZ2dlckVudGVyUnVsZUV2ZW50KCl9fSx7a2V5OlwidW5yb2xsUmVjdXJzaW9uQ29udGV4dHNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9wcmVjZWRlbmNlU3RhY2sucG9wKCksdGhpcy5fY3R4LnN0b3A9dGhpcy5faW5wdXQuTFQoLTEpO3ZhciBlPXRoaXMuX2N0eCxuPXRoaXMuZ2V0UGFyc2VMaXN0ZW5lcnMoKTtpZihudWxsIT09biYmbi5sZW5ndGg+MClmb3IoO3RoaXMuX2N0eCE9PXQ7KXRoaXMudHJpZ2dlckV4aXRSdWxlRXZlbnQoKSx0aGlzLl9jdHg9dGhpcy5fY3R4LnBhcmVudEN0eDtlbHNlIHRoaXMuX2N0eD10O2UucGFyZW50Q3R4PXQsdGhpcy5idWlsZFBhcnNlVHJlZXMmJm51bGwhPT10JiZ0LmFkZENoaWxkKGUpfX0se2tleTpcImdldEludm9raW5nQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9jdHg7bnVsbCE9PWU7KXtpZihlLnJ1bGVJbmRleD09PXQpcmV0dXJuIGU7ZT1lLnBhcmVudEN0eH1yZXR1cm4gbnVsbH19LHtrZXk6XCJwcmVjcHJlZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU+PXRoaXMuX3ByZWNlZGVuY2VTdGFja1t0aGlzLl9wcmVjZWRlbmNlU3RhY2subGVuZ3RoLTFdfX0se2tleTpcImluQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiExfX0se2tleTpcImlzRXhwZWN0ZWRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2ludGVycC5hdG4sbj10aGlzLl9jdHgscj1lLnN0YXRlc1t0aGlzLnN0YXRlXSxpPWUubmV4dFRva2VucyhyKTtpZihpLmNvbnRhaW5zKHQpKXJldHVybiEwO2lmKCFpLmNvbnRhaW5zKG8uRVBTSUxPTikpcmV0dXJuITE7Zm9yKDtudWxsIT09biYmbi5pbnZva2luZ1N0YXRlPj0wJiZpLmNvbnRhaW5zKG8uRVBTSUxPTik7KXt2YXIgdT1lLnN0YXRlc1tuLmludm9raW5nU3RhdGVdLnRyYW5zaXRpb25zWzBdO2lmKChpPWUubmV4dFRva2Vucyh1LmZvbGxvd1N0YXRlKSkuY29udGFpbnModCkpcmV0dXJuITA7bj1uLnBhcmVudEN0eH1yZXR1cm4hKCFpLmNvbnRhaW5zKG8uRVBTSUxPTil8fHQhPT1vLkVPRil9fSx7a2V5OlwiZ2V0RXhwZWN0ZWRUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnAuYXRuLmdldEV4cGVjdGVkVG9rZW5zKHRoaXMuc3RhdGUsdGhpcy5fY3R4KX19LHtrZXk6XCJnZXRFeHBlY3RlZFRva2Vuc1dpdGhpbkN1cnJlbnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcnAuYXRuLGU9dC5zdGF0ZXNbdGhpcy5zdGF0ZV07cmV0dXJuIHQubmV4dFRva2VucyhlKX19LHtrZXk6XCJnZXRSdWxlSW5kZXhcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFJ1bGVJbmRleE1hcCgpW3RdO3JldHVybiBudWxsIT09ZT9lOi0xfX0se2tleTpcImdldFJ1bGVJbnZvY2F0aW9uU3RhY2tcIix2YWx1ZTpmdW5jdGlvbih0KXtudWxsPT09KHQ9dHx8bnVsbCkmJih0PXRoaXMuX2N0eCk7Zm9yKHZhciBlPVtdO251bGwhPT10Oyl7dmFyIG49dC5ydWxlSW5kZXg7bjwwP2UucHVzaChcIm4vYVwiKTplLnB1c2godGhpcy5ydWxlTmFtZXNbbl0pLHQ9dC5wYXJlbnRDdHh9cmV0dXJuIGV9fSx7a2V5OlwiZ2V0REZBU3RyaW5nc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVycC5kZWNpc2lvblRvREZBLnRvU3RyaW5nKCl9fSx7a2V5OlwiZHVtcERGQVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PSExLGU9MDtlPHRoaXMuX2ludGVycC5kZWNpc2lvblRvREZBLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuX2ludGVycC5kZWNpc2lvblRvREZBW2VdO24uc3RhdGVzLmxlbmd0aD4wJiYodCYmY29uc29sZS5sb2coKSx0aGlzLnByaW50ZXIucHJpbnRsbihcIkRlY2lzaW9uIFwiK24uZGVjaXNpb24rXCI6XCIpLHRoaXMucHJpbnRlci5wcmludChuLnRvU3RyaW5nKHRoaXMubGl0ZXJhbE5hbWVzLHRoaXMuc3ltYm9saWNOYW1lcykpLHQ9ITApfX19LHtrZXk6XCJnZXRTb3VyY2VOYW1lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQuc291cmNlTmFtZX19LHtrZXk6XCJzZXRUcmFjZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q/KG51bGwhPT10aGlzLl90cmFjZXImJnRoaXMucmVtb3ZlUGFyc2VMaXN0ZW5lcih0aGlzLl90cmFjZXIpLHRoaXMuX3RyYWNlcj1uZXcgTGEodGhpcyksdGhpcy5hZGRQYXJzZUxpc3RlbmVyKHRoaXMuX3RyYWNlcikpOih0aGlzLnJlbW92ZVBhcnNlTGlzdGVuZXIodGhpcy5fdHJhY2VyKSx0aGlzLl90cmFjZXI9bnVsbCl9fV0sbiYmRmEoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShhaSk7ZnVuY3Rpb24gVmEodCl7cmV0dXJuIFZhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFZhKHQpfWZ1bmN0aW9uIHphKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1WYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1WYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1WYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gcWEodCxlKXtyZXR1cm4gcWE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxxYSh0LGUpfWZ1bmN0aW9uIEhhKHQpe3JldHVybiBIYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sSGEodCl9VWEuYnlwYXNzQWx0c0F0bkNhY2hlPXt9O3ZhciBLYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmcWEodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1IYShyKTtpZihpKXt2YXIgbj1IYSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVZhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGMpLChlPXUuY2FsbCh0aGlzKSkucGFyZW50Q3R4PW51bGwsZS5zeW1ib2w9dCxlfXJldHVybiBlPWMsKG49W3trZXk6XCJnZXRDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfX0se2tleTpcImdldFN5bWJvbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3ltYm9sfX0se2tleTpcImdldFBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50Q3R4fX0se2tleTpcImdldFBheWxvYWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN5bWJvbH19LHtrZXk6XCJnZXRTb3VyY2VJbnRlcnZhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuc3ltYm9sKXJldHVybiBCLklOVkFMSURfSU5URVJWQUw7dmFyIHQ9dGhpcy5zeW1ib2wudG9rZW5JbmRleDtyZXR1cm4gbmV3IEIodCx0KX19LHtrZXk6XCJnZXRDaGlsZENvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6XCJhY2NlcHRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdFRlcm1pbmFsKHRoaXMpfX0se2tleTpcImdldFRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN5bWJvbC50ZXh0fX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zeW1ib2wudHlwZT09PW8uRU9GP1wiPEVPRj5cIjp0aGlzLnN5bWJvbC50ZXh0fX1dKSYmemEoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShIdCk7ZnVuY3Rpb24gWWEodCl7cmV0dXJuIFlhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFlhKHQpfWZ1bmN0aW9uIEdhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1ZYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1ZYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1ZYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gV2EodCxlKXtyZXR1cm4gV2E9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxXYSh0LGUpfWZ1bmN0aW9uIFhhKHQpe3JldHVybiBYYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sWGEodCl9dmFyICRhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZXYSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVhhKHIpO2lmKG8pe3ZhciBuPVhhKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09WWEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMsdCl9cmV0dXJuIGU9dSwobj1be2tleTpcImlzRXJyb3JOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJhY2NlcHRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdEVycm9yTm9kZSh0aGlzKX19XSkmJkdhKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oS2EpO2Z1bmN0aW9uIEphKHQpe3JldHVybiBKYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxKYSh0KX1mdW5jdGlvbiBRYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09SmEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09SmEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09SmEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFphKHQsZSl7cmV0dXJuIFphPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWmEodCxlKX1mdW5jdGlvbiB0bCh0KXtyZXR1cm4gdGw9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHRsKHQpfXZhciBlbD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmWmEodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT10bChyKTtpZihvKXt2YXIgbj10bCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUphKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMsdCxlKSkuY2hpbGRyZW49bnVsbCxuLnN0YXJ0PW51bGwsbi5zdG9wPW51bGwsbi5leGNlcHRpb249bnVsbCxufXJldHVybiBlPXUsbj1be2tleTpcImNvcHlGcm9tXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnRDdHg9dC5wYXJlbnRDdHgsdGhpcy5pbnZva2luZ1N0YXRlPXQuaW52b2tpbmdTdGF0ZSx0aGlzLmNoaWxkcmVuPW51bGwsdGhpcy5zdGFydD10LnN0YXJ0LHRoaXMuc3RvcD10LnN0b3AsdC5jaGlsZHJlbiYmKHRoaXMuY2hpbGRyZW49W10sdC5jaGlsZHJlbi5tYXAoKGZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiAkYSYmKHRoaXMuY2hpbGRyZW4ucHVzaCh0KSx0LnBhcmVudEN0eD10aGlzKX0pLHRoaXMpKX19LHtrZXk6XCJlbnRlclJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwiZXhpdFJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwiYWRkQ2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXRoaXMuY2hpbGRyZW4mJih0aGlzLmNoaWxkcmVuPVtdKSx0aGlzLmNoaWxkcmVuLnB1c2godCksdH19LHtrZXk6XCJyZW1vdmVMYXN0Q2hpbGRcIix2YWx1ZTpmdW5jdGlvbigpe251bGwhPT10aGlzLmNoaWxkcmVuJiZ0aGlzLmNoaWxkcmVuLnBvcCgpfX0se2tleTpcImFkZFRva2VuTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBLYSh0KTtyZXR1cm4gdGhpcy5hZGRDaGlsZChlKSxlLnBhcmVudEN0eD10aGlzLGV9fSx7a2V5OlwiYWRkRXJyb3JOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bmV3ICRhKHQpO3JldHVybiB0aGlzLmFkZENoaWxkKGUpLGUucGFyZW50Q3R4PXRoaXMsZX19LHtrZXk6XCJnZXRDaGlsZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoZT1lfHxudWxsLG51bGw9PT10aGlzLmNoaWxkcmVufHx0PDB8fHQ+PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiBudWxsO2lmKG51bGw9PT1lKXJldHVybiB0aGlzLmNoaWxkcmVuW3RdO2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgcj10aGlzLmNoaWxkcmVuW25dO2lmKHIgaW5zdGFuY2VvZiBlKXtpZigwPT09dClyZXR1cm4gcjt0LT0xfX1yZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PXRoaXMuY2hpbGRyZW58fGU8MHx8ZT49dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bbl07aWYociBpbnN0YW5jZW9mIEh0JiZyLnN5bWJvbC50eXBlPT09dCl7aWYoMD09PWUpcmV0dXJuIHI7ZS09MX19cmV0dXJuIG51bGx9fSx7a2V5OlwiZ2V0VG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXRoaXMuY2hpbGRyZW4pcmV0dXJuW107Zm9yKHZhciBlPVtdLG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltuXTtyIGluc3RhbmNlb2YgSHQmJnIuc3ltYm9sLnR5cGU9PT10JiZlLnB1c2gocil9cmV0dXJuIGV9fSx7a2V5OlwiZ2V0VHlwZWRSdWxlQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGQoZSx0KX19LHtrZXk6XCJnZXRUeXBlZFJ1bGVDb250ZXh0c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLmNoaWxkcmVuKXJldHVybltdO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bbl07ciBpbnN0YW5jZW9mIHQmJmUucHVzaChyKX1yZXR1cm4gZX19LHtrZXk6XCJnZXRDaGlsZENvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuY2hpbGRyZW4/MDp0aGlzLmNoaWxkcmVuLmxlbmd0aH19LHtrZXk6XCJnZXRTb3VyY2VJbnRlcnZhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnN0YXJ0fHxudWxsPT09dGhpcy5zdG9wP0IuSU5WQUxJRF9JTlRFUlZBTDpuZXcgQih0aGlzLnN0YXJ0LnRva2VuSW5kZXgsdGhpcy5zdG9wLnRva2VuSW5kZXgpfX1dLG4mJlFhKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oZWUpO2Z1bmN0aW9uIG5sKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnJsKHQsZSl9ZnVuY3Rpb24gcmwodCxlKXtyZXR1cm4gcmw9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxybCh0LGUpfWZ1bmN0aW9uIG9sKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4scj1pbCh0KTtpZihlKXt2YXIgbz1pbCh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KHIsYXJndW1lbnRzLG8pfWVsc2Ugbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXVsKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLG4pfX1mdW5jdGlvbiBpbCh0KXtyZXR1cm4gaWw9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGlsKHQpfWZ1bmN0aW9uIHVsKHQpe3JldHVybiB1bD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx1bCh0KX1mdW5jdGlvbiBjbCh0LGUpe3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJnRbU3ltYm9sLml0ZXJhdG9yXXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIW4pe2lmKEFycmF5LmlzQXJyYXkodCl8fChuPWZ1bmN0aW9uKHQsZSl7aWYodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGFsKHQsZSk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9hbCh0LGUpOnZvaWQgMH19KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtuJiYodD1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtyKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgaSx1PSEwLGM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PW4ubmV4dCgpO3JldHVybiB1PXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe2M9ITAsaT10fSxmOmZ1bmN0aW9uKCl7dHJ5e3V8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX19fWZ1bmN0aW9uIGFsKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkoZSk7bjxlO24rKylyW25dPXRbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gbGwodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHNsKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHBsKHIua2V5KSxyKX19ZnVuY3Rpb24gZmwodCxlLG4pe3JldHVybiBlJiZzbCh0LnByb3RvdHlwZSxlKSxuJiZzbCh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBwbCh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT11bCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT11bChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0odCk7cmV0dXJuXCJzeW1ib2xcIj09PXVsKGUpP2U6U3RyaW5nKGUpfWVlLkVNUFRZPW5ldyBlbDt2YXIgeWwsaGwsYmwsdmw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2xsKHRoaXMsdCksdGhpcy50b2tlbnM9ZSx0aGlzLnByb2dyYW1zPW5ldyBNYXB9cmV0dXJuIGZsKHQsW3trZXk6XCJnZXRUb2tlblN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW5zfX0se2tleTpcImluc2VydEFmdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgcixvPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0LkRFRkFVTFRfUFJPR1JBTV9OQU1FO3I9XCJudW1iZXJcIj09dHlwZW9mIGU/ZTplLnRva2VuSW5kZXg7dmFyIGk9dGhpcy5nZXRQcm9ncmFtKG8pLHU9bmV3IGdsKHRoaXMudG9rZW5zLHIsaS5sZW5ndGgsbik7aS5wdXNoKHUpfX0se2tleTpcImluc2VydEJlZm9yZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dC5ERUZBVUxUX1BST0dSQU1fTkFNRTtyPVwibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS50b2tlbkluZGV4O3ZhciBpPXRoaXMuZ2V0UHJvZ3JhbShvKSx1PW5ldyBtbCh0aGlzLnRva2VucyxyLGkubGVuZ3RoLG4pO2kucHVzaCh1KX19LHtrZXk6XCJyZXBsYWNlU2luZ2xlXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dC5ERUZBVUxUX1BST0dSQU1fTkFNRTt0aGlzLnJlcGxhY2UoZSxlLG4scil9fSx7a2V5OlwicmVwbGFjZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbixyKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106dC5ERUZBVUxUX1BST0dSQU1fTkFNRTtpZihcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9ZS50b2tlbkluZGV4KSxcIm51bWJlclwiIT10eXBlb2YgbiYmKG49bi50b2tlbkluZGV4KSxlPm58fGU8MHx8bjwwfHxuPj10aGlzLnRva2Vucy5zaXplKXRocm93IG5ldyBSYW5nZUVycm9yKFwicmVwbGFjZTogcmFuZ2UgaW52YWxpZDogXCIuY29uY2F0KGUsXCIuLlwiKS5jb25jYXQobixcIihzaXplPVwiKS5jb25jYXQodGhpcy50b2tlbnMuc2l6ZSxcIilcIikpO3ZhciBpPXRoaXMuZ2V0UHJvZ3JhbShvKSx1PW5ldyBTbCh0aGlzLnRva2VucyxlLG4saS5sZW5ndGgscik7aS5wdXNoKHUpfX0se2tleTpcImRlbGV0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQuREVGQVVMVF9QUk9HUkFNX05BTUU7dm9pZCAwPT09biYmKG49ZSksdGhpcy5yZXBsYWNlKGUsbixudWxsLHIpfX0se2tleTpcImdldFByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb2dyYW1zLmdldCh0KTtyZXR1cm4gbnVsbD09ZSYmKGU9dGhpcy5pbml0aWFsaXplUHJvZ3JhbSh0KSksZX19LHtrZXk6XCJpbml0aWFsaXplUHJvZ3JhbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0aGlzLnByb2dyYW1zLnNldCh0LGUpLGV9fSx7a2V5OlwiZ2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnQuREVGQVVMVF9QUk9HUkFNX05BTUU7bj1lIGluc3RhbmNlb2YgQj9lOm5ldyBCKDAsdGhpcy50b2tlbnMuc2l6ZS0xKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmKHI9ZSk7dmFyIGk9dGhpcy5wcm9ncmFtcy5nZXQociksdT1uLnN0YXJ0LGM9bi5zdG9wO2lmKGM+dGhpcy50b2tlbnMuc2l6ZS0xJiYoYz10aGlzLnRva2Vucy5zaXplLTEpLHU8MCYmKHU9MCksbnVsbD09aXx8MD09PWkubGVuZ3RoKXJldHVybiB0aGlzLnRva2Vucy5nZXRUZXh0KG5ldyBCKHUsYykpO2Zvcih2YXIgYT1bXSxsPXRoaXMucmVkdWNlVG9TaW5nbGVPcGVyYXRpb25QZXJJbmRleChpKSxzPXU7czw9YyYmczx0aGlzLnRva2Vucy5zaXplOyl7dmFyIGY9bC5nZXQocyk7bC5kZWxldGUocyk7dmFyIHA9dGhpcy50b2tlbnMuZ2V0KHMpO251bGw9PWY/KHAudHlwZSE9PW8uRU9GJiZhLnB1c2goU3RyaW5nKHAudGV4dCkpLHMrKyk6cz1mLmV4ZWN1dGUoYSl9aWYoYz09PXRoaXMudG9rZW5zLnNpemUtMSl7dmFyIHksaD1jbChsLnZhbHVlcygpKTt0cnl7Zm9yKGgucygpOyEoeT1oLm4oKSkuZG9uZTspe3ZhciBiPXkudmFsdWU7Yi5pbmRleD49dGhpcy50b2tlbnMuc2l6ZS0xJiZhLnB1c2goYi50ZXh0LnRvU3RyaW5nKCkpfX1jYXRjaCh0KXtoLmUodCl9ZmluYWxseXtoLmYoKX19cmV0dXJuIGEuam9pbihcIlwiKX19LHtrZXk6XCJyZWR1Y2VUb1NpbmdsZU9wZXJhdGlvblBlckluZGV4XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXRbZV07aWYobnVsbCE9biYmbiBpbnN0YW5jZW9mIFNsKXt2YXIgcixvPW4saT1jbCh0aGlzLmdldEtpbmRPZk9wcyh0LG1sLGUpKTt0cnl7Zm9yKGkucygpOyEocj1pLm4oKSkuZG9uZTspe3ZhciB1PXIudmFsdWU7dS5pbmRleD09PW8uaW5kZXg/KHRbdS5pbnN0cnVjdGlvbkluZGV4XT12b2lkIDAsby50ZXh0PXUudGV4dC50b1N0cmluZygpKyhudWxsIT1vLnRleHQ/by50ZXh0LnRvU3RyaW5nKCk6XCJcIikpOnUuaW5kZXg+by5pbmRleCYmdS5pbmRleDw9by5sYXN0SW5kZXgmJih0W3UuaW5zdHJ1Y3Rpb25JbmRleF09dm9pZCAwKX19Y2F0Y2godCl7aS5lKHQpfWZpbmFsbHl7aS5mKCl9dmFyIGMsYT1jbCh0aGlzLmdldEtpbmRPZk9wcyh0LFNsLGUpKTt0cnl7Zm9yKGEucygpOyEoYz1hLm4oKSkuZG9uZTspe3ZhciBsPWMudmFsdWU7aWYobC5pbmRleD49by5pbmRleCYmbC5sYXN0SW5kZXg8PW8ubGFzdEluZGV4KXRbbC5pbnN0cnVjdGlvbkluZGV4XT12b2lkIDA7ZWxzZXt2YXIgcz1sLmxhc3RJbmRleDxvLmluZGV4fHxsLmluZGV4Pm8ubGFzdEluZGV4O2lmKG51bGwhPWwudGV4dHx8bnVsbCE9by50ZXh0fHxzKXtpZighcyl0aHJvdyBuZXcgRXJyb3IoXCJyZXBsYWNlIG9wIGJvdW5kYXJpZXMgb2YgXCIuY29uY2F0KG8sXCIgb3ZlcmxhcCB3aXRoIHByZXZpb3VzIFwiKS5jb25jYXQobCkpfWVsc2UgdFtsLmluc3RydWN0aW9uSW5kZXhdPXZvaWQgMCxvLmluZGV4PU1hdGgubWluKGwuaW5kZXgsby5pbmRleCksby5sYXN0SW5kZXg9TWF0aC5tYXgobC5sYXN0SW5kZXgsby5sYXN0SW5kZXgpfX19Y2F0Y2godCl7YS5lKHQpfWZpbmFsbHl7YS5mKCl9fX1mb3IodmFyIGY9MDtmPHQubGVuZ3RoO2YrKyl7dmFyIHA9dFtmXTtpZihudWxsIT1wJiZwIGluc3RhbmNlb2YgbWwpe3ZhciB5LGg9cCxiPWNsKHRoaXMuZ2V0S2luZE9mT3BzKHQsbWwsZikpO3RyeXtmb3IoYi5zKCk7ISh5PWIubigpKS5kb25lOyl7dmFyIHY9eS52YWx1ZTt2LmluZGV4PT09aC5pbmRleCYmKHYgaW5zdGFuY2VvZiBnbD8oaC50ZXh0PXRoaXMuY2F0T3BUZXh0KHYudGV4dCxoLnRleHQpLHRbdi5pbnN0cnVjdGlvbkluZGV4XT12b2lkIDApOnYgaW5zdGFuY2VvZiBtbCYmKGgudGV4dD10aGlzLmNhdE9wVGV4dChoLnRleHQsdi50ZXh0KSx0W3YuaW5zdHJ1Y3Rpb25JbmRleF09dm9pZCAwKSl9fWNhdGNoKHQpe2IuZSh0KX1maW5hbGx5e2IuZigpfXZhciBkLG09Y2wodGhpcy5nZXRLaW5kT2ZPcHModCxTbCxmKSk7dHJ5e2ZvcihtLnMoKTshKGQ9bS5uKCkpLmRvbmU7KXt2YXIgZz1kLnZhbHVlO2lmKGguaW5kZXghPT1nLmluZGV4KXtpZihoLmluZGV4Pj1nLmluZGV4JiZoLmluZGV4PD1nLmxhc3RJbmRleCl0aHJvdyBuZXcgRXJyb3IoXCJpbnNlcnQgb3AgXCIuY29uY2F0KGgsXCIgd2l0aGluIGJvdW5kYXJpZXMgb2YgcHJldmlvdXMgXCIpLmNvbmNhdChnKSl9ZWxzZSBnLnRleHQ9dGhpcy5jYXRPcFRleHQoaC50ZXh0LGcudGV4dCksdFtmXT12b2lkIDB9fWNhdGNoKHQpe20uZSh0KX1maW5hbGx5e20uZigpfX19dmFyIFMsTz1uZXcgTWFwLHc9Y2wodCk7dHJ5e2Zvcih3LnMoKTshKFM9dy5uKCkpLmRvbmU7KXt2YXIgXz1TLnZhbHVlO2lmKG51bGwhPV8pe2lmKG51bGwhPU8uZ2V0KF8uaW5kZXgpKXRocm93IG5ldyBFcnJvcihcInNob3VsZCBvbmx5IGJlIG9uZSBvcCBwZXIgaW5kZXhcIik7Ty5zZXQoXy5pbmRleCxfKX19fWNhdGNoKHQpe3cuZSh0KX1maW5hbGx5e3cuZigpfXJldHVybiBPfX0se2tleTpcImNhdE9wVGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49XCJcIixyPVwiXCI7cmV0dXJuIG51bGwhPXQmJihuPXQudG9TdHJpbmcoKSksbnVsbCE9ZSYmKHI9ZS50b1N0cmluZygpKSxuK3J9fSx7a2V5OlwiZ2V0S2luZE9mT3BzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0LnNsaWNlKDAsbikuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdCBpbnN0YW5jZW9mIGV9KSl9fV0pLHR9KCk7eWw9dmwsYmw9XCJkZWZhdWx0XCIsKGhsPXBsKGhsPVwiREVGQVVMVF9QUk9HUkFNX05BTUVcIikpaW4geWw/T2JqZWN0LmRlZmluZVByb3BlcnR5KHlsLGhsLHt2YWx1ZTpibCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnlsW2hsXT1ibDt2YXIgZGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyLG8pe2xsKHRoaXMsdCksdGhpcy50b2tlbnM9ZSx0aGlzLmluc3RydWN0aW9uSW5kZXg9cix0aGlzLmluZGV4PW4sdGhpcy50ZXh0PXZvaWQgMD09PW8/XCJcIjpvfXJldHVybiBmbCh0LFt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29uc3RydWN0b3IubmFtZSxlPXQuaW5kZXhPZihcIiRcIik7cmV0dXJuXCI8XCIrKHQ9dC5zdWJzdHJpbmcoZSsxLHQubGVuZ3RoKSkrXCJAXCIrdGhpcy50b2tlbnMuZ2V0KHRoaXMuaW5kZXgpKyc6XCInK3RoaXMudGV4dCsnXCI+J319XSksdH0oKSxtbD1mdW5jdGlvbih0KXtubChuLHQpO3ZhciBlPW9sKG4pO2Z1bmN0aW9uIG4odCxyLG8saSl7cmV0dXJuIGxsKHRoaXMsbiksZS5jYWxsKHRoaXMsdCxyLG8saSl9cmV0dXJuIGZsKG4sW3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dCYmdC5wdXNoKHRoaXMudGV4dC50b1N0cmluZygpKSx0aGlzLnRva2Vucy5nZXQodGhpcy5pbmRleCkudHlwZSE9PW8uRU9GJiZ0LnB1c2goU3RyaW5nKHRoaXMudG9rZW5zLmdldCh0aGlzLmluZGV4KS50ZXh0KSksdGhpcy5pbmRleCsxfX1dKSxufShkbCksZ2w9ZnVuY3Rpb24odCl7bmwobix0KTt2YXIgZT1vbChuKTtmdW5jdGlvbiBuKHQscixvLGkpe3JldHVybiBsbCh0aGlzLG4pLGUuY2FsbCh0aGlzLHQscisxLG8saSl9cmV0dXJuIGZsKG4pfShtbCksU2w9ZnVuY3Rpb24odCl7bmwobix0KTt2YXIgZT1vbChuKTtmdW5jdGlvbiBuKHQscixvLGksdSl7dmFyIGM7cmV0dXJuIGxsKHRoaXMsbiksKGM9ZS5jYWxsKHRoaXMsdCxyLGksdSkpLmxhc3RJbmRleD1vLGN9cmV0dXJuIGZsKG4sW3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dCYmdC5wdXNoKHRoaXMudGV4dC50b1N0cmluZygpKSx0aGlzLmxhc3RJbmRleCsxfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy50ZXh0P1wiPERlbGV0ZU9wQFwiK3RoaXMudG9rZW5zLmdldCh0aGlzLmluZGV4KStcIi4uXCIrdGhpcy50b2tlbnMuZ2V0KHRoaXMubGFzdEluZGV4KStcIj5cIjpcIjxSZXBsYWNlT3BAXCIrdGhpcy50b2tlbnMuZ2V0KHRoaXMuaW5kZXgpK1wiLi5cIit0aGlzLnRva2Vucy5nZXQodGhpcy5sYXN0SW5kZXgpKyc6XCInK3RoaXMudGV4dCsnXCI+J319XSksbn0oZGwpO2NvbnN0IE9sPXthdG46JHUsZGZhOmFjLGNvbnRleHQ6bGMsbWlzYzpzYyx0cmVlOlNjLGVycm9yOmVhLFRva2VuOm8sQ29tbW9uVG9rZW46eWksQ2hhclN0cmVhbXM6dmEsQ2hhclN0cmVhbTphYSxJbnB1dFN0cmVhbTphYSxDb21tb25Ub2tlblN0cmVhbTpSYSxMZXhlcjpVaSxQYXJzZXI6VWEsUGFyc2VyUnVsZUNvbnRleHQ6ZWwsSW50ZXJ2YWw6QixJbnRlcnZhbFNldDpWLExMMUFuYWx5emVyOkllLFV0aWxzOmRhLFRva2VuU3RyZWFtUmV3cml0ZXI6dmx9fSkoKTt2YXIgbz1leHBvcnRzO2Zvcih2YXIgaSBpbiByKW9baV09cltpXTtyLl9fZXNNb2R1bGUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFudGxyNC53ZWIuY2pzLm1hcCIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgeyBsb2FkUHJpbWFyeVBhZ2UgfSBmcm9tIFwiLi9Mb2FkUHJpbWFyeVBhZ2VcIjtcbmltcG9ydCB7IGxvYWRFeHByZXNzaW9uc1Rlc3RQYWdlIH0gZnJvbSBcIi4vTG9hZEV4cHJlc3Npb25UZXN0UGFnZVwiXG5pbXBvcnQgeyBsb2FkSW5wdXRQYXJzZVRlc3RQYWdlIH0gZnJvbSBcIi4vTG9hZElucHV0UGFyc2VUZXN0UGFnZVwiO1xuaW1wb3J0IHsgbG9hZFNvbHZlclBhZ2UgfSBmcm9tIFwiLi9Mb2FkU29sdmVyUGFnZVwiO1xuaW1wb3J0IHsgbG9hZFNpbXBsaWZpY2F0aW9uVGVzdFBhZ2UgfSBmcm9tIFwiLi9Mb2FkU2ltcGxpZmljYXRpb25UZXN0UGFnZVwiO1xuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICAgIHNldFRpbWVvdXQoXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBvcHVsYXRlIGh0bWwgZWxlbWVudHMgYnkgdGhlaXIgY2xhc3MuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmNsYXNzTGlzdFxuXG4gICAgICAgICAgICBpZiAoY2xhc3Nlcy5jb250YWlucygnZXhwcmVzc2lvblRlc3RQYWdlJykpIHtcbiAgICAgICAgICAgICAgICBsb2FkRXhwcmVzc2lvbnNUZXN0UGFnZSgpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzZXMuY29udGFpbnMoJ3ByaW1hcnlJbnRlZ3JhdG9yJykpIHtcbiAgICAgICAgICAgICAgICBsb2FkUHJpbWFyeVBhZ2UoKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjbGFzc2VzLmNvbnRhaW5zKCdpbnB1dFBhcnNlVGVzdCcpKSB7XG4gICAgICAgICAgICAgICAgbG9hZElucHV0UGFyc2VUZXN0UGFnZSgpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzZXMuY29udGFpbnMoJ3NvbHZlX2luX3N0ZXBzJykpIHtcbiAgICAgICAgICAgICAgICBsb2FkU29sdmVyUGFnZSgpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNsYXNzZXMuY29udGFpbnMoJ21hdGhUZXN0cycpKSB7XG4gICAgICAgICAgICAgICAgbG9hZFNpbXBsaWZpY2F0aW9uVGVzdFBhZ2UoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgXG59XG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==