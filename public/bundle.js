/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/ngraph.events/index.js":
/*!*********************************************!*\
  !*** ./node_modules/ngraph.events/index.js ***!
  \*********************************************/
/***/ ((module) => {

module.exports = function eventify(subject) {
  validateSubject(subject);

  var eventsStorage = createEventsStorage(subject);
  subject.on = eventsStorage.on;
  subject.off = eventsStorage.off;
  subject.fire = eventsStorage.fire;
  return subject;
};

function createEventsStorage(subject) {
  // Store all event listeners to this hash. Key is event name, value is array
  // of callback records.
  //
  // A callback record consists of callback function and its optional context:
  // { 'eventName' => [{callback: function, ctx: object}] }
  var registeredEvents = Object.create(null);

  return {
    on: function (eventName, callback, ctx) {
      if (typeof callback !== 'function') {
        throw new Error('callback is expected to be a function');
      }
      var handlers = registeredEvents[eventName];
      if (!handlers) {
        handlers = registeredEvents[eventName] = [];
      }
      handlers.push({callback: callback, ctx: ctx});

      return subject;
    },

    off: function (eventName, callback) {
      var wantToRemoveAll = (typeof eventName === 'undefined');
      if (wantToRemoveAll) {
        // Killing old events storage should be enough in this case:
        registeredEvents = Object.create(null);
        return subject;
      }

      if (registeredEvents[eventName]) {
        var deleteAllCallbacksForEvent = (typeof callback !== 'function');
        if (deleteAllCallbacksForEvent) {
          delete registeredEvents[eventName];
        } else {
          var callbacks = registeredEvents[eventName];
          for (var i = 0; i < callbacks.length; ++i) {
            if (callbacks[i].callback === callback) {
              callbacks.splice(i, 1);
            }
          }
        }
      }

      return subject;
    },

    fire: function (eventName) {
      var callbacks = registeredEvents[eventName];
      if (!callbacks) {
        return subject;
      }

      var fireArguments;
      if (arguments.length > 1) {
        fireArguments = Array.prototype.splice.call(arguments, 1);
      }
      for(var i = 0; i < callbacks.length; ++i) {
        var callbackInfo = callbacks[i];
        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);
      }

      return subject;
    }
  };
}

function validateSubject(subject) {
  if (!subject) {
    throw new Error('Eventify cannot use falsy object as events subject');
  }
  var reservedWords = ['on', 'fire', 'off'];
  for (var i = 0; i < reservedWords.length; ++i) {
    if (subject.hasOwnProperty(reservedWords[i])) {
      throw new Error("Subject cannot be eventified, since it already has property '" + reservedWords[i] + "'");
    }
  }
}


/***/ }),

/***/ "./node_modules/ngraph.graph/index.js":
/*!********************************************!*\
  !*** ./node_modules/ngraph.graph/index.js ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * @fileOverview Contains definition of the core graph object.
 */

// TODO: need to change storage layer:
// 1. Be able to get all nodes O(1)
// 2. Be able to get number of links O(1)

/**
 * @example
 *  var graph = require('ngraph.graph')();
 *  graph.addNode(1);     // graph has one node.
 *  graph.addLink(2, 3);  // now graph contains three nodes and one link.
 *
 */
module.exports = createGraph;

var eventify = __webpack_require__(/*! ngraph.events */ "./node_modules/ngraph.events/index.js");

/**
 * Creates a new graph
 */
function createGraph(options) {
  // Graph structure is maintained as dictionary of nodes
  // and array of links. Each node has 'links' property which
  // hold all links related to that node. And general links
  // array is used to speed up all links enumeration. This is inefficient
  // in terms of memory, but simplifies coding.
  options = options || {};
  if ('uniqueLinkId' in options) {
    console.warn(
      'ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\n' +
      'Use `multigraph` option instead\n',
      '\n',
      'Note: there is also change in default behavior: From now on each graph\n'+
      'is considered to be not a multigraph by default (each edge is unique).'
    );

    options.multigraph = options.uniqueLinkId;
  }

  // Dear reader, the non-multigraphs do not guarantee that there is only
  // one link for a given pair of node. When this option is set to false
  // we can save some memory and CPU (18% faster for non-multigraph);
  if (options.multigraph === undefined) options.multigraph = false;

  if (typeof Map !== 'function') {
    // TODO: Should we polyfill it ourselves? We don't use much operations there..
    throw new Error('ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph');
  } 

  var nodes = new Map(); // nodeId => Node
  var links = new Map(); // linkId => Link
    // Hash of multi-edges. Used to track ids of edges between same nodes
  var multiEdges = {};
  var suspendEvents = 0;

  var createLink = options.multigraph ? createUniqueLink : createSingleLink,

    // Our graph API provides means to listen to graph changes. Users can subscribe
    // to be notified about changes in the graph by using `on` method. However
    // in some cases they don't use it. To avoid unnecessary memory consumption
    // we will not record graph changes until we have at least one subscriber.
    // Code below supports this optimization.
    //
    // Accumulates all changes made during graph updates.
    // Each change element contains:
    //  changeType - one of the strings: 'add', 'remove' or 'update';
    //  node - if change is related to node this property is set to changed graph's node;
    //  link - if change is related to link this property is set to changed graph's link;
    changes = [],
    recordLinkChange = noop,
    recordNodeChange = noop,
    enterModification = noop,
    exitModification = noop;

  // this is our public API:
  var graphPart = {
    /**
     * Sometimes duck typing could be slow. Giving clients a hint about data structure
     * via explicit version number here:
     */
    version: 20.0,

    /**
     * Adds node to the graph. If node with given id already exists in the graph
     * its data is extended with whatever comes in 'data' argument.
     *
     * @param nodeId the node's identifier. A string or number is preferred.
     * @param [data] additional data for the node being added. If node already
     *   exists its data object is augmented with the new one.
     *
     * @return {node} The newly added node or node with given id if it already exists.
     */
    addNode: addNode,

    /**
     * Adds a link to the graph. The function always create a new
     * link between two nodes. If one of the nodes does not exists
     * a new node is created.
     *
     * @param fromId link start node id;
     * @param toId link end node id;
     * @param [data] additional data to be set on the new link;
     *
     * @return {link} The newly created link
     */
    addLink: addLink,

    /**
     * Removes link from the graph. If link does not exist does nothing.
     *
     * @param link - object returned by addLink() or getLinks() methods.
     *
     * @returns true if link was removed; false otherwise.
     */
    removeLink: removeLink,

    /**
     * Removes node with given id from the graph. If node does not exist in the graph
     * does nothing.
     *
     * @param nodeId node's identifier passed to addNode() function.
     *
     * @returns true if node was removed; false otherwise.
     */
    removeNode: removeNode,

    /**
     * Gets node with given identifier. If node does not exist undefined value is returned.
     *
     * @param nodeId requested node identifier;
     *
     * @return {node} in with requested identifier or undefined if no such node exists.
     */
    getNode: getNode,

    /**
     * Gets number of nodes in this graph.
     *
     * @return number of nodes in the graph.
     */
    getNodeCount: getNodeCount,

    /**
     * Gets total number of links in the graph.
     */
    getLinkCount: getLinkCount,

    /**
     * Gets total number of links in the graph.
     */
    getEdgeCount: getLinkCount,

    /**
     * Synonym for `getLinkCount()`
     */
    getLinksCount: getLinkCount,
    
    /**
     * Synonym for `getNodeCount()`
     */
    getNodesCount: getNodeCount,

    /**
     * Gets all links (inbound and outbound) from the node with given id.
     * If node with given id is not found null is returned.
     *
     * @param nodeId requested node identifier.
     *
     * @return Set of links from and to requested node if such node exists;
     *   otherwise null is returned.
     */
    getLinks: getLinks,

    /**
     * Invokes callback on each node of the graph.
     *
     * @param {Function(node)} callback Function to be invoked. The function
     *   is passed one argument: visited node.
     */
    forEachNode: forEachNode,

    /**
     * Invokes callback on every linked (adjacent) node to the given one.
     *
     * @param nodeId Identifier of the requested node.
     * @param {Function(node, link)} callback Function to be called on all linked nodes.
     *   The function is passed two parameters: adjacent node and link object itself.
     * @param oriented if true graph treated as oriented.
     */
    forEachLinkedNode: forEachLinkedNode,

    /**
     * Enumerates all links in the graph
     *
     * @param {Function(link)} callback Function to be called on all links in the graph.
     *   The function is passed one parameter: graph's link object.
     *
     * Link object contains at least the following fields:
     *  fromId - node id where link starts;
     *  toId - node id where link ends,
     *  data - additional data passed to graph.addLink() method.
     */
    forEachLink: forEachLink,

    /**
     * Suspend all notifications about graph changes until
     * endUpdate is called.
     */
    beginUpdate: enterModification,

    /**
     * Resumes all notifications about graph changes and fires
     * graph 'changed' event in case there are any pending changes.
     */
    endUpdate: exitModification,

    /**
     * Removes all nodes and links from the graph.
     */
    clear: clear,

    /**
     * Detects whether there is a link between two nodes.
     * Operation complexity is O(n) where n - number of links of a node.
     * NOTE: this function is synonym for getLink()
     *
     * @returns link if there is one. null otherwise.
     */
    hasLink: getLink,

    /**
     * Detects whether there is a node with given id
     * 
     * Operation complexity is O(1)
     * NOTE: this function is synonym for getNode()
     *
     * @returns node if there is one; Falsy value otherwise.
     */
    hasNode: getNode,

    /**
     * Gets an edge between two nodes.
     * Operation complexity is O(n) where n - number of links of a node.
     *
     * @param {string} fromId link start identifier
     * @param {string} toId link end identifier
     *
     * @returns link if there is one; undefined otherwise.
     */
    getLink: getLink
  };

  // this will add `on()` and `fire()` methods.
  eventify(graphPart);

  monitorSubscribers();

  return graphPart;

  function monitorSubscribers() {
    var realOn = graphPart.on;

    // replace real `on` with our temporary on, which will trigger change
    // modification monitoring:
    graphPart.on = on;

    function on() {
      // now it's time to start tracking stuff:
      graphPart.beginUpdate = enterModification = enterModificationReal;
      graphPart.endUpdate = exitModification = exitModificationReal;
      recordLinkChange = recordLinkChangeReal;
      recordNodeChange = recordNodeChangeReal;

      // this will replace current `on` method with real pub/sub from `eventify`.
      graphPart.on = realOn;
      // delegate to real `on` handler:
      return realOn.apply(graphPart, arguments);
    }
  }

  function recordLinkChangeReal(link, changeType) {
    changes.push({
      link: link,
      changeType: changeType
    });
  }

  function recordNodeChangeReal(node, changeType) {
    changes.push({
      node: node,
      changeType: changeType
    });
  }

  function addNode(nodeId, data) {
    if (nodeId === undefined) {
      throw new Error('Invalid node identifier');
    }

    enterModification();

    var node = getNode(nodeId);
    if (!node) {
      node = new Node(nodeId, data);
      recordNodeChange(node, 'add');
    } else {
      node.data = data;
      recordNodeChange(node, 'update');
    }

    nodes.set(nodeId, node);

    exitModification();
    return node;
  }

  function getNode(nodeId) {
    return nodes.get(nodeId);
  }

  function removeNode(nodeId) {
    var node = getNode(nodeId);
    if (!node) {
      return false;
    }

    enterModification();

    var prevLinks = node.links;
    if (prevLinks) {
      prevLinks.forEach(removeLinkInstance);
      node.links = null;
    }

    nodes.delete(nodeId);

    recordNodeChange(node, 'remove');

    exitModification();

    return true;
  }


  function addLink(fromId, toId, data) {
    enterModification();

    var fromNode = getNode(fromId) || addNode(fromId);
    var toNode = getNode(toId) || addNode(toId);

    var link = createLink(fromId, toId, data);
    var isUpdate = links.has(link.id);

    links.set(link.id, link);

    // TODO: this is not cool. On large graphs potentially would consume more memory.
    addLinkToNode(fromNode, link);
    if (fromId !== toId) {
      // make sure we are not duplicating links for self-loops
      addLinkToNode(toNode, link);
    }

    recordLinkChange(link, isUpdate ? 'update' : 'add');

    exitModification();

    return link;
  }

  function createSingleLink(fromId, toId, data) {
    var linkId = makeLinkId(fromId, toId);
    var prevLink = links.get(linkId);
    if (prevLink) {
      prevLink.data = data;
      return prevLink;
    }

    return new Link(fromId, toId, data, linkId);
  }

  function createUniqueLink(fromId, toId, data) {
    // TODO: Find a better/faster way to store multigraphs
    var linkId = makeLinkId(fromId, toId);
    var isMultiEdge = multiEdges.hasOwnProperty(linkId);
    if (isMultiEdge || getLink(fromId, toId)) {
      if (!isMultiEdge) {
        multiEdges[linkId] = 0;
      }
      var suffix = '@' + (++multiEdges[linkId]);
      linkId = makeLinkId(fromId + suffix, toId + suffix);
    }

    return new Link(fromId, toId, data, linkId);
  }

  function getNodeCount() {
    return nodes.size;
  }

  function getLinkCount() {
    return links.size;
  }

  function getLinks(nodeId) {
    var node = getNode(nodeId);
    return node ? node.links : null;
  }

  function removeLink(link, otherId) {
    if (otherId !== undefined) {
      link = getLink(link, otherId);
    }
    return removeLinkInstance(link);
  }

  function removeLinkInstance(link) {
    if (!link) {
      return false;
    }
    if (!links.get(link.id)) return false;

    enterModification();

    links.delete(link.id);

    var fromNode = getNode(link.fromId);
    var toNode = getNode(link.toId);

    if (fromNode) {
      fromNode.links.delete(link);
    }

    if (toNode) {
      toNode.links.delete(link);
    }

    recordLinkChange(link, 'remove');

    exitModification();

    return true;
  }

  function getLink(fromNodeId, toNodeId) {
    if (fromNodeId === undefined || toNodeId === undefined) return undefined;
    return links.get(makeLinkId(fromNodeId, toNodeId));
  }

  function clear() {
    enterModification();
    forEachNode(function(node) {
      removeNode(node.id);
    });
    exitModification();
  }

  function forEachLink(callback) {
    if (typeof callback === 'function') {
      var valuesIterator = links.values();
      var nextValue = valuesIterator.next();
      while (!nextValue.done) {
        if (callback(nextValue.value)) {
          return true; // client doesn't want to proceed. Return.
        }
        nextValue = valuesIterator.next();
      }
    }
  }

  function forEachLinkedNode(nodeId, callback, oriented) {
    var node = getNode(nodeId);

    if (node && node.links && typeof callback === 'function') {
      if (oriented) {
        return forEachOrientedLink(node.links, nodeId, callback);
      } else {
        return forEachNonOrientedLink(node.links, nodeId, callback);
      }
    }
  }

  // eslint-disable-next-line no-shadow
  function forEachNonOrientedLink(links, nodeId, callback) {
    var quitFast;

    var valuesIterator = links.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      var link = nextValue.value;
      var linkedNodeId = link.fromId === nodeId ? link.toId : link.fromId;
      quitFast = callback(nodes.get(linkedNodeId), link);
      if (quitFast) {
        return true; // Client does not need more iterations. Break now.
      }
      nextValue = valuesIterator.next();
    }
  }

  // eslint-disable-next-line no-shadow
  function forEachOrientedLink(links, nodeId, callback) {
    var quitFast;
    var valuesIterator = links.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      var link = nextValue.value;
      if (link.fromId === nodeId) {
        quitFast = callback(nodes.get(link.toId), link);
        if (quitFast) {
          return true; // Client does not need more iterations. Break now.
        }
      }
      nextValue = valuesIterator.next();
    }
  }

  // we will not fire anything until users of this library explicitly call `on()`
  // method.
  function noop() {}

  // Enter, Exit modification allows bulk graph updates without firing events.
  function enterModificationReal() {
    suspendEvents += 1;
  }

  function exitModificationReal() {
    suspendEvents -= 1;
    if (suspendEvents === 0 && changes.length > 0) {
      graphPart.fire('changed', changes);
      changes.length = 0;
    }
  }

  function forEachNode(callback) {
    if (typeof callback !== 'function') {
      throw new Error('Function is expected to iterate over graph nodes. You passed ' + callback);
    }

    var valuesIterator = nodes.values();
    var nextValue = valuesIterator.next();
    while (!nextValue.done) {
      if (callback(nextValue.value)) {
        return true; // client doesn't want to proceed. Return.
      }
      nextValue = valuesIterator.next();
    }
  }
}

/**
 * Internal structure to represent node;
 */
function Node(id, data) {
  this.id = id;
  this.links = null;
  this.data = data;
}

function addLinkToNode(node, link) {
  if (node.links) {
    node.links.add(link);
  } else {
    node.links = new Set([link]);
  }
}

/**
 * Internal structure to represent links;
 */
function Link(fromId, toId, data, id) {
  this.fromId = fromId;
  this.toId = toId;
  this.data = data;
  this.id = id;
}

function makeLinkId(fromId, toId) {
  return fromId.toString() + 'ðŸ‘‰ ' + toId.toString();
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/NodeHeap.js":
/*!*****************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/NodeHeap.js ***!
  \*****************************************************/
/***/ ((module) => {

/**
 * Based on https://github.com/mourner/tinyqueue
 * Copyright (c) 2017, Vladimir Agafonkin https://github.com/mourner/tinyqueue/blob/master/LICENSE
 * 
 * Adapted for PathFinding needs by @anvaka
 * Copyright (c) 2017, Andrei Kashcha
 */
module.exports = NodeHeap;

function NodeHeap(data, options) {
  if (!(this instanceof NodeHeap)) return new NodeHeap(data, options);

  if (!Array.isArray(data)) {
    // assume first argument is our config object;
    options = data;
    data = [];
  }

  options = options || {};

  this.data = data || [];
  this.length = this.data.length;
  this.compare = options.compare || defaultCompare;
  this.setNodeId = options.setNodeId || noop;

  if (this.length > 0) {
    for (var i = (this.length >> 1); i >= 0; i--) this._down(i);
  }

  if (options.setNodeId) {
    for (var i = 0; i < this.length; ++i) {
      this.setNodeId(this.data[i], i);
    }
  }
}

function noop() {}

function defaultCompare(a, b) {
  return a - b;
}

NodeHeap.prototype = {

  push: function (item) {
    this.data.push(item);
    this.setNodeId(item, this.length);
    this.length++;
    this._up(this.length - 1);
  },

  pop: function () {
    if (this.length === 0) return undefined;

    var top = this.data[0];
    this.length--;

    if (this.length > 0) {
      this.data[0] = this.data[this.length];
      this.setNodeId(this.data[0], 0);
      this._down(0);
    }
    this.data.pop();

    return top;
  },

  peek: function () {
    return this.data[0];
  },

  updateItem: function (pos) {
    this._down(pos);
    this._up(pos);
  },

  _up: function (pos) {
    var data = this.data;
    var compare = this.compare;
    var setNodeId = this.setNodeId;
    var item = data[pos];

    while (pos > 0) {
      var parent = (pos - 1) >> 1;
      var current = data[parent];
      if (compare(item, current) >= 0) break;
        data[pos] = current;

       setNodeId(current, pos);
       pos = parent;
    }

    data[pos] = item;
    setNodeId(item, pos);
  },

  _down: function (pos) {
    var data = this.data;
    var compare = this.compare;
    var halfLength = this.length >> 1;
    var item = data[pos];
    var setNodeId = this.setNodeId;

    while (pos < halfLength) {
      var left = (pos << 1) + 1;
      var right = left + 1;
      var best = data[left];

      if (right < this.length && compare(data[right], best) < 0) {
        left = right;
        best = data[right];
      }
      if (compare(best, item) >= 0) break;

      data[pos] = best;
      setNodeId(best, pos);
      pos = left;
    }

    data[pos] = item;
    setNodeId(item, pos);
  }
};

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/a-greedy-star.js":
/*!**********************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/a-greedy-star.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Performs suboptimal, greed A Star path finding.
 * This finder does not necessary finds the shortest path. The path
 * that it finds is very close to the shortest one. It is very fast though.
 */
module.exports = aStarBi;

var NodeHeap = __webpack_require__(/*! ./NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var makeSearchStatePool = __webpack_require__(/*! ./makeSearchStatePool */ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js");
var heuristics = __webpack_require__(/*! ./heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ./defaultSettings */ "./node_modules/ngraph.path/a-star/defaultSettings.js");

var BY_FROM = 1;
var BY_TO = 2;
var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`, it may be extended in future.
 * 
 * NOTE: Algorithm implemented in this code DOES NOT find optimal path.
 * Yet the path that it finds is always near optimal, and it finds it very fast.
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * 
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`.  Defaults function returns 0, which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * @param {Boolean} options.oriented - whether graph should be considered oriented or not.
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function aStarBi(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;
  var pool = makeSearchStatePool();

  return {
    find: find
  };

  function find(fromId, toId) {
    // Not sure if we should return NO_PATH or throw. Throw seem to be more
    // helpful to debug errors. So, throwing.
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);

    if (from === to) return [from]; // trivial case.

    pool.reset();

    var callVisitor = oriented ? orientedVisitor : nonOrientedVisitor;

    // Maps nodeId to NodeSearchState.
    var nodeState = new Map();

    var openSetFrom = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });

    var openSetTo = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });


    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode);

    // For the first node, fScore is completely heuristic.
    startNode.fScore = heuristic(from, to);
    // The cost of going from start to start is zero.
    startNode.distanceToSource = 0;
    openSetFrom.push(startNode);
    startNode.open = BY_FROM;

    var endNode = pool.createNewState(to);
    endNode.fScore = heuristic(to, from);
    endNode.distanceToSource = 0;
    openSetTo.push(endNode);
    endNode.open = BY_TO;

    // Cost of the best solution found so far. Used for accurate termination
    var lMin = Number.POSITIVE_INFINITY;
    var minFrom;
    var minTo;

    var currentSet = openSetFrom;
    var currentOpener = BY_FROM;

    while (openSetFrom.length > 0 && openSetTo.length > 0) {
      if (openSetFrom.length < openSetTo.length) {
        // we pick a set with less elements
        currentOpener = BY_FROM;
        currentSet = openSetFrom;
      } else {
        currentOpener = BY_TO;
        currentSet = openSetTo;
      }

      var current = currentSet.pop();

      // no need to visit this node anymore
      current.closed = true;

      if (current.distanceToSource > lMin) continue;

      graph.forEachLinkedNode(current.node.id, callVisitor);

      if (minFrom && minTo) {
        // This is not necessary the best path, but we are so greedy that we
        // can't resist:
        return reconstructBiDirectionalPath(minFrom, minTo);
      }
    }

    return NO_PATH; // No path.

    function nonOrientedVisitor(otherNode, link) {
      return visitNode(otherNode, link, current);
    }

    function orientedVisitor(otherNode, link) {
      // For oritned graphs we need to reverse graph, when traveling
      // backwards. So, we use non-oriented ngraph's traversal, and 
      // filter link orientation here.
      if (currentOpener === BY_FROM) {
        if (link.fromId === current.node.id) return visitNode(otherNode, link, current)
      } else if (currentOpener === BY_TO) {
        if (link.toId === current.node.id) return visitNode(otherNode, link, current);
      }
    }

    function canExit(currentNode) {
      var opener = currentNode.open
      if (opener && opener !== currentOpener) {
        return true;
      }

      return false;
    }

    function reconstructBiDirectionalPath(a, b) {
      var pathOfNodes = [];
      var aParent = a;
      while(aParent) {
        pathOfNodes.push(aParent.node);
        aParent = aParent.parent;
      }
      var bParent = b;
      while (bParent) {
        pathOfNodes.unshift(bParent.node);
        bParent = bParent.parent
      }
      return pathOfNodes;
    }

    function visitNode(otherNode, link, cameFrom) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) {
        // Already processed this node.
        return;
      }

      if (canExit(otherSearchState, cameFrom)) {
        // this node was opened by alternative opener. The sets intersect now,
        // we found an optimal path, that goes through *this* node. However, there
        // is no guarantee that this is the global optimal solution path.

        var potentialLMin = otherSearchState.distanceToSource + cameFrom.distanceToSource;
        if (potentialLMin < lMin) {
          minFrom = otherSearchState;
          minTo = cameFrom
          lMin = potentialLMin;
        }
        // we are done with this node.
        return;
      }

      var tentativeDistance = cameFrom.distanceToSource + distance(otherSearchState.node, cameFrom.node, link);

      if (tentativeDistance >= otherSearchState.distanceToSource) {
        // This would only make our path longer. Ignore this route.
        return;
      }

      // Choose target based on current working set:
      var target = (currentOpener === BY_FROM) ? to : from;
      var newFScore = tentativeDistance + heuristic(otherSearchState.node, target);
      if (newFScore >= lMin) {
        // this can't be optimal path, as we have already found a shorter path.
        return;
      }
      otherSearchState.fScore = newFScore;

      if (otherSearchState.open === 0) {
        // Remember this node in the current set
        currentSet.push(otherSearchState);
        currentSet.updateItem(otherSearchState.heapIndex);

        otherSearchState.open = currentOpener;
      }

      // bingo! we found shorter path:
      otherSearchState.parent = cameFrom;
      otherSearchState.distanceToSource = tentativeDistance;
    }
  }
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/a-star.js":
/*!***************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/a-star.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Performs a uni-directional A Star search on graph.
 * 
 * We will try to minimize f(n) = g(n) + h(n), where
 * g(n) is actual distance from source node to `n`, and
 * h(n) is heuristic distance from `n` to target node.
 */
module.exports = aStarPathSearch;

var NodeHeap = __webpack_require__(/*! ./NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var makeSearchStatePool = __webpack_require__(/*! ./makeSearchStatePool */ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js");
var heuristics = __webpack_require__(/*! ./heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ./defaultSettings.js */ "./node_modules/ngraph.path/a-star/defaultSettings.js");

var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`, it may be extended in future.
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`. This function should never overestimate actual distance between two
 * nodes (otherwise the found path will not be the shortest). Defaults function returns 0,
 * which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * @param {Boolean} options.oriented - whether graph should be considered oriented or not.
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function aStarPathSearch(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;
  var pool = makeSearchStatePool();

  return {
    /**
     * Finds a path between node `fromId` and `toId`.
     * @returns {Array} of nodes between `toId` and `fromId`. Empty array is returned
     * if no path is found.
     */
    find: find
  };

  function find(fromId, toId) {
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);
    pool.reset();

    // Maps nodeId to NodeSearchState.
    var nodeState = new Map();

    // the nodes that we still need to evaluate
    var openSet = new NodeHeap({
      compare: defaultSettings.compareFScore,
      setNodeId: defaultSettings.setHeapIndex
    });

    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode);

    // For the first node, fScore is completely heuristic.
    startNode.fScore = heuristic(from, to);

    // The cost of going from start to start is zero.
    startNode.distanceToSource = 0;
    openSet.push(startNode);
    startNode.open = 1;

    var cameFrom;

    while (openSet.length > 0) {
      cameFrom = openSet.pop();
      if (goalReached(cameFrom, to)) return reconstructPath(cameFrom);

      // no need to visit this node anymore
      cameFrom.closed = true;
      graph.forEachLinkedNode(cameFrom.node.id, visitNeighbour, oriented);
    }

    // If we got here, then there is no path.
    return NO_PATH;

    function visitNeighbour(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) {
        // Already processed this node.
        return;
      }
      if (otherSearchState.open === 0) {
        // Remember this node.
        openSet.push(otherSearchState);
        otherSearchState.open = 1;
      }

      var tentativeDistance = cameFrom.distanceToSource + distance(otherNode, cameFrom.node, link);
      if (tentativeDistance >= otherSearchState.distanceToSource) {
        // This would only make our path longer. Ignore this route.
        return;
      }

      // bingo! we found shorter path:
      otherSearchState.parent = cameFrom;
      otherSearchState.distanceToSource = tentativeDistance;
      otherSearchState.fScore = tentativeDistance + heuristic(otherSearchState.node, to);

      openSet.updateItem(otherSearchState.heapIndex);
    }
  }
}

function goalReached(searchState, targetNode) {
  return searchState.node === targetNode;
}

function reconstructPath(searchState) {
  var path = [searchState.node];
  var parent = searchState.parent;

  while (parent) {
    path.push(parent.node);
    parent = parent.parent;
  }

  return path;
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/defaultSettings.js":
/*!************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/defaultSettings.js ***!
  \************************************************************/
/***/ ((module) => {

// We reuse instance of array, but we trie to freeze it as well,
// so that consumers don't modify it. Maybe it's a bad idea.
var NO_PATH = [];
if (typeof Object.freeze === 'function') Object.freeze(NO_PATH);

module.exports = {
  // Path search settings
  heuristic: blindHeuristic,
  distance: constantDistance,
  compareFScore: compareFScore,
  NO_PATH: NO_PATH,

  // heap settings
  setHeapIndex: setHeapIndex,

  // nba:
  setH1: setH1,
  setH2: setH2,
  compareF1Score: compareF1Score,
  compareF2Score: compareF2Score,
}

function blindHeuristic(/* a, b */) {
  // blind heuristic makes this search equal to plain Dijkstra path search.
  return 0;
}

function constantDistance(/* a, b */) {
  return 1;
}

function compareFScore(a, b) {
  var result = a.fScore - b.fScore;
  // TODO: Can I improve speed with smarter ties-breaking?
  // I tried distanceToSource, but it didn't seem to have much effect
  return result;
}

function setHeapIndex(nodeSearchState, heapIndex) {
  nodeSearchState.heapIndex = heapIndex;
}

function compareF1Score(a, b) {
  return a.f1 - b.f1;
}

function compareF2Score(a, b) {
  return a.f2 - b.f2;
}

function setH1(node, heapIndex) {
  node.h1 = heapIndex;
}

function setH2(node, heapIndex) {
  node.h2 = heapIndex;
}

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/heuristics.js":
/*!*******************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/heuristics.js ***!
  \*******************************************************/
/***/ ((module) => {

module.exports = {
  l2: l2,
  l1: l1
};

/**
 * Euclid distance (l2 norm);
 * 
 * @param {*} a 
 * @param {*} b 
 */
function l2(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return Math.sqrt(dx * dx + dy * dy);
}

/**
 * Manhattan distance (l1 norm);
 * @param {*} a 
 * @param {*} b 
 */
function l1(a, b) {
  var dx = a.x - b.x;
  var dy = a.y - b.y;
  return Math.abs(dx) + Math.abs(dy);
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/makeSearchStatePool.js":
/*!****************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/makeSearchStatePool.js ***!
  \****************************************************************/
/***/ ((module) => {

/**
 * This class represents a single search node in the exploration tree for
 * A* algorithm.
 * 
 * @param {Object} node  original node in the graph
 */
function NodeSearchState(node) {
  this.node = node;

  // How we came to this node?
  this.parent = null;

  this.closed = false;
  this.open = 0;

  this.distanceToSource = Number.POSITIVE_INFINITY;
  // the f(n) = g(n) + h(n) value
  this.fScore = Number.POSITIVE_INFINITY;

  // used to reconstruct heap when fScore is updated.
  this.heapIndex = -1;
};

function makeSearchStatePool() {
  var currentInCache = 0;
  var nodeCache = [];

  return {
    createNewState: createNewState,
    reset: reset
  };

  function reset() {
    currentInCache = 0;
  }

  function createNewState(node) {
    var cached = nodeCache[currentInCache];
    if (cached) {
      // TODO: This almost duplicates constructor code. Not sure if
      // it would impact performance if I move this code into a function
      cached.node = node;
      // How we came to this node?
      cached.parent = null;

      cached.closed = false;
      cached.open = 0;

      cached.distanceToSource = Number.POSITIVE_INFINITY;
      // the f(n) = g(n) + h(n) value
      cached.fScore = Number.POSITIVE_INFINITY;

      // used to reconstruct heap when fScore is updated.
      cached.heapIndex = -1;

    } else {
      cached = new NodeSearchState(node);
      nodeCache[currentInCache] = cached;
    }
    currentInCache++;
    return cached;
  }
}
module.exports = makeSearchStatePool;

/***/ }),

/***/ "./node_modules/ngraph.path/a-star/nba/index.js":
/*!******************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/nba/index.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = nba;

var NodeHeap = __webpack_require__(/*! ../NodeHeap */ "./node_modules/ngraph.path/a-star/NodeHeap.js");
var heuristics = __webpack_require__(/*! ../heuristics */ "./node_modules/ngraph.path/a-star/heuristics.js");
var defaultSettings = __webpack_require__(/*! ../defaultSettings.js */ "./node_modules/ngraph.path/a-star/defaultSettings.js");
var makeNBASearchStatePool = __webpack_require__(/*! ./makeNBASearchStatePool.js */ "./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js");

var NO_PATH = defaultSettings.NO_PATH;

module.exports.l2 = heuristics.l2;
module.exports.l1 = heuristics.l1;

/**
 * Creates a new instance of pathfinder. A pathfinder has just one method:
 * `find(fromId, toId)`.
 * 
 * This is implementation of the NBA* algorithm described in 
 * 
 *  "Yet another bidirectional algorithm for shortest paths" paper by Wim Pijls and Henk Post
 * 
 * The paper is available here: https://repub.eur.nl/pub/16100/ei2009-10.pdf
 * 
 * @param {ngraph.graph} graph instance. See https://github.com/anvaka/ngraph.graph
 * @param {Object} options that configures search
 * @param {Function(a, b)} options.heuristic - a function that returns estimated distance between
 * nodes `a` and `b`. This function should never overestimate actual distance between two
 * nodes (otherwise the found path will not be the shortest). Defaults function returns 0,
 * which makes this search equivalent to Dijkstra search.
 * @param {Function(a, b)} options.distance - a function that returns actual distance between two
 * nodes `a` and `b`. By default this is set to return graph-theoretical distance (always 1);
 * 
 * @returns {Object} A pathfinder with single method `find()`.
 */
function nba(graph, options) {
  options = options || {};
  // whether traversal should be considered over oriented graph.
  var oriented = options.oriented;
  var quitFast = options.quitFast;

  var heuristic = options.heuristic;
  if (!heuristic) heuristic = defaultSettings.heuristic;

  var distance = options.distance;
  if (!distance) distance = defaultSettings.distance;

  // During stress tests I noticed that garbage collection was one of the heaviest
  // contributors to the algorithm's speed. So I'm using an object pool to recycle nodes.
  var pool = makeNBASearchStatePool();

  return {
    /**
     * Finds a path between node `fromId` and `toId`.
     * @returns {Array} of nodes between `toId` and `fromId`. Empty array is returned
     * if no path is found.
     */
    find: find
  };

  function find(fromId, toId) {
    // I must apologize for the code duplication. This was the easiest way for me to
    // implement the algorithm fast.
    var from = graph.getNode(fromId);
    if (!from) throw new Error('fromId is not defined in this graph: ' + fromId);
    var to = graph.getNode(toId);
    if (!to) throw new Error('toId is not defined in this graph: ' + toId);

    pool.reset();

    // I must also apologize for somewhat cryptic names. The NBA* is bi-directional
    // search algorithm, which means it runs two searches in parallel. One is called
    // forward search and it runs from source node to target, while the other one
    // (backward search) runs from target to source.

    // Everywhere where you see `1` it means it's for the forward search. `2` is for 
    // backward search.

    // For oriented graph path finding, we need to reverse the graph, so that
    // backward search visits correct link. Obviously we don't want to duplicate
    // the graph, instead we always traverse the graph as non-oriented, and filter
    // edges in `visitN1Oriented/visitN2Oritented`
    var forwardVisitor = oriented ? visitN1Oriented : visitN1;
    var reverseVisitor = oriented ? visitN2Oriented : visitN2;

    // Maps nodeId to NBASearchState.
    var nodeState = new Map();

    // These two heaps store nodes by their underestimated values.
    var open1Set = new NodeHeap({
      compare: defaultSettings.compareF1Score,
      setNodeId: defaultSettings.setH1
    });
    var open2Set = new NodeHeap({
      compare: defaultSettings.compareF2Score,
      setNodeId: defaultSettings.setH2
    });

    // This is where both searches will meet.
    var minNode;

    // The smallest path length seen so far is stored here:
    var lMin = Number.POSITIVE_INFINITY;

    // We start by putting start/end nodes to the corresponding heaps
    // If variable names like `f1`, `g1` are too confusing, please refer
    // to makeNBASearchStatePool.js file, which has detailed description.
    var startNode = pool.createNewState(from);
    nodeState.set(fromId, startNode); 
    startNode.g1 = 0;
    var f1 = heuristic(from, to);
    startNode.f1 = f1;
    open1Set.push(startNode);

    var endNode = pool.createNewState(to);
    nodeState.set(toId, endNode);
    endNode.g2 = 0;
    var f2 = f1; // they should agree originally
    endNode.f2 = f2;
    open2Set.push(endNode)

    // the `cameFrom` variable is accessed by both searches, so that we can store parents.
    var cameFrom;

    // this is the main algorithm loop:
    while (open2Set.length && open1Set.length) {
      if (open1Set.length < open2Set.length) {
        forwardSearch();
      } else {
        reverseSearch();
      }

      if (quitFast && minNode) break;
    }

    var path = reconstructPath(minNode);
    return path; // the public API is over

    function forwardSearch() {
      cameFrom = open1Set.pop();
      if (cameFrom.closed) {
        return;
      }

      cameFrom.closed = true;

      if (cameFrom.f1 < lMin && (cameFrom.g1 + f2 - heuristic(from, cameFrom.node)) < lMin) {
        graph.forEachLinkedNode(cameFrom.node.id, forwardVisitor);
      }

      if (open1Set.length > 0) {
        // this will be used in reverse search
        f1 = open1Set.peek().f1;
      } 
    }

    function reverseSearch() {
      cameFrom = open2Set.pop();
      if (cameFrom.closed) {
        return;
      }
      cameFrom.closed = true;

      if (cameFrom.f2 < lMin && (cameFrom.g2 + f1 - heuristic(cameFrom.node, to)) < lMin) {
        graph.forEachLinkedNode(cameFrom.node.id, reverseVisitor);
      }

      if (open2Set.length > 0) {
        // this will be used in forward search
        f2 = open2Set.peek().f2;
      }
    }

    function visitN1(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) return;

      var tentativeDistance = cameFrom.g1 + distance(cameFrom.node, otherNode, link);

      if (tentativeDistance < otherSearchState.g1) {
        otherSearchState.g1 = tentativeDistance;
        otherSearchState.f1 = tentativeDistance + heuristic(otherSearchState.node, to);
        otherSearchState.p1 = cameFrom;
        if (otherSearchState.h1 < 0) {
          open1Set.push(otherSearchState);
        } else {
          open1Set.updateItem(otherSearchState.h1);
        }
      }
      var potentialMin = otherSearchState.g1 + otherSearchState.g2;
      if (potentialMin < lMin) { 
        lMin = potentialMin;
        minNode = otherSearchState;
      }
    }

    function visitN2(otherNode, link) {
      var otherSearchState = nodeState.get(otherNode.id);
      if (!otherSearchState) {
        otherSearchState = pool.createNewState(otherNode);
        nodeState.set(otherNode.id, otherSearchState);
      }

      if (otherSearchState.closed) return;

      var tentativeDistance = cameFrom.g2 + distance(cameFrom.node, otherNode, link);

      if (tentativeDistance < otherSearchState.g2) {
        otherSearchState.g2 = tentativeDistance;
        otherSearchState.f2 = tentativeDistance + heuristic(from, otherSearchState.node);
        otherSearchState.p2 = cameFrom;
        if (otherSearchState.h2 < 0) {
          open2Set.push(otherSearchState);
        } else {
          open2Set.updateItem(otherSearchState.h2);
        }
      }
      var potentialMin = otherSearchState.g1 + otherSearchState.g2;
      if (potentialMin < lMin) {
        lMin = potentialMin;
        minNode = otherSearchState;
      }
    }

    function visitN2Oriented(otherNode, link) {
      // we are going backwards, graph needs to be reversed. 
      if (link.toId === cameFrom.node.id) return visitN2(otherNode, link);
    }
    function visitN1Oriented(otherNode, link) {
      // this is forward direction, so we should be coming FROM:
      if (link.fromId === cameFrom.node.id) return visitN1(otherNode, link);
    }
  }
}

function reconstructPath(searchState) {
  if (!searchState) return NO_PATH;

  var path = [searchState.node];
  var parent = searchState.p1;

  while (parent) {
    path.push(parent.node);
    parent = parent.p1;
  }

  var child = searchState.p2;

  while (child) {
    path.unshift(child.node);
    child = child.p2;
  }
  return path;
}


/***/ }),

/***/ "./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js":
/*!***********************************************************************!*\
  !*** ./node_modules/ngraph.path/a-star/nba/makeNBASearchStatePool.js ***!
  \***********************************************************************/
/***/ ((module) => {

module.exports = makeNBASearchStatePool;

/**
 * Creates new instance of NBASearchState. The instance stores information
 * about search state, and is used by NBA* algorithm.
 *
 * @param {Object} node - original graph node
 */
function NBASearchState(node) {
  /**
   * Original graph node.
   */
  this.node = node;

  /**
   * Parent of this node in forward search
   */
  this.p1 = null;

  /**
   * Parent of this node in reverse search
   */
  this.p2 = null;

  /**
   * If this is set to true, then the node was already processed
   * and we should not touch it anymore.
   */
  this.closed = false;

  /**
   * Actual distance from this node to its parent in forward search
   */
  this.g1 = Number.POSITIVE_INFINITY;

  /**
   * Actual distance from this node to its parent in reverse search
   */
  this.g2 = Number.POSITIVE_INFINITY;


  /**
   * Underestimated distance from this node to the path-finding source.
   */
  this.f1 = Number.POSITIVE_INFINITY;

  /**
   * Underestimated distance from this node to the path-finding target.
   */
  this.f2 = Number.POSITIVE_INFINITY;

  // used to reconstruct heap when fScore is updated. TODO: do I need them both?

  /**
   * Index of this node in the forward heap.
   */
  this.h1 = -1;

  /**
   * Index of this node in the reverse heap.
   */
  this.h2 = -1;
}

/**
 * As path-finding is memory-intensive process, we want to reduce pressure on
 * garbage collector. This class helps us to recycle path-finding nodes and significantly
 * reduces the search time (~20% faster than without it).
 */
function makeNBASearchStatePool() {
  var currentInCache = 0;
  var nodeCache = [];

  return {
    /**
     * Creates a new NBASearchState instance
     */
    createNewState: createNewState,

    /**
     * Marks all created instances available for recycling.
     */
    reset: reset
  };

  function reset() {
    currentInCache = 0;
  }

  function createNewState(node) {
    var cached = nodeCache[currentInCache];
    if (cached) {
      // TODO: This almost duplicates constructor code. Not sure if
      // it would impact performance if I move this code into a function
      cached.node = node;

      // How we came to this node?
      cached.p1 = null;
      cached.p2 = null;

      cached.closed = false;

      cached.g1 = Number.POSITIVE_INFINITY;
      cached.g2 = Number.POSITIVE_INFINITY;
      cached.f1 = Number.POSITIVE_INFINITY;
      cached.f2 = Number.POSITIVE_INFINITY;

      // used to reconstruct heap when fScore is updated.
      cached.h1 = -1;
      cached.h2 = -1;
    } else {
      cached = new NBASearchState(node);
      nodeCache[currentInCache] = cached;
    }
    currentInCache++;
    return cached;
  }
}


/***/ }),

/***/ "./node_modules/ngraph.path/index.js":
/*!*******************************************!*\
  !*** ./node_modules/ngraph.path/index.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = {
  aStar: __webpack_require__(/*! ./a-star/a-star.js */ "./node_modules/ngraph.path/a-star/a-star.js"),
  aGreedy: __webpack_require__(/*! ./a-star/a-greedy-star */ "./node_modules/ngraph.path/a-star/a-greedy-star.js"),
  nba: __webpack_require__(/*! ./a-star/nba/index.js */ "./node_modules/ngraph.path/a-star/nba/index.js"),
}


/***/ }),

/***/ "./src/LoadExpressionTestPage.ts":
/*!***************************************!*\
  !*** ./src/LoadExpressionTestPage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadExpressionsTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ./mathlib/expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ./mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integral_1 = __webpack_require__(/*! ./mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
/**
 * Called after the dom is loaded.
 * Populates the body element of the document
 * with the test expressions page
 */
function loadExpressionsTestPage() {
    const page = document.getElementsByTagName("body")[0];
    function p(content) {
        const e = document.createElement("p");
        e.innerText = content;
        page.append(e);
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        page.append(e);
    }
    p("The sum of a, a, and a");
    view((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.a, ConvenientExpressions_1.a));
    p("Integral of a over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of (a over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of ((a over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of (((a over a) over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("Integral of ((((a over a) over a) over a) over a) over b with respect to c");
    view(Integral_1.Integral.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(Fraction_1.Fraction.of(ConvenientExpressions_1.a, ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.a), ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    p("");
    view((0, ConvenientExpressions_1.int)(Fraction_1.Fraction.of((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.a), Fraction_1.Fraction.of((0, ConvenientExpressions_1.num)(1), (0, ConvenientExpressions_1.num)(2)))), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.a)), ConvenientExpressions_1.x));
    p("Product of x and y");
    view((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.x, ConvenientExpressions_1.y));
    p("Product of (x-1), -1 and y");
    view((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.num)(1))), (0, ConvenientExpressions_1.num)(-1), ConvenientExpressions_1.y));
    p("Negation of x (Reped as the propduct of -1 and x)");
    view((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x));
    p("Sum of x and -x");
    view((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x)));
    p("Sum of -x and x");
    view((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.x), ConvenientExpressions_1.x));
    p("Derivative of the square of x with respect to x");
    view(Derivative_1.Derivative.of(Exponent_1.Exponent.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2)), ConvenientExpressions_1.x));
    p("Derivative ((x^2) - 2) with respect to x");
    view(Derivative_1.Derivative.of(Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(-2)), (0, ConvenientExpressions_1.num)(2)), ConvenientExpressions_1.x));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
    p("");
    view((0, ConvenientExpressions_1.num)(1));
}
exports.loadExpressionsTestPage = loadExpressionsTestPage;


/***/ }),

/***/ "./src/LoadInputParseTestPage.ts":
/*!***************************************!*\
  !*** ./src/LoadInputParseTestPage.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadInputParseTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Logarithm_1 = __webpack_require__(/*! ./mathlib/expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadInputParseTestPage() {
    const page = document.getElementsByTagName("body")[0];
    page.style.padding = "8ch";
    function p(content) {
        const e = document.createElement("p");
        e.innerText = content;
        return e;
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        return e;
    }
    /**
     * Print the parsed expression to the page.
     * @param input User input string to parse.
     * @param explanation
     */
    function expression(input, explanation = null) {
        page.append(p("Input:       " + input));
        if (explanation != null)
            page.append(p(explanation));
        page.append(view((0, AntlrMathParser_1.parseExpression)(input)));
    }
    /**
     * Takes an internal expression, converts it
     * to a string, then parses that string into
     * an expression.
     * @param input
     */
    function twoWay(input) {
        const table = document.createElement("table");
        table.style.border = "1px solid black";
        table.style.width = "70%";
        const row = document.createElement("tr");
        table.appendChild(row);
        const data1 = document.createElement("td");
        const data2 = document.createElement("td");
        const data3 = document.createElement("td");
        row.appendChild(data1);
        row.appendChild(data2);
        row.appendChild(data3);
        data1.style.border = "1px solid black";
        data2.style.border = "1px solid black";
        data3.style.border = "1px solid black";
        data1.appendChild(view(input));
        const text = p(input.toUnambigiousString());
        text.style.display = "block";
        text.style.textAlign = "center";
        data2.appendChild(text);
        const parseResult = (0, AntlrMathParser_1.parseExpression)(input.toUnambigiousString());
        data3.appendChild(view(parseResult));
        page.append(table);
        // Conditional formatting
        if (input === parseResult) {
            data3.style.backgroundColor = "lightgreen";
        }
        else {
            data3.style.backgroundColor = "red";
        }
    }
    // Expression strings to test
    expression("int(x)dx+c");
    expression("a/bintx");
    expression("a^b+c", "The +c shouldn't be in the exponent");
    expression("a+b^c");
    expression("(a+b)^c");
    expression("-a-b+c");
    expression("-a+-b+c");
    expression("a+b+c");
    expression("-(a+b)");
    expression("-a(a+b)");
    expression("a+(b+c)");
    expression("a-b-c");
    expression("a*b+c");
    expression("a/b+c");
    expression("a/b/c");
    expression("abx-d");
    expression("-abx-d");
    expression("-a-bx-d");
    expression("abcd");
    expression("a*b*c*d");
    expression("ab*cd");
    expression("int4x+2");
    expression("int(4x+2)");
    expression("logx");
    expression("log(x)");
    expression("(5/(2x-3)-(3/((2x-3)^2))");
    expression("(5/(2x-3)-(3/(2x-3)^2)");
    page.append(p("In these tests, an unambigious expression is written in the " +
        " source code. It is then converted to an unambigious string " +
        "representation, and then parsed back into an expression. " +
        "The goal is that this process preserves the expression. This " +
        "requires 1) expression -> string is unambigious and accurate and 2) " +
        "the parser is working correctly."));
    page.append(p("The first column is assumed to be correct, the middle collumn has " +
        "the automatically generated string version of the first column, " +
        "and the last column contains the expression parsed from the second column."));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.y, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), ConvenientExpressions_1.b, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, Exponent_1.Exponent.of(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    twoWay(Exponent_1.Exponent.of((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)));
    twoWay((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)));
    twoWay((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.b))));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.b), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.c)));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.fraction)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.fraction)((0, ConvenientExpressions_1.fraction)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), ConvenientExpressions_1.c));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.x), ConvenientExpressions_1.d));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.x)), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.d)));
    twoWay((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.a), (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.b, ConvenientExpressions_1.x)), (0, ConvenientExpressions_1.negative)(ConvenientExpressions_1.d)));
    twoWay((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.a, ConvenientExpressions_1.b, ConvenientExpressions_1.c, ConvenientExpressions_1.d));
    // twoWay("ab*cd")
    // twoWay("int4x+2")
    // twoWay("int(4x+2)")
    twoWay(Logarithm_1.Logarithm.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(10)));
}
exports.loadInputParseTestPage = loadInputParseTestPage;


/***/ }),

/***/ "./src/LoadPrimaryPage.ts":
/*!********************************!*\
  !*** ./src/LoadPrimaryPage.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadPrimaryPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const WebGraphView_1 = __webpack_require__(/*! ./mathlib/uielements/WebGraphView */ "./src/mathlib/uielements/WebGraphView.ts");
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const Expression_1 = __webpack_require__(/*! ./mathlib/expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ./mathlib/derivations/RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
const SubtractFromBothSides_1 = __webpack_require__(/*! ./mathlib/derivations/algebra/SubtractFromBothSides */ "./src/mathlib/derivations/algebra/SubtractFromBothSides.ts");
const DivideOnBothSides_1 = __webpack_require__(/*! ./mathlib/derivations/algebra/DivideOnBothSides */ "./src/mathlib/derivations/algebra/DivideOnBothSides.ts");
const Variable_1 = __webpack_require__(/*! ./mathlib/expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Product_1 = __webpack_require__(/*! ./mathlib/expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./mathlib/expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Interpreter_1 = __webpack_require__(/*! ./mathlib/interpreting/Interpreter */ "./src/mathlib/interpreting/Interpreter.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./mathlib/derivations/simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ./mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
const Integral_1 = __webpack_require__(/*! ./mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Exponent_1 = __webpack_require__(/*! ./mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
RelationalDerivationRule_1.RelationalDerivationRule.rules.add(new SubtractFromBothSides_1.SubtractFromBothSides());
RelationalDerivationRule_1.RelationalDerivationRule.rules.add(new DivideOnBothSides_1.DivideOnBothSides());
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadPrimaryPage() {
    //product(sum(a, b), sum(a, negative(b)), a, a)
    let root = Integral_1.Integral.of((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(10), Exponent_1.Exponent.of(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2))), ConvenientExpressions_1.x);
    let derivationResult = (0, Deriver_1.deriveExpand)((0, Deriver_1.wrapInGraph)(root), 30, true);
    const graph = derivationResult.graph;
    const interpreter = new Interpreter_1.Interpreter({
        skips: (0, ThingsThatShouldBeInTheStdLib_1.setOf)(EvaluateSums_1.RULE_ID)
    });
    const input = document.getElementById("input");
    input.addEventListener("keydown", e => {
        if (e.key !== "Enter")
            return;
        e.preventDefault();
        input.value = input.value.trimEnd();
        try {
            root = (0, AntlrMathParser_1.parseExpression)(input.value);
        }
        catch (e) {
            root = null;
            alert("Not a valid input");
            return;
        }
        derivationResult = (0, Deriver_1.deriveExpand)((0, Deriver_1.wrapInGraph)(root), 5, true);
        const graph = derivationResult.graph;
        graphView.setGraph(graph, (0, ThingsThatShouldBeInTheStdLib_1.setOf)(root));
    });
    const out = document.getElementById("outputbox");
    const config = {
        showArguments: false,
        drawEdgeLines: true,
        debugCornerEnabled: true
    };
    const graphView = new WebGraphView_1.WebGraphView(graph, new Set([root]), interpreter, config);
    graphView.setNodeColoringScheme(n => {
        if (n instanceof Expression_1.Expression) {
            if (!derivationResult.isSimplified(n))
                return "lightgray";
            if (n instanceof Product_1.Product)
                if (derivationResult.passedFactoringSimplification.has(n))
                    return "coral";
            if (n instanceof Sum_1.Sum)
                if (derivationResult.passedPolynomialSimplification.has(n))
                    return "yellow";
            if (derivationResult.passedConvergentSimplification.has(n))
                return "lightgreen";
            if (n instanceof Variable_1.Variable)
                return "orange";
            return "lightblue";
        }
        return "black";
    });
    graphView.setAttribute("id", "web-graphview");
    out.appendChild(graphView);
}
exports.loadPrimaryPage = loadPrimaryPage;


/***/ }),

/***/ "./src/LoadSimplificationTestPage.ts":
/*!*******************************************!*\
  !*** ./src/LoadSimplificationTestPage.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSimplificationTestPage = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ./mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
/**
 * Called after DOM is loaded.
 * Substitutes the body element in the document
 * with the primary integrator view.
 */
function loadSimplificationTestPage() {
    const page = document.getElementsByTagName("body")[0];
    page.style.padding = "8ch";
    function p(content) {
        const e = document.createElement("p");
        e.innerText = content;
        return e;
    }
    function view(exp) {
        const e = new EditableMathView_1.EditableMathView();
        e.value = exp;
        return e;
    }
    /**
     * Adds a test column to the page.
     * @param start
     * @param answ The correct simplification of the expression.
     */
    function simplify(start, answ) {
        const table = document.createElement("table");
        table.style.border = "1px solid black";
        table.style.width = "80%";
        const row = document.createElement("tr");
        table.appendChild(row);
        function append(cell) {
            cell.style.border = "1px solid black";
            row.appendChild(cell);
        }
        const data1 = document.createElement("td");
        const data2 = document.createElement("td");
        const data3 = document.createElement("td");
        append(data1);
        append(data2);
        append(data3);
        data1.appendChild(view(start));
        const derivationResult = (0, Deriver_1.deriveExpand)((0, Deriver_1.wrapInGraph)(start), 40);
        const results = derivationResult.simplifiedExpressions;
        console.log(results.length);
        if (results.length == 0) {
            table.style.backgroundColor = "red";
            page.append(table);
            return;
        }
        data2.appendChild(view(results[0]));
        data3.appendChild(view(answ));
        page.append(table);
        // Conditional formatting
        if (results[0] === answ) {
            data2.style.backgroundColor = "lightgreen";
        }
        else {
            data2.style.backgroundColor = "red";
            const data4 = document.createElement("td");
            const data5 = document.createElement("td");
            const data6 = document.createElement("td");
            append(data4);
            append(data5);
            append(data6);
            data4.innerHTML =
                results[0].toUnambigiousString() +
                    "<br>" +
                    answ.toUnambigiousString();
            data5.innerHTML =
                "Hashes: <br>" + results[0].hash + "<br>" + answ.hash;
            data6.innerHTML = "IDs: " + results[0].id + "<br>" + answ.id;
        }
    }
    /**
     * Wrapper for simplify that parses strings
     * @param input
     * @param answ
     */
    function pSimp(input, answ) {
        const inputExp = (0, AntlrMathParser_1.parseExpression)(input);
        const answExp = (0, AntlrMathParser_1.parseExpression)(answ);
        simplify(inputExp, answExp);
    }
    // Expressions and their correct simplifications
    simplify((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.x, ConvenientExpressions_1.x), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.x));
    simplify((0, ConvenientExpressions_1.product)(ConvenientExpressions_1.x, ConvenientExpressions_1.x), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.x, (0, ConvenientExpressions_1.num)(2)));
    simplify((0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.a, ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.a), ConvenientExpressions_1.b));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.c, ConvenientExpressions_1.b)), (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.c, ConvenientExpressions_1.b)));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.c)), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.sum)(ConvenientExpressions_1.b, ConvenientExpressions_1.c)));
    simplify((0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, ConvenientExpressions_1.b)), (0, ConvenientExpressions_1.pow)(ConvenientExpressions_1.a, (0, ConvenientExpressions_1.product)((0, ConvenientExpressions_1.num)(2), ConvenientExpressions_1.b)));
    pSimp("(a+b)(a+b)", "(a+b)^2");
    pSimp("(a+b)(a-b)", "a^2-b^2");
    pSimp("b^2*b", "b^3");
    // Random online problems
    pSimp("(-(1/x)+1)((x^2)/(x-1))", "x");
    pSimp("(3x+27y+15z)/(x+9y+5z)", "3");
    pSimp("(x^2-9)/(x+3)", "(x-3)");
    pSimp("x+3*(10+y)-7x-y", "-6x+2y+30");
    pSimp("(5/(2x-3)-(3/((2x-3)^2))", "(2(5x-9))/((2x-3)^2)");
}
exports.loadSimplificationTestPage = loadSimplificationTestPage;


/***/ }),

/***/ "./src/LoadSolverPage.ts":
/*!*******************************!*\
  !*** ./src/LoadSolverPage.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadSolverPage = void 0;
const Deriver_1 = __webpack_require__(/*! ./mathlib/derivations/Deriver */ "./src/mathlib/derivations/Deriver.ts");
const EditableMathView_1 = __webpack_require__(/*! ./mathlib/uielements/EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const ngraph_path_1 = __importDefault(__webpack_require__(/*! ngraph.path */ "./node_modules/ngraph.path/index.js"));
const ngraph_graph_1 = __importDefault(__webpack_require__(/*! ngraph.graph */ "./node_modules/ngraph.graph/index.js"));
const Expression_1 = __webpack_require__(/*! ./mathlib/expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const Argument_1 = __webpack_require__(/*! ./mathlib/Argument */ "./src/mathlib/Argument.ts");
const ArgumentNodeView_1 = __webpack_require__(/*! ./mathlib/uielements/ArgumentNodeView */ "./src/mathlib/uielements/ArgumentNodeView.ts");
const ExpressionNodeView_1 = __webpack_require__(/*! ./mathlib/uielements/ExpressionNodeView */ "./src/mathlib/uielements/ExpressionNodeView.ts");
const GraphMinipulator_1 = __webpack_require__(/*! ./mathlib/GraphMinipulator */ "./src/mathlib/GraphMinipulator.ts");
const AntlrMathParser_1 = __webpack_require__(/*! ./mathlib/userinput/AntlrMathParser */ "./src/mathlib/userinput/AntlrMathParser.ts");
const Interpreter_1 = __webpack_require__(/*! ./mathlib/interpreting/Interpreter */ "./src/mathlib/interpreting/Interpreter.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ./mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./mathlib/derivations/simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const Path_1 = __webpack_require__(/*! ./mathlib/interpreting/Path */ "./src/mathlib/interpreting/Path.ts");
function loadSolverPage() {
    const inputView = document.getElementById("problem");
    const problemViewDiv = document.getElementById("expressionViewDiv");
    const solutionView = document.getElementById("solution");
    const stepListView = document.getElementById("steps");
    // Populate ui
    const problemView = new EditableMathView_1.EditableMathView();
    problemViewDiv.appendChild(problemView);
    inputView.focus();
    inputView.addEventListener("keyup", () => {
        // Parse input
        let exp;
        try {
            exp = (0, AntlrMathParser_1.parseExpression)(inputView.value);
            problemView.value = exp;
        }
        catch (e) {
            stepListView.style.opacity = "0.6";
            problemView.value = null;
            return;
        }
        // We were able to parse the input
        stepListView.style.opacity = "1";
        // Clear the previous result
        while (stepListView.children.length > 0) {
            stepListView.removeChild(stepListView.children[0]);
        }
        const steps = getSolution(exp);
        if (steps.nodes.length == 0) {
            stepListView.textContent = "Cannot Simplify";
            return;
        }
        else {
            stepListView.textContent = "";
        }
        // Interpret the solution
        const interpreter = new Interpreter_1.Interpreter({
            skips: (0, ThingsThatShouldBeInTheStdLib_1.setOf)(EvaluateSums_1.RULE_ID)
        });
        const skipSet = interpreter.processPath(steps);
        // Display new result
        solutionView.value = steps.nodes[steps.nodes.length - 1];
        function recursiveAdd(node) {
            stepListView.appendChild(new ExpressionNodeView_1.ExpressionNodeView(node, view => { }));
            const next = skipSet.next(node);
            if (next == null)
                return;
            const arg = next.a;
            stepListView.appendChild(new ArgumentNodeView_1.ArgumentNodeView(arg, view => { }));
            recursiveAdd(next.e);
        }
        recursiveAdd(steps.nodes[0]);
    });
}
exports.loadSolverPage = loadSolverPage;
/**
 * Simplifies the given expression returning an array
 * of steps ending in the answer.
 * The last node will be an expression.
 * Result path will have no nodes if there is no solution.
 */
function getSolution(problem) {
    const graph = (0, Deriver_1.wrapInGraph)(problem);
    const derivationResult = (0, Deriver_1.deriveExpand)(graph, 50, true);
    let simplified = problem;
    for (const node of graph.getNodes()) {
        if (node instanceof Expression_1.Expression)
            if (derivationResult.isSimplified(node))
                if (simplified.childCount > node.childCount)
                    simplified = node;
    }
    // Copy the resulting graph into a library implementation of graph
    const libraryGraph = (0, ngraph_graph_1.default)();
    graph.getNodes().forEach(n => {
        libraryGraph.addNode(n.id, n);
    });
    // I assume that library graph isn't directed
    for (const edge of GraphMinipulator_1.GraphMinipulator.dropSymmetric(graph.getEdges())) {
        if (edge.e instanceof Argument_1.Argument) {
            libraryGraph.addLink(edge.n.id, edge.e.id);
            libraryGraph.addLink(edge.e.id, edge.n1.id);
        }
        // if (edge.n instanceof Expression && edge.n1 instanceof Expression)
        //     console.log(`edge ${edge.n} AND ${edge.n1}`)
    }
    // Do path finding operation on it
    const pathFinder = ngraph_path_1.default.nba(libraryGraph);
    const resultPath = pathFinder.find(problem.id, simplified.id).reverse();
    const typedResultPath = resultPath
        .map(node => {
        if (node.data instanceof Argument_1.Argument)
            return node.data;
        else if (node.data instanceof Expression_1.Expression)
            return node.data;
        else
            throw new Error("Not implemented");
    })
        .filter(node => node instanceof Expression_1.Expression);
    return new Path_1.Path(graph, ...typedResultPath);
}


/***/ }),

/***/ "./src/mathlib/Argument.ts":
/*!*********************************!*\
  !*** ./src/mathlib/Argument.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Argument = void 0;
const MathGraphNode_1 = __webpack_require__(/*! ./MathGraphNode */ "./src/mathlib/MathGraphNode.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Connects one or more nodes (grounds) to one or more nodes (claims).
 * Contains an explanation/argument for the connection.
 */
class Argument extends MathGraphNode_1.MathGraphNode {
    constructor(grounds, claim, argument, ruleId) {
        super();
        this.expressionEdge = true;
        this.grounds = grounds;
        Object.freeze(this.grounds);
        this.claim = claim;
        this.argument = argument;
        this.ruleId = ruleId;
        this.repOk();
    }
    get relationship() {
        return this.claim.r;
    }
    toString() {
        return "Argument " + this.claim.r;
    }
    repOk() {
        (0, assert_1.assert)(this.grounds != null);
        for (const ground of this.grounds) {
            (0, assert_1.assert)(ground != null && ground != undefined);
        }
        (0, assert_1.assert)(this.claim.n != null && this.claim.n != undefined);
        (0, assert_1.assert)(this.claim.n1 != null && this.claim.n1 != undefined);
        (0, assert_1.assert)(this.claim.r != undefined && this.claim.r != null);
    }
}
exports.Argument = Argument;


/***/ }),

/***/ "./src/mathlib/ConvenientExpressions.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/ConvenientExpressions.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.y = exports.x = exports.f = exports.e = exports.d = exports.c = exports.b = exports.a = exports.productAndNotTimesOne = exports.productOrOne = exports.productOrNot = exports.equivalenceArgument = exports.int = exports.v = exports.num = exports.negative = exports.product = exports.removeNew = exports.remove = exports.pow = exports.orderedProduct = exports.sumOrNot = exports.sumIntuitive = exports.sumEvalIntegerTerms = exports.orderedSum = exports.sum = exports.fraction = void 0;
const Integer_1 = __webpack_require__(/*! ./expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Fraction_1 = __webpack_require__(/*! ./expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integral_1 = __webpack_require__(/*! ./expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Product_1 = __webpack_require__(/*! ./expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ./expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const Relationship_1 = __webpack_require__(/*! ./Relationship */ "./src/mathlib/Relationship.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
const Exponent_1 = __webpack_require__(/*! ./expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
function fraction(num, den) {
    return Fraction_1.Fraction.of(num, den);
}
exports.fraction = fraction;
/**
 * A convenience method for Sum.of()
 */
function sum(...terms) {
    return Sum_1.Sum.of(terms);
}
exports.sum = sum;
/**
 * Gets the correctly ordered sum of the given sum.
 * 1 + a = a + 1
 * Follows the spec given in the Sum.ts file.
 * @param sum
 * @returns
 */
function orderedSum(sum) {
    const ordered = (0, Sum_1.orderTerms)(...sum.terms);
    return Sum_1.Sum.of(ordered);
}
exports.orderedSum = orderedSum;
/**
 * Returns the sum of the given terms, evaluating any integer terms.
 * Puts final constant integer as the last term.
 * If the result is a sum, it will not have the integer 0 as a term.
 * If all given terms sum to zero, the integer zero will be returned.
 * @param terms
 */
function sumEvalIntegerTerms(...terms) {
    const integers = terms.filter(e => e instanceof Integer_1.Integer).length;
    if (integers < 2)
        return sum(...terms);
    const nonIntTerms = terms.filter(e => !(e instanceof Integer_1.Integer));
    const intTerm = terms
        .filter(e => e instanceof Integer_1.Integer)
        .map(e => e)
        .reduce((a, b) => num(a.value + b.value));
    if (intTerm.value == 0) {
        if (nonIntTerms.length > 1) {
            return sum(...nonIntTerms);
        }
        else if (nonIntTerms.length == 1) {
            return nonIntTerms[0];
        }
        else {
            return intTerm;
        }
    }
    else {
        if (nonIntTerms.length == 0) {
            return intTerm;
        }
        else {
            return sum(...nonIntTerms, intTerm);
        }
    }
}
exports.sumEvalIntegerTerms = sumEvalIntegerTerms;
/**
 * Returns the sum of the given terms. Evaluates any
 * integer terms. Additionally cancels out any positive
 * negative terms.
 *
 * Simplifies
 *  x + a - a = x
 * x + ab - ab = x
 * x + 2ab - 2ab = x
 * a - a = 0
 *
 * Doesn't affect
 *  x + 2a - a
 * @param terms
 */
function sumIntuitive(...terms) {
    const intEval = sumEvalIntegerTerms(...terms);
    if (intEval.class != Sum_1.SumType)
        return intEval;
    terms = [...intEval.terms];
    // Find opposite pairs
    // They will take the form
    //      exp + -1 * exp
    // I assume here that the only way to notate
    // negativity is by multiplying by -1
    terms: for (const t of terms) {
        const otherTerms = [...terms];
        remove(otherTerms, t);
        for (const other of otherTerms) {
            if (other instanceof Product_1.Product) {
                if (other.isNegation && other.negation === t) {
                    remove(terms, other);
                    remove(terms, t);
                    continue terms;
                }
            }
        }
    }
    if (terms.length == 0)
        return Integer_1.Integer.of(0);
    else if (terms.length == 1)
        return terms[0];
    else
        return sum(...terms);
}
exports.sumIntuitive = sumIntuitive;
/**
 * Finds the sum of the given terms or if only 1
 * is given returns that term.
 * @param terms
 * @returns
 */
function sumOrNot(...terms) {
    if (terms.length == 1)
        return terms[0];
    else
        return sum(...terms);
}
exports.sumOrNot = sumOrNot;
/**
 * Produces a product from the given factors
 * where the factors are ordered according to convention.
 * @param factors At least 2
 */
function orderedProduct(...factors) {
    factors.sort(Product_1.factorOrder);
    return product(...factors);
}
exports.orderedProduct = orderedProduct;
/**
 * Convenience wrapper function for Exponent.of
 * @param base
 * @param power
 * @returns
 */
function pow(base, power) {
    return Exponent_1.Exponent.of(base, power);
}
exports.pow = pow;
/**
 * Removes the first instance of the given
 * element from the array. Really should be
 * part of the std library. Identifies object
 * with referencial equality.
 * @param array
 * @param element
 */
function remove(array, element) {
    for (let i = 0; i < array.length; i++) {
        if (array[i] === element) {
            array.splice(i, 1);
            return;
        }
    }
}
exports.remove = remove;
/**
 * Gets a new array without the first instance of the given
 * element. Really should be
 * part of the std library. Identifies object
 * with referencial equality.
 * @param array
 * @param element
 */
function removeNew(array, element) {
    const input = [...array];
    for (let i = 0; i < input.length; i++) {
        if (input[i] === element) {
            input.splice(i, 1);
            return input;
        }
    }
    throw new Error("Given array doesn't contain element " + element);
}
exports.removeNew = removeNew;
function product(...factors) {
    factors.forEach(f => (0, assert_1.assert)(f != null && f != undefined, "Making product with null or undefined factor"));
    return Product_1.Product.of(factors);
}
exports.product = product;
function negative(expression) {
    (0, assert_1.assert)(expression != undefined, "Taking negative of undefined expression");
    if (expression instanceof Integer_1.Integer)
        return Integer_1.Integer.of(-expression.value);
    else
        return Product_1.Product.of([Integer_1.Integer.of(-1), expression]);
}
exports.negative = negative;
function num(val) {
    return Integer_1.Integer.of(val);
}
exports.num = num;
function v(symbol) {
    return Variable_1.Variable.of(symbol);
}
exports.v = v;
function int(integrand, respectTo) {
    return Integral_1.Integral.of(integrand, respectTo);
}
exports.int = int;
function equivalenceArgument(first, second, explanation) {
    return new Argument_1.Argument(setOf(first), {
        n: first,
        r: Relationship_1.Relationship.Equal,
        n1: second
    }, explanation, "TEST_ARGUMENT");
}
exports.equivalenceArgument = equivalenceArgument;
/**
 *
 * @returns The product of the given factors, or the only factor given
 * if only one given. Throws if no expressions are given.
 */
function productOrNot(...expressions) {
    (0, assert_1.assert)(expressions.length > 0);
    if (expressions.length == 1)
        return expressions[0];
    return product(...expressions);
}
exports.productOrNot = productOrNot;
/**
 * Takes the product of the given expressions. If none are
 * given, 1. If one is given, that one.
 */
function productOrOne(...expressions) {
    if (expressions.length === 0) {
        return num(1);
    }
    else
        return productOrNot(...expressions);
}
exports.productOrOne = productOrOne;
/**
 * @returns The product of the given terms exlcuding the first if
 *          it's one. If the resulting terms list is only one term,
 *          returns the only term.
 */
function productAndNotTimesOne(...expressions) {
    if (expressions[0] instanceof Integer_1.Integer && expressions[0].value == 1) {
        expressions.shift();
        return productOrNot(...expressions);
    }
    return productOrNot(...expressions);
}
exports.productAndNotTimesOne = productAndNotTimesOne;
function setOf(...expressions) {
    const out = new Set();
    expressions.forEach(e => out.add(e));
    return out;
}
exports.a = v("a");
exports.b = v("b");
exports.c = v("c");
exports.d = v("d");
exports.e = v("e");
exports.f = v("f");
exports.x = v("x");
exports.y = v("y");


/***/ }),

/***/ "./src/mathlib/Graph.ts":
/*!******************************!*\
  !*** ./src/mathlib/Graph.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GivenEdge = exports.ArgumentEdge = exports.Graph = void 0;
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Class representing a graph of expressions and statements
 * including everything we know about a problem.
 * Connects GraphNodes via Inferences for edges.
 *
 * It's a digraph. TODO: It may also need to be a multigraph...
 */
class Graph {
    constructor() {
        this.nodes = new Set();
        this.connections = new Map();
        this.edges = new Map();
        this.repOk();
    }
    /**
     * Adds an expression to the problem.
     * @param node
     * @returns the same graph for chaining.
     */
    addNode(node) {
        this.nodes.add(node);
        if (node instanceof Argument_1.Argument) {
            this.addArgument(node);
        }
        this.repOk();
        return this;
    }
    /**
     * Add a relationship between two elements given by the user to the graph.
     * Should not be called to add derived truths bc this won't store an explanation.
     * Adds given nodes if they aren't already on the graph.
     * @param n
     * @param n1
     * @param r
     * @returns self for chaining
     */
    addRelationship(n, n1, r) {
        this.addNode(n);
        this.addNode(n1);
        // Defined both ways because the user is giving it
        this.internalAdd(n, n1, new GivenEdge(r));
        this.internalAdd(n1, n, new GivenEdge(r));
        this.repOk();
        return this;
    }
    /**
     * Adds a node representing an acumulation of facts
     * that leads to a conclusion.
     * The relationship claimed by the argument is directed
     * from n to n1 with the argument as the edge.
     * @param a
     * @returns the same graph for chaining.
     */
    addArgument(a) {
        this.nodes.add(a);
        // Add the grounds
        for (const ground of a.grounds) {
            this.nodes.add(ground);
            this.internalAdd(ground, a, ArgumentEdge.To);
        }
        // Add the claim
        const claim = a.claim;
        this.addNode(claim.n);
        this.addNode(claim.n1);
        this.internalAdd(a, claim.n, ArgumentEdge.From);
        this.internalAdd(a, claim.n1, ArgumentEdge.From);
        this.internalAdd(claim.n, claim.n1, a);
        this.repOk();
        return this;
    }
    /**
     * @returns the same graph for chaining.
     */
    addArguments(...a) {
        a.forEach(arg => this.addArgument(arg));
        return this;
    }
    /**
     * Adds the given directed edge to the graph. If either node
     * is missing from the graph, adds it.
     * @param n
     * @param n1
     * @param e
     * @returns This.
     */
    addEdge(n, n1, e) {
        this.addNode(n);
        this.addNode(n1);
        this.internalAdd(n, n1, e);
        return this;
    }
    /**
     * Get the set of neighbors of a node.
     * @param node
     * @param direction Nodes that are adjacent to this node, from this node, or either.
     * @returns Undefined if the node isn't in this graph. Otherwise, a set of connected nodes.
     *          If the node is in the graph but isn't connected to anything, returns empty set.
     */
    getNeighbors(node, direction) {
        var _a, _b;
        if (!this.nodes.has(node))
            return undefined;
        if (direction == "out") {
            return [...this.connections.get(node)];
        }
        let adjacentTo = new Set();
        for (const n of this.nodes) {
            if ((_a = this.connections.get(n)) === null || _a === void 0 ? void 0 : _a.has(node))
                adjacentTo.add(n);
        }
        if (direction == "in")
            return [...adjacentTo];
        for (const n of (_b = this.connections.get(node)) !== null && _b !== void 0 ? _b : [])
            adjacentTo.add(n);
        return [...adjacentTo];
    }
    /**
     * Determines the number of edges this node has.
     * @param node The node being consdered.
     * @param direction Count only the edges going towards this node, away from
     *          it, or both.
     * @returns >= 0, undefined if the given node isn't in the graph.
     */
    getDegree(node, direction) {
        var _a, _b, _c, _d;
        if (!this.nodes.has(node))
            return undefined;
        if (direction == "out") {
            return (_b = (_a = this.connections.get(node)) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;
        }
        let degIn = 0;
        this.nodes.forEach(n => {
            if (this.connections.get(n) == undefined)
                return;
            if (this.connections.get(n).has(node))
                degIn++;
        });
        if (direction == "in")
            return degIn;
        return degIn + ((_d = (_c = this.connections.get(node)) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : 0);
    }
    /**
     * @param n Node in the graph.
     * @param n1 In the graph.
     * @returns Undefined if either node isn't in the graph or they're not
     * connected.
     */
    getEdge(n, n1) {
        var _a;
        return (_a = this.edges.get(n)) === null || _a === void 0 ? void 0 : _a.get(n1);
    }
    contains(node) {
        return this.nodes.has(node);
    }
    /**
     * @returns A new set containing all the nodes in the graph
     */
    getNodes() {
        return new Set(this.nodes);
    }
    getEdges() {
        const out = new Set();
        this.edges.forEach((map, first) => {
            map.forEach((edge, second) => {
                out.add({ n: first, n1: second, e: edge });
            });
        });
        return out;
    }
    numNodes() {
        return this.nodes.size;
    }
    /**
     * Adds all graph nodes and edges to this one.
     * @param graph
     * @returns the same graph for chaining.
     */
    addGraph(graph) {
        graph.nodes.forEach(node => {
            this.nodes.add(node);
        });
        graph.edges.forEach((map, node1) => {
            map.forEach((edge, node2) => {
                if (edge instanceof Argument_1.Argument)
                    this.addArgument(edge);
                else if (edge == "supports") {
                    this.internalAdd(node1, node2, ArgumentEdge.To);
                }
                else if (edge == "claims") {
                    this.internalAdd(node1, node2, ArgumentEdge.From);
                }
                else
                    throw new Error("Unknown Edge Type");
            });
        });
        this.repOk();
        return this;
    }
    toString() {
        let out = "Graph(V = {";
        for (const node of this.nodes) {
            out += node.toString() + ",";
        }
        out = out.substring(0, out.length - 1) + "}, E = {";
        this.connections.forEach((set, src) => {
            set.forEach(dest => {
                out += src.toString() + " -> " + dest.toString() + ", ";
            });
        });
        out += "} Edge Count: " + this.connections.size;
        return out;
    }
    internalAdd(n, n1, e) {
        if (this.connections.get(n) == null) {
            this.connections.set(n, new Set());
        }
        this.connections.get(n).add(n1);
        if (this.edges.get(n) == undefined) {
            this.edges.set(n, new Map());
        }
        this.edges.get(n).set(n1, e);
        this.repOk();
    }
    repOk() {
        this.nodes.forEach(value => {
            (0, assert_1.assert)(value != null && value != undefined);
        });
        // All connections/edges have nodes
        this.connections.forEach((value, key) => {
            (0, assert_1.assert)(this.nodes.has(key));
            value.forEach(n => {
                (0, assert_1.assert)(this.nodes.has(n));
            });
        });
        this.edges.forEach((map, first) => {
            map.forEach((edge, second) => {
                (0, assert_1.assert)(this.nodes.has(first));
                (0, assert_1.assert)(this.nodes.has(second));
                (0, assert_1.assert)(this.connections.get(first).has(second));
            });
        });
    }
}
exports.Graph = Graph;
var ArgumentEdge;
(function (ArgumentEdge) {
    ArgumentEdge["To"] = "supports";
    ArgumentEdge["From"] = "claims";
})(ArgumentEdge || (exports.ArgumentEdge = ArgumentEdge = {}));
/**
 * Communicates a relationhip given by the user.
 */
class GivenEdge {
    constructor(r) {
        this.r = r;
    }
}
exports.GivenEdge = GivenEdge;


/***/ }),

/***/ "./src/mathlib/GraphMinipulator.ts":
/*!*****************************************!*\
  !*** ./src/mathlib/GraphMinipulator.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GraphMinipulator = void 0;
const Argument_1 = __webpack_require__(/*! ./Argument */ "./src/mathlib/Argument.ts");
const Graph_1 = __webpack_require__(/*! ./Graph */ "./src/mathlib/Graph.ts");
const assert_1 = __webpack_require__(/*! ./util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Tool to do operations on graphs.
 */
class GraphMinipulator {
    /**
     * Find nodes of components of a graph where only edges for which
     * the callback function returns true are considered.
     * @param
     * @param isConnected
     */
    static getComponentNodes(input, isConnected) {
        const includedNodes = new Set();
        const components = new Set();
        for (const node of input.getNodes()) {
            if (includedNodes.has(node)) {
                continue;
            }
            const component = new Set();
            function getAllConnected(n) {
                includedNodes.add(n);
                if (component.has(n)) {
                    return;
                }
                component.add(n);
                for (const neighbor of input.getNeighbors(n, "both")) {
                    if (!isConnected(input.getEdge(n, neighbor)))
                        continue;
                    getAllConnected(neighbor);
                }
                return;
            }
            getAllConnected(node);
            component.add(node);
            components.add(component);
        }
        (0, assert_1.assert)(includedNodes.size == input.numNodes());
        // Assert components are pairwise disjoint of problems show up
        return components;
    }
    /**
     * Returns a new graph with only the nodes which pass the provided
     * filter function. Edges connected to removed nodes are removed.
     *
     * @param graph
     * @param included
     */
    static dropNodes(graph, included) {
        const result = new Graph_1.Graph();
        graph.getNodes().forEach(n => {
            if (included(n))
                result.addNode(n);
        });
        graph.getEdges().forEach(e => {
            if (included(e.n) && included(e.n1))
                result.addEdge(e.n, e.n1, e.e);
        });
        return result;
    }
    /**
     * Gets every edge in the graph.
     * @param input
     * @returns
     */
    static getRelations(input) {
        const out = [];
        for (const node of input.getNodes()) {
            for (const other of input.getNeighbors(node, "out")) {
                out.push({
                    first: node,
                    second: other,
                    e: input.getEdge(node, other)
                });
            }
        }
        return out;
    }
    /**
     * Parses the graph into sets of
     * nodes grouped by depth from a center node.
     * Assumes the graph is connected.
     * @param rootNodes Contains at least one node in the graph.
     * @param count Function that determines if any given node should be
     * included in the depth count. Defaults to counting all nodes. Nodes that
     * aren't included won't be in the returned value.
     * @returns Map from depth in graph to a set of nodes at that depth.
     *
     */
    static getLevels(input, rootNodes, count = () => true) {
        const roots = new Set(rootNodes);
        const depths = new Map();
        /**
         * Recursively maps out all nodes in the graph,
         * puttin them in the depths map.
         * @param node
         */
        function mapNode(node, depth = 0) {
            var _a;
            if (roots.has(node)) {
                depth = 0;
            }
            if (depth < ((_a = depths.get(node)) !== null && _a !== void 0 ? _a : Number.MAX_VALUE)) {
                depths.set(node, depth);
            }
            const neighbors = [...input.getNeighbors(node, "both")];
            neighbors
                .filter(value => {
                // If we have found a shorter path to it or there was no found path to it
                return ((depths.get(value) == undefined ||
                    depths.get(value) > depth) &&
                    value !== node);
            })
                .forEach(n => {
                mapNode(n, count(node) ? depth + 1 : depth);
            });
        }
        mapNode([...roots][0]);
        const out = new Map();
        depths.forEach((depth, node) => {
            if (!count(node))
                return;
            if (out.get(depth) == undefined) {
                out.set(depth, new Set());
            }
            out.get(depth).add(node);
        });
        return out;
    }
    /**
     * Determines if the given graph is connected, meaning that
     * it's possible to traverse between any two nodes on the graph.
     */
    static isConnected(input) {
        // Check every node has a degree of 1 or more or graph only has 1 or 0 elements
        return ([...input.getNodes()]
            .map(node => {
            return input.getDegree(node, "both") > 0;
        })
            .reduce((a, b) => a && b) || input.numNodes() < 2);
    }
    /**
     * Filters edges list returning a list where only one edge
     * from any edge loops is included.
     * For example if the input edges are a -> b and b -> a,
     * the result will only contain a -> b.
     * @param edges
     */
    static dropSymmetric(edges) {
        const out = [];
        function alreadyHas(edge) {
            for (const e of out)
                if (edge.n == e.n1 && edge.n1 == e.n)
                    return true;
            return false;
        }
        for (const edge of edges) {
            if (!alreadyHas(edge))
                out.push(edge);
        }
        return out;
    }
    /**
     * Creates a new graph with only the edges which passed the
     * filter function. The resulting graph may or may not be connected.
     * All the nodes of the original graph are kept.
     * @param edgeFilter Returns true if the given edge should be included in
     *      the resulting graph.
     * NOTE: NOT TESTED
     */
    static dropEdges(graph, edgeFilter) {
        const out = new Graph_1.Graph();
        for (const node of graph.getNodes()) {
            out.addNode(node);
        }
        for (const edge of graph.getEdges()) {
            if (edgeFilter(edge)) {
                if (edge instanceof Argument_1.Argument) {
                    out.addArgument(edge);
                }
                else {
                    throw new Error("Not implemented");
                }
            }
        }
        return out;
    }
}
exports.GraphMinipulator = GraphMinipulator;


/***/ }),

/***/ "./src/mathlib/MathGraphNode.ts":
/*!**************************************!*\
  !*** ./src/mathlib/MathGraphNode.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MathGraphNode = void 0;
class MathGraphNode {
    constructor() {
        this.id = MathGraphNode.nextId;
        MathGraphNode.nextId++;
    }
}
exports.MathGraphNode = MathGraphNode;
MathGraphNode.nextId = 1;


/***/ }),

/***/ "./src/mathlib/Relationship.ts":
/*!*************************************!*\
  !*** ./src/mathlib/Relationship.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Relationship = void 0;
/**
 * A way in which 2 expressions can be related.
 */
var Relationship;
(function (Relationship) {
    Relationship["Equal"] = "=";
})(Relationship || (exports.Relationship = Relationship = {}));


/***/ }),

/***/ "./src/mathlib/derivations/DerivationRules.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/derivations/DerivationRules.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.polynomialSimplificationRules = exports.factoringSimplificationRules = exports.convergentSimplificationRules = void 0;
const BreakDerivativesOverAddition_1 = __webpack_require__(/*! ./calculus/BreakDerivativesOverAddition */ "./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts");
const ConstantDerivative_1 = __webpack_require__(/*! ./calculus/ConstantDerivative */ "./src/mathlib/derivations/calculus/ConstantDerivative.ts");
const LogIntegralRule_1 = __webpack_require__(/*! ./calculus/LogIntegralRule */ "./src/mathlib/derivations/calculus/LogIntegralRule.ts");
const PowerRule_1 = __webpack_require__(/*! ./calculus/PowerRule */ "./src/mathlib/derivations/calculus/PowerRule.ts");
const ProductRule_1 = __webpack_require__(/*! ./calculus/ProductRule */ "./src/mathlib/derivations/calculus/ProductRule.ts");
const PullConstantsFromDerivatives_1 = __webpack_require__(/*! ./calculus/PullConstantsFromDerivatives */ "./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts");
const PullConstantsFromIntegrals_1 = __webpack_require__(/*! ./calculus/PullConstantsFromIntegrals */ "./src/mathlib/derivations/calculus/PullConstantsFromIntegrals.ts");
const QuotientRule_1 = __webpack_require__(/*! ./calculus/QuotientRule */ "./src/mathlib/derivations/calculus/QuotientRule.ts");
const ReversePowerRule_1 = __webpack_require__(/*! ./calculus/ReversePowerRule */ "./src/mathlib/derivations/calculus/ReversePowerRule.ts");
const USubstitution_1 = __webpack_require__(/*! ./calculus/USubstitution */ "./src/mathlib/derivations/calculus/USubstitution.ts");
const AdditiveIdentity_1 = __webpack_require__(/*! ./simplifications/AdditiveIdentity */ "./src/mathlib/derivations/simplifications/AdditiveIdentity.ts");
const AnythingTimesZero_1 = __webpack_require__(/*! ./simplifications/AnythingTimesZero */ "./src/mathlib/derivations/simplifications/AnythingTimesZero.ts");
const AssociativePropertyOfProductsAndSums_1 = __webpack_require__(/*! ./simplifications/AssociativePropertyOfProductsAndSums */ "./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts");
const CancelNegatives_1 = __webpack_require__(/*! ./simplifications/CancelNegatives */ "./src/mathlib/derivations/simplifications/CancelNegatives.ts");
const CombineCommonFactorsMultiplication_1 = __webpack_require__(/*! ./simplifications/CombineCommonFactorsMultiplication */ "./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts");
const CombineCommonTermsAddition_1 = __webpack_require__(/*! ./simplifications/CombineCommonTermsAddition */ "./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts");
const CombineIntegerFactors_1 = __webpack_require__(/*! ./simplifications/CombineIntegerFactors */ "./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts");
const CombineProductsAndFractions_1 = __webpack_require__(/*! ./simplifications/CombineProductsAndFractions */ "./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts");
const DistributiveProperty_1 = __webpack_require__(/*! ./simplifications/DistributiveProperty */ "./src/mathlib/derivations/simplifications/DistributiveProperty.ts");
const DivideFractions_1 = __webpack_require__(/*! ./simplifications/DivideFractions */ "./src/mathlib/derivations/simplifications/DivideFractions.ts");
const DivisionIdentity_1 = __webpack_require__(/*! ./simplifications/DivisionIdentity */ "./src/mathlib/derivations/simplifications/DivisionIdentity.ts");
const EvaluateSums_1 = __webpack_require__(/*! ./simplifications/EvaluateSums */ "./src/mathlib/derivations/simplifications/EvaluateSums.ts");
const ExponentialIdentity_1 = __webpack_require__(/*! ./simplifications/ExponentialIdentity */ "./src/mathlib/derivations/simplifications/ExponentialIdentity.ts");
const ExponentToZero_1 = __webpack_require__(/*! ./simplifications/ExponentToZero */ "./src/mathlib/derivations/simplifications/ExponentToZero.ts");
const FOIL_1 = __webpack_require__(/*! ./simplifications/FOIL */ "./src/mathlib/derivations/simplifications/FOIL.ts");
const LogOfOne_1 = __webpack_require__(/*! ./simplifications/LogOfOne */ "./src/mathlib/derivations/simplifications/LogOfOne.ts");
const MultiplicativeIdentity_1 = __webpack_require__(/*! ./simplifications/MultiplicativeIdentity */ "./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts");
const MultiplyExponentPowers_1 = __webpack_require__(/*! ./simplifications/MultiplyExponentPowers */ "./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts");
const MultiplyFractions_1 = __webpack_require__(/*! ./simplifications/MultiplyFractions */ "./src/mathlib/derivations/simplifications/MultiplyFractions.ts");
const OrderProducts_1 = __webpack_require__(/*! ./simplifications/OrderProducts */ "./src/mathlib/derivations/simplifications/OrderProducts.ts");
const OrderSums_1 = __webpack_require__(/*! ./simplifications/OrderSums */ "./src/mathlib/derivations/simplifications/OrderSums.ts");
const RemoveCommonFactorsOnTopAndBottomOfFraction_1 = __webpack_require__(/*! ./simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction */ "./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts");
const SubtractExponentsOnFractions_1 = __webpack_require__(/*! ./simplifications/SubtractExponentsOnFractions */ "./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts");
const SumCoefficientsOfAddedTerms_1 = __webpack_require__(/*! ./simplifications/SumCoefficientsOfAddedTerms */ "./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts");
/**
 * 1 input, 1 output
 * Rewrite expressions to follow math conventions
 */
const conventionRules = [new OrderProducts_1.OrderProducts(), new OrderSums_1.OrderSums()];
/**
 * 1 input, 1 output
 */
const evaluativeRules = [
    new EvaluateSums_1.EvaluateSums(),
    new CancelNegatives_1.CancelNegatives(),
    new CombineIntegerFactors_1.CombineIntegerFactors()
];
const combinatoricRules = [
    new SumCoefficientsOfAddedTerms_1.SumCoefficientsOfAddedTerms(),
    new CombineCommonFactorsMultiplication_1.CombineCommonFactorsMultiplication(),
    new MultiplyExponentPowers_1.MultiplyExponentPowers(),
    new SubtractExponentsOnFractions_1.SubtractExponentsOnFractions(),
    new CombineProductsAndFractions_1.CombineProductsAndFractions(),
    new MultiplyFractions_1.MultiplyFractions()
];
const remainingNoContextSimplificationRules = [
    new USubstitution_1.USubstitution(),
    new PowerRule_1.PowerRule(),
    new PullConstantsFromDerivatives_1.PullConstantsFromDerivatives(),
    new PullConstantsFromIntegrals_1.PullConstantsFromIntegrals(),
    new AssociativePropertyOfProductsAndSums_1.AssociativePropertyOfProductsAndSums(),
    new ProductRule_1.ProductRule(),
    new QuotientRule_1.QuotientRule(),
    new DivideFractions_1.DivideFractions(),
    new RemoveCommonFactorsOnTopAndBottomOfFraction_1.RemoveCommonFactorsFromTopAndBottomOfFraction(),
    new BreakDerivativesOverAddition_1.BreakDerivativesOverAddition(),
    new ConstantDerivative_1.ConstantDerivaties(),
    new ReversePowerRule_1.ReversePowerRule(),
    new LogIntegralRule_1.LogIntegralRule()
];
/**
 * A list of simplification rules.
 * If and only if an earlier rule fails to
 * produce equivalent expressions should later lists
 * be used.
 * This list only contains rules which converge to one answer.
 */
exports.convergentSimplificationRules = [
    // Identity rules first
    new AnythingTimesZero_1.AnythingTimesZero(),
    new ExponentToZero_1.ExponentToZero(),
    new MultiplicativeIdentity_1.MultiplicativeIdentity(),
    new ExponentialIdentity_1.ExponentialIdentity(),
    new DivisionIdentity_1.DivisionIdentity(),
    new AdditiveIdentity_1.AdditiveIdentity(),
    new LogOfOne_1.LogOfOne(),
    ...evaluativeRules,
    ...combinatoricRules,
    ...conventionRules,
    ...remainingNoContextSimplificationRules
];
/**
 * These rules converge to factored form.
 */
exports.factoringSimplificationRules = [new CombineCommonTermsAddition_1.CombineCommonTermsAddition()];
/**
 * These rules converge to polynomial form.
 */
exports.polynomialSimplificationRules = [new DistributiveProperty_1.DistributiveProperty(), new FOIL_1.FOIL()];


/***/ }),

/***/ "./src/mathlib/derivations/Deriver.ts":
/*!********************************************!*\
  !*** ./src/mathlib/derivations/Deriver.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.deriveExpand = exports.wrapInGraph = void 0;
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Graph_1 = __webpack_require__(/*! ../Graph */ "./src/mathlib/Graph.ts");
const DerivationRules_1 = __webpack_require__(/*! ./DerivationRules */ "./src/mathlib/derivations/DerivationRules.ts");
const recursion_1 = __webpack_require__(/*! ./recursion */ "./src/mathlib/derivations/recursion.ts");
/**
 * Creates a new graph contianing the given node.
 */
function wrapInGraph(exp) {
    return new Graph_1.Graph().addNode(exp);
}
exports.wrapInGraph = wrapInGraph;
/**
 * Expands the given graph using derivation rules to find
 * equivalent expressions.
 */
function deriveExpand(graph, maxDepth, skipConvergentSimplifications = false) {
    const result = new DerivationResult(graph);
    result.expand(maxDepth, skipConvergentSimplifications);
    return result;
}
exports.deriveExpand = deriveExpand;
/**
 * Holds a single graph and expands it using rules.
 */
class DerivationResult {
    /**
     * Give it the graph you're going to expand.
     * @param graph
     */
    constructor(graph) {
        // All the expressions which could not be simplified further by
        // convergent simplification rules.
        this.passedConvergentSimplification = new Set();
        // All expressions which have been processed by the simplification rules
        /// regardless of the result.
        this.processedByConvergentSimplification = new Set();
        this.processedByDivergentSimplification = new Set();
        // All expressions which are products and could not be further
        // simplified by factoring simplification rules. A subset of
        // passedConvergentSimplification.
        this.passedFactoringSimplification = new Set();
        // All expressions which are sums and could not be further
        // simplified by polynomial simplification rules. A subset of
        // passedConvergentSimplification.
        this.passedPolynomialSimplification = new Set();
        this.graph = graph;
    }
    /**
     * Expands the graph arbitrarily.
     * This function is still poorly defined,
     * very experemental.
     * @param maxDepth The maximum number of iterations the
     *      deriver will do before returning. Non-negative.
     *      If null, there is no max depth.
     * @param skipConvergentSimplifications If true, convergent simplification operations
     *          aren't counted when calculating depth.
     * @param abort A signal used to prematurely abort the operation.
     */
    expand(maxDepth, skipConvergentSimplifications = false) {
        // Simplify all the expressions using the contextless simplifying rules
        // Do this until there's nothing more to simplify
        for (let i = 0; i < maxDepth; i++) {
            this.simplifyNoContextConvergent();
            this.simplifyNoContextDivergent();
        }
        //TODO: Optimize later, lets just make it work first
        // for (let i=0; i < maxDepth; i++) {
        //     if (skipConvergentSimplifications) {
        //         while (this.simplifyNoContextConvergent()) {
        //         }
        //         if (!this.simplifyNoContextDivergent()) return
        //     } else {
        //         if (!this.simplifyNoContextConvergent()) {
        //             if (!this.simplifyNoContextDivergent())
        //                 return
        //         }
        //     }
        // }
    }
    /**
     * Gets a list of expressions which couldn't be simplified further.
     */
    get simplifiedExpressions() {
        return [
            ...this.passedFactoringSimplification,
            ...this.passedPolynomialSimplification
        ];
    }
    /**
     * Applies convergent simplification rules to expand the graph.
     * @returns True if there is more to simplify and this should
     *          be called again. Will be called a finite number of times.
     */
    simplifyNoContextConvergent() {
        const unsimplified = [...this.graph.getNodes()]
            .filter(n => n instanceof Expression_1.Expression)
            .map(n => n)
            .filter(e => !this.processedByConvergentSimplification.has(e));
        let shouldDoAgain = false;
        unsimplified.forEach(e => {
            this.processedByConvergentSimplification.add(e);
            // Try to find equivalents using general convergent rules.
            for (const rule of DerivationRules_1.convergentSimplificationRules) {
                const results = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                const derivedSimplification = results[0];
                for (const r of results) {
                    this.addToGraph([r]);
                }
                if (derivedSimplification != undefined) {
                    shouldDoAgain = true;
                    return; // To next expression
                }
            }
            this.passedConvergentSimplification.add(e);
        });
        return shouldDoAgain;
    }
    /**
     * Applies divergent simplification rules to expand the graph.
     * @returns True if the function expanded the graph.
     */
    simplifyNoContextDivergent() {
        // Only operate on expressions which have not been previously done
        const candidates = [...this.graph.getNodes()]
            .filter(n => n instanceof Expression_1.Expression)
            .map(n => n)
            .filter(e => !this.processedByDivergentSimplification.has(e) &&
            this.passedConvergentSimplification.has(e));
        // True if more expressions were added to the graph
        let shouldDoAgain = false;
        candidates.forEach(e => {
            // Try to find equivalents using divergent rules.
            for (const rule of DerivationRules_1.factoringSimplificationRules) {
                const derivedSimplifications = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                shouldDoAgain || (shouldDoAgain = this.addToGraph(derivedSimplifications));
                if (derivedSimplifications.length == 0) {
                    if (e instanceof Product_1.Product)
                        this.passedFactoringSimplification.add(e);
                }
            }
            for (const rule of DerivationRules_1.polynomialSimplificationRules) {
                const derivedSimplifications = (0, recursion_1.equiv)(e, equivalentsFnUsing([rule]));
                shouldDoAgain || (shouldDoAgain = this.addToGraph(derivedSimplifications));
                if (derivedSimplifications.length > 0) {
                    if (e instanceof Sum_1.Sum)
                        this.passedPolynomialSimplification.add(e);
                }
            }
        });
        return shouldDoAgain;
    }
    /**
     * For each given argument, adds to the graph if at least
     * one of its claim's endpoints isn't already in the graph.
     * If both end points of all arguments are already in the graph,
     * returns false.
     * @param args
     * @effects this.graph
     */
    addToGraph(args) {
        let atLeastOne = false;
        args.forEach(a => {
            if (!this.graph.contains(a.claim.n) ||
                !this.graph.contains(a.claim.n1)) {
                this.graph.addArgument(a);
                atLeastOne = true;
            }
        });
        return atLeastOne;
    }
    /**
     *
     * @returns true if the given expression is in the graph
     * and has already had the contextless simplification operations
     * done to it and cannot be further simplified.
     */
    isSimplified(exp) {
        if (!this.passedConvergentSimplification.has(exp))
            return false;
        if (exp instanceof Product_1.Product)
            return this.passedFactoringSimplification.has(exp);
        if (exp instanceof Sum_1.Sum)
            return this.passedPolynomialSimplification.has(exp);
        return true;
    }
}
/**
 * Function that makes a function that gets the equivalent
 * expressions for a given one.
 * @param rules What rules the resulting function should use to
 *      find equivalents.
 * @returns A function which will use the given rules to
 *      find direct equivalents.
 */
function equivalentsFnUsing(rules) {
    return function (exp) {
        const out = new Set();
        rules
            .filter(r => r.applies(exp))
            .forEach(rule => {
            rule.apply(exp).forEach(i => {
                out.add(i);
            });
        });
        return out;
    };
}


/***/ }),

/***/ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConvergenceTarget = exports.NoContextExpressionSimplificationRule = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * A rule that takes an expression and produces one or more equivalent expressions.
 * These can use reflection to determine what
 * type of expression they're given. These rules will be recursively used
 * to derive simplified expressions.
 *
 * These rules are also contextless: they're only given the expression,
 * no other information about the problem.
 *
 * All of these rules need to converge to a simplified answer. They can't
 * form loops. Thinking about this, there are two simplified forms to
 * converge to:
 *  - Factored form c(a+b)
 *  - Polynomial form ac + bc
 */
class NoContextExpressionSimplificationRule {
    /**
     * Checks if this rule can find equivalents for the
     * given expression. Only call apply() if true.
     */
    applies(exp) {
        return this.appliesImpl(exp);
    }
    /**
     * Produces a set of expressions that are equivalent to
     * the given one. Only call if the given expression
     * passed the applies() test.
     * @param exp The expression to find an equivalent for.
     * @returns Set of equivalent expressions, not including the given one.
     */
    apply(exp) {
        //console.log(this.constructor.name + " on " + exp.toString())
        const result = this.applyImpl(exp);
        result.forEach(e => {
            (0, assert_1.assert)(e != null && e != undefined);
            (0, assert_1.assert)(e.claim.n1 !== exp, "Rule " +
                this.constructor.name +
                " produced result equivalent to ground");
            // TODO: This fuzzy test is inconlusive and can fail when two expressions are equal.
            // Don't leave it in production.
            // assert(fuzzyEquivalenceTest(exp, e.claim.n1), "Failed fuzzy equivalence test "
            //             + exp.toUnambigiousString() + "/=" + e.claim.n1.toUnambigiousString()
            //             + " during argument " + e.argument)
        });
        return result;
    }
    /**
     * Returns the type of expression this rule's
     * results approach.
     */
    get convergenceType() {
        return ConvergenceTarget.None;
    }
}
exports.NoContextExpressionSimplificationRule = NoContextExpressionSimplificationRule;
/**
 * Plugs in some values to see if they're equivalent.
 * @param e1
 * @param e2
 */
function fuzzyEquivalenceTest(e1, e2) {
    const LIMIT = 0.001;
    for (const value of values) {
        if (Math.abs(e1.evaluate(value) - e2.evaluate(value)) > LIMIT)
            return false;
    }
    return true;
}
var ConvergenceTarget;
(function (ConvergenceTarget) {
    ConvergenceTarget[ConvergenceTarget["Factored"] = 0] = "Factored";
    ConvergenceTarget[ConvergenceTarget["Polynomial"] = 1] = "Polynomial";
    ConvergenceTarget[ConvergenceTarget["None"] = 2] = "None";
})(ConvergenceTarget || (exports.ConvergenceTarget = ConvergenceTarget = {}));
const values = (0, ThingsThatShouldBeInTheStdLib_1.setOf)(buildVariableValueMap(-2.1), buildVariableValueMap(-1.1), buildVariableValueMap(0.1), buildVariableValueMap(1.1), buildVariableValueMap(2.1), {
    valueOf(v) {
        var _a;
        return (_a = v.symbol.codePointAt(0)) !== null && _a !== void 0 ? _a : 0;
    }
}, {
    valueOf(v) {
        return v.symbol.charCodeAt(0);
    }
});
function buildVariableValueMap(val) {
    return {
        valueOf(v) {
            return val;
        }
    };
}


/***/ }),

/***/ "./src/mathlib/derivations/RelationalDerivationRule.ts":
/*!*************************************************************!*\
  !*** ./src/mathlib/derivations/RelationalDerivationRule.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RelationalDerivationRule = void 0;
/**
 * Produces truths from a set of equivalent expressions.
 */
class RelationalDerivationRule {
    /**
     *
     * @param equation A set of expressions which are equal.
     */
    apply(equation) {
        return this.applyImpl(equation);
    }
}
exports.RelationalDerivationRule = RelationalDerivationRule;
RelationalDerivationRule.rules = new Set();


/***/ }),

/***/ "./src/mathlib/derivations/algebra/DivideOnBothSides.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/algebra/DivideOnBothSides.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivideOnBothSides = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ../RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
class DivideOnBothSides extends RelationalDerivationRule_1.RelationalDerivationRule {
    applyImpl(equation) {
        const out = [];
        const combinations = cartesianProduct(equation);
        combinations
            .filter(pair => {
            return pair[0] instanceof Product_1.Product;
        })
            .forEach(pair => {
            const p = pair[0];
            const other = pair[1];
            // Some products have multiple factors
            p.factors.forEach(factor => {
                let second;
                if (other instanceof Product_1.Product) {
                    second = [...other.factors];
                }
                else {
                    second = [other];
                }
                const claim = {
                    n: p.without(factor),
                    n1: (0, ConvenientExpressions_1.fraction)((0, ConvenientExpressions_1.productOrNot)(...second), factor),
                    r: Relationship_1.Relationship.Equal
                };
                out.push(new Argument_1.Argument(new Set([p, other]), claim, "a=b & c=d => a/c = b/d", exports.RULE_ID));
            });
        });
        return out;
    }
}
exports.DivideOnBothSides = DivideOnBothSides;
/**
 * Gets the anti-reflexive closure of the relation A x A.
 * It's symmetric and transitive.
 *
 * @param set
 */
function cartesianProduct(set) {
    const out = [];
    for (const first of set) {
        for (const second of set) {
            if (first === second)
                continue;
            out.push([first, second]);
        }
    }
    return out;
}
exports.RULE_ID = "Div on both sides";


/***/ }),

/***/ "./src/mathlib/derivations/algebra/SubtractFromBothSides.ts":
/*!******************************************************************!*\
  !*** ./src/mathlib/derivations/algebra/SubtractFromBothSides.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SubtractFromBothSides = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const RelationalDerivationRule_1 = __webpack_require__(/*! ../RelationalDerivationRule */ "./src/mathlib/derivations/RelationalDerivationRule.ts");
class SubtractFromBothSides extends RelationalDerivationRule_1.RelationalDerivationRule {
    applyImpl(equation) {
        const out = [];
        const combinations = cartesianProduct(equation);
        // If one is addition, subtract from both sides
        // Here we filter so that only pairs where the first expression is
        // a sum are operated on. This works because combinations is symetric.
        // Now for each pair we only have to deal with the first exp being sum.
        combinations
            .filter(pair => {
            return pair[0] instanceof Sum_1.Sum;
        })
            .forEach(pair => {
            const s = pair[0];
            const other = pair[1];
            // Some Sums have multiple terms
            s.terms
                .filter(term => !(term instanceof Product_1.Product && term.isNegation))
                .forEach(term => {
                // If other is itself a sum, we will break it apart
                // into terms so that we can combine integer terms in the
                // final result and avoid
                // x + 2 + 2 = y + 2 => x + 2 = y + 2 - 2
                // Note: We only do this to integer terms, because that's
                // so obvious and couldn't possibly need to be explained further.
                // We don't do it to variable terms. The following is correct behavior:
                // x + a + a = y + a => x + a = y + a - a
                // TODO: This distinction is debatable. Why shouldn't the left hand
                // of the last deduction be x + a + a - a? By doing this,
                // we produce a much more complicated and expensive graph.
                let second;
                if (other instanceof Sum_1.Sum) {
                    second = [...other.terms];
                }
                else {
                    second = [other];
                }
                const claim = {
                    n: s.without(term),
                    n1: (0, ConvenientExpressions_1.sumIntuitive)(...second, (0, ConvenientExpressions_1.negative)(term)),
                    r: Relationship_1.Relationship.Equal
                };
                out.push(new Argument_1.Argument(new Set([s, other]), claim, "a=b & c=d => a-c = b-d", exports.RULE_ID));
            });
        });
        return out;
    }
}
exports.SubtractFromBothSides = SubtractFromBothSides;
/**
 * Gets the anti-reflexive closure of the relation A x A.
 * It's symmetric and transitive.
 *
 * @param set
 */
function cartesianProduct(set) {
    const out = [];
    for (const first of set) {
        for (const second of set) {
            if (first === second)
                continue;
            out.push([first, second]);
        }
    }
    return out;
}
exports.RULE_ID = "Sub from both sides";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/BreakDerivativesOverAddition.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.BreakDerivativesOverAddition = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class BreakDerivativesOverAddition extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative && exp.exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const d = exp;
        const sum = d.exp;
        const terms = [...sum.terms];
        const wrapped = terms.map(t => Derivative_1.Derivative.of(t, d.relativeTo));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
            n: d,
            r: Relationship_1.Relationship.Equal,
            n1: Sum_1.Sum.of(wrapped)
        }, "Split derivative over addition", exports.RULE_ID));
    }
}
exports.BreakDerivativesOverAddition = BreakDerivativesOverAddition;
exports.RULE_ID = "Break Derivatives over Addition";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/ConstantDerivative.ts":
/*!****************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/ConstantDerivative.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ConstantDerivaties = void 0;
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const Derivative_1 = __webpack_require__(/*! ../../../mathlib/expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
class ConstantDerivaties extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp.class === Derivative_1.DerivativeType && exp.exp.isConstant);
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(0)
        }, "Derivative of anything is zero", exports.RULE_ID));
    }
}
exports.ConstantDerivaties = ConstantDerivaties;
exports.RULE_ID = "Constant Derivative";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/LogIntegralRule.ts":
/*!*************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/LogIntegralRule.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LogIntegralRule = void 0;
const Integral_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Fraction_1 = __webpack_require__(/*! ../../../mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * Integrates du/u  -> log|u|
 */
class LogIntegralRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        if (exp.class !== Integral_1.IntegralType)
            return;
        const i = exp;
        return (i.integrand instanceof Fraction_1.Fraction &&
            i.integrand.denominator === i.relativeTo &&
            i.integrand.numerator.isConstant);
    }
    applyImpl(exp) {
        const i = exp;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
    }
}
exports.LogIntegralRule = LogIntegralRule;


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PowerRule.ts":
/*!*******************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PowerRule.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PowerRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Derives using the power rule
 */
class PowerRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Derivative_1.Derivative &&
            ((exp.exp instanceof Exponent_1.Exponent &&
                exp.exp.base === exp.relativeTo &&
                exp.exp.power.isConstant) ||
                exp.exp === exp.relativeTo));
    }
    /**
     * We know:
     * exp is a Derivative of an Exponent with a constant power
     * the exponent's base is the same as what the derivative is relative to
     */
    applyImpl(exp) {
        const d = exp;
        let exponent;
        if (d.exp instanceof Exponent_1.Exponent) {
            exponent = d.exp;
        }
        else {
            exponent = Exponent_1.Exponent.of(d.exp, (0, ConvenientExpressions_1.num)(1));
        }
        const result = (0, ConvenientExpressions_1.product)(exponent.power, Exponent_1.Exponent.of(exponent.base, (0, ConvenientExpressions_1.sumIntuitive)(exponent.power, (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.num)(1)))));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Power rule", exports.RULE_ID));
    }
}
exports.PowerRule = PowerRule;
exports.RULE_ID = "Power Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/ProductRule.ts":
/*!*********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/ProductRule.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ProductRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Derivatives of products
 *
 * Only operates on derivatives of products where all factors are not constant.
 */
class ProductRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Derivative_1.Derivative &&
            exp.exp instanceof Product_1.Product &&
            // Contains no constant factors
            !exp.exp.factors
                .map(f => f.isConstant)
                .reduce((a, b) => a || b));
        // Contains no derivatives TODO: Find a better solution to loop guarding
        //&& !exp.exp.factors.map<boolean>(f => f instanceof Derivative).reduce((a, b) => a || b)
    }
    applyImpl(exp) {
        const d = exp;
        const p = d.exp;
        const factors = p.factors;
        // For each factor, create a product containing its derivative and the other factors
        const terms = [];
        for (let i = 0; i < factors.length; i++) {
            // i is the factor to derivatize (what term we're on)
            const factorToDerivatize = factors[i];
            const pFactors = [];
            for (const factor of factors) {
                // a is the the factor we're on
                if (factor === factorToDerivatize)
                    pFactors.push(Derivative_1.Derivative.of(factor, d.relativeTo));
                else
                    pFactors.push(factor);
            }
            terms.push((0, ConvenientExpressions_1.product)(...pFactors));
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
            n: d,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sum)(...terms)
        }, "Product Rule", exports.RULE_ID));
    }
}
exports.ProductRule = ProductRule;
exports.RULE_ID = "Product Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PullConstantsFromDerivatives.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PullConstantsFromDerivatives = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class PullConstantsFromDerivatives extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative && exp.exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const d = exp;
        const p = d.exp;
        const constFactors = p.factors.filter(f => f.isConstant);
        const out = new Set();
        for (const factor of constFactors) {
            out.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(d), {
                n: d,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.productAndNotTimesOne)(factor, Derivative_1.Derivative.of((0, ConvenientExpressions_1.productOrNot)(...(0, ConvenientExpressions_1.removeNew)(p.factors, factor)), d.relativeTo))
            }, "Pull constant factor from derivative", exports.RULE_ID));
        }
        return out;
    }
}
exports.PullConstantsFromDerivatives = PullConstantsFromDerivatives;
exports.RULE_ID = "Pull Constants from Derivs";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/PullConstantsFromIntegrals.ts":
/*!************************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/PullConstantsFromIntegrals.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.PullConstantsFromIntegrals = void 0;
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Integral_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Product_1 = __webpack_require__(/*! ../../../mathlib/expressions/Product */ "./src/mathlib/expressions/Product.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
class PullConstantsFromIntegrals extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        if (exp.class !== Integral_1.IntegralType)
            return false;
        const i = exp;
        return (i.integrand instanceof Product_1.Product &&
            i.integrand.factors.some(f => {
                return f.isConstant;
            }) &&
            i.integrand.factors.some(f => !f.isConstant));
    }
    applyImpl(exp) {
        const i = exp;
        const integrand = i.integrand;
        const pulledFactors = (0, ConvenientExpressions_1.productOrNot)(...integrand.factors.filter(f => f.isConstant));
        const newIntegrand = (0, ConvenientExpressions_1.productOrOne)(...integrand.factors.filter(f => !f.isConstant));
        const result = (0, ConvenientExpressions_1.product)(pulledFactors, Integral_1.Integral.of(newIntegrand, i.relativeTo));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Pull constants from integral", exports.RULE_ID));
    }
}
exports.PullConstantsFromIntegrals = PullConstantsFromIntegrals;
exports.RULE_ID = "ConstantsFromIntegrals";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/QuotientRule.ts":
/*!**********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/QuotientRule.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.QuotientRule = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class QuotientRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Derivative_1.Derivative && exp.exp instanceof Fraction_1.Fraction;
    }
    applyImpl(exp) {
        const d = exp;
        const a = d.exp.numerator;
        const b = d.exp.denominator;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of((0, ConvenientExpressions_1.sum)((0, ConvenientExpressions_1.product)(Derivative_1.Derivative.of(a, d.relativeTo), b), (0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.product)(a, Derivative_1.Derivative.of(b, d.relativeTo)))), Exponent_1.Exponent.of(b, (0, ConvenientExpressions_1.num)(2)))
        }, "Quotient Rule", exports.RULE_ID));
    }
}
exports.QuotientRule = QuotientRule;
exports.RULE_ID = "Quotient Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/ReversePowerRule.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/calculus/ReversePowerRule.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ReversePowerRule = void 0;
const Integral_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Exponent_1 = __webpack_require__(/*! ../../../mathlib/expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const Fraction_1 = __webpack_require__(/*! ../../../mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
class ReversePowerRule extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        if (exp.class !== Integral_1.IntegralType)
            return false;
        const i = exp;
        return ((i.integrand instanceof Exponent_1.Exponent &&
            i.integrand.base === i.relativeTo &&
            i.integrand.power.isConstant) ||
            i.integrand === i.relativeTo);
    }
    applyImpl(exp) {
        const i = exp;
        const integrand = i.integrand;
        let result;
        if (integrand instanceof Exponent_1.Exponent) {
            result = Fraction_1.Fraction.of(Exponent_1.Exponent.of(integrand.base, (0, ConvenientExpressions_1.sum)(integrand.power, (0, ConvenientExpressions_1.num)(1))), (0, ConvenientExpressions_1.sum)(integrand.power, (0, ConvenientExpressions_1.num)(1)));
        }
        else {
            result = Exponent_1.Exponent.of(integrand, (0, ConvenientExpressions_1.num)(2));
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Reverse power rule", exports.RULE_ID));
    }
}
exports.ReversePowerRule = ReversePowerRule;
exports.RULE_ID = "Reverse Power Rule";


/***/ }),

/***/ "./src/mathlib/derivations/calculus/USubstitution.ts":
/*!***********************************************************!*\
  !*** ./src/mathlib/derivations/calculus/USubstitution.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.USubstitution = void 0;
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class USubstitution extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return false; //exp instanceof Integral
    }
    applyImpl(exp) {
        throw new Error("Not implemented");
    }
}
exports.USubstitution = USubstitution;
exports.RULE_ID = "USubstitution";


/***/ }),

/***/ "./src/mathlib/derivations/recursion.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/derivations/recursion.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.equiv = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Derivative_1 = __webpack_require__(/*! ../expressions/Derivative */ "./src/mathlib/expressions/Derivative.ts");
const Exponent_1 = __webpack_require__(/*! ../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Integral_1 = __webpack_require__(/*! ../expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Logarithm_1 = __webpack_require__(/*! ../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ../expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const Relationship_1 = __webpack_require__(/*! ../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
/**
 * Searches for equivalents of the given
 * expression with a search depth of 1.
 * It does this by reflecting the expression's
 * type, then disbatching to a type specific equivalents
 * function.
 *
 * The specific functions use the given directEquivalents
 * function to swap out the component values of their
 * expression with equivalents.
 *
 * Ex)
 *  Given the expression
 *         (a + a) + (b * b)
 *  we disbatch to the sum specific function (because
 *  the outer most operation is addition). This disbatch
 *  function uses the directEquivalents function to swap out
 *  each of the sum's terms individually, yielding results
 *  like:
 *      -> (2a) + (b * b) with inference a + a = 2a
 *      -> (a + a) + b^2
 *
 * @param exp The expression to search for equivalents.
 * @param directEquivalents Function that takes expressions and finds equivalents.
 *              This function only needs to look for top level equivalents- recursion
 *              is handled by the equiv function.
 * @returns Array of arguments connecting the given expression to equivalents.
 */
function equiv(exp, directEquivalents) {
    if (exp instanceof Variable_1.Variable || exp instanceof Integer_1.Integer)
        return [];
    else
        switch (exp.class) {
            case Sum_1.SumType:
                return sumEquiv(exp, directEquivalents);
            case Product_1.ProductType:
                return productEquiv(exp, directEquivalents);
            case Exponent_1.ExponentType:
                return exponentEquiv(exp, directEquivalents);
            case Fraction_1.FractionType:
                return fractionEquiv(exp, directEquivalents);
            case Derivative_1.DerivativeType:
                return derivativeEquiv(exp, directEquivalents);
            case Logarithm_1.LogType:
                return logarithmEquiv(exp, directEquivalents);
            case Integral_1.IntegralType:
                return integralEquiv(exp, directEquivalents);
            default:
                throw new Error("Not implemented for " + exp.class);
        }
}
exports.equiv = equiv;
/**
 * Gets all equivalents of the given expression
 * by swapping out it's children individually.
 *
 * (a + a) + (b + b)
 * -> (2a) + (b + b) with inference a + a = 2a
 * @param exp
 * @returns Array of inferences to equivalent expressions.
 */
function sumEquiv(exp, directEquivalents) {
    const equivalentSums = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalentSums.add(inf);
    });
    // Find equivalents for each term
    for (let i = 0; i < exp.terms.length; i++) {
        const term = exp.terms[i];
        // Substitute term for each equivalent
        equiv(term, directEquivalents).forEach(a => {
            equivalentSums.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: swap(exp, i, a.claim.n1)
            }, a.argument, a.ruleId));
        });
    }
    function swap(s, i, e) {
        const terms = [...s.terms];
        terms[i] = e;
        return (0, ConvenientExpressions_1.sum)(...terms);
    }
    return [...equivalentSums];
}
function productEquiv(exp, directEquivalents) {
    const equivalentProducts = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalentProducts.add(inf);
    });
    // Find equivalents for each term
    for (let i = 0; i < exp.factors.length; i++) {
        const factor = exp.factors[i];
        // Substitute term for each equivalent
        equiv(factor, directEquivalents).forEach(alt => {
            equivalentProducts.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: swap(exp, i, alt.claim.n1)
            }, alt.argument, alt.ruleId));
        });
    }
    function swap(s, i, e) {
        const terms = [...s.factors];
        terms[i] = e;
        return (0, ConvenientExpressions_1.product)(...terms);
    }
    return [...equivalentProducts];
}
function exponentEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.base, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(alt.claim.n1, exp.power)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.power, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(exp.base, alt.claim.n1)
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function fractionEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.numerator, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(alt.claim.n1, exp.denominator)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.denominator, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(exp.numerator, alt.claim.n1)
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function derivativeEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(inf => {
        equivalents.add(inf);
    });
    equiv(exp.exp, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Derivative_1.Derivative.of(alt.claim.n1, exp.relativeTo)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.relativeTo, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Derivative_1.Derivative.of(exp.exp, alt.claim.n1)
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function logarithmEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(arg => {
        equivalents.add(arg);
    });
    equiv(exp.exp, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Logarithm_1.Logarithm.of(alt.claim.n1, exp.base)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.base, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Logarithm_1.Logarithm.of(exp.exp, alt.claim.n1)
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}
function integralEquiv(exp, directEquivalents) {
    const equivalents = new Set();
    // Add top level equivalents
    directEquivalents(exp).forEach(arg => {
        equivalents.add(arg);
    });
    equiv(exp.integrand, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integral_1.Integral.of(alt.claim.n1, exp.relativeTo)
        }, alt.argument, alt.ruleId));
    });
    equiv(exp.relativeTo, directEquivalents).forEach(alt => {
        equivalents.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integral_1.Integral.of(exp.integrand, alt.claim.n1)
        }, alt.argument, alt.ruleId));
    });
    return [...equivalents];
}


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AdditiveIdentity.ts":
/*!*********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AdditiveIdentity.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AdditiveIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything plus 0 is anything
 */
class AdditiveIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const termsWithoutZero = exp.terms.filter(t => !(t instanceof Integer_1.Integer && t.value == 0));
        if (termsWithoutZero.length == exp.terms.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sumOrNot)(...termsWithoutZero)
        }, "Additive identity", exports.RULE_ID));
    }
}
exports.AdditiveIdentity = AdditiveIdentity;
exports.RULE_ID = "Additive Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AnythingTimesZero.ts":
/*!**********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AnythingTimesZero.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AnythingTimesZero = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class AnythingTimesZero extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        let isZero = false;
        for (const factor of product.factors)
            if (factor instanceof Integer_1.Integer && factor.value === 0) {
                isZero = true;
                break;
            }
        if (!isZero)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Integer_1.Integer.of(0)
        }, "Anything times zero is zero", exports.RULE_ID));
    }
}
exports.AnythingTimesZero = AnythingTimesZero;
exports.RULE_ID = "AnythingTimesZero";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts":
/*!*****************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/AssociativePropertyOfProductsAndSums.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.AssociativePropertyOfProductsAndSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Flattens products in products and sums in sums.
 *
 * Only returns one simplification of an input.
 */
class AssociativePropertyOfProductsAndSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum || exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        if (exp instanceof Sum_1.Sum) {
            const newTerms = exp.terms
                .map(t => {
                if (t instanceof Sum_1.Sum) {
                    return [...t.terms];
                }
                return [t];
            })
                .flat();
            if (newTerms.length == exp.terms.length)
                return new Set();
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.sum)(...newTerms)
            }, "Associative property of addition", exports.RULE_ID));
        }
        else {
            const newFactors = exp.factors
                .map(t => {
                if (t instanceof Product_1.Product) {
                    return [...t.factors];
                }
                return [t];
            })
                .flat();
            if (newFactors.length == exp.factors.length)
                return new Set();
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.product)(...newFactors)
            }, "Associative property of multiplication", exports.RULE_ID));
        }
    }
}
exports.AssociativePropertyOfProductsAndSums = AssociativePropertyOfProductsAndSums;
exports.RULE_ID = "Associative Property";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CancelNegatives.ts":
/*!********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CancelNegatives.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CancelNegatives = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const ConvenientExpressions_2 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
/**
 * Makes sure a product doesn't contain any negations.
 * The product is either a negation or not.
 */
class CancelNegatives extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const negatedFactors = [];
        const others = [];
        for (const f of product.factors) {
            if (f instanceof Product_1.Product && f.isNegation) {
                negatedFactors.push(f.negation);
            }
            else {
                others.push(f);
            }
        }
        const isNegation = product.isNegation;
        const negations = negatedFactors.length + (isNegation ? 1 : 0);
        if (negations < 2)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        const resultIsNegative = negations % 2 == 1;
        const result = (0, ConvenientExpressions_2.product)(...negatedFactors, ...others);
        const negatedResult = resultIsNegative ? (0, ConvenientExpressions_1.negative)(result) : result;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: negatedResult
        }, "Cancel negatives", exports.RULE_ID));
    }
}
exports.CancelNegatives = CancelNegatives;
exports.RULE_ID = "Cancel Negatives";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts":
/*!***************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineCommonFactorsMultiplication.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineCommonFactorsMultiplication = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Combines like factors and exponents with like bases.
 */
class CombineCommonFactorsMultiplication extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product && !exp.isReducible;
    }
    applyImpl(exp) {
        const product = exp;
        // Find all the bases/factors in the product
        const bases = new Set();
        for (const factor of product.factors) {
            if (factor instanceof Exponent_1.Exponent)
                bases.add(factor.base);
            else
                bases.add(factor);
        }
        const equivalentExpressions = new Set();
        // For every unique factor
        for (const base of bases) {
            let powerTerms = [];
            const remainingFactors = [];
            // Count the number of times it occurs in the product
            // Collect the other factors in a list
            for (const f of product.factors) {
                if (f instanceof Exponent_1.Exponent && f.base === base) {
                    powerTerms.push(f.power);
                }
                else if (f === base) {
                    powerTerms.push((0, ConvenientExpressions_1.num)(1));
                }
                else {
                    remainingFactors.push(f);
                }
            }
            // Order the power terms correctly
            powerTerms = (0, Sum_1.orderTerms)(...powerTerms);
            // If the base only occured once, nothing to simplify
            if (powerTerms.length == 1)
                continue;
            // Create a new exponent that combines the terms
            const exponent = Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sum)(...powerTerms));
            // If there are no other factors, we're done
            if (remainingFactors.length == 0) {
                equivalentExpressions.add(exponent);
                continue;
            }
            // Insert the new exponent at the correct place in the new product
            function insertCorrectly(arr, el) {
                // Pick index
                let index = 0;
                for (let i = 0; i < arr.length; i++) {
                    if ((0, Product_1.factorOrder)(el, arr[i]) > 0) {
                        index = i + 1;
                        break;
                    }
                }
                arr.splice(index, 0, el);
            }
            insertCorrectly(remainingFactors, exponent);
            equivalentExpressions.add(Product_1.Product.of(remainingFactors));
        }
        // Make arguments for each equivalent expression
        const args = new Set();
        equivalentExpressions.forEach(e => {
            args.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(product), {
                n: product,
                r: Relationship_1.Relationship.Equal,
                n1: e
            }, "Combine common factors multiplication", exports.RULE_ID));
        });
        return args;
    }
}
exports.CombineCommonFactorsMultiplication = CombineCommonFactorsMultiplication;
exports.RULE_ID = "CCFactors Mult";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts":
/*!*******************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineCommonTermsAddition.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineCommonTermsAddition = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const Integer_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
/**
 * a + a = 2a
 * 2a - a = a  (this means we have to check for negations)
 *
 * (bc)a + 7a = (7 + bc)a
 *
 * But not
 * 1 + 1 = 2(1)
 */
class CombineCommonTermsAddition extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum && !exp.isReducible;
    }
    applyImpl(exp) {
        const sum = exp;
        const args = new Set();
        const uniqueFactors = new Set();
        // Find all unique factors in all terms
        // Assume products have been flattened already (associative property)
        for (const term of sum.terms) {
            if (term instanceof Product_1.Product) {
                (0, ThingsThatShouldBeInTheStdLib_1.addAll)(uniqueFactors, ...term.factors);
                //TODO: Capture all combinations of factors
                //TODO: Capture integer factors
            }
            else
                uniqueFactors.add(term);
        }
        // Create an argument for pulling out each factor
        for (const factor of uniqueFactors) {
            if (factor.isReducible || factor.class === Integer_1.IntegerType)
                continue;
            // Figure out which terms contain it
            const relaventTerms = [];
            const otherTerms = [];
            for (const term of sum.terms) {
                if (term instanceof Product_1.Product) {
                    if ((0, ThingsThatShouldBeInTheStdLib_1.has)(term.factors, factor))
                        relaventTerms.push(term);
                    else
                        otherTerms.push(term);
                }
                else {
                    if (term === factor)
                        relaventTerms.push(Product_1.Product.of([(0, ConvenientExpressions_1.num)(1), term]));
                    else
                        otherTerms.push(term);
                }
            }
            if (relaventTerms.length < 2)
                continue;
            // Pull it out of those terms
            const coefficients = [];
            for (const term of relaventTerms) {
                coefficients.push(term.without(factor));
            }
            const pulled = (0, ConvenientExpressions_1.sumOrNot)((0, ConvenientExpressions_1.orderedProduct)(Sum_1.Sum.of(coefficients), factor), ...otherTerms);
            args.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: pulled
            }, "Combine like terms", exports.RULE_ID));
        }
        return args;
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Factored;
    }
}
exports.CombineCommonTermsAddition = CombineCommonTermsAddition;
exports.RULE_ID = "CCTerms Add";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts":
/*!**************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineIntegerFactors.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineIntegerFactors = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Products with several integer terms are simplified to only include 1
 */
class CombineIntegerFactors extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product && !exp.isNegation;
    }
    applyImpl(exp) {
        const p = exp;
        const remainingFactors = [];
        let coefficient = 1;
        for (const f of p.factors) {
            if (f instanceof Integer_1.Integer) {
                coefficient *= f.value;
            }
            else
                remainingFactors.push(f);
        }
        if (p.factors.length - remainingFactors.length < 2)
            return new Set();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.productOrNot)((0, ConvenientExpressions_1.num)(coefficient), ...remainingFactors)
        }, "Multiply integer terms", exports.RULE_ID));
    }
}
exports.CombineIntegerFactors = CombineIntegerFactors;
exports.RULE_ID = "CombIntFacts";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts":
/*!********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/CombineProductsAndFractions.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.CombineProductsAndFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const assert_1 = __webpack_require__(/*! ../../util/assert */ "./src/mathlib/util/assert.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Simplifies products containing fractions by moving the
 * parts of the product into the numerator of the first fraction.
 */
class CombineProductsAndFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        // All products have at least 2 factors
        const firstFraction = product.factors.filter(f => f instanceof Fraction_1.Fraction)[0];
        if (firstFraction === undefined)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // At least one of those is a fraction
        const nonFractionFactors = product.factors.filter(f => !(f instanceof Fraction_1.Fraction));
        if (nonFractionFactors.length == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // At least one of those is not a fraction
        let result;
        // Fraction and non-fraction factors partition the set of factors
        if (product.factors.length - nonFractionFactors.length == 1) {
            // There is exactly one fraction factor
            // All the factors will be combined into one factor
            result = Fraction_1.Fraction.of((0, ConvenientExpressions_1.product)(firstFraction.numerator, ...nonFractionFactors), firstFraction.denominator);
        }
        else {
            // There are multiple fractions
            const remainingFractionFactors = product.factors.filter(f => f instanceof Fraction_1.Fraction);
            (0, ConvenientExpressions_1.remove)(remainingFractionFactors, firstFraction);
            (0, assert_1.assert)(remainingFractionFactors.length > 0);
            result = (0, ConvenientExpressions_1.product)(Fraction_1.Fraction.of((0, ConvenientExpressions_1.productAndNotTimesOne)(firstFraction.numerator, ...nonFractionFactors), firstFraction.denominator), ...remainingFractionFactors);
        }
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Combine products into fraction", exports.RULE_ID));
    }
}
exports.CombineProductsAndFractions = CombineProductsAndFractions;
exports.RULE_ID = "Prod=>Frac";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DistributiveProperty.ts":
/*!*************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DistributiveProperty.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DistributiveProperty = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Distributes multiplication over addition.
 *
 * a(b+c) = ab + ac
 */
class DistributiveProperty extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const nonSums = product.factors.filter(f => !(f instanceof Sum_1.Sum));
        if (nonSums.length == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // There is at least one non-sum factor
        const firstSum = product.factors.filter(f => f instanceof Sum_1.Sum)[0];
        if (firstSum == undefined)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // There is at least one sum
        const remainingSums = product.factors.filter(f => f instanceof Sum_1.Sum);
        (0, ConvenientExpressions_1.remove)(remainingSums, firstSum);
        const toDistribute = (0, ConvenientExpressions_1.productOrNot)(...nonSums);
        const distributed = (0, ConvenientExpressions_1.sum)(...firstSum.terms.map(t => (0, ConvenientExpressions_1.product)(toDistribute, t)));
        const result = (0, ConvenientExpressions_1.productOrNot)(distributed, ...remainingSums);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, `Distribute ${(0, ConvenientExpressions_1.productOrNot)(...nonSums).toUnambigiousString()}`, exports.RULE_ID));
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Polynomial;
    }
}
exports.DistributiveProperty = DistributiveProperty;
exports.RULE_ID = "Distributive Property";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DivideFractions.ts":
/*!********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DivideFractions.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivideFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class DivideFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Fraction_1.Fraction &&
            exp.numerator instanceof Product_1.Product &&
            exp.denominator instanceof Product_1.Product);
    }
    applyImpl(exp) {
        const frac = exp;
        const num = frac.numerator;
        const den = frac.denominator;
        // Take the factors of the negation of any negations
        const numFactors = num.isNegation
            ? num.negation instanceof Product_1.Product
                ? num.negation.factors // Get factors if the negation is a product
                : [num.negation] // If negation isn't a product, return the negation as a list of 1
            : num.factors; // If not a negation, return the factors
        const denFactors = !den.isNegation
            ? den.factors
            : den.negation instanceof Product_1.Product
                ? den.negation.factors
                : [den.negation];
        // If there are any repeats, give up
        if (new Set(numFactors).size < numFactors.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        if (new Set(denFactors).size < denFactors.length)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Treat every factor as an exponent
        const numExponents = numFactors.map(f => {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        });
        const denExponents = denFactors.map(f => {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        });
        // For each den exponent base, create an overall sum of the powers
        const numExponentPowers = new Map();
        numExponents.forEach(exponent => {
            if (!numExponentPowers.has(exponent.base))
                numExponentPowers.set(exponent.base, []);
            numExponentPowers.get(exponent.base).push(exponent.power);
        });
        const denExponentPowers = new Map();
        denExponents.forEach(exponent => {
            if (!denExponentPowers.has(exponent.base))
                denExponentPowers.set(exponent.base, []);
            denExponentPowers.get(exponent.base).push(exponent.power);
        });
        // Any base which is in the numerator and denominator
        // will only be in the numerator
        const newNumExponentPowers = new Map(numExponentPowers);
        const newDenExponentPowers = new Map(denExponentPowers);
        denExponentPowers.forEach((powers, base) => {
            if (numExponentPowers.has(base)) {
                newNumExponentPowers
                    .get(base)
                    .push((0, ConvenientExpressions_1.negative)((0, ConvenientExpressions_1.sumOrNot)(...powers)));
                newDenExponentPowers.delete(base);
            }
        });
        // Get the new factors for the numerator and denominator
        const newNumExponents = [];
        newNumExponentPowers.forEach((powers, base) => {
            newNumExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sumOrNot)(...powers)));
        });
        const newDenExponents = [];
        newDenExponentPowers.forEach((powers, base) => {
            newDenExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sumOrNot)(...powers)));
        });
        const top = (0, ConvenientExpressions_1.productOrNot)(...newNumExponents);
        const bottom = newDenExponents.length != 0
            ? (0, ConvenientExpressions_1.productOrNot)(...newDenExponents)
            : (0, ConvenientExpressions_1.num)(1);
        // Preserve the negations removed earlier
        const result = Fraction_1.Fraction.of(num.isNegation ? (0, ConvenientExpressions_1.negative)(top) : top, den.isNegation ? (0, ConvenientExpressions_1.negative)(bottom) : bottom);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Cancel out fractions", exports.RULE_ID));
    }
}
exports.DivideFractions = DivideFractions;
exports.RULE_ID = "Cancel out fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/DivisionIdentity.ts":
/*!*********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/DivisionIdentity.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.DivisionIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything divided by 1 is the numerator
 */
class DivisionIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Fraction_1.Fraction &&
            exp.denominator instanceof Integer_1.Integer &&
            exp.denominator.value == 1);
    }
    applyImpl(exp) {
        const frac = exp;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: frac.numerator
        }, "Division identity is 1", exports.RULE_ID));
    }
}
exports.DivisionIdentity = DivisionIdentity;
exports.RULE_ID = "Division Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/EvaluateSums.ts":
/*!*****************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/EvaluateSums.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.EvaluateSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Combine any integer terms in Sums.
 * a + 2 + 2 + 2= a + 4
 * 2 - 2 = 0
 *
 * Combines all of them at once no matter how many terms there are.
 *
 */
class EvaluateSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const sum = exp;
        const integerTerms = [...sum.terms].filter(t => t instanceof Integer_1.Integer ||
            (t instanceof Product_1.Product &&
                t.isNegation &&
                t.negation instanceof Integer_1.Integer));
        if (integerTerms.length < 2) {
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        }
        const newInt = Integer_1.Integer.of(integerTerms
            .map(e => {
            if (e instanceof Integer_1.Integer) {
                return e.value;
            }
            return -e.negation.value;
        })
            .reduce((a, b) => a + b));
        const otherTerms = [...sum.terms].filter(t => !(t instanceof Integer_1.Integer) &&
            !(t instanceof Product_1.Product &&
                t.isNegation &&
                t.negation instanceof Integer_1.Integer));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(sum), {
            n: sum,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.sumOrNot)(...otherTerms, newInt)
        }, "Evaluated Addition", exports.RULE_ID));
    }
}
exports.EvaluateSums = EvaluateSums;
exports.RULE_ID = "Eval Addition";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/ExponentToZero.ts":
/*!*******************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/ExponentToZero.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ExponentToZero = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class ExponentToZero extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Exponent_1.Exponent &&
            exp.power instanceof Integer_1.Integer &&
            exp.power.value == 0);
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(1)
        }, "Anything to zero is zero", exports.RULE_ID));
    }
}
exports.ExponentToZero = ExponentToZero;
exports.RULE_ID = "Pow of Zero";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/ExponentialIdentity.ts":
/*!************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/ExponentialIdentity.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.ExponentialIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Anything to the first is just that thing.
 * Turns any exponent with a power of 1 to that thing.
 */
class ExponentialIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Exponent_1.Exponent &&
            exp.power instanceof Integer_1.Integer &&
            exp.power.value == 1);
    }
    applyImpl(exp) {
        const e = exp;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(e), {
            n: e,
            r: Relationship_1.Relationship.Equal,
            n1: e.base
        }, "Exponential Identity is 1", exports.RULE_ID));
    }
}
exports.ExponentialIdentity = ExponentialIdentity;
exports.RULE_ID = "Exponential Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/FOIL.ts":
/*!*********************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/FOIL.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.FOIL = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
/**
 * (a + b)(c + d) = ac + ad + bc + bd
 */
class FOIL extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const product = exp;
        const sums = product.factors.filter(f => f instanceof Sum_1.Sum);
        if (sums.length < 2)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        const nonSums = product.factors.filter(f => !(f instanceof Sum_1.Sum));
        const first = sums[0];
        const second = sums[1];
        const foiled = first.terms
            .map(t => {
            const terms = [];
            for (const t1 of second.terms) {
                terms.push((0, ConvenientExpressions_1.product)(t, t1));
            }
            return terms;
        })
            .flat();
        sums.splice(0, 2);
        const result = (0, ConvenientExpressions_1.productOrNot)(...nonSums, (0, ConvenientExpressions_1.sum)(...foiled), ...sums);
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Foil that shit", exports.RULE_ID));
    }
    get convergenceType() {
        return NoContextExpressionSimplificationRule_1.ConvergenceTarget.Polynomial;
    }
}
exports.FOIL = FOIL;
exports.RULE_ID = "FOIL";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/LogOfOne.ts":
/*!*************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/LogOfOne.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.LogOfOne = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Logarithm_1 = __webpack_require__(/*! ../../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class LogOfOne extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Logarithm_1.Logarithm &&
            exp.exp instanceof Integer_1.Integer &&
            exp.exp.value === 1);
    }
    applyImpl(exp) {
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.num)(0)
        }, "Log in any base of 1 is 0", exports.RULE_ID));
    }
}
exports.LogOfOne = LogOfOne;
exports.RULE_ID = "Log of 1";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts":
/*!***************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplicativeIdentity.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplicativeIdentity = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * 1x = x
 * 1*1x = 1
 */
class MultiplicativeIdentity extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Product_1.Product &&
            new Set(exp.factors).has((0, ConvenientExpressions_1.num)(1)) &&
            !exp.isNegation);
    }
    applyImpl(exp) {
        const p = exp;
        const newFactors = [];
        for (const factor of p.factors) {
            if (factor instanceof Integer_1.Integer && factor.value == 1)
                continue;
            newFactors.push(factor);
        }
        if (newFactors.length == 0)
            newFactors.push((0, ConvenientExpressions_1.num)(1));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: (0, ConvenientExpressions_1.productOrNot)(...newFactors)
        }, "Multiplicative Identity", exports.RULE_ID));
    }
}
exports.MultiplicativeIdentity = MultiplicativeIdentity;
exports.RULE_ID = "Mult Identity";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts":
/*!***************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplyExponentPowers.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplyExponentPowers = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class MultiplyExponentPowers extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Exponent_1.Exponent && exp.base instanceof Exponent_1.Exponent;
    }
    applyImpl(exp) {
        const outer = exp;
        const inner = outer.base;
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Exponent_1.Exponent.of(inner.base, (0, ConvenientExpressions_1.product)(inner.power, outer.power))
        }, "Exponents to exponents multiply", exports.RULE_ID));
    }
}
exports.MultiplyExponentPowers = MultiplyExponentPowers;
exports.RULE_ID = "Exp to exp";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/MultiplyFractions.ts":
/*!**********************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/MultiplyFractions.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.MultiplyFractions = void 0;
const Product_1 = __webpack_require__(/*! ../../../mathlib/expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Argument_1 = __webpack_require__(/*! ../../../mathlib/Argument */ "./src/mathlib/Argument.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
const Fraction_1 = __webpack_require__(/*! ../../../mathlib/expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../../mathlib/ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Relationship_1 = __webpack_require__(/*! ../../../mathlib/Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../../mathlib/util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const Integer_1 = __webpack_require__(/*! ../../../mathlib/expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
class MultiplyFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp.class === Product_1.ProductType;
    }
    applyImpl(exp) {
        const p = exp;
        const num = (0, ConvenientExpressions_1.productOrNot)(...p.factors.map(f => {
            if (f.class === Fraction_1.FractionType) {
                return f.numerator;
            }
            else {
                return f;
            }
        }));
        const den = (0, ConvenientExpressions_1.productOrOne)(...p.factors
            .filter(f => {
            return f.class === Fraction_1.FractionType;
        })
            .map(f => f.denominator));
        if (den instanceof Integer_1.Integer && den.value == 1)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(num, den)
        }, "Multiply the fractions to combine them", exports.RULE_ID));
    }
}
exports.MultiplyFractions = MultiplyFractions;
exports.RULE_ID = "Multiply Fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/OrderProducts.ts":
/*!******************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/OrderProducts.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.OrderProducts = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Reorders factors to follow convention.
 */
class OrderProducts extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Product_1.Product;
    }
    applyImpl(exp) {
        const p = exp;
        const result = (0, ConvenientExpressions_1.product)(...[...p.factors].sort(Product_1.factorOrder));
        if (result === p)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
            n: exp,
            r: Relationship_1.Relationship.Equal,
            n1: result
        }, "Reorder product factors to match math convention", exports.RULE_ID));
    }
}
exports.OrderProducts = OrderProducts;
exports.RULE_ID = "Order products";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/OrderSums.ts":
/*!**************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/OrderSums.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.OrderSums = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Turns sums that are unhealthy because their term order
 * is wrong into correctly ordered sums.
 */
class OrderSums extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum && (0, ConvenientExpressions_1.orderedSum)(exp) !== exp;
    }
    applyImpl(exp) {
        return new Set([
            new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.orderedSum)(exp)
            }, "Reordered", exports.RULE_ID)
        ]);
    }
}
exports.OrderSums = OrderSums;
exports.RULE_ID = "Order Sums";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts":
/*!************************************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/RemoveCommonFactorsOnTopAndBottomOfFraction.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.RemoveCommonFactorsFromTopAndBottomOfFraction = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
class RemoveCommonFactorsFromTopAndBottomOfFraction extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return (exp instanceof Fraction_1.Fraction &&
            !(exp.numerator instanceof Product_1.Product && exp.numerator.isNegation) &&
            !(exp.denominator instanceof Product_1.Product && exp.denominator.isNegation));
    }
    applyImpl(exp) {
        const frac = exp;
        const top = frac.numerator;
        const bottom = frac.denominator;
        const allFactors = new Set();
        if (top instanceof Product_1.Product) {
            top.factors.forEach(f => allFactors.add(f));
        }
        else
            allFactors.add(top);
        if (bottom instanceof Product_1.Product) {
            bottom.factors.forEach(f => allFactors.add(f));
        }
        else
            allFactors.add(bottom);
        // Find factors that are in both top and bottom
        const inBoth = new Set();
        allFactors.forEach(f => {
            if ((top instanceof Product_1.Product ? (0, ThingsThatShouldBeInTheStdLib_1.has)(top.factors, f) : top === f) &&
                (bottom instanceof Product_1.Product
                    ? (0, ThingsThatShouldBeInTheStdLib_1.has)(bottom.factors, f)
                    : bottom === f))
                inBoth.add(f);
        });
        if (inBoth.size == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Return new fraction without those
        let newTop = top;
        inBoth.forEach(f => {
            if (newTop instanceof Product_1.Product) {
                newTop = newTop.without(f);
            }
            else {
                newTop = (0, ConvenientExpressions_1.num)(1);
            }
        });
        let newBottom = bottom;
        inBoth.forEach(f => {
            if (newBottom instanceof Product_1.Product) {
                newBottom = newBottom.without(f);
            }
            else {
                newBottom = (0, ConvenientExpressions_1.num)(1);
            }
        });
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of(newTop, newBottom)
        }, "Divide top and bottom by same thing", exports.RULE_ID));
    }
}
exports.RemoveCommonFactorsFromTopAndBottomOfFraction = RemoveCommonFactorsFromTopAndBottomOfFraction;
exports.RULE_ID = "Div top and bottom by same thing";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts":
/*!*********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/SubtractExponentsOnFractions.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SubtractExponentsOnFractions = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * In all cases, any combined exponent factors will
 * be put in the numerator. It's hard to know if they
 * will evaluate to be negative or not, so we'll put
 * them all in the numerator and deal with that later.
 * TODO: Maybe we could iterate over the graph after it's
 *      done to go back and fix this? Maybe it's worth the 2^n
 *      added complexity to create nodes for every possible placement
 *      then just pathfind the easiest?
 */
class SubtractExponentsOnFractions extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Fraction_1.Fraction;
    }
    applyImpl(exp) {
        const frac = exp;
        const top = frac.numerator instanceof Product_1.Product
            ? frac.numerator.factors
            : [frac.numerator];
        const bottom = frac.denominator instanceof Product_1.Product
            ? frac.denominator.factors
            : [frac.denominator];
        // Treat every factor of top and bottom as an exponent
        function asExponent(f) {
            if (f instanceof Exponent_1.Exponent)
                return f;
            else
                return Exponent_1.Exponent.of(f, (0, ConvenientExpressions_1.num)(1));
        }
        const topExponents = top.map(asExponent);
        const bottomExponents = bottom.map(asExponent);
        // Find what bases are common
        const commonBases = new Set();
        topExponents.forEach(e => {
            if ((0, ThingsThatShouldBeInTheStdLib_1.has)(bottomExponents.map(e => e.base), e.base))
                commonBases.add(e.base);
        });
        bottomExponents.forEach(e => {
            if ((0, ThingsThatShouldBeInTheStdLib_1.has)(topExponents.map(e => e.base), e.base))
                commonBases.add(e.base);
        });
        if (commonBases.size == 0)
            return (0, ThingsThatShouldBeInTheStdLib_1.setOf)();
        // Separate factors which won't be effected
        const uneffectedTopFactors = top.filter(f => {
            if (f instanceof Exponent_1.Exponent)
                return !commonBases.has(f.base);
            return !commonBases.has(f);
        });
        const uneffectedBottomFactors = bottom.filter(f => {
            if (f instanceof Exponent_1.Exponent)
                return !commonBases.has(f.base);
            return !commonBases.has(f);
        });
        // Find all the terms for each base
        // Remember that the final exponent will be in the numerator
        const exponentTerms = new Map();
        topExponents.forEach(e => {
            if (!commonBases.has(e.base))
                return;
            if (!exponentTerms.has(e.base)) {
                exponentTerms.set(e.base, []);
            }
            exponentTerms.get(e.base).push(e.power);
        });
        bottomExponents.forEach(e => {
            if (!commonBases.has(e.base))
                return;
            if (!exponentTerms.has(e.base)) {
                exponentTerms.set(e.base, []);
            }
            // Negative bc we're putting these in the numerator
            exponentTerms.get(e.base).push((0, ConvenientExpressions_1.negative)(e.power));
        });
        const resultingTopExponents = [];
        exponentTerms.forEach((powerTerms, base) => {
            resultingTopExponents.push(Exponent_1.Exponent.of(base, (0, ConvenientExpressions_1.sum)(...powerTerms)));
        });
        if (uneffectedBottomFactors.length == 0)
            uneffectedBottomFactors.push((0, ConvenientExpressions_1.num)(1));
        return (0, ThingsThatShouldBeInTheStdLib_1.setOf)(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(frac), {
            n: frac,
            r: Relationship_1.Relationship.Equal,
            n1: Fraction_1.Fraction.of((0, ConvenientExpressions_1.productOrNot)(...resultingTopExponents, ...uneffectedTopFactors), (0, ConvenientExpressions_1.productOrNot)(...uneffectedBottomFactors))
        }, "Sum exponents in both numerator and denominator", exports.RULE_ID));
    }
}
exports.SubtractExponentsOnFractions = SubtractExponentsOnFractions;
exports.RULE_ID = "Sum exponents in num and den in fractions";


/***/ }),

/***/ "./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts":
/*!********************************************************************************!*\
  !*** ./src/mathlib/derivations/simplifications/SumCoefficientsOfAddedTerms.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RULE_ID = exports.SumCoefficientsOfAddedTerms = void 0;
const Argument_1 = __webpack_require__(/*! ../../Argument */ "./src/mathlib/Argument.ts");
const ConvenientExpressions_1 = __webpack_require__(/*! ../../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Integer_1 = __webpack_require__(/*! ../../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ../../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Relationship_1 = __webpack_require__(/*! ../../Relationship */ "./src/mathlib/Relationship.ts");
const ThingsThatShouldBeInTheStdLib_1 = __webpack_require__(/*! ../../util/ThingsThatShouldBeInTheStdLib */ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts");
const NoContextExpressionSimplificationRule_1 = __webpack_require__(/*! ../NoContextExpressionSimplificationRule */ "./src/mathlib/derivations/NoContextExpressionSimplificationRule.ts");
/**
 * Takes sums of several added products and combines ones that only
 * have different coefficients.
 *
 * a + 2a = 3a
 * a - 2a = -1a
 */
class SumCoefficientsOfAddedTerms extends NoContextExpressionSimplificationRule_1.NoContextExpressionSimplificationRule {
    appliesImpl(exp) {
        return exp instanceof Sum_1.Sum;
    }
    applyImpl(exp) {
        const terms = exp.terms;
        // Split the terms into product and not products
        const productTerms = [];
        const nonProductTerms = [];
        for (const term of terms) {
            if (term instanceof Product_1.Product && term.factors[0] instanceof Integer_1.Integer) {
                productTerms.push(term);
            }
            else {
                nonProductTerms.push(term);
            }
        }
        // Sort the product terms into groups of common factors
        const groups = new Map();
        for (const term of productTerms) {
            const first = term.factors[0];
            const temp = [...term.factors];
            temp.splice(0, 1);
            const group = (0, ConvenientExpressions_1.productOrNot)(...temp);
            if (!groups.has(group))
                groups.set(group, {
                    coefficient: first.value,
                    moreThanOne: false
                });
            else {
                groups.get(group).coefficient += first.value;
                groups.get(group).moreThanOne = true;
            }
        }
        // For every group with more than one product, produce a new argument
        const out = new Set();
        groups.forEach((obj, group) => {
            if (!obj.moreThanOne)
                return;
            const productTermsNotCombined = productTerms.filter(t => {
                const temp = [...t.factors];
                temp.splice(0, 1);
                const termWithoutLeadingCoefficient = (0, ConvenientExpressions_1.productOrNot)(...temp);
                return group !== termWithoutLeadingCoefficient;
            });
            out.add(new Argument_1.Argument((0, ThingsThatShouldBeInTheStdLib_1.setOf)(exp), {
                n: exp,
                r: Relationship_1.Relationship.Equal,
                n1: (0, ConvenientExpressions_1.sumOrNot)((0, ConvenientExpressions_1.productAndNotTimesOne)((0, ConvenientExpressions_1.num)(obj.coefficient), group), ...nonProductTerms, ...productTermsNotCombined)
            }, "Combining like terms", exports.RULE_ID));
        });
        return out;
    }
}
exports.SumCoefficientsOfAddedTerms = SumCoefficientsOfAddedTerms;
exports.RULE_ID = "SumCoefficients of added terms";


/***/ }),

/***/ "./src/mathlib/expressions/Derivative.ts":
/*!***********************************************!*\
  !*** ./src/mathlib/expressions/Derivative.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DerivativeType = exports.Derivative = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
/**
 *
 */
class Derivative extends Expression_1.Expression {
    static of(exp, relativeTo) {
        const hash = exp.hash + relativeTo.hash;
        if (!this.instances.has(hash))
            this.instances.set(hash, new Derivative(exp, relativeTo));
        return this.instances.get(hash);
    }
    constructor(exp, relativeTo) {
        super();
        this.class = exports.DerivativeType;
        this.exp = exp;
        this.relativeTo = relativeTo;
        Object.freeze(this.exp);
        Object.freeze(this.relativeTo);
        this.isReducible = false; //TODO: Determine if a derivative is reducible
        this.isConstant = false; // TODO: Determine if a derivative is constant
        this.childCount = 2 + exp.childCount + relativeTo.childCount;
    }
    toString() {
        return ("d/d" + this.relativeTo.toString() + "(" + this.exp.toString() + ")");
    }
    toUnambigiousString() {
        return ("(d/d" +
            this.relativeTo.toUnambigiousString() +
            ")" +
            this.exp.toUnambigiousString());
    }
    get hash() {
        return this.class + this.exp.hash + this.relativeTo.hash;
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        return ("<mfrac><mn>d</mn><mrow><mn>d</mn>" +
            wrapIfNeeded(this.relativeTo) +
            "</mrow></mfrac>" +
            wrapIfNeeded(this.exp));
    }
    evaluate(values) {
        // Maybe later
        return NaN;
    }
}
exports.Derivative = Derivative;
Derivative.instances = new Map();
exports.DerivativeType = "Derivative";


/***/ }),

/***/ "./src/mathlib/expressions/Exponent.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Exponent.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExponentType = exports.Exponent = void 0;
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Fraction_1 = __webpack_require__(/*! ./Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
class Exponent extends Expression_1.Expression {
    static of(base, power) {
        const hash = base.hash + power.hash;
        if (!Exponent.instances.has(hash)) {
            Exponent.instances.set(hash, new Exponent(base, power));
        }
        return Exponent.instances.get(hash);
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType ||
                exp.class == Product_1.ProductType ||
                exp.class == Fraction_1.FractionType)
                return (0, MathMLHelpers_1.inRow)((0, MathMLHelpers_1.inParen)(exp.toMathXML()));
            return exp.toMathXML();
        }
        return ("<msup>" +
            wrapIfNeeded(this.base) +
            (0, MathMLHelpers_1.inRow)(this.power.toMathXML()) +
            "</msup>");
    }
    toString() {
        return "(" + this.base + ")^(" + this.power + ")";
    }
    toUnambigiousString() {
        return "(" + this.base + ")^(" + this.power + ")";
    }
    get hash() {
        return "Pow" + this.base.hash + this.power.hash;
    }
    evaluate(values) {
        return Math.pow(this.base.evaluate(values), this.power.evaluate(values));
    }
    constructor(base, power) {
        super();
        this.class = exports.ExponentType;
        this.base = base;
        this.power = power;
        Object.freeze(this.base);
        Object.freeze(this.power);
        // The integers are closed over exponentiation
        this.isReducible =
            (base.isReducible || base.class === Integer_1.IntegerType) &&
                (power.isReducible || power.class === Integer_1.IntegerType); // && Math.pow(base.reduced.value, power.reduced.value) % 1 == 0
        this.isConstant = base.isConstant && power.isConstant;
        this.childCount = 2 + base.childCount + power.childCount;
    }
}
exports.Exponent = Exponent;
Exponent.instances = new Map();
exports.ExponentType = "Exponent";


/***/ }),

/***/ "./src/mathlib/expressions/Expression.ts":
/*!***********************************************!*\
  !*** ./src/mathlib/expressions/Expression.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Expression = void 0;
const MathGraphNode_1 = __webpack_require__(/*! ../MathGraphNode */ "./src/mathlib/MathGraphNode.ts");
/**
 * Base of all mathematical expressions.
 * All children should implement fly-wheel pattern.
 * All children should be immutable.
 */
class Expression extends MathGraphNode_1.MathGraphNode {
}
exports.Expression = Expression;


/***/ }),

/***/ "./src/mathlib/expressions/Fraction.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Fraction.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FractionType = exports.Fraction = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Fraction extends Expression_1.Expression {
    static of(numerator, denominator) {
        const hash = numerator.hash + denominator.hash;
        if (!this.instance.has(hash))
            this.instance.set(hash, new Fraction(numerator, denominator));
        return this.instance.get(hash);
    }
    constructor(num, denom) {
        super();
        this.class = exports.FractionType;
        this.numerator = num;
        this.denominator = denom;
        Object.freeze(this.numerator);
        Object.freeze(this.denominator);
        /*
        A fraction is reducible if the denom | num.
            <=> num = k * denom where k is an integer.

        This makes proving reducibility hard.
        TODO: Decide if it's worth implementing reducibility for Fractions
        */
        this.isReducible = false;
        this.isConstant = num.isConstant && denom.isConstant;
        this.childCount = 2 + num.childCount + denom.childCount;
    }
    toString() {
        return this.numerator.toString() + " / " + this.denominator.toString();
    }
    toUnambigiousString() {
        return `(${this.numerator.toUnambigiousString()})/(${this.denominator.toUnambigiousString()})`;
    }
    get hash() {
        return exports.FractionType + this.numerator.hash + this.denominator.hash;
    }
    toMathXML() {
        return ("<mfrac><mrow>" +
            this.numerator.toMathXML() +
            "</mrow><mrow>" +
            this.denominator.toMathXML() +
            "</mrow></mfrac>");
    }
    evaluate(values) {
        return (this.numerator.evaluate(values) / this.denominator.evaluate(values));
    }
}
exports.Fraction = Fraction;
Fraction.instance = new Map();
exports.FractionType = "Fraction";


/***/ }),

/***/ "./src/mathlib/expressions/Integer.ts":
/*!********************************************!*\
  !*** ./src/mathlib/expressions/Integer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IntegerType = exports.Integer = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
/**
 * Integer
 * Positive or negative
 */
class Integer extends Expression_1.Expression {
    static of(value) {
        if (!Integer.instances.has(value)) {
            Integer.instances.set(value, new Integer(value));
        }
        return Integer.instances.get(value);
    }
    constructor(value) {
        super();
        this.class = exports.IntegerType;
        this.isReducible = false;
        this.isConstant = true;
        this.childCount = 0;
        this.value = value;
        (0, assert_1.assert)(this.value % 1 == 0, "Creating non-integer integer " + this.value);
    }
    /**
     * @returns A positive version of this integer.
     */
    butPositive() {
        return Integer.of(Math.abs(this.value));
    }
    toMathXML() {
        return "<mn>" + this.value + "</mn>";
    }
    toString() {
        return "" + this.value;
    }
    toUnambigiousString() {
        return "" + this.value;
    }
    get hash() {
        return "Int" + this.value;
    }
    evaluate(values) {
        return this.value;
    }
}
exports.Integer = Integer;
Integer.instances = new Map();
exports.IntegerType = "Integer";


/***/ }),

/***/ "./src/mathlib/expressions/Integral.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Integral.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IntegralType = exports.Integral = void 0;
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
/**
 * An indefinate integral (for now).
 * TODO: Should we separate definate/indefinate integrals?
 */
class Integral extends Expression_1.Expression {
    static of(integrand, relativeTo) {
        if (!this.instances.has(integrand.hash + relativeTo.hash))
            this.instances.set(integrand.hash + relativeTo.hash, new Integral(integrand, relativeTo));
        return this.instances.get(integrand.hash + relativeTo.hash);
    }
    constructor(integrand, relativeTo) {
        super();
        this.class = exports.IntegralType;
        this.integrand = integrand;
        this.relativeTo = relativeTo;
        Object.freeze(this.integrand);
        Object.freeze(this.relativeTo);
        this.isReducible = false;
        this.isConstant = false;
        this.childCount = 2 + integrand.childCount + relativeTo.childCount;
    }
    toString() {
        return "âˆ«" + this.integrand.toString();
    }
    toUnambigiousString() {
        return ("âˆ«(" +
            this.integrand.toUnambigiousString() +
            ")" +
            this.relativeTo.toUnambigiousString());
    }
    get hash() {
        return "âˆ«" + this.integrand.toString() + this.relativeTo.toString();
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == Sum_1.SumType || exp.class == Product_1.ProductType)
                return (0, MathMLHelpers_1.inParen)(exp.toMathXML());
            return exp.toMathXML();
        }
        return ("<mrow><mo>âˆ«</mo>" +
            wrapIfNeeded(this.integrand) +
            "<mn>d</mn>" +
            wrapIfNeeded(this.relativeTo) +
            "</mrow>");
    }
    evaluate(values) {
        // Nah fuck this bro
        return NaN;
    }
}
exports.Integral = Integral;
Integral.instances = new Map();
exports.IntegralType = "Integral";


/***/ }),

/***/ "./src/mathlib/expressions/Logarithm.ts":
/*!**********************************************!*\
  !*** ./src/mathlib/expressions/Logarithm.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LogType = exports.Logarithm = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Logarithm extends Expression_1.Expression {
    static of(exp, base) {
        const hash = exp.hash + base.hash;
        if (!this.instances.has(hash))
            this.instances.set(hash, new Logarithm(exp, base));
        return this.instances.get(hash);
    }
    constructor(exp, base) {
        super();
        this.class = exports.LogType;
        this.exp = exp;
        this.base = base;
        Object.freeze(this.exp);
        Object.freeze(this.base);
        this.isReducible = false; //TODO: Determine if a logarithm is reducible
        this.isConstant = exp.isConstant && base.isConstant;
        this.childCount = 2 + exp.childCount + base.childCount;
    }
    toMathXML() {
        return `<mrow>
            <msub><mtext>log</mtext>${this.base.toMathXML()}</msub>
            <mrow>${this.exp.toMathXML()}</mrow>
        </row>`;
    }
    toString() {
        return `log${this.base.toString()}(${this.exp.toString()})`;
    }
    toUnambigiousString() {
        return `log(${this.base.toUnambigiousString()})(${this.exp.toUnambigiousString()})`;
    }
    get hash() {
        throw new Error("Method not implemented.");
    }
    evaluate(values) {
        return (Math.log(this.exp.evaluate(values)) /
            Math.log(this.base.evaluate(values)));
    }
}
exports.Logarithm = Logarithm;
Logarithm.instances = new Map();
exports.LogType = "Logarithm";


/***/ }),

/***/ "./src/mathlib/expressions/Product.ts":
/*!********************************************!*\
  !*** ./src/mathlib/expressions/Product.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.factorOrder = exports.ProductType = exports.Product = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Exponent_1 = __webpack_require__(/*! ./Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Sum_1 = __webpack_require__(/*! ./Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ./Variable */ "./src/mathlib/expressions/Variable.ts");
/**
 * A mathematical product with 2 or more factors.
 */
class Product extends Expression_1.Expression {
    /**
     * For efficiency, products are compared by reference.
     * Here we ensure === <=> ==
     * @param factors
     * @returns
     */
    static of(factors) {
        const hash = factors.map(e => e.hash).join("");
        if (!Product.instances.has(hash))
            Product.instances.set(hash, new Product(factors));
        return Product.instances.get(hash);
    }
    constructor(factors) {
        super();
        this.class = exports.ProductType;
        (0, assert_1.assert)(factors.length >= 2, "Creating product with less than 2 factors.");
        this.factors = factors;
        Object.freeze(this.factors);
        let reducible = true;
        this.factors.forEach(f => {
            reducible && (reducible = f.isReducible || f.class == Integer_1.IntegerType);
        });
        // The integers are closed over multiplication
        this.isReducible = reducible;
        let healthy = true;
        healthy && (healthy = this.numNegatives() < 2);
        let isNegation = factors.length == 2;
        isNegation && (isNegation = factors.filter(e => {
            return e instanceof Integer_1.Integer && e.value == -1;
        }).length == 1);
        this.isNegation = isNegation;
        this.isConstant = this.factors
            .map(f => f.isConstant)
            .reduce((a, b) => a && b);
        this.childCount =
            factors.length +
                factors.map(f => f.childCount).reduce((a, b) => a + b) -
                (this.isNegation ? 1 : 0);
    }
    /**
     * Get the value that this product is negating
     * -1 * exp returns exp.
     * @throws if product isn't a negation.
     */
    get negation() {
        (0, assert_1.assert)(this.isNegation, "Trying to get negation from non-negating sum");
        if (this.factors[0].class == Integer_1.IntegerType &&
            this.factors[0].value == -1)
            return this.factors[1];
        return this.factors[0];
    }
    /**
     * Returns a new Expression without the given factor.
     * If the product contains the factor multiple times,
     * only removes one. If it doesn't contain the factor,
     * returns itself.
     * @param exp A factor in this product.
     */
    without(exp) {
        const newFactors = [...this.factors];
        const index = newFactors.findIndex(value => {
            return value === exp;
        });
        if (index == -1)
            return this;
        newFactors.splice(index, 1);
        if (newFactors.length < 2) {
            return newFactors[0]; // Gauranteed there's one term here
        }
        return Product.of(newFactors);
    }
    toMathXML() {
        let out = "";
        function wrapIfNeeded(exp) {
            if (exp.class == exports.ProductType || exp.class == Sum_1.SumType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        // Either this is a negation, or a list of products
        // First the negation case...
        if (this.isNegation) {
            out += "<mo>-</mo>";
            out += wrapIfNeeded(this.negation);
            return out;
        }
        // If it's a list of products...
        const firstFactor = this.factors[0];
        out += wrapIfNeeded(firstFactor);
        for (let i = 1; i < this.factors.length; i++) {
            let factor = this.factors[i];
            let needsDot = (factor.class == Integer_1.IntegerType &&
                this.factors[i - 1].class == Integer_1.IntegerType) ||
                (factor instanceof Product && factor.isNegation) || // If there's a negative sign, get a dot
                (factor instanceof Integer_1.Integer && factor.value < 1);
            if (needsDot)
                out += "<mo>Â·</mo>";
            out += wrapIfNeeded(factor);
        }
        return out;
    }
    /**
     * @returns Number of negative integer products.
     */
    numNegatives() {
        let count = 0;
        this.factors.forEach(f => {
            if (f instanceof Integer_1.Integer)
                if (f.value < 0)
                    count++;
        });
        return count;
    }
    toString() {
        let out = "";
        for (const exp of this.factors) {
            if (exp instanceof Product) {
                out += "(" + exp.toString() + ")";
            }
            else {
                out += exp.toString();
            }
            out += "Â·";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    toUnambigiousString() {
        if (this.isNegation)
            return `-(${this.negation.toUnambigiousString()})`;
        let out = "";
        for (const exp of this.factors) {
            if (exp instanceof Product) {
                out += "(" + exp.toString() + ")";
            }
            else {
                out += exp.toString();
            }
            out += "Â·";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    get hash() {
        return "Product" + this.factors.map(e => e.hash).join();
    }
    evaluate(values) {
        return this.factors
            .map(f => f.evaluate(values))
            .reduce((a, b) => a * b);
    }
}
exports.Product = Product;
Product.instances = new Map();
exports.ProductType = "Product";
/**
 * Can be used in array.sort() to get properly ordered products.
 *
 * @param a
 * @param b
 * @returns Positive if a should be after b
 */
function factorOrder(a, b) {
    if (a instanceof Integer_1.Integer && b instanceof Integer_1.Integer)
        return 0;
    if (a instanceof Integer_1.Integer) {
        return aFirst;
    }
    // Alphabetical
    const symbA = a instanceof Variable_1.Variable
        ? a.symbol
        : a instanceof Exponent_1.Exponent
            ? a.base instanceof Variable_1.Variable
                ? a.base.symbol
                : null
            : null;
    const symbB = b instanceof Variable_1.Variable
        ? b.symbol
        : b instanceof Exponent_1.Exponent
            ? b.base instanceof Variable_1.Variable
                ? b.base.symbol
                : null
            : null;
    if (symbA != null && symbB != null) {
        return symbA > symbB ? aFirst : aAfter;
    }
    return 0;
}
exports.factorOrder = factorOrder;
const aFirst = 1;
const aAfter = -1;


/***/ }),

/***/ "./src/mathlib/expressions/Sum.ts":
/*!****************************************!*\
  !*** ./src/mathlib/expressions/Sum.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.orderTerms = exports.SumType = exports.Sum = void 0;
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
const Integer_1 = __webpack_require__(/*! ./Integer */ "./src/mathlib/expressions/Integer.ts");
const Product_1 = __webpack_require__(/*! ./Product */ "./src/mathlib/expressions/Product.ts");
const Variable_1 = __webpack_require__(/*! ./Variable */ "./src/mathlib/expressions/Variable.ts");
/**
 * Expression representing the sum of 2 or more terms.
 */
class Sum extends Expression_1.Expression {
    /**
     * Factory method consntructor.
     * @param terms Contains at least 2 elements
     */
    static of(terms) {
        const hash = terms.map(t => t.hash).join("");
        if (!Sum.instances.has(hash)) {
            Sum.instances.set(hash, new Sum(terms));
        }
        return Sum.instances.get(hash);
    }
    constructor(terms) {
        super();
        this.class = exports.SumType;
        (0, assert_1.assert)(terms.length >= 2, "Creating sum with less than 2 terms.");
        this.terms = terms;
        this.isReducible = this.terms
            .map(t => t.isReducible || t.class == Integer_1.IntegerType)
            .reduce((a, b) => a && b);
        this.isConstant = this.terms
            .map(t => t.isConstant)
            .reduce((a, b) => a && b);
        Object.freeze(this.terms);
        this.childCount =
            terms.length +
                terms.map(t => t.childCount).reduce((a, b) => a + b);
    }
    /**
     * Returns a new Expression without the given term.
     * If the sum contains the term multiple times,
     * only removes one. If it doesn't contain the term,
     * returns itself.
     * @param term A term in this sum.
     */
    without(term) {
        const newTerms = [...this.terms];
        const index = newTerms.findIndex(value => {
            return value === term;
        });
        if (index == -1)
            return this;
        newTerms.splice(index, 1);
        if (newTerms.length < 2) {
            return newTerms[0]; // Gauranteed there's one term here
        }
        return Sum.of(newTerms);
    }
    toMathXML() {
        function wrapIfNeeded(exp) {
            if (exp.class == exports.SumType)
                return "<mo>(</mo>" + exp.toMathXML() + "<mo>)</mo>";
            return exp.toMathXML();
        }
        let out = wrapIfNeeded(this.terms[0]);
        for (let i = 1; i < this.terms.length; i++) {
            const term = this.terms[i];
            // Subtract negative terms instead of adding negatives
            if (term instanceof Product_1.Product && term.isNegation) {
                out += "<mo>-</mo>" + wrapIfNeeded(term.negation);
            }
            else if (term instanceof Integer_1.Integer && term.value < 0) {
                out += "<mo>-</mo>" + wrapIfNeeded(term.butPositive());
            }
            else {
                out += "<mo>+</mo>" + wrapIfNeeded(this.terms[i]);
            }
        }
        return out;
    }
    toString() {
        let out = "";
        for (const exp of this.terms) {
            out += exp.toString() + "+";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    toUnambigiousString() {
        let out = "";
        for (const exp of this.terms) {
            out += "(" + exp.toUnambigiousString() + ")+";
        }
        out = out.substring(0, out.length - 1);
        return out;
    }
    get hash() {
        return "Sum" + this.terms.map(e => e.hash).join();
    }
    evaluate(values) {
        return this.terms
            .map(t => t.evaluate(values))
            .reduce((a, b) => a + b);
    }
}
exports.Sum = Sum;
Sum.instances = new Map();
exports.SumType = "Sum";
/**
 * Returns the given terms ordered correctly to
 * be placed in a Sum. Alters the given array.
 * @param terms
 */
function orderTerms(...terms) {
    // A note about the sort function bc the documentation is cryptic
    // If a should be put before b in the sum, return a negative value
    return terms.sort((a, b) => {
        // Variables before Integers
        if (a.class == Integer_1.IntegerType &&
            (b.class == Variable_1.VariableType ||
                (b instanceof Product_1.Product &&
                    b.isNegation &&
                    b.negation.class == Variable_1.VariableType))) {
            return 1;
        }
        if ((a.class == Variable_1.VariableType ||
            (a instanceof Product_1.Product &&
                a.isNegation &&
                a.negation.class == Variable_1.VariableType)) &&
            b.class == Integer_1.IntegerType) {
            return -1;
        }
        return 0;
    });
}
exports.orderTerms = orderTerms;


/***/ }),

/***/ "./src/mathlib/expressions/Variable.ts":
/*!*********************************************!*\
  !*** ./src/mathlib/expressions/Variable.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VariableType = exports.Variable = void 0;
const Expression_1 = __webpack_require__(/*! ./Expression */ "./src/mathlib/expressions/Expression.ts");
class Variable extends Expression_1.Expression {
    static of(symbol) {
        if (Variable.instances.get(symbol) == undefined) {
            Variable.instances.set(symbol, new Variable(symbol));
        }
        return Variable.instances.get(symbol);
    }
    constructor(symbol) {
        super();
        this.class = exports.VariableType;
        this.isReducible = false;
        this.isConstant = false;
        this.childCount = 0;
        this.symbol = symbol;
    }
    toMathXML() {
        return "<mi>" + this.symbol + "</mi>";
    }
    toString() {
        return this.symbol;
    }
    toUnambigiousString() {
        return this.symbol;
    }
    get hash() {
        return "Var" + this.symbol;
    }
    evaluate(values) {
        return values.valueOf(this);
    }
}
exports.Variable = Variable;
Variable.instances = new Map();
exports.VariableType = "Variable";


/***/ }),

/***/ "./src/mathlib/interpreting/Interpreter.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/interpreting/Interpreter.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SkipSet = exports.Interpreter = void 0;
/**
 * Takes a graph and collapses any arguments that are obvious.
 */
class Interpreter {
    constructor(config) {
        // Null after every process call.
        this.graph = null;
        this.config = config;
    }
    processPath(path) {
        this.graph = path.graph;
        const result = new SkipSet();
        const shouldSkip = (arg) => {
            return this.config.skips.has(arg.ruleId);
        };
        const graph = this.graph;
        function recursiveAdd(node) {
            const next = findNext(node);
            if (next != null) {
                const argument = graph.getEdge(node, path.nodes[path.nodes.indexOf(node) + 1]);
                result.addSkip(node, { e: next, a: argument });
                recursiveAdd(next);
            }
        }
        // Gets the next expression to show or null if there
        // isn't one. Never returns the given expression
        function findNext(node) {
            var _a;
            let index = path.nodes.indexOf(node);
            const next = path.nodes[index + 1];
            if (next == undefined)
                return null;
            if (shouldSkip(graph.getEdge(node, next))) {
                return (_a = findNext(next)) !== null && _a !== void 0 ? _a : next;
            }
            else
                return next;
        }
        recursiveAdd(path.nodes[0]);
        this.graph = null;
        return result;
    }
    hasOneOutEdge(node) {
        var _a;
        return ((_a = this.graph) === null || _a === void 0 ? void 0 : _a.getDegree(node, "out")) == 1;
    }
}
exports.Interpreter = Interpreter;
/**
 * Currently only supports expressions.
 * TODO: Figure out arguments.
 */
class SkipSet {
    constructor() {
        this.skips = new Map();
    }
    /**
     * Finds the next expression that should be displayed.
     * The input and result expression should be displayed as
     * connected by the input's out argument, which is provided
     * in the result.
     *
     * There will be
     * exactly one simple path connecting the output and
     * result.
     * @param input
     * @return Null if the input has no skip mapped to it.
     */
    next(input) {
        if (this.skips.has(input))
            return this.skips.get(input);
        return null;
    }
    /**
     * Adds the start end pair to the skip set. If already included,
     * does nothing. If the given start already has an end assigned
     * and the assigned /= the given end, throws. If start == end,
     * does nothing.
     * @param start
     * @param end
     */
    addSkip(start, end) {
        if (start == end.e)
            return;
        if (this.skips.has(start) && this.skips.get(start) != end)
            throw new Error("Adding another end to SkipSet");
        this.skips.set(start, end);
    }
}
exports.SkipSet = SkipSet;


/***/ }),

/***/ "./src/mathlib/interpreting/Path.ts":
/*!******************************************!*\
  !*** ./src/mathlib/interpreting/Path.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Path = void 0;
/**
 * Represents a path of graphs.
 * Immutable
 */
class Path {
    constructor(graph, ...nodes) {
        this.nodes = nodes;
        this.graph = graph;
    }
    [Symbol.iterator]() {
        throw new Error("Method not implemented.");
    }
}
exports.Path = Path;


/***/ }),

/***/ "./src/mathlib/uielements/ArgumentNodeView.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/ArgumentNodeView.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ArgumentNodeView = void 0;
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
/**
 * Represents an argument node.
 */
class ArgumentNodeView extends GraphNodeView_1.GraphNodeView {
    constructor(arg, setStyle) {
        super(setStyle);
        this.argument = arg;
    }
    connectedCallback() {
        this.textContent = this.argument.argument;
        this.classList.add("argument");
    }
}
exports.ArgumentNodeView = ArgumentNodeView;
customElements.define("argument-nodeview", ArgumentNodeView, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/EdgeView.ts":
/*!********************************************!*\
  !*** ./src/mathlib/uielements/EdgeView.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EdgeView = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const UIPreferences_1 = __webpack_require__(/*! ./UIPreferences */ "./src/mathlib/uielements/UIPreferences.ts");
const Graph_1 = __webpack_require__(/*! ../Graph */ "./src/mathlib/Graph.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Represents an edge in a graph.
 */
class EdgeView extends HTMLParagraphElement {
    constructor(owner, edge) {
        super();
        this.owner = owner;
        this.edge = edge.e;
        this.first = edge.n;
        this.second = edge.n1;
        Object.freeze(this.edge);
        this.style.width = "fit-content";
        this.style.height = "fit-content";
        this.style.padding = "0";
        this.style.zIndex = "-2";
        this.style.margin = "0";
        this.style.whiteSpace = "nowrap";
        this.style.textAlign = "center";
        this.style.backgroundColor = UIPreferences_1.uiPreferences.edgeEqualsBackgroundColor;
        this.style.userSelect = "none";
        this.style.backgroundColor = "white";
        UIPreferences_1.uiPreferences.onUpdate(() => {
            this.style.backgroundColor = UIPreferences_1.uiPreferences.edgeEqualsBackgroundColor;
        });
        this.addEventListener("click", event => {
            this.owner.edgeClicked(this, event);
        });
        this.addEventListener("mouseout", event => { });
        this.repOk();
    }
    /**
     * Sets rotation angle of view while also
     * letting it know the angle has changed.
     * @param rad
     */
    setAngle(rad) {
        this.style.rotate = "" + rad + "rad";
        //this.textContent = "" + (rad * 2 * Math.PI / 360).toFixed(2) + "deg"
    }
    /**
     * Sets element screen width and ensures text fits
     * inside the edge.
     */
    set width(val) {
        super.style.width = val;
    }
    /**
     * Called when element is conncted to the DOM.
     */
    connectedCallback() {
        if (this.edge instanceof Argument_1.Argument) {
            this.textContent = "" + this.edge.claim.r;
        }
        else if (this.edge instanceof Graph_1.GivenEdge) {
            this.textContent = "" + this.edge.r;
        }
        else
            throw new Error("Not implemented for " + this.edge);
    }
    repOk() {
        (0, assert_1.assert)(this.first != undefined);
        (0, assert_1.assert)(this.second != undefined);
    }
}
exports.EdgeView = EdgeView;
customElements.define("edge-view", EdgeView, { extends: "p" });


/***/ }),

/***/ "./src/mathlib/uielements/EditableMathView.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/EditableMathView.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditableMathView = void 0;
/**
 * Displays math and is editable.
 */
class EditableMathView extends HTMLDivElement {
    constructor() {
        super();
        this.listeners = [];
        this._value = null;
        this.addEventListener("click", event => { });
    }
    connectedCallback() { }
    set value(e) {
        var _a;
        this._value = e;
        this.innerHTML =
            "<math display='block'>" + ((_a = e === null || e === void 0 ? void 0 : e.toMathXML()) !== null && _a !== void 0 ? _a : "") + "</math>";
        this.listeners.forEach(l => l(this._value));
        MathJax.typeset([this]);
    }
    get value() {
        return this._value;
    }
    /**
     * Listener will be called whenever the math
     * in the view is edited.
     * @param l
     */
    addEditListener(l) {
        this.listeners.push(l);
    }
}
exports.EditableMathView = EditableMathView;
customElements.define("editable-mathview", EditableMathView, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/ExplanationPopup.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/uielements/ExplanationPopup.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExplanationPopup = void 0;
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const MathMLHelpers_1 = __webpack_require__(/*! ../util/MathMLHelpers */ "./src/mathlib/util/MathMLHelpers.ts");
class ExplanationPopup extends HTMLDivElement {
    /**
     *
     * @param arg
     * @param onClose Called after user clicks close button.
     */
    constructor(arg, onClose) {
        super();
        this.arg = arg;
        this.onClose = onClose;
        const closeButton = document.createElement("b");
        closeButton.addEventListener("click", () => {
            this.onClose();
        });
        closeButton.textContent = "Close";
        closeButton.style.userSelect = "none";
        closeButton.style.float = "right";
        this.append(closeButton);
        const text = document.createElement("div");
        text.innerHTML = arg.argument + "<br>";
        if (arg.claim.n instanceof Expression_1.Expression &&
            arg.claim.n1 instanceof Expression_1.Expression)
            text.innerHTML +=
                (0, MathMLHelpers_1.inMathBlock)((0, MathMLHelpers_1.inRow)(arg.claim.n.toMathXML() +
                    " <mo>" +
                    arg.claim.r +
                    "</mo> " +
                    arg.claim.n1.toMathXML())) + "<br> Derived from: <br>";
        for (const ground of arg.grounds) {
            if (ground instanceof Expression_1.Expression)
                text.innerHTML += (0, MathMLHelpers_1.inMath)(ground.toMathXML()) + "<br>";
        }
        this.append(text);
        this.style.backgroundColor = "white";
        this.style.border = "1px solid black";
        this.style.boxShadow = "0.3ch 0.3ch 0.6ch rgba(0, 0, 0, 0.5)";
        this.style.padding = "1ch";
        this.style.width = "fit-content";
        this.style.zIndex = "15";
    }
    connectedCallback() {
        MathJax.typeset([this]);
    }
}
exports.ExplanationPopup = ExplanationPopup;
customElements.define("explanation-popup", ExplanationPopup, { extends: "div" });


/***/ }),

/***/ "./src/mathlib/uielements/ExpressionNodeView.ts":
/*!******************************************************!*\
  !*** ./src/mathlib/uielements/ExpressionNodeView.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionNodeView = void 0;
const EditableMathView_1 = __webpack_require__(/*! ./EditableMathView */ "./src/mathlib/uielements/EditableMathView.ts");
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
/**
 * A graph node view for expression nodes.
 */
class ExpressionNodeView extends GraphNodeView_1.GraphNodeView {
    constructor(node, setStyle) {
        super(setStyle);
        this.node = node;
        this.editableMathView = new EditableMathView_1.EditableMathView();
        this.editableMathView.value = this.node;
        this.appendChild(this.editableMathView);
        this.addEventListener("click", () => {
            console.log(this.node.toUnambigiousString());
        });
    }
    connectedCallback() {
        this.classList.add("expression");
    }
}
exports.ExpressionNodeView = ExpressionNodeView;
customElements.define("expression-nodeview", ExpressionNodeView, {
    extends: "div"
});
const colorUnhealthyNodes = true;


/***/ }),

/***/ "./src/mathlib/uielements/GraphNodeView.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/uielements/GraphNodeView.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GraphNodeView = void 0;
/**
 * An html element that represents a math graph node.
 */
class GraphNodeView extends HTMLDivElement {
    /**
     *
     * @param setStyle Function that when called
     *  should set the style for this view.
     */
    constructor(setStyle) {
        super();
        this.style.padding = "1ch";
        this.style.width = "fit-content";
        this.style.height = "fit-content";
        this.style.whiteSpace = "nowrap";
        setStyle(this);
    }
    set backgroundColor(value) {
        this.style.backgroundColor = value;
    }
}
exports.GraphNodeView = GraphNodeView;


/***/ }),

/***/ "./src/mathlib/uielements/TouchGestureRecognizer.ts":
/*!**********************************************************!*\
  !*** ./src/mathlib/uielements/TouchGestureRecognizer.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TouchGestureRecognizer = void 0;
/**
 * Interpret complicated touch gesture data.
 */
class TouchGestureRecognizer {
    constructor() {
        this.moveListeners = [];
        this.pinchListeners = [];
    }
    addMoveListener(callback) {
        this.moveListeners.push(callback);
    }
    /**
     * Adds a function that will be called when a pinch gesture has been detected.
     * @param callback Takes a center coordinate that's the average of the finger positions,
     *              the change in scale since the last call on (0, infinity) where 1 is no change,
     *              and the number of fingers in the gesture (an integer).
     */
    addPinchListener(callback) {
        this.pinchListeners.push(callback);
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchDown(event) { }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchMove(event) {
        for (const changed of event.changedTouches) {
            changed.clientX;
        }
    }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchEnd(event) { }
    /**
     * Should take all touch events from the view using it.
     * @param event
     */
    processTouchCancel(event) { }
}
exports.TouchGestureRecognizer = TouchGestureRecognizer;


/***/ }),

/***/ "./src/mathlib/uielements/UIPreferences.ts":
/*!*************************************************!*\
  !*** ./src/mathlib/uielements/UIPreferences.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.uiPreferences = void 0;
class UIPreferences {
    constructor() {
        // Preference Values
        this._edgeEqualsBackgroundColor = "none";
        this.callbacks = [];
    }
    /**
     * @param callback Function called whenever a ui preference
     * is changed.
     */
    onUpdate(callback) {
        this.callbacks.push(callback);
    }
    // Getters and Setters
    /**
     * Background color of a graph edge denoting
     * equality between two expressions.
     * Css value.
     */
    get edgeEqualsBackgroundColor() {
        return this._edgeEqualsBackgroundColor;
    }
    set edgeEqualsBackgroundColor(val) {
        this._edgeEqualsBackgroundColor = val;
        this.callbacks.forEach(c => c());
    }
}
exports.uiPreferences = new UIPreferences();


/***/ }),

/***/ "./src/mathlib/uielements/WebGraphView.ts":
/*!************************************************!*\
  !*** ./src/mathlib/uielements/WebGraphView.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebGraphView = void 0;
const Argument_1 = __webpack_require__(/*! ../Argument */ "./src/mathlib/Argument.ts");
const Expression_1 = __webpack_require__(/*! ../expressions/Expression */ "./src/mathlib/expressions/Expression.ts");
const GraphMinipulator_1 = __webpack_require__(/*! ../GraphMinipulator */ "./src/mathlib/GraphMinipulator.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
const TouchGestureRecognizer_1 = __webpack_require__(/*! ./TouchGestureRecognizer */ "./src/mathlib/uielements/TouchGestureRecognizer.ts");
const EdgeView_1 = __webpack_require__(/*! ./EdgeView */ "./src/mathlib/uielements/EdgeView.ts");
const ExpressionNodeView_1 = __webpack_require__(/*! ./ExpressionNodeView */ "./src/mathlib/uielements/ExpressionNodeView.ts");
const ArgumentNodeView_1 = __webpack_require__(/*! ./ArgumentNodeView */ "./src/mathlib/uielements/ArgumentNodeView.ts");
const GraphNodeView_1 = __webpack_require__(/*! ./GraphNodeView */ "./src/mathlib/uielements/GraphNodeView.ts");
const ExplanationPopup_1 = __webpack_require__(/*! ./ExplanationPopup */ "./src/mathlib/uielements/ExplanationPopup.ts");
/**
 * A ui element that will display a math graph in a web.
 */
class WebGraphView extends HTMLDivElement {
    /**
     * @param graph Must be fully connected.
     * @param roots Non-empty.
     */
    constructor(graph, roots, interpreter, config = undefined) {
        super();
        this.nodeColorFn = n => "lightblue";
        // if the mouse is down
        this.mouseDown = false;
        this.touchDown = false;
        this.scale = 1;
        // If the graph should draw argument nodes.
        this.showArguments = false;
        this.drawEdgeLines = false;
        this.debugCornerEnabled = false;
        this.resizeObserver = new ResizeObserver(_ => {
            this.arrange();
            this.updateOffset();
        });
        this.baseNodeStyle = (view) => {
            view.style.borderRadius = "1ch";
            view.style.backgroundColor = "lightblue";
            view.style.zIndex = "" + NODE_MAX_Z;
        };
        this.nodes = new Map();
        this.offsetX = 0;
        this.offsetY = 0;
        this.nodePositions = new Map();
        this.edgePositions = new Map();
        this.edges = new Map();
        this.ringElements = new Set();
        this.ringPositions = new Map();
        this.explanationPopups = [];
        this.interpreter = interpreter;
        if (config != undefined) {
            this.showArguments = config.showArguments;
            this.drawEdgeLines = config.drawEdgeLines;
            this.debugCornerEnabled = config.debugCornerEnabled;
        }
        this.style.clipPath = "polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)";
        this.style.position = "relative";
        this.style.overflow = "hidden";
        this.addEventListener("mousedown", event => {
            this.mouseDown = true;
            this.touchDown = false;
        });
        this.addEventListener("mouseup", event => {
            this.mouseDown = false;
        });
        this.addEventListener("mouseleave", event => {
            this.mouseDown = false;
        });
        this.addEventListener("mousemove", (event) => {
            if (!this.mouseDown)
                return;
            this.offsetX += event.movementX / this.scale;
            this.offsetY += event.movementY / this.scale;
            this.updateOffset();
        });
        this.resizeObserver.observe(this);
        this.addEventListener("wheel", event => {
            const mousePos = Point(event.offsetX, event.offsetY);
            const scaleDelta = Math.pow(0.8, event.deltaY / 360);
            this.scale = scaleDelta * this.scale;
            this.updateOffset();
            return true;
        });
        this.gestureRecognizer = new TouchGestureRecognizer_1.TouchGestureRecognizer();
        this.addEventListener("touchdown", this.gestureRecognizer.processTouchDown);
        this.addEventListener("touchend", this.gestureRecognizer.processTouchEnd);
        this.addEventListener("touchcancel", this.gestureRecognizer.processTouchCancel);
        this.addEventListener("touchmove", this.gestureRecognizer.processTouchMove);
        this.gestureRecognizer.addPinchListener((center, scaleDelta, fingers) => { });
        this.setGraph(graph, roots);
        this.repOk();
    }
    setGraph(graph, roots) {
        this.graph = graph;
        this.rootNodes = new Set(roots);
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    /**
     * Set a function that determines the color of a node.
     * @param colorFn
     */
    setNodeColoringScheme(colorFn) {
        this.nodeColorFn = colorFn;
        this.propogateSettingsToNodes();
    }
    propogateSettingsToNodes() {
        this.nodes.forEach((view, node) => {
            view.backgroundColor = this.nodeColorFn(node);
        });
    }
    /**
     * Sets if the view should show argument nodes as nodes.
     * False by default.
     * @param val
     */
    setShowArguments(val) {
        this.showArguments = true;
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    get center() {
        return {
            x: this.offsetWidth / 2,
            y: this.offsetHeight / 2
        };
    }
    /**
     * Follows the showArgument setting.
     * Populates this.nodes, this.edges,
     * adds the created views to the shadow dom
     * to match the graph.
     * Removes any pre-existing elements from the shadow dom.
     */
    readGraph() {
        // Clear existing
        this.nodes.forEach((view, node) => {
            this.removeChild(view);
        });
        this.nodes.clear();
        this.edges.forEach((view, edge) => {
            this.removeChild(view);
        });
        this.edges.clear();
        // Fetch nodes
        this.graph.getNodes().forEach(node => {
            if (node instanceof Expression_1.Expression) {
                const view = new ExpressionNodeView_1.ExpressionNodeView(node, this.baseNodeStyle);
                view.style.position = "absolute";
                this.nodes.set(node, view);
                this.append(view);
            }
            else if (node instanceof Argument_1.Argument) {
                if (!this.showArguments)
                    return;
                const view = new ArgumentNodeView_1.ArgumentNodeView(node, this.baseNodeStyle);
                view.style.position = "absolute";
                this.nodes.set(node, view);
                this.append(view);
            }
            else
                throw new Error("Graph contains node WebGraphView can't process.");
        });
        // Fetch edges
        GraphMinipulator_1.GraphMinipulator.dropSymmetric(this.graph.getEdges())
            .filter(edge => {
            // Only consider edges for which we have both endpoints on the view
            return this.nodes.has(edge.n) && this.nodes.has(edge.n1);
        })
            .forEach(edge => {
            const view = new EdgeView_1.EdgeView(this, edge);
            view.style.position = "absolute";
            this.edges.set(edge, view);
            this.append(view);
        });
        this.propogateSettingsToNodes();
        if (this.debugCornerEnabled) {
            const corner = document.createElement("p");
            corner.innerHTML =
                "Graph Nodes: " +
                    this.graph.getNodes().size +
                    "<br>" +
                    "Visible Nodes: " +
                    this.nodes.size +
                    "<br>" +
                    "Graph Edges: " +
                    this.graph.getEdges().size +
                    "<br>" +
                    "Visible Edges: " +
                    this.edges.size +
                    "<br>";
            corner.style.zIndex = "100";
            corner.style.backgroundColor = "white";
            corner.style.width = "fit-content";
            corner.style.margin = "0";
            corner.style.padding = "1ch";
            corner.style.border = "black 1px solid";
            corner.style.position = "absolute";
            this.append(corner);
        }
        this.repOk();
    }
    connectedCallback() {
        this.readGraph();
        this.arrange();
        this.updateOffset();
    }
    /**
     * Pick places for all the nodes/edges on the screen.
     * Populates the position* rep vars.
     */
    arrange() {
        this.nodePositions.clear();
        this.edgePositions.clear();
        this.ringPositions.clear();
        this.ringElements.forEach(e => {
            this.removeChild(e);
        });
        this.ringElements.clear();
        // Place nodes on a series of rings from the center using their depth in the graph
        const levels = GraphMinipulator_1.GraphMinipulator.getLevels(this.graph, this.rootNodes, node => {
            if (node instanceof Expression_1.Expression)
                return true;
            else if (node instanceof Argument_1.Argument)
                return this.showArguments;
            else
                throw new Error("New type of node");
        });
        let maxDepth = 0;
        levels.forEach((_, depth) => {
            maxDepth = Math.max(maxDepth, depth);
        });
        const center = { x: this.clientWidth / 2, y: this.clientHeight / 2 };
        let lastRadius = 0; //px
        // Record the positions of the last ring so that we can
        // make the graph appear planar-ish. Maps nodes to angle
        // offset in radians. Angle must be < 2*Pi
        let lastPositions = null;
        for (let depth = 0; depth < maxDepth + 1; depth++) {
            const nodes = levels.get(depth);
            /**
             * Calculating the radius of the circle
             * Suppose every root node on the starting circle requires
             * a circular space to be drawn with radius nodeRadius
             * A starting circle with n of these nodes would require a
             * circumference of n * 2nodeRadius.
             * The circumference of a circle can be expressed
             * as 2*pi*r
             * => r = n * 2 * smallR / (2 * pi)
             *      = n * smallR / pi
             */
            const nodeRadius = 70; // pixels
            let radius = Math.max((nodes.size * nodeRadius) / Math.PI, lastRadius + 3 * nodeRadius);
            if (depth == 0 && nodes.size == 1)
                radius = 0;
            lastRadius = radius;
            // Minimum radians necessary to keep nodes necessarily spaced at the given depth
            const stepSize = (2 * Math.PI) /
                Math.max(nodes.size, (radius * 2 * Math.PI) / (2 * 1.2 * nodeRadius));
            // Maps nodes to angles (rad)
            const ns = new Map();
            if (lastPositions != null) {
                const idealAngles = new Map();
                for (const n of nodes) {
                    // We do not assume the graph is a tree
                    // Assume the node has a parent
                    const parent = this.graph
                        .getNeighbors(n, "in")
                        .filter(n => levels.get(depth - 1).has(n) &&
                        lastPositions.has(n))[0];
                    const idealAngle = lastPositions.get(parent);
                    idealAngles.set(n, idealAngle);
                }
                (0, assert_1.assert)(idealAngles.size == nodes.size);
                for (let i = 0; i < nodes.size; i++) {
                    for (const pair of idealAngles) {
                        let a = 0;
                        while ((0, assert_1.for_some)(ns, p => Math.abs(p[1] - pair[1]) < stepSize)) {
                            pair[1] += stepSize * a * Math.pow((-1), a);
                            a++;
                        }
                        ns.set(pair[0], pair[1]);
                    }
                }
            }
            else {
                const temp = [...nodes];
                for (let i = 0; i < nodes.size; i++) {
                    ns.set(temp[i], i * stepSize);
                }
            }
            (0, assert_1.assert)(ns.size == nodes.size, "Only produced " + ns.size + " nodes instead of " + nodes.size);
            lastPositions = new Map();
            ns.forEach((angle, node) => {
                const view = this.nodes.get(node);
                //view.style.width = "" + smallR + "px"
                //view.style.height = "" + smallR + "px"
                lastPositions.set(node, angle);
                // Get the cartesian point from the radius and angle
                const x = radius * Math.cos(angle) + center.x;
                const y = radius * Math.sin(angle) + center.y;
                this.nodePositions.set(view, Point(x, y));
            });
            (0, assert_1.assert)((0, assert_1.for_all)(lastPositions.values(), pos => pos != undefined && pos != null));
            //assert(lastPositions.size > 0)
            //assert(for_all(nodes, lastPositions.has))
            const ring = document.createElement("div");
            ring.style.border = "lightgray solid 0.3ch";
            ring.style.borderRadius = "100%";
            ring.style.position = "absolute";
            ring.style.zIndex = RING_Z;
            this.appendChild(ring);
            this.ringElements.add(ring);
            this.ringPositions.set(ring, { radius: radius });
        }
        // Now arange the edges
        this.edges.forEach((view, edge) => {
            // Find the middle of the two endpts
            const firstX = this.nodePositions.get(this.nodes.get(edge.n)).x;
            const firstY = this.nodePositions.get(this.nodes.get(edge.n)).y;
            const secondX = this.nodePositions.get(this.nodes.get(edge.n1)).x;
            const secondY = this.nodePositions.get(this.nodes.get(edge.n1)).y;
            const x = (firstX + secondX) / 2;
            const y = (firstY + secondY) / 2;
            const angle = Math.atan2(secondY - firstY, secondX - firstX);
            this.edgePositions.set(view, { x: x, y: y, angle: angle });
        });
        this.repOk();
    }
    /**
     * Update the draw position of the nodes on the screen
     * to match the offset in rep. Assumes all views have a position
     * stored in the rep. Call arrange() first.
     * Also applies the scale factor to the final draw positions,
     * invisible to everyone else.
     */
    updateOffset() {
        const center = this.center;
        const scale = this.scale;
        function applyScale(i) {
            return Point((i.x - center.x) * scale + center.x, (i.y - center.y) * scale + center.y);
        }
        this.nodePositions.forEach((pos, view) => {
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY
            });
            view.style.left = "" + (adjusted.x - 0.5 * view.offsetWidth) + "px";
            view.style.top = "" + (adjusted.y - 0.5 * view.offsetHeight) + "px";
        });
        this.edgePositions.forEach((pos, view) => {
            view.setAngle(pos.angle);
            if (this.drawEdgeLines) {
                const firstPos = this.nodePositions.get(this.nodes.get(view.first));
                const secondPos = this.nodePositions.get(this.nodes.get(view.second));
                view.width =
                    "" +
                        scale *
                            Math.hypot(secondPos.x - firstPos.x, secondPos.y - firstPos.y) +
                        "px";
                view.style.borderBottom = "black 0.1ch solid";
                view.style.borderTop = "black 0.1ch solid";
            }
            else {
                view.width = "fit-content";
                view.style.borderBottom = "none";
                view.style.borderTop = "none";
            }
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY
            });
            view.style.left = "" + (adjusted.x - 0.5 * view.offsetWidth) + "px";
            view.style.top = "" + (adjusted.y - 0.5 * view.offsetHeight) + "px";
        });
        // Overlay elements change size with scale
        this.ringPositions.forEach((pos, view) => {
            const adjustedCenterPos = applyScale({
                x: center.x + this.offsetX,
                y: center.y + this.offsetY
            });
            view.style.left =
                "" + (adjustedCenterPos.x - pos.radius * scale) + "px";
            view.style.top =
                "" + (adjustedCenterPos.y - pos.radius * scale) + "px";
            view.style.width = "" + pos.radius * 2 * scale + "px";
            view.style.aspectRatio = "1";
        });
        this.explanationPopups.forEach(val => {
            const view = val.e;
            const pos = val.pos;
            const adjusted = applyScale({
                x: pos.x + this.offsetX,
                y: pos.y + this.offsetY
            });
            view.style.left = "" + (adjusted.x - 0.5 * view.offsetWidth) + "px";
            view.style.top = "" + (adjusted.y - 0.5 * view.offsetHeight) + "px";
        });
        this.repOk();
    }
    /**
     * Map from relative screen coordinates (where tl of this view is (0,0))
     * to the internal coordinate system we're using.
     */
    getInternalPos(pixelPos) {
        const center = this.center;
        const scale = this.scale;
        return Point((pixelPos.x - center.x) / scale + center.x - this.offsetX, (pixelPos.y - center.y) / scale + center.y - this.offsetY);
    }
    /**
     * React to an edge being clicked.
     * @param view In this view
     * @param event The click event
     */
    edgeClicked(view, event) {
        // TODO: Don't allow dupliate explanation popups
        if (view.edge instanceof Argument_1.Argument) {
            const popup = new ExplanationPopup_1.ExplanationPopup(view.edge, () => {
                this.removeChild(popup);
                for (let i = 0; i < this.explanationPopups.length; i++) {
                    if (this.explanationPopups[i].e === popup) {
                        this.explanationPopups.splice(i, 1);
                        break;
                    }
                }
            });
            const rect = this.getBoundingClientRect();
            const realtiveX = event.clientX - rect.left;
            const relativeY = event.clientY - rect.top;
            //TODO: The position isn't correct
            //TODO: Algorithm for picking where we should put the popup so it stays out
            // of the way of the graph
            this.explanationPopups.push({
                e: popup,
                pos: this.getInternalPos(Point(realtiveX, relativeY))
            });
            popup.style.position = "absolute";
            this.append(popup);
            this.updateOffset();
        }
        this.reorderViewStack(view);
        this.repOk();
    }
    /**
     * Set the z-index of all the elements in the graph
     * putting the given root on top and it's neighbors
     * right beneath it etc.
     * @param root
     */
    reorderViewStack(root) {
        if (root instanceof GraphNodeView_1.GraphNodeView)
            throw new Error("Not implemented");
        if (root instanceof EdgeView_1.EdgeView) {
            const roots = [root.first, root.second];
            const stackingOrder = GraphMinipulator_1.GraphMinipulator.getLevels(this.graph, roots);
            stackingOrder.forEach((nodeSet, depth) => {
                nodeSet.forEach(node => {
                    if (!this.showArguments && node instanceof Argument_1.Argument)
                        return;
                    console.log("Adjusting");
                    const nodeView = this.nodes.get(node);
                    nodeView.style.zIndex = (NODE_MAX_Z -
                        0.0001 * depth).toString();
                    // Edges
                    this.edges.forEach((edge, key) => {
                        if (edge.first === node || edge.second === node) {
                            edge.style.zIndex = (EDGE_MAX_Z -
                                0.0001 * depth).toString();
                        }
                    });
                });
            });
        }
    }
    repOk() {
        (0, assert_1.assert)(this.rootNodes.size > 0);
        (0, assert_1.assert)(GraphMinipulator_1.GraphMinipulator.isConnected(this.graph), "Graph not connected");
        if (this.showArguments)
            (0, assert_1.assert)(this.graph.getNodes().size == this.nodes.size);
    }
}
exports.WebGraphView = WebGraphView;
customElements.define("web-graphview", WebGraphView, { extends: "div" });
function Point(x, y, angle = undefined) {
    if (angle == undefined)
        return {
            x: x,
            y: y
        };
    return {
        x: x,
        y: y,
        angle: angle
    };
}
// Z Index constants
const DEBUG_WINDOW_Z = "100";
const NODE_MAX_Z = 5;
const NODE_MIN_Z = "4.000001";
const EDGE_MAX_Z = 4;
const EDGE_MIN_Z = "3.000001";
const RING_Z = "-10";


/***/ }),

/***/ "./src/mathlib/userinput/AntlrMathParser.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/AntlrMathParser.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.parseExpression = void 0;
const antlr4_1 = __importDefault(__webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs"));
const { CommonTokenStream, CharStream } = antlr4_1.default;
const arithmeticLexer_1 = __importDefault(__webpack_require__(/*! ./arithmeticLexer */ "./src/mathlib/userinput/arithmeticLexer.ts"));
const arithmeticParser_1 = __importDefault(__webpack_require__(/*! ./arithmeticParser */ "./src/mathlib/userinput/arithmeticParser.ts"));
const MathVisitorImpl_1 = __webpack_require__(/*! ./MathVisitorImpl */ "./src/mathlib/userinput/MathVisitorImpl.ts");
const Flattener_1 = __webpack_require__(/*! ./Flattener */ "./src/mathlib/userinput/Flattener.ts");
const assert_1 = __webpack_require__(/*! ../util/assert */ "./src/mathlib/util/assert.ts");
/**
 * Parses the given input string to an expression.
 * @param input See the gramar file (.g4)
 * @returns
 */
function parseExpression(input) {
    const stream = new CharStream(input, true);
    const lexer = new arithmeticLexer_1.default(stream);
    const tokens = new CommonTokenStream(lexer);
    const parser = new arithmeticParser_1.default(tokens);
    //parser.buildParseTrees = true
    const tree = parser.expression();
    tree.accept(new Flattener_1.Flattener());
    // Print debug info
    //tree.accept(new PrintVisitor())
    const result = tree.accept(new MathVisitorImpl_1.ExpressionVisitor());
    (0, assert_1.assert)(result != null && result != undefined);
    return result;
}
exports.parseExpression = parseExpression;


/***/ }),

/***/ "./src/mathlib/userinput/Flattener.ts":
/*!********************************************!*\
  !*** ./src/mathlib/userinput/Flattener.ts ***!
  \********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Flattener = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const arithmeticParser_1 = __webpack_require__(/*! ./arithmeticParser */ "./src/mathlib/userinput/arithmeticParser.ts");
const arithmeticVisitor_1 = __importDefault(__webpack_require__(/*! ./arithmeticVisitor */ "./src/mathlib/userinput/arithmeticVisitor.ts"));
/**
 * Visitor that flattens sums and products in ASTs.
 * a + (b + c) -> a + b + c
 *
 * This only happens if b + c isn't actually surrounded
 * by parens.
 *
 *        +
 *       / \
 *      a   +
 *         / \
 *        b   c
 *
 * becomes
 *
 *       +
 *      /|\
 *     a b c
 *
 *
 */
class Flattener extends arithmeticVisitor_1.default {
    constructor() {
        super(...arguments);
        this.visitSum = (ctx) => {
            const flattened = this.flattenAddition(ctx);
            for (const child of flattened.children) {
                this.visit(child);
            }
            return flattened;
        };
        this.visitProduct = (ctx) => {
            const flattened = this.flattenProduct(ctx);
            for (const child of flattened.children) {
                this.visit(child);
            }
            return flattened;
        };
    }
    printChildren(ctx) {
        let result = "";
        for (const child of ctx.children) {
            result += child.getText() + "  ";
        }
        console.log(result);
        //console.log(ctx.toStringTree(null, ctx.parser!))
    }
    /**
     * If the given sum's children are also sums,
     * sets those sums parents to the ctx.
     * The given sumcontext and all its sum children
     * must have exactly 2 expression part children.
     * This prevents the mind fuck of rearranging the
     * AST on the way back out.
     */
    flattenAddition(ctx) {
        // Check if children are sums
        // Reach down and take their children
        function takeChildren(child) {
            (0, ConvenientExpressions_1.remove)(ctx.children, child);
            // Move the expression up
            if (child._right instanceof arithmeticParser_1.SumContext) {
                takeChildren(child._right);
            }
            else {
                child._right.parentCtx = ctx;
                ctx.children.unshift(child._right);
            }
            // TODO: This isn't always correct because negation of sums
            // Or is is...
            // Also look at product flattening
            // Move the operator up
            if (child.MINUS() != null) {
                child.MINUS().parentCtx = ctx;
                ctx.children.unshift(child.MINUS());
                //remove(child.children!, child.MINUS())
            }
            else {
                child.PLUS().parentCtx = ctx;
                ctx.children.unshift(child.PLUS());
                //remove(child.children!, child.PLUS())
            }
            if (child._left instanceof arithmeticParser_1.SumContext) {
                takeChildren(child._left);
            }
            else {
                child._left.parentCtx = ctx;
                ctx.children.unshift(child._left);
            }
            child.parentCtx = undefined;
        }
        if (ctx._left instanceof arithmeticParser_1.SumContext)
            takeChildren(ctx._left);
        if (ctx._right instanceof arithmeticParser_1.SumContext)
            takeChildren(ctx._right);
        return ctx;
    }
    flattenProduct(ctx) {
        //console.log("Flattening product " + ctx.getText() + " to")
        function instanceOfProduct(child) {
            return child instanceof arithmeticParser_1.ProductContext;
        }
        // Check if children are sums
        // Reach down and take their children
        function takeChildren(child) {
            (0, ConvenientExpressions_1.remove)(ctx.children, child);
            if (instanceOfProduct(child._right)) {
                takeChildren(child._right);
            }
            else {
                child._right.parentCtx = ctx;
                ctx.children.unshift(child._right);
            }
            // Move the operator up
            if (child.TIMES() != null) {
                child.TIMES().parentCtx = ctx;
                ctx.children.unshift(child.TIMES());
            }
            if (instanceOfProduct(child._left)) {
                takeChildren(child._left);
            }
            else {
                child._left.parentCtx = ctx;
                ctx.children.unshift(child._left);
            }
            child.parentCtx = undefined;
        }
        if (instanceOfProduct(ctx._left))
            takeChildren(ctx._left);
        if (instanceOfProduct(ctx._right))
            takeChildren(ctx._right);
        //console.log(ctx.getText())
        return ctx;
    }
}
exports.Flattener = Flattener;


/***/ }),

/***/ "./src/mathlib/userinput/MathVisitorImpl.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/MathVisitorImpl.ts ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ExpressionVisitor = void 0;
const ConvenientExpressions_1 = __webpack_require__(/*! ../ConvenientExpressions */ "./src/mathlib/ConvenientExpressions.ts");
const Exponent_1 = __webpack_require__(/*! ../expressions/Exponent */ "./src/mathlib/expressions/Exponent.ts");
const Fraction_1 = __webpack_require__(/*! ../expressions/Fraction */ "./src/mathlib/expressions/Fraction.ts");
const Integer_1 = __webpack_require__(/*! ../expressions/Integer */ "./src/mathlib/expressions/Integer.ts");
const Integral_1 = __webpack_require__(/*! ../expressions/Integral */ "./src/mathlib/expressions/Integral.ts");
const Logarithm_1 = __webpack_require__(/*! ../expressions/Logarithm */ "./src/mathlib/expressions/Logarithm.ts");
const Product_1 = __webpack_require__(/*! ../expressions/Product */ "./src/mathlib/expressions/Product.ts");
const Sum_1 = __webpack_require__(/*! ../expressions/Sum */ "./src/mathlib/expressions/Sum.ts");
const Variable_1 = __webpack_require__(/*! ../expressions/Variable */ "./src/mathlib/expressions/Variable.ts");
const arithmeticVisitor_1 = __importDefault(__webpack_require__(/*! ./arithmeticVisitor */ "./src/mathlib/userinput/arithmeticVisitor.ts"));
/**
 * Reads out an expression.
 */
class ExpressionVisitor extends arithmeticVisitor_1.default {
    constructor() {
        super(...arguments);
        this.visitExpression = (ctx) => {
            return this.visit(ctx.open());
        };
        this.visitEquation = (ctx) => {
            throw new Error("Can't parse equations with this visitor");
        };
        this.visitPower = (ctx) => {
            //console.log("Power")
            //this.printChildren(ctx)
            //console.log(ctx._left.getText())
            //console.log(ctx._right.getText())
            return Exponent_1.Exponent.of(this.visit(ctx._left), this.visit(ctx._right));
        };
        this.visitParen = (ctx) => {
            return this.visit(ctx.open());
        };
        this.visitDivision = (ctx) => {
            return Fraction_1.Fraction.of(this.visit(ctx._left), this.visit(ctx._right));
        };
        this.visitProduct = (ctx) => {
            return Product_1.Product.of([...ctx.closed_list().map(exp => this.visit(exp))]);
        };
        this.visitRight_ClosedImplicitProduct = (ctx) => {
            //console.log("Right closed implicit product of context")
            //this.printChildren(ctx)
            return Product_1.Product.of([this.visit(ctx._left), this.visit(ctx._right)]);
        };
        this.visitIntegral = (ctx) => {
            return Integral_1.Integral.of(this.visit(ctx._integrand), Variable_1.Variable.of("x"));
        };
        this.visitLog = (ctx) => {
            return Logarithm_1.Logarithm.of(this.visit(ctx._content), ctx._base == undefined ? Integer_1.Integer.of(10) : this.visit(ctx._base));
        };
        // visitUnaryOnAtom = (ctx: UnaryOnAtomContext): Expression => {
        //     const isPositive = ctx.MINUS_list.length % 2 == 0
        //     if (isPositive)
        //         return this.visit(ctx.atom())
        //     return negative(this.visit(ctx.atom()))
        // }
        this.visitUnaryOnExpression = (ctx) => {
            const isPositive = ctx.MINUS() == null;
            if (isPositive)
                return this.visit(ctx.closed());
            return (0, ConvenientExpressions_1.negative)(this.visit(ctx.closed()));
        };
        this.visitSum = (ctx) => {
            // console.log("Visiting sum with " + ctx.children!.length + " children: " + ctx.toStringTree(null, ctx.parser!))
            // this.printChildren(ctx)
            // Sum of plus and minus components
            const terms = [this.visit(ctx.children[0])];
            for (let i = 1; i < ctx.children.length; i += 2) {
                if (ctx.children[i].getText() == "-")
                    terms.push((0, ConvenientExpressions_1.negative)(this.visit(ctx.children[i + 1])));
                else {
                    terms.push(this.visit(ctx.children[i + 1]));
                }
            }
            //console.log("Printing made terms")
            for (const term of terms) {
                //console.log("  " + term.toString())
            }
            //console.log("done")
            return Sum_1.Sum.of(terms);
        };
        // visitExpression = (ctx: ExpressionContext): Expression => {
        //     // Guess what expression type it is, following pemdas
        //     if ((ctx.PLUS(0) != null || ctx.MINUS(0) != null)
        //             && (ctx.expression_list().length ?? 0) > 1) {
        //     } else {
        //         console.log("Unknown expression type")
        //         for (const key of Object.keys(ctx)) {
        //             console.log(`${key}: ${(ctx as any)[key]}`)
        //         }
        //         for (const key of Object.getOwnPropertyNames(ctx)) {
        //             console.log(`${key}: ${(ctx as any)[key]}`)
        //         }
        //         console.log("Expressions: " + ctx.expression_list().length)
        //         console.log("Num children: " + ctx.children!.length)
        //         if (ctx.children?.length ?? 0 > 0)
        //             for (const child of ctx.children!) {
        //                 console.log("Child: " + child.getText())
        //             }
        //         throw new Error("Not implemented 1")
        //     }
        // };
        this.visitAtom = (ctx) => {
            if (ctx.VARIABLE() != null) {
                return Variable_1.Variable.of(ctx.VARIABLE().getText());
            }
            else if (ctx.SCIENTIFIC_NUMBER() != null) {
                return Integer_1.Integer.of(Number.parseFloat(ctx.SCIENTIFIC_NUMBER().getText()));
            }
            else {
                throw new Error("Not implemented");
            }
        };
        this.visitClosedAtom = (ctx) => {
            return this.visit(ctx.atom());
        };
        this.visitClosedIsRight_Closed = (ctx) => {
            return this.visit(ctx.closed());
        };
        this.visitRight_ClosedIsOpen = (ctx) => {
            return this.visit(ctx.right_closed());
        };
        this.visitRelop = (ctx) => {
            throw new Error("Shouldn't happen with this visitor impl");
        };
    }
    printChildren(ctx) {
        let result = "";
        for (const child of ctx.children) {
            result += child.getText() + "  ";
        }
        console.log(result);
    }
}
exports.ExpressionVisitor = ExpressionVisitor;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticLexer.ts":
/*!**************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticLexer.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
// noinspection ES6UnusedImports,JSUnusedGlobalSymbols,JSUnusedLocalSymbols
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
class arithmeticLexer extends antlr4_1.Lexer {
    constructor(input) {
        super(input);
        this._interp = new antlr4_1.LexerATNSimulator(this, arithmeticLexer._ATN, arithmeticLexer.DecisionsToDFA, new antlr4_1.PredictionContextCache());
    }
    get grammarFileName() {
        return "arithmetic.g4";
    }
    get literalNames() {
        return arithmeticLexer.literalNames;
    }
    get symbolicNames() {
        return arithmeticLexer.symbolicNames;
    }
    get ruleNames() {
        return arithmeticLexer.ruleNames;
    }
    get serializedATN() {
        return arithmeticLexer._serializedATN;
    }
    get channelNames() {
        return arithmeticLexer.channelNames;
    }
    get modeNames() {
        return arithmeticLexer.modeNames;
    }
    static get _ATN() {
        if (!arithmeticLexer.__ATN) {
            arithmeticLexer.__ATN = new antlr4_1.ATNDeserializer().deserialize(arithmeticLexer._serializedATN);
        }
        return arithmeticLexer.__ATN;
    }
}
arithmeticLexer.SCIENTIFIC_NUMBER = 1;
arithmeticLexer.LPAREN = 2;
arithmeticLexer.RPAREN = 3;
arithmeticLexer.PLUS = 4;
arithmeticLexer.MINUS = 5;
arithmeticLexer.TIMES = 6;
arithmeticLexer.DIV = 7;
arithmeticLexer.GT = 8;
arithmeticLexer.LT = 9;
arithmeticLexer.EQ = 10;
arithmeticLexer.POINT = 11;
arithmeticLexer.POW = 12;
arithmeticLexer.INT = 13;
arithmeticLexer.LOG = 14;
arithmeticLexer.VARIABLE = 15;
arithmeticLexer.WS = 16;
arithmeticLexer.EOF = antlr4_1.Token.EOF;
arithmeticLexer.channelNames = [
    "DEFAULT_TOKEN_CHANNEL",
    "HIDDEN"
];
arithmeticLexer.literalNames = [
    null,
    null,
    "'('",
    "')'",
    "'+'",
    "'-'",
    null,
    "'/'",
    "'>'",
    "'<'",
    "'='",
    "'.'",
    "'^'"
];
arithmeticLexer.symbolicNames = [
    null,
    "SCIENTIFIC_NUMBER",
    "LPAREN",
    "RPAREN",
    "PLUS",
    "MINUS",
    "TIMES",
    "DIV",
    "GT",
    "LT",
    "EQ",
    "POINT",
    "POW",
    "INT",
    "LOG",
    "VARIABLE",
    "WS"
];
arithmeticLexer.modeNames = ["DEFAULT_MODE"];
arithmeticLexer.ruleNames = [
    "SCIENTIFIC_NUMBER",
    "NUMBER",
    "UNSIGNED_INTEGER",
    "E",
    "L",
    "O",
    "G",
    "SIGN",
    "LPAREN",
    "RPAREN",
    "PLUS",
    "MINUS",
    "TIMES",
    "DIV",
    "GT",
    "LT",
    "EQ",
    "POINT",
    "POW",
    "INT",
    "LOG",
    "VARIABLE",
    "WS"
];
arithmeticLexer._serializedATN = [
    4, 0, 16, 123, 6, -1, 2, 0, 7, 0, 2, 1, 7, 1, 2, 2, 7, 2, 2, 3, 7, 3, 2,
    4, 7, 4, 2, 5, 7, 5, 2, 6, 7, 6, 2, 7, 7, 7, 2, 8, 7, 8, 2, 9, 7, 9, 2,
    10, 7, 10, 2, 11, 7, 11, 2, 12, 7, 12, 2, 13, 7, 13, 2, 14, 7, 14, 2,
    15, 7, 15, 2, 16, 7, 16, 2, 17, 7, 17, 2, 18, 7, 18, 2, 19, 7, 19, 2,
    20, 7, 20, 2, 21, 7, 21, 2, 22, 7, 22, 1, 0, 1, 0, 1, 0, 3, 0, 51, 8, 0,
    1, 0, 1, 0, 3, 0, 55, 8, 0, 1, 1, 4, 1, 58, 8, 1, 11, 1, 12, 1, 59, 1,
    1, 1, 1, 4, 1, 64, 8, 1, 11, 1, 12, 1, 65, 3, 1, 68, 8, 1, 1, 2, 4, 2,
    71, 8, 2, 11, 2, 12, 2, 72, 1, 3, 1, 3, 1, 4, 1, 4, 1, 5, 1, 5, 1, 6, 1,
    6, 1, 7, 1, 7, 1, 8, 1, 8, 1, 9, 1, 9, 1, 10, 1, 10, 1, 11, 1, 11, 1,
    12, 1, 12, 1, 13, 1, 13, 1, 14, 1, 14, 1, 15, 1, 15, 1, 16, 1, 16, 1,
    17, 1, 17, 1, 18, 1, 18, 1, 19, 1, 19, 1, 19, 1, 19, 1, 20, 1, 20, 1,
    20, 1, 20, 1, 21, 1, 21, 1, 22, 4, 22, 118, 8, 22, 11, 22, 12, 22, 119,
    1, 22, 1, 22, 0, 0, 23, 1, 1, 3, 0, 5, 0, 7, 0, 9, 0, 11, 0, 13, 0, 15,
    0, 17, 2, 19, 3, 21, 4, 23, 5, 25, 6, 27, 7, 29, 8, 31, 9, 33, 10, 35,
    11, 37, 12, 39, 13, 41, 14, 43, 15, 45, 16, 1, 0, 11, 2, 0, 69, 69, 101,
    101, 2, 0, 76, 76, 108, 108, 2, 0, 79, 79, 111, 111, 2, 0, 71, 71, 103,
    103, 2, 0, 43, 43, 45, 45, 2, 0, 42, 42, 183, 183, 2, 0, 73, 73, 105,
    105, 2, 0, 78, 78, 110, 110, 2, 0, 84, 84, 116, 116, 2, 0, 65, 90, 97,
    122, 3, 0, 9, 10, 13, 13, 32, 32, 122, 0, 1, 1, 0, 0, 0, 0, 17, 1, 0, 0,
    0, 0, 19, 1, 0, 0, 0, 0, 21, 1, 0, 0, 0, 0, 23, 1, 0, 0, 0, 0, 25, 1, 0,
    0, 0, 0, 27, 1, 0, 0, 0, 0, 29, 1, 0, 0, 0, 0, 31, 1, 0, 0, 0, 0, 33, 1,
    0, 0, 0, 0, 35, 1, 0, 0, 0, 0, 37, 1, 0, 0, 0, 0, 39, 1, 0, 0, 0, 0, 41,
    1, 0, 0, 0, 0, 43, 1, 0, 0, 0, 0, 45, 1, 0, 0, 0, 1, 47, 1, 0, 0, 0, 3,
    57, 1, 0, 0, 0, 5, 70, 1, 0, 0, 0, 7, 74, 1, 0, 0, 0, 9, 76, 1, 0, 0, 0,
    11, 78, 1, 0, 0, 0, 13, 80, 1, 0, 0, 0, 15, 82, 1, 0, 0, 0, 17, 84, 1,
    0, 0, 0, 19, 86, 1, 0, 0, 0, 21, 88, 1, 0, 0, 0, 23, 90, 1, 0, 0, 0, 25,
    92, 1, 0, 0, 0, 27, 94, 1, 0, 0, 0, 29, 96, 1, 0, 0, 0, 31, 98, 1, 0, 0,
    0, 33, 100, 1, 0, 0, 0, 35, 102, 1, 0, 0, 0, 37, 104, 1, 0, 0, 0, 39,
    106, 1, 0, 0, 0, 41, 110, 1, 0, 0, 0, 43, 114, 1, 0, 0, 0, 45, 117, 1,
    0, 0, 0, 47, 54, 3, 3, 1, 0, 48, 50, 3, 7, 3, 0, 49, 51, 3, 15, 7, 0,
    50, 49, 1, 0, 0, 0, 50, 51, 1, 0, 0, 0, 51, 52, 1, 0, 0, 0, 52, 53, 3,
    5, 2, 0, 53, 55, 1, 0, 0, 0, 54, 48, 1, 0, 0, 0, 54, 55, 1, 0, 0, 0, 55,
    2, 1, 0, 0, 0, 56, 58, 2, 48, 57, 0, 57, 56, 1, 0, 0, 0, 58, 59, 1, 0,
    0, 0, 59, 57, 1, 0, 0, 0, 59, 60, 1, 0, 0, 0, 60, 67, 1, 0, 0, 0, 61,
    63, 5, 46, 0, 0, 62, 64, 2, 48, 57, 0, 63, 62, 1, 0, 0, 0, 64, 65, 1, 0,
    0, 0, 65, 63, 1, 0, 0, 0, 65, 66, 1, 0, 0, 0, 66, 68, 1, 0, 0, 0, 67,
    61, 1, 0, 0, 0, 67, 68, 1, 0, 0, 0, 68, 4, 1, 0, 0, 0, 69, 71, 2, 48,
    57, 0, 70, 69, 1, 0, 0, 0, 71, 72, 1, 0, 0, 0, 72, 70, 1, 0, 0, 0, 72,
    73, 1, 0, 0, 0, 73, 6, 1, 0, 0, 0, 74, 75, 7, 0, 0, 0, 75, 8, 1, 0, 0,
    0, 76, 77, 7, 1, 0, 0, 77, 10, 1, 0, 0, 0, 78, 79, 7, 2, 0, 0, 79, 12,
    1, 0, 0, 0, 80, 81, 7, 3, 0, 0, 81, 14, 1, 0, 0, 0, 82, 83, 7, 4, 0, 0,
    83, 16, 1, 0, 0, 0, 84, 85, 5, 40, 0, 0, 85, 18, 1, 0, 0, 0, 86, 87, 5,
    41, 0, 0, 87, 20, 1, 0, 0, 0, 88, 89, 5, 43, 0, 0, 89, 22, 1, 0, 0, 0,
    90, 91, 5, 45, 0, 0, 91, 24, 1, 0, 0, 0, 92, 93, 7, 5, 0, 0, 93, 26, 1,
    0, 0, 0, 94, 95, 5, 47, 0, 0, 95, 28, 1, 0, 0, 0, 96, 97, 5, 62, 0, 0,
    97, 30, 1, 0, 0, 0, 98, 99, 5, 60, 0, 0, 99, 32, 1, 0, 0, 0, 100, 101,
    5, 61, 0, 0, 101, 34, 1, 0, 0, 0, 102, 103, 5, 46, 0, 0, 103, 36, 1, 0,
    0, 0, 104, 105, 5, 94, 0, 0, 105, 38, 1, 0, 0, 0, 106, 107, 7, 6, 0, 0,
    107, 108, 7, 7, 0, 0, 108, 109, 7, 8, 0, 0, 109, 40, 1, 0, 0, 0, 110,
    111, 3, 9, 4, 0, 111, 112, 3, 11, 5, 0, 112, 113, 3, 13, 6, 0, 113, 42,
    1, 0, 0, 0, 114, 115, 7, 9, 0, 0, 115, 44, 1, 0, 0, 0, 116, 118, 7, 10,
    0, 0, 117, 116, 1, 0, 0, 0, 118, 119, 1, 0, 0, 0, 119, 117, 1, 0, 0, 0,
    119, 120, 1, 0, 0, 0, 120, 121, 1, 0, 0, 0, 121, 122, 6, 22, 0, 0, 122,
    46, 1, 0, 0, 0, 8, 0, 50, 54, 59, 65, 67, 72, 119, 1, 6, 0, 0
];
arithmeticLexer.DecisionsToDFA = arithmeticLexer._ATN.decisionToState.map((ds, index) => new antlr4_1.DFA(ds, index));
exports["default"] = arithmeticLexer;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticParser.ts":
/*!***************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticParser.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
// noinspection ES6UnusedImports,JSUnusedGlobalSymbols,JSUnusedLocalSymbols
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RelopContext = exports.AtomContext = exports.SumContext = exports.Right_ClosedIsOpenContext = exports.OpenContext = exports.Right_ClosedImplicitProductContext = exports.ClosedIsRight_ClosedContext = exports.UnaryOnExpressionContext = exports.Right_closedContext = exports.ParenContext = exports.PowerContext = exports.ClosedAtomContext = exports.DivisionContext = exports.ProductContext = exports.IntegralContext = exports.LogContext = exports.ClosedContext = exports.ExpressionContext = exports.EquationContext = void 0;
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
class arithmeticParser extends antlr4_1.Parser {
    get grammarFileName() {
        return "arithmetic.g4";
    }
    get literalNames() {
        return arithmeticParser.literalNames;
    }
    get symbolicNames() {
        return arithmeticParser.symbolicNames;
    }
    get ruleNames() {
        return arithmeticParser.ruleNames;
    }
    get serializedATN() {
        return arithmeticParser._serializedATN;
    }
    createFailedPredicateException(predicate, message) {
        return new antlr4_1.FailedPredicateException(this, predicate, message);
    }
    constructor(input) {
        super(input);
        this._interp = new antlr4_1.ParserATNSimulator(this, arithmeticParser._ATN, arithmeticParser.DecisionsToDFA, new antlr4_1.PredictionContextCache());
    }
    // @RuleVersion(0)
    equation() {
        let localctx = new EquationContext(this, this._ctx, this.state);
        this.enterRule(localctx, 0, arithmeticParser.RULE_equation);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 14;
                this.expression();
                this.state = 15;
                this.relop();
                this.state = 16;
                this.expression();
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    expression() {
        let localctx = new ExpressionContext(this, this._ctx, this.state);
        this.enterRule(localctx, 2, arithmeticParser.RULE_expression);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 18;
                this.open(0);
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    closed(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new ClosedContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 4;
        this.enterRecursionRule(localctx, 4, arithmeticParser.RULE_closed, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 33;
                this._errHandler.sync(this);
                switch (this._input.LA(1)) {
                    case 2:
                        {
                            localctx = new ParenContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 21;
                            this.match(arithmeticParser.LPAREN);
                            this.state = 22;
                            this.open(0);
                            this.state = 23;
                            this.match(arithmeticParser.RPAREN);
                        }
                        break;
                    case 1:
                    case 15:
                        {
                            localctx = new ClosedAtomContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 25;
                            this.atom();
                        }
                        break;
                    case 13:
                        {
                            localctx = new IntegralContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 26;
                            this.match(arithmeticParser.INT);
                            this.state = 27;
                            localctx._integrand =
                                this.closed(5);
                        }
                        break;
                    case 14:
                        {
                            localctx = new LogContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 28;
                            this.match(arithmeticParser.LOG);
                            this.state = 30;
                            this._errHandler.sync(this);
                            switch (this._interp.adaptivePredict(this._input, 0, this._ctx)) {
                                case 1:
                                    {
                                        this.state = 29;
                                        localctx._base =
                                            this.closed(0);
                                    }
                                    break;
                            }
                            this.state = 32;
                            localctx._content = this.closed(1);
                        }
                        break;
                    default:
                        throw new antlr4_1.NoViableAltException(this);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 48;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 4, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            this.state = 46;
                            this._errHandler.sync(this);
                            switch (this._interp.adaptivePredict(this._input, 3, this._ctx)) {
                                case 1:
                                    {
                                        localctx = new DivisionContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left =
                                            _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 35;
                                        if (!this.precpred(this._ctx, 4)) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 4)");
                                        }
                                        this.state = 36;
                                        this.match(arithmeticParser.DIV);
                                        this.state = 37;
                                        localctx._right =
                                            this.closed(5);
                                    }
                                    break;
                                case 2:
                                    {
                                        localctx = new PowerContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left =
                                            _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 38;
                                        if (!this.precpred(this._ctx, 3)) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 3)");
                                        }
                                        this.state = 39;
                                        this.match(arithmeticParser.POW);
                                        this.state = 40;
                                        localctx._right =
                                            this.closed(4);
                                    }
                                    break;
                                case 3:
                                    {
                                        localctx = new ProductContext(this, new ClosedContext(this, _parentctx, _parentState));
                                        localctx._left =
                                            _prevctx;
                                        this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_closed);
                                        this.state = 41;
                                        if (!this.precpred(this._ctx, 2)) {
                                            throw this.createFailedPredicateException("this.precpred(this._ctx, 2)");
                                        }
                                        this.state = 43;
                                        this._errHandler.sync(this);
                                        _la = this._input.LA(1);
                                        if (_la === 6) {
                                            {
                                                this.state = 42;
                                                this.match(arithmeticParser.TIMES);
                                            }
                                        }
                                        this.state = 45;
                                        localctx._right =
                                            this.closed(3);
                                    }
                                    break;
                            }
                        }
                    }
                    this.state = 50;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 4, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    right_closed(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new Right_closedContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 6;
        this.enterRecursionRule(localctx, 6, arithmeticParser.RULE_right_closed, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 55;
                this._errHandler.sync(this);
                switch (this._input.LA(1)) {
                    case 1:
                    case 2:
                    case 13:
                    case 14:
                    case 15:
                        {
                            localctx = new ClosedIsRight_ClosedContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 52;
                            this.closed(0);
                        }
                        break;
                    case 4:
                    case 5:
                        {
                            localctx = new UnaryOnExpressionContext(this, localctx);
                            this._ctx = localctx;
                            _prevctx = localctx;
                            this.state = 53;
                            _la = this._input.LA(1);
                            if (!(_la === 4 || _la === 5)) {
                                this._errHandler.recoverInline(this);
                            }
                            else {
                                this._errHandler.reportMatch(this);
                                this.consume();
                            }
                            this.state = 54;
                            this.closed(0);
                        }
                        break;
                    default:
                        throw new antlr4_1.NoViableAltException(this);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 61;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 6, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            {
                                localctx =
                                    new Right_ClosedImplicitProductContext(this, new Right_closedContext(this, _parentctx, _parentState));
                                localctx._left = _prevctx;
                                this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_right_closed);
                                this.state = 57;
                                if (!this.precpred(this._ctx, 1)) {
                                    throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");
                                }
                                this.state = 58;
                                localctx._right = this.closed(0);
                            }
                        }
                    }
                    this.state = 63;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 6, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    open(_p) {
        if (_p === undefined) {
            _p = 0;
        }
        let _parentctx = this._ctx;
        let _parentState = this.state;
        let localctx = new OpenContext(this, this._ctx, _parentState);
        let _prevctx = localctx;
        let _startState = 8;
        this.enterRecursionRule(localctx, 8, arithmeticParser.RULE_open, _p);
        let _la;
        try {
            let _alt;
            this.enterOuterAlt(localctx, 1);
            {
                {
                    localctx = new Right_ClosedIsOpenContext(this, localctx);
                    this._ctx = localctx;
                    _prevctx = localctx;
                    this.state = 65;
                    this.right_closed(0);
                }
                this._ctx.stop = this._input.LT(-1);
                this.state = 72;
                this._errHandler.sync(this);
                _alt = this._interp.adaptivePredict(this._input, 7, this._ctx);
                while (_alt !== 2 && _alt !== antlr4_1.ATN.INVALID_ALT_NUMBER) {
                    if (_alt === 1) {
                        if (this._parseListeners != null) {
                            this.triggerExitRuleEvent();
                        }
                        _prevctx = localctx;
                        {
                            {
                                localctx = new SumContext(this, new OpenContext(this, _parentctx, _parentState));
                                localctx._left = _prevctx;
                                this.pushNewRecursionContext(localctx, _startState, arithmeticParser.RULE_open);
                                this.state = 67;
                                if (!this.precpred(this._ctx, 1)) {
                                    throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");
                                }
                                this.state = 68;
                                _la = this._input.LA(1);
                                if (!(_la === 4 || _la === 5)) {
                                    this._errHandler.recoverInline(this);
                                }
                                else {
                                    this._errHandler.reportMatch(this);
                                    this.consume();
                                }
                                this.state = 69;
                                localctx._right =
                                    this.right_closed(0);
                            }
                        }
                    }
                    this.state = 74;
                    this._errHandler.sync(this);
                    _alt = this._interp.adaptivePredict(this._input, 7, this._ctx);
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.unrollRecursionContexts(_parentctx);
        }
        return localctx;
    }
    // @RuleVersion(0)
    atom() {
        let localctx = new AtomContext(this, this._ctx, this.state);
        this.enterRule(localctx, 10, arithmeticParser.RULE_atom);
        let _la;
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 75;
                _la = this._input.LA(1);
                if (!(_la === 1 || _la === 15)) {
                    this._errHandler.recoverInline(this);
                }
                else {
                    this._errHandler.reportMatch(this);
                    this.consume();
                }
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    // @RuleVersion(0)
    relop() {
        let localctx = new RelopContext(this, this._ctx, this.state);
        this.enterRule(localctx, 12, arithmeticParser.RULE_relop);
        try {
            this.enterOuterAlt(localctx, 1);
            {
                this.state = 77;
                this.match(arithmeticParser.EQ);
            }
        }
        catch (re) {
            if (re instanceof antlr4_1.RecognitionException) {
                localctx.exception = re;
                this._errHandler.reportError(this, re);
                this._errHandler.recover(this, re);
            }
            else {
                throw re;
            }
        }
        finally {
            this.exitRule();
        }
        return localctx;
    }
    sempred(localctx, ruleIndex, predIndex) {
        switch (ruleIndex) {
            case 2:
                return this.closed_sempred(localctx, predIndex);
            case 3:
                return this.right_closed_sempred(localctx, predIndex);
            case 4:
                return this.open_sempred(localctx, predIndex);
        }
        return true;
    }
    closed_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 0:
                return this.precpred(this._ctx, 4);
            case 1:
                return this.precpred(this._ctx, 3);
            case 2:
                return this.precpred(this._ctx, 2);
        }
        return true;
    }
    right_closed_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 3:
                return this.precpred(this._ctx, 1);
        }
        return true;
    }
    open_sempred(localctx, predIndex) {
        switch (predIndex) {
            case 4:
                return this.precpred(this._ctx, 1);
        }
        return true;
    }
    static get _ATN() {
        if (!arithmeticParser.__ATN) {
            arithmeticParser.__ATN = new antlr4_1.ATNDeserializer().deserialize(arithmeticParser._serializedATN);
        }
        return arithmeticParser.__ATN;
    }
}
arithmeticParser.SCIENTIFIC_NUMBER = 1;
arithmeticParser.LPAREN = 2;
arithmeticParser.RPAREN = 3;
arithmeticParser.PLUS = 4;
arithmeticParser.MINUS = 5;
arithmeticParser.TIMES = 6;
arithmeticParser.DIV = 7;
arithmeticParser.GT = 8;
arithmeticParser.LT = 9;
arithmeticParser.EQ = 10;
arithmeticParser.POINT = 11;
arithmeticParser.POW = 12;
arithmeticParser.INT = 13;
arithmeticParser.LOG = 14;
arithmeticParser.VARIABLE = 15;
arithmeticParser.WS = 16;
arithmeticParser.EOF = antlr4_1.Token.EOF;
arithmeticParser.RULE_equation = 0;
arithmeticParser.RULE_expression = 1;
arithmeticParser.RULE_closed = 2;
arithmeticParser.RULE_right_closed = 3;
arithmeticParser.RULE_open = 4;
arithmeticParser.RULE_atom = 5;
arithmeticParser.RULE_relop = 6;
arithmeticParser.literalNames = [
    null,
    null,
    "'('",
    "')'",
    "'+'",
    "'-'",
    null,
    "'/'",
    "'>'",
    "'<'",
    "'='",
    "'.'",
    "'^'"
];
arithmeticParser.symbolicNames = [
    null,
    "SCIENTIFIC_NUMBER",
    "LPAREN",
    "RPAREN",
    "PLUS",
    "MINUS",
    "TIMES",
    "DIV",
    "GT",
    "LT",
    "EQ",
    "POINT",
    "POW",
    "INT",
    "LOG",
    "VARIABLE",
    "WS"
];
// tslint:disable:no-trailing-whitespace
arithmeticParser.ruleNames = [
    "equation",
    "expression",
    "closed",
    "right_closed",
    "open",
    "atom",
    "relop"
];
arithmeticParser._serializedATN = [
    4, 1, 16, 80, 2, 0, 7, 0, 2, 1, 7, 1, 2, 2, 7, 2, 2, 3, 7, 3, 2, 4, 7,
    4, 2, 5, 7, 5, 2, 6, 7, 6, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 2, 1,
    2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 3, 2, 31, 8, 2, 1, 2,
    3, 2, 34, 8, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 3, 2,
    44, 8, 2, 1, 2, 5, 2, 47, 8, 2, 10, 2, 12, 2, 50, 9, 2, 1, 3, 1, 3, 1,
    3, 1, 3, 3, 3, 56, 8, 3, 1, 3, 1, 3, 5, 3, 60, 8, 3, 10, 3, 12, 3, 63,
    9, 3, 1, 4, 1, 4, 1, 4, 1, 4, 1, 4, 1, 4, 5, 4, 71, 8, 4, 10, 4, 12, 4,
    74, 9, 4, 1, 5, 1, 5, 1, 6, 1, 6, 1, 6, 0, 3, 4, 6, 8, 7, 0, 2, 4, 6, 8,
    10, 12, 0, 2, 1, 0, 4, 5, 2, 0, 1, 1, 15, 15, 83, 0, 14, 1, 0, 0, 0, 2,
    18, 1, 0, 0, 0, 4, 33, 1, 0, 0, 0, 6, 55, 1, 0, 0, 0, 8, 64, 1, 0, 0, 0,
    10, 75, 1, 0, 0, 0, 12, 77, 1, 0, 0, 0, 14, 15, 3, 2, 1, 0, 15, 16, 3,
    12, 6, 0, 16, 17, 3, 2, 1, 0, 17, 1, 1, 0, 0, 0, 18, 19, 3, 8, 4, 0, 19,
    3, 1, 0, 0, 0, 20, 21, 6, 2, -1, 0, 21, 22, 5, 2, 0, 0, 22, 23, 3, 8, 4,
    0, 23, 24, 5, 3, 0, 0, 24, 34, 1, 0, 0, 0, 25, 34, 3, 10, 5, 0, 26, 27,
    5, 13, 0, 0, 27, 34, 3, 4, 2, 5, 28, 30, 5, 14, 0, 0, 29, 31, 3, 4, 2,
    0, 30, 29, 1, 0, 0, 0, 30, 31, 1, 0, 0, 0, 31, 32, 1, 0, 0, 0, 32, 34,
    3, 4, 2, 1, 33, 20, 1, 0, 0, 0, 33, 25, 1, 0, 0, 0, 33, 26, 1, 0, 0, 0,
    33, 28, 1, 0, 0, 0, 34, 48, 1, 0, 0, 0, 35, 36, 10, 4, 0, 0, 36, 37, 5,
    7, 0, 0, 37, 47, 3, 4, 2, 5, 38, 39, 10, 3, 0, 0, 39, 40, 5, 12, 0, 0,
    40, 47, 3, 4, 2, 4, 41, 43, 10, 2, 0, 0, 42, 44, 5, 6, 0, 0, 43, 42, 1,
    0, 0, 0, 43, 44, 1, 0, 0, 0, 44, 45, 1, 0, 0, 0, 45, 47, 3, 4, 2, 3, 46,
    35, 1, 0, 0, 0, 46, 38, 1, 0, 0, 0, 46, 41, 1, 0, 0, 0, 47, 50, 1, 0, 0,
    0, 48, 46, 1, 0, 0, 0, 48, 49, 1, 0, 0, 0, 49, 5, 1, 0, 0, 0, 50, 48, 1,
    0, 0, 0, 51, 52, 6, 3, -1, 0, 52, 56, 3, 4, 2, 0, 53, 54, 7, 0, 0, 0,
    54, 56, 3, 4, 2, 0, 55, 51, 1, 0, 0, 0, 55, 53, 1, 0, 0, 0, 56, 61, 1,
    0, 0, 0, 57, 58, 10, 1, 0, 0, 58, 60, 3, 4, 2, 0, 59, 57, 1, 0, 0, 0,
    60, 63, 1, 0, 0, 0, 61, 59, 1, 0, 0, 0, 61, 62, 1, 0, 0, 0, 62, 7, 1, 0,
    0, 0, 63, 61, 1, 0, 0, 0, 64, 65, 6, 4, -1, 0, 65, 66, 3, 6, 3, 0, 66,
    72, 1, 0, 0, 0, 67, 68, 10, 1, 0, 0, 68, 69, 7, 0, 0, 0, 69, 71, 3, 6,
    3, 0, 70, 67, 1, 0, 0, 0, 71, 74, 1, 0, 0, 0, 72, 70, 1, 0, 0, 0, 72,
    73, 1, 0, 0, 0, 73, 9, 1, 0, 0, 0, 74, 72, 1, 0, 0, 0, 75, 76, 7, 1, 0,
    0, 76, 11, 1, 0, 0, 0, 77, 78, 5, 10, 0, 0, 78, 13, 1, 0, 0, 0, 8, 30,
    33, 43, 46, 48, 55, 61, 72
];
arithmeticParser.DecisionsToDFA = arithmeticParser._ATN.decisionToState.map((ds, index) => new antlr4_1.DFA(ds, index));
exports["default"] = arithmeticParser;
class EquationContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    expression_list() {
        return this.getTypedRuleContexts(ExpressionContext);
    }
    expression(i) {
        return this.getTypedRuleContext(ExpressionContext, i);
    }
    relop() {
        return this.getTypedRuleContext(RelopContext, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_equation;
    }
    enterRule(listener) {
        if (listener.enterEquation) {
            listener.enterEquation(this);
        }
    }
    exitRule(listener) {
        if (listener.exitEquation) {
            listener.exitEquation(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitEquation) {
            return visitor.visitEquation(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.EquationContext = EquationContext;
class ExpressionContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_expression;
    }
    enterRule(listener) {
        if (listener.enterExpression) {
            listener.enterExpression(this);
        }
    }
    exitRule(listener) {
        if (listener.exitExpression) {
            listener.exitExpression(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitExpression) {
            return visitor.visitExpression(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ExpressionContext = ExpressionContext;
class ClosedContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_closed;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.ClosedContext = ClosedContext;
class LogContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    LOG() {
        return this.getToken(arithmeticParser.LOG, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterLog) {
            listener.enterLog(this);
        }
    }
    exitRule(listener) {
        if (listener.exitLog) {
            listener.exitLog(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitLog) {
            return visitor.visitLog(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.LogContext = LogContext;
class IntegralContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    INT() {
        return this.getToken(arithmeticParser.INT, 0);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterIntegral) {
            listener.enterIntegral(this);
        }
    }
    exitRule(listener) {
        if (listener.exitIntegral) {
            listener.exitIntegral(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitIntegral) {
            return visitor.visitIntegral(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.IntegralContext = IntegralContext;
class ProductContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    TIMES() {
        return this.getToken(arithmeticParser.TIMES, 0);
    }
    enterRule(listener) {
        if (listener.enterProduct) {
            listener.enterProduct(this);
        }
    }
    exitRule(listener) {
        if (listener.exitProduct) {
            listener.exitProduct(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitProduct) {
            return visitor.visitProduct(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ProductContext = ProductContext;
class DivisionContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    DIV() {
        return this.getToken(arithmeticParser.DIV, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterDivision) {
            listener.enterDivision(this);
        }
    }
    exitRule(listener) {
        if (listener.exitDivision) {
            listener.exitDivision(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitDivision) {
            return visitor.visitDivision(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.DivisionContext = DivisionContext;
class ClosedAtomContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    atom() {
        return this.getTypedRuleContext(AtomContext, 0);
    }
    enterRule(listener) {
        if (listener.enterClosedAtom) {
            listener.enterClosedAtom(this);
        }
    }
    exitRule(listener) {
        if (listener.exitClosedAtom) {
            listener.exitClosedAtom(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitClosedAtom) {
            return visitor.visitClosedAtom(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ClosedAtomContext = ClosedAtomContext;
class PowerContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    POW() {
        return this.getToken(arithmeticParser.POW, 0);
    }
    closed_list() {
        return this.getTypedRuleContexts(ClosedContext);
    }
    closed(i) {
        return this.getTypedRuleContext(ClosedContext, i);
    }
    enterRule(listener) {
        if (listener.enterPower) {
            listener.enterPower(this);
        }
    }
    exitRule(listener) {
        if (listener.exitPower) {
            listener.exitPower(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitPower) {
            return visitor.visitPower(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.PowerContext = PowerContext;
class ParenContext extends ClosedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    LPAREN() {
        return this.getToken(arithmeticParser.LPAREN, 0);
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    RPAREN() {
        return this.getToken(arithmeticParser.RPAREN, 0);
    }
    enterRule(listener) {
        if (listener.enterParen) {
            listener.enterParen(this);
        }
    }
    exitRule(listener) {
        if (listener.exitParen) {
            listener.exitParen(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitParen) {
            return visitor.visitParen(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ParenContext = ParenContext;
class Right_closedContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_right_closed;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.Right_closedContext = Right_closedContext;
class UnaryOnExpressionContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    PLUS() {
        return this.getToken(arithmeticParser.PLUS, 0);
    }
    MINUS() {
        return this.getToken(arithmeticParser.MINUS, 0);
    }
    enterRule(listener) {
        if (listener.enterUnaryOnExpression) {
            listener.enterUnaryOnExpression(this);
        }
    }
    exitRule(listener) {
        if (listener.exitUnaryOnExpression) {
            listener.exitUnaryOnExpression(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitUnaryOnExpression) {
            return visitor.visitUnaryOnExpression(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.UnaryOnExpressionContext = UnaryOnExpressionContext;
class ClosedIsRight_ClosedContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterClosedIsRight_Closed) {
            listener.enterClosedIsRight_Closed(this);
        }
    }
    exitRule(listener) {
        if (listener.exitClosedIsRight_Closed) {
            listener.exitClosedIsRight_Closed(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitClosedIsRight_Closed) {
            return visitor.visitClosedIsRight_Closed(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.ClosedIsRight_ClosedContext = ClosedIsRight_ClosedContext;
class Right_ClosedImplicitProductContext extends Right_closedContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    closed() {
        return this.getTypedRuleContext(ClosedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterRight_ClosedImplicitProduct) {
            listener.enterRight_ClosedImplicitProduct(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRight_ClosedImplicitProduct) {
            listener.exitRight_ClosedImplicitProduct(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRight_ClosedImplicitProduct) {
            return visitor.visitRight_ClosedImplicitProduct(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.Right_ClosedImplicitProductContext = Right_ClosedImplicitProductContext;
class OpenContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    get ruleIndex() {
        return arithmeticParser.RULE_open;
    }
    copyFrom(ctx) {
        super.copyFrom(ctx);
    }
}
exports.OpenContext = OpenContext;
class Right_ClosedIsOpenContext extends OpenContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterRight_ClosedIsOpen) {
            listener.enterRight_ClosedIsOpen(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRight_ClosedIsOpen) {
            listener.exitRight_ClosedIsOpen(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRight_ClosedIsOpen) {
            return visitor.visitRight_ClosedIsOpen(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.Right_ClosedIsOpenContext = Right_ClosedIsOpenContext;
class SumContext extends OpenContext {
    constructor(parser, ctx) {
        super(parser, ctx.parentCtx, ctx.invokingState);
        super.copyFrom(ctx);
    }
    open() {
        return this.getTypedRuleContext(OpenContext, 0);
    }
    PLUS() {
        return this.getToken(arithmeticParser.PLUS, 0);
    }
    MINUS() {
        return this.getToken(arithmeticParser.MINUS, 0);
    }
    right_closed() {
        return this.getTypedRuleContext(Right_closedContext, 0);
    }
    enterRule(listener) {
        if (listener.enterSum) {
            listener.enterSum(this);
        }
    }
    exitRule(listener) {
        if (listener.exitSum) {
            listener.exitSum(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitSum) {
            return visitor.visitSum(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.SumContext = SumContext;
class AtomContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    SCIENTIFIC_NUMBER() {
        return this.getToken(arithmeticParser.SCIENTIFIC_NUMBER, 0);
    }
    VARIABLE() {
        return this.getToken(arithmeticParser.VARIABLE, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_atom;
    }
    enterRule(listener) {
        if (listener.enterAtom) {
            listener.enterAtom(this);
        }
    }
    exitRule(listener) {
        if (listener.exitAtom) {
            listener.exitAtom(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitAtom) {
            return visitor.visitAtom(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.AtomContext = AtomContext;
class RelopContext extends antlr4_1.ParserRuleContext {
    constructor(parser, parent, invokingState) {
        super(parent, invokingState);
        this.parser = parser;
    }
    EQ() {
        return this.getToken(arithmeticParser.EQ, 0);
    }
    get ruleIndex() {
        return arithmeticParser.RULE_relop;
    }
    enterRule(listener) {
        if (listener.enterRelop) {
            listener.enterRelop(this);
        }
    }
    exitRule(listener) {
        if (listener.exitRelop) {
            listener.exitRelop(this);
        }
    }
    // @Override
    accept(visitor) {
        if (visitor.visitRelop) {
            return visitor.visitRelop(this);
        }
        else {
            return visitor.visitChildren(this);
        }
    }
}
exports.RelopContext = RelopContext;


/***/ }),

/***/ "./src/mathlib/userinput/arithmeticVisitor.ts":
/*!****************************************************!*\
  !*** ./src/mathlib/userinput/arithmeticVisitor.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

// Generated from ./src/mathlib/userinput/arithmetic.g4 by ANTLR 4.13.0
Object.defineProperty(exports, "__esModule", ({ value: true }));
const antlr4_1 = __webpack_require__(/*! antlr4 */ "./node_modules/antlr4/dist/antlr4.web.cjs");
/**
 * This interface defines a complete generic visitor for a parse tree produced
 * by `arithmeticParser`.
 *
 * @param <Result> The return type of the visit operation. Use `void` for
 * operations with no return type.
 */
class arithmeticVisitor extends antlr4_1.ParseTreeVisitor {
}
exports["default"] = arithmeticVisitor;


/***/ }),

/***/ "./src/mathlib/util/MathMLHelpers.ts":
/*!*******************************************!*\
  !*** ./src/mathlib/util/MathMLHelpers.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.inMathBlock = exports.inMath = exports.inRow = exports.inParen = void 0;
/**
 * Wraps the given mathml string in mathml parenthases.
 * @param str
 */
function inParen(str) {
    return "<mo>(</mo>" + str + "<mo>)</mo>";
}
exports.inParen = inParen;
/**
 * Puts the given mathml expression in a row so that
 * it doesn't get divided by mathjax.
 * @param str
 * @returns
 */
function inRow(str) {
    return "<mrow>" + str + "</mrow>";
}
exports.inRow = inRow;
/**
 * Wraps the given string in <math></math>
 * @param str
 */
function inMath(str) {
    return "<math>" + str + "</math>";
}
exports.inMath = inMath;
/**
 * Wraps the given string in <math display='block'></math>
 * @param str
 */
function inMathBlock(str) {
    return "<math display='block'>" + str + "</math>";
}
exports.inMathBlock = inMathBlock;


/***/ }),

/***/ "./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts":
/*!***********************************************************!*\
  !*** ./src/mathlib/util/ThingsThatShouldBeInTheStdLib.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.has = exports.addAll = exports.setOf = void 0;
function setOf(...arr) {
    const out = new Set();
    arr.forEach(e => out.add(e));
    return out;
}
exports.setOf = setOf;
/**
 * Adds the given elements to the given collection
 * @param collection
 * @param elements
 */
function addAll(collection, ...elements) {
    for (const e of elements) {
        collection.add(e);
    }
}
exports.addAll = addAll;
/**
 * Checks if the given element is in the given collection
 * using referencial equality.
 * @param collection
 * @param element
 * @returns True if the collection has the element, false otherwise.
 */
function has(collection, element) {
    for (const e of collection) {
        if (e === element)
            return true;
    }
    return false;
}
exports.has = has;


/***/ }),

/***/ "./src/mathlib/util/assert.ts":
/*!************************************!*\
  !*** ./src/mathlib/util/assert.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.for_some = exports.for_all = exports.assert = void 0;
/**
 * Checks if the given expression evaluated to true. If not, throws error
 * with the message given.
 * @param msg Displayed if the expression is false. Defaults to "Failed Assert"
 */
function assert(exp, msg = "Failed assert") {
    if (!exp)
        throw new Error(msg);
}
exports.assert = assert;
function for_all(iterable, exp) {
    for (const i of iterable) {
        if (!exp(i))
            return false;
    }
    return true;
}
exports.for_all = for_all;
function for_some(iterable, exp) {
    for (const i of iterable) {
        if (exp(i))
            return true;
    }
    return false;
}
exports.for_some = for_some;


/***/ }),

/***/ "./node_modules/antlr4/dist/antlr4.web.cjs":
/*!*************************************************!*\
  !*** ./node_modules/antlr4/dist/antlr4.web.cjs ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

(()=>{var t={92:()=>{}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}n.r(r),n.d(r,{ATN:()=>Fe,ATNDeserializer:()=>Ho,BailErrorStrategy:()=>ta,CharStream:()=>aa,CharStreams:()=>va,CommonToken:()=>yi,CommonTokenStream:()=>Ra,DFA:()=>cc,DiagnosticErrorListener:()=>Ic,ErrorListener:()=>Go,FailedPredicateException:()=>jc,InputStream:()=>aa,Interval:()=>B,IntervalSet:()=>V,LL1Analyzer:()=>Ie,Lexer:()=>Ui,LexerATNSimulator:()=>Eu,NoViableAltException:()=>Bu,ParseTreeListener:()=>yc,ParseTreeVisitor:()=>vc,ParseTreeWalker:()=>gc,Parser:()=>Ua,ParserATNSimulator:()=>Yu,ParserRuleContext:()=>el,PredictionContextCache:()=>Xu,PredictionMode:()=>Iu,RecognitionException:()=>xi,RuleContext:()=>ee,RuleNode:()=>Ut,TerminalNode:()=>Ht,Token:()=>o,arrayToString:()=>b,default:()=>Ol});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}var n,r;return n=t,(r=[{key:"getTokenSource",value:function(){return this.source[0]}},{key:"getInputStream",value:function(){return this.source[1]}},{key:"text",get:function(){return this._text},set:function(t){this._text=t}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function i(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}o.INVALID_TYPE=0,o.EPSILON=-2,o.MIN_USER_TOKEN_TYPE=1,o.EOF=-1,o.DEFAULT_CHANNEL=0,o.HIDDEN_CHANNEL=1;var c=Math.round(Math.random()*Math.pow(2,32));function a(t){if(!t)return 0;var e,n,r=u(t),o="string"===r?t:!("object"!==r||!t.toString)&&t.toString();if(!o)return 0;for(var i=3&o.length,a=o.length-i,l=c,s=3432918353,f=461845907,p=0;p<a;)n=255&o.charCodeAt(p)|(255&o.charCodeAt(++p))<<8|(255&o.charCodeAt(++p))<<16|(255&o.charCodeAt(++p))<<24,++p,l=27492+(65535&(e=5*(65535&(l=(l^=n=(65535&(n=(n=(65535&n)*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295)<<13|l>>>19))+((5*(l>>>16)&65535)<<16)&4294967295))+((58964+(e>>>16)&65535)<<16);switch(n=0,i){case 3:n^=(255&o.charCodeAt(p+2))<<16;case 2:n^=(255&o.charCodeAt(p+1))<<8;case 1:l^=n=(65535&(n=(n=(65535&(n^=255&o.charCodeAt(p)))*s+(((n>>>16)*s&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295}return l^=o.length,l=2246822507*(65535&(l^=l>>>16))+((2246822507*(l>>>16)&65535)<<16)&4294967295,l=3266489909*(65535&(l^=l>>>13))+((3266489909*(l>>>16)&65535)<<16)&4294967295,(l^=l>>>16)>>>0}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count=0,this.hash=0}var e,n,r;return e=t,n=[{key:"update",value:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{var n=0;switch(l(e)){case"undefined":case"function":continue;case"number":case"boolean":n=e;break;case"string":n=a(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}n=(n*=3432918353)<<15|n>>>17,n*=461845907,this.count=this.count+1;var r=this.hash^n;r=5*(r=r<<13|r>>>19)+3864292196,this.hash=r}}}},{key:"finish",value:function(){var t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,(t*=3266489909)^t>>>16}}],r=[{key:"hashStuff",value:function(){var e=new t;return e.update.apply(e,arguments),e.finish()}}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return t?"string"==typeof t?a(t):t.hashCode():-1}function y(t,e){return t?t.equals(e):t===e}function h(t){return null===t?"null":t}function b(t){return Array.isArray(t)?"["+t.map(h).join(", ")+"]":"null"}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}var m="h-",g=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||y}var e,n;return e=t,n=[{key:"add",value:function(t){var e=m+this.hashFunction(t);if(e in this.data){for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return n.push(t),t}return this.data[e]=[t],t}},{key:"has",value:function(t){return null!=this.get(t)}},{key:"get",value:function(t){var e=m+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return null}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(m)})).flatMap((function(e){return t.data[e]}),this)}},{key:"toString",value:function(){return b(this.values())}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(m)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===P(o)?o:String(o)),r)}var o}function k(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var j=function(){function t(){T(this,t)}return k(t,[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"evaluate",value:function(t,e){}},{key:"evalPrecedence",value:function(t,e){return this}}],[{key:"andContext",value:function(e,n){if(null===e||e===t.NONE)return n;if(null===n||n===t.NONE)return e;var r=new x(e,n);return 1===r.opnds.length?r.opnds[0]:r}},{key:"orContext",value:function(e,n){if(null===e)return n;if(null===n)return e;if(e===t.NONE||n===t.NONE)return t.NONE;var r=new R(e,n);return 1===r.opnds.length?r.opnds[0]:r}}]),t}(),x=function(t){S(n,t);var e=w(n);function n(t,r){var o;T(this,n),o=e.call(this);var i=new g;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var u=C(i);if(u.length>0){var c=null;u.map((function(t){(null===c||t.precedence<c.precedence)&&(c=t)})),i.add(c)}return o.opnds=Array.from(i.values()),o}return k(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"AND")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],u=i.evalPrecedence(t,e);if(n|=u!==i,null===u)return null;u!==j.NONE&&r.push(u)}if(!n)return this;if(0===r.length)return j.NONE;var c=null;return r.map((function(t){c=null===c?t:j.andContext(c,t)})),c}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("&&")}}]),n}(j),R=function(t){S(n,t);var e=w(n);function n(t,r){var o;T(this,n),o=e.call(this);var i=new g;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var u=C(i);if(u.length>0){var c=u.sort((function(t,e){return t.compareTo(e)})),a=c[c.length-1];i.add(a)}return o.opnds=Array.from(i.values()),o}return k(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"OR")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],u=i.evalPrecedence(t,e);if(n|=u!==i,u===j.NONE)return j.NONE;null!==u&&r.push(u)}if(!n)return this;if(0===r.length)return null;return r.map((function(t){return t})),null}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("||")}}]),n}(j);function C(t){var e=[];return t.values().map((function(t){t instanceof j.PrecedencePredicate&&e.push(t)})),e}function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}function I(t,e){if(null===t){var n={state:null,alt:null,context:null,semanticContext:null};return e&&(n.reachesIntoOuterContext=0),n}var r={};return r.state=t.state||null,r.alt=void 0===t.alt?null:t.alt,r.context=t.context||null,r.semanticContext=t.semanticContext||null,e&&(r.reachesIntoOuterContext=t.reachesIntoOuterContext||0,r.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),r}var L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.checkContext(e,n),e=I(e),n=I(n,!0),this.state=null!==e.state?e.state:n.state,this.alt=null!==e.alt?e.alt:n.alt,this.context=null!==e.context?e.context:n.context,this.semanticContext=null!==e.semanticContext?e.semanticContext:null!==n.semanticContext?n.semanticContext:j.NONE,this.reachesIntoOuterContext=n.reachesIntoOuterContext,this.precedenceFilterSuppressed=n.precedenceFilterSuppressed}var e,n;return e=t,(n=[{key:"checkContext",value:function(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}},{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&(null===this.context?null===e.context:this.context.equals(e.context))&&this.semanticContext.equals(e.semanticContext)&&this.precedenceFilterSuppressed===e.precedenceFilterSuppressed}},{key:"hashCodeForConfigSet",value:function(){var t=new f;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}},{key:"equalsForConfigSet",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.semanticContext.equals(e.semanticContext)}},{key:"toString",value:function(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==j.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}var B=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=e,this.stop=n}var e,n;return e=t,(n=[{key:"clone",value:function(){return new t(this.start,this.stop)}},{key:"contains",value:function(t){return t>=this.start&&t<this.stop}},{key:"toString",value:function(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}},{key:"length",get:function(){return this.stop-this.start}}])&&F(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==M(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===M(o)?o:String(o)),r)}var o}B.INVALID_INTERVAL=new B(-1,-2);var V=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intervals=null,this.readOnly=!1}var e,n;return e=t,n=[{key:"first",value:function(t){return null===this.intervals||0===this.intervals.length?o.INVALID_TYPE:this.intervals[0].start}},{key:"addOne",value:function(t){this.addInterval(new B(t,t+1))}},{key:"addRange",value:function(t,e){this.addInterval(new B(t,e+1))}},{key:"addInterval",value:function(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new B(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new B(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}},{key:"addSet",value:function(t){var e=this;return null!==t.intervals&&t.intervals.forEach((function(t){return e.addInterval(t)}),this),this}},{key:"reduce",value:function(t){if(t<this.intervals.length-1){var e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new B(e.start,n.stop),this.intervals.splice(t+1,1))}}},{key:"complement",value:function(e,n){var r=new t;return r.addInterval(new B(e,n+1)),null!==this.intervals&&this.intervals.forEach((function(t){return r.removeRange(t)})),r}},{key:"contains",value:function(t){if(null===this.intervals)return!1;for(var e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}},{key:"removeRange",value:function(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals)for(var e=0,n=0;n<this.intervals.length;n++){var r=this.intervals[e];if(t.stop<=r.start)return;if(t.start>r.start&&t.stop<r.stop){this.intervals[e]=new B(r.start,t.start);var o=new B(t.stop,r.stop);return void this.intervals.splice(e,0,o)}t.start<=r.start&&t.stop>=r.stop?(this.intervals.splice(e,1),e-=1):t.start<r.stop?this.intervals[e]=new B(r.start,t.start):t.stop<r.stop&&(this.intervals[e]=new B(t.stop,r.stop)),e+=1}}},{key:"removeOne",value:function(t){if(null!==this.intervals)for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new B(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new B(n.start,n.stop-1));if(t<n.stop-1){var r=new B(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}},{key:"toString",value:function(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}},{key:"toCharString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var n=this.intervals[e];n.stop===n.start+1?n.start===o.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toIndexString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var n=this.intervals[e];n.stop===n.start+1?n.start===o.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toTokenString",value:function(t,e){for(var n=[],r=0;r<this.intervals.length;r++)for(var o=this.intervals[r],i=o.start;i<o.stop;i++)n.push(this.elementName(t,e,i));return n.length>1?"{"+n.join(", ")+"}":n[0]}},{key:"elementName",value:function(t,e,n){return n===o.EOF?"<EOF>":n===o.EPSILON?"<EPSILON>":t[n]||e[n]}},{key:"length",get:function(){return this.intervals.map((function(t){return t.length})).reduce((function(t,e){return t+e}))}}],n&&U(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===z(o)?o:String(o)),r)}var o}var H=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=null,this.stateNumber=t.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}var e,n;return e=t,(n=[{key:"toString",value:function(){return this.stateNumber}},{key:"equals",value:function(e){return e instanceof t&&this.stateNumber===e.stateNumber}},{key:"isNonGreedyExitState",value:function(){return!1}},{key:"addTransition",value:function(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}])&&q(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function Y(t,e){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Y(t,e)}function G(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return W(t)}function W(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}H.INVALID_TYPE=0,H.BASIC=1,H.RULE_START=2,H.BLOCK_START=3,H.PLUS_BLOCK_START=4,H.STAR_BLOCK_START=5,H.TOKEN_START=6,H.RULE_STOP=7,H.BLOCK_END=8,H.STAR_LOOP_BACK=9,H.STAR_LOOP_ENTRY=10,H.PLUS_LOOP_BACK=11,H.LOOP_END=12,H.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],H.INVALID_STATE_NUMBER=-1;var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(n);if(r){var o=X(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return G(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.RULE_STOP,G(t,W(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===J(o)?o:String(o)),r)}var o}function Z(t,e,n){return e&&Q(t.prototype,e),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var tt=Z((function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e)throw"target cannot be null.";this.target=e,this.isEpsilon=!1,this.label=null}));function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===et(o)?o:String(o)),r)}var o}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}tt.EPSILON=1,tt.RANGE=2,tt.RULE=3,tt.PREDICATE=4,tt.ATOM=5,tt.ACTION=6,tt.SET=7,tt.NOT_SET=8,tt.WILDCARD=9,tt.PRECEDENCE=10,tt.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],tt.serializationTypes={EpsilonTransition:tt.EPSILON,RangeTransition:tt.RANGE,RuleTransition:tt.RULE,PredicateTransition:tt.PREDICATE,AtomTransition:tt.ATOM,ActionTransition:tt.ACTION,SetTransition:tt.SET,NotSetTransition:tt.NOT_SET,WildcardTransition:tt.WILDCARD,PrecedencePredicateTransition:tt.PRECEDENCE};var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(r);if(o){var n=ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).ruleIndex=e,o.precedence=n,o.followState=r,o.serializationType=tt.RULE,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}}])&&nt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ut(o)?o:String(o)),r)}var o}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=lt(r);if(i){var n=lt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t)).serializationType=tt.SET,null!=e?n.label=e:(n.label=new V,n.label.addOne(o.INVALID_TYPE)),n}return e=c,(n=[{key:"matches",value:function(t,e,n){return this.label.contains(t)}},{key:"toString",value:function(){return this.label.toString()}}])&&ct(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(tt);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ft(o)?o:String(o)),r)}var o}function yt(){return yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},yt.apply(this,arguments)}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ht(t,e)}function bt(t){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bt(t)}var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bt(r);if(o){var n=bt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).serializationType=tt.NOT_SET,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n&&!yt(bt(u.prototype),"matches",this).call(this,t,e,n)}},{key:"toString",value:function(){return"~"+yt(bt(u.prototype),"toString",this).call(this)}}])&&pt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(st);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dt(o)?o:String(o)),r)}var o}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(r);if(o){var n=St(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t)).serializationType=tt.WILDCARD,e}return e=u,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n}},{key:"toString",value:function(){return"."}}])&&mt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pt(n);if(r){var o=Pt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(tt);function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Et(o)?o:String(o)),r)}var o}function jt(t,e,n){return e&&kt(t.prototype,e),n&&kt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Nt(t,e){return Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nt(t,e)}function It(t){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},It(t)}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=It(n);if(r){var o=It(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ct(n);if(r){var o=Ct(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(jt((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}))));function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Dt(o)?o:String(o)),r)}var o}function Bt(t,e){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bt(t,e)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mt(r);if(o){var n=Mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.apply(this,arguments)}return e=u,(n=[{key:"ruleContext",get:function(){throw new Error("missing interface implementation")}}])&&Ft(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Lt);function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function zt(t,e){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zt(t,e)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=qt(n);if(r){var o=qt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Lt);function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Yt(t,e){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yt(t,e)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(n);if(r){var o=Gt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ht),Xt={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);var r=Xt.getNodeText(t,e);r=function(t,e){return t=t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);var o=t.getChildCount();if(0===o)return r;var i="("+r+" ";o>0&&(r=Xt.toStringTree(t.getChild(0),e),i=i.concat(r));for(var u=1;u<o;u++)r=Xt.toStringTree(t.getChild(u),e),i=i.concat(" "+r);return i.concat(")")},getNodeText:function(t,e,n){if(e=e||null,null!==(n=n||null)&&(e=n.ruleNames),null!==e){if(t instanceof Ut){var r=t.ruleContext.getAltNumber();return 0!=r?e[t.ruleIndex]+":"+r:e[t.ruleIndex]}if(t instanceof Wt)return t.toString();if(t instanceof Ht&&null!==t.symbol)return t.symbol.text}var i=t.getPayload();return i instanceof o?i.text:t.getPayload().toString()},getChildren:function(t){for(var e=[],n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){var e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return Xt.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return Xt.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){var r=[];return Xt._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof Ht?t.symbol.type===e&&r.push(t):!n&&t instanceof Ut&&t.ruleIndex===e&&r.push(t);for(var o=0;o<t.getChildCount();o++)Xt._findAllNodes(t.getChild(o),e,n,r)},descendants:function(t){for(var e=[t],n=0;n<t.getChildCount();n++)e=e.concat(Xt.descendants(t.getChild(n)));return e}};const $t=Xt;function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jt(o)?o:String(o)),r)}var o}function Zt(t,e){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(r);if(o){var n=te(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this)).parentCtx=t||null,n.invokingState=e||-1,n}return e=u,(n=[{key:"depth",value:function(){for(var t=0,e=this;null!==e;)e=e.parentCtx,t+=1;return t}},{key:"isEmpty",value:function(){return-1===this.invokingState}},{key:"getSourceInterval",value:function(){return B.INVALID_INTERVAL}},{key:"ruleContext",get:function(){return this}},{key:"getPayload",value:function(){return this}},{key:"getText",value:function(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}},{key:"getAltNumber",value:function(){return 0}},{key:"setAltNumber",value:function(t){}},{key:"getChild",value:function(t){return null}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitChildren(this)}},{key:"toStringTree",value:function(t,e){return $t.toStringTree(this,t,e)}},{key:"toString",value:function(t,e){t=t||null,e=e||null;for(var n=this,r="[";null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{var o=n.ruleIndex;r+=o>=0&&o<t.length?t[o]:""+o}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+"]"}}])&&Qt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ut);function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ne(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ne(o)?o:String(o)),r)}var o}var oe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cachedHashCode=e}var e,n;return e=t,(n=[{key:"isEmpty",value:function(){return this===t.EMPTY}},{key:"hasEmptyPath",value:function(){return this.getReturnState(this.length-1)===t.EMPTY_RETURN_STATE}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}}])&&re(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ie(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ie(o)?o:String(o)),r)}var o}function ce(t,e){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ce(t,e)}function ae(t,e){if(e&&("object"===ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return le(t)}function le(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},se(t)}oe.EMPTY=null,oe.EMPTY_RETURN_STATE=2147483647,oe.globalNodeCount=1,oe.id=oe.globalNodeCount,oe.trace_atn_sim=!1;var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ce(t,e)}(c,t);var e,n,r,o,u=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=se(r);if(o){var n=se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ae(this,t)});function c(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var r=new f;r.update(t,e);var o=r.finish();return(n=u.call(this,o)).parents=t,n.returnStates=e,ae(n,le(n))}return e=c,n=[{key:"isEmpty",value:function(){return this.returnStates[0]===oe.EMPTY_RETURN_STATE}},{key:"getParent",value:function(t){return this.parents[t]}},{key:"getReturnState",value:function(t){return this.returnStates[t]}},{key:"equals",value:function(t){return this===t||t instanceof c&&this.hashCode()===t.hashCode()&&i(this.returnStates,t.returnStates)&&i(this.parents,t.parents)}},{key:"toString",value:function(){if(this.isEmpty())return"[]";for(var t="[",e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==oe.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}},{key:"length",get:function(){return this.returnStates.length}}],n&&ue(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(oe);function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===pe(o)?o:String(o)),r)}var o}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},he(t,e)}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}(c,t);var e,n,r,o,i,u=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=be(o);if(i){var n=be(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var r,o=new f;return null!==t?o.update(t,e):o.update(1),r=o.finish(),(n=u.call(this,r)).parentCtx=t,n.returnState=e,n}return e=c,r=[{key:"create",value:function(t,e){return e===oe.EMPTY_RETURN_STATE&&null===t?oe.EMPTY:new c(t,e)}}],(n=[{key:"getParent",value:function(t){return this.parentCtx}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t||t instanceof c&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}},{key:"toString",value:function(){var t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===oe.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}},{key:"length",get:function(){return 1}}])&&ye(e.prototype,n),r&&ye(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(oe);function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===de(o)?o:String(o)),r)}var o}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}var Oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Se(r);if(o){var n=Se(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,null,oe.EMPTY_RETURN_STATE)}return e=u,(n=[{key:"isEmpty",value:function(){return!0}},{key:"getParent",value:function(t){return null}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t}},{key:"toString",value:function(){return"$"}}])&&me(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ve);function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==we(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===we(o)?o:String(o)),r)}var o}oe.EMPTY=new Oe;var Pe="h-",Te=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||y}var e,n;return e=t,n=[{key:"set",value:function(t,e){var n=Pe+this.hashFunction(t);if(n in this.data){for(var r=this.data[n],o=0;o<r.length;o++){var i=r[o];if(this.equalsFunction(t,i.key)){var u=i.value;return i.value=e,u}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}},{key:"containsKey",value:function(t){var e=Pe+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return!0}return!1}},{key:"get",value:function(t){var e=Pe+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return o.value}return null}},{key:"entries",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(Pe)})).flatMap((function(e){return t.data[e]}),this)}},{key:"getKeys",value:function(){return this.entries().map((function(t){return t.key}))}},{key:"getValues",value:function(){return this.entries().map((function(t){return t.value}))}},{key:"toString",value:function(){return"["+this.entries().map((function(t){return"{"+t.key+":"+t.value+"}"})).join(", ")+"]"}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(Pe)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&_e(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ee(t,e){if(null==e&&(e=ee.EMPTY),null===e.parentCtx||e===ee.EMPTY)return oe.EMPTY;var n=Ee(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return ve.create(n,r.followState.stateNumber)}function ke(t,e,n){if(t.isEmpty())return t;var r=n.get(t)||null;if(null!==r)return r;if(null!==(r=e.get(t)))return n.set(t,r),r;for(var o=!1,i=[],u=0;u<i.length;u++){var c=ke(t.getParent(u),e,n);if(o||c!==t.getParent(u)){if(!o){i=[];for(var a=0;a<t.length;a++)i[a]=t.getParent(a);o=!0}i[u]=c}}if(!o)return e.add(t),n.set(t,t),t;var l;return l=0===i.length?oe.EMPTY:1===i.length?ve.create(i[0],t.getReturnState(0)):new fe(i,t.returnStates),e.add(l),n.set(l,l),n.set(t,l),l}function je(t,e,n,r){if(t===e)return t;if(t instanceof ve&&e instanceof ve)return function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return o;if(null!==(o=r.get(e,t)))return o}var i=function(t,e,n){if(n){if(t===oe.EMPTY)return oe.EMPTY;if(e===oe.EMPTY)return oe.EMPTY}else{if(t===oe.EMPTY&&e===oe.EMPTY)return oe.EMPTY;if(t===oe.EMPTY){var r=[e.returnState,oe.EMPTY_RETURN_STATE],o=[e.parentCtx,null];return new fe(o,r)}if(e===oe.EMPTY){var i=[t.returnState,oe.EMPTY_RETURN_STATE],u=[t.parentCtx,null];return new fe(u,i)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){var u=je(t.parentCtx,e.parentCtx,n,r);if(u===t.parentCtx)return t;if(u===e.parentCtx)return e;var c=ve.create(u,t.returnState);return null!==r&&r.set(t,e,c),c}var a=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(a=t.parentCtx),null!==a){var l=[t.returnState,e.returnState];t.returnState>e.returnState&&(l[0]=e.returnState,l[1]=t.returnState);var s=new fe([a,a],l);return null!==r&&r.set(t,e,s),s}var f=[t.returnState,e.returnState],p=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(f[0]=e.returnState,f[1]=t.returnState,p=[e.parentCtx,t.parentCtx]);var y=new fe(p,f);return null!==r&&r.set(t,e,y),y}(t,e,n,r);if(n){if(t instanceof Oe)return t;if(e instanceof Oe)return e}return t instanceof ve&&(t=new fe([t.getParent()],[t.returnState])),e instanceof ve&&(e=new fe([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o;if(null!==(o=r.get(e,t)))return oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o}for(var i=0,u=0,c=0,a=new Array(t.returnStates.length+e.returnStates.length).fill(0),l=new Array(t.returnStates.length+e.returnStates.length).fill(null);i<t.returnStates.length&&u<e.returnStates.length;){var s=t.parents[i],f=e.parents[u];if(t.returnStates[i]===e.returnStates[u]){var p=t.returnStates[i];p===oe.EMPTY_RETURN_STATE&&null===s&&null===f||null!==s&&null!==f&&s===f?(l[c]=s,a[c]=p):(l[c]=je(s,f,n,r),a[c]=p),i+=1,u+=1}else t.returnStates[i]<e.returnStates[u]?(l[c]=s,a[c]=t.returnStates[i],i+=1):(l[c]=f,a[c]=e.returnStates[u],u+=1);c+=1}if(i<t.returnStates.length)for(var y=i;y<t.returnStates.length;y++)l[c]=t.parents[y],a[c]=t.returnStates[y],c+=1;else for(var h=u;h<e.returnStates.length;h++)l[c]=e.parents[h],a[c]=e.returnStates[h],c+=1;if(c<l.length){if(1===c){var b=ve.create(l[0],a[0]);return null!==r&&r.set(t,e,b),b}l=l.slice(0,c),a=a.slice(0,c)}var v=new fe(l,a);return v.equals(t)?(null!==r&&r.set(t,e,t),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):v.equals(e)?(null!==r&&r.set(t,e,e),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){for(var e=new Te,n=0;n<t.length;n++){var r=t[n];e.containsKey(r)||e.set(r,r)}for(var o=0;o<t.length;o++)t[o]=e.get(t[o])}(l),null!==r&&r.set(t,e,v),oe.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+v),v)}(t,e,n,r)}function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==xe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===xe(o)?o:String(o)),r)}var o}var Ce=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=[]}var e,n;return e=t,(n=[{key:"add",value:function(t){this.data[t]=!0}},{key:"or",value:function(t){var e=this;Object.keys(t.data).map((function(t){return e.add(t)}),this)}},{key:"remove",value:function(t){delete this.data[t]}},{key:"has",value:function(t){return!0===this.data[t]}},{key:"values",value:function(){return Object.keys(this.data)}},{key:"minValue",value:function(){return Math.min.apply(null,this.values())}},{key:"hashCode",value:function(){return f.hashStuff(this.values())}},{key:"equals",value:function(e){return e instanceof t&&i(this.data,e.data)}},{key:"toString",value:function(){return"{"+this.values().join(", ")+"}"}},{key:"length",get:function(){return this.values().length}}])&&Re(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ae(t){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ae(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ae(o)?o:String(o)),r)}var o}var Ie=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e}var e,n;return e=t,n=[{key:"getDecisionLookahead",value:function(e){if(null===e)return null;for(var n=e.transitions.length,r=[],o=0;o<n;o++){r[o]=new V;var i=new g;this._LOOK(e.transition(o).target,null,oe.EMPTY,r[o],i,new Ce,!1,!1),(0===r[o].length||r[o].contains(t.HIT_PRED))&&(r[o]=null)}return r}},{key:"LOOK",value:function(t,e,n){var r=new V,o=null!==(n=n||null)?Ee(t.atn,n):null;return this._LOOK(t,e,o,r,new g,new Ce,!0,!0),r}},{key:"_LOOK",value:function(e,n,r,i,u,c,a,l){var s=new L({state:e,alt:0,context:r},null);if(!u.has(s)){if(u.add(s),e===n){if(null===r)return void i.addOne(o.EPSILON);if(r.isEmpty()&&l)return void i.addOne(o.EOF)}if(e instanceof $){if(null===r)return void i.addOne(o.EPSILON);if(r.isEmpty()&&l)return void i.addOne(o.EOF);if(r!==oe.EMPTY){var f=c.has(e.ruleIndex);try{c.remove(e.ruleIndex);for(var p=0;p<r.length;p++){var y=this.atn.states[r.getReturnState(p)];this._LOOK(y,n,r.getParent(p),i,u,c,a,l)}}finally{f&&c.add(e.ruleIndex)}return}}for(var h=0;h<e.transitions.length;h++){var b=e.transitions[h];if(b.constructor===it){if(c.has(b.target.ruleIndex))continue;var v=ve.create(r,b.followState.stateNumber);try{c.add(b.target.ruleIndex),this._LOOK(b.target,n,v,i,u,c,a,l)}finally{c.remove(b.target.ruleIndex)}}else if(b instanceof Tt)a?this._LOOK(b.target,n,r,i,u,c,a,l):i.addOne(t.HIT_PRED);else if(b.isEpsilon)this._LOOK(b.target,n,r,i,u,c,a,l);else if(b.constructor===Ot)i.addRange(o.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{var d=b.label;null!==d&&(b instanceof vt&&(d=d.complement(o.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(d))}}}}}],n&&Ne(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Le(t){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(t)}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Le(o)?o:String(o)),r)}var o}Ie.HIT_PRED=o.INVALID_TYPE;var Fe=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.grammarType=e,this.maxTokenType=n,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}var e,n;return e=t,(n=[{key:"nextTokensInContext",value:function(t,e){return new Ie(this).LOOK(t,null,e)}},{key:"nextTokensNoContext",value:function(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}},{key:"nextTokens",value:function(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}},{key:"addState",value:function(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}},{key:"removeState",value:function(t){this.states[t.stateNumber]=null}},{key:"defineDecisionState",value:function(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}},{key:"getDecisionState",value:function(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}},{key:"getExpectedTokens",value:function(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";var n=this.states[t],r=this.nextTokens(n);if(!r.contains(o.EPSILON))return r;var i=new V;for(i.addSet(r),i.removeOne(o.EPSILON);null!==e&&e.invokingState>=0&&r.contains(o.EPSILON);){var u=this.states[e.invokingState].transitions[0];r=this.nextTokens(u.followState),i.addSet(r),i.removeOne(o.EPSILON),e=e.parentCtx}return r.contains(o.EPSILON)&&i.addOne(o.EOF),i}}])&&De(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();Fe.INVALID_ALT_NUMBER=0;function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Me(t,e)}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(t)}var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ue(n);if(r){var o=Ue(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BASIC,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function qe(t,e){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qe(t,e)}function He(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qe(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ye(n);if(r){var o=Ye(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return He(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).decision=-1,t.nonGreedy=!1,He(t,Ke(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}function $e(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qe(t){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qe(t)}var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qe(n);if(r){var o=Qe(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return $e(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).endState=null,$e(t,Je(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}function nn(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rn(t)}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=on(n);if(r){var o=on(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BLOCK_END,t.startState=null,nn(t,rn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function cn(t){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cn(t)}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}function ln(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sn(t)}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fn(t){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fn(t)}var pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fn(n);if(r){var o=fn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return ln(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.LOOP_END,t.loopBackState=null,ln(t,sn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function yn(t){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yn(t)}function hn(t,e){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hn(t,e)}function bn(t,e){if(e&&("object"===yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vn(t)}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dn(t)}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dn(n);if(r){var o=dn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return bn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.RULE_START,t.stopState=null,t.isPrecedenceRule=!1,bn(t,vn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function Sn(t,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sn(t,e)}function On(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wn(t)}function wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _n(t){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(t)}var Pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_n(n);if(r){var o=_n(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return On(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.TOKEN_START,On(t,wn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function En(t,e){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},En(t,e)}function kn(t,e){if(e&&("object"===Tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jn(t)}function jn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}var Rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xn(n);if(r){var o=xn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return kn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.PLUS_LOOP_BACK,kn(t,jn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function An(t,e){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},An(t,e)}function Nn(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&An(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(n);if(r){var o=Ln(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_LOOP_BACK,Nn(t,In(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(H);function Fn(t){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(t)}function Bn(t,e){return Bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bn(t,e)}function Mn(t,e){if(e&&("object"===Fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Un(t)}function Un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(t)}var zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(n);if(r){var o=Vn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Mn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_LOOP_ENTRY,t.loopBackState=null,t.isPrecedenceDecision=null,Mn(t,Un(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ge);function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hn(t,e)}function Kn(t,e){if(e&&("object"===qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yn(t)}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gn(t){return Gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gn(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gn(n);if(r){var o=Gn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Kn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.PLUS_BLOCK_START,t.loopBackState=null,Kn(t,Yn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function $n(t,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$n(t,e)}function Jn(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zn(t){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zn(t)}var tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zn(n);if(r){var o=Zn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Jn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.STAR_BLOCK_START,Jn(t,Qn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function nr(t,e){return nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nr(t,e)}function rr(t,e){if(e&&("object"===er(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}function or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}var ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nr(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ir(n);if(r){var o=ir(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return rr(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=H.BLOCK_START,rr(t,or(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ze);function cr(t){return cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(t)}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==cr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==cr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===cr(o)?o:String(o)),r)}var o}function lr(t,e){return lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lr(t,e)}function sr(t){return sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sr(t)}var fr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=sr(r);if(o){var n=sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).label_=e,n.label=n.makeLabel(),n.serializationType=tt.ATOM,n}return e=u,(n=[{key:"makeLabel",value:function(){var t=new V;return t.addOne(this.label_),t}},{key:"matches",value:function(t,e,n){return this.label_===t}},{key:"toString",value:function(){return this.label_}}])&&ar(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function pr(t){return pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(t)}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==pr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===pr(o)?o:String(o)),r)}var o}function hr(t,e){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hr(t,e)}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}var vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=br(r);if(o){var n=br(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t)).serializationType=tt.RANGE,r.start=e,r.stop=n,r.label=r.makeLabel(),r}return e=u,(n=[{key:"makeLabel",value:function(){var t=new V;return t.addRange(this.start,this.stop),t}},{key:"matches",value:function(t,e,n){return t>=this.start&&t<=this.stop}},{key:"toString",value:function(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}])&&yr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dr(o)?o:String(o)),r)}var o}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sr(r);if(o){var n=Sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).serializationType=tt.ACTION,o.ruleIndex=e,o.actionIndex=void 0===n?-1:n,o.isCtxDependent=void 0!==r&&r,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"action_"+this.ruleIndex+":"+this.actionIndex}}])&&mr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function wr(t){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(t)}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==wr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===wr(o)?o:String(o)),r)}var o}function Pr(t,e){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pr(t,e)}function Tr(t){return Tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tr(t)}var Er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tr(r);if(o){var n=Tr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).serializationType=tt.EPSILON,n.isEpsilon=!0,n.outermostPrecedenceReturn=e,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"epsilon"}}])&&_r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(tt);function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==kr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==kr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===kr(o)?o:String(o)),r)}var o}function xr(t,e){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xr(t,e)}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}var Cr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(r);if(o){var n=Rr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this)).ruleIndex=void 0===t?-1:t,r.predIndex=void 0===e?-1:e,r.isCtxDependent=void 0!==n&&n,r}return e=u,(n=[{key:"evaluate",value:function(t,e){var n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}},{key:"updateHashCode",value:function(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}},{key:"toString",value:function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}])&&jr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(j);function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ar(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ar(o)?o:String(o)),r)}var o}function Ir(t,e){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ir(t,e)}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lr(t)}j.NONE=new Cr;var Dr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ir(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lr(r);if(o){var n=Lr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).serializationType=tt.PREDICATE,o.ruleIndex=e,o.predIndex=n,o.isCtxDependent=r,o.isEpsilon=!0,o}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new Cr(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"toString",value:function(){return"pred_"+this.ruleIndex+":"+this.predIndex}}])&&Nr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Tt);function Fr(t){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(t)}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Fr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Fr(o)?o:String(o)),r)}var o}function Mr(t,e){return Mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mr(t,e)}function Ur(t){return Ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ur(t)}var Vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ur(r);if(o){var n=Ur(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).precedence=void 0===t?0:t,e}return e=u,(n=[{key:"evaluate",value:function(t,e){return t.precpred(e,this.precedence)}},{key:"evalPrecedence",value:function(t,e){return t.precpred(e,this.precedence)?j.NONE:null}},{key:"compareTo",value:function(t){return this.precedence-t.precedence}},{key:"updateHashCode",value:function(t){t.update(this.precedence)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.precedence===t.precedence}},{key:"toString",value:function(){return"{"+this.precedence+">=prec}?"}}])&&Br(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(j);function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===zr(o)?o:String(o)),r)}var o}function Hr(t,e){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hr(t,e)}function Kr(t){return Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kr(t)}j.PrecedencePredicate=Vr;var Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hr(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kr(r);if(o){var n=Kr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t)).serializationType=tt.PRECEDENCE,n.precedence=e,n.isEpsilon=!0,n}return e=u,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new Vr(this.precedence)}},{key:"toString",value:function(){return this.precedence+" >= _p"}}])&&qr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Tt);function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gr(o)?o:String(o)),r)}var o}function Xr(t,e,n){return e&&Wr(t.prototype,e),n&&Wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var $r=Xr((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e=null),this.readOnly=!1,this.verifyATN=null===e||e.verifyATN,this.generateRuleBypassTransitions=null!==e&&e.generateRuleBypassTransitions}));$r.defaultOptions=new $r,$r.defaultOptions.readOnly=!0;function Jr(t){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(t)}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Jr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jr(o)?o:String(o)),r)}var o}var Zr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actionType=e,this.isPositionDependent=!1}var e,n;return e=t,(n=[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.actionType)}},{key:"equals",value:function(t){return this===t}}])&&Qr(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==to(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==to(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===to(o)?o:String(o)),r)}var o}function no(t,e){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},no(t,e)}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(t)}var oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ro(r);if(o){var n=ro(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,6)}return e=u,(n=[{key:"execute",value:function(t){t.skip()}},{key:"toString",value:function(){return"skip"}}])&&eo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==io(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===io(o)?o:String(o)),r)}var o}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},co(t,e)}function ao(t){return ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ao(t)}oo.INSTANCE=new oo;var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ao(r);if(o){var n=ao(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,0)).channel=t,e}return e=u,(n=[{key:"execute",value:function(t){t._channel=this.channel}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.channel)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.channel===t.channel}},{key:"toString",value:function(){return"channel("+this.channel+")"}}])&&uo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function so(t){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(t)}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==so(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===so(o)?o:String(o)),r)}var o}function po(t,e){return po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},po(t,e)}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}var ho=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&po(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yo(r);if(o){var n=yo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===so(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,1)).ruleIndex=t,n.actionIndex=e,n.isPositionDependent=!0,n}return e=u,(n=[{key:"execute",value:function(t){t.action(null,this.ruleIndex,this.actionIndex)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}])&&fo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function bo(t){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(t)}function vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==bo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===bo(o)?o:String(o)),r)}var o}function mo(t,e){return mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mo(t,e)}function go(t){return go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},go(t)}var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=go(r);if(o){var n=go(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,3)}return e=u,(n=[{key:"execute",value:function(t){t.more()}},{key:"toString",value:function(){return"more"}}])&&vo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Oo(t){return Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(t)}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oo(o)?o:String(o)),r)}var o}function _o(t,e){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_o(t,e)}function Po(t){return Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Po(t)}So.INSTANCE=new So;var To=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Po(r);if(o){var n=Po(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,7)).type=t,e}return e=u,(n=[{key:"execute",value:function(t){t.type=this.type}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.type)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.type===t.type}},{key:"toString",value:function(){return"type("+this.type+")"}}])&&wo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Eo(t){return Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(t)}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Eo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Eo(o)?o:String(o)),r)}var o}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jo(t,e)}function xo(t){return xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xo(t)}var Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xo(r);if(o){var n=xo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,5)).mode=t,e}return e=u,(n=[{key:"execute",value:function(t){t.pushMode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.mode===t.mode}},{key:"toString",value:function(){return"pushMode("+this.mode+")"}}])&&ko(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Co(t){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Co(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Co(o)?o:String(o)),r)}var o}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Io(r);if(o){var n=Io(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,4)}return e=u,(n=[{key:"execute",value:function(t){t.popMode()}},{key:"toString",value:function(){return"popMode"}}])&&Ao(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Do(t){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Do(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Do(o)?o:String(o)),r)}var o}function Bo(t,e){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bo(t,e)}function Mo(t){return Mo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(t)}Lo.INSTANCE=new Lo;var Uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bo(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mo(r);if(o){var n=Mo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Do(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,2)).mode=t,e}return e=u,(n=[{key:"execute",value:function(t){t.mode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.mode===t.mode}},{key:"toString",value:function(){return"mode("+this.mode+")"}}])&&Fo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function Vo(t){return Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(t)}function zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vo(o)?o:String(o)),r)}var o}function qo(t,e){var n=[];return n[t-1]=e,n.map((function(t){return e}))}var Ho=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e&&(e=$r.defaultOptions),this.deserializationOptions=e,this.stateFactories=null,this.actionFactories=null}var e,n;return e=t,n=[{key:"deserialize",value:function(t){var e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();var n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);var r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}},{key:"reset",value:function(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){var e=t.split("").map((function(t){var e=t.charCodeAt(0);return e>1?e-2:e+65534}));return e[0]=t.charCodeAt(0),this.data=e,this.pos=0,!0}return this.data=t,this.pos=0,!1}},{key:"skipUUID",value:function(){for(var t=0;t++<8;)this.readInt()}},{key:"checkVersion",value:function(t){var e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}},{key:"readATN",value:function(){var t=this.readInt(),e=this.readInt();return new Fe(t,e)}},{key:"readStates",value:function(t,e){for(var n,r,o,i=[],u=[],c=this.readInt(),a=0;a<c;a++){var l=this.readInt();if(l!==H.INVALID_TYPE){var s=this.readInt();e&&65535===s&&(s=-1);var f=this.stateFactory(l,s);if(l===H.LOOP_END){var p=this.readInt();i.push([f,p])}else if(f instanceof Ze){var y=this.readInt();u.push([f,y])}t.addState(f)}else t.addState(null)}for(n=0;n<i.length;n++)(r=i[n])[0].loopBackState=t.states[r[1]];for(n=0;n<u.length;n++)(r=u[n])[0].endState=t.states[r[1]];var h=this.readInt();for(n=0;n<h;n++)o=this.readInt(),t.states[o].nonGreedy=!0;var b=this.readInt();for(n=0;n<b;n++)o=this.readInt(),t.states[o].isPrecedenceRule=!0}},{key:"readRules",value:function(t,e){var n,r=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=qo(r,0)),t.ruleToStartState=qo(r,0),n=0;n<r;n++){var i=this.readInt();if(t.ruleToStartState[n]=t.states[i],0===t.grammarType){var u=this.readInt();e&&65535===u&&(u=o.EOF),t.ruleToTokenType[n]=u}}for(t.ruleToStopState=qo(r,0),n=0;n<t.states.length;n++){var c=t.states[n];c instanceof $&&(t.ruleToStopState[c.ruleIndex]=c,t.ruleToStartState[c.ruleIndex].stopState=c)}}},{key:"readModes",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt();t.modeToStartState.push(t.states[r])}}},{key:"readSets",value:function(t,e,n){for(var r=this.readInt(),o=0;o<r;o++){var i=new V;e.push(i);var u=this.readInt();0!==this.readInt()&&i.addOne(-1);for(var c=0;c<u;c++){var a=n(),l=n();i.addRange(a,l)}}}},{key:"readEdges",value:function(t,e){var n,r,o,i,u,c=this.readInt();for(n=0;n<c;n++){var a=this.readInt(),l=this.readInt(),s=this.readInt(),f=this.readInt(),p=this.readInt(),y=this.readInt();i=this.edgeFactory(t,s,a,l,f,p,y,e),t.states[a].addTransition(i)}for(n=0;n<t.states.length;n++)for(o=t.states[n],r=0;r<o.transitions.length;r++){var h=o.transitions[r];if(h instanceof it){var b=-1;t.ruleToStartState[h.target.ruleIndex].isPrecedenceRule&&0===h.precedence&&(b=h.target.ruleIndex),i=new Er(h.followState,b),t.ruleToStopState[h.target.ruleIndex].addTransition(i)}}for(n=0;n<t.states.length;n++){if((o=t.states[n])instanceof Ze){if(null===o.endState)throw"IllegalState";if(null!==o.endState.startState)throw"IllegalState";o.endState.startState=o}if(o instanceof Rn)for(r=0;r<o.transitions.length;r++)(u=o.transitions[r].target)instanceof Wn&&(u.loopBackState=o);else if(o instanceof Dn)for(r=0;r<o.transitions.length;r++)(u=o.transitions[r].target)instanceof zn&&(u.loopBackState=o)}}},{key:"readDecisions",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt(),o=t.states[r];t.decisionToState.push(o),o.decision=n}}},{key:"readLexerActions",value:function(t,e){if(0===t.grammarType){var n=this.readInt();t.lexerActions=qo(n,null);for(var r=0;r<n;r++){var o=this.readInt(),i=this.readInt();e&&65535===i&&(i=-1);var u=this.readInt();e&&65535===u&&(u=-1),t.lexerActions[r]=this.lexerActionFactory(o,i,u)}}}},{key:"generateRuleBypassTransitions",value:function(t){var e,n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}},{key:"generateRuleBypassTransition",value:function(t,e){var n,r,o=new ur;o.ruleIndex=e,t.addState(o);var i=new un;i.ruleIndex=e,t.addState(i),o.endState=i,t.defineDecisionState(o),i.startState=o;var u=null,c=null;if(t.ruleToStartState[e].isPrecedenceRule){for(c=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){c=r,u=r.loopBackState.transitions[0];break}if(null===u)throw"Couldn't identify final state of the precedence rule prefix section."}else c=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(var a=0;a<r.transitions.length;a++){var l=r.transitions[a];l!==u&&l.target===c&&(l.target=i)}}for(var s=t.ruleToStartState[e],f=s.transitions.length;f>0;)o.addTransition(s.transitions[f-1]),s.transitions=s.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Er(o)),i.addTransition(new Er(c));var p=new Ve;t.addState(p),p.addTransition(new fr(i,t.ruleToTokenType[e])),o.addTransition(new Er(p))}},{key:"stateIsEndStateFor",value:function(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof zn))return null;var n=t.transitions[t.transitions.length-1].target;return n instanceof pn&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof $?t:null}},{key:"markPrecedenceDecisions",value:function(t){for(var e=0;e<t.states.length;e++){var n=t.states[e];if(n instanceof zn&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){var r=n.transitions[n.transitions.length-1].target;r instanceof pn&&r.epsilonOnlyTransitions&&r.transitions[0].target instanceof $&&(n.isPrecedenceDecision=!0)}}}},{key:"verifyATN",value:function(t){if(this.deserializationOptions.verifyATN)for(var e=0;e<t.states.length;e++){var n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof Wn)this.checkCondition(null!==n.loopBackState);else if(n instanceof zn)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof tr)this.checkCondition(n.transitions[1].target instanceof pn),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof pn))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof tr),this.checkCondition(n.nonGreedy)}else n instanceof Dn?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof zn)):n instanceof pn?this.checkCondition(null!==n.loopBackState):n instanceof mn?this.checkCondition(null!==n.stopState):n instanceof Ze?this.checkCondition(null!==n.endState):n instanceof un?this.checkCondition(null!==n.startState):n instanceof Ge?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof $)}}},{key:"checkCondition",value:function(t,e){if(!t)throw null==e&&(e="IllegalState"),e}},{key:"readInt",value:function(){return this.data[this.pos++]}},{key:"readInt32",value:function(){return this.readInt()|this.readInt()<<16}},{key:"edgeFactory",value:function(t,e,n,r,i,u,c,a){var l=t.states[r];switch(e){case tt.EPSILON:return new Er(l);case tt.RANGE:return new vr(l,0!==c?o.EOF:i,u);case tt.RULE:return new it(t.states[i],u,c,l);case tt.PREDICATE:return new Dr(l,i,u,0!==c);case tt.PRECEDENCE:return new Yr(l,i);case tt.ATOM:return new fr(l,0!==c?o.EOF:i);case tt.ACTION:return new Or(l,i,u,0!==c);case tt.SET:return new st(l,a[i]);case tt.NOT_SET:return new vt(l,a[i]);case tt.WILDCARD:return new Ot(l);default:throw"The specified transition type: "+e+" is not valid."}}},{key:"stateFactory",value:function(t,e){if(null===this.stateFactories){var n=[];n[H.INVALID_TYPE]=null,n[H.BASIC]=function(){return new Ve},n[H.RULE_START]=function(){return new mn},n[H.BLOCK_START]=function(){return new ur},n[H.PLUS_BLOCK_START]=function(){return new Wn},n[H.STAR_BLOCK_START]=function(){return new tr},n[H.TOKEN_START]=function(){return new Pn},n[H.RULE_STOP]=function(){return new $},n[H.BLOCK_END]=function(){return new un},n[H.STAR_LOOP_BACK]=function(){return new Dn},n[H.STAR_LOOP_ENTRY]=function(){return new zn},n[H.PLUS_LOOP_BACK]=function(){return new Rn},n[H.LOOP_END]=function(){return new pn},this.stateFactories=n}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";var r=this.stateFactories[t]();if(null!==r)return r.ruleIndex=e,r}},{key:"lexerActionFactory",value:function(t,e,n){if(null===this.actionFactories){var r=[];r[0]=function(t,e){return new lo(t)},r[1]=function(t,e){return new ho(t,e)},r[2]=function(t,e){return new Uo(t)},r[3]=function(t,e){return So.INSTANCE},r[4]=function(t,e){return Lo.INSTANCE},r[5]=function(t,e){return new Ro(t)},r[6]=function(t,e){return oo.INSTANCE},r[7]=function(t,e){return new To(t)},this.actionFactories=r}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}],n&&zo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ko(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ko(o)?o:String(o)),r)}var o}var Go=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){}}])&&Yo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Wo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Wo(o)?o:String(o)),r)}var o}function $o(t,e){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$o(t,e)}function Jo(t){return Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jo(t)}var Qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$o(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jo(r);if(o){var n=Jo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){console.error("line "+n+":"+r+" "+o)}}])&&Xo(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function Zo(t){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(t)}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Zo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Zo(o)?o:String(o)),r)}var o}function ei(t,e){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ei(t,e)}function ni(t,e){if(e&&("object"===Zo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ri(t)}function ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oi(t)}Qo.INSTANCE=new Qo;var ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ei(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oi(r);if(o){var n=oi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ni(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this),null===t)throw"delegates";return e.delegates=t,ni(e,ri(e))}return e=u,n=[{key:"syntaxError",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.syntaxError(t,e,n,r,o,i)}))}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){this.delegates.map((function(c){return c.reportAmbiguity(t,e,n,r,o,i,u)}))}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.reportAttemptingFullContext(t,e,n,r,o,i)}))}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){this.delegates.map((function(u){return u.reportContextSensitivity(t,e,n,r,o,i)}))}}],n&&ti(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ui(o)?o:String(o)),r)}var o}var ai=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[Qo.INSTANCE],this._interp=null,this._stateNumber=-1}var e,n;return e=t,n=[{key:"checkVersion",value:function(t){var e="4.13.0";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}},{key:"addErrorListener",value:function(t){this._listeners.push(t)}},{key:"removeErrorListeners",value:function(){this._listeners=[]}},{key:"getLiteralNames",value:function(){return Object.getPrototypeOf(this).constructor.literalNames||[]}},{key:"getSymbolicNames",value:function(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}},{key:"getTokenNames",value:function(){if(!this.tokenNames){var t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(var r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}},{key:"getTokenTypeMap",value:function(){var t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";var e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=o.EOF,this.tokenTypeMapCache[t]=e),e}},{key:"getRuleIndexMap",value:function(){var t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";var e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}},{key:"getTokenType",value:function(t){var e=this.getTokenTypeMap()[t];return void 0!==e?e:o.INVALID_TYPE}},{key:"getErrorHeader",value:function(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===o.EOF?"<EOF>":"<"+t.type+">"),"'"+(e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"))+"'"}},{key:"getErrorListenerDispatch",value:function(){return new ii(this._listeners)}},{key:"sempred",value:function(t,e,n){return!0}},{key:"precpred",value:function(t,e){return!0}},{key:"atn",get:function(){return this._interp.atn}},{key:"state",get:function(){return this._stateNumber},set:function(t){this._stateNumber=t}}],n&&ci(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function li(t){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},li(t)}function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===li(o)?o:String(o)),r)}var o}function fi(t,e){return fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fi(t,e)}function pi(t){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pi(t)}ai.tokenTypeMapCache={},ai.ruleIndexMapCache={};var yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fi(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pi(r);if(i){var n=pi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,n,r,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(a=u.call(this)).source=void 0!==t?t:c.EMPTY_SOURCE,a.type=void 0!==e?e:null,a.channel=void 0!==n?n:o.DEFAULT_CHANNEL,a.start=void 0!==r?r:-1,a.stop=void 0!==i?i:-1,a.tokenIndex=-1,null!==a.source[0]?(a.line=t[0].line,a.column=t[0].column):a.column=-1,a}return e=c,(n=[{key:"clone",value:function(){var t=new c(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}},{key:"cloneWithType",value:function(t){var e=new c(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===o.EOF&&(e.text=""),e}},{key:"toString",value:function(){var t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}},{key:"text",get:function(){if(null!==this._text)return this._text;var t=this.getInputStream();if(null===t)return null;var e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"},set:function(t){this._text=t}}])&&si(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(o);function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function bi(t,e){return bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bi(t,e)}function vi(t){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vi(t)}function di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hi(o)?o:String(o)),r)}var o}function mi(t,e,n){return e&&di(t.prototype,e),n&&di(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}yi.EMPTY_SOURCE=[null,null];var Si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bi(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=vi(e);if(n){var o=vi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t){var e;return gi(this,o),(e=r.call(this)).copyText=void 0!==t&&t,e}return mi(o,[{key:"create",value:function(t,e,n,r,o,i,u,c){var a=new yi(t,e,r,o,i);return a.line=u,a.column=c,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(o,i)),a}},{key:"createThin",value:function(t,e){var n=new yi(null,t);return n.text=e,n}}]),o}(mi((function t(){gi(this,t)})));function Oi(t){return Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(t)}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oi(o)?o:String(o)),r)}var o}function _i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pi(t){var e="function"==typeof Map?new Map:void 0;return Pi=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ti(t,arguments,ji(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ki(r,t)},Pi(t)}function Ti(t,e,n){return Ti=Ei()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ki(o,n.prototype),o},Ti.apply(null,arguments)}function Ei(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ki(t,e){return ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ki(t,e)}function ji(t){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ji(t)}Si.DEFAULT=new Si;var xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ki(t,e)}(u,t);var e,n,r,o,i=(r=u,o=Ei(),function(){var t,e=ji(r);if(o){var n=ji(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _i(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=i.call(this,t.message),Error.captureStackTrace&&Error.captureStackTrace(_i(e),u),e.message=t.message,e.recognizer=t.recognizer,e.input=t.input,e.ctx=t.ctx,e.offendingToken=null,e.offendingState=-1,null!==e.recognizer&&(e.offendingState=e.recognizer.state),e}return e=u,(n=[{key:"getExpectedTokens",value:function(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}},{key:"toString",value:function(){return this.message}}])&&wi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Pi(Error));function Ri(t){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(t)}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ri(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ri(o)?o:String(o)),r)}var o}function Ai(t,e){return Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ai(t,e)}function Ni(t){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ni(t)}var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ai(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ni(r);if(o){var n=Ni(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,{message:"",recognizer:t,input:e,ctx:null})).startIndex=n,o.deadEndConfigs=r,o}return e=u,(n=[{key:"toString",value:function(){var t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new B(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}])&&Ci(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(xi);function Li(t){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(t)}function Di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Li(o)?o:String(o)),r)}var o}function Fi(t,e){return Fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fi(t,e)}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mi(t){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mi(t)}var Ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fi(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mi(r);if(i){var n=Mi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this))._input=t,e._factory=Si.DEFAULT,e._tokenFactorySourcePair=[Bi(e),t],e._interp=null,e._token=null,e._tokenStartCharIndex=-1,e._tokenStartLine=-1,e._tokenStartColumn=-1,e._hitEOF=!1,e._channel=o.DEFAULT_CHANNEL,e._type=o.INVALID_TYPE,e._modeStack=[],e._mode=c.DEFAULT_MODE,e._text=null,e}return e=c,n=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._token=null,this._type=o.INVALID_TYPE,this._channel=o.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=c.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}},{key:"nextToken",value:function(){if(null===this._input)throw"nextToken requires a non-null input stream.";var t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=o.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;for(var e=!1;;){this._type=o.INVALID_TYPE;var n=c.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof xi))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===o.EOF&&(this._hitEOF=!0),this._type===o.INVALID_TYPE&&(this._type=n),this._type===c.SKIP){e=!0;break}if(this._type!==c.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}},{key:"skip",value:function(){this._type=c.SKIP}},{key:"more",value:function(){this._type=c.MORE}},{key:"mode",value:function(t){this._mode=t}},{key:"pushMode",value:function(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}},{key:"popMode",value:function(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}},{key:"emitToken",value:function(t){this._token=t}},{key:"emit",value:function(){var t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}},{key:"emitEOF",value:function(){var t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,o.EOF,null,o.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}},{key:"getCharIndex",value:function(){return this._input.index}},{key:"getAllTokens",value:function(){for(var t=[],e=this.nextToken();e.type!==o.EOF;)t.push(e),e=this.nextToken();return t}},{key:"notifyListeners",value:function(t){var e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),o="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,o,t)}},{key:"getErrorDisplay",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e.join("")}},{key:"getErrorDisplayForChar",value:function(t){return t.charCodeAt(0)===o.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}},{key:"getCharErrorDisplay",value:function(t){return"'"+this.getErrorDisplayForChar(t)+"'"}},{key:"recover",value:function(t){this._input.LA(1)!==o.EOF&&(t instanceof Ii?this._interp.consume(this._input):this._input.consume())}},{key:"inputStream",get:function(){return this._input},set:function(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}},{key:"sourceName",get:function(){return this._input.sourceName}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"line",get:function(){return this._interp.line},set:function(t){this._interp.line=t}},{key:"column",get:function(){return this._interp.column},set:function(t){this._interp.column=t}},{key:"text",get:function(){return null!==this._text?this._text:this._interp.getText(this._input)},set:function(t){this._text=t}}],n&&Di(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(ai);function Vi(t){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(t)}function zi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Vi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vi(o)?o:String(o)),r)}var o}function qi(t){return t.hashCodeForConfigSet()}function Hi(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Ui.DEFAULT_MODE=0,Ui.MORE=-2,Ui.SKIP=-3,Ui.DEFAULT_TOKEN_CHANNEL=o.DEFAULT_CHANNEL,Ui.HIDDEN=o.HIDDEN_CHANNEL,Ui.MIN_CHAR_VALUE=0,Ui.MAX_CHAR_VALUE=1114111;var Ki=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configLookup=new g(qi,Hi),this.fullCtx=void 0===e||e,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}var e,n;return e=t,n=[{key:"add",value:function(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==j.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);var n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;var r=!this.fullCtx,o=je(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=o,!0}},{key:"getStates",value:function(){for(var t=new g,e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}},{key:"getPredicates",value:function(){for(var t=[],e=0;e<this.configs.length;e++){var n=this.configs[e].semanticContext;n!==j.NONE&&t.push(n.semanticContext)}return t}},{key:"optimizeConfigs",value:function(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];n.context=t.getCachedContext(n.context)}}},{key:"addAll",value:function(t){for(var e=0;e<t.length;e++)this.add(t[e]);return!1}},{key:"equals",value:function(e){return this===e||e instanceof t&&i(this.configs,e.configs)&&this.fullCtx===e.fullCtx&&this.uniqueAlt===e.uniqueAlt&&this.conflictingAlts===e.conflictingAlts&&this.hasSemanticContext===e.hasSemanticContext&&this.dipsIntoOuterContext===e.dipsIntoOuterContext}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}},{key:"updateHashCode",value:function(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}},{key:"isEmpty",value:function(){return 0===this.configs.length}},{key:"contains",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}},{key:"containsFast",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}},{key:"clear",value:function(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new g}},{key:"setReadonly",value:function(t){this.readOnly=t,t&&(this.configLookup=null)}},{key:"toString",value:function(){return b(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==Fe.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}},{key:"items",get:function(){return this.configs}},{key:"length",get:function(){return this.configs.length}}],n&&zi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Yi(t){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(t)}function Gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Yi(o)?o:String(o)),r)}var o}var Wi=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null===e&&(e=-1),null===n&&(n=new Ki),this.stateNumber=e,this.configs=n,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}var e,n;return e=t,n=[{key:"getAltSet",value:function(){var t=new g;if(null!==this.configs)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.configs.equals(e.configs)}},{key:"toString",value:function(){var t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}}],n&&Gi(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function $i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Xi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Xi(o)?o:String(o)),r)}var o}var Ji=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e,this.sharedContextCache=n,this}var e,n;return e=t,n=[{key:"getCachedContext",value:function(t){if(null===this.sharedContextCache)return t;var e=new Te;return ke(t,this.sharedContextCache,e)}}],n&&$i(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qi(t){return Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(t)}function Zi(t,e){return Zi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zi(t,e)}function tu(t){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(t)}Ji.ERROR=new Wi(2147483647,new Ki);var eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zi(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tu(n);if(r){var o=tu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).configLookup=new g,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Ki);function nu(t){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(t)}function ru(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==nu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==nu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===nu(o)?o:String(o)),r)}var o}function ou(){return ou="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=au(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ou.apply(this,arguments)}function iu(t,e){return iu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iu(t,e)}function uu(t,e){if(e&&("object"===nu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cu(t)}function cu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function au(t){return au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},au(t)}var lu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iu(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=au(r);if(o){var n=au(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return uu(this,t)});function u(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),n=i.call(this,t,e);var r=t.lexerActionExecutor||null;return n.lexerActionExecutor=r||(null!==e?e.lexerActionExecutor:null),n.passedThroughNonGreedyDecision=null!==e&&n.checkNonGreedyDecision(e,n.state),n.hashCodeForConfigSet=u.prototype.hashCode,n.equalsForConfigSet=u.prototype.equals,uu(n,cu(n))}return e=u,(n=[{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&ou(au(u.prototype),"equals",this).call(this,t)}},{key:"checkNonGreedyDecision",value:function(t,e){return t.passedThroughNonGreedyDecision||e instanceof Ge&&e.nonGreedy}}])&&ru(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(L);function su(t){return su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(t)}function fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==su(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===su(o)?o:String(o)),r)}var o}function pu(t,e){return pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pu(t,e)}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(t)}var hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pu(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yu(r);if(o){var n=yu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e.actionType)).offset=t,n.action=e,n.isPositionDependent=!0,n}return e=u,(n=[{key:"execute",value:function(t){this.action.execute(t)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.offset,this.action)}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.offset===t.offset&&this.action===t.action}}])&&fu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zr);function bu(t){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(t)}function vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==bu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===bu(o)?o:String(o)),r)}var o}var du=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lexerActions=null===e?[]:e,this.cachedHashCode=f.hashStuff(e),this}var e,n,r;return e=t,n=[{key:"fixOffsetBeforeMatch",value:function(e){for(var n=null,r=0;r<this.lexerActions.length;r++)!this.lexerActions[r].isPositionDependent||this.lexerActions[r]instanceof hu||(null===n&&(n=this.lexerActions.concat([])),n[r]=new hu(e,this.lexerActions[r]));return null===n?this:new t(n)}},{key:"execute",value:function(t,e,n){var r=!1,o=e.index;try{for(var i=0;i<this.lexerActions.length;i++){var u=this.lexerActions[i];if(u instanceof hu){var c=u.offset;e.seek(n+c),u=u.action,r=n+c!==o}else u.isPositionDependent&&(e.seek(o),r=!1);u.execute(t)}}finally{r&&e.seek(o)}}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}},{key:"equals",value:function(e){if(this===e)return!0;if(e instanceof t){if(this.cachedHashCode!=e.cachedHashCode)return!1;if(this.lexerActions.length!=e.lexerActions.length)return!1;for(var n=this.lexerActions.length,r=0;r<n;++r)if(!this.lexerActions[r].equals(e.lexerActions[r]))return!1;return!0}return!1}}],r=[{key:"append",value:function(e,n){return new t(null===e?[n]:e.lexerActions.concat([n]))}}],n&&vu(e.prototype,n),r&&vu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mu(t,e){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mu(t,e)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}function Su(t){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(t)}function Ou(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Su(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Su(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Su(o)?o:String(o)),r)}var o}function _u(t,e,n){return e&&wu(t.prototype,e),n&&wu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pu(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}var Tu=function(){function t(){Ou(this,t),Pu(this)}return _u(t,[{key:"reset",value:function(){Pu(this)}}]),t}(),Eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=gu(e);if(n){var o=gu(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===Su(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,o){var u;return Ou(this,i),(u=r.call(this,e,o)).decisionToDFA=n,u.recog=t,u.startIndex=-1,u.line=1,u.column=0,u.mode=Ui.DEFAULT_MODE,u.prevAccept=new Tu,u}return _u(i,[{key:"copyState",value:function(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}},{key:"match",value:function(t,e){this.mode=e;var n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();var r=this.decisionToDFA[e];return null===r.s0?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}},{key:"reset",value:function(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Ui.DEFAULT_MODE}},{key:"matchATN",value:function(t){var e=this.atn.modeToStartState[this.mode];i.debug&&console.log("matchATN mode "+this.mode+" start: "+e);var n=this.mode,r=this.computeStartState(t,e),o=r.hasSemanticContext;r.hasSemanticContext=!1;var u=this.addDFAState(r);o||(this.decisionToDFA[this.mode].s0=u);var c=this.execATN(t,u);return i.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),c}},{key:"execATN",value:function(t,e){i.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);for(var n=t.LA(1),r=e;;){i.debug&&console.log("execATN loop starting closure: "+r.configs);var u=this.getExistingTargetState(r,n);if(null===u&&(u=this.computeTargetState(t,r,n)),u===Ji.ERROR)break;if(n!==o.EOF&&this.consume(t),u.isAcceptState&&(this.captureSimState(this.prevAccept,t,u),n===o.EOF))break;n=t.LA(1),r=u}return this.failOrAccept(this.prevAccept,t,r.configs,n)}},{key:"getExistingTargetState",value:function(t,e){if(null===t.edges||e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE)return null;var n=t.edges[e-i.MIN_DFA_EDGE];return void 0===n&&(n=null),i.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}},{key:"computeTargetState",value:function(t,e,n){var r=new eu;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,Ji.ERROR),Ji.ERROR):this.addDFAEdge(e,n,null,r)}},{key:"failOrAccept",value:function(t,e,n,r){if(null!==this.prevAccept.dfaState){var i=t.dfaState.lexerActionExecutor;return this.accept(e,i,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===o.EOF&&e.index===this.startIndex)return o.EOF;throw new Ii(this.recog,e,this.startIndex,n)}},{key:"getReachableConfigSet",value:function(t,e,n,r){for(var u=Fe.INVALID_ALT_NUMBER,c=0;c<e.items.length;c++){var a=e.items[c],l=a.alt===u;if(!l||!a.passedThroughNonGreedyDecision){i.debug&&console.log("testing %s at %s\n",this.getTokenName(r),a.toString(this.recog,!0));for(var s=0;s<a.state.transitions.length;s++){var f=a.state.transitions[s],p=this.getReachableTarget(f,r);if(null!==p){var y=a.lexerActionExecutor;null!==y&&(y=y.fixOffsetBeforeMatch(t.index-this.startIndex));var h=r===o.EOF,b=new lu({state:p,lexerActionExecutor:y},a);this.closure(t,b,n,l,!0,h)&&(u=a.alt)}}}}}},{key:"accept",value:function(t,e,n,r,o,u){i.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=o,this.column=u,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,Ui.MAX_CHAR_VALUE)?t.target:null}},{key:"computeStartState",value:function(t,e){for(var n=oe.EMPTY,r=new eu,o=0;o<e.transitions.length;o++){var i=e.transitions[o].target,u=new lu({state:i,alt:o+1,context:n},null);this.closure(t,u,r,!1,!1,!1)}return r}},{key:"closure",value:function(t,e,n,r,o,u){var c=null;if(i.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof $){if(i.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new lu({state:e.state,context:oe.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(var a=0;a<e.context.length;a++)if(e.context.getReturnState(a)!==oe.EMPTY_RETURN_STATE){var l=e.context.getParent(a),s=this.atn.states[e.context.getReturnState(a)];c=new lu({state:s,context:l},e),r=this.closure(t,c,n,r,o,u)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(var f=0;f<e.state.transitions.length;f++){var p=e.state.transitions[f];null!==(c=this.getEpsilonTarget(t,e,p,n,o,u))&&(r=this.closure(t,c,n,r,o,u))}return r}},{key:"getEpsilonTarget",value:function(t,e,n,r,u,c){var a=null;if(n.serializationType===tt.RULE){var l=ve.create(e.context,n.followState.stateNumber);a=new lu({state:n.target,context:l},e)}else{if(n.serializationType===tt.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===tt.PREDICATE)i.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,u)&&(a=new lu({state:n.target},e));else if(n.serializationType===tt.ACTION)if(null===e.context||e.context.hasEmptyPath()){var s=du.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);a=new lu({state:n.target,lexerActionExecutor:s},e)}else a=new lu({state:n.target},e);else n.serializationType===tt.EPSILON?a=new lu({state:n.target},e):n.serializationType!==tt.ATOM&&n.serializationType!==tt.RANGE&&n.serializationType!==tt.SET||c&&n.matches(o.EOF,0,Ui.MAX_CHAR_VALUE)&&(a=new lu({state:n.target},e))}return a}},{key:"evaluatePredicate",value:function(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);var o=this.column,i=this.line,u=t.index,c=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=o,this.line=i,t.seek(u),t.release(c)}}},{key:"captureSimState",value:function(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}},{key:"addDFAEdge",value:function(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){var o=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),o)return n}return e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE||(i.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-i.MIN_DFA_EDGE]=n),n}},{key:"addDFAState",value:function(t){for(var e=new Wi(null,t),n=null,r=0;r<t.items.length;r++){var o=t.items[r];if(o.state instanceof $){n=o;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);var i=this.decisionToDFA[this.mode],u=i.states.get(e);if(null!==u)return u;var c=e;return c.stateNumber=i.states.length,t.setReadonly(!0),c.configs=t,i.states.add(c),c}},{key:"getDFA",value:function(t){return this.decisionToDFA[t]}},{key:"getText",value:function(t){return t.getText(this.startIndex,t.index-1)}},{key:"consume",value:function(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}},{key:"getTokenName",value:function(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}]),i}(Ji);function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function ju(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ku(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ku(o)?o:String(o)),r)}var o}Eu.debug=!1,Eu.dfa_debug=!1,Eu.MIN_DFA_EDGE=0,Eu.MAX_DFA_EDGE=127;var xu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.alt=n,this.pred=e}var e,n;return e=t,(n=[{key:"toString",value:function(){return"("+this.pred+", "+this.alt+")"}}])&&ju(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ru(t){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(t)}function Cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ru(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ru(o)?o:String(o)),r)}var o}var Au=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={}}var e,n;return e=t,(n=[{key:"get",value:function(t){return this.data["k-"+t]||null}},{key:"set",value:function(t,e){this.data["k-"+t]=e}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith("k-")})).map((function(e){return t.data[e]}),this)}}])&&Cu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Nu={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(Nu.allConfigsInRuleStopStates(e))return!0;if(t===Nu.SLL&&e.hasSemanticContext){for(var n=new Ki,r=0;r<e.items.length;r++){var o=e.items[r];o=new L({semanticContext:j.NONE},o),n.add(o)}e=n}var i=Nu.getConflictingAltSubsets(e);return Nu.hasConflictingAltSet(i)&&!Nu.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(var e=0;e<t.items.length;e++)if(t.items[e].state instanceof $)return!0;return!1},allConfigsInRuleStopStates:function(t){for(var e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof $))return!1;return!0},resolvesToJustOneViableAlt:function(t){return Nu.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!Nu.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){var e=Nu.getAlts(t);return 1===e.length?e.minValue():Fe.INVALID_ALT_NUMBER},getAlts:function(t){var e=new Ce;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){var e=new Te;return e.hashFunction=function(t){f.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){var n=e.get(t);null===n&&(n=new Ce,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){var e=new Au;return t.items.map((function(t){var n=e.get(t.state);null===n&&(n=new Ce,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){for(var e=Nu.getStateToAltMap(t).values(),n=0;n<e.length;n++)if(1===e[n].length)return!0;return!1},getSingleViableAlt:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n].minValue();if(null===e)e=r;else if(e!==r)return Fe.INVALID_ALT_NUMBER}return e}};const Iu=Nu;function Lu(t){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(t)}function Du(t,e){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Du(t,e)}function Fu(t){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(t)}var Bu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Du(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fu(n);if(r){var o=Fu(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,r,u,c){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),c=c||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),(a=o.call(this,{message:"",recognizer:t,input:e,ctx:c})).deadEndConfigs=u,a.startToken=n,a.offendingToken=r,a}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function Mu(t){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(t)}function Uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Mu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Mu(o)?o:String(o)),r)}var o}var Vu=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaultMapCtor=e||Te,this.cacheMap=new this.defaultMapCtor}var e,n;return e=t,(n=[{key:"get",value:function(t,e){var n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}},{key:"set",value:function(t,e,n){var r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}])&&Uu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zu(t){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==zu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===zu(o)?o:String(o)),r)}var o}function Hu(t,e){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hu(t,e)}function Ku(t){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(t)}var Yu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hu(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ku(r);if(i){var n=Ku(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=u.call(this,e,r)).parser=t,o.decisionToDFA=n,o.predictionMode=Iu.LL,o._input=null,o._startIndex=0,o._outerContext=null,o._dfa=null,o.mergeCache=null,o.debug=!1,o.debug_closure=!1,o.debug_add=!1,o.trace_atn_sim=!1,o.dfa_debug=!1,o.retry_debug=!1,o}return e=c,n=[{key:"reset",value:function(){}},{key:"adaptivePredict",value:function(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;var r=this.decisionToDFA[e];this._dfa=r;var o=t.mark(),i=t.index;try{var u;if(null===(u=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0)){null===n&&(n=ee.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));var c=this.computeStartState(r.atnStartState,ee.EMPTY,!1);r.precedenceDfa?(r.s0.configs=c,c=this.applyPrecedenceFilter(c),u=this.addDFAState(r,new Wi(null,c)),r.setPrecedenceStartState(this.parser.getPrecedence(),u)):(u=this.addDFAState(r,new Wi(null,c)),r.s0=u)}var a=this.execATN(r,u,t,i,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),a}finally{this._dfa=null,this.mergeCache=null,t.seek(i),t.release(o)}}},{key:"execATN",value:function(t,e,n,r,i){var u;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);var c=e;this.debug&&console.log("s0 = "+e);for(var a=n.LA(1);;){var l=this.getExistingTargetState(c,a);if(null===l&&(l=this.computeTargetState(t,c,a)),l===Ji.ERROR){var s=this.noViableAlt(n,i,c.configs,r);if(n.seek(r),(u=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(c.configs,i))!==Fe.INVALID_ALT_NUMBER)return u;throw s}if(l.requiresFullContext&&this.predictionMode!==Iu.SLL){var f=null;if(null!==l.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");var p=n.index;if(p!==r&&n.seek(r),1===(f=this.evalSemanticContext(l.predicates,i,!0)).length)return this.debug&&console.log("Full LL avoided"),f.minValue();p!==r&&n.seek(p)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+l);var y=this.computeStartState(t.atnStartState,i,!0);return this.reportAttemptingFullContext(t,f,l.configs,r,n.index),this.execATNWithFullContext(t,l,y,n,r,i)}if(l.isAcceptState){if(null===l.predicates)return l.prediction;var h=n.index;n.seek(r);var b=this.evalSemanticContext(l.predicates,i,!0);if(0===b.length)throw this.noViableAlt(n,i,l.configs,r);return 1===b.length||this.reportAmbiguity(t,l,r,h,!1,b,l.configs),b.minValue()}c=l,a!==o.EOF&&(n.consume(),a=n.LA(1))}}},{key:"getExistingTargetState",value:function(t,e){var n=t.edges;return null===n?null:n[e+1]||null}},{key:"computeTargetState",value:function(t,e,n){var r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,Ji.ERROR),Ji.ERROR;var o=new Wi(null,r),i=this.getUniqueAlt(r);if(this.debug){var u=Iu.getConflictingAltSubsets(r);console.log("SLL altSubSets="+b(u)+", configs="+r+", predict="+i+", allSubsetsConflict="+Iu.allSubsetsConflict(u)+", conflictingAlts="+this.getConflictingAlts(r))}return i!==Fe.INVALID_ALT_NUMBER?(o.isAcceptState=!0,o.configs.uniqueAlt=i,o.prediction=i):Iu.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(o.configs.conflictingAlts=this.getConflictingAlts(r),o.requiresFullContext=!0,o.isAcceptState=!0,o.prediction=o.configs.conflictingAlts.minValue()),o.isAcceptState&&o.configs.hasSemanticContext&&(this.predicateDFAState(o,this.atn.getDecisionState(t.decision)),null!==o.predicates&&(o.prediction=Fe.INVALID_ALT_NUMBER)),this.addDFAEdge(t,e,n,o)}},{key:"predicateDFAState",value:function(t,e){var n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),o=this.getPredsForAmbigAlts(r,t.configs,n);null!==o?(t.predicates=this.getPredicatePredictions(r,o),t.prediction=Fe.INVALID_ALT_NUMBER):t.prediction=r.minValue()}},{key:"execATNWithFullContext",value:function(t,e,n,r,i,u){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+n);var c,a=!1,l=n;r.seek(i);for(var s=r.LA(1),f=-1;;){if(null===(c=this.computeReachSet(l,s,!0))){var p=this.noViableAlt(r,u,l,i);r.seek(i);var y=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(l,u);if(y!==Fe.INVALID_ALT_NUMBER)return y;throw p}var h=Iu.getConflictingAltSubsets(c);if(this.debug&&console.log("LL altSubSets="+h+", predict="+Iu.getUniqueAlt(h)+", resolvesToJustOneViableAlt="+Iu.resolvesToJustOneViableAlt(h)),c.uniqueAlt=this.getUniqueAlt(c),c.uniqueAlt!==Fe.INVALID_ALT_NUMBER){f=c.uniqueAlt;break}if(this.predictionMode!==Iu.LL_EXACT_AMBIG_DETECTION){if((f=Iu.resolvesToJustOneViableAlt(h))!==Fe.INVALID_ALT_NUMBER)break}else if(Iu.allSubsetsConflict(h)&&Iu.allSubsetsEqual(h)){a=!0,f=Iu.getSingleViableAlt(h);break}l=c,s!==o.EOF&&(r.consume(),s=r.LA(1))}return c.uniqueAlt!==Fe.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,f,c,i,r.index),f):(this.reportAmbiguity(t,e,i,r.index,a,null,c),f)}},{key:"computeReachSet",value:function(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new Vu);for(var r=new Ki(n),i=null,u=0;u<t.items.length;u++){var c=t.items[u];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+c),c.state instanceof $)(n||e===o.EOF)&&(null===i&&(i=[]),i.push(c),this.debug_add&&console.log("added "+c+" to skippedStopStates"));else for(var a=0;a<c.state.transitions.length;a++){var l=c.state.transitions[a],s=this.getReachableTarget(l,e);if(null!==s){var f=new L({state:s},c);r.add(f,this.mergeCache),this.debug_add&&console.log("added "+f+" to intermediate")}}}var p=null;if(null===i&&e!==o.EOF&&(1===r.items.length||this.getUniqueAlt(r)!==Fe.INVALID_ALT_NUMBER)&&(p=r),null===p){p=new Ki(n);for(var y=new g,h=e===o.EOF,b=0;b<r.items.length;b++)this.closure(r.items[b],p,y,!1,n,h)}if(e===o.EOF&&(p=this.removeAllConfigsNotInRuleStopState(p,p===r)),!(null===i||n&&Iu.hasConfigInRuleStopState(p)))for(var v=0;v<i.length;v++)p.add(i[v],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+p),0===p.items.length?null:p}},{key:"removeAllConfigsNotInRuleStopState",value:function(t,e){if(Iu.allConfigsInRuleStopStates(t))return t;for(var n=new Ki(t.fullCtx),r=0;r<t.items.length;r++){var i=t.items[r];if(i.state instanceof $)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(o.EPSILON)){var u=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new L({state:u},i),this.mergeCache)}}return n}},{key:"computeStartState",value:function(t,e,n){var r=Ee(this.atn,e),o=new Ki(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(var i=0;i<t.transitions.length;i++){var u=t.transitions[i].target,c=new L({state:u,alt:i+1,context:r},null),a=new g;this.closure(c,o,a,!0,n,!1)}return o}},{key:"applyPrecedenceFilter",value:function(t){for(var e,n=[],r=new Ki(t.fullCtx),o=0;o<t.items.length;o++)if(1===(e=t.items[o]).alt){var i=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==i&&(n[e.state.stateNumber]=e.context,i!==e.semanticContext?r.add(new L({semanticContext:i},e),this.mergeCache):r.add(e,this.mergeCache))}for(var u=0;u<t.items.length;u++)if(1!==(e=t.items[u]).alt){if(!e.precedenceFilterSuppressed){var c=n[e.state.stateNumber]||null;if(null!==c&&c.equals(e.context))continue}r.add(e,this.mergeCache)}return r}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}},{key:"getPredsForAmbigAlts",value:function(t,e,n){for(var r=[],o=0;o<e.items.length;o++){var i=e.items[o];t.has(i.alt)&&(r[i.alt]=j.orContext(r[i.alt]||null,i.semanticContext))}for(var u=0,c=1;c<n+1;c++){var a=r[c]||null;null===a?r[c]=j.NONE:a!==j.NONE&&(u+=1)}return 0===u&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+b(r)),r}},{key:"getPredicatePredictions",value:function(t,e){for(var n=[],r=!1,o=1;o<e.length;o++){var i=e[o];null!==t&&t.has(o)&&n.push(new xu(i,o)),i!==j.NONE&&(r=!0)}return r?n:null}},{key:"getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule",value:function(t,e){var n=this.splitAccordingToSemanticValidity(t,e),r=n[0],o=n[1],i=this.getAltThatFinishedDecisionEntryRule(r);return i!==Fe.INVALID_ALT_NUMBER||o.items.length>0&&(i=this.getAltThatFinishedDecisionEntryRule(o))!==Fe.INVALID_ALT_NUMBER?i:Fe.INVALID_ALT_NUMBER}},{key:"getAltThatFinishedDecisionEntryRule",value:function(t){for(var e=[],n=0;n<t.items.length;n++){var r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof $&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?Fe.INVALID_ALT_NUMBER:Math.min.apply(null,e)}},{key:"splitAccordingToSemanticValidity",value:function(t,e){for(var n=new Ki(t.fullCtx),r=new Ki(t.fullCtx),o=0;o<t.items.length;o++){var i=t.items[o];i.semanticContext!==j.NONE?i.semanticContext.evaluate(this.parser,e)?n.add(i):r.add(i):n.add(i)}return[n,r]}},{key:"evalSemanticContext",value:function(t,e,n){for(var r=new Ce,o=0;o<t.length;o++){var i=t[o];if(i.pred!==j.NONE){var u=i.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+i+"="+u),u&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+i.alt),r.add(i.alt),!n))break}else if(r.add(i.alt),!n)break}return r}},{key:"closure",value:function(t,e,n,r,o,i){this.closureCheckingStopState(t,e,n,r,o,0,i)}},{key:"closureCheckingStopState",value:function(t,e,n,r,o,i,u){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof $){if(!t.context.isEmpty()){for(var c=0;c<t.context.length;c++)if(t.context.getReturnState(c)!==oe.EMPTY_RETURN_STATE){var a=this.atn.states[t.context.getReturnState(c)],l=t.context.getParent(c),s={state:a,alt:t.alt,context:l,semanticContext:t.semanticContext},f=new L(s,null);f.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(f,e,n,r,o,i-1,u)}else{if(o){e.add(new L({state:t.state,context:oe.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,o,i,u)}return}if(o)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,o,i,u)}},{key:"closure_",value:function(t,e,n,r,o,i,u){var c=t.state;c.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(var a=0;a<c.transitions.length;a++)if(0!==a||!this.canDropLoopEntryEdgeInLeftRecursiveRule(t)){var l=c.transitions[a],s=r&&!(l instanceof Or),f=this.getEpsilonTarget(t,l,s,0===i,o,u);if(null!==f){var p=i;if(t.state instanceof $){if(null!==this._dfa&&this._dfa.precedenceDfa&&l.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(f.precedenceFilterSuppressed=!0),f.reachesIntoOuterContext+=1,n.add(f)!==f)continue;e.dipsIntoOuterContext=!0,p-=1,this.debug&&console.log("dips into outer ctx: "+f)}else{if(!l.isEpsilon&&n.add(f)!==f)continue;l instanceof it&&p>=0&&(p+=1)}this.closureCheckingStopState(f,e,n,s,o,p,u)}}}},{key:"canDropLoopEntryEdgeInLeftRecursiveRule",value:function(t){var e=t.state;if(e.stateType!==H.STAR_LOOP_ENTRY)return!1;if(e.stateType!==H.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;for(var n=t.context.length,r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;for(var o=e.transitions[0].target.endState.stateNumber,i=this.atn.states[o],u=0;u<n;u++){var c=t.context.getReturnState(u),a=this.atn.states[c];if(1!==a.transitions.length||!a.transitions[0].isEpsilon)return!1;var l=a.transitions[0].target;if(!(a.stateType===H.BLOCK_END&&l===e||a===i||l===i||l.stateType===H.BLOCK_END&&1===l.transitions.length&&l.transitions[0].isEpsilon&&l.transitions[0].target===e))return!1}return!0}},{key:"getRuleName",value:function(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}},{key:"getEpsilonTarget",value:function(t,e,n,r,i,u){switch(e.serializationType){case tt.RULE:return this.ruleTransition(t,e);case tt.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case tt.PREDICATE:return this.predTransition(t,e,n,r,i);case tt.ACTION:return this.actionTransition(t,e);case tt.EPSILON:return new L({state:e.target},t);case tt.ATOM:case tt.RANGE:case tt.SET:return u&&e.matches(o.EOF,0,1)?new L({state:e.target},t):null;default:return null}}},{key:"actionTransition",value:function(t,e){if(this.debug){var n=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+n)}return new L({state:e.target},t)}},{key:"precedenceTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+b(this.parser.getRuleInvocationStack())));var i=null;if(n&&r)if(o){var u=this._input.index;this._input.seek(this._startIndex);var c=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(i=new L({state:e.target},t))}else{var a=j.andContext(t.semanticContext,e.getPredicate());i=new L({state:e.target,semanticContext:a},t)}else i=new L({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"predTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+b(this.parser.getRuleInvocationStack())));var i=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(o){var u=this._input.index;this._input.seek(this._startIndex);var c=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(u),c&&(i=new L({state:e.target},t))}else{var a=j.andContext(t.semanticContext,e.getPredicate());i=new L({state:e.target,semanticContext:a},t)}else i=new L({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"ruleTransition",value:function(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);var n=e.followState,r=ve.create(t.context,n.stateNumber);return new L({state:e.target,context:r},t)}},{key:"getConflictingAlts",value:function(t){var e=Iu.getConflictingAltSubsets(t);return Iu.getAlts(e)}},{key:"getConflictingAltsOrUniqueAlt",value:function(t){var e=null;return t.uniqueAlt!==Fe.INVALID_ALT_NUMBER?(e=new Ce).add(t.uniqueAlt):e=t.conflictingAlts,e}},{key:"getTokenName",value:function(t){if(t===o.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}},{key:"getLookaheadName",value:function(t){return this.getTokenName(t.LA(1))}},{key:"dumpDeadEndConfigs",value:function(t){console.log("dead end configs: ");for(var e=t.getDeadEndConfigs(),n=0;n<e.length;n++){var r=e[n],o="no edges";if(r.state.transitions.length>0){var i=r.state.transitions[0];i instanceof fr?o="Atom "+this.getTokenName(i.label):i instanceof st&&(o=(i instanceof vt?"~":"")+"Set "+i.set)}console.error(r.toString(this.parser,!0)+":"+o)}}},{key:"noViableAlt",value:function(t,e,n,r){return new Bu(this.parser,t,t.get(r),t.LT(1),n,e)}},{key:"getUniqueAlt",value:function(t){for(var e=Fe.INVALID_ALT_NUMBER,n=0;n<t.items.length;n++){var r=t.items[n];if(e===Fe.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return Fe.INVALID_ALT_NUMBER}return e}},{key:"addDFAEdge",value:function(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){var o=null===this.parser?null:this.parser.literalNames,i=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(o,i))}return r}},{key:"addDFAState",value:function(t,e){if(e===Ji.ERROR)return e;var n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new B(r,o+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,o,e,n)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new B(r,o+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,o,e,n)}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){if(this.debug||this.retry_debug){var c=new B(n,r+1);console.log("reportAmbiguity "+i+":"+u+", input="+this.parser.getTokenStream().getText(c))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,o,i,u)}}],n&&qu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ji);function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function Wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gu(o)?o:String(o)),r)}var o}var Xu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new Te}var e,n;return e=t,(n=[{key:"add",value:function(t){if(t===oe.EMPTY)return oe.EMPTY;var e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}},{key:"get",value:function(t){return this.cache.get(t)||null}},{key:"length",get:function(){return this.cache.length}}])&&Wu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const $u={ATN:Fe,ATNDeserializer:Ho,LexerATNSimulator:Eu,ParserATNSimulator:Yu,PredictionMode:Iu,PredictionContextCache:Xu};function Ju(t){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(t)}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ju(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ju(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ju(o)?o:String(o)),r)}var o}var Zu=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dfa=e,this.literalNames=n||[],this.symbolicNames=r||[]}var e,n;return e=t,n=[{key:"toString",value:function(){if(null===this.dfa.s0)return null;for(var t="",e=this.dfa.sortedStates(),n=0;n<e.length;n++){var r=e[n];if(null!==r.edges)for(var o=r.edges.length,i=0;i<o;i++){var u=r.edges[i]||null;null!==u&&2147483647!==u.stateNumber&&(t=(t=(t=(t=(t=(t=t.concat(this.getStateString(r))).concat("-")).concat(this.getEdgeLabel(i))).concat("->")).concat(this.getStateString(u))).concat("\n"))}}return 0===t.length?null:t}},{key:"getEdgeLabel",value:function(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}},{key:"getStateString",value:function(t){var e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+b(t.predicates):e+"=>"+t.prediction.toString():e}}],n&&Qu(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function tc(t){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(t)}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==tc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===tc(o)?o:String(o)),r)}var o}function nc(t,e){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nc(t,e)}function rc(t){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rc(t)}var oc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nc(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rc(r);if(o){var n=rc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t,null)}return e=u,n=[{key:"getEdgeLabel",value:function(t){return"'"+String.fromCharCode(t)+"'"}}],n&&ec(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Zu);function ic(t){return ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ic(t)}function uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ic(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ic(o)?o:String(o)),r)}var o}var cc=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===n&&(n=0),this.atnStartState=e,this.decision=n,this._states=new g,this.s0=null,this.precedenceDfa=!1,e instanceof zn&&e.isPrecedenceDecision){this.precedenceDfa=!0;var r=new Wi(null,new Ki);r.edges=[],r.isAcceptState=!1,r.requiresFullContext=!1,this.s0=r}}var e,n;return e=t,(n=[{key:"getPrecedenceStartState",value:function(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}},{key:"setPrecedenceStartState",value:function(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}},{key:"setPrecedenceDfa",value:function(t){if(this.precedenceDfa!==t){if(this._states=new g,t){var e=new Wi(null,new Ki);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}else this.s0=null;this.precedenceDfa=t}}},{key:"sortedStates",value:function(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}},{key:"toString",value:function(t,e){return t=t||null,e=e||null,null===this.s0?"":new Zu(this,t,e).toString()}},{key:"toLexerString",value:function(){return null===this.s0?"":new oc(this).toString()}},{key:"states",get:function(){return this._states}}])&&uc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const ac={DFA:cc,DFASerializer:Zu,LexerDFASerializer:oc,PredPrediction:xu},lc={PredictionContext:oe},sc={Interval:B,IntervalSet:V};function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==fc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===fc(o)?o:String(o)),r)}var o}var yc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}},{key:"enterEveryRule",value:function(t){}},{key:"exitEveryRule",value:function(t){}}])&&pc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function hc(t){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(t)}function bc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==hc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hc(o)?o:String(o)),r)}var o}var vc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visit",value:function(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}},{key:"visitChildren",value:function(t){return t.children?this.visit(t.children):null}},{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}}])&&bc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function dc(t){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(t)}function mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==dc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===dc(o)?o:String(o)),r)}var o}var gc=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"walk",value:function(t,e){if(e instanceof Wt||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof Ht)t.visitTerminal(e);else{this.enterRule(t,e);for(var n=0;n<e.getChildCount();n++){var r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}},{key:"enterRule",value:function(t,e){var n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}},{key:"exitRule",value:function(t,e){var n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}],n&&mc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();gc.DEFAULT=new gc;const Sc={Trees:$t,RuleNode:Ut,ErrorNode:Wt,TerminalNode:Ht,ParseTreeListener:yc,ParseTreeVisitor:vc,ParseTreeWalker:gc};function Oc(t){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(t)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}function _c(t){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_c(t)}var Pc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_c(n);if(r){var o=_c(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx})).offendingToken=t.getCurrentToken(),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function Tc(t){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(t)}function Ec(t,e){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ec(t,e)}function kc(t){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kc(t)}var jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ec(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kc(n);if(r){var o=kc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Tc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,{message:xc(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});var u=t._interp.atn.states[t.state].transitions[0];return u instanceof Dr?(r.ruleIndex=u.ruleIndex,r.predicateIndex=u.predIndex):(r.ruleIndex=0,r.predicateIndex=0),r.predicate=e,r.offendingToken=t.getCurrentToken(),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xi);function xc(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Rc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Rc(o)?o:String(o)),r)}var o}function Ac(t,e){return Ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ac(t,e)}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nc(t)}var Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ac(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Nc(r);if(o){var n=Nc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),t=t||!0,(e=i.call(this)).exactOnly=t,e}return e=u,n=[{key:"reportAmbiguity",value:function(t,e,n,r,o,i,u){if(!this.exactOnly||o){var c="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(i,u)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(c)}}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){var u="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(u)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){var u="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new B(n,r))+"'";t.notifyErrorListeners(u)}},{key:"getDecisionDescription",value:function(t,e){var n=e.decision,r=e.atnStartState.ruleIndex,o=t.ruleNames;if(r<0||r>=o.length)return""+n;var i=o[r]||null;return null===i||0===i.length?""+n:"".concat(n," (").concat(i,")")}},{key:"getConflictingAlts",value:function(t,e){if(null!==t)return t;for(var n=new Ce,r=0;r<e.items.length;r++)n.add(e.items[r].alt);return"{".concat(n.values().join(", "),"}")}}],n&&Cc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Go);function Lc(t){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(t)}function Dc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fc(t){var e="function"==typeof Map?new Map:void 0;return Fc=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Bc(t,arguments,Vc(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Uc(r,t)},Fc(t)}function Bc(t,e,n){return Bc=Mc()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Uc(o,n.prototype),o},Bc.apply(null,arguments)}function Mc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Uc(t,e){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uc(t,e)}function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vc(t)}var zc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uc(t,e)}(i,t);var e,n,r,o=(n=i,r=Mc(),function(){var t,e=Vc(n);if(r){var o=Vc(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dc(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),Error.captureStackTrace(Dc(t),i),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Fc(Error));function qc(t){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(t)}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==qc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qc(o)?o:String(o)),r)}var o}function Kc(t){return Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(t)}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Kc(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Kc(o)?o:String(o)),r)}var o}function Gc(t,e){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gc(t,e)}function Wc(t){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wc(t)}var Xc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gc(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wc(r);if(i){var n=Wc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this)).errorRecoveryMode=!1,t.lastErrorIndex=-1,t.lastErrorStates=null,t.nextTokensContext=null,t.nextTokenState=0,t}return e=c,n=[{key:"reset",value:function(t){this.endErrorCondition(t)}},{key:"beginErrorCondition",value:function(t){this.errorRecoveryMode=!0}},{key:"inErrorRecoveryMode",value:function(t){return this.errorRecoveryMode}},{key:"endErrorCondition",value:function(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}},{key:"reportMatch",value:function(t){this.endErrorCondition(t)}},{key:"reportError",value:function(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Bu?this.reportNoViableAlternative(t,e):e instanceof Pc?this.reportInputMismatch(t,e):e instanceof jc?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}},{key:"recover",value:function(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);var n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}},{key:"sync",value:function(t){if(!this.inErrorRecoveryMode(t)){var e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=H.INVALID_STATE_NUMBER);if(r.contains(o.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case H.BLOCK_START:case H.STAR_BLOCK_START:case H.PLUS_BLOCK_START:case H.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new Pc(t);case H.PLUS_LOOP_BACK:case H.STAR_LOOP_BACK:this.reportUnwantedToken(t);var i=new V;i.addSet(t.getExpectedTokens());var u=i.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,u)}}}},{key:"reportNoViableAlternative",value:function(t,e){var n,r=t.getTokenStream();n=null!==r?e.startToken.type===o.EOF?"<EOF>":r.getText(new B(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";var i="no viable alternative at input "+this.escapeWSAndQuote(n);t.notifyErrorListeners(i,e.offendingToken,e)}},{key:"reportInputMismatch",value:function(t,e){var n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportFailedPredicate",value:function(t,e){var n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportUnwantedToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}}},{key:"reportMissingToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}}},{key:"recoverInline",value:function(t){var e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new Pc(t)}},{key:"singleTokenInsertion",value:function(t){var e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}},{key:"singleTokenDeletion",value:function(t){var e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();var n=t.getCurrentToken();return this.reportMatch(t),n}return null}},{key:"getMissingSymbol",value:function(t){var e,n=t.getCurrentToken(),r=this.getExpectedTokens(t).first();e=r===o.EOF?"<missing EOF>":"<missing "+t.literalNames[r]+">";var i=n,u=t.getTokenStream().LT(-1);return i.type===o.EOF&&null!==u&&(i=u),t.getTokenFactory().create(i.source,r,e,o.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}},{key:"getExpectedTokens",value:function(t){return t.getExpectedTokens()}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===o.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}},{key:"escapeWSAndQuote",value:function(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}},{key:"getErrorRecoverySet",value:function(t){for(var e=t._interp.atn,n=t._ctx,r=new V;null!==n&&n.invokingState>=0;){var i=e.states[n.invokingState].transitions[0],u=e.nextTokens(i.followState);r.addSet(u),n=n.parentCtx}return r.removeOne(o.EPSILON),r}},{key:"consumeUntil",value:function(t,e){for(var n=t.getTokenStream().LA(1);n!==o.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}],n&&Yc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"reset",value:function(t){}},{key:"recoverInline",value:function(t){}},{key:"recover",value:function(t,e){}},{key:"sync",value:function(t){}},{key:"inErrorRecoveryMode",value:function(t){}},{key:"reportError",value:function(t){}}])&&Hc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function $c(t){return $c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(t)}function Jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$c(o)?o:String(o)),r)}var o}function Qc(t,e){return Qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qc(t,e)}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zc(t)}var ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qc(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zc(r);if(o){var n=Zc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this)}return e=u,n=[{key:"recover",value:function(t,e){for(var n=t._ctx;null!==n;)n.exception=e,n=n.parentCtx;throw new zc(e)}},{key:"recoverInline",value:function(t){this.recover(t,new Pc(t))}},{key:"sync",value:function(t){}}],n&&Jc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Xc);const ea={RecognitionException:xi,NoViableAltException:Bu,LexerNoViableAltException:Ii,InputMismatchException:Pc,FailedPredicateException:jc,DiagnosticErrorListener:Ic,BailErrorStrategy:ta,DefaultErrorStrategy:Xc,ErrorListener:Go};function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==na(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==na(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===na(o)?o:String(o)),r)}var o}var oa=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="<empty>",this.strdata=e,this.decodeToUnicodeCodePoints=n||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(var r=0;r<this.strdata.length;){var o=this.strdata.codePointAt(r);this.data.push(o),r+=o<=65535?1:2}else{this.data=new Array(this.strdata.length);for(var i=0;i<this.strdata.length;i++)this.data[i]=this.strdata.charCodeAt(i)}this._size=this.data.length}var e,n;return e=t,n=[{key:"reset",value:function(){this._index=0}},{key:"consume",value:function(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}},{key:"LA",value:function(t){if(0===t)return 0;t<0&&(t+=1);var e=this._index+t-1;return e<0||e>=this._size?o.EOF:this.data[e]}},{key:"LT",value:function(t){return this.LA(t)}},{key:"mark",value:function(){return-1}},{key:"release",value:function(t){}},{key:"seek",value:function(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}},{key:"getText",value:function(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){for(var n="",r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}},{key:"toString",value:function(){return this.strdata}},{key:"index",get:function(){return this._index}},{key:"size",get:function(){return this._size}}],n&&ra(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ia(t){return ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(t)}function ua(t,e){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ua(t,e)}function ca(t){return ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ca(t)}var aa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ua(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ca(n);if(r){var o=ca(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ia(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(oa),la=n(92);function sa(t){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(t)}function fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==sa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===sa(o)?o:String(o)),r)}var o}function pa(t,e){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pa(t,e)}function ya(t){return ya=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ya(t)}var ha="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,ba=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pa(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ya(r);if(o){var n=ya(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===sa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),!ha)throw new Error("FileStream is only available when running in Node!");var o=la.readFileSync(t,e||"utf-8");return(r=i.call(this,o,n)).fileName=t,r}return e=u,n=[{key:"fromPath",value:function(t,e,n){if(!ha)throw new Error("FileStream is only available when running in Node!");la.readFile(t,e,(function(t,e){var r=null;null!==e&&(r=new oa(e,!0)),n(t,r)}))}}],null&&0,n&&fa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(aa);const va={fromString:function(t){return new oa(t,!0)},fromBlob:function(t,e,n,r){var o=new window.FileReader;o.onload=function(t){var e=new oa(t.target.result,!0);n(e)},o.onerror=r,o.readAsText(t,e)},fromBuffer:function(t,e){return new oa(t.toString(e),!0)},fromPath:function(t,e,n){ba.fromPath(t,e,n)},fromPathSync:function(t,e){return new ba(t,e)}},da={arrayToString:b,stringToCharArray:function(t){for(var e=new Uint16Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};function ma(t){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(t)}function ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ma(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ma(o)?o:String(o)),r)}var o}function Sa(t,e,n){return e&&ga(t.prototype,e),n&&ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oa(t){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(t)}function wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Oa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Oa(o)?o:String(o)),r)}var o}function _a(t,e){return _a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_a(t,e)}function Pa(t){return Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pa(t)}var Ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_a(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pa(r);if(i){var n=Pa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this)).tokenSource=t,e.tokens=[],e.index=-1,e.fetchedEOF=!1,e}return e=c,n=[{key:"mark",value:function(){return 0}},{key:"release",value:function(t){}},{key:"reset",value:function(){this.seek(0)}},{key:"seek",value:function(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}},{key:"size",get:function(){return this.tokens.length}},{key:"get",value:function(t){return this.lazyInit(),this.tokens[t]}},{key:"consume",value:function(){if(!(this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length))&&this.LA(1)===o.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}},{key:"sync",value:function(t){var e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}},{key:"fetch",value:function(t){if(this.fetchedEOF)return 0;for(var e=0;e<t;e++){var n=this.tokenSource.nextToken();if(n.tokenIndex=this.tokens.length,this.tokens.push(n),n.type===o.EOF)return this.fetchedEOF=!0,e+1}return t}},{key:"getTokens",value:function(t,e,n){if(void 0===n&&(n=null),t<0||e<0)return null;this.lazyInit();var r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(var i=t;i<e;i++){var u=this.tokens[i];if(u.type===o.EOF)break;(null===n||n.contains(u.type))&&r.push(u)}return r}},{key:"LA",value:function(t){return this.LT(t).type}},{key:"LB",value:function(t){return this.index-t<0?null:this.tokens[this.index-t]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);var e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}},{key:"adjustSeekIndex",value:function(t){return t}},{key:"lazyInit",value:function(){-1===this.index&&this.setup()}},{key:"setup",value:function(){this.sync(0),this.index=this.adjustSeekIndex(0)}},{key:"setTokenSource",value:function(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}},{key:"nextTokenOnChannel",value:function(t,e){if(this.sync(t),t>=this.tokens.length)return-1;for(var n=this.tokens[t];n.channel!==this.channel;){if(n.type===o.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}},{key:"previousTokenOnChannel",value:function(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}},{key:"getHiddenTokensToRight",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.nextTokenOnChannel(t+1,Ui.DEFAULT_TOKEN_CHANNEL),r=t+1,o=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,o,e)}},{key:"getHiddenTokensToLeft",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.previousTokenOnChannel(t-1,Ui.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;var r=n+1,o=t-1;return this.filterForChannel(r,o,e)}},{key:"filterForChannel",value:function(t,e,n){for(var r=[],o=t;o<e+1;o++){var i=this.tokens[o];-1===n?i.channel!==Ui.DEFAULT_TOKEN_CHANNEL&&r.push(i):i.channel===n&&r.push(i)}return 0===r.length?null:r}},{key:"getSourceName",value:function(){return this.tokenSource.getSourceName()}},{key:"getText",value:function(t){this.lazyInit(),this.fill(),t||(t=new B(0,this.tokens.length-1));var e=t.start;e instanceof o&&(e=e.tokenIndex);var n=t.stop;if(n instanceof o&&(n=n.tokenIndex),null===e||null===n||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);for(var r="",i=e;i<n+1;i++){var u=this.tokens[i];if(u.type===o.EOF)break;r+=u.text}return r}},{key:"fill",value:function(){for(this.lazyInit();1e3===this.fetch(1e3););}}],n&&wa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Sa((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)})));function Ea(t){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(t)}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ea(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ea(o)?o:String(o)),r)}var o}function ja(t,e){return ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ja(t,e)}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}Object.defineProperty(Ta,"size",{get:function(){return this.tokens.length}});var Ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ja(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xa(r);if(i){var n=xa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ea(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,t)).channel=void 0===e?o.DEFAULT_CHANNEL:e,n}return e=c,n=[{key:"adjustSeekIndex",value:function(t){return this.nextTokenOnChannel(t,this.channel)}},{key:"LB",value:function(t){if(0===t||this.index-t<0)return null;for(var e=this.index,n=1;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);for(var e=this.index,n=1;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}},{key:"getNumberOfOnChannelTokens",value:function(){var t=0;this.fill();for(var e=0;e<this.tokens.length;e++){var n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===o.EOF)break}return t}}],n&&ka(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ta);function Ca(t){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(t)}function Aa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ca(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ca(o)?o:String(o)),r)}var o}function Na(t,e){return Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Na(t,e)}function Ia(t){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ia(t)}var La=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Na(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ia(r);if(o){var n=Ia(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this)).parser=t,e}return e=u,(n=[{key:"enterEveryRule",value:function(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}},{key:"visitTerminal",value:function(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}},{key:"exitEveryRule",value:function(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}])&&Aa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(yc);function Da(t){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(t)}function Fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Da(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Da(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Da(o)?o:String(o)),r)}var o}function Ba(t,e){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ba(t,e)}function Ma(t){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ma(t)}var Ua=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ba(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ma(r);if(i){var n=Ma(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Da(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this))._input=null,e._errHandler=new Xc,e._precedenceStack=[],e._precedenceStack.push(0),e._ctx=null,e.buildParseTrees=!0,e._tracer=null,e._parseListeners=null,e._syntaxErrors=0,e.setInputStream(t),e}return e=c,n=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}},{key:"match",value:function(t){var e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}},{key:"matchWildcard",value:function(){var t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}},{key:"getParseListeners",value:function(){return this._parseListeners||[]}},{key:"addParseListener",value:function(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}},{key:"removeParseListener",value:function(t){if(null!==this._parseListeners){var e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}},{key:"removeParseListeners",value:function(){this._parseListeners=null}},{key:"triggerEnterRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}},{key:"triggerExitRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}},{key:"getTokenFactory",value:function(){return this._input.tokenSource._factory}},{key:"setTokenFactory",value:function(t){this._input.tokenSource._factory=t}},{key:"getATNWithBypassAlts",value:function(){var t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";var e=this.bypassAltsAtnCache[t];if(null===e){var n=new $r;n.generateRuleBypassTransitions=!0,e=new Ho(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}},{key:"getInputStream",value:function(){return this.getTokenStream()}},{key:"setInputStream",value:function(t){this.setTokenStream(t)}},{key:"getTokenStream",value:function(){return this._input}},{key:"setTokenStream",value:function(t){this._input=null,this.reset(),this._input=t}},{key:"syntaxErrorsCount",get:function(){return this._syntaxErrors}},{key:"getCurrentToken",value:function(){return this._input.LT(1)}},{key:"notifyErrorListeners",value:function(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;var r=e.line,o=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,o,t,n)}},{key:"consume",value:function(){var t=this.getCurrentToken();t.type!==o.EOF&&this.getInputStream().consume();var e,n=null!==this._parseListeners&&this._parseListeners.length>0;return(this.buildParseTrees||n)&&((e=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t)).invokingState=this.state,n&&this._parseListeners.forEach((function(t){e instanceof Wt||void 0!==e.isErrorNode&&e.isErrorNode()?t.visitErrorNode(e):e instanceof Ht&&t.visitTerminal(e)}))),t}},{key:"addContextToParseTree",value:function(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}},{key:"enterRule",value:function(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}},{key:"exitRule",value:function(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}},{key:"enterOuterAlt",value:function(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}},{key:"getPrecedence",value:function(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}},{key:"enterRecursionRule",value:function(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}},{key:"pushNewRecursionContext",value:function(t,e,n){var r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}},{key:"unrollRecursionContexts",value:function(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);var e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}},{key:"getInvokingContext",value:function(t){for(var e=this._ctx;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}},{key:"precpred",value:function(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}},{key:"inContext",value:function(t){return!1}},{key:"isExpectedToken",value:function(t){var e=this._interp.atn,n=this._ctx,r=e.states[this.state],i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(o.EPSILON))return!1;for(;null!==n&&n.invokingState>=0&&i.contains(o.EPSILON);){var u=e.states[n.invokingState].transitions[0];if((i=e.nextTokens(u.followState)).contains(t))return!0;n=n.parentCtx}return!(!i.contains(o.EPSILON)||t!==o.EOF)}},{key:"getExpectedTokens",value:function(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}},{key:"getExpectedTokensWithinCurrentRule",value:function(){var t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}},{key:"getRuleIndex",value:function(t){var e=this.getRuleIndexMap()[t];return null!==e?e:-1}},{key:"getRuleInvocationStack",value:function(t){null===(t=t||null)&&(t=this._ctx);for(var e=[];null!==t;){var n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}},{key:"getDFAStrings",value:function(){return this._interp.decisionToDFA.toString()}},{key:"dumpDFA",value:function(){for(var t=!1,e=0;e<this._interp.decisionToDFA.length;e++){var n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}},{key:"getSourceName",value:function(){return this._input.sourceName}},{key:"setTrace",value:function(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new La(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}],n&&Fa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(ai);function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Va(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Va(o)?o:String(o)),r)}var o}function qa(t,e){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qa(t,e)}function Ha(t){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ha(t)}Ua.bypassAltsAtnCache={};var Ka=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qa(t,e)}(c,t);var e,n,r,i,u=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ha(r);if(i){var n=Ha(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=u.call(this)).parentCtx=null,e.symbol=t,e}return e=c,(n=[{key:"getChild",value:function(t){return null}},{key:"getSymbol",value:function(){return this.symbol}},{key:"getParent",value:function(){return this.parentCtx}},{key:"getPayload",value:function(){return this.symbol}},{key:"getSourceInterval",value:function(){if(null===this.symbol)return B.INVALID_INTERVAL;var t=this.symbol.tokenIndex;return new B(t,t)}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitTerminal(this)}},{key:"getText",value:function(){return this.symbol.text}},{key:"toString",value:function(){return this.symbol.type===o.EOF?"<EOF>":this.symbol.text}}])&&za(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ht);function Ya(t){return Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ya(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ya(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ya(o)?o:String(o)),r)}var o}function Wa(t,e){return Wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wa(t,e)}function Xa(t){return Xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(t)}var $a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wa(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xa(r);if(o){var n=Xa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ya(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,t)}return e=u,(n=[{key:"isErrorNode",value:function(){return!0}},{key:"accept",value:function(t){return t.visitErrorNode(this)}}])&&Ga(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Ka);function Ja(t){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(t)}function Qa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ja(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ja(o)?o:String(o)),r)}var o}function Za(t,e){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Za(t,e)}function tl(t){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tl(t)}var el=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Za(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=tl(r);if(o){var n=tl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t,e)).children=null,n.start=null,n.stop=null,n.exception=null,n}return e=u,n=[{key:"copyFrom",value:function(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof $a&&(this.children.push(t),t.parentCtx=this)}),this))}},{key:"enterRule",value:function(t){}},{key:"exitRule",value:function(t){}},{key:"addChild",value:function(t){return null===this.children&&(this.children=[]),this.children.push(t),t}},{key:"removeLastChild",value:function(){null!==this.children&&this.children.pop()}},{key:"addTokenNode",value:function(t){var e=new Ka(t);return this.addChild(e),e.parentCtx=this,e}},{key:"addErrorNode",value:function(t){var e=new $a(t);return this.addChild(e),e.parentCtx=this,e}},{key:"getChild",value:function(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}},{key:"getToken",value:function(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof Ht&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}},{key:"getTokens",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof Ht&&r.symbol.type===t&&e.push(r)}return e}},{key:"getTypedRuleContext",value:function(t,e){return this.getChild(e,t)}},{key:"getTypedRuleContexts",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof t&&e.push(r)}return e}},{key:"getChildCount",value:function(){return null===this.children?0:this.children.length}},{key:"getSourceInterval",value:function(){return null===this.start||null===this.stop?B.INVALID_INTERVAL:new B(this.start.tokenIndex,this.stop.tokenIndex)}}],n&&Qa(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(ee);function nl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rl(t,e)}function rl(t,e){return rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rl(t,e)}function ol(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=il(t);if(e){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ul(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function il(t){return il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},il(t)}function ul(t){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(t)}function cl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return al(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?al(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function al(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ll(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pl(r.key),r)}}function fl(t,e,n){return e&&sl(t.prototype,e),n&&sl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pl(t){var e=function(t,e){if("object"!==ul(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ul(e)?e:String(e)}ee.EMPTY=new el;var yl,hl,bl,vl=function(){function t(e){ll(this,t),this.tokens=e,this.programs=new Map}return fl(t,[{key:"getTokenStream",value:function(){return this.tokens}},{key:"insertAfter",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),u=new gl(this.tokens,r,i.length,n);i.push(u)}},{key:"insertBefore",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),u=new ml(this.tokens,r,i.length,n);i.push(u)}},{key:"replaceSingle",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;this.replace(e,e,n,r)}},{key:"replace",value:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_PROGRAM_NAME;if("number"!=typeof e&&(e=e.tokenIndex),"number"!=typeof n&&(n=n.tokenIndex),e>n||e<0||n<0||n>=this.tokens.size)throw new RangeError("replace: range invalid: ".concat(e,"..").concat(n,"(size=").concat(this.tokens.size,")"));var i=this.getProgram(o),u=new Sl(this.tokens,e,n,i.length,r);i.push(u)}},{key:"delete",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;void 0===n&&(n=e),this.replace(e,n,null,r)}},{key:"getProgram",value:function(t){var e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}},{key:"initializeProgram",value:function(t){var e=[];return this.programs.set(t,e),e}},{key:"getText",value:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_PROGRAM_NAME;n=e instanceof B?e:new B(0,this.tokens.size-1),"string"==typeof e&&(r=e);var i=this.programs.get(r),u=n.start,c=n.stop;if(c>this.tokens.size-1&&(c=this.tokens.size-1),u<0&&(u=0),null==i||0===i.length)return this.tokens.getText(new B(u,c));for(var a=[],l=this.reduceToSingleOperationPerIndex(i),s=u;s<=c&&s<this.tokens.size;){var f=l.get(s);l.delete(s);var p=this.tokens.get(s);null==f?(p.type!==o.EOF&&a.push(String(p.text)),s++):s=f.execute(a)}if(c===this.tokens.size-1){var y,h=cl(l.values());try{for(h.s();!(y=h.n()).done;){var b=y.value;b.index>=this.tokens.size-1&&a.push(b.text.toString())}}catch(t){h.e(t)}finally{h.f()}}return a.join("")}},{key:"reduceToSingleOperationPerIndex",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null!=n&&n instanceof Sl){var r,o=n,i=cl(this.getKindOfOps(t,ml,e));try{for(i.s();!(r=i.n()).done;){var u=r.value;u.index===o.index?(t[u.instructionIndex]=void 0,o.text=u.text.toString()+(null!=o.text?o.text.toString():"")):u.index>o.index&&u.index<=o.lastIndex&&(t[u.instructionIndex]=void 0)}}catch(t){i.e(t)}finally{i.f()}var c,a=cl(this.getKindOfOps(t,Sl,e));try{for(a.s();!(c=a.n()).done;){var l=c.value;if(l.index>=o.index&&l.lastIndex<=o.lastIndex)t[l.instructionIndex]=void 0;else{var s=l.lastIndex<o.index||l.index>o.lastIndex;if(null!=l.text||null!=o.text||s){if(!s)throw new Error("replace op boundaries of ".concat(o," overlap with previous ").concat(l))}else t[l.instructionIndex]=void 0,o.index=Math.min(l.index,o.index),o.lastIndex=Math.max(l.lastIndex,o.lastIndex)}}}catch(t){a.e(t)}finally{a.f()}}}for(var f=0;f<t.length;f++){var p=t[f];if(null!=p&&p instanceof ml){var y,h=p,b=cl(this.getKindOfOps(t,ml,f));try{for(b.s();!(y=b.n()).done;){var v=y.value;v.index===h.index&&(v instanceof gl?(h.text=this.catOpText(v.text,h.text),t[v.instructionIndex]=void 0):v instanceof ml&&(h.text=this.catOpText(h.text,v.text),t[v.instructionIndex]=void 0))}}catch(t){b.e(t)}finally{b.f()}var d,m=cl(this.getKindOfOps(t,Sl,f));try{for(m.s();!(d=m.n()).done;){var g=d.value;if(h.index!==g.index){if(h.index>=g.index&&h.index<=g.lastIndex)throw new Error("insert op ".concat(h," within boundaries of previous ").concat(g))}else g.text=this.catOpText(h.text,g.text),t[f]=void 0}}catch(t){m.e(t)}finally{m.f()}}}var S,O=new Map,w=cl(t);try{for(w.s();!(S=w.n()).done;){var _=S.value;if(null!=_){if(null!=O.get(_.index))throw new Error("should only be one op per index");O.set(_.index,_)}}}catch(t){w.e(t)}finally{w.f()}return O}},{key:"catOpText",value:function(t,e){var n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}},{key:"getKindOfOps",value:function(t,e,n){return t.slice(0,n).filter((function(t){return t&&t instanceof e}))}}]),t}();yl=vl,bl="default",(hl=pl(hl="DEFAULT_PROGRAM_NAME"))in yl?Object.defineProperty(yl,hl,{value:bl,enumerable:!0,configurable:!0,writable:!0}):yl[hl]=bl;var dl=function(){function t(e,n,r,o){ll(this,t),this.tokens=e,this.instructionIndex=r,this.index=n,this.text=void 0===o?"":o}return fl(t,[{key:"toString",value:function(){var t=this.constructor.name,e=t.indexOf("$");return"<"+(t=t.substring(e+1,t.length))+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}]),t}(),ml=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i){return ll(this,n),e.call(this,t,r,o,i)}return fl(n,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==o.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}]),n}(dl),gl=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i){return ll(this,n),e.call(this,t,r+1,o,i)}return fl(n)}(ml),Sl=function(t){nl(n,t);var e=ol(n);function n(t,r,o,i,u){var c;return ll(this,n),(c=e.call(this,t,r,i,u)).lastIndex=o,c}return fl(n,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}},{key:"toString",value:function(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}]),n}(dl);const Ol={atn:$u,dfa:ac,context:lc,misc:sc,tree:Sc,error:ea,Token:o,CommonToken:yi,CharStreams:va,CharStream:aa,InputStream:aa,CommonTokenStream:Ra,Lexer:Ui,Parser:Ua,ParserRuleContext:el,Interval:B,IntervalSet:V,LL1Analyzer:Ie,Utils:da,TokenStreamRewriter:vl}})();var o=exports;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=antlr4.web.cjs.map

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var exports = __webpack_exports__;
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
const LoadPrimaryPage_1 = __webpack_require__(/*! ./LoadPrimaryPage */ "./src/LoadPrimaryPage.ts");
const LoadExpressionTestPage_1 = __webpack_require__(/*! ./LoadExpressionTestPage */ "./src/LoadExpressionTestPage.ts");
const LoadInputParseTestPage_1 = __webpack_require__(/*! ./LoadInputParseTestPage */ "./src/LoadInputParseTestPage.ts");
const LoadSolverPage_1 = __webpack_require__(/*! ./LoadSolverPage */ "./src/LoadSolverPage.ts");
const LoadSimplificationTestPage_1 = __webpack_require__(/*! ./LoadSimplificationTestPage */ "./src/LoadSimplificationTestPage.ts");
window.onload = () => {
    setTimeout(function () {
        /**
         * Populate html elements by their class.
         */
        const classes = document.getElementsByTagName("body")[0].classList;
        if (classes.contains("expressionTestPage")) {
            (0, LoadExpressionTestPage_1.loadExpressionsTestPage)();
        }
        else if (classes.contains("primaryIntegrator")) {
            (0, LoadPrimaryPage_1.loadPrimaryPage)();
        }
        else if (classes.contains("inputParseTest")) {
            (0, LoadInputParseTestPage_1.loadInputParseTestPage)();
        }
        else if (classes.contains("solve_in_steps")) {
            (0, LoadSolverPage_1.loadSolverPage)();
        }
        else if (classes.contains("mathTests")) {
            (0, LoadSimplificationTestPage_1.loadSimplificationTestPage)();
        }
    }, 100);
};

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGlCQUFpQixnQ0FBZ0M7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZCQUE2Qjs7QUFFbEQ7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDBCQUEwQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3ZGQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBLGVBQWUsbUJBQU8sQ0FBQyw0REFBZTs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUJBQXlCO0FBQ3pCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHNCQUFzQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QjtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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QUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7O0FDaEpBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQy9EQTs7QUFFQSxlQUFlLG1CQUFPLENBQUMsa0VBQWE7QUFDcEMsaUJBQWlCLG1CQUFPLENBQUMsc0VBQWU7QUFDeEMsc0JBQXNCLG1CQUFPLENBQUMsbUZBQXVCO0FBQ3JELDZCQUE2QixtQkFBTyxDQUFDLG9HQUE2Qjs7QUFFbEU7O0FBRUEsaUJBQWlCO0FBQ2pCLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDaFFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNySEE7QUFDQSxTQUFTLG1CQUFPLENBQUMsdUVBQW9CO0FBQ3JDLFdBQVcsbUJBQU8sQ0FBQyxrRkFBd0I7QUFDM0MsT0FBTyxtQkFBTyxDQUFDLDZFQUF1QjtBQUN0Qzs7Ozs7Ozs7Ozs7Ozs7O0FDSkEscUlBV3dDO0FBQ3hDLDRIQUE2RDtBQUM3RCxzSEFBeUQ7QUFFekQsc0hBQXlEO0FBQ3pELHNIQUF5RDtBQUN6RCw0SUFBd0U7QUFFeEU7Ozs7R0FJRztBQUNILFNBQWdCLHVCQUF1QjtJQUNuQyxNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFvQjtJQUV4RSxTQUFTLENBQUMsQ0FBQyxPQUFlO1FBQ3RCLE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxTQUFTLEdBQUcsT0FBTztRQUNyQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBRUQsU0FBUyxJQUFJLENBQUMsR0FBZTtRQUN6QixNQUFNLENBQUMsR0FBRyxJQUFJLG1DQUFnQixFQUFFO1FBQ2hDLENBQUMsQ0FBQyxLQUFLLEdBQUcsR0FBRztRQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFRCxDQUFDLENBQUMsd0JBQXdCLENBQUM7SUFDM0IsSUFBSSxDQUFDLCtCQUFHLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQztJQUVsQixDQUFDLENBQUMsd0NBQXdDLENBQUM7SUFDM0MsSUFBSSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQztJQUV2QyxDQUFDLENBQUMsaURBQWlELENBQUM7SUFDcEQsSUFBSSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFFdkQsQ0FBQyxDQUFDLDBEQUEwRCxDQUFDO0lBQzdELElBQUksQ0FBQyxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxtQkFBUSxDQUFDLEVBQUUsQ0FBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQztJQUV2RSxDQUFDLENBQUMsbUVBQW1FLENBQUM7SUFDdEUsSUFBSSxDQUNBLG1CQUFRLENBQUMsRUFBRSxDQUNQLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUNqRSx5QkFBQyxDQUNKLENBQ0o7SUFFRCxDQUFDLENBQ0csNEVBQTRFLENBQy9FO0lBQ0QsSUFBSSxDQUNBLG1CQUFRLENBQUMsRUFBRSxDQUNQLG1CQUFRLENBQUMsRUFBRSxDQUNQLG1CQUFRLENBQUMsRUFBRSxDQUNQLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQ2pELHlCQUFDLENBQ0osRUFDRCx5QkFBQyxDQUNKLEVBQ0QseUJBQUMsQ0FDSixDQUNKO0lBRUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNMLElBQUksQ0FDQSwrQkFBRyxFQUNDLG1CQUFRLENBQUMsRUFBRSxDQUNQLCtCQUFHLEVBQ0Msb0NBQVEsRUFBQyx5QkFBQyxDQUFDLEVBQ1gsbUJBQVEsQ0FBQyxFQUFFLENBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSxtQkFBUSxDQUFDLEVBQUUsQ0FBQywrQkFBRyxFQUFDLENBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUN0RCxFQUNELG1DQUFPLEVBQUMsK0JBQUcsRUFBQyxDQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLENBQ3JCLEVBQ0QseUJBQUMsQ0FDSixDQUNKO0lBRUQsQ0FBQyxDQUFDLG9CQUFvQixDQUFDO0lBQ3ZCLElBQUksQ0FBQyxtQ0FBTyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBRW5CLENBQUMsQ0FBQyw0QkFBNEIsQ0FBQztJQUMvQixJQUFJLENBQUMsbUNBQU8sRUFBQywrQkFBRyxFQUFDLHlCQUFDLEVBQUUsb0NBQVEsRUFBQywrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBRW5ELENBQUMsQ0FBQyxtREFBbUQsQ0FBQztJQUN0RCxJQUFJLENBQUMsb0NBQVEsRUFBQyx5QkFBQyxDQUFDLENBQUM7SUFFakIsQ0FBQyxDQUFDLGlCQUFpQixDQUFDO0lBQ3BCLElBQUksQ0FBQywrQkFBRyxFQUFDLHlCQUFDLEVBQUUsb0NBQVEsRUFBQyx5QkFBQyxDQUFDLENBQUMsQ0FBQztJQUV6QixDQUFDLENBQUMsaUJBQWlCLENBQUM7SUFDcEIsSUFBSSxDQUFDLCtCQUFHLEVBQUMsb0NBQVEsRUFBQyx5QkFBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBRXpCLENBQUMsQ0FBQyxpREFBaUQsQ0FBQztJQUNwRCxJQUFJLENBQUMsdUJBQVUsQ0FBQyxFQUFFLENBQUMsbUJBQVEsQ0FBQyxFQUFFLENBQUMseUJBQUMsRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBRTlDLENBQUMsQ0FBQywwQ0FBMEMsQ0FBQztJQUM3QyxJQUFJLENBQUMsdUJBQVUsQ0FBQyxFQUFFLENBQUMsbUJBQVEsQ0FBQyxFQUFFLENBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFFNUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNMLElBQUksQ0FBQywrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBRVosQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNMLElBQUksQ0FBQywrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBRVosQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNMLElBQUksQ0FBQywrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBRVosQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNMLElBQUksQ0FBQywrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hCLENBQUM7QUFqR0QsMERBaUdDOzs7Ozs7Ozs7Ozs7Ozs7QUN4SEQscUlBWXdDO0FBQ3hDLHNIQUF5RDtBQUV6RCx5SEFBMkQ7QUFDM0QsNElBQXdFO0FBQ3hFLHVJQUFxRTtBQUdyRTs7OztHQUlHO0FBQ0gsU0FBZ0Isc0JBQXNCO0lBQ2xDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQW9CO0lBQ3hFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUs7SUFFMUIsU0FBUyxDQUFDLENBQUMsT0FBZTtRQUN0QixNQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQztRQUNyQyxDQUFDLENBQUMsU0FBUyxHQUFHLE9BQU87UUFDckIsT0FBTyxDQUFDO0lBQ1osQ0FBQztJQUVELFNBQVMsSUFBSSxDQUFDLEdBQWU7UUFDekIsTUFBTSxDQUFDLEdBQUcsSUFBSSxtQ0FBZ0IsRUFBRTtRQUNoQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUc7UUFDYixPQUFPLENBQUM7SUFDWixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFNBQVMsVUFBVSxDQUFDLEtBQWEsRUFBRSxjQUE2QixJQUFJO1FBQ2hFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsQ0FBQztRQUN2QyxJQUFJLFdBQVcsSUFBSSxJQUFJO1lBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMscUNBQWUsRUFBQyxLQUFLLENBQWdCLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSCxTQUFTLE1BQU0sQ0FBQyxLQUFpQjtRQUM3QixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQztRQUM3QyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxpQkFBaUI7UUFDdEMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSztRQUN6QixNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUN4QyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQztRQUV0QixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMxQyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMxQyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMxQyxHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUN0QixHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUN0QixHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztRQUN0QixLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxpQkFBaUI7UUFDdEMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsaUJBQWlCO1FBQ3RDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLGlCQUFpQjtRQUV0QyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTztRQUM1QixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxRQUFRO1FBQy9CLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLE1BQU0sV0FBVyxHQUFHLHFDQUFlLEVBQUMsS0FBSyxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDaEUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFFbEIseUJBQXlCO1FBQ3pCLElBQUksS0FBSyxLQUFLLFdBQVcsRUFBRTtZQUN2QixLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxZQUFZO1NBQzdDO2FBQU07WUFDSCxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxLQUFLO1NBQ3RDO0lBQ0wsQ0FBQztJQUVELDZCQUE2QjtJQUM3QixVQUFVLENBQUMsWUFBWSxDQUFDO0lBQ3hCLFVBQVUsQ0FBQyxTQUFTLENBQUM7SUFFckIsVUFBVSxDQUFDLE9BQU8sRUFBRSxxQ0FBcUMsQ0FBQztJQUMxRCxVQUFVLENBQUMsT0FBTyxDQUFDO0lBQ25CLFVBQVUsQ0FBQyxTQUFTLENBQUM7SUFFckIsVUFBVSxDQUFDLFFBQVEsQ0FBQztJQUNwQixVQUFVLENBQUMsU0FBUyxDQUFDO0lBQ3JCLFVBQVUsQ0FBQyxPQUFPLENBQUM7SUFDbkIsVUFBVSxDQUFDLFFBQVEsQ0FBQztJQUNwQixVQUFVLENBQUMsU0FBUyxDQUFDO0lBQ3JCLFVBQVUsQ0FBQyxTQUFTLENBQUM7SUFDckIsVUFBVSxDQUFDLE9BQU8sQ0FBQztJQUNuQixVQUFVLENBQUMsT0FBTyxDQUFDO0lBQ25CLFVBQVUsQ0FBQyxPQUFPLENBQUM7SUFDbkIsVUFBVSxDQUFDLE9BQU8sQ0FBQztJQUNuQixVQUFVLENBQUMsT0FBTyxDQUFDO0lBQ25CLFVBQVUsQ0FBQyxRQUFRLENBQUM7SUFDcEIsVUFBVSxDQUFDLFNBQVMsQ0FBQztJQUNyQixVQUFVLENBQUMsTUFBTSxDQUFDO0lBQ2xCLFVBQVUsQ0FBQyxTQUFTLENBQUM7SUFDckIsVUFBVSxDQUFDLE9BQU8sQ0FBQztJQUVuQixVQUFVLENBQUMsU0FBUyxDQUFDO0lBQ3JCLFVBQVUsQ0FBQyxXQUFXLENBQUM7SUFFdkIsVUFBVSxDQUFDLE1BQU0sQ0FBQztJQUNsQixVQUFVLENBQUMsUUFBUSxDQUFDO0lBQ3BCLFVBQVUsQ0FBQywwQkFBMEIsQ0FBQztJQUN0QyxVQUFVLENBQUMsd0JBQXdCLENBQUM7SUFFcEMsSUFBSSxDQUFDLE1BQU0sQ0FDUCxDQUFDLENBQ0csOERBQThEO1FBQzFELDhEQUE4RDtRQUM5RCwyREFBMkQ7UUFDM0QsK0RBQStEO1FBQy9ELHNFQUFzRTtRQUN0RSxrQ0FBa0MsQ0FDekMsQ0FDSjtJQUNELElBQUksQ0FBQyxNQUFNLENBQ1AsQ0FBQyxDQUNHLG9FQUFvRTtRQUNoRSxrRUFBa0U7UUFDbEUsNEVBQTRFLENBQ25GLENBQ0o7SUFDRCxNQUFNLENBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLEVBQUUseUJBQUMsRUFBRSx5QkFBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQztJQUMxQixNQUFNLENBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLEVBQUUsb0NBQVEsRUFBQyx5QkFBQyxDQUFDLEVBQUUseUJBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFDcEMsTUFBTSxDQUFDLCtCQUFHLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxFQUFFLG9DQUFRLEVBQUMseUJBQUMsQ0FBQyxFQUFFLG9DQUFRLEVBQUMseUJBQUMsQ0FBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLEVBQUUsb0NBQVEsRUFBQyx5QkFBQyxDQUFDLEVBQUUseUJBQUMsRUFBRSxvQ0FBUSxFQUFDLHlCQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLE1BQU0sQ0FBQywrQkFBRyxFQUFDLHlCQUFDLEVBQUUsbUJBQVEsQ0FBQyxFQUFFLENBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUMsQ0FBQztJQUNqQyxNQUFNLENBQUMsbUJBQVEsQ0FBQyxFQUFFLENBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFDakMsTUFBTSxDQUFDLCtCQUFHLEVBQUMsb0NBQVEsRUFBQyx5QkFBQyxDQUFDLEVBQUUsb0NBQVEsRUFBQyx5QkFBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sQ0FBQywrQkFBRyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFDcEIsTUFBTSxDQUFDLG9DQUFRLEVBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLE1BQU0sQ0FBQyxtQ0FBTyxFQUFDLG9DQUFRLEVBQUMseUJBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxNQUFNLENBQUMsb0NBQVEsRUFBQyxtQ0FBTyxFQUFDLHlCQUFDLEVBQUUsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkMsTUFBTSxDQUFDLCtCQUFHLEVBQUMseUJBQUMsRUFBRSwrQkFBRyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsTUFBTSxDQUFDLCtCQUFHLEVBQUMseUJBQUMsRUFBRSxvQ0FBUSxFQUFDLHlCQUFDLENBQUMsRUFBRSxvQ0FBUSxFQUFDLHlCQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sQ0FBQywrQkFBRyxFQUFDLG1DQUFPLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBQzdCLE1BQU0sQ0FBQywrQkFBRyxFQUFDLG9DQUFRLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBQzlCLE1BQU0sQ0FBQyxvQ0FBUSxFQUFDLG9DQUFRLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBQ25DLE1BQU0sQ0FBQywrQkFBRyxFQUFDLG1DQUFPLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFDaEMsTUFBTSxDQUFDLCtCQUFHLEVBQUMsb0NBQVEsRUFBQyxtQ0FBTyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUMsRUFBRSxvQ0FBUSxFQUFDLHlCQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BELE1BQU0sQ0FBQywrQkFBRyxFQUFDLG9DQUFRLEVBQUMseUJBQUMsQ0FBQyxFQUFFLG9DQUFRLEVBQUMsbUNBQU8sRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQyxFQUFFLG9DQUFRLEVBQUMseUJBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUQsTUFBTSxDQUFDLG1DQUFPLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxFQUFFLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDO0lBQzNCLGtCQUFrQjtJQUNsQixvQkFBb0I7SUFDcEIsc0JBQXNCO0lBQ3RCLE1BQU0sQ0FBQyxxQkFBUyxDQUFDLEVBQUUsQ0FBQyx5QkFBQyxFQUFFLCtCQUFHLEVBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNwQyxDQUFDO0FBN0lELHdEQTZJQzs7Ozs7Ozs7Ozs7Ozs7O0FDdktELHFJQVF3QztBQUN4QyxnSUFHMEM7QUFDMUMsbUhBQXlFO0FBQ3pFLDRIQUE2RDtBQUM3RCxzS0FBeUY7QUFDekYsNktBQTJGO0FBQzNGLGlLQUFtRjtBQUNuRixzSEFBeUQ7QUFDekQsbUhBQXVEO0FBQ3ZELHVHQUErQztBQUMvQyxpSUFBZ0U7QUFDaEUsa0tBQWtHO0FBQ2xHLHVLQUFvRTtBQUNwRSx1SUFBcUU7QUFFckUsc0hBQXlEO0FBQ3pELHNIQUF5RDtBQUV6RCxtREFBd0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksNkNBQXFCLEVBQUUsQ0FBQztBQUMvRCxtREFBd0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUkscUNBQWlCLEVBQUUsQ0FBQztBQUUzRDs7OztHQUlHO0FBQ0gsU0FBZ0IsZUFBZTtJQUMzQiwrQ0FBK0M7SUFDL0MsSUFBSSxJQUFJLEdBQXNCLG1CQUFRLENBQUMsRUFBRSxDQUNyQyxtQ0FBTyxFQUFDLCtCQUFHLEVBQUMsRUFBRSxDQUFDLEVBQUUsbUJBQVEsQ0FBQyxFQUFFLENBQUMseUJBQUMsRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDeEMseUJBQUMsQ0FDSjtJQUVELElBQUksZ0JBQWdCLEdBQUcsMEJBQVksRUFBQyx5QkFBVyxFQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUM7SUFDaEUsTUFBTSxLQUFLLEdBQUcsZ0JBQWdCLENBQUMsS0FBSztJQUVwQyxNQUFNLFdBQVcsR0FBRyxJQUFJLHlCQUFXLENBQUM7UUFDaEMsS0FBSyxFQUFFLHlDQUFLLEVBQUMsc0JBQWtCLENBQUM7S0FDbkMsQ0FBQztJQUVGLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUF3QjtJQUNyRSxLQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFO1FBQ25DLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxPQUFPO1lBQUUsT0FBTTtRQUM3QixDQUFDLENBQUMsY0FBYyxFQUFFO1FBRWxCLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUU7UUFFbkMsSUFBSTtZQUNBLElBQUksR0FBRyxxQ0FBZSxFQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7U0FDdEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksR0FBRyxJQUFJO1lBQ1gsS0FBSyxDQUFDLG1CQUFtQixDQUFDO1lBQzFCLE9BQU07U0FDVDtRQUVELGdCQUFnQixHQUFHLDBCQUFZLEVBQUMseUJBQVcsRUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDO1FBQzNELE1BQU0sS0FBSyxHQUFHLGdCQUFnQixDQUFDLEtBQUs7UUFFcEMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUseUNBQUssRUFBQyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUM7SUFFRixNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBRTtJQUVqRCxNQUFNLE1BQU0sR0FBNkI7UUFDckMsYUFBYSxFQUFFLEtBQUs7UUFDcEIsYUFBYSxFQUFFLElBQUk7UUFDbkIsa0JBQWtCLEVBQUUsSUFBSTtLQUMzQjtJQUVELE1BQU0sU0FBUyxHQUFHLElBQUksMkJBQVksQ0FDOUIsS0FBSyxFQUNMLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFDZixXQUFXLEVBQ1gsTUFBTSxDQUNUO0lBQ0QsU0FBUyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ2hDLElBQUksQ0FBQyxZQUFZLHVCQUFVLEVBQUU7WUFDekIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7Z0JBQUUsT0FBTyxXQUFXO1lBRXpELElBQUksQ0FBQyxZQUFZLGlCQUFPO2dCQUNwQixJQUFJLGdCQUFnQixDQUFDLDZCQUE2QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ3JELE9BQU8sT0FBTztZQUN0QixJQUFJLENBQUMsWUFBWSxTQUFHO2dCQUNoQixJQUFJLGdCQUFnQixDQUFDLDhCQUE4QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ3RELE9BQU8sUUFBUTtZQUN2QixJQUFJLGdCQUFnQixDQUFDLDhCQUE4QixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RELE9BQU8sWUFBWTtZQUV2QixJQUFJLENBQUMsWUFBWSxtQkFBUTtnQkFBRSxPQUFPLFFBQVE7WUFFMUMsT0FBTyxXQUFXO1NBQ3JCO1FBQ0QsT0FBTyxPQUFPO0lBQ2xCLENBQUMsQ0FBQztJQUNGLFNBQVMsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLGVBQWUsQ0FBQztJQUM3QyxHQUFHLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQztBQUM5QixDQUFDO0FBdEVELDBDQXNFQzs7Ozs7Ozs7Ozs7Ozs7O0FDM0dELHFJQWF3QztBQUN4QyxtSEFBeUU7QUFFekUsNElBQXdFO0FBQ3hFLHVJQUFxRTtBQUVyRTs7OztHQUlHO0FBQ0gsU0FBZ0IsMEJBQTBCO0lBQ3RDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQW9CO0lBQ3hFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUs7SUFFMUIsU0FBUyxDQUFDLENBQUMsT0FBZTtRQUN0QixNQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQztRQUNyQyxDQUFDLENBQUMsU0FBUyxHQUFHLE9BQU87UUFDckIsT0FBTyxDQUFDO0lBQ1osQ0FBQztJQUVELFNBQVMsSUFBSSxDQUFDLEdBQWU7UUFDekIsTUFBTSxDQUFDLEdBQUcsSUFBSSxtQ0FBZ0IsRUFBRTtRQUNoQyxDQUFDLENBQUMsS0FBSyxHQUFHLEdBQUc7UUFDYixPQUFPLENBQUM7SUFDWixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFNBQVMsUUFBUSxDQUFDLEtBQWlCLEVBQUUsSUFBZ0I7UUFDakQsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUM7UUFDN0MsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsaUJBQWlCO1FBQ3RDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDekIsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7UUFDeEMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUM7UUFFdEIsU0FBUyxNQUFNLENBQUMsSUFBMEI7WUFDdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsaUJBQWlCO1lBQ3JDLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO1FBQ3pCLENBQUM7UUFFRCxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMxQyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMxQyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQztRQUMxQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ2IsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNiLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFFYixLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixNQUFNLGdCQUFnQixHQUFHLDBCQUFZLEVBQUMseUJBQVcsRUFBQyxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUM7UUFFN0QsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMscUJBQXFCO1FBQ3RELE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUMzQixJQUFJLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3JCLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLEtBQUs7WUFDbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDbEIsT0FBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFFbEIseUJBQXlCO1FBQ3pCLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRTtZQUNyQixLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxZQUFZO1NBQzdDO2FBQU07WUFDSCxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxLQUFLO1lBQ25DLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDO1lBQzFDLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDO1lBQzFDLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDYixNQUFNLENBQUMsS0FBSyxDQUFDO1lBQ2IsTUFBTSxDQUFDLEtBQUssQ0FBQztZQUNiLEtBQUssQ0FBQyxTQUFTO2dCQUNYLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsRUFBRTtvQkFDaEMsTUFBTTtvQkFDTixJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDOUIsS0FBSyxDQUFDLFNBQVM7Z0JBQ1gsY0FBYyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJO1lBQ3pELEtBQUssQ0FBQyxTQUFTLEdBQUcsT0FBTyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFO1NBQy9EO0lBQ0wsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxTQUFTLEtBQUssQ0FBQyxLQUFhLEVBQUUsSUFBWTtRQUN0QyxNQUFNLFFBQVEsR0FBRyxxQ0FBZSxFQUFDLEtBQUssQ0FBQztRQUN2QyxNQUFNLE9BQU8sR0FBRyxxQ0FBZSxFQUFDLElBQUksQ0FBQztRQUNyQyxRQUFRLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQztJQUMvQixDQUFDO0lBRUQsZ0RBQWdEO0lBQ2hELFFBQVEsQ0FBQywrQkFBRyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLG1DQUFPLEVBQUMsK0JBQUcsRUFBQyxDQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFDdkMsUUFBUSxDQUFDLG1DQUFPLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQUUsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxRQUFRLENBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMsbUNBQU8sRUFBQywrQkFBRyxFQUFDLENBQUMsQ0FBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUM7SUFDbEQsUUFBUSxDQUFDLG1DQUFPLEVBQUMsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsRUFBRSwrQkFBRyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDLEVBQUUsbUNBQU8sRUFBQywrQkFBRyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUMsQ0FBQztJQUN0RSxRQUFRLENBQUMsbUNBQU8sRUFBQywrQkFBRyxFQUFDLHlCQUFDLEVBQUUseUJBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLENBQUMsRUFBRSwrQkFBRyxFQUFDLHlCQUFDLEVBQUUsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFELFFBQVEsQ0FBQyxtQ0FBTyxFQUFDLCtCQUFHLEVBQUMseUJBQUMsRUFBRSx5QkFBQyxDQUFDLEVBQUUsK0JBQUcsRUFBQyx5QkFBQyxFQUFFLHlCQUFDLENBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMseUJBQUMsRUFBRSxtQ0FBTyxFQUFDLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLEVBQUUseUJBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkUsS0FBSyxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUM7SUFDOUIsS0FBSyxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUM7SUFDOUIsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUM7SUFDckIseUJBQXlCO0lBQ3pCLEtBQUssQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLENBQUM7SUFDckMsS0FBSyxDQUFDLHdCQUF3QixFQUFFLEdBQUcsQ0FBQztJQUNwQyxLQUFLLENBQUMsZUFBZSxFQUFFLE9BQU8sQ0FBQztJQUMvQixLQUFLLENBQUMsaUJBQWlCLEVBQUUsV0FBVyxDQUFDO0lBQ3JDLEtBQUssQ0FBQywwQkFBMEIsRUFBRSxzQkFBc0IsQ0FBQztBQUM3RCxDQUFDO0FBdkdELGdFQXVHQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0hELG1IQUF5RTtBQUV6RSw0SUFBd0U7QUFDeEUscUhBQThCO0FBQzlCLHdIQUFzQztBQUN0Qyw0SEFBNkQ7QUFFN0QsOEZBQTZDO0FBQzdDLDRJQUF3RTtBQUN4RSxrSkFBNEU7QUFDNUUsc0hBQTZEO0FBQzdELHVJQUFxRTtBQUNyRSxpSUFBZ0U7QUFDaEUsdUtBQW9FO0FBQ3BFLGtLQUFrRztBQUNsRyw0R0FBa0Q7QUFFbEQsU0FBZ0IsY0FBYztJQUMxQixNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBeUI7SUFDNUUsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FDMUMsbUJBQW1CLENBQ0o7SUFDbkIsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FDeEMsVUFBVSxDQUNRO0lBQ3RCLE1BQU0sWUFBWSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFFO0lBRXRELGNBQWM7SUFDZCxNQUFNLFdBQVcsR0FBRyxJQUFJLG1DQUFnQixFQUFFO0lBQzFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDO0lBRXZDLFNBQVMsQ0FBQyxLQUFLLEVBQUU7SUFFakIsU0FBUyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDckMsY0FBYztRQUNkLElBQUksR0FBZTtRQUNuQixJQUFJO1lBQ0EsR0FBRyxHQUFHLHFDQUFlLEVBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUN0QyxXQUFXLENBQUMsS0FBSyxHQUFHLEdBQUc7U0FDMUI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLFlBQVksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUs7WUFDbEMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJO1lBQ3hCLE9BQU07U0FDVDtRQUNELGtDQUFrQztRQUNsQyxZQUFZLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxHQUFHO1FBRWhDLDRCQUE0QjtRQUM1QixPQUFPLFlBQVksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNyQyxZQUFZLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDckQ7UUFFRCxNQUFNLEtBQUssR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDO1FBRTlCLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3pCLFlBQVksQ0FBQyxXQUFXLEdBQUcsaUJBQWlCO1lBQzVDLE9BQU07U0FDVDthQUFNO1lBQ0gsWUFBWSxDQUFDLFdBQVcsR0FBRyxFQUFFO1NBQ2hDO1FBRUQseUJBQXlCO1FBQ3pCLE1BQU0sV0FBVyxHQUFHLElBQUkseUJBQVcsQ0FBQztZQUNoQyxLQUFLLEVBQUUseUNBQUssRUFBQyxzQkFBa0IsQ0FBQztTQUNuQyxDQUFDO1FBQ0YsTUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUM7UUFFOUMscUJBQXFCO1FBQ3JCLFlBQVksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQWU7UUFFdEUsU0FBUyxZQUFZLENBQUMsSUFBZ0I7WUFDbEMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxJQUFJLHVDQUFrQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFFLENBQUMsQ0FBQyxDQUFDO1lBRWxFLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBRS9CLElBQUksSUFBSSxJQUFJLElBQUk7Z0JBQUUsT0FBTTtZQUV4QixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUNsQixZQUFZLENBQUMsV0FBVyxDQUFDLElBQUksbUNBQWdCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUUsQ0FBQyxDQUFDLENBQUM7WUFDL0QsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDeEIsQ0FBQztRQUVELFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBQztBQUNOLENBQUM7QUFuRUQsd0NBbUVDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFTLFdBQVcsQ0FBQyxPQUFtQjtJQUNwQyxNQUFNLEtBQUssR0FBRyx5QkFBVyxFQUFDLE9BQU8sQ0FBQztJQUNsQyxNQUFNLGdCQUFnQixHQUFHLDBCQUFZLEVBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUM7SUFFdEQsSUFBSSxVQUFVLEdBQWUsT0FBTztJQUNwQyxLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsRUFBRTtRQUNqQyxJQUFJLElBQUksWUFBWSx1QkFBVTtZQUMxQixJQUFJLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUM7Z0JBQ25DLElBQUksVUFBVSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVTtvQkFDdkMsVUFBVSxHQUFHLElBQWtCO0tBQzlDO0lBRUQsa0VBQWtFO0lBQ2xFLE1BQU0sWUFBWSxHQUFHLDBCQUFXLEdBQTRCO0lBQzVELEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDekIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNqQyxDQUFDLENBQUM7SUFFRiw2Q0FBNkM7SUFDN0MsS0FBSyxNQUFNLElBQUksSUFBSSxtQ0FBZ0IsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUU7UUFDakUsSUFBSSxJQUFJLENBQUMsQ0FBQyxZQUFZLG1CQUFRLEVBQUU7WUFDNUIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMxQyxZQUFZLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1NBQzlDO1FBRUQscUVBQXFFO1FBQ3JFLG1EQUFtRDtLQUN0RDtJQUVELGtDQUFrQztJQUNsQyxNQUFNLFVBQVUsR0FBRyxxQkFBSSxDQUFDLEdBQUcsQ0FBMkIsWUFBWSxDQUFDO0lBQ25FLE1BQU0sVUFBVSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxVQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxFQUFFO0lBRXhFLE1BQU0sZUFBZSxHQUFHLFVBQVU7U0FDN0IsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ1IsSUFBSSxJQUFJLENBQUMsSUFBSSxZQUFZLG1CQUFRO1lBQUUsT0FBTyxJQUFJLENBQUMsSUFBZ0I7YUFDMUQsSUFBSSxJQUFJLENBQUMsSUFBSSxZQUFZLHVCQUFVO1lBQ3BDLE9BQU8sSUFBSSxDQUFDLElBQWtCOztZQUM3QixNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDO0lBQzNDLENBQUMsQ0FBQztTQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksWUFBWSx1QkFBVSxDQUFpQjtJQUUvRCxPQUFPLElBQUksV0FBSSxDQUFDLEtBQUssRUFBRSxHQUFHLGVBQWUsQ0FBQztBQUM5QyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNySUQscUdBQStDO0FBRS9DLDBGQUFzQztBQUV0Qzs7O0dBR0c7QUFDSCxNQUFhLFFBQVMsU0FBUSw2QkFBYTtJQUN2QyxZQUNJLE9BQXdCLEVBQ3hCLEtBQXlELEVBQ3pELFFBQWdCLEVBQ2hCLE1BQWM7UUFFZCxLQUFLLEVBQUU7UUFRWCxtQkFBYyxHQUFTLElBQUk7UUFQdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPO1FBQ3RCLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUMzQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRO1FBQ3hCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTTtRQUNwQixJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ2hCLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDWixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRU0sUUFBUTtRQUNYLE9BQU8sV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBc0JPLEtBQUs7UUFDVCxtQkFBTSxFQUFDLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO1FBQzVCLEtBQUssTUFBTSxNQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUMvQixtQkFBTSxFQUFDLE1BQU0sSUFBSSxJQUFJLElBQUksTUFBTSxJQUFJLFNBQVMsQ0FBQztTQUNoRDtRQUNELG1CQUFNLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLFNBQVMsQ0FBQztRQUN6RCxtQkFBTSxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxTQUFTLENBQUM7UUFDM0QsbUJBQU0sRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxTQUFTLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO0lBQzdELENBQUM7Q0FDSjtBQXJERCw0QkFxREM7Ozs7Ozs7Ozs7Ozs7OztBQzlERCwyR0FBK0M7QUFDL0MsOEdBQWlEO0FBQ2pELDhHQUFpRDtBQUNqRCwyR0FBNEQ7QUFDNUQsK0ZBQTREO0FBQzVELDhHQUFpRDtBQUNqRCxzRkFBcUM7QUFDckMsa0dBQTZDO0FBQzdDLDBGQUFzQztBQUN0Qyw4R0FBaUQ7QUFFakQsU0FBZ0IsUUFBUSxDQUFDLEdBQWUsRUFBRSxHQUFlO0lBQ3JELE9BQU8sbUJBQVEsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztBQUNoQyxDQUFDO0FBRkQsNEJBRUM7QUFFRDs7R0FFRztBQUNILFNBQWdCLEdBQUcsQ0FBQyxHQUFHLEtBQW1CO0lBQ3RDLE9BQU8sU0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7QUFDeEIsQ0FBQztBQUZELGtCQUVDO0FBRUQ7Ozs7OztHQU1HO0FBQ0gsU0FBZ0IsVUFBVSxDQUFDLEdBQVE7SUFDL0IsTUFBTSxPQUFPLEdBQUcsb0JBQVUsRUFBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDeEMsT0FBTyxTQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQztBQUMxQixDQUFDO0FBSEQsZ0NBR0M7QUFFRDs7Ozs7O0dBTUc7QUFDSCxTQUFnQixtQkFBbUIsQ0FBQyxHQUFHLEtBQW1CO0lBQ3RELE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFlBQVksaUJBQU8sQ0FBQyxDQUFDLE1BQU07SUFDL0QsSUFBSSxRQUFRLEdBQUcsQ0FBQztRQUFFLE9BQU8sR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBRXRDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLGlCQUFPLENBQUMsQ0FBQztJQUM5RCxNQUFNLE9BQU8sR0FBRyxLQUFLO1NBQ2hCLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsWUFBWSxpQkFBTyxDQUFDO1NBQ2pDLEdBQUcsQ0FBVSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQVksQ0FBQztTQUMvQixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFN0MsSUFBSSxPQUFPLENBQUMsS0FBSyxJQUFJLENBQUMsRUFBRTtRQUNwQixJQUFJLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sR0FBRyxDQUFDLEdBQUcsV0FBVyxDQUFDO1NBQzdCO2FBQU0sSUFBSSxXQUFXLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUNoQyxPQUFPLFdBQVcsQ0FBQyxDQUFDLENBQUM7U0FDeEI7YUFBTTtZQUNILE9BQU8sT0FBTztTQUNqQjtLQUNKO1NBQU07UUFDSCxJQUFJLFdBQVcsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3pCLE9BQU8sT0FBTztTQUNqQjthQUFNO1lBQ0gsT0FBTyxHQUFHLENBQUMsR0FBRyxXQUFXLEVBQUUsT0FBTyxDQUFDO1NBQ3RDO0tBQ0o7QUFDTCxDQUFDO0FBekJELGtEQXlCQztBQUVEOzs7Ozs7Ozs7Ozs7OztHQWNHO0FBQ0gsU0FBZ0IsWUFBWSxDQUFDLEdBQUcsS0FBbUI7SUFDL0MsTUFBTSxPQUFPLEdBQUcsbUJBQW1CLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDN0MsSUFBSSxPQUFPLENBQUMsS0FBSyxJQUFJLGFBQU87UUFBRSxPQUFPLE9BQU87SUFDNUMsS0FBSyxHQUFHLENBQUMsR0FBSSxPQUFlLENBQUMsS0FBSyxDQUFDO0lBRW5DLHNCQUFzQjtJQUN0QiwwQkFBMEI7SUFDMUIsc0JBQXNCO0lBQ3RCLDRDQUE0QztJQUM1QyxxQ0FBcUM7SUFDckMsS0FBSyxFQUFFLEtBQUssTUFBTSxDQUFDLElBQUksS0FBSyxFQUFFO1FBQzFCLE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDN0IsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7UUFFckIsS0FBSyxNQUFNLEtBQUssSUFBSSxVQUFVLEVBQUU7WUFDNUIsSUFBSSxLQUFLLFlBQVksaUJBQU8sRUFBRTtnQkFDMUIsSUFBSSxLQUFLLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO29CQUMxQyxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQztvQkFDcEIsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7b0JBQ2hCLFNBQVMsS0FBSztpQkFDakI7YUFDSjtTQUNKO0tBQ0o7SUFFRCxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQztRQUFFLE9BQU8saUJBQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3RDLElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDO1FBQUUsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDOztRQUN0QyxPQUFPLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztBQUM3QixDQUFDO0FBNUJELG9DQTRCQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBZ0IsUUFBUSxDQUFDLEdBQUcsS0FBbUI7SUFDM0MsSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUM7UUFBRSxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUM7O1FBQ2pDLE9BQU8sR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0FBQzdCLENBQUM7QUFIRCw0QkFHQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixjQUFjLENBQUMsR0FBRyxPQUFxQjtJQUNuRCxPQUFPLENBQUMsSUFBSSxDQUFDLHFCQUFXLENBQUM7SUFDekIsT0FBTyxPQUFPLENBQUMsR0FBRyxPQUFPLENBQUM7QUFDOUIsQ0FBQztBQUhELHdDQUdDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFnQixHQUFHLENBQUMsSUFBZ0IsRUFBRSxLQUFpQjtJQUNuRCxPQUFPLG1CQUFRLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7QUFDbkMsQ0FBQztBQUZELGtCQUVDO0FBRUQ7Ozs7Ozs7R0FPRztBQUNILFNBQWdCLE1BQU0sQ0FBSSxLQUFVLEVBQUUsT0FBVTtJQUM1QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNuQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxPQUFPLEVBQUU7WUFDdEIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2xCLE9BQU07U0FDVDtLQUNKO0FBQ0wsQ0FBQztBQVBELHdCQU9DO0FBRUQ7Ozs7Ozs7R0FPRztBQUNILFNBQWdCLFNBQVMsQ0FBSSxLQUFVLEVBQUUsT0FBVTtJQUMvQyxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ25DLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLE9BQU8sRUFBRTtZQUN0QixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDbEIsT0FBTyxLQUFLO1NBQ2Y7S0FDSjtJQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsc0NBQXNDLEdBQUcsT0FBTyxDQUFDO0FBQ3JFLENBQUM7QUFURCw4QkFTQztBQUVELFNBQWdCLE9BQU8sQ0FBQyxHQUFHLE9BQXFCO0lBQzVDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FDaEIsbUJBQU0sRUFDRixDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxTQUFTLEVBQzNCLDhDQUE4QyxDQUNqRCxDQUNKO0lBQ0QsT0FBTyxpQkFBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7QUFDOUIsQ0FBQztBQVJELDBCQVFDO0FBRUQsU0FBZ0IsUUFBUSxDQUFDLFVBQXNCO0lBQzNDLG1CQUFNLEVBQUMsVUFBVSxJQUFJLFNBQVMsRUFBRSx5Q0FBeUMsQ0FBQztJQUMxRSxJQUFJLFVBQVUsWUFBWSxpQkFBTztRQUFFLE9BQU8saUJBQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDOztRQUNsRSxPQUFPLGlCQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsaUJBQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztBQUN4RCxDQUFDO0FBSkQsNEJBSUM7QUFFRCxTQUFnQixHQUFHLENBQUMsR0FBVztJQUMzQixPQUFPLGlCQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQztBQUMxQixDQUFDO0FBRkQsa0JBRUM7QUFFRCxTQUFnQixDQUFDLENBQUMsTUFBYztJQUM1QixPQUFPLG1CQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztBQUM5QixDQUFDO0FBRkQsY0FFQztBQUVELFNBQWdCLEdBQUcsQ0FBQyxTQUFxQixFQUFFLFNBQXFCO0lBQzVELE9BQU8sbUJBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQztBQUM1QyxDQUFDO0FBRkQsa0JBRUM7QUFFRCxTQUFnQixtQkFBbUIsQ0FDL0IsS0FBaUIsRUFDakIsTUFBa0IsRUFDbEIsV0FBbUI7SUFFbkIsT0FBTyxJQUFJLG1CQUFRLENBQ2YsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUNaO1FBQ0ksQ0FBQyxFQUFFLEtBQUs7UUFDUixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1FBQ3JCLEVBQUUsRUFBRSxNQUFNO0tBQ2IsRUFDRCxXQUFXLEVBQ1gsZUFBZSxDQUNsQjtBQUNMLENBQUM7QUFmRCxrREFlQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixZQUFZLENBQUMsR0FBRyxXQUF5QjtJQUNyRCxtQkFBTSxFQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLElBQUksV0FBVyxDQUFDLE1BQU0sSUFBSSxDQUFDO1FBQUUsT0FBTyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBQ2xELE9BQU8sT0FBTyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQ2xDLENBQUM7QUFKRCxvQ0FJQztBQUVEOzs7R0FHRztBQUNILFNBQWdCLFlBQVksQ0FBQyxHQUFHLFdBQXlCO0lBQ3JELElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDMUIsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ2hCOztRQUFNLE9BQU8sWUFBWSxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQzlDLENBQUM7QUFKRCxvQ0FJQztBQUVEOzs7O0dBSUc7QUFDSCxTQUFnQixxQkFBcUIsQ0FDakMsR0FBRyxXQUF5QjtJQUU1QixJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsWUFBWSxpQkFBTyxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFFO1FBQ2hFLFdBQVcsQ0FBQyxLQUFLLEVBQUU7UUFDbkIsT0FBTyxZQUFZLENBQUMsR0FBRyxXQUFXLENBQUM7S0FDdEM7SUFDRCxPQUFPLFlBQVksQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUN2QyxDQUFDO0FBUkQsc0RBUUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxHQUFHLFdBQXlCO0lBQ3ZDLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUFjO0lBQ2pDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLE9BQU8sR0FBRztBQUNkLENBQUM7QUFFWSxTQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNWLFNBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQ1YsU0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7QUFDVixTQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNWLFNBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQ1YsU0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7QUFFVixTQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNWLFNBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNwUnZCLHNGQUFxQztBQUlyQywwRkFBc0M7QUFFdEM7Ozs7OztHQU1HO0FBQ0gsTUFBYSxLQUFLO0lBQ2Q7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFpQjtRQUNyQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksR0FBRyxFQUFxQztRQUMvRCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFnRDtRQUNwRSxJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ2hCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksT0FBTyxDQUFDLElBQW1CO1FBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUNwQixJQUFJLElBQUksWUFBWSxtQkFBUSxFQUFFO1lBQzFCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO1NBQ3pCO1FBQ0QsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNaLE9BQU8sSUFBSTtJQUNmLENBQUM7SUFFRDs7Ozs7Ozs7T0FRRztJQUNJLGVBQWUsQ0FDbEIsQ0FBZ0IsRUFDaEIsRUFBaUIsRUFDakIsQ0FBZTtRQUVmLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFFaEIsa0RBQWtEO1FBQ2xELElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFekMsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNaLE9BQU8sSUFBSTtJQUNmLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksV0FBVyxDQUFDLENBQVc7UUFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWpCLGtCQUFrQjtRQUNsQixLQUFLLE1BQU0sTUFBTSxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUU7WUFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsRUFBRSxDQUFDO1NBQy9DO1FBRUQsZ0JBQWdCO1FBQ2hCLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLO1FBQ3JCLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDO1FBQy9DLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsWUFBWSxDQUFDLElBQUksQ0FBQztRQUNoRCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFdEMsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNaLE9BQU8sSUFBSTtJQUNmLENBQUM7SUFFRDs7T0FFRztJQUNJLFlBQVksQ0FBQyxHQUFHLENBQWE7UUFDaEMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkMsT0FBTyxJQUFJO0lBQ2YsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxPQUFPLENBQUMsQ0FBZ0IsRUFBRSxFQUFpQixFQUFFLENBQVk7UUFDNUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRTFCLE9BQU8sSUFBSTtJQUNmLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSSxZQUFZLENBQ2YsSUFBbUIsRUFDbkIsU0FBZ0M7O1FBRWhDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFBRSxPQUFPLFNBQVM7UUFDM0MsSUFBSSxTQUFTLElBQUksS0FBSyxFQUFFO1lBQ3BCLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBRSxDQUFDO1NBQzFDO1FBQ0QsSUFBSSxVQUFVLEdBQUcsSUFBSSxHQUFHLEVBQWlCO1FBQ3pDLEtBQUssTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUN4QixJQUFJLFVBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQywwQ0FBRSxHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUFFLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQzVEO1FBQ0QsSUFBSSxTQUFTLElBQUksSUFBSTtZQUFFLE9BQU8sQ0FBQyxHQUFHLFVBQVUsQ0FBQztRQUU3QyxLQUFLLE1BQU0sQ0FBQyxJQUFJLFVBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxtQ0FBSSxFQUFFO1lBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFbkUsT0FBTyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQzFCLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSSxTQUFTLENBQ1osSUFBbUIsRUFDbkIsU0FBZ0M7O1FBRWhDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFBRSxPQUFPLFNBQVM7UUFDM0MsSUFBSSxTQUFTLElBQUksS0FBSyxFQUFFO1lBQ3BCLE9BQU8sZ0JBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQywwQ0FBRSxJQUFJLG1DQUFJLENBQUM7U0FDL0M7UUFDRCxJQUFJLEtBQUssR0FBRyxDQUFDO1FBQ2IsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTO2dCQUFFLE9BQU07WUFDaEQsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUFFLEtBQUssRUFBRTtRQUNuRCxDQUFDLENBQUM7UUFFRixJQUFJLFNBQVMsSUFBSSxJQUFJO1lBQUUsT0FBTyxLQUFLO1FBRW5DLE9BQU8sS0FBSyxHQUFHLENBQUMsZ0JBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQywwQ0FBRSxJQUFJLG1DQUFJLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxPQUFPLENBQUMsQ0FBZ0IsRUFBRSxFQUFpQjs7UUFDOUMsT0FBTyxVQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsMENBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRU0sUUFBUSxDQUFDLElBQW1CO1FBQy9CLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNJLFFBQVE7UUFDWCxPQUFPLElBQUksR0FBRyxDQUFnQixJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzdDLENBQUM7SUFFTSxRQUFRO1FBS1gsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBSWY7UUFDSixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUM5QixHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxFQUFFO2dCQUN6QixHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQztZQUM5QyxDQUFDLENBQUM7UUFDTixDQUFDLENBQUM7UUFDRixPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRU0sUUFBUTtRQUNYLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO0lBQzFCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksUUFBUSxDQUFDLEtBQVk7UUFDeEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQ3hCLENBQUMsQ0FBQztRQUNGLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQy9CLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7Z0JBQ3hCLElBQUksSUFBSSxZQUFZLG1CQUFRO29CQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO3FCQUMvQyxJQUFJLElBQUksSUFBSSxVQUFVLEVBQUU7b0JBQ3pCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsRUFBRSxDQUFDO2lCQUNsRDtxQkFBTSxJQUFJLElBQUksSUFBSSxRQUFRLEVBQUU7b0JBQ3pCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDO2lCQUNwRDs7b0JBQU0sTUFBTSxJQUFJLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQztZQUMvQyxDQUFDLENBQUM7UUFDTixDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ1osT0FBTyxJQUFJO0lBQ2YsQ0FBQztJQUVNLFFBQVE7UUFDWCxJQUFJLEdBQUcsR0FBRyxhQUFhO1FBQ3ZCLEtBQUssTUFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUMzQixHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEdBQUc7U0FDL0I7UUFFRCxHQUFHLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVO1FBQ25ELElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO1lBQ2xDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2YsR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLElBQUk7WUFDM0QsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxDQUFDO1FBQ0YsR0FBRyxJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSTtRQUUvQyxPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRU8sV0FBVyxDQUNmLENBQWdCLEVBQ2hCLEVBQWlCLEVBQ2pCLENBQVk7UUFFWixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNqQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxHQUFHLEVBQWlCLENBQUM7U0FDcEQ7UUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQ2hDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxFQUFFO1lBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsRUFBeUIsQ0FBQztTQUN0RDtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLEVBQUU7SUFDaEIsQ0FBQztJQUVPLEtBQUs7UUFDVCxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN2QixtQkFBTSxFQUFDLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLFNBQVMsQ0FBQztRQUMvQyxDQUFDLENBQUM7UUFFRixtQ0FBbUM7UUFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUU7WUFDcEMsbUJBQU0sRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzQixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUNkLG1CQUFNLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDOUIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsRUFBRTtnQkFDekIsbUJBQU0sRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDN0IsbUJBQU0sRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDOUIsbUJBQU0sRUFBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEQsQ0FBQyxDQUFDO1FBQ04sQ0FBQyxDQUFDO0lBQ04sQ0FBQztDQU9KO0FBdFJELHNCQXNSQztBQUVELElBQVksWUFHWDtBQUhELFdBQVksWUFBWTtJQUNwQiwrQkFBZTtJQUNmLCtCQUFlO0FBQ25CLENBQUMsRUFIVyxZQUFZLDRCQUFaLFlBQVksUUFHdkI7QUFXRDs7R0FFRztBQUNILE1BQWEsU0FBUztJQUNsQixZQUFtQixDQUFlO1FBQzlCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUNkLENBQUM7Q0FFSjtBQUxELDhCQUtDOzs7Ozs7Ozs7Ozs7Ozs7QUMzVEQsc0ZBQXFDO0FBQ3JDLDZFQUEwQztBQUcxQywwRkFBc0M7QUFFdEM7O0dBRUc7QUFDSCxNQUFhLGdCQUFnQjtJQUN6Qjs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsS0FBWSxFQUNaLFdBQXNDO1FBRXRDLE1BQU0sYUFBYSxHQUFHLElBQUksR0FBRyxFQUFpQjtRQUM5QyxNQUFNLFVBQVUsR0FBRyxJQUFJLEdBQUcsRUFBc0I7UUFFaEQsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDakMsSUFBSSxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN6QixTQUFRO2FBQ1g7WUFFRCxNQUFNLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBaUI7WUFFMUMsU0FBUyxlQUFlLENBQUMsQ0FBZ0I7Z0JBQ3JDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixJQUFJLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ2xCLE9BQU07aUJBQ1Q7Z0JBRUQsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRWhCLEtBQUssTUFBTSxRQUFRLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFFLEVBQUU7b0JBQ25ELElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFFLENBQUM7d0JBQUUsU0FBUTtvQkFDdkQsZUFBZSxDQUFDLFFBQVEsQ0FBQztpQkFDNUI7Z0JBQ0QsT0FBTTtZQUNWLENBQUM7WUFFRCxlQUFlLENBQUMsSUFBSSxDQUFDO1lBQ3JCLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO1lBQ25CLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDO1NBQzVCO1FBRUQsbUJBQU0sRUFBQyxhQUFhLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5Qyw4REFBOEQ7UUFFOUQsT0FBTyxVQUFVO0lBQ3JCLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSSxNQUFNLENBQUMsU0FBUyxDQUNuQixLQUFZLEVBQ1osUUFBMEM7UUFFMUMsTUFBTSxNQUFNLEdBQUcsSUFBSSxhQUFLLEVBQUU7UUFDMUIsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN6QixJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDO1FBQ0YsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN6QixJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RSxDQUFDLENBQUM7UUFDRixPQUFPLE1BQU07SUFDakIsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxNQUFNLENBQUMsWUFBWSxDQUN0QixLQUFZO1FBRVosTUFBTSxHQUFHLEdBSUgsRUFBRTtRQUNSLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ2pDLEtBQUssTUFBTSxLQUFLLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFFLEVBQUU7Z0JBQ2xELEdBQUcsQ0FBQyxJQUFJLENBQUM7b0JBQ0wsS0FBSyxFQUFFLElBQUk7b0JBQ1gsTUFBTSxFQUFFLEtBQUs7b0JBQ2IsQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBRTtpQkFDakMsQ0FBQzthQUNMO1NBQ0o7UUFDRCxPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRUQ7Ozs7Ozs7Ozs7T0FVRztJQUNJLE1BQU0sQ0FBQyxTQUFTLENBQ25CLEtBQVksRUFDWixTQUFrQyxFQUNsQyxRQUF1QyxHQUFHLEVBQUUsQ0FBQyxJQUFJO1FBRWpELE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQztRQUNoQyxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBeUI7UUFFL0M7Ozs7V0FJRztRQUNILFNBQVMsT0FBTyxDQUFDLElBQW1CLEVBQUUsUUFBZ0IsQ0FBQzs7WUFDbkQsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNqQixLQUFLLEdBQUcsQ0FBQzthQUNaO1lBQ0QsSUFBSSxLQUFLLEdBQUcsQ0FBQyxZQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxtQ0FBSSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUU7Z0JBQ2hELE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQzthQUMxQjtZQUNELE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUUsQ0FBQztZQUN4RCxTQUFTO2lCQUNKLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDWix5RUFBeUU7Z0JBQ3pFLE9BQU8sQ0FDSCxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksU0FBUztvQkFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUUsR0FBRyxLQUFLLENBQUM7b0JBQy9CLEtBQUssS0FBSyxJQUFJLENBQ2pCO1lBQ0wsQ0FBQyxDQUFDO2lCQUNELE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDVCxPQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQy9DLENBQUMsQ0FBQztRQUNWLENBQUM7UUFFRCxPQUFPLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXRCLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUE4QjtRQUNqRCxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO2dCQUFFLE9BQU07WUFDeEIsSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLFNBQVMsRUFBRTtnQkFDN0IsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxHQUFHLEVBQUUsQ0FBQzthQUM1QjtZQUNELEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztRQUM3QixDQUFDLENBQUM7UUFFRixPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksTUFBTSxDQUFDLFdBQVcsQ0FBQyxLQUFZO1FBQ2xDLCtFQUErRTtRQUMvRSxPQUFPLENBQ0gsQ0FBQyxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUNoQixHQUFHLENBQVUsSUFBSSxDQUFDLEVBQUU7WUFDakIsT0FBTyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUUsR0FBRyxDQUFDO1FBQzdDLENBQUMsQ0FBQzthQUNELE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUN4RDtJQUNMLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSSxNQUFNLENBQUMsYUFBYSxDQUN2QixLQUFzRTtRQUV0RSxNQUFNLEdBQUcsR0FBNEQsRUFBRTtRQUV2RSxTQUFTLFVBQVUsQ0FBQyxJQUluQjtZQUNHLEtBQUssTUFBTSxDQUFDLElBQUksR0FBRztnQkFDZixJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUFFLE9BQU8sSUFBSTtZQUNyRCxPQUFPLEtBQUs7UUFDaEIsQ0FBQztRQUVELEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3RCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDO2dCQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ3hDO1FBRUQsT0FBTyxHQUFHO0lBQ2QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxNQUFNLENBQUMsU0FBUyxDQUNuQixLQUFZLEVBQ1osVUFJYTtRQUViLE1BQU0sR0FBRyxHQUFHLElBQUksYUFBSyxFQUFFO1FBRXZCLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ2pDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1NBQ3BCO1FBRUQsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDakMsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2xCLElBQUksSUFBSSxZQUFZLG1CQUFRLEVBQUU7b0JBQzFCLEdBQUcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO2lCQUN4QjtxQkFBTTtvQkFDSCxNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDO2lCQUNyQzthQUNKO1NBQ0o7UUFFRCxPQUFPLEdBQUc7SUFDZCxDQUFDO0NBQ0o7QUF2T0QsNENBdU9DOzs7Ozs7Ozs7Ozs7Ozs7QUNoUEQsTUFBc0IsYUFBYTtJQUMvQjtRQUNJLElBQUksQ0FBQyxFQUFFLEdBQUcsYUFBYSxDQUFDLE1BQU07UUFDOUIsYUFBYSxDQUFDLE1BQU0sRUFBRTtJQUMxQixDQUFDOztBQUpMLHNDQVFDO0FBSGtCLG9CQUFNLEdBQUcsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDTDdCOztHQUVHO0FBQ0gsSUFBWSxZQUVYO0FBRkQsV0FBWSxZQUFZO0lBQ3BCLDJCQUFXO0FBQ2YsQ0FBQyxFQUZXLFlBQVksNEJBQVosWUFBWSxRQUV2Qjs7Ozs7Ozs7Ozs7Ozs7O0FDTEQsZ0xBQXNGO0FBQ3RGLGtKQUFrRTtBQUNsRSx5SUFBNEQ7QUFDNUQsdUhBQWdEO0FBQ2hELDZIQUFvRDtBQUNwRCxnTEFBc0Y7QUFDdEYsMEtBQWtGO0FBQ2xGLGdJQUFzRDtBQUN0RCw0SUFBOEQ7QUFDOUQsbUlBQXdEO0FBRXhELDBKQUFxRTtBQUNyRSw2SkFBdUU7QUFDdkUsc05BQTZHO0FBQzdHLHVKQUFtRTtBQUNuRSxnTkFBeUc7QUFDekcsd0xBQXlGO0FBQ3pGLHlLQUErRTtBQUMvRSwyTEFBMkY7QUFDM0Ysc0tBQTZFO0FBQzdFLHVKQUFtRTtBQUNuRSwwSkFBcUU7QUFDckUsOElBQTZEO0FBQzdELG1LQUEyRTtBQUMzRSxvSkFBaUU7QUFDakUsc0hBQTZDO0FBQzdDLGtJQUFxRDtBQUNyRCw0S0FBaUY7QUFDakYsNEtBQWlGO0FBQ2pGLDZKQUF1RTtBQUN2RSxpSkFBK0Q7QUFDL0QscUlBQXVEO0FBQ3ZELDJPQUE2SDtBQUM3SCw4TEFBNkY7QUFDN0YsMkxBQTJGO0FBRTNGOzs7R0FHRztBQUNILE1BQU0sZUFBZSxHQUFHLENBQUMsSUFBSSw2QkFBYSxFQUFFLEVBQUUsSUFBSSxxQkFBUyxFQUFFLENBQUM7QUFFOUQ7O0dBRUc7QUFDSCxNQUFNLGVBQWUsR0FBRztJQUNwQixJQUFJLDJCQUFZLEVBQUU7SUFDbEIsSUFBSSxpQ0FBZSxFQUFFO0lBQ3JCLElBQUksNkNBQXFCLEVBQUU7Q0FDOUI7QUFFRCxNQUFNLGlCQUFpQixHQUFHO0lBQ3RCLElBQUkseURBQTJCLEVBQUU7SUFDakMsSUFBSSx1RUFBa0MsRUFBRTtJQUN4QyxJQUFJLCtDQUFzQixFQUFFO0lBQzVCLElBQUksMkRBQTRCLEVBQUU7SUFDbEMsSUFBSSx5REFBMkIsRUFBRTtJQUNqQyxJQUFJLHFDQUFpQixFQUFFO0NBQzFCO0FBRUQsTUFBTSxxQ0FBcUMsR0FDdkM7SUFDSSxJQUFJLDZCQUFhLEVBQUU7SUFDbkIsSUFBSSxxQkFBUyxFQUFFO0lBQ2YsSUFBSSwyREFBNEIsRUFBRTtJQUNsQyxJQUFJLHVEQUEwQixFQUFFO0lBQ2hDLElBQUksMkVBQW9DLEVBQUU7SUFDMUMsSUFBSSx5QkFBVyxFQUFFO0lBQ2pCLElBQUksMkJBQVksRUFBRTtJQUNsQixJQUFJLGlDQUFlLEVBQUU7SUFDckIsSUFBSSwyRkFBNkMsRUFBRTtJQUNuRCxJQUFJLDJEQUE0QixFQUFFO0lBQ2xDLElBQUksdUNBQWtCLEVBQUU7SUFDeEIsSUFBSSxtQ0FBZ0IsRUFBRTtJQUN0QixJQUFJLGlDQUFlLEVBQUU7Q0FDeEI7QUFFTDs7Ozs7O0dBTUc7QUFDVSxxQ0FBNkIsR0FDdEM7SUFDSSx1QkFBdUI7SUFDdkIsSUFBSSxxQ0FBaUIsRUFBRTtJQUN2QixJQUFJLCtCQUFjLEVBQUU7SUFDcEIsSUFBSSwrQ0FBc0IsRUFBRTtJQUM1QixJQUFJLHlDQUFtQixFQUFFO0lBQ3pCLElBQUksbUNBQWdCLEVBQUU7SUFDdEIsSUFBSSxtQ0FBZ0IsRUFBRTtJQUN0QixJQUFJLG1CQUFRLEVBQUU7SUFDZCxHQUFHLGVBQWU7SUFDbEIsR0FBRyxpQkFBaUI7SUFDcEIsR0FBRyxlQUFlO0lBQ2xCLEdBQUcscUNBQXFDO0NBQzNDO0FBRUw7O0dBRUc7QUFDVSxvQ0FBNEIsR0FDckMsQ0FBQyxJQUFJLHVEQUEwQixFQUFFLENBQUM7QUFFdEM7O0dBRUc7QUFDVSxxQ0FBNkIsR0FDdEMsQ0FBQyxJQUFJLDJDQUFvQixFQUFFLEVBQUUsSUFBSSxXQUFJLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDN0c1QyxxSEFBc0Q7QUFDdEQsNEdBQWdEO0FBQ2hELGdHQUF3QztBQUN4Qyw4RUFBZ0M7QUFDaEMsdUhBSTBCO0FBRTFCLHFHQUFtQztBQUVuQzs7R0FFRztBQUNILFNBQWdCLFdBQVcsQ0FBQyxHQUFlO0lBQ3ZDLE9BQU8sSUFBSSxhQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBQ25DLENBQUM7QUFGRCxrQ0FFQztBQUVEOzs7R0FHRztBQUNILFNBQWdCLFlBQVksQ0FDeEIsS0FBWSxFQUNaLFFBQWdCLEVBQ2hCLGdDQUF5QyxLQUFLO0lBRTlDLE1BQU0sTUFBTSxHQUFHLElBQUksZ0JBQWdCLENBQUMsS0FBSyxDQUFDO0lBRTFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLDZCQUE2QixDQUFDO0lBQ3RELE9BQU8sTUFBTTtBQUNqQixDQUFDO0FBVEQsb0NBU0M7QUFFRDs7R0FFRztBQUNILE1BQU0sZ0JBQWdCO0lBQ2xCOzs7T0FHRztJQUNILFlBQW1CLEtBQVk7UUF1TC9CLCtEQUErRDtRQUMvRCxtQ0FBbUM7UUFDbkIsbUNBQThCLEdBQUcsSUFBSSxHQUFHLEVBQWM7UUFFdEUsd0VBQXdFO1FBQ3hFLDZCQUE2QjtRQUNiLHdDQUFtQyxHQUFHLElBQUksR0FBRyxFQUFjO1FBRTFELHVDQUFrQyxHQUFHLElBQUksR0FBRyxFQUFjO1FBRTNFLDhEQUE4RDtRQUM5RCw0REFBNEQ7UUFDNUQsa0NBQWtDO1FBQ2xCLGtDQUE2QixHQUFHLElBQUksR0FBRyxFQUFXO1FBRWxFLDBEQUEwRDtRQUMxRCw2REFBNkQ7UUFDN0Qsa0NBQWtDO1FBQ2xCLG1DQUE4QixHQUFHLElBQUksR0FBRyxFQUFPO1FBeE0zRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7SUFDdEIsQ0FBQztJQUVEOzs7Ozs7Ozs7O09BVUc7SUFDSSxNQUFNLENBQ1QsUUFBZ0IsRUFDaEIsZ0NBQXlDLEtBQUs7UUFFOUMsdUVBQXVFO1FBQ3ZFLGlEQUFpRDtRQUVqRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQy9CLElBQUksQ0FBQywyQkFBMkIsRUFBRTtZQUNsQyxJQUFJLENBQUMsMEJBQTBCLEVBQUU7U0FDcEM7UUFFRCxvREFBb0Q7UUFDcEQscUNBQXFDO1FBQ3JDLDJDQUEyQztRQUMzQyx1REFBdUQ7UUFDdkQsWUFBWTtRQUNaLHlEQUF5RDtRQUN6RCxlQUFlO1FBQ2YscURBQXFEO1FBQ3JELHNEQUFzRDtRQUN0RCx5QkFBeUI7UUFDekIsWUFBWTtRQUVaLFFBQVE7UUFDUixJQUFJO0lBQ1IsQ0FBQztJQUVEOztPQUVHO0lBQ0gsSUFBVyxxQkFBcUI7UUFDNUIsT0FBTztZQUNILEdBQUcsSUFBSSxDQUFDLDZCQUE2QjtZQUNyQyxHQUFHLElBQUksQ0FBQyw4QkFBOEI7U0FDekM7SUFDTCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNLLDJCQUEyQjtRQUMvQixNQUFNLFlBQVksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUMxQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFlBQVksdUJBQVUsQ0FBQzthQUNwQyxHQUFHLENBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFlLENBQUM7YUFDckMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsbUNBQW1DLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWxFLElBQUksYUFBYSxHQUFHLEtBQUs7UUFDekIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNyQixJQUFJLENBQUMsbUNBQW1DLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUUvQywwREFBMEQ7WUFDMUQsS0FBSyxNQUFNLElBQUksSUFBSSwrQ0FBNkIsRUFBRTtnQkFDOUMsTUFBTSxPQUFPLEdBQUcscUJBQUssRUFBQyxDQUFDLEVBQUUsa0JBQWtCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNwRCxNQUFNLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7Z0JBRXhDLEtBQUssTUFBTSxDQUFDLElBQUksT0FBTyxFQUFFO29CQUNyQixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ3ZCO2dCQUVELElBQUkscUJBQXFCLElBQUksU0FBUyxFQUFFO29CQUNwQyxhQUFhLEdBQUcsSUFBSTtvQkFDcEIsT0FBTSxDQUFDLHFCQUFxQjtpQkFDL0I7YUFDSjtZQUVELElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUVGLE9BQU8sYUFBYTtJQUN4QixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ssMEJBQTBCO1FBQzlCLGtFQUFrRTtRQUNsRSxNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUN4QyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFlBQVksdUJBQVUsQ0FBQzthQUNwQyxHQUFHLENBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFlLENBQUM7YUFDckMsTUFBTSxDQUNILENBQUMsQ0FBQyxFQUFFLENBQ0EsQ0FBQyxJQUFJLENBQUMsa0NBQWtDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUNqRDtRQUVMLG1EQUFtRDtRQUNuRCxJQUFJLGFBQWEsR0FBRyxLQUFLO1FBRXpCLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbkIsaURBQWlEO1lBRWpELEtBQUssTUFBTSxJQUFJLElBQUksOENBQTRCLEVBQUU7Z0JBQzdDLE1BQU0sc0JBQXNCLEdBQUcscUJBQUssRUFDaEMsQ0FBQyxFQUNELGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FDN0I7Z0JBRUQsYUFBYSxLQUFiLGFBQWEsR0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLHNCQUFzQixDQUFDO2dCQUV6RCxJQUFJLHNCQUFzQixDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7b0JBQ3BDLElBQUksQ0FBQyxZQUFZLGlCQUFPO3dCQUNwQixJQUFJLENBQUMsNkJBQTZCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDaEQ7YUFDSjtZQUVELEtBQUssTUFBTSxJQUFJLElBQUksK0NBQTZCLEVBQUU7Z0JBQzlDLE1BQU0sc0JBQXNCLEdBQUcscUJBQUssRUFDaEMsQ0FBQyxFQUNELGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FDN0I7Z0JBRUQsYUFBYSxLQUFiLGFBQWEsR0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLHNCQUFzQixDQUFDO2dCQUV6RCxJQUFJLHNCQUFzQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ25DLElBQUksQ0FBQyxZQUFZLFNBQUc7d0JBQ2hCLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2lCQUNqRDthQUNKO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsT0FBTyxhQUFhO0lBQ3hCLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ssVUFBVSxDQUFDLElBQWdCO1FBQy9CLElBQUksVUFBVSxHQUFHLEtBQUs7UUFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNiLElBQ0ksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDL0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUNsQztnQkFDRSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLFVBQVUsR0FBRyxJQUFJO2FBQ3BCO1FBQ0wsQ0FBQyxDQUFDO1FBQ0YsT0FBTyxVQUFVO0lBQ3JCLENBQUM7SUFJRDs7Ozs7T0FLRztJQUNJLFlBQVksQ0FBQyxHQUFlO1FBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztZQUFFLE9BQU8sS0FBSztRQUUvRCxJQUFJLEdBQUcsWUFBWSxpQkFBTztZQUN0QixPQUFPLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO1FBQ3RELElBQUksR0FBRyxZQUFZLFNBQUc7WUFDbEIsT0FBTyxJQUFJLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUV2RCxPQUFPLElBQUk7SUFDZixDQUFDO0NBcUJKO0FBRUQ7Ozs7Ozs7R0FPRztBQUNILFNBQVMsa0JBQWtCLENBQ3ZCLEtBQThDO0lBRTlDLE9BQU8sVUFBVSxHQUFlO1FBQzVCLE1BQU0sR0FBRyxHQUFrQixJQUFJLEdBQUcsRUFBRTtRQUNwQyxLQUFLO2FBQ0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUMzQixPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDWixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDeEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDZCxDQUFDLENBQUM7UUFDTixDQUFDLENBQUM7UUFDTixPQUFPLEdBQUc7SUFDZCxDQUFDO0FBQ0wsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDMVFELDJGQUF1QztBQUN2QyxnS0FBNkQ7QUFHN0Q7Ozs7Ozs7Ozs7Ozs7O0dBY0c7QUFDSCxNQUFzQixxQ0FBcUM7SUFDdkQ7OztPQUdHO0lBQ0ksT0FBTyxDQUFDLEdBQWU7UUFDMUIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQztJQUNoQyxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ksS0FBSyxDQUFDLEdBQWU7UUFDeEIsOERBQThEO1FBRTlELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO1FBQ2xDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDZixtQkFBTSxFQUFDLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLFNBQVMsQ0FBQztZQUNuQyxtQkFBTSxFQUNGLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLEdBQUcsRUFDbEIsT0FBTztnQkFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUk7Z0JBQ3JCLHVDQUF1QyxDQUM5QztZQUNELG9GQUFvRjtZQUNwRixnQ0FBZ0M7WUFDaEMsaUZBQWlGO1lBQ2pGLG9GQUFvRjtZQUNwRixrREFBa0Q7UUFDdEQsQ0FBQyxDQUFDO1FBQ0YsT0FBTyxNQUFNO0lBQ2pCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFXLGVBQWU7UUFDdEIsT0FBTyxpQkFBaUIsQ0FBQyxJQUFJO0lBQ2pDLENBQUM7Q0FJSjtBQS9DRCxzRkErQ0M7QUFFRDs7OztHQUlHO0FBQ0gsU0FBUyxvQkFBb0IsQ0FBQyxFQUFjLEVBQUUsRUFBYztJQUN4RCxNQUFNLEtBQUssR0FBRyxLQUFLO0lBQ25CLEtBQUssTUFBTSxLQUFLLElBQUksTUFBTSxFQUFFO1FBQ3hCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxLQUFLO1lBQ3pELE9BQU8sS0FBSztLQUNuQjtJQUNELE9BQU8sSUFBSTtBQUNmLENBQUM7QUFFRCxJQUFZLGlCQUlYO0FBSkQsV0FBWSxpQkFBaUI7SUFDekIsaUVBQVE7SUFDUixxRUFBVTtJQUNWLHlEQUFJO0FBQ1IsQ0FBQyxFQUpXLGlCQUFpQixpQ0FBakIsaUJBQWlCLFFBSTVCO0FBRUQsTUFBTSxNQUFNLEdBQTBCLHlDQUFLLEVBQ3ZDLHFCQUFxQixDQUFDLENBQUMsR0FBRyxDQUFDLEVBQzNCLHFCQUFxQixDQUFDLENBQUMsR0FBRyxDQUFDLEVBQzNCLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxFQUMxQixxQkFBcUIsQ0FBQyxHQUFHLENBQUMsRUFDMUIscUJBQXFCLENBQUMsR0FBRyxDQUFDLEVBQzFCO0lBQ0ksT0FBTyxDQUFDLENBQVc7O1FBQ2YsT0FBTyxPQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsbUNBQUksQ0FBQztJQUN2QyxDQUFDO0NBQ0osRUFDRDtJQUNJLE9BQU8sQ0FBQyxDQUFXO1FBQ2YsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDakMsQ0FBQztDQUNKLENBQ0o7QUFFRCxTQUFTLHFCQUFxQixDQUFDLEdBQVc7SUFDdEMsT0FBTztRQUNILE9BQU8sQ0FBQyxDQUFXO1lBQ2YsT0FBTyxHQUFHO1FBQ2QsQ0FBQztLQUNKO0FBQ0wsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDaEhEOztHQUVHO0FBQ0gsTUFBc0Isd0JBQXdCO0lBQzFDOzs7T0FHRztJQUNJLEtBQUssQ0FBQyxRQUF5QjtRQUNsQyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO0lBQ25DLENBQUM7O0FBUEwsNERBWUM7QUFEMEIsOEJBQUssR0FBa0MsSUFBSSxHQUFHLEVBQUU7Ozs7Ozs7Ozs7Ozs7OztBQ2pCM0UsMEZBQXlDO0FBQ3pDLGlJQUFvRTtBQUVwRSwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1KQUFzRTtBQUV0RSxNQUFhLGlCQUFrQixTQUFRLG1EQUF3QjtJQUNqRCxTQUFTLENBQUMsUUFBeUI7UUFDekMsTUFBTSxHQUFHLEdBQWUsRUFBRTtRQUUxQixNQUFNLFlBQVksR0FBRyxnQkFBZ0IsQ0FBYSxRQUFRLENBQUM7UUFFM0QsWUFBWTthQUNQLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxZQUFZLGlCQUFPO1FBQ3JDLENBQUMsQ0FBQzthQUNELE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNaLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQVk7WUFDNUIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUVyQixzQ0FBc0M7WUFDdEMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ3ZCLElBQUksTUFBb0I7Z0JBQ3hCLElBQUksS0FBSyxZQUFZLGlCQUFPLEVBQUU7b0JBQzFCLE1BQU0sR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztpQkFDOUI7cUJBQU07b0JBQ0gsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDO2lCQUNuQjtnQkFDRCxNQUFNLEtBQUssR0FBRztvQkFDVixDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7b0JBQ3BCLEVBQUUsRUFBRSxvQ0FBUSxFQUFDLHdDQUFZLEVBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxNQUFNLENBQUM7b0JBQzdDLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7aUJBQ3hCO2dCQUNELEdBQUcsQ0FBQyxJQUFJLENBQ0osSUFBSSxtQkFBUSxDQUNSLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQ25CLEtBQUssRUFDTCx3QkFBd0IsRUFDeEIsZUFBTyxDQUNWLENBQ0o7WUFDTCxDQUFDLENBQUM7UUFDTixDQUFDLENBQUM7UUFFTixPQUFPLEdBQUc7SUFDZCxDQUFDO0NBQ0o7QUF4Q0QsOENBd0NDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFTLGdCQUFnQixDQUFJLEdBQVc7SUFDcEMsTUFBTSxHQUFHLEdBQUcsRUFBRTtJQUNkLEtBQUssTUFBTSxLQUFLLElBQUksR0FBRyxFQUFFO1FBQ3JCLEtBQUssTUFBTSxNQUFNLElBQUksR0FBRyxFQUFFO1lBQ3RCLElBQUksS0FBSyxLQUFLLE1BQU07Z0JBQUUsU0FBUTtZQUM5QixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQzVCO0tBQ0o7SUFDRCxPQUFPLEdBQUc7QUFDZCxDQUFDO0FBRVksZUFBTyxHQUFHLG1CQUFtQjs7Ozs7Ozs7Ozs7Ozs7O0FDbEUxQywwRkFBeUM7QUFDekMsaUlBQW9FO0FBRXBFLCtHQUFtRDtBQUNuRCxtR0FBMkM7QUFDM0Msc0dBQWlEO0FBQ2pELG1KQUFzRTtBQUV0RSxNQUFhLHFCQUFzQixTQUFRLG1EQUF3QjtJQUNyRCxTQUFTLENBQUMsUUFBeUI7UUFDekMsTUFBTSxHQUFHLEdBQWUsRUFBRTtRQUMxQixNQUFNLFlBQVksR0FBRyxnQkFBZ0IsQ0FBYSxRQUFRLENBQUM7UUFFM0QsK0NBQStDO1FBQy9DLGtFQUFrRTtRQUNsRSxzRUFBc0U7UUFDdEUsdUVBQXVFO1FBQ3ZFLFlBQVk7YUFDUCxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsWUFBWSxTQUFHO1FBQ2pDLENBQUMsQ0FBQzthQUNELE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNaLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQVE7WUFDeEIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUVyQixnQ0FBZ0M7WUFDaEMsQ0FBQyxDQUFDLEtBQUs7aUJBQ0YsTUFBTSxDQUNILElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksWUFBWSxpQkFBTyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FDeEQ7aUJBQ0EsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNaLG1EQUFtRDtnQkFDbkQseURBQXlEO2dCQUN6RCx5QkFBeUI7Z0JBQ3pCLHlDQUF5QztnQkFDekMseURBQXlEO2dCQUN6RCxpRUFBaUU7Z0JBQ2pFLHVFQUF1RTtnQkFDdkUseUNBQXlDO2dCQUN6QyxtRUFBbUU7Z0JBQ25FLHlEQUF5RDtnQkFDekQsMERBQTBEO2dCQUMxRCxJQUFJLE1BQW9CO2dCQUN4QixJQUFJLEtBQUssWUFBWSxTQUFHLEVBQUU7b0JBQ3RCLE1BQU0sR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztpQkFDNUI7cUJBQU07b0JBQ0gsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDO2lCQUNuQjtnQkFDRCxNQUFNLEtBQUssR0FBRztvQkFDVixDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7b0JBQ2xCLEVBQUUsRUFBRSx3Q0FBWSxFQUFDLEdBQUcsTUFBTSxFQUFFLG9DQUFRLEVBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzNDLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7aUJBQ3hCO2dCQUNELEdBQUcsQ0FBQyxJQUFJLENBQ0osSUFBSSxtQkFBUSxDQUNSLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQ25CLEtBQUssRUFDTCx3QkFBd0IsRUFDeEIsZUFBTyxDQUNWLENBQ0o7WUFDTCxDQUFDLENBQUM7UUFDVixDQUFDLENBQUM7UUFDTixPQUFPLEdBQUc7SUFDZCxDQUFDO0NBQ0o7QUF6REQsc0RBeURDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFTLGdCQUFnQixDQUFJLEdBQVc7SUFDcEMsTUFBTSxHQUFHLEdBQUcsRUFBRTtJQUNkLEtBQUssTUFBTSxLQUFLLElBQUksR0FBRyxFQUFFO1FBQ3JCLEtBQUssTUFBTSxNQUFNLElBQUksR0FBRyxFQUFFO1lBQ3RCLElBQUksS0FBSyxLQUFLLE1BQU07Z0JBQUUsU0FBUTtZQUM5QixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQzVCO0tBQ0o7SUFDRCxPQUFPLEdBQUc7QUFDZCxDQUFDO0FBRVksZUFBTyxHQUFHLHFCQUFxQjs7Ozs7Ozs7Ozs7Ozs7O0FDcEY1QywwRkFBeUM7QUFDekMsd0hBQXlEO0FBRXpELG1HQUEyQztBQUMzQyxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRyxNQUFhLDRCQUE2QixTQUFRLDZFQUFxQztJQUN6RSxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLEdBQUcsWUFBWSx1QkFBVSxJQUFJLEdBQUcsQ0FBQyxHQUFHLFlBQVksU0FBRztJQUM5RCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxDQUFDLEdBQUcsR0FBaUI7UUFDM0IsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQVU7UUFFeEIsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7UUFDNUIsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBYSxDQUFDLENBQUMsRUFBRSxDQUN0Qyx1QkFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUNqQztRQUVELE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxDQUFDLENBQUMsRUFDUjtZQUNJLENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsU0FBRyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7U0FDdEIsRUFDRCxnQ0FBZ0MsRUFDaEMsZUFBTyxDQUNWLENBQ0o7SUFDTCxDQUFDO0NBQ0o7QUExQkQsb0VBMEJDO0FBRVksZUFBTyxHQUFHLGlDQUFpQzs7Ozs7Ozs7Ozs7Ozs7O0FDcEN4RCxpSEFBNEQ7QUFDNUQscUdBQW9EO0FBRXBELDBMQUFnRztBQUNoRyw0SUFBNEQ7QUFDNUQsOEtBQTJFO0FBQzNFLG1JQUdnRDtBQUVoRCxNQUFhLGtCQUFtQixTQUFRLDZFQUFxQztJQUMvRCxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLENBQ0gsR0FBRyxDQUFDLEtBQUssS0FBSywyQkFBYyxJQUFLLEdBQWtCLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FDckU7SUFDTCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQztTQUNiLEVBQ0QsZ0NBQWdDLEVBQ2hDLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztDQUNKO0FBcEJELGdEQW9CQztBQUVZLGVBQU8sR0FBVyxxQkFBcUI7Ozs7Ozs7Ozs7Ozs7OztBQ2pDcEQsNkhBQThFO0FBRzlFLDBMQUFnRztBQUNoRyw2SEFBZ0U7QUFDaEUsOEtBQTJFO0FBRTNFOztHQUVHO0FBQ0gsTUFBYSxlQUFnQixTQUFRLDZFQUFxQztJQUM1RCxXQUFXLENBQUMsR0FBZTtRQUNqQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssdUJBQVk7WUFBRSxPQUFNO1FBQ3RDLE1BQU0sQ0FBQyxHQUFHLEdBQWU7UUFFekIsT0FBTyxDQUNILENBQUMsQ0FBQyxTQUFTLFlBQVksbUJBQVE7WUFDL0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEtBQUssQ0FBQyxDQUFDLFVBQVU7WUFDeEMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUNuQztJQUNMLENBQUM7SUFDUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLENBQUMsR0FBRyxHQUFlO1FBRXpCLE9BQU8seUNBQUssR0FBRTtJQUNsQixDQUFDO0NBQ0o7QUFoQkQsMENBZ0JDOzs7Ozs7Ozs7Ozs7Ozs7QUMxQkQsMEZBQXlDO0FBQ3pDLGlJQUtvQztBQUNwQyx3SEFBeUU7QUFDekUsa0hBQW1FO0FBSW5FLHNHQUFpRDtBQUNqRCxtS0FBZ0U7QUFDaEUsMExBQWdHO0FBRWhHOztHQUVHO0FBQ0gsTUFBYSxTQUFVLFNBQVEsNkVBQXFDO0lBQ3RELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sQ0FDSCxHQUFHLFlBQVksdUJBQVU7WUFDekIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFlBQVksbUJBQVE7Z0JBQ3pCLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxVQUFVO2dCQUMvQixHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUM7Z0JBQ3pCLEdBQUcsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUNsQztJQUNMLENBQUM7SUFFRDs7OztPQUlHO0lBQ08sU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxDQUFDLEdBQUcsR0FBaUI7UUFDM0IsSUFBSSxRQUFrQjtRQUN0QixJQUFJLENBQUMsQ0FBQyxHQUFHLFlBQVksbUJBQVEsRUFBRTtZQUMzQixRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUc7U0FDbkI7YUFBTTtZQUNILFFBQVEsR0FBRyxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEM7UUFDRCxNQUFNLE1BQU0sR0FBRyxtQ0FBTyxFQUNsQixRQUFRLENBQUMsS0FBSyxFQUNkLG1CQUFRLENBQUMsRUFBRSxDQUNQLFFBQVEsQ0FBQyxJQUFJLEVBQ2Isd0NBQVksRUFBQyxRQUFRLENBQUMsS0FBSyxFQUFFLG9DQUFRLEVBQUMsK0JBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQ2pELENBQ0o7UUFDRCxPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLE1BQU07U0FDYixFQUNELFlBQVksRUFDWixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQTVDRCw4QkE0Q0M7QUFFWSxlQUFPLEdBQUcsWUFBWTs7Ozs7Ozs7Ozs7Ozs7O0FDakVuQywwRkFBeUM7QUFDekMsaUlBQXdFO0FBQ3hFLHdIQUF5RDtBQUV6RCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFFaEc7Ozs7R0FJRztBQUNILE1BQWEsV0FBWSxTQUFRLDZFQUFxQztJQUN4RCxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLENBQ0gsR0FBRyxZQUFZLHVCQUFVO1lBQ3pCLEdBQUcsQ0FBQyxHQUFHLFlBQVksaUJBQU87WUFDMUIsK0JBQStCO1lBQy9CLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPO2lCQUNYLEdBQUcsQ0FBVSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUM7aUJBQy9CLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FDaEM7UUFDRCx3RUFBd0U7UUFDeEUseUZBQXlGO0lBQzdGLENBQUM7SUFFUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLENBQUMsR0FBRyxHQUFpQjtRQUMzQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBYztRQUMxQixNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTztRQUV6QixvRkFBb0Y7UUFDcEYsTUFBTSxLQUFLLEdBQWMsRUFBRTtRQUMzQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNyQyxxREFBcUQ7WUFDckQsTUFBTSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sUUFBUSxHQUFpQixFQUFFO1lBQ2pDLEtBQUssTUFBTSxNQUFNLElBQUksT0FBTyxFQUFFO2dCQUMxQiwrQkFBK0I7Z0JBQy9CLElBQUksTUFBTSxLQUFLLGtCQUFrQjtvQkFDN0IsUUFBUSxDQUFDLElBQUksQ0FBQyx1QkFBVSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztvQkFDakQsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7YUFDN0I7WUFFRCxLQUFLLENBQUMsSUFBSSxDQUFDLG1DQUFPLEVBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztTQUNuQztRQUVELE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxDQUFDLENBQUMsRUFDUjtZQUNJLENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsK0JBQUcsRUFBQyxHQUFHLEtBQUssQ0FBZTtTQUNsQyxFQUNELGNBQWMsRUFDZCxlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQWhERCxrQ0FnREM7QUFFWSxlQUFPLEdBQUcsY0FBYzs7Ozs7Ozs7Ozs7Ozs7O0FDaEVyQywwRkFBeUM7QUFDekMsaUlBTW9DO0FBQ3BDLHdIQUF5RDtBQUV6RCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFFaEcsTUFBYSw0QkFBNkIsU0FBUSw2RUFBcUM7SUFDekUsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxHQUFHLFlBQVksdUJBQVUsSUFBSSxHQUFHLENBQUMsR0FBRyxZQUFZLGlCQUFPO0lBQ2xFLENBQUM7SUFDUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLENBQUMsR0FBRyxHQUFpQjtRQUMzQixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBYztRQUUxQixNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUM7UUFFeEQsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQVk7UUFDL0IsS0FBSyxNQUFNLE1BQU0sSUFBSSxZQUFZLEVBQUU7WUFDL0IsR0FBRyxDQUFDLEdBQUcsQ0FDSCxJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxDQUFDLENBQUMsRUFDUjtnQkFDSSxDQUFDLEVBQUUsQ0FBQztnQkFDSixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO2dCQUNyQixFQUFFLEVBQUUsaURBQXFCLEVBQ3JCLE1BQU0sRUFDTix1QkFBVSxDQUFDLEVBQUUsQ0FDVCx3Q0FBWSxFQUFDLEdBQUcscUNBQVMsRUFBQyxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQzdDLENBQUMsQ0FBQyxVQUFVLENBQ2YsQ0FDSjthQUNKLEVBQ0Qsc0NBQXNDLEVBQ3RDLGVBQU8sQ0FDVixDQUNKO1NBQ0o7UUFFRCxPQUFPLEdBQUc7SUFDZCxDQUFDO0NBQ0o7QUFsQ0Qsb0VBa0NDO0FBRVksZUFBTyxHQUFHLDRCQUE0Qjs7Ozs7Ozs7Ozs7Ozs7O0FDbkRuRCxxR0FBb0Q7QUFFcEQsMExBQWdHO0FBQ2hHLDZIQUE4RTtBQUM5RSwwSEFBOEQ7QUFDOUQsNElBSStDO0FBQy9DLGlIQUE0RDtBQUM1RCw4S0FBMkU7QUFFM0UsTUFBYSwwQkFBMkIsU0FBUSw2RUFBcUM7SUFDdkUsV0FBVyxDQUFDLEdBQWU7UUFDakMsSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLHVCQUFZO1lBQUUsT0FBTyxLQUFLO1FBQzVDLE1BQU0sQ0FBQyxHQUFHLEdBQWU7UUFFekIsT0FBTyxDQUNILENBQUMsQ0FBQyxTQUFTLFlBQVksaUJBQU87WUFDOUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUN6QixPQUFPLENBQUMsQ0FBQyxVQUFVO1lBQ3ZCLENBQUMsQ0FBQztZQUNGLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUMvQztJQUNMLENBQUM7SUFDUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLENBQUMsR0FBRyxHQUFlO1FBQ3pCLE1BQU0sU0FBUyxHQUFHLENBQUMsQ0FBQyxTQUFvQjtRQUV4QyxNQUFNLGFBQWEsR0FBRyx3Q0FBWSxFQUM5QixHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUNqRDtRQUNELE1BQU0sWUFBWSxHQUFHLHdDQUFZLEVBQzdCLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FDbEQ7UUFFRCxNQUFNLE1BQU0sR0FBRyxtQ0FBTyxFQUNsQixhQUFhLEVBQ2IsbUJBQVEsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FDMUM7UUFFRCxPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLE1BQU07U0FDYixFQUNELDhCQUE4QixFQUM5QixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQTFDRCxnRUEwQ0M7QUFFWSxlQUFPLEdBQUcsd0JBQXdCOzs7Ozs7Ozs7Ozs7Ozs7QUN6RC9DLDBGQUF5QztBQUN6QyxpSUFBeUU7QUFDekUsd0hBQXlEO0FBQ3pELGtIQUFxRDtBQUVyRCxrSEFBcUQ7QUFDckQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFFaEcsTUFBYSxZQUFhLFNBQVEsNkVBQXFDO0lBQ3pELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxZQUFZLHVCQUFVLElBQUksR0FBRyxDQUFDLEdBQUcsWUFBWSxtQkFBUTtJQUNuRSxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxDQUFDLEdBQUcsR0FBaUI7UUFDM0IsTUFBTSxDQUFDLEdBQUksQ0FBQyxDQUFDLEdBQWdCLENBQUMsU0FBUztRQUN2QyxNQUFNLENBQUMsR0FBSSxDQUFDLENBQUMsR0FBZ0IsQ0FBQyxXQUFXO1FBQ3pDLE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsbUJBQVEsQ0FBQyxFQUFFLENBQ1gsK0JBQUcsRUFDQyxtQ0FBTyxFQUFDLHVCQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQzFDLG9DQUFRLEVBQUMsbUNBQU8sRUFBQyxDQUFDLEVBQUUsdUJBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQ3ZELEVBQ0QsbUJBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDekI7U0FDSixFQUNELGVBQWUsRUFDZixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQTNCRCxvQ0EyQkM7QUFFWSxlQUFPLEdBQUcsZUFBZTs7Ozs7Ozs7Ozs7Ozs7O0FDdkN0Qyw2SEFBOEU7QUFDOUUscUdBQW9EO0FBRXBELDBMQUFnRztBQUNoRyw2SEFBOEU7QUFDOUUsaUhBQTREO0FBQzVELDZIQUFnRTtBQUNoRSw4S0FBMkU7QUFDM0UsNElBQTJFO0FBRTNFLE1BQWEsZ0JBQWlCLFNBQVEsNkVBQXFDO0lBQzdELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLElBQUksR0FBRyxDQUFDLEtBQUssS0FBSyx1QkFBWTtZQUFFLE9BQU8sS0FBSztRQUU1QyxNQUFNLENBQUMsR0FBRyxHQUFlO1FBRXpCLE9BQU8sQ0FDSCxDQUFDLENBQUMsQ0FBQyxTQUFTLFlBQVksbUJBQVE7WUFDNUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLFVBQVU7WUFDakMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQ2pDLENBQUMsQ0FBQyxTQUFTLEtBQUssQ0FBQyxDQUFDLFVBQVUsQ0FDL0I7SUFDTCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxDQUFDLEdBQUcsR0FBZTtRQUN6QixNQUFNLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUztRQUU3QixJQUFJLE1BQWtCO1FBRXRCLElBQUksU0FBUyxZQUFZLG1CQUFRLEVBQUU7WUFDL0IsTUFBTSxHQUFHLG1CQUFRLENBQUMsRUFBRSxDQUNoQixtQkFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLCtCQUFHLEVBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDekQsK0JBQUcsRUFBQyxTQUFTLENBQUMsS0FBSyxFQUFFLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDL0I7U0FDSjthQUFNO1lBQ0gsTUFBTSxHQUFHLG1CQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzFDO1FBRUQsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxNQUFNO1NBQ2IsRUFDRCxvQkFBb0IsRUFDcEIsZUFBTyxDQUNWLENBQ0o7SUFDTCxDQUFDO0NBQ0o7QUF6Q0QsNENBeUNDO0FBRVksZUFBTyxHQUFHLG9CQUFvQjs7Ozs7Ozs7Ozs7Ozs7O0FDbEQzQywwTEFBZ0c7QUFFaEcsTUFBYSxhQUFjLFNBQVEsNkVBQXFDO0lBQzFELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sS0FBSyxFQUFDLHlCQUF5QjtJQUMxQyxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztJQUN0QyxDQUFDO0NBQ0o7QUFQRCxzQ0FPQztBQUVZLGVBQU8sR0FBRyxlQUFlOzs7Ozs7Ozs7Ozs7Ozs7QUNkdEMsdUZBQXNDO0FBQ3RDLDhIQUF1RDtBQUN2RCxxSEFBc0U7QUFDdEUsK0dBQWdFO0FBRWhFLCtHQUFnRTtBQUNoRSw0R0FBZ0Q7QUFDaEQsK0dBQWdFO0FBQ2hFLGtIQUE2RDtBQUM3RCw0R0FBNkQ7QUFDN0QsZ0dBQWlEO0FBQ2pELCtHQUFrRDtBQUNsRCxtR0FBOEM7QUFDOUMsZ0tBQTZEO0FBRTdEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EyQkc7QUFDSCxTQUFnQixLQUFLLENBQ2pCLEdBQWUsRUFDZixpQkFBbUQ7SUFFbkQsSUFBSSxHQUFHLFlBQVksbUJBQVEsSUFBSSxHQUFHLFlBQVksaUJBQU87UUFBRSxPQUFPLEVBQUU7O1FBRTVELFFBQVEsR0FBRyxDQUFDLEtBQUssRUFBRTtZQUNmLEtBQUssYUFBTztnQkFDUixPQUFPLFFBQVEsQ0FBQyxHQUFVLEVBQUUsaUJBQWlCLENBQUM7WUFDbEQsS0FBSyxxQkFBVztnQkFDWixPQUFPLFlBQVksQ0FBQyxHQUFjLEVBQUUsaUJBQWlCLENBQUM7WUFDMUQsS0FBSyx1QkFBWTtnQkFDYixPQUFPLGFBQWEsQ0FBQyxHQUFlLEVBQUUsaUJBQWlCLENBQUM7WUFDNUQsS0FBSyx1QkFBWTtnQkFDYixPQUFPLGFBQWEsQ0FBQyxHQUFlLEVBQUUsaUJBQWlCLENBQUM7WUFDNUQsS0FBSywyQkFBYztnQkFDZixPQUFPLGVBQWUsQ0FBQyxHQUFpQixFQUFFLGlCQUFpQixDQUFDO1lBQ2hFLEtBQUssbUJBQU87Z0JBQ1IsT0FBTyxjQUFjLENBQUMsR0FBZ0IsRUFBRSxpQkFBaUIsQ0FBQztZQUM5RCxLQUFLLHVCQUFZO2dCQUNiLE9BQU8sYUFBYSxDQUFDLEdBQWUsRUFBRSxpQkFBaUIsQ0FBQztZQUM1RDtnQkFDSSxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7U0FDMUQ7QUFDVCxDQUFDO0FBeEJELHNCQXdCQztBQUVEOzs7Ozs7OztHQVFHO0FBQ0gsU0FBUyxRQUFRLENBQ2IsR0FBUSxFQUNSLGlCQUFtRDtJQUVuRCxNQUFNLGNBQWMsR0FBa0IsSUFBSSxHQUFHLEVBQUU7SUFFL0MsNEJBQTRCO0lBQzVCLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNqQyxjQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUMzQixDQUFDLENBQUM7SUFFRixpQ0FBaUM7SUFDakMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3ZDLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRXpCLHNDQUFzQztRQUN0QyxLQUFLLENBQUMsSUFBSSxFQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ3ZDLGNBQWMsQ0FBQyxHQUFHLENBQ2QsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7Z0JBQ0ksQ0FBQyxFQUFFLEdBQUc7Z0JBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztnQkFDckIsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBZ0IsQ0FBQzthQUM3QyxFQUNELENBQUMsQ0FBQyxRQUFRLEVBQ1YsQ0FBQyxDQUFDLE1BQU0sQ0FDWCxDQUNKO1FBQ0wsQ0FBQyxDQUFDO0tBQ0w7SUFFRCxTQUFTLElBQUksQ0FBQyxDQUFNLEVBQUUsQ0FBUyxFQUFFLENBQWE7UUFDMUMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDMUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDWixPQUFPLCtCQUFHLEVBQUMsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELE9BQU8sQ0FBQyxHQUFHLGNBQWMsQ0FBQztBQUM5QixDQUFDO0FBRUQsU0FBUyxZQUFZLENBQ2pCLEdBQVksRUFDWixpQkFBbUQ7SUFFbkQsTUFBTSxrQkFBa0IsR0FBa0IsSUFBSSxHQUFHLEVBQUU7SUFFbkQsNEJBQTRCO0lBQzVCLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNqQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQy9CLENBQUMsQ0FBQztJQUVGLGlDQUFpQztJQUNqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDekMsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFFN0Isc0NBQXNDO1FBQ3RDLEtBQUssQ0FBQyxNQUFNLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDM0Msa0JBQWtCLENBQUMsR0FBRyxDQUNsQixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtnQkFDSSxDQUFDLEVBQUUsR0FBRztnQkFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO2dCQUNyQixFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFnQixDQUFDO2FBQy9DLEVBQ0QsR0FBRyxDQUFDLFFBQVEsRUFDWixHQUFHLENBQUMsTUFBTSxDQUNiLENBQ0o7UUFDTCxDQUFDLENBQUM7S0FDTDtJQUVELFNBQVMsSUFBSSxDQUFDLENBQVUsRUFBRSxDQUFTLEVBQUUsQ0FBYTtRQUM5QyxNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUM1QixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUNaLE9BQU8sbUNBQU8sRUFBQyxHQUFHLEtBQUssQ0FBQztJQUM1QixDQUFDO0lBRUQsT0FBTyxDQUFDLEdBQUcsa0JBQWtCLENBQUM7QUFDbEMsQ0FBQztBQUVELFNBQVMsYUFBYSxDQUNsQixHQUFhLEVBQ2IsaUJBQW1EO0lBRW5ELE1BQU0sV0FBVyxHQUFrQixJQUFJLEdBQUcsRUFBRTtJQUU1Qyw0QkFBNEI7SUFDNUIsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2pDLFdBQVcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ3hCLENBQUMsQ0FBQztJQUVGLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQzdDLFdBQVcsQ0FBQyxHQUFHLENBQ1gsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLG1CQUFRLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBZ0IsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDO1NBQ3pELEVBQ0QsR0FBRyxDQUFDLFFBQVEsRUFDWixHQUFHLENBQUMsTUFBTSxDQUNiLENBQ0o7SUFDTCxDQUFDLENBQUM7SUFDRixLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUM5QyxXQUFXLENBQUMsR0FBRyxDQUNYLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBZ0IsQ0FBQztTQUN4RCxFQUNELEdBQUcsQ0FBQyxRQUFRLEVBQ1osR0FBRyxDQUFDLE1BQU0sQ0FDYixDQUNKO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsT0FBTyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQzNCLENBQUM7QUFFRCxTQUFTLGFBQWEsQ0FDbEIsR0FBYSxFQUNiLGlCQUFtRDtJQUVuRCxNQUFNLFdBQVcsR0FBa0IsSUFBSSxHQUFHLEVBQUU7SUFFNUMsNEJBQTRCO0lBQzVCLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNqQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUN4QixDQUFDLENBQUM7SUFFRixLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsRCxXQUFXLENBQUMsR0FBRyxDQUNYLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQWdCLEVBQUUsR0FBRyxDQUFDLFdBQVcsQ0FBQztTQUMvRCxFQUNELEdBQUcsQ0FBQyxRQUFRLEVBQ1osR0FBRyxDQUFDLE1BQU0sQ0FDYixDQUNKO0lBQ0wsQ0FBQyxDQUFDO0lBQ0YsS0FBSyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDcEQsV0FBVyxDQUFDLEdBQUcsQ0FDWCxJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsbUJBQVEsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQWdCLENBQUM7U0FDN0QsRUFDRCxHQUFHLENBQUMsUUFBUSxFQUNaLEdBQUcsQ0FBQyxNQUFNLENBQ2IsQ0FDSjtJQUNMLENBQUMsQ0FBQztJQUVGLE9BQU8sQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMzQixDQUFDO0FBRUQsU0FBUyxlQUFlLENBQ3BCLEdBQWUsRUFDZixpQkFBbUQ7SUFFbkQsTUFBTSxXQUFXLEdBQWtCLElBQUksR0FBRyxFQUFFO0lBRTVDLDRCQUE0QjtJQUM1QixpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDakMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDeEIsQ0FBQyxDQUFDO0lBRUYsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDNUMsV0FBVyxDQUFDLEdBQUcsQ0FDWCxJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsdUJBQVUsQ0FBQyxFQUFFLENBQ2IsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFnQixFQUMxQixHQUFHLENBQUMsVUFBVSxDQUNqQjtTQUNKLEVBQ0QsR0FBRyxDQUFDLFFBQVEsRUFDWixHQUFHLENBQUMsTUFBTSxDQUNiLENBQ0o7SUFDTCxDQUFDLENBQUM7SUFDRixLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNuRCxXQUFXLENBQUMsR0FBRyxDQUNYLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSx1QkFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBZ0IsQ0FBQztTQUN6RCxFQUNELEdBQUcsQ0FBQyxRQUFRLEVBQ1osR0FBRyxDQUFDLE1BQU0sQ0FDYixDQUNKO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsT0FBTyxDQUFDLEdBQUcsV0FBVyxDQUFDO0FBQzNCLENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FDbkIsR0FBYyxFQUNkLGlCQUFtRDtJQUVuRCxNQUFNLFdBQVcsR0FBa0IsSUFBSSxHQUFHLEVBQUU7SUFFNUMsNEJBQTRCO0lBQzVCLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNqQyxXQUFXLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztJQUN4QixDQUFDLENBQUM7SUFFRixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUM1QyxXQUFXLENBQUMsR0FBRyxDQUNYLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxxQkFBUyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQWdCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQztTQUN6RCxFQUNELEdBQUcsQ0FBQyxRQUFRLEVBQ1osR0FBRyxDQUFDLE1BQU0sQ0FDYixDQUNKO0lBQ0wsQ0FBQyxDQUFDO0lBQ0YsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDN0MsV0FBVyxDQUFDLEdBQUcsQ0FDWCxJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUscUJBQVMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQWdCLENBQUM7U0FDeEQsRUFDRCxHQUFHLENBQUMsUUFBUSxFQUNaLEdBQUcsQ0FBQyxNQUFNLENBQ2IsQ0FDSjtJQUNMLENBQUMsQ0FBQztJQUVGLE9BQU8sQ0FBQyxHQUFHLFdBQVcsQ0FBQztBQUMzQixDQUFDO0FBRUQsU0FBUyxhQUFhLENBQ2xCLEdBQWEsRUFDYixpQkFBbUQ7SUFFbkQsTUFBTSxXQUFXLEdBQWtCLElBQUksR0FBRyxFQUFFO0lBRTVDLDRCQUE0QjtJQUM1QixpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDakMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDeEIsQ0FBQyxDQUFDO0lBRUYsS0FBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDbEQsV0FBVyxDQUFDLEdBQUcsQ0FDWCxJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsbUJBQVEsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFnQixFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUM7U0FDOUQsRUFDRCxHQUFHLENBQUMsUUFBUSxFQUNaLEdBQUcsQ0FBQyxNQUFNLENBQ2IsQ0FDSjtJQUNMLENBQUMsQ0FBQztJQUNGLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ25ELFdBQVcsQ0FBQyxHQUFHLENBQ1gsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLG1CQUFRLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFnQixDQUFDO1NBQzdELEVBQ0QsR0FBRyxDQUFDLFFBQVEsRUFDWixHQUFHLENBQUMsTUFBTSxDQUNiLENBQ0o7SUFDTCxDQUFDLENBQUM7SUFFRixPQUFPLENBQUMsR0FBRyxXQUFXLENBQUM7QUFDM0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDeFhELDBGQUF5QztBQUN6QyxpSUFBc0Q7QUFFdEQsK0dBQW1EO0FBQ25ELG1HQUEyQztBQUMzQyxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRzs7R0FFRztBQUNILE1BQWEsZ0JBQWlCLFNBQVEsNkVBQXFDO0lBQzdELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxZQUFZLFNBQUc7SUFDN0IsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sZ0JBQWdCLEdBQUksR0FBVyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQzlDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxpQkFBTyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQy9DO1FBQ0QsSUFBSSxnQkFBZ0IsQ0FBQyxNQUFNLElBQUssR0FBVyxDQUFDLEtBQUssQ0FBQyxNQUFNO1lBQUUsT0FBTyx5Q0FBSyxHQUFFO1FBRXhFLE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsb0NBQVEsRUFBQyxHQUFHLGdCQUFnQixDQUFDO1NBQ3BDLEVBQ0QsbUJBQW1CLEVBQ25CLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztDQUNKO0FBdkJELDRDQXVCQztBQUVZLGVBQU8sR0FBRyxtQkFBbUI7Ozs7Ozs7Ozs7Ozs7OztBQ3JDMUMsMEZBQXlDO0FBRXpDLCtHQUFtRDtBQUNuRCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFFaEcsTUFBYSxpQkFBa0IsU0FBUSw2RUFBcUM7SUFDOUQsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxHQUFHLFlBQVksaUJBQU87SUFDakMsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sT0FBTyxHQUFHLEdBQWM7UUFFOUIsSUFBSSxNQUFNLEdBQUcsS0FBSztRQUNsQixLQUFLLE1BQU0sTUFBTSxJQUFJLE9BQU8sQ0FBQyxPQUFPO1lBQ2hDLElBQUksTUFBTSxZQUFZLGlCQUFPLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxDQUFDLEVBQUU7Z0JBQ2pELE1BQU0sR0FBRyxJQUFJO2dCQUNiLE1BQUs7YUFDUjtRQUVMLElBQUksQ0FBQyxNQUFNO1lBQUUsT0FBTyx5Q0FBSyxHQUFFO1FBRTNCLE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsaUJBQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3BCLEVBQ0QsNkJBQTZCLEVBQzdCLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztDQUNKO0FBN0JELDhDQTZCQztBQUVZLGVBQU8sR0FBRyxtQkFBbUI7Ozs7Ozs7Ozs7Ozs7OztBQ3ZDMUMsMEZBQXlDO0FBQ3pDLGlJQUEwRDtBQUUxRCwrR0FBbUQ7QUFDbkQsbUdBQW9EO0FBQ3BELHNHQUFpRDtBQUNqRCxtS0FBZ0U7QUFDaEUsMExBQWdHO0FBRWhHOzs7O0dBSUc7QUFDSCxNQUFhLG9DQUFxQyxTQUFRLDZFQUFxQztJQUNqRixXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLEdBQUcsWUFBWSxTQUFHLElBQUksR0FBRyxZQUFZLGlCQUFPO0lBQ3ZELENBQUM7SUFDUyxTQUFTLENBQUMsR0FBZTtRQUMvQixJQUFJLEdBQUcsWUFBWSxTQUFHLEVBQUU7WUFDcEIsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLEtBQUs7aUJBQ3JCLEdBQUcsQ0FBZSxDQUFDLENBQUMsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLFlBQVksU0FBRyxFQUFFO29CQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO2lCQUN0QjtnQkFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2QsQ0FBQyxDQUFDO2lCQUNELElBQUksRUFBRTtZQUVYLElBQUksUUFBUSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU07Z0JBQUUsT0FBTyxJQUFJLEdBQUcsRUFBWTtZQUVuRSxPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7Z0JBQ0ksQ0FBQyxFQUFFLEdBQUc7Z0JBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztnQkFDckIsRUFBRSxFQUFFLCtCQUFHLEVBQUMsR0FBRyxRQUFRLENBQUM7YUFDdkIsRUFDRCxrQ0FBa0MsRUFDbEMsZUFBTyxDQUNWLENBQ0o7U0FDSjthQUFNO1lBQ0gsTUFBTSxVQUFVLEdBQUksR0FBZSxDQUFDLE9BQU87aUJBQ3RDLEdBQUcsQ0FBZSxDQUFDLENBQUMsRUFBRTtnQkFDbkIsSUFBSSxDQUFDLFlBQVksaUJBQU8sRUFBRTtvQkFDdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztpQkFDeEI7Z0JBQ0QsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNkLENBQUMsQ0FBQztpQkFDRCxJQUFJLEVBQUU7WUFDWCxJQUFJLFVBQVUsQ0FBQyxNQUFNLElBQUssR0FBZSxDQUFDLE9BQU8sQ0FBQyxNQUFNO2dCQUNwRCxPQUFPLElBQUksR0FBRyxFQUFZO1lBRTlCLE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtnQkFDSSxDQUFDLEVBQUUsR0FBRztnQkFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO2dCQUNyQixFQUFFLEVBQUUsbUNBQU8sRUFBQyxHQUFHLFVBQVUsQ0FBQzthQUM3QixFQUNELHdDQUF3QyxFQUN4QyxlQUFPLENBQ1YsQ0FDSjtTQUNKO0lBQ0wsQ0FBQztDQUNKO0FBdkRELG9GQXVEQztBQUVZLGVBQU8sR0FBRyxzQkFBc0I7Ozs7Ozs7Ozs7Ozs7OztBQ3ZFN0MsMEZBQXlDO0FBQ3pDLGlJQUFzRDtBQUV0RCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFDaEcsaUlBQWtFO0FBRWxFOzs7R0FHRztBQUNILE1BQWEsZUFBZ0IsU0FBUSw2RUFBcUM7SUFDNUQsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxHQUFHLFlBQVksaUJBQU87SUFDakMsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sT0FBTyxHQUFHLEdBQWM7UUFDOUIsTUFBTSxjQUFjLEdBQWlCLEVBQUU7UUFDdkMsTUFBTSxNQUFNLEdBQWlCLEVBQUU7UUFFL0IsS0FBSyxNQUFNLENBQUMsSUFBSSxPQUFPLENBQUMsT0FBTyxFQUFFO1lBQzdCLElBQUksQ0FBQyxZQUFZLGlCQUFPLElBQUksQ0FBQyxDQUFDLFVBQVUsRUFBRTtnQkFDdEMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO2FBQ2xDO2lCQUFNO2dCQUNILE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQ2pCO1NBQ0o7UUFFRCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsVUFBVTtRQUVyQyxNQUFNLFNBQVMsR0FBRyxjQUFjLENBQUMsTUFBTSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU5RCxJQUFJLFNBQVMsR0FBRyxDQUFDO1lBQUUsT0FBTyx5Q0FBSyxHQUFFO1FBRWpDLE1BQU0sZ0JBQWdCLEdBQUcsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQzNDLE1BQU0sTUFBTSxHQUFHLG1DQUFTLEVBQUMsR0FBRyxjQUFjLEVBQUUsR0FBRyxNQUFNLENBQUM7UUFDdEQsTUFBTSxhQUFhLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLG9DQUFRLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU07UUFFbEUsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxhQUFhO1NBQ3BCLEVBQ0Qsa0JBQWtCLEVBQ2xCLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztDQUNKO0FBeENELDBDQXdDQztBQUVZLGVBQU8sR0FBRyxrQkFBa0I7Ozs7Ozs7Ozs7Ozs7OztBQ3ZEekMsMEZBQXlDO0FBQ3pDLGlJQUFzRDtBQUN0RCxrSEFBcUQ7QUFHckQsK0dBQWdFO0FBQ2hFLG1HQUFrRDtBQUNsRCxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRzs7R0FFRztBQUNILE1BQWEsa0NBQW1DLFNBQVEsNkVBQXFDO0lBQy9FLFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxZQUFZLGlCQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVztJQUNyRCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxPQUFPLEdBQUcsR0FBYztRQUU5Qiw0Q0FBNEM7UUFDNUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxHQUFHLEVBQWM7UUFDbkMsS0FBSyxNQUFNLE1BQU0sSUFBSSxPQUFPLENBQUMsT0FBTyxFQUFFO1lBQ2xDLElBQUksTUFBTSxZQUFZLG1CQUFRO2dCQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQzs7Z0JBQ2pELEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO1NBQ3pCO1FBRUQsTUFBTSxxQkFBcUIsR0FBRyxJQUFJLEdBQUcsRUFBc0I7UUFDM0QsMEJBQTBCO1FBQzFCLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3RCLElBQUksVUFBVSxHQUFpQixFQUFFO1lBQ2pDLE1BQU0sZ0JBQWdCLEdBQWlCLEVBQUU7WUFDekMscURBQXFEO1lBQ3JELHNDQUFzQztZQUN0QyxLQUFLLE1BQU0sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQzdCLElBQUksQ0FBQyxZQUFZLG1CQUFRLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7b0JBQzFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztpQkFDM0I7cUJBQU0sSUFBSSxDQUFDLEtBQUssSUFBSSxFQUFFO29CQUNuQixVQUFVLENBQUMsSUFBSSxDQUFDLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQzFCO3FCQUFNO29CQUNILGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7aUJBQzNCO2FBQ0o7WUFFRCxrQ0FBa0M7WUFDbEMsVUFBVSxHQUFHLG9CQUFVLEVBQUMsR0FBRyxVQUFVLENBQUM7WUFFdEMscURBQXFEO1lBQ3JELElBQUksVUFBVSxDQUFDLE1BQU0sSUFBSSxDQUFDO2dCQUFFLFNBQVE7WUFFcEMsZ0RBQWdEO1lBQ2hELE1BQU0sUUFBUSxHQUFHLG1CQUFRLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSwrQkFBRyxFQUFDLEdBQUcsVUFBVSxDQUFDLENBQUM7WUFFdEQsNENBQTRDO1lBQzVDLElBQUksZ0JBQWdCLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDOUIscUJBQXFCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztnQkFDbkMsU0FBUTthQUNYO1lBRUQsa0VBQWtFO1lBQ2xFLFNBQVMsZUFBZSxDQUFDLEdBQWlCLEVBQUUsRUFBYztnQkFDdEQsYUFBYTtnQkFDYixJQUFJLEtBQUssR0FBRyxDQUFDO2dCQUNiLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNqQyxJQUFJLHlCQUFXLEVBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTt3QkFDN0IsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDO3dCQUNiLE1BQUs7cUJBQ1I7aUJBQ0o7Z0JBRUQsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUM1QixDQUFDO1lBQ0QsZUFBZSxDQUFDLGdCQUFnQixFQUFFLFFBQVEsQ0FBQztZQUMzQyxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsaUJBQU8sQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUMxRDtRQUVELGdEQUFnRDtRQUNoRCxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBWTtRQUNoQyxxQkFBcUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDOUIsSUFBSSxDQUFDLEdBQUcsQ0FDSixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxPQUFPLENBQUMsRUFDZDtnQkFDSSxDQUFDLEVBQUUsT0FBTztnQkFDVixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO2dCQUNyQixFQUFFLEVBQUUsQ0FBQzthQUNSLEVBQ0QsdUNBQXVDLEVBQ3ZDLGVBQU8sQ0FDVixDQUNKO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsT0FBTyxJQUFJO0lBQ2YsQ0FBQztDQUNKO0FBbEZELGdGQWtGQztBQUVZLGVBQU8sR0FBRyxnQkFBZ0I7Ozs7Ozs7Ozs7Ozs7OztBQ2xHdkMsaUlBTW9DO0FBQ3BDLDBGQUF5QztBQUV6QywrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELDBMQUdpRDtBQUNqRCxtR0FBMkM7QUFDM0MsbUtBQTZFO0FBQzdFLDBIQUFrRTtBQUVsRTs7Ozs7Ozs7R0FRRztBQUNILE1BQWEsMEJBQTJCLFNBQVEsNkVBQXFDO0lBQ3ZFLFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxZQUFZLFNBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXO0lBQ2pELENBQUM7SUFFUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLEdBQUcsR0FBRyxHQUFVO1FBQ3RCLE1BQU0sSUFBSSxHQUFHLElBQUksR0FBRyxFQUFZO1FBRWhDLE1BQU0sYUFBYSxHQUFHLElBQUksR0FBRyxFQUFjO1FBRTNDLHVDQUF1QztRQUN2QyxxRUFBcUU7UUFDckUsS0FBSyxNQUFNLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO1lBQzFCLElBQUksSUFBSSxZQUFZLGlCQUFPLEVBQUU7Z0JBQ3pCLDBDQUFNLEVBQUMsYUFBYSxFQUFFLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFDdEMsMkNBQTJDO2dCQUMzQywrQkFBK0I7YUFDbEM7O2dCQUFNLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO1NBQ2pDO1FBRUQsaURBQWlEO1FBQ2pELEtBQUssTUFBTSxNQUFNLElBQUksYUFBYSxFQUFFO1lBQ2hDLElBQUksTUFBTSxDQUFDLFdBQVcsSUFBSSxNQUFNLENBQUMsS0FBSyxLQUFLLHFCQUFXO2dCQUFFLFNBQVE7WUFFaEUsb0NBQW9DO1lBQ3BDLE1BQU0sYUFBYSxHQUFjLEVBQUU7WUFDbkMsTUFBTSxVQUFVLEdBQWlCLEVBQUU7WUFDbkMsS0FBSyxNQUFNLElBQUksSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO2dCQUMxQixJQUFJLElBQUksWUFBWSxpQkFBTyxFQUFFO29CQUN6QixJQUFJLHVDQUFHLEVBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7d0JBQUUsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7O3dCQUNsRCxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztpQkFDN0I7cUJBQU07b0JBQ0gsSUFBSSxJQUFJLEtBQUssTUFBTTt3QkFDZixhQUFhLENBQUMsSUFBSSxDQUFDLGlCQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsK0JBQUcsRUFBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDOzt3QkFDN0MsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7aUJBQzdCO2FBQ0o7WUFFRCxJQUFJLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQztnQkFBRSxTQUFRO1lBRXRDLDZCQUE2QjtZQUM3QixNQUFNLFlBQVksR0FBaUIsRUFBRTtZQUNyQyxLQUFLLE1BQU0sSUFBSSxJQUFJLGFBQWEsRUFBRTtnQkFDOUIsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzFDO1lBQ0QsTUFBTSxNQUFNLEdBQUcsb0NBQVEsRUFDbkIsMENBQWMsRUFBQyxTQUFHLENBQUMsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUM1QyxHQUFHLFVBQVUsQ0FDaEI7WUFFRCxJQUFJLENBQUMsR0FBRyxDQUNKLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO2dCQUNJLENBQUMsRUFBRSxHQUFHO2dCQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7Z0JBQ3JCLEVBQUUsRUFBRSxNQUFNO2FBQ2IsRUFDRCxvQkFBb0IsRUFDcEIsZUFBTyxDQUNWLENBQ0o7U0FDSjtRQUVELE9BQU8sSUFBSTtJQUNmLENBQUM7SUFFRCxJQUFXLGVBQWU7UUFDdEIsT0FBTyx5REFBaUIsQ0FBQyxRQUFRO0lBQ3JDLENBQUM7Q0FDSjtBQXZFRCxnRUF1RUM7QUFFWSxlQUFPLEdBQUcsYUFBYTs7Ozs7Ozs7Ozs7Ozs7O0FDckdwQywwRkFBeUM7QUFDekMsaUlBQStEO0FBRS9ELCtHQUFtRDtBQUNuRCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFFaEc7O0dBRUc7QUFDSCxNQUFhLHFCQUFzQixTQUFRLDZFQUFxQztJQUNsRSxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLEdBQUcsWUFBWSxpQkFBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQVU7SUFDcEQsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sQ0FBQyxHQUFHLEdBQWM7UUFFeEIsTUFBTSxnQkFBZ0IsR0FBaUIsRUFBRTtRQUN6QyxJQUFJLFdBQVcsR0FBRyxDQUFDO1FBQ25CLEtBQUssTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRTtZQUN2QixJQUFJLENBQUMsWUFBWSxpQkFBTyxFQUFFO2dCQUN0QixXQUFXLElBQUksQ0FBQyxDQUFDLEtBQUs7YUFDekI7O2dCQUFNLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDbEM7UUFFRCxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQzlDLE9BQU8sSUFBSSxHQUFHLEVBQVk7UUFFOUIsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSx3Q0FBWSxFQUFDLCtCQUFHLEVBQUMsV0FBVyxDQUFDLEVBQUUsR0FBRyxnQkFBZ0IsQ0FBQztTQUMxRCxFQUNELHdCQUF3QixFQUN4QixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQS9CRCxzREErQkM7QUFFWSxlQUFPLEdBQUcsY0FBYzs7Ozs7Ozs7Ozs7Ozs7O0FDN0NyQywwRkFBeUM7QUFDekMsaUlBSW9DO0FBRXBDLGtIQUFxRDtBQUNyRCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELDhGQUEwQztBQUMxQyxtS0FBZ0U7QUFDaEUsMExBQWdHO0FBRWhHOzs7R0FHRztBQUNILE1BQWEsMkJBQTRCLFNBQVEsNkVBQXFDO0lBQ3hFLFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxZQUFZLGlCQUFPO0lBQ2pDLENBQUM7SUFDUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLE9BQU8sR0FBRyxHQUFjO1FBQzlCLHVDQUF1QztRQUV2QyxNQUFNLGFBQWEsR0FBeUIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQzlELENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxZQUFZLG1CQUFRLENBQzdCLENBQUMsQ0FBQyxDQUFhO1FBQ2hCLElBQUksYUFBYSxLQUFLLFNBQVM7WUFBRSxPQUFPLHlDQUFLLEdBQUU7UUFDL0Msc0NBQXNDO1FBRXRDLE1BQU0sa0JBQWtCLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQzdDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxtQkFBUSxDQUFDLENBQ2hDO1FBQ0QsSUFBSSxrQkFBa0IsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUFFLE9BQU8seUNBQUssR0FBRTtRQUNsRCwwQ0FBMEM7UUFFMUMsSUFBSSxNQUFrQjtRQUN0QixpRUFBaUU7UUFDakUsSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO1lBQ3pELHVDQUF1QztZQUN2QyxtREFBbUQ7WUFDbkQsTUFBTSxHQUFHLG1CQUFRLENBQUMsRUFBRSxDQUNoQixtQ0FBUyxFQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxrQkFBa0IsQ0FBQyxFQUN6RCxhQUFhLENBQUMsV0FBVyxDQUM1QjtTQUNKO2FBQU07WUFDSCwrQkFBK0I7WUFDL0IsTUFBTSx3QkFBd0IsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FDbkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFlBQVksbUJBQVEsQ0FDN0I7WUFDRCxrQ0FBTSxFQUFDLHdCQUF3QixFQUFFLGFBQWEsQ0FBQztZQUUvQyxtQkFBTSxFQUFDLHdCQUF3QixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7WUFFM0MsTUFBTSxHQUFHLG1DQUFTLEVBQ2QsbUJBQVEsQ0FBQyxFQUFFLENBQ1AsaURBQXFCLEVBQ2pCLGFBQWEsQ0FBQyxTQUFTLEVBQ3ZCLEdBQUcsa0JBQWtCLENBQ3hCLEVBQ0QsYUFBYSxDQUFDLFdBQVcsQ0FDNUIsRUFDRCxHQUFHLHdCQUF3QixDQUM5QjtTQUNKO1FBRUQsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxNQUFNO1NBQ2IsRUFDRCxnQ0FBZ0MsRUFDaEMsZUFBTyxDQUNWLENBQ0o7SUFDTCxDQUFDO0NBQ0o7QUEvREQsa0VBK0RDO0FBRVksZUFBTyxHQUFHLFlBQVk7Ozs7Ozs7Ozs7Ozs7OztBQ25GbkMsMEZBQXlDO0FBQ3pDLGlJQUtvQztBQUVwQywrR0FBbUQ7QUFDbkQsbUdBQTJDO0FBQzNDLHNHQUFpRDtBQUVqRCxtS0FBZ0U7QUFDaEUsMExBR2lEO0FBRWpEOzs7O0dBSUc7QUFDSCxNQUFhLG9CQUFxQixTQUFRLDZFQUFxQztJQUNqRSxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLEdBQUcsWUFBWSxpQkFBTztJQUNqQyxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxPQUFPLEdBQUcsR0FBYztRQUU5QixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksU0FBRyxDQUFDLENBQUM7UUFDaEUsSUFBSSxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUM7WUFBRSxPQUFPLHlDQUFLLEdBQUU7UUFDdkMsdUNBQXVDO1FBRXZDLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxZQUFZLFNBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBUTtRQUN4RSxJQUFJLFFBQVEsSUFBSSxTQUFTO1lBQUUsT0FBTyx5Q0FBSyxHQUFFO1FBQ3pDLDRCQUE0QjtRQUU1QixNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsWUFBWSxTQUFHLENBQUM7UUFDbkUsa0NBQU0sRUFBQyxhQUFhLEVBQUUsUUFBUSxDQUFDO1FBRS9CLE1BQU0sWUFBWSxHQUFHLHdDQUFZLEVBQUMsR0FBRyxPQUFPLENBQUM7UUFFN0MsTUFBTSxXQUFXLEdBQUcsK0JBQUcsRUFDbkIsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLG1DQUFTLEVBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQ3pEO1FBRUQsTUFBTSxNQUFNLEdBQUcsd0NBQVksRUFBQyxXQUFXLEVBQUUsR0FBRyxhQUFhLENBQUM7UUFFMUQsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxNQUFNO1NBQ2IsRUFDRCxjQUFjLHdDQUFZLEVBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxtQkFBbUIsRUFBRSxFQUFFLEVBQzlELGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztJQUVELElBQVcsZUFBZTtRQUN0QixPQUFPLHlEQUFpQixDQUFDLFVBQVU7SUFDdkMsQ0FBQztDQUNKO0FBM0NELG9EQTJDQztBQUVZLGVBQU8sR0FBRyx1QkFBdUI7Ozs7Ozs7Ozs7Ozs7OztBQ3BFOUMsMEZBQXlDO0FBQ3pDLGlJQU1vQztBQUNwQyxrSEFBcUQ7QUFFckQsa0hBQXFEO0FBQ3JELCtHQUFtRDtBQUNuRCxzR0FBaUQ7QUFDakQsbUtBQXFFO0FBQ3JFLDBMQUFnRztBQUVoRyxNQUFhLGVBQWdCLFNBQVEsNkVBQXFDO0lBQzVELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sQ0FDSCxHQUFHLFlBQVksbUJBQVE7WUFDdkIsR0FBRyxDQUFDLFNBQVMsWUFBWSxpQkFBTztZQUNoQyxHQUFHLENBQUMsV0FBVyxZQUFZLGlCQUFPLENBQ3JDO0lBQ0wsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sSUFBSSxHQUFHLEdBQWU7UUFDNUIsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQW9CO1FBQ3JDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFzQjtRQUV2QyxvREFBb0Q7UUFDcEQsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLFVBQVU7WUFDN0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLFlBQVksaUJBQU87Z0JBQzdCLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQywyQ0FBMkM7Z0JBQ2xFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxrRUFBa0U7WUFDdkYsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUMsd0NBQXdDO1FBQzFELE1BQU0sVUFBVSxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVU7WUFDOUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPO1lBQ2IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLFlBQVksaUJBQU87Z0JBQy9CLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLE9BQU87Z0JBQ3RCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUM7UUFFdEIsb0NBQW9DO1FBQ3BDLElBQUksSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxNQUFNO1lBQUUsT0FBTyx5Q0FBSyxHQUFFO1FBQ2hFLElBQUksSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxNQUFNO1lBQUUsT0FBTyx5Q0FBSyxHQUFFO1FBRWhFLG9DQUFvQztRQUNwQyxNQUFNLFlBQVksR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFXLENBQUMsQ0FBQyxFQUFFO1lBQzlDLElBQUksQ0FBQyxZQUFZLG1CQUFRO2dCQUFFLE9BQU8sQ0FBQzs7Z0JBQzlCLE9BQU8sbUJBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLCtCQUFLLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsQ0FBQyxDQUFDO1FBQ0YsTUFBTSxZQUFZLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBVyxDQUFDLENBQUMsRUFBRTtZQUM5QyxJQUFJLENBQUMsWUFBWSxtQkFBUTtnQkFBRSxPQUFPLENBQUM7O2dCQUM5QixPQUFPLG1CQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSwrQkFBSyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQztRQUVGLGtFQUFrRTtRQUNsRSxNQUFNLGlCQUFpQixHQUFHLElBQUksR0FBRyxFQUE0QjtRQUM3RCxZQUFZLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQzVCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztnQkFDckMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1lBQzVDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDOUQsQ0FBQyxDQUFDO1FBQ0YsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBNEI7UUFDN0QsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUM1QixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7Z0JBQ3JDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztZQUM1QyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBQzlELENBQUMsQ0FBQztRQUVGLHFEQUFxRDtRQUNyRCxnQ0FBZ0M7UUFDaEMsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLEdBQUcsQ0FDaEMsaUJBQWlCLENBQ3BCO1FBQ0QsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLEdBQUcsQ0FDaEMsaUJBQWlCLENBQ3BCO1FBQ0QsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxFQUFFO1lBQ3ZDLElBQUksaUJBQWlCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM3QixvQkFBb0I7cUJBQ2YsR0FBRyxDQUFDLElBQUksQ0FBRTtxQkFDVixJQUFJLENBQUMsb0NBQVEsRUFBQyxvQ0FBUSxFQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDeEMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQzthQUNwQztRQUNMLENBQUMsQ0FBQztRQUVGLHdEQUF3RDtRQUN4RCxNQUFNLGVBQWUsR0FBZSxFQUFFO1FBQ3RDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUMxQyxlQUFlLENBQUMsSUFBSSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxvQ0FBUSxFQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNoRSxDQUFDLENBQUM7UUFDRixNQUFNLGVBQWUsR0FBZSxFQUFFO1FBQ3RDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUMxQyxlQUFlLENBQUMsSUFBSSxDQUFDLG1CQUFRLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxvQ0FBUSxFQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNoRSxDQUFDLENBQUM7UUFFRixNQUFNLEdBQUcsR0FBRyx3Q0FBWSxFQUFDLEdBQUcsZUFBZSxDQUFDO1FBQzVDLE1BQU0sTUFBTSxHQUNSLGVBQWUsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUN2QixDQUFDLENBQUMsd0NBQVksRUFBQyxHQUFHLGVBQWUsQ0FBQztZQUNsQyxDQUFDLENBQUMsK0JBQUssRUFBQyxDQUFDLENBQUM7UUFFbEIseUNBQXlDO1FBQ3pDLE1BQU0sTUFBTSxHQUFHLG1CQUFRLENBQUMsRUFBRSxDQUN0QixHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxvQ0FBUSxFQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQ3BDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLG9DQUFRLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FDN0M7UUFFRCxPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLE1BQU07U0FDYixFQUNELHNCQUFzQixFQUN0QixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQXpHRCwwQ0F5R0M7QUFFWSxlQUFPLEdBQUcsc0JBQXNCOzs7Ozs7Ozs7Ozs7Ozs7QUMzSDdDLDBGQUF5QztBQUd6QyxrSEFBcUQ7QUFDckQsK0dBQW1EO0FBQ25ELHNHQUFpRDtBQUNqRCxtS0FBZ0U7QUFDaEUsMExBQWdHO0FBRWhHOztHQUVHO0FBQ0gsTUFBYSxnQkFBaUIsU0FBUSw2RUFBcUM7SUFDN0QsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxDQUNILEdBQUcsWUFBWSxtQkFBUTtZQUN2QixHQUFHLENBQUMsV0FBVyxZQUFZLGlCQUFPO1lBQ2xDLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FDN0I7SUFDTCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxJQUFJLEdBQUcsR0FBZTtRQUM1QixPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsSUFBSSxDQUFDLEVBQ1g7WUFDSSxDQUFDLEVBQUUsSUFBSTtZQUNQLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLElBQUksQ0FBQyxTQUFTO1NBQ3JCLEVBQ0Qsd0JBQXdCLEVBQ3hCLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztDQUNKO0FBdkJELDRDQXVCQztBQUVZLGVBQU8sR0FBRyxtQkFBbUI7Ozs7Ozs7Ozs7Ozs7OztBQ3JDMUMsMEZBQXlDO0FBQ3pDLGlJQUF5RTtBQUV6RSwrR0FBbUQ7QUFDbkQsK0dBQW1EO0FBQ25ELG1HQUEyQztBQUMzQyxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRzs7Ozs7OztHQU9HO0FBQ0gsTUFBYSxZQUFhLFNBQVEsNkVBQXFDO0lBQ3pELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxZQUFZLFNBQUc7SUFDN0IsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sR0FBRyxHQUFHLEdBQVU7UUFDdEIsTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQ3RDLENBQUMsQ0FBQyxFQUFFLENBQ0EsQ0FBQyxZQUFZLGlCQUFPO1lBQ3BCLENBQUMsQ0FBQyxZQUFZLGlCQUFPO2dCQUNqQixDQUFDLENBQUMsVUFBVTtnQkFDWixDQUFDLENBQUMsUUFBUSxZQUFZLGlCQUFPLENBQUMsQ0FDekM7UUFDRCxJQUFJLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3pCLE9BQU8seUNBQUssR0FBRTtTQUNqQjtRQUNELE1BQU0sTUFBTSxHQUFHLGlCQUFPLENBQUMsRUFBRSxDQUNyQixZQUFZO2FBQ1AsR0FBRyxDQUFTLENBQUMsQ0FBQyxFQUFFO1lBQ2IsSUFBSSxDQUFDLFlBQVksaUJBQU8sRUFBRTtnQkFDdEIsT0FBTyxDQUFDLENBQUMsS0FBSzthQUNqQjtZQUNELE9BQU8sQ0FBRyxDQUFhLENBQUMsUUFBb0IsQ0FBQyxLQUFLO1FBQ3RELENBQUMsQ0FBQzthQUNELE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FDL0I7UUFDRCxNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FDcEMsQ0FBQyxDQUFDLEVBQUUsQ0FDQSxDQUFDLENBQUMsQ0FBQyxZQUFZLGlCQUFPLENBQUM7WUFDdkIsQ0FBQyxDQUNHLENBQUMsWUFBWSxpQkFBTztnQkFDcEIsQ0FBQyxDQUFDLFVBQVU7Z0JBQ1osQ0FBQyxDQUFDLFFBQVEsWUFBWSxpQkFBTyxDQUNoQyxDQUNSO1FBRUQsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxvQ0FBUSxFQUFDLEdBQUcsVUFBVSxFQUFFLE1BQU0sQ0FBQztTQUN0QyxFQUNELG9CQUFvQixFQUNwQixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQWpERCxvQ0FpREM7QUFFWSxlQUFPLEdBQUcsZUFBZTs7Ozs7Ozs7Ozs7Ozs7O0FDckV0QywwRkFBeUM7QUFDekMsaUlBQWlEO0FBQ2pELGtIQUFxRDtBQUVyRCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFFaEcsTUFBYSxjQUFlLFNBQVEsNkVBQXFDO0lBQzNELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sQ0FDSCxHQUFHLFlBQVksbUJBQVE7WUFDdkIsR0FBRyxDQUFDLEtBQUssWUFBWSxpQkFBTztZQUM1QixHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQ3ZCO0lBQ0wsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsK0JBQUcsRUFBQyxDQUFDLENBQUM7U0FDYixFQUNELDBCQUEwQixFQUMxQixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQXRCRCx3Q0FzQkM7QUFFWSxlQUFPLEdBQUcsYUFBYTs7Ozs7Ozs7Ozs7Ozs7O0FDakNwQywwRkFBeUM7QUFDekMsa0hBQXFEO0FBRXJELCtHQUFtRDtBQUNuRCxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRzs7O0dBR0c7QUFDSCxNQUFhLG1CQUFvQixTQUFRLDZFQUFxQztJQUNoRSxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLENBQ0gsR0FBRyxZQUFZLG1CQUFRO1lBQ3ZCLEdBQUcsQ0FBQyxLQUFLLFlBQVksaUJBQU87WUFDNUIsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUN2QjtJQUNMLENBQUM7SUFDUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLENBQUMsR0FBRyxHQUFlO1FBQ3pCLE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxDQUFDLENBQUMsRUFDUjtZQUNJLENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUk7U0FDYixFQUNELDJCQUEyQixFQUMzQixlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQXZCRCxrREF1QkM7QUFFWSxlQUFPLEdBQUcsc0JBQXNCOzs7Ozs7Ozs7Ozs7Ozs7QUNyQzdDLDBGQUF5QztBQUV6QywrR0FBbUQ7QUFDbkQsaUlBSW9DO0FBQ3BDLG1HQUEyQztBQUMzQyxtS0FBZ0U7QUFDaEUsMExBR2lEO0FBQ2pELHNHQUFpRDtBQUVqRDs7R0FFRztBQUNILE1BQWEsSUFBSyxTQUFRLDZFQUFxQztJQUNqRCxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLEdBQUcsWUFBWSxpQkFBTztJQUNqQyxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxPQUFPLEdBQUcsR0FBYztRQUU5QixNQUFNLElBQUksR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsWUFBWSxTQUFHLENBQUM7UUFDMUQsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUM7WUFBRSxPQUFPLHlDQUFLLEdBQUU7UUFFbkMsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLFNBQUcsQ0FBQyxDQUFDO1FBRWhFLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQVE7UUFDNUIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBUTtRQUU3QixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsS0FBSzthQUNyQixHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDTCxNQUFNLEtBQUssR0FBaUIsRUFBRTtZQUM5QixLQUFLLE1BQU0sRUFBRSxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUU7Z0JBQzNCLEtBQUssQ0FBQyxJQUFJLENBQUMsbUNBQVMsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7YUFDL0I7WUFDRCxPQUFPLEtBQUs7UUFDaEIsQ0FBQyxDQUFDO2FBQ0QsSUFBSSxFQUFFO1FBRVgsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCLE1BQU0sTUFBTSxHQUFHLHdDQUFZLEVBQUMsR0FBRyxPQUFPLEVBQUUsK0JBQUcsRUFBQyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBRWhFLE9BQU8seUNBQUssRUFDUixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtZQUNJLENBQUMsRUFBRSxHQUFHO1lBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztZQUNyQixFQUFFLEVBQUUsTUFBTTtTQUNiLEVBQ0QsZ0JBQWdCLEVBQ2hCLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztJQUVELElBQVcsZUFBZTtRQUN0QixPQUFPLHlEQUFpQixDQUFDLFVBQVU7SUFDdkMsQ0FBQztDQUNKO0FBN0NELG9CQTZDQztBQUVZLGVBQU8sR0FBRyxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7QUNsRTdCLDBGQUF5QztBQUN6QyxpSUFBaUQ7QUFFakQsK0dBQW1EO0FBQ25ELHFIQUF1RDtBQUN2RCxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRyxNQUFhLFFBQVMsU0FBUSw2RUFBcUM7SUFDckQsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxDQUNILEdBQUcsWUFBWSxxQkFBUztZQUN4QixHQUFHLENBQUMsR0FBRyxZQUFZLGlCQUFPO1lBQzFCLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FDdEI7SUFDTCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQztTQUNiLEVBQ0QsMkJBQTJCLEVBQzNCLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztDQUNKO0FBdEJELDRCQXNCQztBQUVZLGVBQU8sR0FBRyxVQUFVOzs7Ozs7Ozs7Ozs7Ozs7QUNqQ2pDLDBGQUF5QztBQUN6QyxpSUFBK0Q7QUFFL0QsK0dBQW1EO0FBQ25ELCtHQUFtRDtBQUNuRCxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRzs7O0dBR0c7QUFDSCxNQUFhLHNCQUF1QixTQUFRLDZFQUFxQztJQUNuRSxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLENBQ0gsR0FBRyxZQUFZLGlCQUFPO1lBQ3RCLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsK0JBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUNoQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQ2xCO0lBQ0wsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sQ0FBQyxHQUFHLEdBQWM7UUFDeEIsTUFBTSxVQUFVLEdBQWlCLEVBQUU7UUFDbkMsS0FBSyxNQUFNLE1BQU0sSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFO1lBQzVCLElBQUksTUFBTSxZQUFZLGlCQUFPLElBQUksTUFBTSxDQUFDLEtBQUssSUFBSSxDQUFDO2dCQUFFLFNBQVE7WUFDNUQsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7U0FDMUI7UUFFRCxJQUFJLFVBQVUsQ0FBQyxNQUFNLElBQUksQ0FBQztZQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsK0JBQUcsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUVuRCxPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLHdDQUFZLEVBQUMsR0FBRyxVQUFVLENBQUM7U0FDbEMsRUFDRCx5QkFBeUIsRUFDekIsZUFBTyxDQUNWLENBQ0o7SUFDTCxDQUFDO0NBQ0o7QUEvQkQsd0RBK0JDO0FBRVksZUFBTyxHQUFHLGVBQWU7Ozs7Ozs7Ozs7Ozs7OztBQzlDdEMsMEZBQXlDO0FBQ3pDLGlJQUFxRDtBQUNyRCxrSEFBcUQ7QUFFckQsc0dBQWlEO0FBQ2pELG1LQUFnRTtBQUNoRSwwTEFBZ0c7QUFFaEcsTUFBYSxzQkFBdUIsU0FBUSw2RUFBcUM7SUFDbkUsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxHQUFHLFlBQVksbUJBQVEsSUFBSSxHQUFHLENBQUMsSUFBSSxZQUFZLG1CQUFRO0lBQ2xFLENBQUM7SUFDUyxTQUFTLENBQUMsR0FBZTtRQUMvQixNQUFNLEtBQUssR0FBRyxHQUFlO1FBQzdCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFnQjtRQUVwQyxPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLG1CQUFRLENBQUMsRUFBRSxDQUNYLEtBQUssQ0FBQyxJQUFJLEVBQ1YsbUNBQU8sRUFBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FDcEM7U0FDSixFQUNELGlDQUFpQyxFQUNqQyxlQUFPLENBQ1YsQ0FDSjtJQUNMLENBQUM7Q0FDSjtBQXhCRCx3REF3QkM7QUFFWSxlQUFPLEdBQUcsWUFBWTs7Ozs7Ozs7Ozs7Ozs7O0FDbENuQywwSEFBMkU7QUFDM0UscUdBQW9EO0FBRXBELDBMQUFnRztBQUNoRyw2SEFBOEU7QUFDOUUsNElBRytDO0FBQy9DLGlIQUE0RDtBQUM1RCw4S0FBMkU7QUFDM0UsMEhBQThEO0FBRTlELE1BQWEsaUJBQWtCLFNBQVEsNkVBQXFDO0lBQzlELFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxDQUFDLEtBQUssS0FBSyxxQkFBVztJQUNwQyxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxDQUFDLEdBQUcsR0FBYztRQUV4QixNQUFNLEdBQUcsR0FBRyx3Q0FBWSxFQUNwQixHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxDQUFDLEtBQUssS0FBSyx1QkFBWSxFQUFFO2dCQUMxQixPQUFRLENBQWMsQ0FBQyxTQUFTO2FBQ25DO2lCQUFNO2dCQUNILE9BQU8sQ0FBQzthQUNYO1FBQ0wsQ0FBQyxDQUFDLENBQ0w7UUFFRCxNQUFNLEdBQUcsR0FBRyx3Q0FBWSxFQUNwQixHQUFHLENBQUMsQ0FBQyxPQUFPO2FBQ1AsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ1IsT0FBTyxDQUFDLENBQUMsS0FBSyxLQUFLLHVCQUFZO1FBQ25DLENBQUMsQ0FBQzthQUNELEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFFLENBQWMsQ0FBQyxXQUFXLENBQUMsQ0FDN0M7UUFFRCxJQUFJLEdBQUcsWUFBWSxpQkFBTyxJQUFJLEdBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQztZQUFFLE9BQU8seUNBQUssR0FBRTtRQUU1RCxPQUFPLHlDQUFLLEVBQ1IsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7WUFDSSxDQUFDLEVBQUUsR0FBRztZQUNOLENBQUMsRUFBRSwyQkFBWSxDQUFDLEtBQUs7WUFDckIsRUFBRSxFQUFFLG1CQUFRLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7U0FDNUIsRUFDRCx3Q0FBd0MsRUFDeEMsZUFBTyxDQUNWLENBQ0o7SUFDTCxDQUFDO0NBQ0o7QUF4Q0QsOENBd0NDO0FBRVksZUFBTyxHQUFHLG9CQUFvQjs7Ozs7Ozs7Ozs7Ozs7O0FDdkQzQywwRkFBeUM7QUFDekMsaUlBQXFEO0FBRXJELCtHQUFnRTtBQUNoRSxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRzs7R0FFRztBQUNILE1BQWEsYUFBYyxTQUFRLDZFQUFxQztJQUMxRCxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLEdBQUcsWUFBWSxpQkFBTztJQUNqQyxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxDQUFDLEdBQUcsR0FBYztRQUV4QixNQUFNLE1BQU0sR0FBRyxtQ0FBTyxFQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMscUJBQVcsQ0FBQyxDQUFDO1FBQzNELElBQUksTUFBTSxLQUFLLENBQUM7WUFBRSxPQUFPLHlDQUFLLEdBQUU7UUFFaEMsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLEdBQUcsQ0FBQyxFQUNWO1lBQ0ksQ0FBQyxFQUFFLEdBQUc7WUFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxNQUFNO1NBQ2IsRUFDRCxrREFBa0QsRUFDbEQsZUFBTyxDQUNWLENBQ0o7SUFDTCxDQUFDO0NBQ0o7QUF2QkQsc0NBdUJDO0FBRVksZUFBTyxHQUFHLGdCQUFnQjs7Ozs7Ozs7Ozs7Ozs7O0FDcEN2QywwRkFBeUM7QUFDekMsaUlBQXdEO0FBRXhELG1HQUFvRDtBQUNwRCxzR0FBaUQ7QUFDakQsbUtBQWdFO0FBQ2hFLDBMQUFnRztBQUVoRzs7O0dBR0c7QUFDSCxNQUFhLFNBQVUsU0FBUSw2RUFBcUM7SUFDdEQsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxHQUFHLFlBQVksU0FBRyxJQUFJLHNDQUFVLEVBQUMsR0FBRyxDQUFDLEtBQUssR0FBRztJQUN4RCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsT0FBTyxJQUFJLEdBQUcsQ0FBVztZQUNyQixJQUFJLG1CQUFRLENBQ1IseUNBQUssRUFBQyxHQUFHLENBQUMsRUFDVjtnQkFDSSxDQUFDLEVBQUUsR0FBRztnQkFDTixDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO2dCQUNyQixFQUFFLEVBQUUsc0NBQVUsRUFBQyxHQUFVLENBQUM7YUFDN0IsRUFDRCxXQUFXLEVBQ1gsZUFBTyxDQUNWO1NBQ0osQ0FBQztJQUNOLENBQUM7Q0FDSjtBQWxCRCw4QkFrQkM7QUFFWSxlQUFPLEdBQUcsWUFBWTs7Ozs7Ozs7Ozs7Ozs7O0FDaENuQywwRkFBeUM7QUFDekMsaUlBQWlEO0FBRWpELGtIQUFxRDtBQUNyRCwrR0FBbUQ7QUFDbkQsc0dBQWlEO0FBQ2pELG1LQUFxRTtBQUNyRSwwTEFBZ0c7QUFFaEcsTUFBYSw2Q0FBOEMsU0FBUSw2RUFBcUM7SUFDMUYsV0FBVyxDQUFDLEdBQWU7UUFDakMsT0FBTyxDQUNILEdBQUcsWUFBWSxtQkFBUTtZQUN2QixDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsWUFBWSxpQkFBTyxJQUFJLEdBQUcsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO1lBQy9ELENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxZQUFZLGlCQUFPLElBQUksR0FBRyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FDdEU7SUFDTCxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxJQUFJLEdBQUcsR0FBZTtRQUM1QixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUztRQUMxQixNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVztRQUUvQixNQUFNLFVBQVUsR0FBRyxJQUFJLEdBQUcsRUFBYztRQUN4QyxJQUFJLEdBQUcsWUFBWSxpQkFBTyxFQUFFO1lBQ3hCLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM5Qzs7WUFBTSxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUMxQixJQUFJLE1BQU0sWUFBWSxpQkFBTyxFQUFFO1lBQzNCLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNqRDs7WUFBTSxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUU3QiwrQ0FBK0M7UUFDL0MsTUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLEVBQWM7UUFDcEMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNuQixJQUNJLENBQUMsR0FBRyxZQUFZLGlCQUFPLENBQUMsQ0FBQyxDQUFDLHVDQUFHLEVBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztnQkFDMUQsQ0FBQyxNQUFNLFlBQVksaUJBQU87b0JBQ3RCLENBQUMsQ0FBQyx1Q0FBRyxFQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO29CQUN4QixDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztnQkFFbkIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDckIsQ0FBQyxDQUFDO1FBRUYsSUFBSSxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUM7WUFBRSxPQUFPLHlDQUFLLEdBQUU7UUFFcEMsb0NBQW9DO1FBQ3BDLElBQUksTUFBTSxHQUFlLEdBQUc7UUFDNUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNmLElBQUksTUFBTSxZQUFZLGlCQUFPLEVBQUU7Z0JBQzNCLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzthQUM3QjtpQkFBTTtnQkFDSCxNQUFNLEdBQUcsK0JBQUcsRUFBQyxDQUFDLENBQUM7YUFDbEI7UUFDTCxDQUFDLENBQUM7UUFFRixJQUFJLFNBQVMsR0FBZSxNQUFNO1FBQ2xDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDZixJQUFJLFNBQVMsWUFBWSxpQkFBTyxFQUFFO2dCQUM5QixTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7YUFDbkM7aUJBQU07Z0JBQ0gsU0FBUyxHQUFHLCtCQUFHLEVBQUMsQ0FBQyxDQUFDO2FBQ3JCO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLElBQUksQ0FBQyxFQUNYO1lBQ0ksQ0FBQyxFQUFFLElBQUk7WUFDUCxDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDO1NBQ3JDLEVBQ0QscUNBQXFDLEVBQ3JDLGVBQU8sQ0FDVixDQUNKO0lBQ0wsQ0FBQztDQUNKO0FBbkVELHNHQW1FQztBQUVZLGVBQU8sR0FBRyxrQ0FBa0M7Ozs7Ozs7Ozs7Ozs7OztBQzdFekQsMEZBQXlDO0FBQ3pDLGlJQU1vQztBQUNwQyxrSEFBcUQ7QUFFckQsa0hBQXFEO0FBQ3JELCtHQUFtRDtBQUNuRCxzR0FBaUQ7QUFDakQsbUtBQXFFO0FBQ3JFLDBMQUFnRztBQUVoRzs7Ozs7Ozs7O0dBU0c7QUFDSCxNQUFhLDRCQUE2QixTQUFRLDZFQUFxQztJQUN6RSxXQUFXLENBQUMsR0FBZTtRQUNqQyxPQUFPLEdBQUcsWUFBWSxtQkFBUTtJQUNsQyxDQUFDO0lBQ1MsU0FBUyxDQUFDLEdBQWU7UUFDL0IsTUFBTSxJQUFJLEdBQUcsR0FBZTtRQUM1QixNQUFNLEdBQUcsR0FDTCxJQUFJLENBQUMsU0FBUyxZQUFZLGlCQUFPO1lBQzdCLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU87WUFDeEIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixNQUFNLE1BQU0sR0FDUixJQUFJLENBQUMsV0FBVyxZQUFZLGlCQUFPO1lBQy9CLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU87WUFDMUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUU1QixzREFBc0Q7UUFDdEQsU0FBUyxVQUFVLENBQUMsQ0FBYTtZQUM3QixJQUFJLENBQUMsWUFBWSxtQkFBUTtnQkFBRSxPQUFPLENBQUM7O2dCQUM5QixPQUFPLG1CQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSwrQkFBRyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLENBQUM7UUFDRCxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFXLFVBQVUsQ0FBQztRQUNsRCxNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFXLFVBQVUsQ0FBQztRQUV4RCw2QkFBNkI7UUFDN0IsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQWM7UUFDekMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNyQixJQUNJLHVDQUFHLEVBQ0MsZUFBZSxDQUFDLEdBQUcsQ0FBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFDNUMsQ0FBQyxDQUFDLElBQUksQ0FDVDtnQkFFRCxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDL0IsQ0FBQyxDQUFDO1FBQ0YsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN4QixJQUNJLHVDQUFHLEVBQ0MsWUFBWSxDQUFDLEdBQUcsQ0FBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFDekMsQ0FBQyxDQUFDLElBQUksQ0FDVDtnQkFFRCxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDL0IsQ0FBQyxDQUFDO1FBRUYsSUFBSSxXQUFXLENBQUMsSUFBSSxJQUFJLENBQUM7WUFBRSxPQUFPLHlDQUFLLEdBQUU7UUFFekMsMkNBQTJDO1FBQzNDLE1BQU0sb0JBQW9CLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN4QyxJQUFJLENBQUMsWUFBWSxtQkFBUTtnQkFBRSxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzFELE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM5QixDQUFDLENBQUM7UUFDRixNQUFNLHVCQUF1QixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDOUMsSUFBSSxDQUFDLFlBQVksbUJBQVE7Z0JBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUMxRCxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxDQUFDO1FBRUYsbUNBQW1DO1FBQ25DLDREQUE0RDtRQUM1RCxNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBNEI7UUFDekQsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNyQixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2dCQUFFLE9BQU07WUFDcEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM1QixhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2FBQ2hDO1lBQ0QsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDNUMsQ0FBQyxDQUFDO1FBQ0YsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2dCQUFFLE9BQU07WUFDcEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM1QixhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2FBQ2hDO1lBQ0QsbURBQW1EO1lBQ25ELGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBRSxDQUFDLElBQUksQ0FBQyxvQ0FBUSxFQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0RCxDQUFDLENBQUM7UUFFRixNQUFNLHFCQUFxQixHQUFlLEVBQUU7UUFDNUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUN2QyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsbUJBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLCtCQUFHLEVBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLENBQUMsQ0FBQztRQUVGLElBQUksdUJBQXVCLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDbkMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLCtCQUFHLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFFeEMsT0FBTyx5Q0FBSyxFQUNSLElBQUksbUJBQVEsQ0FDUix5Q0FBSyxFQUFDLElBQUksQ0FBQyxFQUNYO1lBQ0ksQ0FBQyxFQUFFLElBQUk7WUFDUCxDQUFDLEVBQUUsMkJBQVksQ0FBQyxLQUFLO1lBQ3JCLEVBQUUsRUFBRSxtQkFBUSxDQUFDLEVBQUUsQ0FDWCx3Q0FBWSxFQUNSLEdBQUcscUJBQXFCLEVBQ3hCLEdBQUcsb0JBQW9CLENBQzFCLEVBQ0Qsd0NBQVksRUFBQyxHQUFHLHVCQUF1QixDQUFDLENBQzNDO1NBQ0osRUFDRCxpREFBaUQsRUFDakQsZUFBTyxDQUNWLENBQ0o7SUFDTCxDQUFDO0NBQ0o7QUF0R0Qsb0VBc0dDO0FBRVksZUFBTyxHQUFHLDJDQUEyQzs7Ozs7Ozs7Ozs7Ozs7O0FDbklsRSwwRkFBeUM7QUFDekMsaUlBT29DO0FBRXBDLCtHQUFtRDtBQUNuRCwrR0FBbUQ7QUFDbkQsbUdBQTJDO0FBQzNDLHNHQUFpRDtBQUNqRCxtS0FBZ0U7QUFDaEUsMExBQWdHO0FBR2hHOzs7Ozs7R0FNRztBQUNILE1BQWEsMkJBQTRCLFNBQVEsNkVBQXFDO0lBQ3hFLFdBQVcsQ0FBQyxHQUFlO1FBQ2pDLE9BQU8sR0FBRyxZQUFZLFNBQUc7SUFDN0IsQ0FBQztJQUNTLFNBQVMsQ0FBQyxHQUFlO1FBQy9CLE1BQU0sS0FBSyxHQUFJLEdBQVcsQ0FBQyxLQUFLO1FBRWhDLGdEQUFnRDtRQUNoRCxNQUFNLFlBQVksR0FBYyxFQUFFO1FBQ2xDLE1BQU0sZUFBZSxHQUFpQixFQUFFO1FBQ3hDLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1lBQ3RCLElBQUksSUFBSSxZQUFZLGlCQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsWUFBWSxpQkFBTyxFQUFFO2dCQUMvRCxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUMxQjtpQkFBTTtnQkFDSCxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUM3QjtTQUNKO1FBRUQsdURBQXVEO1FBQ3ZELE1BQU0sTUFBTSxHQUdSLElBQUksR0FBRyxFQUFFO1FBQ2IsS0FBSyxNQUFNLElBQUksSUFBSSxZQUFZLEVBQUU7WUFDN0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQVk7WUFDeEMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2pCLE1BQU0sS0FBSyxHQUFHLHdDQUFZLEVBQUMsR0FBRyxJQUFJLENBQUM7WUFFbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO2dCQUNsQixNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRTtvQkFDZCxXQUFXLEVBQUUsS0FBSyxDQUFDLEtBQUs7b0JBQ3hCLFdBQVcsRUFBRSxLQUFLO2lCQUNyQixDQUFDO2lCQUNEO2dCQUNELE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFFLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQyxLQUFLO2dCQUM3QyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBRSxDQUFDLFdBQVcsR0FBRyxJQUFJO2FBQ3hDO1NBQ0o7UUFFRCxxRUFBcUU7UUFDckUsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQVk7UUFDL0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVc7Z0JBQUUsT0FBTTtZQUU1QixNQUFNLHVCQUF1QixHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3BELE1BQU0sSUFBSSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO2dCQUMzQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ2pCLE1BQU0sNkJBQTZCLEdBQUcsd0NBQVksRUFBQyxHQUFHLElBQUksQ0FBQztnQkFDM0QsT0FBTyxLQUFLLEtBQUssNkJBQTZCO1lBQ2xELENBQUMsQ0FBQztZQUVGLEdBQUcsQ0FBQyxHQUFHLENBQ0gsSUFBSSxtQkFBUSxDQUNSLHlDQUFLLEVBQUMsR0FBRyxDQUFDLEVBQ1Y7Z0JBQ0ksQ0FBQyxFQUFFLEdBQUc7Z0JBQ04sQ0FBQyxFQUFFLDJCQUFZLENBQUMsS0FBSztnQkFDckIsRUFBRSxFQUFFLG9DQUFRLEVBQ1IsaURBQXFCLEVBQUMsK0JBQUcsRUFBQyxHQUFHLENBQUMsV0FBVyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQ2xELEdBQUcsZUFBZSxFQUNsQixHQUFHLHVCQUF1QixDQUM3QjthQUNKLEVBQ0Qsc0JBQXNCLEVBQ3RCLGVBQU8sQ0FDVixDQUNKO1FBQ0wsQ0FBQyxDQUFDO1FBRUYsT0FBTyxHQUFHO0lBQ2QsQ0FBQztDQUNKO0FBeEVELGtFQXdFQztBQUVZLGVBQU8sR0FBRyxnQ0FBZ0M7Ozs7Ozs7Ozs7Ozs7OztBQ2xHdkQsd0dBQXlDO0FBRXpDLCtGQUFnRDtBQUNoRCxtRkFBK0I7QUFFL0I7O0dBRUc7QUFDSCxNQUFhLFVBQVcsU0FBUSx1QkFBVTtJQUMvQixNQUFNLENBQUMsRUFBRSxDQUFDLEdBQWUsRUFBRSxVQUFzQjtRQUNwRCxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJO1FBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDekIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksVUFBVSxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUM3RCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBRTtJQUNwQyxDQUFDO0lBRUQsWUFBb0IsR0FBZSxFQUFFLFVBQXNCO1FBQ3ZELEtBQUssRUFBRTtRQWNLLFVBQUssR0FBVyxzQkFBYztRQWIxQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUc7UUFDZCxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVU7UUFDNUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssRUFBQyw4Q0FBOEM7UUFDdkUsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLEVBQUMsOENBQThDO1FBQ3RFLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLFVBQVU7SUFDaEUsQ0FBQztJQU9NLFFBQVE7UUFDWCxPQUFPLENBQ0gsS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsR0FBRyxDQUN2RTtJQUNMLENBQUM7SUFFTSxtQkFBbUI7UUFDdEIsT0FBTyxDQUNILE1BQU07WUFDTixJQUFJLENBQUMsVUFBVSxDQUFDLG1CQUFtQixFQUFFO1lBQ3JDLEdBQUc7WUFDSCxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLENBQ2pDO0lBQ0wsQ0FBQztJQUNELElBQVcsSUFBSTtRQUNYLE9BQU8sSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUk7SUFDNUQsQ0FBQztJQUVNLFNBQVM7UUFDWixTQUFTLFlBQVksQ0FBQyxHQUFlO1lBQ2pDLElBQUksR0FBRyxDQUFDLEtBQUssSUFBSSxhQUFPLElBQUksR0FBRyxDQUFDLEtBQUssSUFBSSxxQkFBVztnQkFDaEQsT0FBTyxZQUFZLEdBQUcsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLFlBQVk7WUFDeEQsT0FBTyxHQUFHLENBQUMsU0FBUyxFQUFFO1FBQzFCLENBQUM7UUFDRCxPQUFPLENBQ0gsbUNBQW1DO1lBQ25DLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQzdCLGlCQUFpQjtZQUNqQixZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUN6QjtJQUNMLENBQUM7SUFFTSxRQUFRLENBQUMsTUFBd0I7UUFDcEMsY0FBYztRQUNkLE9BQU8sR0FBRztJQUNkLENBQUM7O0FBM0RMLGdDQStEQztBQXhEa0Isb0JBQVMsR0FBNEIsSUFBSSxHQUFHLEVBQUU7QUEwRHBELHNCQUFjLEdBQUcsWUFBWTs7Ozs7Ozs7Ozs7Ozs7O0FDMUUxQyxnSEFBc0Q7QUFFdEQsd0dBQXlDO0FBQ3pDLGtHQUF5QztBQUN6QywrRkFBZ0Q7QUFDaEQsK0ZBQXVDO0FBQ3ZDLG1GQUErQjtBQUUvQixNQUFhLFFBQVMsU0FBUSx1QkFBVTtJQUM3QixNQUFNLENBQUMsRUFBRSxDQUFDLElBQWdCLEVBQUUsS0FBaUI7UUFDaEQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSTtRQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDL0IsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztTQUMxRDtRQUNELE9BQU8sUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFFO0lBQ3hDLENBQUM7SUFJTSxTQUFTO1FBQ1osU0FBUyxZQUFZLENBQUMsR0FBZTtZQUNqQyxJQUNJLEdBQUcsQ0FBQyxLQUFLLElBQUksYUFBTztnQkFDcEIsR0FBRyxDQUFDLEtBQUssSUFBSSxxQkFBVztnQkFDeEIsR0FBRyxDQUFDLEtBQUssSUFBSSx1QkFBWTtnQkFFekIsT0FBTyx5QkFBSyxFQUFDLDJCQUFPLEVBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7WUFDMUMsT0FBTyxHQUFHLENBQUMsU0FBUyxFQUFFO1FBQzFCLENBQUM7UUFDRCxPQUFPLENBQ0gsUUFBUTtZQUNSLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ3ZCLHlCQUFLLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUM3QixTQUFTLENBQ1o7SUFDTCxDQUFDO0lBQ00sUUFBUTtRQUNYLE9BQU8sR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRztJQUNyRCxDQUFDO0lBQ00sbUJBQW1CO1FBQ3RCLE9BQU8sR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRztJQUNyRCxDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO0lBQ25ELENBQUM7SUFFTSxRQUFRLENBQUMsTUFBd0I7UUFDcEMsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFFRCxZQUFvQixJQUFnQixFQUFFLEtBQWlCO1FBQ25ELEtBQUssRUFBRTtRQWxDSixVQUFLLEdBQVcsb0JBQVk7UUFtQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSTtRQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN6Qiw4Q0FBOEM7UUFDOUMsSUFBSSxDQUFDLFdBQVc7WUFDWixDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxxQkFBVyxDQUFDO2dCQUNoRCxDQUFDLEtBQUssQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLEtBQUssS0FBSyxxQkFBVyxDQUFDLEVBQUMsZ0VBQWdFO1FBQ3ZILElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxLQUFLLENBQUMsVUFBVTtRQUNyRCxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxVQUFVO0lBQzVELENBQUM7O0FBdkRMLDRCQStEQztBQXZEa0Isa0JBQVMsR0FBRyxJQUFJLEdBQUcsRUFBb0I7QUF5RDdDLG9CQUFZLEdBQUcsVUFBVTs7Ozs7Ozs7Ozs7Ozs7O0FDekV0QyxzR0FBZ0Q7QUFLaEQ7Ozs7R0FJRztBQUNILE1BQXNCLFVBQVcsU0FBUSw2QkFBYTtDQWlFckQ7QUFqRUQsZ0NBaUVDOzs7Ozs7Ozs7Ozs7Ozs7QUMxRUQsd0dBQXlDO0FBRXpDLE1BQWEsUUFBUyxTQUFRLHVCQUFVO0lBQzdCLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBcUIsRUFBRSxXQUF1QjtRQUMzRCxNQUFNLElBQUksR0FBRyxTQUFTLENBQUMsSUFBSSxHQUFHLFdBQVcsQ0FBQyxJQUFJO1FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksUUFBUSxDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUNqRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBRTtJQUNuQyxDQUFDO0lBRUQsWUFBb0IsR0FBZSxFQUFFLEtBQWlCO1FBQ2xELEtBQUssRUFBRTtRQXFCSyxVQUFLLEdBQVcsb0JBQVk7UUFwQnhDLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRztRQUNwQixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUs7UUFDeEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzdCLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUUvQjs7Ozs7O1VBTUU7UUFDRixJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUs7UUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxVQUFVO1FBQ3BELElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVU7SUFDM0QsQ0FBQztJQU1NLFFBQVE7UUFDWCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFO0lBQzFFLENBQUM7SUFDTSxtQkFBbUI7UUFDdEIsT0FBTyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUUsTUFBTSxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixFQUFFLEdBQUc7SUFDbEcsQ0FBQztJQUNELElBQVcsSUFBSTtRQUNYLE9BQU8sb0JBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUk7SUFDckUsQ0FBQztJQUVNLFNBQVM7UUFDWixPQUFPLENBQ0gsZUFBZTtZQUNmLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFO1lBQzFCLGVBQWU7WUFDZixJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRTtZQUM1QixpQkFBaUIsQ0FDcEI7SUFDTCxDQUFDO0lBQ00sUUFBUSxDQUFDLE1BQXdCO1FBQ3BDLE9BQU8sQ0FDSCxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FDdEU7SUFDTCxDQUFDOztBQXRETCw0QkF5REM7QUFsRGtCLGlCQUFRLEdBQTBCLElBQUksR0FBRyxFQUFFO0FBb0RqRCxvQkFBWSxHQUFHLFVBQVU7Ozs7Ozs7Ozs7Ozs7OztBQzlEdEMsMkZBQXVDO0FBRXZDLHdHQUF5QztBQUV6Qzs7O0dBR0c7QUFDSCxNQUFhLE9BQVEsU0FBUSx1QkFBVTtJQUM1QixNQUFNLENBQUMsRUFBRSxDQUFDLEtBQWE7UUFDMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQy9CLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuRDtRQUNELE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFFO0lBQ3hDLENBQUM7SUFHRCxZQUFvQixLQUFhO1FBQzdCLEtBQUssRUFBRTtRQWVKLFVBQUssR0FBVyxtQkFBVztRQXFCbEIsZ0JBQVcsR0FBWSxLQUFLO1FBRTVCLGVBQVUsR0FBRyxJQUFJO1FBQ2pCLGVBQVUsR0FBRyxDQUFDO1FBdEMxQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDbEIsbUJBQU0sRUFDRixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQ25CLCtCQUErQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQy9DO0lBQ0wsQ0FBQztJQUVEOztPQUVHO0lBQ0ksV0FBVztRQUNkLE9BQU8sT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBR00sU0FBUztRQUNaLE9BQU8sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTztJQUN4QyxDQUFDO0lBRU0sUUFBUTtRQUNYLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLO0lBQzFCLENBQUM7SUFDTSxtQkFBbUI7UUFDdEIsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUs7SUFDMUIsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLO0lBQzdCLENBQUM7SUFFTSxRQUFRLENBQUMsTUFBd0I7UUFDcEMsT0FBTyxJQUFJLENBQUMsS0FBSztJQUNyQixDQUFDOztBQTNDTCwwQkFrREM7QUEzQ2tCLGlCQUFTLEdBQXlCLElBQUksR0FBRyxFQUFFO0FBNkNqRCxtQkFBVyxHQUFHLFNBQVM7Ozs7Ozs7Ozs7Ozs7OztBQzVEcEMsZ0hBQStDO0FBRS9DLHdHQUF5QztBQUV6QywrRkFBdUM7QUFDdkMsbUZBQStCO0FBRS9COzs7R0FHRztBQUNILE1BQWEsUUFBUyxTQUFRLHVCQUFVO0lBQzdCLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBcUIsRUFBRSxVQUFzQjtRQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO1lBQ3JELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUNkLFNBQVMsQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksRUFDaEMsSUFBSSxRQUFRLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxDQUN0QztRQUNMLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFFO0lBQ2hFLENBQUM7SUFHRCxZQUFvQixTQUFxQixFQUFFLFVBQXNCO1FBQzdELEtBQUssRUFBRTtRQWVLLFVBQUssR0FBVyxvQkFBWTtRQWR4QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVM7UUFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVO1FBRTVCLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUM3QixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7UUFFOUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLO1FBQ3hCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSztRQUN2QixJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVO0lBQ3RFLENBQUM7SUFNTSxRQUFRO1FBQ1gsT0FBTyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUU7SUFDMUMsQ0FBQztJQUNNLG1CQUFtQjtRQUN0QixPQUFPLENBQ0gsSUFBSTtZQUNKLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUU7WUFDcEMsR0FBRztZQUNILElBQUksQ0FBQyxVQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FDeEM7SUFDTCxDQUFDO0lBQ0QsSUFBVyxJQUFJO1FBQ1gsT0FBTyxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRTtJQUN2RSxDQUFDO0lBRU0sU0FBUztRQUNaLFNBQVMsWUFBWSxDQUFDLEdBQWU7WUFDakMsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLGFBQU8sSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLHFCQUFXO2dCQUNoRCxPQUFPLDJCQUFPLEVBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ25DLE9BQU8sR0FBRyxDQUFDLFNBQVMsRUFBRTtRQUMxQixDQUFDO1FBRUQsT0FBTyxDQUNILGtCQUFrQjtZQUNsQixZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUM1QixZQUFZO1lBQ1osWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDN0IsU0FBUyxDQUNaO0lBQ0wsQ0FBQztJQUVNLFFBQVEsQ0FBQyxNQUF3QjtRQUNwQyxvQkFBb0I7UUFDcEIsT0FBTyxHQUFHO0lBQ2QsQ0FBQzs7QUE5REwsNEJBaUVDO0FBeERrQixrQkFBUyxHQUEwQixJQUFJLEdBQUcsRUFBRTtBQTBEbEQsb0JBQVksR0FBRyxVQUFVOzs7Ozs7Ozs7Ozs7Ozs7QUM3RXRDLHdHQUF5QztBQUV6QyxNQUFhLFNBQVUsU0FBUSx1QkFBVTtJQUM5QixNQUFNLENBQUMsRUFBRSxDQUFDLEdBQWUsRUFBRSxJQUFnQjtRQUM5QyxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJO1FBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDekIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksU0FBUyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBRTtJQUNwQyxDQUFDO0lBRUQsWUFBb0IsR0FBZSxFQUFFLElBQWdCO1FBQ2pELEtBQUssRUFBRTtRQWlCSyxVQUFLLEdBQVcsZUFBTztRQWhCbkMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHO1FBQ2QsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJO1FBQ2hCLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUN2QixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUMsNkNBQTZDO1FBQ3RFLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVTtRQUNuRCxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVO0lBQzFELENBQUM7SUFFTSxTQUFTO1FBQ1osT0FBTztzQ0FDdUIsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7b0JBQ3ZDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFO2VBQ3pCO0lBQ1gsQ0FBQztJQUdNLFFBQVE7UUFDWCxPQUFPLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHO0lBQy9ELENBQUM7SUFDTSxtQkFBbUI7UUFDdEIsT0FBTyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLEdBQUc7SUFDdkYsQ0FBQztJQUNELElBQVcsSUFBSTtRQUNYLE1BQU0sSUFBSSxLQUFLLENBQUMseUJBQXlCLENBQUM7SUFDOUMsQ0FBQztJQUNNLFFBQVEsQ0FBQyxNQUF3QjtRQUNwQyxPQUFPLENBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQ3ZDO0lBQ0wsQ0FBQzs7QUF6Q0wsOEJBZ0RDO0FBekNrQixtQkFBUyxHQUEyQixJQUFJLEdBQUcsRUFBRTtBQTJDbkQsZUFBTyxHQUFHLFdBQVc7Ozs7Ozs7Ozs7Ozs7OztBQ3JEbEMsMkZBQXVDO0FBRXZDLGtHQUFxQztBQUNyQyx3R0FBeUM7QUFDekMsK0ZBQWdEO0FBQ2hELG1GQUErQjtBQUMvQixrR0FBcUM7QUFFckM7O0dBRUc7QUFDSCxNQUFhLE9BQVEsU0FBUSx1QkFBVTtJQUNuQzs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBcUI7UUFDbEMsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ3RELElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDNUIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JELE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFFO0lBQ3ZDLENBQUM7SUFHRCxZQUFvQixPQUFxQjtRQUNyQyxLQUFLLEVBQUU7UUFvS0ssVUFBSyxHQUFXLG1CQUFXO1FBbkt2QyxtQkFBTSxFQUNGLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUNuQiw0Q0FBNEMsQ0FDL0M7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU87UUFDdEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBRTNCLElBQUksU0FBUyxHQUFHLElBQUk7UUFDcEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDckIsU0FBUyxLQUFULFNBQVMsR0FBSyxDQUFDLENBQUMsV0FBVyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUkscUJBQVc7UUFDekQsQ0FBQyxDQUFDO1FBQ0YsOENBQThDO1FBQzlDLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUztRQUU1QixJQUFJLE9BQU8sR0FBRyxJQUFJO1FBQ2xCLE9BQU8sS0FBUCxPQUFPLEdBQUssSUFBSSxDQUFDLFlBQVksRUFBRSxHQUFHLENBQUM7UUFFbkMsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLE1BQU0sSUFBSSxDQUFDO1FBQ3BDLFVBQVUsS0FBVixVQUFVLEdBQ04sT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNmLE9BQU8sQ0FBQyxZQUFZLGlCQUFPLElBQUssQ0FBYSxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUM7UUFDN0QsQ0FBQyxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVO1FBRTVCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU87YUFDekIsR0FBRyxDQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQzthQUMvQixNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxVQUFVO1lBQ1gsT0FBTyxDQUFDLE1BQU07Z0JBQ2QsT0FBTyxDQUFDLEdBQUcsQ0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUM5RCxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFRRDs7OztPQUlHO0lBQ0gsSUFBVyxRQUFRO1FBQ2YsbUJBQU0sRUFBQyxJQUFJLENBQUMsVUFBVSxFQUFFLDhDQUE4QyxDQUFDO1FBQ3ZFLElBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUkscUJBQVc7WUFDbkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQWEsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO1lBRXhDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDMUIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ksT0FBTyxDQUFDLEdBQWU7UUFDMUIsTUFBTSxVQUFVLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFFcEMsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN2QyxPQUFPLEtBQUssS0FBSyxHQUFHO1FBQ3hCLENBQUMsQ0FBQztRQUNGLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQztZQUFFLE9BQU8sSUFBSTtRQUU1QixVQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDM0IsSUFBSSxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN2QixPQUFPLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBQyxtQ0FBbUM7U0FDM0Q7UUFDRCxPQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDO0lBQ2pDLENBQUM7SUFFTSxTQUFTO1FBQ1osSUFBSSxHQUFHLEdBQUcsRUFBRTtRQUNaLFNBQVMsWUFBWSxDQUFDLEdBQWU7WUFDakMsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLG1CQUFXLElBQUksR0FBRyxDQUFDLEtBQUssSUFBSSxhQUFPO2dCQUNoRCxPQUFPLFlBQVksR0FBRyxHQUFHLENBQUMsU0FBUyxFQUFFLEdBQUcsWUFBWTtZQUN4RCxPQUFPLEdBQUcsQ0FBQyxTQUFTLEVBQUU7UUFDMUIsQ0FBQztRQUVELG1EQUFtRDtRQUNuRCw2QkFBNkI7UUFDN0IsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2pCLEdBQUcsSUFBSSxZQUFZO1lBQ25CLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNsQyxPQUFPLEdBQUc7U0FDYjtRQUVELGdDQUFnQztRQUNoQyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNuQyxHQUFHLElBQUksWUFBWSxDQUFDLFdBQVcsQ0FBQztRQUNoQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFFNUIsSUFBSSxRQUFRLEdBQ1IsQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLHFCQUFXO2dCQUN4QixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUkscUJBQVcsQ0FBQztnQkFDN0MsQ0FBQyxNQUFNLFlBQVksT0FBTyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSx3Q0FBd0M7Z0JBQzVGLENBQUMsTUFBTSxZQUFZLGlCQUFPLElBQUksTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFFbkQsSUFBSSxRQUFRO2dCQUFFLEdBQUcsSUFBSSxZQUFZO1lBQ2pDLEdBQUcsSUFBSSxZQUFZLENBQUMsTUFBTSxDQUFDO1NBQzlCO1FBQ0QsT0FBTyxHQUFHO0lBQ2QsQ0FBQztJQUVEOztPQUVHO0lBQ0ssWUFBWTtRQUNoQixJQUFJLEtBQUssR0FBRyxDQUFDO1FBQ2IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLFlBQVksaUJBQU87Z0JBQUUsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUM7b0JBQUUsS0FBSyxFQUFFO1FBQ3RELENBQUMsQ0FBQztRQUNGLE9BQU8sS0FBSztJQUNoQixDQUFDO0lBRU0sUUFBUTtRQUNYLElBQUksR0FBRyxHQUFHLEVBQUU7UUFDWixLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDNUIsSUFBSSxHQUFHLFlBQVksT0FBTyxFQUFFO2dCQUN4QixHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHO2FBQ3BDO2lCQUFNO2dCQUNILEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO2FBQ3hCO1lBQ0QsR0FBRyxJQUFJLEdBQUc7U0FDYjtRQUNELEdBQUcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUN0QyxPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRU0sbUJBQW1CO1FBQ3RCLElBQUksSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxHQUFHO1FBRXZFLElBQUksR0FBRyxHQUFHLEVBQUU7UUFDWixLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDNUIsSUFBSSxHQUFHLFlBQVksT0FBTyxFQUFFO2dCQUN4QixHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHO2FBQ3BDO2lCQUFNO2dCQUNILEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO2FBQ3hCO1lBQ0QsR0FBRyxJQUFJLEdBQUc7U0FDYjtRQUNELEdBQUcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUN0QyxPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFO0lBQ25FLENBQUM7SUFFTSxRQUFRLENBQUMsTUFBd0I7UUFDcEMsT0FBTyxJQUFJLENBQUMsT0FBTzthQUNkLEdBQUcsQ0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDcEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNoQyxDQUFDOztBQWhMTCwwQkF5TEM7QUE1S2tCLGlCQUFTLEdBQXlCLElBQUksR0FBRyxFQUFFO0FBOEtqRCxtQkFBVyxHQUFHLFNBQVM7QUFFcEM7Ozs7OztHQU1HO0FBQ0gsU0FBZ0IsV0FBVyxDQUFDLENBQWEsRUFBRSxDQUFhO0lBQ3BELElBQUksQ0FBQyxZQUFZLGlCQUFPLElBQUksQ0FBQyxZQUFZLGlCQUFPO1FBQUUsT0FBTyxDQUFDO0lBQzFELElBQUksQ0FBQyxZQUFZLGlCQUFPLEVBQUU7UUFDdEIsT0FBTyxNQUFNO0tBQ2hCO0lBRUQsZUFBZTtJQUNmLE1BQU0sS0FBSyxHQUNQLENBQUMsWUFBWSxtQkFBUTtRQUNqQixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU07UUFDVixDQUFDLENBQUMsQ0FBQyxZQUFZLG1CQUFRO1lBQ3JCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxZQUFZLG1CQUFRO2dCQUN4QixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNO2dCQUNmLENBQUMsQ0FBQyxJQUFJO1lBQ1YsQ0FBQyxDQUFDLElBQUk7SUFFaEIsTUFBTSxLQUFLLEdBQ1AsQ0FBQyxZQUFZLG1CQUFRO1FBQ2pCLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTTtRQUNWLENBQUMsQ0FBQyxDQUFDLFlBQVksbUJBQVE7WUFDckIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFlBQVksbUJBQVE7Z0JBQ3hCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU07Z0JBQ2YsQ0FBQyxDQUFDLElBQUk7WUFDVixDQUFDLENBQUMsSUFBSTtJQUVoQixJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtRQUNoQyxPQUFPLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTTtLQUN6QztJQUVELE9BQU8sQ0FBQztBQUNaLENBQUM7QUE5QkQsa0NBOEJDO0FBRUQsTUFBTSxNQUFNLEdBQUcsQ0FBQztBQUNoQixNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ2hQakIsMkZBQXVDO0FBRXZDLHdHQUF5QztBQUN6QywrRkFBZ0Q7QUFDaEQsK0ZBQW1DO0FBQ25DLGtHQUF5QztBQUV6Qzs7R0FFRztBQUNILE1BQWEsR0FBSSxTQUFRLHVCQUFVO0lBQy9COzs7T0FHRztJQUNJLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBbUI7UUFDaEMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ3BELElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUMxQixHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDMUM7UUFDRCxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBRTtJQUNuQyxDQUFDO0lBR0QsWUFBb0IsS0FBbUI7UUFDbkMsS0FBSyxFQUFFO1FBd0ZLLFVBQUssR0FBRyxlQUFPO1FBdkYzQixtQkFBTSxFQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFLHNDQUFzQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSztRQUNsQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLO2FBQ3hCLEdBQUcsQ0FBVSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxxQkFBVyxDQUFDO2FBQzFELE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSzthQUN2QixHQUFHLENBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDO2FBQy9CLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxVQUFVO1lBQ1gsS0FBSyxDQUFDLE1BQU07Z0JBQ1osS0FBSyxDQUFDLEdBQUcsQ0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFRDs7Ozs7O09BTUc7SUFDSSxPQUFPLENBQUMsSUFBZ0I7UUFDM0IsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFFaEMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNyQyxPQUFPLEtBQUssS0FBSyxJQUFJO1FBQ3pCLENBQUMsQ0FBQztRQUNGLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQztZQUFFLE9BQU8sSUFBSTtRQUU1QixRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDekIsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNyQixPQUFPLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBQyxtQ0FBbUM7U0FDekQ7UUFDRCxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDO0lBQzNCLENBQUM7SUFFTSxTQUFTO1FBQ1osU0FBUyxZQUFZLENBQUMsR0FBZTtZQUNqQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLElBQUksZUFBTztnQkFDcEIsT0FBTyxZQUFZLEdBQUcsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLFlBQVk7WUFDeEQsT0FBTyxHQUFHLENBQUMsU0FBUyxFQUFFO1FBQzFCLENBQUM7UUFFRCxJQUFJLEdBQUcsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDeEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDMUIsc0RBQXNEO1lBQ3RELElBQUksSUFBSSxZQUFZLGlCQUFPLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDNUMsR0FBRyxJQUFJLFlBQVksR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQzthQUNwRDtpQkFBTSxJQUFJLElBQUksWUFBWSxpQkFBTyxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFO2dCQUNsRCxHQUFHLElBQUksWUFBWSxHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7YUFDekQ7aUJBQU07Z0JBQ0gsR0FBRyxJQUFJLFlBQVksR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNwRDtTQUNKO1FBQ0QsT0FBTyxHQUFHO0lBQ2QsQ0FBQztJQUVNLFFBQVE7UUFDWCxJQUFJLEdBQUcsR0FBRyxFQUFFO1FBQ1osS0FBSyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQzFCLEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsR0FBRztTQUM5QjtRQUNELEdBQUcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUN0QyxPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRU0sbUJBQW1CO1FBQ3RCLElBQUksR0FBRyxHQUFHLEVBQUU7UUFDWixLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDMUIsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxJQUFJO1NBQ2hEO1FBQ0QsR0FBRyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sR0FBRztJQUNkLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUU7SUFDN0QsQ0FBQztJQUVNLFFBQVEsQ0FBQyxNQUF3QjtRQUNwQyxPQUFPLElBQUksQ0FBQyxLQUFLO2FBQ1osR0FBRyxDQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUNwQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7O0FBckdMLGtCQWdIQztBQXBHMkIsYUFBUyxHQUFxQixJQUFJLEdBQUcsRUFBRTtBQXNHdEQsZUFBTyxHQUFHLEtBQUs7QUFFNUI7Ozs7R0FJRztBQUNILFNBQWdCLFVBQVUsQ0FBQyxHQUFHLEtBQW1CO0lBQzdDLGlFQUFpRTtJQUNqRSxrRUFBa0U7SUFDbEUsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3ZCLDRCQUE0QjtRQUM1QixJQUNJLENBQUMsQ0FBQyxLQUFLLElBQUkscUJBQVc7WUFDdEIsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLHVCQUFZO2dCQUNwQixDQUFDLENBQUMsWUFBWSxpQkFBTztvQkFDakIsQ0FBQyxDQUFDLFVBQVU7b0JBQ1osQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksdUJBQVksQ0FBQyxDQUFDLEVBQzVDO1lBQ0UsT0FBTyxDQUFDO1NBQ1g7UUFDRCxJQUNJLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSx1QkFBWTtZQUNwQixDQUFDLENBQUMsWUFBWSxpQkFBTztnQkFDakIsQ0FBQyxDQUFDLFVBQVU7Z0JBQ1osQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLElBQUksdUJBQVksQ0FBQyxDQUFDO1lBQzFDLENBQUMsQ0FBQyxLQUFLLElBQUkscUJBQVcsRUFDeEI7WUFDRSxPQUFPLENBQUMsQ0FBQztTQUNaO1FBRUQsT0FBTyxDQUFDO0lBQ1osQ0FBQyxDQUFDO0FBQ04sQ0FBQztBQTFCRCxnQ0EwQkM7Ozs7Ozs7Ozs7Ozs7OztBQzVKRCx3R0FBeUM7QUFHekMsTUFBYSxRQUFTLFNBQVEsdUJBQVU7SUFDN0IsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFjO1FBQzNCLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksU0FBUyxFQUFFO1lBQzdDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN2RDtRQUNELE9BQU8sUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFFO0lBQzFDLENBQUM7SUFFRCxZQUFvQixNQUFjO1FBQzlCLEtBQUssRUFBRTtRQUlKLFVBQUssR0FBVyxvQkFBWTtRQW9CbkIsZ0JBQVcsR0FBWSxLQUFLO1FBRTVCLGVBQVUsR0FBRyxLQUFLO1FBQ2xCLGVBQVUsR0FBVyxDQUFDO1FBMUJsQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU07SUFDeEIsQ0FBQztJQUdNLFNBQVM7UUFDWixPQUFPLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU87SUFDekMsQ0FBQztJQUNNLFFBQVE7UUFDWCxPQUFPLElBQUksQ0FBQyxNQUFNO0lBQ3RCLENBQUM7SUFDTSxtQkFBbUI7UUFDdEIsT0FBTyxJQUFJLENBQUMsTUFBTTtJQUN0QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU07SUFDOUIsQ0FBQztJQUVNLFFBQVEsQ0FBQyxNQUF3QjtRQUNwQyxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO0lBQy9CLENBQUM7O0FBOUJMLDRCQXFDQztBQTlCa0Isa0JBQVMsR0FBRyxJQUFJLEdBQUcsRUFBb0I7QUFnQzdDLG9CQUFZLEdBQUcsVUFBVTs7Ozs7Ozs7Ozs7Ozs7O0FDckN0Qzs7R0FFRztBQUNILE1BQWEsV0FBVztJQUNwQixZQUFtQixNQUEyQjtRQStDOUMsaUNBQWlDO1FBQ3pCLFVBQUssR0FBaUIsSUFBSTtRQS9DOUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNO0lBQ3hCLENBQUM7SUFFTSxXQUFXLENBQUMsSUFBc0I7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSztRQUN2QixNQUFNLE1BQU0sR0FBRyxJQUFJLE9BQU8sRUFBRTtRQUU1QixNQUFNLFVBQVUsR0FBRyxDQUFDLEdBQWEsRUFBRSxFQUFFO1lBQ2pDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDNUMsQ0FBQztRQUNELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLO1FBRXhCLFNBQVMsWUFBWSxDQUFDLElBQWdCO1lBQ2xDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7WUFDM0IsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO2dCQUNkLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQzFCLElBQUksRUFDSixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUMvQjtnQkFDYixNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDO2dCQUM5QyxZQUFZLENBQUMsSUFBSSxDQUFDO2FBQ3JCO1FBQ0wsQ0FBQztRQUVELG9EQUFvRDtRQUNwRCxnREFBZ0Q7UUFDaEQsU0FBUyxRQUFRLENBQUMsSUFBZ0I7O1lBQzlCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztZQUNwQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7WUFDbEMsSUFBSSxJQUFJLElBQUksU0FBUztnQkFBRSxPQUFPLElBQUk7WUFFbEMsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFhLENBQUMsRUFBRTtnQkFDbkQsT0FBTyxjQUFRLENBQUMsSUFBSSxDQUFDLG1DQUFJLElBQUk7YUFDaEM7O2dCQUFNLE9BQU8sSUFBSTtRQUN0QixDQUFDO1FBRUQsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJO1FBQ2pCLE9BQU8sTUFBTTtJQUNqQixDQUFDO0lBRU8sYUFBYSxDQUFDLElBQW1COztRQUNyQyxPQUFPLFdBQUksQ0FBQyxLQUFLLDBDQUFFLFNBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEtBQUksQ0FBQztJQUNsRCxDQUFDO0NBS0o7QUFuREQsa0NBbURDO0FBZUQ7OztHQUdHO0FBQ0gsTUFBYSxPQUFPO0lBQXBCO1FBaUNZLFVBQUssR0FBRyxJQUFJLEdBQUcsRUFBOEM7SUFDekUsQ0FBQztJQWpDRzs7Ozs7Ozs7Ozs7T0FXRztJQUNJLElBQUksQ0FBQyxLQUFpQjtRQUN6QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFFO1FBQ3hELE9BQU8sSUFBSTtJQUNmLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksT0FBTyxDQUFDLEtBQWlCLEVBQUUsR0FBUztRQUN2QyxJQUFJLEtBQUssSUFBSSxHQUFHLENBQUMsQ0FBQztZQUFFLE9BQU07UUFDMUIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUUsSUFBSSxHQUFHO1lBQ3RELE1BQU0sSUFBSSxLQUFLLENBQUMsK0JBQStCLENBQUM7UUFDcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQztJQUM5QixDQUFDO0NBR0o7QUFsQ0QsMEJBa0NDOzs7Ozs7Ozs7Ozs7Ozs7QUM5R0Q7OztHQUdHO0FBQ0gsTUFBYSxJQUFJO0lBQ2IsWUFBbUIsS0FBWSxFQUFFLEdBQUcsS0FBVTtRQUMxQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDbEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLO0lBQ3RCLENBQUM7SUFFRCxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDYixNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDO0lBQzlDLENBQUM7Q0FJSjtBQVpELG9CQVlDOzs7Ozs7Ozs7Ozs7Ozs7QUNsQkQsZ0hBQStDO0FBRS9DOztHQUVHO0FBQ0gsTUFBYSxnQkFBaUIsU0FBUSw2QkFBYTtJQUMvQyxZQUFZLEdBQWEsRUFBRSxRQUF1QztRQUM5RCxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQ2YsSUFBSSxDQUFDLFFBQVEsR0FBRyxHQUFHO0lBQ3ZCLENBQUM7SUFFTSxpQkFBaUI7UUFDcEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVE7UUFDekMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDO0lBQ2xDLENBQUM7Q0FHSjtBQVpELDRDQVlDO0FBRUQsY0FBYyxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDcEJoRix1RkFBc0M7QUFHdEMsZ0hBQStDO0FBRS9DLDhFQUFvQztBQUVwQywyRkFBdUM7QUFFdkM7O0dBRUc7QUFDSCxNQUFhLFFBQVMsU0FBUSxvQkFBb0I7SUFDOUMsWUFDSSxLQUFtQixFQUNuQixJQUEyRDtRQUUzRCxLQUFLLEVBQUU7UUFDUCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUs7UUFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUU7UUFDckIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBRXhCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLGFBQWE7UUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsYUFBYTtRQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxHQUFHO1FBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUk7UUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsR0FBRztRQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxRQUFRO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLFFBQVE7UUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsNkJBQWEsQ0FBQyx5QkFBeUI7UUFDcEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsTUFBTTtRQUM5QixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxPQUFPO1FBRXBDLDZCQUFhLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRTtZQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsR0FBRyw2QkFBYSxDQUFDLHlCQUF5QjtRQUN4RSxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxLQUFLLENBQUM7UUFDdkMsQ0FBQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsRUFBRSxHQUFFLENBQUMsQ0FBQztRQUU5QyxJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ2hCLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksUUFBUSxDQUFDLEdBQVc7UUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxLQUFLO1FBQ3BDLHNFQUFzRTtJQUMxRSxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsSUFBVyxLQUFLLENBQUMsR0FBVztRQUN4QixLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHO0lBQzNCLENBQUM7SUFFRDs7T0FFRztJQUNJLGlCQUFpQjtRQUNwQixJQUFJLElBQUksQ0FBQyxJQUFJLFlBQVksbUJBQVEsRUFBRTtZQUMvQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVDO2FBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxZQUFZLGlCQUFTLEVBQUU7WUFDdkMsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3RDOztZQUFNLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM5RCxDQUFDO0lBRU8sS0FBSztRQUNULG1CQUFNLEVBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUM7UUFDL0IsbUJBQU0sRUFBQyxJQUFJLENBQUMsTUFBTSxJQUFJLFNBQVMsQ0FBQztJQUNwQyxDQUFDO0NBTUo7QUF6RUQsNEJBeUVDO0FBRUQsY0FBYyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNyRjlEOztHQUVHO0FBQ0gsTUFBYSxnQkFBaUIsU0FBUSxjQUFjO0lBQ2hEO1FBQ0ksS0FBSyxFQUFFO1FBMkJNLGNBQVMsR0FBMkIsRUFBRTtRQUMvQyxXQUFNLEdBQXVCLElBQUk7UUExQnJDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLEVBQUUsR0FBRSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVNLGlCQUFpQixLQUFVLENBQUM7SUFFbkMsSUFBVyxLQUFLLENBQUMsQ0FBcUI7O1FBQ2xDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxTQUFTO1lBQ1Ysd0JBQXdCLEdBQUcsQ0FBQyxPQUFDLGFBQUQsQ0FBQyx1QkFBRCxDQUFDLENBQUUsU0FBUyxFQUFFLG1DQUFJLEVBQUUsQ0FBQyxHQUFHLFNBQVM7UUFDakUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxJQUFJLENBQUMsTUFBTTtJQUN0QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGVBQWUsQ0FBQyxDQUF1QjtRQUMxQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDMUIsQ0FBQztDQUdKO0FBL0JELDRDQStCQztBQUlELGNBQWMsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ3ZDaEYscUhBQXNEO0FBRXRELGdIQUFrRTtBQUVsRSxNQUFhLGdCQUFpQixTQUFRLGNBQWM7SUFDaEQ7Ozs7T0FJRztJQUNILFlBQW1CLEdBQWEsRUFBRSxPQUFtQjtRQUNqRCxLQUFLLEVBQUU7UUFDUCxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUc7UUFDZCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU87UUFFdEIsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUM7UUFDL0MsV0FBVyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7WUFDdkMsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNsQixDQUFDLENBQUM7UUFDRixXQUFXLENBQUMsV0FBVyxHQUFHLE9BQU87UUFDakMsV0FBVyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsTUFBTTtRQUNyQyxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxPQUFPO1FBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBRXhCLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO1FBQzFDLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLFFBQVEsR0FBRyxNQUFNO1FBQ3RDLElBQ0ksR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksdUJBQVU7WUFDakMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLFlBQVksdUJBQVU7WUFFbEMsSUFBSSxDQUFDLFNBQVM7Z0JBQ1YsK0JBQVcsRUFDUCx5QkFBSyxFQUNELEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRTtvQkFDbkIsT0FBTztvQkFDUCxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ1gsUUFBUTtvQkFDUixHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FDL0IsQ0FDSixHQUFHLHlCQUF5QjtRQUNyQyxLQUFLLE1BQU0sTUFBTSxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUU7WUFDOUIsSUFBSSxNQUFNLFlBQVksdUJBQVU7Z0JBQzVCLElBQUksQ0FBQyxTQUFTLElBQUksMEJBQU0sRUFBQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUMsR0FBRyxNQUFNO1NBQzVEO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFFakIsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsT0FBTztRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxpQkFBaUI7UUFDckMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsc0NBQXNDO1FBQzdELElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUs7UUFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsYUFBYTtRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxJQUFJO0lBQzVCLENBQUM7SUFFTSxpQkFBaUI7UUFDcEIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNCLENBQUM7Q0FJSjtBQXhERCw0Q0F3REM7QUFFRCxjQUFjLENBQUMsTUFBTSxDQUFDLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUM3RGhGLHlIQUFxRDtBQUNyRCxnSEFBK0M7QUFFL0M7O0dBRUc7QUFDSCxNQUFhLGtCQUFtQixTQUFRLDZCQUFhO0lBQ2pELFlBQ0ksSUFBZ0IsRUFDaEIsUUFBdUM7UUFFdkMsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSTtRQUVoQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxtQ0FBZ0IsRUFBRTtRQUM5QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJO1FBQ3ZDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBRXZDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFO1lBQ2hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ2hELENBQUMsQ0FBQztJQUNOLENBQUM7SUFFTSxpQkFBaUI7UUFDcEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDO0lBQ3BDLENBQUM7Q0FJSjtBQXZCRCxnREF1QkM7QUFDRCxjQUFjLENBQUMsTUFBTSxDQUFDLHFCQUFxQixFQUFFLGtCQUFrQixFQUFFO0lBQzdELE9BQU8sRUFBRSxLQUFLO0NBQ2pCLENBQUM7QUFFRixNQUFNLG1CQUFtQixHQUFHLElBQUk7Ozs7Ozs7Ozs7Ozs7OztBQ3BDaEM7O0dBRUc7QUFDSCxNQUFzQixhQUFjLFNBQVEsY0FBYztJQUN0RDs7OztPQUlHO0lBQ0gsWUFBWSxRQUF1QztRQUMvQyxLQUFLLEVBQUU7UUFFUCxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLO1FBQzFCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLGFBQWE7UUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsYUFBYTtRQUNqQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxRQUFRO1FBRWhDLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVELElBQVcsZUFBZSxDQUFDLEtBQWE7UUFDcEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsS0FBSztJQUN0QyxDQUFDO0NBR0o7QUF0QkQsc0NBc0JDOzs7Ozs7Ozs7Ozs7Ozs7QUN6QkQ7O0dBRUc7QUFDSCxNQUFhLHNCQUFzQjtJQUMvQjtRQUNJLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRTtRQUN2QixJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUU7SUFDNUIsQ0FBQztJQUVNLGVBQWUsQ0FBQyxRQUFzQjtRQUN6QyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDckMsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksZ0JBQWdCLENBQUMsUUFBdUI7UUFDM0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3RDLENBQUM7SUFFRDs7O09BR0c7SUFDSSxnQkFBZ0IsQ0FBQyxLQUFZLElBQVMsQ0FBQztJQUM5Qzs7O09BR0c7SUFDSSxnQkFBZ0IsQ0FBQyxLQUFpQjtRQUNyQyxLQUFLLE1BQU0sT0FBTyxJQUFJLEtBQUssQ0FBQyxjQUFjLEVBQUU7WUFDeEMsT0FBTyxDQUFDLE9BQU87U0FDbEI7SUFDTCxDQUFDO0lBQ0Q7OztPQUdHO0lBQ0ksZUFBZSxDQUFDLEtBQWlCLElBQVMsQ0FBQztJQUNsRDs7O09BR0c7SUFDSSxrQkFBa0IsQ0FBQyxLQUFpQixJQUFTLENBQUM7Q0FNeEQ7QUFqREQsd0RBaURDOzs7Ozs7Ozs7Ozs7Ozs7QUNwREQsTUFBTSxhQUFhO0lBQW5CO1FBd0JJLG9CQUFvQjtRQUNaLCtCQUEwQixHQUFXLE1BQU07UUFDbEMsY0FBUyxHQUFtQixFQUFFO0lBQ25ELENBQUM7SUExQkc7OztPQUdHO0lBQ0ksUUFBUSxDQUFDLFFBQW9CO1FBQ2hDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUNqQyxDQUFDO0lBRUQsc0JBQXNCO0lBRXRCOzs7O09BSUc7SUFDSCxJQUFXLHlCQUF5QjtRQUNoQyxPQUFPLElBQUksQ0FBQywwQkFBMEI7SUFDMUMsQ0FBQztJQUNELElBQVcseUJBQXlCLENBQUMsR0FBVztRQUM1QyxJQUFJLENBQUMsMEJBQTBCLEdBQUcsR0FBRztRQUNyQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3BDLENBQUM7Q0FLSjtBQUVZLHFCQUFhLEdBQUcsSUFBSSxhQUFhLEVBQUU7Ozs7Ozs7Ozs7Ozs7OztBQzdCaEQsdUZBQXNDO0FBQ3RDLHFIQUFzRDtBQUl0RCwrR0FBc0Q7QUFDdEQsMkZBQTBEO0FBQzFELDJJQUFpRTtBQUNqRSxpR0FBcUM7QUFDckMsK0hBQXlEO0FBQ3pELHlIQUFxRDtBQUNyRCxnSEFBK0M7QUFDL0MseUhBQXFEO0FBS3JEOztHQUVHO0FBQ0gsTUFBYSxZQUFhLFNBQVEsY0FBYztJQUM1Qzs7O09BR0c7SUFDSCxZQUNJLEtBQVksRUFDWixLQUF5QixFQUN6QixXQUF3QixFQUN4QixTQUErQyxTQUFTO1FBRXhELEtBQUssRUFBRTtRQStGSCxnQkFBVyxHQUFpQyxDQUFDLENBQUMsRUFBRSxDQUFDLFdBQVc7UUFzZHBFLHVCQUF1QjtRQUNmLGNBQVMsR0FBWSxLQUFLO1FBQzFCLGNBQVMsR0FBWSxLQUFLO1FBRTFCLFVBQUssR0FBVyxDQUFDO1FBZXpCLDJDQUEyQztRQUNuQyxrQkFBYSxHQUFZLEtBQUs7UUFDOUIsa0JBQWEsR0FBWSxLQUFLO1FBQzlCLHVCQUFrQixHQUFZLEtBQUs7UUFFMUIsbUJBQWMsR0FBRyxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUNyRCxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2QsSUFBSSxDQUFDLFlBQVksRUFBRTtRQUN2QixDQUFDLENBQUM7UUFFZSxrQkFBYSxHQUFHLENBQUMsSUFBbUIsRUFBUSxFQUFFO1lBQzNELElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxHQUFHLEtBQUs7WUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsV0FBVztZQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUcsVUFBVTtRQUN2QyxDQUFDO1FBcGxCRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFnQztRQUNwRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUM7UUFDaEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxHQUFHLEVBQUU7UUFDOUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBRTtRQUM5QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFO1FBQ3RCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxHQUFHLEVBQUU7UUFDN0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLEdBQUcsRUFBRTtRQUM5QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRTtRQUMzQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVc7UUFFOUIsSUFBSSxNQUFNLElBQUksU0FBUyxFQUFFO1lBQ3JCLElBQUksQ0FBQyxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWE7WUFDekMsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsYUFBYTtZQUN6QyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLGtCQUFrQjtTQUN0RDtRQUVELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLDZDQUE2QztRQUNuRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxVQUFVO1FBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFFBQVE7UUFFOUIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBRTtZQUN2QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUk7WUFDckIsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLO1FBQzFCLENBQUMsQ0FBQztRQUNGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLEVBQUU7WUFDckMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLO1FBQzFCLENBQUMsQ0FBQztRQUNGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLEVBQUU7WUFDeEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLO1FBQzFCLENBQUMsQ0FBQztRQUNGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFpQixFQUFFLEVBQUU7WUFDckQsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTO2dCQUFFLE9BQU07WUFDM0IsSUFBSSxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLO1lBQzVDLElBQUksQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSztZQUM1QyxJQUFJLENBQUMsWUFBWSxFQUFFO1FBQ3ZCLENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztRQUVqQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQ25DLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUM7WUFFcEQsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7WUFDcEQsSUFBSSxDQUFDLEtBQUssR0FBRyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUs7WUFFcEMsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNuQixPQUFPLElBQUk7UUFDZixDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSwrQ0FBc0IsRUFBRTtRQUNyRCxJQUFJLENBQUMsZ0JBQWdCLENBQ2pCLFdBQVcsRUFDWCxJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLENBQzFDO1FBQ0QsSUFBSSxDQUFDLGdCQUFnQixDQUNqQixVQUFVLEVBQ1YsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGVBQWUsQ0FDekM7UUFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQ2pCLGFBQWEsRUFDYixJQUFJLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQzVDO1FBQ0QsSUFBSSxDQUFDLGdCQUFnQixDQUNqQixXQUFXLEVBQ1gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUMxQztRQUNELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FDbkMsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUUsQ0FBQyxDQUN0QztRQUVELElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQztRQUUzQixJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ2hCLENBQUM7SUFFTSxRQUFRLENBQUMsS0FBWSxFQUFFLEtBQXlCO1FBQ25ELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSztRQUNsQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQztRQUUvQixJQUFJLENBQUMsU0FBUyxFQUFFO1FBQ2hCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDZCxJQUFJLENBQUMsWUFBWSxFQUFFO0lBQ3ZCLENBQUM7SUFFRDs7O09BR0c7SUFDSSxxQkFBcUIsQ0FBQyxPQUFxQztRQUM5RCxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU87UUFDMUIsSUFBSSxDQUFDLHdCQUF3QixFQUFFO0lBQ25DLENBQUM7SUFHTyx3QkFBd0I7UUFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDOUIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQztRQUNqRCxDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLGdCQUFnQixDQUFDLEdBQVk7UUFDaEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJO1FBQ3pCLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDaEIsSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNkLElBQUksQ0FBQyxZQUFZLEVBQUU7SUFDdkIsQ0FBQztJQUVELElBQVksTUFBTTtRQUNkLE9BQU87WUFDSCxDQUFDLEVBQUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDO1lBQ3ZCLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ssU0FBUztRQUNiLGlCQUFpQjtRQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUM5QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQztRQUMxQixDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRTtRQUNsQixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUM5QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQztRQUMxQixDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRTtRQUVsQixjQUFjO1FBQ2QsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakMsSUFBSSxJQUFJLFlBQVksdUJBQVUsRUFBRTtnQkFDNUIsTUFBTSxJQUFJLEdBQUcsSUFBSSx1Q0FBa0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQztnQkFDN0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsVUFBVTtnQkFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztnQkFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7YUFDcEI7aUJBQU0sSUFBSSxJQUFJLFlBQVksbUJBQVEsRUFBRTtnQkFDakMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhO29CQUFFLE9BQU07Z0JBQy9CLE1BQU0sSUFBSSxHQUFHLElBQUksbUNBQWdCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUM7Z0JBQzNELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFVBQVU7Z0JBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO2FBQ3BCOztnQkFDRyxNQUFNLElBQUksS0FBSyxDQUNYLGlEQUFpRCxDQUNwRDtRQUNULENBQUMsQ0FBQztRQUVGLGNBQWM7UUFDZCxtQ0FBZ0IsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQzthQUNoRCxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDWCxtRUFBbUU7WUFDbkUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUM1RCxDQUFDLENBQUM7YUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDWixNQUFNLElBQUksR0FBRyxJQUFJLG1CQUFRLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztZQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxVQUFVO1lBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM7WUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDckIsQ0FBQyxDQUFDO1FBRU4sSUFBSSxDQUFDLHdCQUF3QixFQUFFO1FBRS9CLElBQUksSUFBSSxDQUFDLGtCQUFrQixFQUFFO1lBQ3pCLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDO1lBQzFDLE1BQU0sQ0FBQyxTQUFTO2dCQUNaLGVBQWU7b0JBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJO29CQUMxQixNQUFNO29CQUNOLGlCQUFpQjtvQkFDakIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO29CQUNmLE1BQU07b0JBQ04sZUFBZTtvQkFDZixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUk7b0JBQzFCLE1BQU07b0JBQ04saUJBQWlCO29CQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUk7b0JBQ2YsTUFBTTtZQUNWLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUs7WUFDM0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxlQUFlLEdBQUcsT0FBTztZQUN0QyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxhQUFhO1lBQ2xDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUc7WUFDekIsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSztZQUM1QixNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxpQkFBaUI7WUFDdkMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsVUFBVTtZQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUN0QjtRQUVELElBQUksQ0FBQyxLQUFLLEVBQUU7SUFDaEIsQ0FBQztJQUVNLGlCQUFpQjtRQUNwQixJQUFJLENBQUMsU0FBUyxFQUFFO1FBQ2hCLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDZCxJQUFJLENBQUMsWUFBWSxFQUFFO0lBQ3ZCLENBQUM7SUFFRDs7O09BR0c7SUFDSyxPQUFPO1FBQ1gsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUU7UUFDMUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUU7UUFDMUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUU7UUFDMUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUU7UUFFekIsa0ZBQWtGO1FBQ2xGLE1BQU0sTUFBTSxHQUFHLG1DQUFnQixDQUFDLFNBQVMsQ0FDckMsSUFBSSxDQUFDLEtBQUssRUFDVixJQUFJLENBQUMsU0FBUyxFQUNkLElBQUksQ0FBQyxFQUFFO1lBQ0gsSUFBSSxJQUFJLFlBQVksdUJBQVU7Z0JBQUUsT0FBTyxJQUFJO2lCQUN0QyxJQUFJLElBQUksWUFBWSxtQkFBUTtnQkFBRSxPQUFPLElBQUksQ0FBQyxhQUFhOztnQkFDdkQsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQztRQUM1QyxDQUFDLENBQ0o7UUFFRCxJQUFJLFFBQVEsR0FBRyxDQUFDO1FBQ2hCLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDeEIsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQztRQUN4QyxDQUFDLENBQUM7UUFFRixNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEVBQUU7UUFDcEUsSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFDLElBQUk7UUFDdkIsdURBQXVEO1FBQ3ZELHdEQUF3RDtRQUN4RCwwQ0FBMEM7UUFDMUMsSUFBSSxhQUFhLEdBQXNDLElBQUk7UUFDM0QsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLFFBQVEsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7WUFDL0MsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUU7WUFFaEM7Ozs7Ozs7Ozs7ZUFVRztZQUNILE1BQU0sVUFBVSxHQUFHLEVBQUUsRUFBQyxTQUFTO1lBQy9CLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQ2pCLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUNuQyxVQUFVLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FDOUI7WUFDRCxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDO2dCQUFFLE1BQU0sR0FBRyxDQUFDO1lBQzdDLFVBQVUsR0FBRyxNQUFNO1lBRW5CLGdGQUFnRjtZQUNoRixNQUFNLFFBQVEsR0FDVixDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO2dCQUNiLElBQUksQ0FBQyxHQUFHLENBQ0osS0FBSyxDQUFDLElBQUksRUFDVixDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxVQUFVLENBQUMsQ0FDbEQ7WUFFTCw2QkFBNkI7WUFDN0IsTUFBTSxFQUFFLEdBQUcsSUFBSSxHQUFHLEVBQXlCO1lBRTNDLElBQUksYUFBYSxJQUFJLElBQUksRUFBRTtnQkFDdkIsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQXlCO2dCQUNwRCxLQUFLLE1BQU0sQ0FBQyxJQUFJLEtBQUssRUFBRTtvQkFDbkIsdUNBQXVDO29CQUN2QywrQkFBK0I7b0JBQy9CLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLO3lCQUNwQixZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBRTt5QkFDdEIsTUFBTSxDQUNILENBQUMsQ0FBQyxFQUFFLENBQ0EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFDN0IsYUFBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDNUIsQ0FBQyxDQUFDLENBQUM7b0JBQ1IsTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUU7b0JBQzdDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQztpQkFDakM7Z0JBRUQsbUJBQU0sRUFBQyxXQUFXLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUM7Z0JBRXRDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNqQyxLQUFLLE1BQU0sSUFBSSxJQUFJLFdBQVcsRUFBRTt3QkFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQzt3QkFDVCxPQUNJLHFCQUFRLEVBQ0osRUFBRSxFQUNGLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUMzQyxFQUNIOzRCQUNFLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUFRLEdBQUcsQ0FBQyxHQUFHLFVBQUMsQ0FBQyxDQUFDLENBQUMsRUFBSSxDQUFDOzRCQUNuQyxDQUFDLEVBQUU7eUJBQ047d0JBQ0QsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUMzQjtpQkFDSjthQUNKO2lCQUFNO2dCQUNILE1BQU0sSUFBSSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7Z0JBQ3ZCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUNqQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDO2lCQUNoQzthQUNKO1lBRUQsbUJBQU0sRUFDRixFQUFFLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQ3JCLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxJQUFJLEdBQUcsb0JBQW9CLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FDakU7WUFFRCxhQUFhLEdBQUcsSUFBSSxHQUFHLEVBQUU7WUFDekIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsRUFBRTtnQkFDdkIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFFO2dCQUNsQyx1Q0FBdUM7Z0JBQ3ZDLHdDQUF3QztnQkFDeEMsYUFBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDO2dCQUUvQixvREFBb0Q7Z0JBQ3BELE1BQU0sQ0FBQyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDO2dCQUM3QyxNQUFNLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztnQkFDN0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0MsQ0FBQyxDQUFDO1lBQ0YsbUJBQU0sRUFDRixvQkFBTyxFQUNILGFBQWEsQ0FBQyxNQUFNLEVBQUUsRUFDdEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksU0FBUyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQ3pDLENBQ0o7WUFDRCxnQ0FBZ0M7WUFDaEMsMkNBQTJDO1lBRTNDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO1lBQzFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLHVCQUF1QjtZQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxNQUFNO1lBQ2hDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFVBQVU7WUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTTtZQUMxQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQztZQUN0QixJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDM0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDO1NBQ25EO1FBRUQsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxFQUFFO1lBQzlCLG9DQUFvQztZQUNwQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFFLENBQUUsQ0FBQyxDQUFDO1lBQ2pFLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUUsQ0FBRSxDQUFDLENBQUM7WUFDakUsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBRSxDQUFFLENBQUMsQ0FBQztZQUNuRSxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFFLENBQUUsQ0FBQyxDQUFDO1lBQ25FLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7WUFDaEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUNoQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLEVBQUUsT0FBTyxHQUFHLE1BQU0sQ0FBQztZQUM1RCxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDO1FBQzlELENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQyxLQUFLLEVBQUU7SUFDaEIsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNLLFlBQVk7UUFDaEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU07UUFDMUIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUs7UUFFeEIsU0FBUyxVQUFVLENBQUMsQ0FBUTtZQUN4QixPQUFPLEtBQUssQ0FDUixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUNuQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUN0QztRQUNMLENBQUM7UUFFRCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUNyQyxNQUFNLFFBQVEsR0FBRyxVQUFVLENBQUM7Z0JBQ3hCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPO2dCQUN2QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTzthQUMxQixDQUFDO1lBQ0YsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUk7WUFDbkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLElBQUk7UUFDdkUsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1lBQ3hCLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtnQkFDcEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUUsQ0FDN0I7Z0JBQ0YsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQ3BDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FDOUI7Z0JBQ0YsSUFBSSxDQUFDLEtBQUs7b0JBQ04sRUFBRTt3QkFDRixLQUFLOzRCQUNELElBQUksQ0FBQyxLQUFLLENBQ04sU0FBUyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxFQUN4QixTQUFTLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQzNCO3dCQUNMLElBQUk7Z0JBQ1IsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEdBQUcsbUJBQW1CO2dCQUM3QyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxtQkFBbUI7YUFDN0M7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLEtBQUssR0FBRyxhQUFhO2dCQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxNQUFNO2dCQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxNQUFNO2FBQ2hDO1lBRUQsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDO2dCQUN4QixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTztnQkFDdkIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU87YUFDMUIsQ0FBQztZQUVGLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxJQUFJO1lBQ25FLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxJQUFJO1FBQ3ZFLENBQUMsQ0FBQztRQUVGLDBDQUEwQztRQUMxQyxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsRUFBRTtZQUNyQyxNQUFNLGlCQUFpQixHQUFHLFVBQVUsQ0FBQztnQkFDakMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU87Z0JBQzFCLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPO2FBQzdCLENBQUM7WUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUk7Z0JBQ1gsRUFBRSxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsSUFBSTtZQUMxRCxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUc7Z0JBQ1YsRUFBRSxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsSUFBSTtZQUMxRCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUk7WUFDckQsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsR0FBRztRQUNoQyxDQUFDLENBQUM7UUFFRixJQUFJLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ2pDLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQ2xCLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHO1lBQ25CLE1BQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQztnQkFDeEIsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU87Z0JBQ3ZCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPO2FBQzFCLENBQUM7WUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsSUFBSTtZQUNuRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsSUFBSTtRQUN2RSxDQUFDLENBQUM7UUFDRixJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ2hCLENBQUM7SUFFRDs7O09BR0c7SUFDSyxjQUFjLENBQUMsUUFBZTtRQUNsQyxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTTtRQUMxQixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSztRQUV4QixPQUFPLEtBQUssQ0FDUixDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQ3pELENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FDNUQ7SUFDTCxDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLFdBQVcsQ0FBQyxJQUFjLEVBQUUsS0FBaUI7UUFDaEQsZ0RBQWdEO1FBRWhELElBQUksSUFBSSxDQUFDLElBQUksWUFBWSxtQkFBUSxFQUFFO1lBQy9CLE1BQU0sS0FBSyxHQUFHLElBQUksbUNBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUU7Z0JBQy9DLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDO2dCQUN2QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssRUFBRTt3QkFDdkMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO3dCQUNuQyxNQUFLO3FCQUNSO2lCQUNKO1lBQ0wsQ0FBQyxDQUFDO1lBQ0YsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixFQUFFO1lBQ3pDLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUk7WUFDM0MsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRztZQUMxQyxrQ0FBa0M7WUFDbEMsMkVBQTJFO1lBQzNFLDBCQUEwQjtZQUMxQixJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDO2dCQUN4QixDQUFDLEVBQUUsS0FBSztnQkFDUixHQUFHLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO2FBQ3hELENBQUM7WUFDRixLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxVQUFVO1lBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQ2xCLElBQUksQ0FBQyxZQUFZLEVBQUU7U0FDdEI7UUFFRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDO1FBQzNCLElBQUksQ0FBQyxLQUFLLEVBQUU7SUFDaEIsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ssZ0JBQWdCLENBQUMsSUFBOEI7UUFDbkQsSUFBSSxJQUFJLFlBQVksNkJBQWE7WUFBRSxNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDO1FBRXJFLElBQUksSUFBSSxZQUFZLG1CQUFRLEVBQUU7WUFDMUIsTUFBTSxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDdkMsTUFBTSxhQUFhLEdBQUcsbUNBQWdCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDO1lBQ25FLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEVBQUU7Z0JBQ3JDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksWUFBWSxtQkFBUTt3QkFBRSxPQUFNO29CQUUzRCxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQztvQkFDeEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFFO29CQUN0QyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUNwQixVQUFVO3dCQUNWLE1BQU0sR0FBRyxLQUFLLENBQ2pCLENBQUMsUUFBUSxFQUFFO29CQUVaLFFBQVE7b0JBQ1IsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEVBQUU7d0JBQzdCLElBQUksSUFBSSxDQUFDLEtBQUssS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLEVBQUU7NEJBQzdDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQ2hCLFVBQVU7Z0NBQ1YsTUFBTSxHQUFHLEtBQUssQ0FDakIsQ0FBQyxRQUFRLEVBQUU7eUJBQ2Y7b0JBQ0wsQ0FBQyxDQUFDO2dCQUNOLENBQUMsQ0FBQztZQUNOLENBQUMsQ0FBQztTQUNMO0lBQ0wsQ0FBQztJQUVPLEtBQUs7UUFDVCxtQkFBTSxFQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUMvQixtQkFBTSxFQUFDLG1DQUFnQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUscUJBQXFCLENBQUM7UUFDdkUsSUFBSSxJQUFJLENBQUMsYUFBYTtZQUNsQixtQkFBTSxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQzdELENBQUM7Q0FrREo7QUFsbUJELG9DQWttQkM7QUFFRCxjQUFjLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxZQUFZLEVBQUUsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUM7QUF5QnhFLFNBQVMsS0FBSyxDQUNWLENBQVMsRUFDVCxDQUFTLEVBQ1QsUUFBNEIsU0FBUztJQUVyQyxJQUFJLEtBQUssSUFBSSxTQUFTO1FBQ2xCLE9BQU87WUFDSCxDQUFDLEVBQUUsQ0FBQztZQUNKLENBQUMsRUFBRSxDQUFDO1NBQ1A7SUFDTCxPQUFPO1FBQ0gsQ0FBQyxFQUFFLENBQUM7UUFDSixDQUFDLEVBQUUsQ0FBQztRQUNKLEtBQUssRUFBRSxLQUFLO0tBQ2Y7QUFDTCxDQUFDO0FBRUQsb0JBQW9CO0FBQ3BCLE1BQU0sY0FBYyxHQUFHLEtBQUs7QUFDNUIsTUFBTSxVQUFVLEdBQUcsQ0FBQztBQUNwQixNQUFNLFVBQVUsR0FBRyxVQUFVO0FBQzdCLE1BQU0sVUFBVSxHQUFHLENBQUM7QUFDcEIsTUFBTSxVQUFVLEdBQUcsVUFBVTtBQUM3QixNQUFNLE1BQU0sR0FBRyxLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4cUJwQixpSEFBa0Q7QUFFbEQsTUFBTSxFQUFFLGlCQUFpQixFQUFFLFVBQVUsRUFBRSxHQUFHLGdCQUFNO0FBQ2hELHNJQUErQztBQUMvQyx5SUFHMkI7QUFDM0IscUhBQXFEO0FBRXJELG1HQUF1QztBQUN2QywyRkFBdUM7QUFFdkM7Ozs7R0FJRztBQUNILFNBQWdCLGVBQWUsQ0FBQyxLQUFhO0lBQ3pDLE1BQU0sTUFBTSxHQUFHLElBQUksVUFBVSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7SUFDMUMsTUFBTSxLQUFLLEdBQUcsSUFBSSx5QkFBZSxDQUFDLE1BQU0sQ0FBQztJQUN6QyxNQUFNLE1BQU0sR0FBRyxJQUFJLGlCQUFpQixDQUFDLEtBQUssQ0FBQztJQUMzQyxNQUFNLE1BQU0sR0FBRyxJQUFJLDBCQUFnQixDQUFDLE1BQU0sQ0FBQztJQUMzQywrQkFBK0I7SUFDL0IsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRTtJQUVoQyxJQUFJLENBQUMsTUFBTSxDQUFjLElBQUkscUJBQVMsRUFBRSxDQUFDO0lBRXpDLG1CQUFtQjtJQUNuQixpQ0FBaUM7SUFFakMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBYSxJQUFJLG1DQUFpQixFQUFFLENBQUM7SUFDL0QsbUJBQU0sRUFBQyxNQUFNLElBQUksSUFBSSxJQUFJLE1BQU0sSUFBSSxTQUFTLENBQUM7SUFDN0MsT0FBTyxNQUFNO0FBQ2pCLENBQUM7QUFoQkQsMENBZ0JDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqQ0QsOEhBQWlEO0FBQ2pELHdIQU8yQjtBQUMzQiw0SUFBbUQ7QUFFbkQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBb0JHO0FBQ0gsTUFBYSxTQUFVLFNBQVEsMkJBQWdDO0lBQS9EOztRQUNJLGFBQVEsR0FBRyxDQUFDLEdBQWUsRUFBaUIsRUFBRTtZQUMxQyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQztZQUMzQyxLQUFLLE1BQU0sS0FBSyxJQUFJLFNBQVMsQ0FBQyxRQUFTLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO2FBQ3BCO1lBQ0QsT0FBTyxTQUFTO1FBQ3BCLENBQUM7UUE4REQsaUJBQVksR0FBRyxDQUFDLEdBQW1CLEVBQWlCLEVBQUU7WUFDbEQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUM7WUFDMUMsS0FBSyxNQUFNLEtBQUssSUFBSSxTQUFTLENBQUMsUUFBUyxFQUFFO2dCQUNyQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQzthQUNwQjtZQUNELE9BQU8sU0FBUztRQUNwQixDQUFDO0lBNENMLENBQUM7SUE5R1csYUFBYSxDQUFDLEdBQWU7UUFDakMsSUFBSSxNQUFNLEdBQUcsRUFBRTtRQUNmLEtBQUssTUFBTSxLQUFLLElBQUksR0FBRyxDQUFDLFFBQVMsRUFBRTtZQUMvQixNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUk7U0FDbkM7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUNuQixrREFBa0Q7SUFDdEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSyxlQUFlLENBQUMsR0FBZTtRQUNuQyw2QkFBNkI7UUFDN0IscUNBQXFDO1FBQ3JDLFNBQVMsWUFBWSxDQUFDLEtBQWlCO1lBQ25DLGtDQUFNLEVBQUMsR0FBRyxDQUFDLFFBQVMsRUFBRSxLQUFLLENBQUM7WUFFNUIseUJBQXlCO1lBQ3pCLElBQUksS0FBSyxDQUFDLE1BQU0sWUFBWSw2QkFBVSxFQUFFO2dCQUNwQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQzthQUM3QjtpQkFBTTtnQkFDSCxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxHQUFHO2dCQUM1QixHQUFHLENBQUMsUUFBUyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO2FBQ3RDO1lBQ0QsMkRBQTJEO1lBQzNELGNBQWM7WUFDZCxrQ0FBa0M7WUFFbEMsdUJBQXVCO1lBQ3ZCLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDdkIsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLFNBQVMsR0FBRyxHQUFHO2dCQUM3QixHQUFHLENBQUMsUUFBUyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3BDLHdDQUF3QzthQUMzQztpQkFBTTtnQkFDSCxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsU0FBUyxHQUFHLEdBQUc7Z0JBQzVCLEdBQUcsQ0FBQyxRQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDbkMsdUNBQXVDO2FBQzFDO1lBRUQsSUFBSSxLQUFLLENBQUMsS0FBSyxZQUFZLDZCQUFVLEVBQUU7Z0JBQ25DLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO2FBQzVCO2lCQUFNO2dCQUNILEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLEdBQUc7Z0JBQzNCLEdBQUcsQ0FBQyxRQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7YUFDckM7WUFFRCxLQUFLLENBQUMsU0FBUyxHQUFHLFNBQVM7UUFDL0IsQ0FBQztRQUNELElBQUksR0FBRyxDQUFDLEtBQUssWUFBWSw2QkFBVTtZQUFFLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQzVELElBQUksR0FBRyxDQUFDLE1BQU0sWUFBWSw2QkFBVTtZQUFFLFlBQVksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBRTlELE9BQU8sR0FBRztJQUNkLENBQUM7SUFVTyxjQUFjLENBQUMsR0FBbUI7UUFDdEMsNERBQTREO1FBRTVELFNBQVMsaUJBQWlCLENBQUMsS0FBd0I7WUFDL0MsT0FBTyxLQUFLLFlBQVksaUNBQWM7UUFDMUMsQ0FBQztRQUVELDZCQUE2QjtRQUM3QixxQ0FBcUM7UUFDckMsU0FBUyxZQUFZLENBQUMsS0FBcUI7WUFDdkMsa0NBQU0sRUFBQyxHQUFHLENBQUMsUUFBUyxFQUFFLEtBQUssQ0FBQztZQUU1QixJQUFJLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFDakMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUF3QixDQUFDO2FBQy9DO2lCQUFNO2dCQUNILEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLEdBQUc7Z0JBQzVCLEdBQUcsQ0FBQyxRQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7YUFDdEM7WUFFRCx1QkFBdUI7WUFDdkIsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksSUFBSSxFQUFFO2dCQUN2QixLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsU0FBUyxHQUFHLEdBQUc7Z0JBQzdCLEdBQUcsQ0FBQyxRQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUN2QztZQUVELElBQUksaUJBQWlCLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNoQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQXVCLENBQUM7YUFDOUM7aUJBQU07Z0JBQ0gsS0FBSyxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsR0FBRztnQkFDM0IsR0FBRyxDQUFDLFFBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQzthQUNyQztZQUVELEtBQUssQ0FBQyxTQUFTLEdBQUcsU0FBUztRQUMvQixDQUFDO1FBQ0QsSUFBSSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1lBQzVCLFlBQVksQ0FBQyxHQUFHLENBQUMsS0FBdUIsQ0FBQztRQUM3QyxJQUFJLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7WUFDN0IsWUFBWSxDQUFDLEdBQUcsQ0FBQyxNQUF3QixDQUFDO1FBRTlDLDRCQUE0QjtRQUM1QixPQUFPLEdBQUc7SUFDZCxDQUFDO0NBQ0o7QUF2SEQsOEJBdUhDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0SkQsOEhBQTREO0FBQzVELCtHQUFrRDtBQUVsRCwrR0FBa0Q7QUFDbEQsNEdBQWdEO0FBQ2hELCtHQUFrRDtBQUNsRCxrSEFBb0Q7QUFDcEQsNEdBQWdEO0FBQ2hELGdHQUF3QztBQUN4QywrR0FBa0Q7QUFzQmxELDRJQUFtRDtBQUVuRDs7R0FFRztBQUNILE1BQWEsaUJBQWtCLFNBQVEsMkJBQTZCO0lBQXBFOztRQVNJLG9CQUFlLEdBQUcsQ0FBQyxHQUFzQixFQUFjLEVBQUU7WUFDckQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNqQyxDQUFDO1FBRUQsa0JBQWEsR0FBRyxDQUFDLEdBQW9CLEVBQWMsRUFBRTtZQUNqRCxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDO1FBQzlELENBQUM7UUFFRCxlQUFVLEdBQUcsQ0FBQyxHQUFpQixFQUFjLEVBQUU7WUFDM0Msc0JBQXNCO1lBQ3RCLHlCQUF5QjtZQUN6QixrQ0FBa0M7WUFDbEMsbUNBQW1DO1lBQ25DLE9BQU8sbUJBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckUsQ0FBQztRQUVELGVBQVUsR0FBRyxDQUFDLEdBQWlCLEVBQWMsRUFBRTtZQUMzQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pDLENBQUM7UUFFRCxrQkFBYSxHQUFHLENBQUMsR0FBb0IsRUFBYyxFQUFFO1lBQ2pELE9BQU8sbUJBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckUsQ0FBQztRQUVELGlCQUFZLEdBQUcsQ0FBQyxHQUFtQixFQUFjLEVBQUU7WUFDL0MsT0FBTyxpQkFBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pFLENBQUM7UUFFRCxxQ0FBZ0MsR0FBRyxDQUMvQixHQUF1QyxFQUM3QixFQUFFO1lBQ1oseURBQXlEO1lBQ3pELHlCQUF5QjtZQUN6QixPQUFPLGlCQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUN0RSxDQUFDO1FBRUQsa0JBQWEsR0FBRyxDQUFDLEdBQW9CLEVBQWMsRUFBRTtZQUNqRCxPQUFPLG1CQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLG1CQUFRLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BFLENBQUM7UUFFRCxhQUFRLEdBQUcsQ0FBQyxHQUFlLEVBQWMsRUFBRTtZQUN2QyxPQUFPLHFCQUFTLENBQUMsRUFBRSxDQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUN4QixHQUFHLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUNsRTtRQUNMLENBQUM7UUFFRCxnRUFBZ0U7UUFDaEUsd0RBQXdEO1FBQ3hELHNCQUFzQjtRQUN0Qix3Q0FBd0M7UUFDeEMsOENBQThDO1FBQzlDLElBQUk7UUFFSiwyQkFBc0IsR0FBRyxDQUFDLEdBQTZCLEVBQWMsRUFBRTtZQUNuRSxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksSUFBSTtZQUN0QyxJQUFJLFVBQVU7Z0JBQUUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUMvQyxPQUFPLG9DQUFRLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUM3QyxDQUFDO1FBRUQsYUFBUSxHQUFHLENBQUMsR0FBZSxFQUFjLEVBQUU7WUFDdkMsaUhBQWlIO1lBRWpILDBCQUEwQjtZQUUxQixtQ0FBbUM7WUFDbkMsTUFBTSxLQUFLLEdBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxRQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQzlDLElBQUksR0FBRyxDQUFDLFFBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxHQUFHO29CQUNqQyxLQUFLLENBQUMsSUFBSSxDQUFDLG9DQUFRLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3JEO29CQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUMvQzthQUNKO1lBQ0Qsb0NBQW9DO1lBQ3BDLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO2dCQUN0QixxQ0FBcUM7YUFDeEM7WUFDRCxxQkFBcUI7WUFDckIsT0FBTyxTQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztRQUN4QixDQUFDO1FBRUQsOERBQThEO1FBQzlELDREQUE0RDtRQUM1RCx3REFBd0Q7UUFDeEQsNERBQTREO1FBRTVELGVBQWU7UUFDZixpREFBaUQ7UUFDakQsZ0RBQWdEO1FBQ2hELDBEQUEwRDtRQUMxRCxZQUFZO1FBQ1osK0RBQStEO1FBQy9ELDBEQUEwRDtRQUMxRCxZQUFZO1FBQ1osc0VBQXNFO1FBQ3RFLCtEQUErRDtRQUMvRCw2Q0FBNkM7UUFDN0MsbURBQW1EO1FBQ25ELDJEQUEyRDtRQUMzRCxnQkFBZ0I7UUFDaEIsK0NBQStDO1FBQy9DLFFBQVE7UUFDUixLQUFLO1FBRUwsY0FBUyxHQUFHLENBQUMsR0FBZ0IsRUFBYyxFQUFFO1lBQ3pDLElBQUksR0FBRyxDQUFDLFFBQVEsRUFBRSxJQUFJLElBQUksRUFBRTtnQkFDeEIsT0FBTyxtQkFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDL0M7aUJBQU0sSUFBSSxHQUFHLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxJQUFJLEVBQUU7Z0JBQ3hDLE9BQU8saUJBQU8sQ0FBQyxFQUFFLENBQ2IsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUN2RDthQUNKO2lCQUFNO2dCQUNILE1BQU0sSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUM7YUFDckM7UUFDTCxDQUFDO1FBRUQsb0JBQWUsR0FBRyxDQUFDLEdBQXNCLEVBQWMsRUFBRTtZQUNyRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pDLENBQUM7UUFFRCw4QkFBeUIsR0FBRyxDQUN4QixHQUFnQyxFQUN0QixFQUFFO1lBQ1osT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNuQyxDQUFDO1FBRUQsNEJBQXVCLEdBQUcsQ0FBQyxHQUE4QixFQUFjLEVBQUU7WUFDckUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN6QyxDQUFDO1FBRUQsZUFBVSxHQUFHLENBQUMsR0FBaUIsRUFBYyxFQUFFO1lBQzNDLE1BQU0sSUFBSSxLQUFLLENBQUMseUNBQXlDLENBQUM7UUFDOUQsQ0FBQztJQUNMLENBQUM7SUE5SVcsYUFBYSxDQUFDLEdBQWdCO1FBQ2xDLElBQUksTUFBTSxHQUFHLEVBQUU7UUFDZixLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQUcsQ0FBQyxRQUFTLEVBQUU7WUFDL0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUUsR0FBRyxJQUFJO1NBQ25DO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztDQXdJSjtBQS9JRCw4Q0ErSUM7Ozs7Ozs7Ozs7Ozs7O0FDckxELHVFQUF1RTtBQUN2RSwyRUFBMkU7QUFDM0UsZ0dBV2U7QUFDZixNQUFxQixlQUFnQixTQUFRLGNBQUs7SUFxRjlDLFlBQVksS0FBaUI7UUFDekIsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUNaLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSwwQkFBaUIsQ0FDaEMsSUFBSSxFQUNKLGVBQWUsQ0FBQyxJQUFJLEVBQ3BCLGVBQWUsQ0FBQyxjQUFjLEVBQzlCLElBQUksK0JBQXNCLEVBQUUsQ0FDL0I7SUFDTCxDQUFDO0lBRUQsSUFBVyxlQUFlO1FBQ3RCLE9BQU8sZUFBZTtJQUMxQixDQUFDO0lBRUQsSUFBVyxZQUFZO1FBQ25CLE9BQU8sZUFBZSxDQUFDLFlBQVk7SUFDdkMsQ0FBQztJQUNELElBQVcsYUFBYTtRQUNwQixPQUFPLGVBQWUsQ0FBQyxhQUFhO0lBQ3hDLENBQUM7SUFDRCxJQUFXLFNBQVM7UUFDaEIsT0FBTyxlQUFlLENBQUMsU0FBUztJQUNwQyxDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sZUFBZSxDQUFDLGNBQWM7SUFDekMsQ0FBQztJQUVELElBQVcsWUFBWTtRQUNuQixPQUFPLGVBQWUsQ0FBQyxZQUFZO0lBQ3ZDLENBQUM7SUFFRCxJQUFXLFNBQVM7UUFDaEIsT0FBTyxlQUFlLENBQUMsU0FBUztJQUNwQyxDQUFDO0lBNERNLE1BQU0sS0FBSyxJQUFJO1FBQ2xCLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO1lBQ3hCLGVBQWUsQ0FBQyxLQUFLLEdBQUcsSUFBSSx3QkFBZSxFQUFFLENBQUMsV0FBVyxDQUNyRCxlQUFlLENBQUMsY0FBYyxDQUNqQztTQUNKO1FBRUQsT0FBTyxlQUFlLENBQUMsS0FBSztJQUNoQyxDQUFDOztBQTFMc0IsaUNBQWlCLEdBQUcsQ0FBQztBQUNyQixzQkFBTSxHQUFHLENBQUM7QUFDVixzQkFBTSxHQUFHLENBQUM7QUFDVixvQkFBSSxHQUFHLENBQUM7QUFDUixxQkFBSyxHQUFHLENBQUM7QUFDVCxxQkFBSyxHQUFHLENBQUM7QUFDVCxtQkFBRyxHQUFHLENBQUM7QUFDUCxrQkFBRSxHQUFHLENBQUM7QUFDTixrQkFBRSxHQUFHLENBQUM7QUFDTixrQkFBRSxHQUFHLEVBQUU7QUFDUCxxQkFBSyxHQUFHLEVBQUU7QUFDVixtQkFBRyxHQUFHLEVBQUU7QUFDUixtQkFBRyxHQUFHLEVBQUU7QUFDUixtQkFBRyxHQUFHLEVBQUU7QUFDUix3QkFBUSxHQUFHLEVBQUU7QUFDYixrQkFBRSxHQUFHLEVBQUU7QUFDUCxtQkFBRyxHQUFHLGNBQUssQ0FBQyxHQUFHO0FBRWYsNEJBQVksR0FBYTtJQUM1Qyx1QkFBdUI7SUFDdkIsUUFBUTtDQUNYO0FBQ3NCLDRCQUFZLEdBQXNCO0lBQ3JELElBQUk7SUFDSixJQUFJO0lBQ0osS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLElBQUk7SUFDSixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7Q0FDUjtBQUNzQiw2QkFBYSxHQUFzQjtJQUN0RCxJQUFJO0lBQ0osbUJBQW1CO0lBQ25CLFFBQVE7SUFDUixRQUFRO0lBQ1IsTUFBTTtJQUNOLE9BQU87SUFDUCxPQUFPO0lBQ1AsS0FBSztJQUNMLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLE9BQU87SUFDUCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxVQUFVO0lBQ1YsSUFBSTtDQUNQO0FBQ3NCLHlCQUFTLEdBQWEsQ0FBQyxjQUFjLENBQUM7QUFFdEMseUJBQVMsR0FBYTtJQUN6QyxtQkFBbUI7SUFDbkIsUUFBUTtJQUNSLGtCQUFrQjtJQUNsQixHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsTUFBTTtJQUNOLFFBQVE7SUFDUixRQUFRO0lBQ1IsTUFBTTtJQUNOLE9BQU87SUFDUCxPQUFPO0lBQ1AsS0FBSztJQUNMLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLE9BQU87SUFDUCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxVQUFVO0lBQ1YsSUFBSTtDQUNQO0FBc0NzQiw4QkFBYyxHQUFhO0lBQzlDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdkUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3RFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ3BFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ3BFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdkUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUNyRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3JFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDcEUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDcEUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDcEUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRztJQUN0RSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3JFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUc7SUFDdkUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHO0lBQ3RFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRztJQUNwRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7SUFDckUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3RFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3ZFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUNyRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3ZFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdkUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDcEUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDckUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3BFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUNyRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUNyRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDcEUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNwRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDcEUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3JFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDckUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3JFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdEUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ3RFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUNyRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDdEUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3JFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHO0lBQ3JFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3RFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3RFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUc7SUFDcEUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRTtJQUN0RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUN0RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN0RSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHO0lBQ3RFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztDQUNoRTtBQWFNLDhCQUFjLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUM1RCxDQUFDLEVBQWlCLEVBQUUsS0FBYSxFQUFFLEVBQUUsQ0FBQyxJQUFJLFlBQUcsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQzNEO3FCQS9MZ0IsZUFBZTs7Ozs7Ozs7Ozs7OztBQ2RwQyx1RUFBdUU7QUFDdkUsMkVBQTJFOzs7QUFFM0UsZ0dBcUJlO0FBUWYsTUFBcUIsZ0JBQWlCLFNBQVEsZUFBTTtJQXFFaEQsSUFBVyxlQUFlO1FBQ3RCLE9BQU8sZUFBZTtJQUMxQixDQUFDO0lBQ0QsSUFBVyxZQUFZO1FBQ25CLE9BQU8sZ0JBQWdCLENBQUMsWUFBWTtJQUN4QyxDQUFDO0lBQ0QsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sZ0JBQWdCLENBQUMsYUFBYTtJQUN6QyxDQUFDO0lBQ0QsSUFBVyxTQUFTO1FBQ2hCLE9BQU8sZ0JBQWdCLENBQUMsU0FBUztJQUNyQyxDQUFDO0lBQ0QsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sZ0JBQWdCLENBQUMsY0FBYztJQUMxQyxDQUFDO0lBRVMsOEJBQThCLENBQ3BDLFNBQWtCLEVBQ2xCLE9BQWdCO1FBRWhCLE9BQU8sSUFBSSxpQ0FBd0IsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQztJQUNqRSxDQUFDO0lBRUQsWUFBWSxLQUFrQjtRQUMxQixLQUFLLENBQUMsS0FBSyxDQUFDO1FBQ1osSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLDJCQUFrQixDQUNqQyxJQUFJLEVBQ0osZ0JBQWdCLENBQUMsSUFBSSxFQUNyQixnQkFBZ0IsQ0FBQyxjQUFjLEVBQy9CLElBQUksK0JBQXNCLEVBQUUsQ0FDL0I7SUFDTCxDQUFDO0lBQ0Qsa0JBQWtCO0lBQ1gsUUFBUTtRQUNYLElBQUksUUFBUSxHQUFvQixJQUFJLGVBQWUsQ0FDL0MsSUFBSSxFQUNKLElBQUksQ0FBQyxJQUFJLEVBQ1QsSUFBSSxDQUFDLEtBQUssQ0FDYjtRQUNELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxhQUFhLENBQUM7UUFDM0QsSUFBSTtZQUNBLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztZQUMvQjtnQkFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7Z0JBQ2YsSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUNmLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ1osSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUNmLElBQUksQ0FBQyxVQUFVLEVBQUU7YUFDcEI7U0FDSjtRQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ1QsSUFBSSxFQUFFLFlBQVksNkJBQW9CLEVBQUU7Z0JBQ3BDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQzthQUNyQztpQkFBTTtnQkFDSCxNQUFNLEVBQUU7YUFDWDtTQUNKO2dCQUFTO1lBQ04sSUFBSSxDQUFDLFFBQVEsRUFBRTtTQUNsQjtRQUNELE9BQU8sUUFBUTtJQUNuQixDQUFDO0lBQ0Qsa0JBQWtCO0lBQ1gsVUFBVTtRQUNiLElBQUksUUFBUSxHQUFzQixJQUFJLGlCQUFpQixDQUNuRCxJQUFJLEVBQ0osSUFBSSxDQUFDLElBQUksRUFDVCxJQUFJLENBQUMsS0FBSyxDQUNiO1FBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLGVBQWUsQ0FBQztRQUM3RCxJQUFJO1lBQ0EsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQy9CO2dCQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDZixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzthQUNmO1NBQ0o7UUFBQyxPQUFPLEVBQUUsRUFBRTtZQUNULElBQUksRUFBRSxZQUFZLDZCQUFvQixFQUFFO2dCQUNwQyxRQUFRLENBQUMsU0FBUyxHQUFHLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7YUFDckM7aUJBQU07Z0JBQ0gsTUFBTSxFQUFFO2FBQ1g7U0FDSjtnQkFBUztZQUNOLElBQUksQ0FBQyxRQUFRLEVBQUU7U0FDbEI7UUFDRCxPQUFPLFFBQVE7SUFDbkIsQ0FBQztJQUlELGtCQUFrQjtJQUNYLE1BQU0sQ0FBQyxFQUFXO1FBQ3JCLElBQUksRUFBRSxLQUFLLFNBQVMsRUFBRTtZQUNsQixFQUFFLEdBQUcsQ0FBQztTQUNUO1FBRUQsSUFBSSxVQUFVLEdBQXNCLElBQUksQ0FBQyxJQUFJO1FBQzdDLElBQUksWUFBWSxHQUFXLElBQUksQ0FBQyxLQUFLO1FBQ3JDLElBQUksUUFBUSxHQUFrQixJQUFJLGFBQWEsQ0FDM0MsSUFBSSxFQUNKLElBQUksQ0FBQyxJQUFJLEVBQ1QsWUFBWSxDQUNmO1FBQ0QsSUFBSSxRQUFRLEdBQWtCLFFBQVE7UUFDdEMsSUFBSSxXQUFXLEdBQVcsQ0FBQztRQUMzQixJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDO1FBQ3RFLElBQUksR0FBVztRQUNmLElBQUk7WUFDQSxJQUFJLElBQVk7WUFDaEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQy9CO2dCQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzNCLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3ZCLEtBQUssQ0FBQzt3QkFDRjs0QkFDSSxRQUFRLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQzs0QkFDM0MsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFROzRCQUNwQixRQUFRLEdBQUcsUUFBUTs0QkFFbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFOzRCQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDOzRCQUNuQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7NEJBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7NEJBQ1osSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFOzRCQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDO3lCQUN0Qzt3QkFDRCxNQUFLO29CQUNULEtBQUssQ0FBQyxDQUFDO29CQUNQLEtBQUssRUFBRTt3QkFDSDs0QkFDSSxRQUFRLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDOzRCQUNoRCxJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVE7NEJBQ3BCLFFBQVEsR0FBRyxRQUFROzRCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7NEJBQ2YsSUFBSSxDQUFDLElBQUksRUFBRTt5QkFDZDt3QkFDRCxNQUFLO29CQUNULEtBQUssRUFBRTt3QkFDSDs0QkFDSSxRQUFRLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQzs0QkFDOUMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFROzRCQUNwQixRQUFRLEdBQUcsUUFBUTs0QkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFOzRCQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDOzRCQUNoQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FDZDs0QkFBQyxRQUE0QixDQUFDLFVBQVU7Z0NBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO3lCQUNyQjt3QkFDRCxNQUFLO29CQUNULEtBQUssRUFBRTt3QkFDSDs0QkFDSSxRQUFRLEdBQUcsSUFBSSxVQUFVLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQzs0QkFDekMsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFROzRCQUNwQixRQUFRLEdBQUcsUUFBUTs0QkFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFOzRCQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDOzRCQUNoQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7NEJBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDOzRCQUMzQixRQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUN4QixJQUFJLENBQUMsTUFBTSxFQUNYLENBQUMsRUFDRCxJQUFJLENBQUMsSUFBSSxDQUNaLEVBQ0g7Z0NBQ0UsS0FBSyxDQUFDO29DQUNGO3dDQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUNkO3dDQUFDLFFBQXVCLENBQUMsS0FBSzs0Q0FDM0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7cUNBQ3JCO29DQUNELE1BQUs7NkJBQ1o7NEJBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQ2Q7NEJBQUMsUUFBdUIsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7eUJBQ3REO3dCQUNELE1BQUs7b0JBQ1Q7d0JBQ0ksTUFBTSxJQUFJLDZCQUFvQixDQUFDLElBQUksQ0FBQztpQkFDM0M7Z0JBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzNCLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDO2dCQUM5RCxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFlBQUcsQ0FBQyxrQkFBa0IsRUFBRTtvQkFDbEQsSUFBSSxJQUFJLEtBQUssQ0FBQyxFQUFFO3dCQUNaLElBQUksSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLEVBQUU7NEJBQzlCLElBQUksQ0FBQyxvQkFBb0IsRUFBRTt5QkFDOUI7d0JBQ0QsUUFBUSxHQUFHLFFBQVE7d0JBQ25COzRCQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTs0QkFDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7NEJBQzNCLFFBQ0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQ3hCLElBQUksQ0FBQyxNQUFNLEVBQ1gsQ0FBQyxFQUNELElBQUksQ0FBQyxJQUFJLENBQ1osRUFDSDtnQ0FDRSxLQUFLLENBQUM7b0NBQ0Y7d0NBQ0ksUUFBUSxHQUFHLElBQUksZUFBZSxDQUMxQixJQUFJLEVBQ0osSUFBSSxhQUFhLENBQ2IsSUFBSSxFQUNKLFVBQVUsRUFDVixZQUFZLENBQ2YsQ0FDSixDQUNBO3dDQUFDLFFBQTRCLENBQUMsS0FBSzs0Q0FDaEMsUUFBUTt3Q0FDWixJQUFJLENBQUMsdUJBQXVCLENBQ3hCLFFBQVEsRUFDUixXQUFXLEVBQ1gsZ0JBQWdCLENBQUMsV0FBVyxDQUMvQjt3Q0FDRCxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7d0NBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRTs0Q0FDOUIsTUFBTSxJQUFJLENBQUMsOEJBQThCLENBQ3JDLDZCQUE2QixDQUNoQzt5Q0FDSjt3Q0FDRCxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7d0NBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUM7d0NBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUNkO3dDQUFDLFFBQTRCLENBQUMsTUFBTTs0Q0FDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7cUNBQ3JCO29DQUNELE1BQUs7Z0NBQ1QsS0FBSyxDQUFDO29DQUNGO3dDQUNJLFFBQVEsR0FBRyxJQUFJLFlBQVksQ0FDdkIsSUFBSSxFQUNKLElBQUksYUFBYSxDQUNiLElBQUksRUFDSixVQUFVLEVBQ1YsWUFBWSxDQUNmLENBQ0osQ0FDQTt3Q0FBQyxRQUF5QixDQUFDLEtBQUs7NENBQzdCLFFBQVE7d0NBQ1osSUFBSSxDQUFDLHVCQUF1QixDQUN4QixRQUFRLEVBQ1IsV0FBVyxFQUNYLGdCQUFnQixDQUFDLFdBQVcsQ0FDL0I7d0NBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO3dDQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUU7NENBQzlCLE1BQU0sSUFBSSxDQUFDLDhCQUE4QixDQUNyQyw2QkFBNkIsQ0FDaEM7eUNBQ0o7d0NBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO3dDQUNmLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDO3dDQUNoQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FDZDt3Q0FBQyxRQUF5QixDQUFDLE1BQU07NENBQzlCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO3FDQUNyQjtvQ0FDRCxNQUFLO2dDQUNULEtBQUssQ0FBQztvQ0FDRjt3Q0FDSSxRQUFRLEdBQUcsSUFBSSxjQUFjLENBQ3pCLElBQUksRUFDSixJQUFJLGFBQWEsQ0FDYixJQUFJLEVBQ0osVUFBVSxFQUNWLFlBQVksQ0FDZixDQUNKLENBQ0E7d0NBQUMsUUFBMkIsQ0FBQyxLQUFLOzRDQUMvQixRQUFRO3dDQUNaLElBQUksQ0FBQyx1QkFBdUIsQ0FDeEIsUUFBUSxFQUNSLFdBQVcsRUFDWCxnQkFBZ0IsQ0FBQyxXQUFXLENBQy9CO3dDQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTt3Q0FDZixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFOzRDQUM5QixNQUFNLElBQUksQ0FBQyw4QkFBOEIsQ0FDckMsNkJBQTZCLENBQ2hDO3lDQUNKO3dDQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTt3Q0FDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7d0NBQzNCLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0NBQ3ZCLElBQUksR0FBRyxLQUFLLENBQUMsRUFBRTs0Q0FDWDtnREFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7Z0RBQ2YsSUFBSSxDQUFDLEtBQUssQ0FDTixnQkFBZ0IsQ0FBQyxLQUFLLENBQ3pCOzZDQUNKO3lDQUNKO3dDQUVELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUNkO3dDQUFDLFFBQTJCLENBQUMsTUFBTTs0Q0FDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7cUNBQ3JCO29DQUNELE1BQUs7NkJBQ1o7eUJBQ0o7cUJBQ0o7b0JBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO29CQUNmLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztvQkFDM0IsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUMvQixJQUFJLENBQUMsTUFBTSxFQUNYLENBQUMsRUFDRCxJQUFJLENBQUMsSUFBSSxDQUNaO2lCQUNKO2FBQ0o7U0FDSjtRQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ1QsSUFBSSxFQUFFLFlBQVksNkJBQW9CLEVBQUU7Z0JBQ3BDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQzthQUNyQztpQkFBTTtnQkFDSCxNQUFNLEVBQUU7YUFDWDtTQUNKO2dCQUFTO1lBQ04sSUFBSSxDQUFDLHVCQUF1QixDQUFDLFVBQVUsQ0FBQztTQUMzQztRQUNELE9BQU8sUUFBUTtJQUNuQixDQUFDO0lBSUQsa0JBQWtCO0lBQ1gsWUFBWSxDQUFDLEVBQVc7UUFDM0IsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFO1lBQ2xCLEVBQUUsR0FBRyxDQUFDO1NBQ1Q7UUFFRCxJQUFJLFVBQVUsR0FBc0IsSUFBSSxDQUFDLElBQUk7UUFDN0MsSUFBSSxZQUFZLEdBQVcsSUFBSSxDQUFDLEtBQUs7UUFDckMsSUFBSSxRQUFRLEdBQXdCLElBQUksbUJBQW1CLENBQ3ZELElBQUksRUFDSixJQUFJLENBQUMsSUFBSSxFQUNULFlBQVksQ0FDZjtRQUNELElBQUksUUFBUSxHQUF3QixRQUFRO1FBQzVDLElBQUksV0FBVyxHQUFXLENBQUM7UUFDM0IsSUFBSSxDQUFDLGtCQUFrQixDQUNuQixRQUFRLEVBQ1IsQ0FBQyxFQUNELGdCQUFnQixDQUFDLGlCQUFpQixFQUNsQyxFQUFFLENBQ0w7UUFDRCxJQUFJLEdBQVc7UUFDZixJQUFJO1lBQ0EsSUFBSSxJQUFZO1lBQ2hCLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztZQUMvQjtnQkFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7Z0JBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO2dCQUMzQixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUN2QixLQUFLLENBQUMsQ0FBQztvQkFDUCxLQUFLLENBQUMsQ0FBQztvQkFDUCxLQUFLLEVBQUUsQ0FBQztvQkFDUixLQUFLLEVBQUUsQ0FBQztvQkFDUixLQUFLLEVBQUU7d0JBQ0g7NEJBQ0ksUUFBUSxHQUFHLElBQUksMkJBQTJCLENBQ3RDLElBQUksRUFDSixRQUFRLENBQ1g7NEJBQ0QsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFROzRCQUNwQixRQUFRLEdBQUcsUUFBUTs0QkFFbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFOzRCQUNmLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO3lCQUNqQjt3QkFDRCxNQUFLO29CQUNULEtBQUssQ0FBQyxDQUFDO29CQUNQLEtBQUssQ0FBQzt3QkFDRjs0QkFDSSxRQUFRLEdBQUcsSUFBSSx3QkFBd0IsQ0FDbkMsSUFBSSxFQUNKLFFBQVEsQ0FDWDs0QkFDRCxJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVE7NEJBQ3BCLFFBQVEsR0FBRyxRQUFROzRCQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7NEJBQ2YsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs0QkFDdkIsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0NBQzNCLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQzs2QkFDdkM7aUNBQU07Z0NBQ0gsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO2dDQUNsQyxJQUFJLENBQUMsT0FBTyxFQUFFOzZCQUNqQjs0QkFDRCxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7NEJBQ2YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7eUJBQ2pCO3dCQUNELE1BQUs7b0JBQ1Q7d0JBQ0ksTUFBTSxJQUFJLDZCQUFvQixDQUFDLElBQUksQ0FBQztpQkFDM0M7Z0JBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzNCLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDO2dCQUM5RCxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksSUFBSSxLQUFLLFlBQUcsQ0FBQyxrQkFBa0IsRUFBRTtvQkFDbEQsSUFBSSxJQUFJLEtBQUssQ0FBQyxFQUFFO3dCQUNaLElBQUksSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLEVBQUU7NEJBQzlCLElBQUksQ0FBQyxvQkFBb0IsRUFBRTt5QkFDOUI7d0JBQ0QsUUFBUSxHQUFHLFFBQVE7d0JBQ25COzRCQUNJO2dDQUNJLFFBQVE7b0NBQ0osSUFBSSxrQ0FBa0MsQ0FDbEMsSUFBSSxFQUNKLElBQUksbUJBQW1CLENBQ25CLElBQUksRUFDSixVQUFVLEVBQ1YsWUFBWSxDQUNmLENBQ0osQ0FDSjtnQ0FDRyxRQUNILENBQUMsS0FBSyxHQUFHLFFBQVE7Z0NBQ2xCLElBQUksQ0FBQyx1QkFBdUIsQ0FDeEIsUUFBUSxFQUNSLFdBQVcsRUFDWCxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FDckM7Z0NBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO2dDQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUU7b0NBQzlCLE1BQU0sSUFBSSxDQUFDLDhCQUE4QixDQUNyQyw2QkFBNkIsQ0FDaEM7aUNBQ0o7Z0NBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQ2Q7Z0NBQ0csUUFDSCxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzs2QkFDNUI7eUJBQ0o7cUJBQ0o7b0JBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO29CQUNmLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztvQkFDM0IsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUMvQixJQUFJLENBQUMsTUFBTSxFQUNYLENBQUMsRUFDRCxJQUFJLENBQUMsSUFBSSxDQUNaO2lCQUNKO2FBQ0o7U0FDSjtRQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ1QsSUFBSSxFQUFFLFlBQVksNkJBQW9CLEVBQUU7Z0JBQ3BDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztnQkFDdEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQzthQUNyQztpQkFBTTtnQkFDSCxNQUFNLEVBQUU7YUFDWDtTQUNKO2dCQUFTO1lBQ04sSUFBSSxDQUFDLHVCQUF1QixDQUFDLFVBQVUsQ0FBQztTQUMzQztRQUNELE9BQU8sUUFBUTtJQUNuQixDQUFDO0lBSUQsa0JBQWtCO0lBQ1gsSUFBSSxDQUFDLEVBQVc7UUFDbkIsSUFBSSxFQUFFLEtBQUssU0FBUyxFQUFFO1lBQ2xCLEVBQUUsR0FBRyxDQUFDO1NBQ1Q7UUFFRCxJQUFJLFVBQVUsR0FBc0IsSUFBSSxDQUFDLElBQUk7UUFDN0MsSUFBSSxZQUFZLEdBQVcsSUFBSSxDQUFDLEtBQUs7UUFDckMsSUFBSSxRQUFRLEdBQWdCLElBQUksV0FBVyxDQUN2QyxJQUFJLEVBQ0osSUFBSSxDQUFDLElBQUksRUFDVCxZQUFZLENBQ2Y7UUFDRCxJQUFJLFFBQVEsR0FBZ0IsUUFBUTtRQUNwQyxJQUFJLFdBQVcsR0FBVyxDQUFDO1FBQzNCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7UUFDcEUsSUFBSSxHQUFXO1FBQ2YsSUFBSTtZQUNBLElBQUksSUFBWTtZQUNoQixJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFDL0I7Z0JBQ0k7b0JBQ0ksUUFBUSxHQUFHLElBQUkseUJBQXlCLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQztvQkFDeEQsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRO29CQUNwQixRQUFRLEdBQUcsUUFBUTtvQkFFbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO29CQUNmLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO2lCQUN2QjtnQkFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUNmLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDM0IsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQzlELE9BQU8sSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLEtBQUssWUFBRyxDQUFDLGtCQUFrQixFQUFFO29CQUNsRCxJQUFJLElBQUksS0FBSyxDQUFDLEVBQUU7d0JBQ1osSUFBSSxJQUFJLENBQUMsZUFBZSxJQUFJLElBQUksRUFBRTs0QkFDOUIsSUFBSSxDQUFDLG9CQUFvQixFQUFFO3lCQUM5Qjt3QkFDRCxRQUFRLEdBQUcsUUFBUTt3QkFDbkI7NEJBQ0k7Z0NBQ0ksUUFBUSxHQUFHLElBQUksVUFBVSxDQUNyQixJQUFJLEVBQ0osSUFBSSxXQUFXLENBQ1gsSUFBSSxFQUNKLFVBQVUsRUFDVixZQUFZLENBQ2YsQ0FDSixDQUNBO2dDQUFDLFFBQXVCLENBQUMsS0FBSyxHQUFHLFFBQVE7Z0NBQzFDLElBQUksQ0FBQyx1QkFBdUIsQ0FDeEIsUUFBUSxFQUNSLFdBQVcsRUFDWCxnQkFBZ0IsQ0FBQyxTQUFTLENBQzdCO2dDQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQ0FDZixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFO29DQUM5QixNQUFNLElBQUksQ0FBQyw4QkFBOEIsQ0FDckMsNkJBQTZCLENBQ2hDO2lDQUNKO2dDQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQ0FDZixHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dDQUN2QixJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRTtvQ0FDM0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDO2lDQUN2QztxQ0FBTTtvQ0FDSCxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUM7b0NBQ2xDLElBQUksQ0FBQyxPQUFPLEVBQUU7aUNBQ2pCO2dDQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUNkO2dDQUFDLFFBQXVCLENBQUMsTUFBTTtvQ0FDNUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7NkJBQzNCO3lCQUNKO3FCQUNKO29CQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtvQkFDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQzNCLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FDL0IsSUFBSSxDQUFDLE1BQU0sRUFDWCxDQUFDLEVBQ0QsSUFBSSxDQUFDLElBQUksQ0FDWjtpQkFDSjthQUNKO1NBQ0o7UUFBQyxPQUFPLEVBQUUsRUFBRTtZQUNULElBQUksRUFBRSxZQUFZLDZCQUFvQixFQUFFO2dCQUNwQyxRQUFRLENBQUMsU0FBUyxHQUFHLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7YUFDckM7aUJBQU07Z0JBQ0gsTUFBTSxFQUFFO2FBQ1g7U0FDSjtnQkFBUztZQUNOLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxVQUFVLENBQUM7U0FDM0M7UUFDRCxPQUFPLFFBQVE7SUFDbkIsQ0FBQztJQUNELGtCQUFrQjtJQUNYLElBQUk7UUFDUCxJQUFJLFFBQVEsR0FBZ0IsSUFBSSxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4RSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsU0FBUyxDQUFDO1FBQ3hELElBQUksR0FBVztRQUNmLElBQUk7WUFDQSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFDL0I7Z0JBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFO2dCQUNmLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFO29CQUM1QixJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7aUJBQ3ZDO3FCQUFNO29CQUNILElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQztvQkFDbEMsSUFBSSxDQUFDLE9BQU8sRUFBRTtpQkFDakI7YUFDSjtTQUNKO1FBQUMsT0FBTyxFQUFFLEVBQUU7WUFDVCxJQUFJLEVBQUUsWUFBWSw2QkFBb0IsRUFBRTtnQkFDcEMsUUFBUSxDQUFDLFNBQVMsR0FBRyxFQUFFO2dCQUN2QixJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2dCQUN0QyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2FBQ3JDO2lCQUFNO2dCQUNILE1BQU0sRUFBRTthQUNYO1NBQ0o7Z0JBQVM7WUFDTixJQUFJLENBQUMsUUFBUSxFQUFFO1NBQ2xCO1FBQ0QsT0FBTyxRQUFRO0lBQ25CLENBQUM7SUFDRCxrQkFBa0I7SUFDWCxLQUFLO1FBQ1IsSUFBSSxRQUFRLEdBQWlCLElBQUksWUFBWSxDQUN6QyxJQUFJLEVBQ0osSUFBSSxDQUFDLElBQUksRUFDVCxJQUFJLENBQUMsS0FBSyxDQUNiO1FBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxFQUFFLGdCQUFnQixDQUFDLFVBQVUsQ0FBQztRQUN6RCxJQUFJO1lBQ0EsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQy9CO2dCQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRTtnQkFDZixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQzthQUNsQztTQUNKO1FBQUMsT0FBTyxFQUFFLEVBQUU7WUFDVCxJQUFJLEVBQUUsWUFBWSw2QkFBb0IsRUFBRTtnQkFDcEMsUUFBUSxDQUFDLFNBQVMsR0FBRyxFQUFFO2dCQUN2QixJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2dCQUN0QyxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO2FBQ3JDO2lCQUFNO2dCQUNILE1BQU0sRUFBRTthQUNYO1NBQ0o7Z0JBQVM7WUFDTixJQUFJLENBQUMsUUFBUSxFQUFFO1NBQ2xCO1FBQ0QsT0FBTyxRQUFRO0lBQ25CLENBQUM7SUFFTSxPQUFPLENBQ1YsUUFBcUIsRUFDckIsU0FBaUIsRUFDakIsU0FBaUI7UUFFakIsUUFBUSxTQUFTLEVBQUU7WUFDZixLQUFLLENBQUM7Z0JBQ0YsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQXlCLEVBQUUsU0FBUyxDQUFDO1lBQ3BFLEtBQUssQ0FBQztnQkFDRixPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FDNUIsUUFBK0IsRUFDL0IsU0FBUyxDQUNaO1lBQ0wsS0FBSyxDQUFDO2dCQUNGLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUF1QixFQUFFLFNBQVMsQ0FBQztTQUNuRTtRQUNELE9BQU8sSUFBSTtJQUNmLENBQUM7SUFDTyxjQUFjLENBQ2xCLFFBQXVCLEVBQ3ZCLFNBQWlCO1FBRWpCLFFBQVEsU0FBUyxFQUFFO1lBQ2YsS0FBSyxDQUFDO2dCQUNGLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUN0QyxLQUFLLENBQUM7Z0JBQ0YsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1lBQ3RDLEtBQUssQ0FBQztnQkFDRixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7U0FDekM7UUFDRCxPQUFPLElBQUk7SUFDZixDQUFDO0lBQ08sb0JBQW9CLENBQ3hCLFFBQTZCLEVBQzdCLFNBQWlCO1FBRWpCLFFBQVEsU0FBUyxFQUFFO1lBQ2YsS0FBSyxDQUFDO2dCQUNGLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztTQUN6QztRQUNELE9BQU8sSUFBSTtJQUNmLENBQUM7SUFDTyxZQUFZLENBQUMsUUFBcUIsRUFBRSxTQUFpQjtRQUN6RCxRQUFRLFNBQVMsRUFBRTtZQUNmLEtBQUssQ0FBQztnQkFDRixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7U0FDekM7UUFDRCxPQUFPLElBQUk7SUFDZixDQUFDO0lBdUNNLE1BQU0sS0FBSyxJQUFJO1FBQ2xCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUU7WUFDekIsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLElBQUksd0JBQWUsRUFBRSxDQUFDLFdBQVcsQ0FDdEQsZ0JBQWdCLENBQUMsY0FBYyxDQUNsQztTQUNKO1FBRUQsT0FBTyxnQkFBZ0IsQ0FBQyxLQUFLO0lBQ2pDLENBQUM7O0FBbnhCc0Isa0NBQWlCLEdBQUcsQ0FBQztBQUNyQix1QkFBTSxHQUFHLENBQUM7QUFDVix1QkFBTSxHQUFHLENBQUM7QUFDVixxQkFBSSxHQUFHLENBQUM7QUFDUixzQkFBSyxHQUFHLENBQUM7QUFDVCxzQkFBSyxHQUFHLENBQUM7QUFDVCxvQkFBRyxHQUFHLENBQUM7QUFDUCxtQkFBRSxHQUFHLENBQUM7QUFDTixtQkFBRSxHQUFHLENBQUM7QUFDTixtQkFBRSxHQUFHLEVBQUU7QUFDUCxzQkFBSyxHQUFHLEVBQUU7QUFDVixvQkFBRyxHQUFHLEVBQUU7QUFDUixvQkFBRyxHQUFHLEVBQUU7QUFDUixvQkFBRyxHQUFHLEVBQUU7QUFDUix5QkFBUSxHQUFHLEVBQUU7QUFDYixtQkFBRSxHQUFHLEVBQUU7QUFDUCxvQkFBRyxHQUFHLGNBQUssQ0FBQyxHQUFHO0FBQ2YsOEJBQWEsR0FBRyxDQUFDO0FBQ2pCLGdDQUFlLEdBQUcsQ0FBQztBQUNuQiw0QkFBVyxHQUFHLENBQUM7QUFDZixrQ0FBaUIsR0FBRyxDQUFDO0FBQ3JCLDBCQUFTLEdBQUcsQ0FBQztBQUNiLDBCQUFTLEdBQUcsQ0FBQztBQUNiLDJCQUFVLEdBQUcsQ0FBQztBQUNkLDZCQUFZLEdBQXNCO0lBQ3JELElBQUk7SUFDSixJQUFJO0lBQ0osS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLElBQUk7SUFDSixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7Q0FDUjtBQUNzQiw4QkFBYSxHQUFzQjtJQUN0RCxJQUFJO0lBQ0osbUJBQW1CO0lBQ25CLFFBQVE7SUFDUixRQUFRO0lBQ1IsTUFBTTtJQUNOLE9BQU87SUFDUCxPQUFPO0lBQ1AsS0FBSztJQUNMLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLE9BQU87SUFDUCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxVQUFVO0lBQ1YsSUFBSTtDQUNQO0FBQ0Qsd0NBQXdDO0FBQ2pCLDBCQUFTLEdBQWE7SUFDekMsVUFBVTtJQUNWLFlBQVk7SUFDWixRQUFRO0lBQ1IsY0FBYztJQUNkLE1BQU07SUFDTixNQUFNO0lBQ04sT0FBTztDQUNWO0FBbXFCc0IsK0JBQWMsR0FBYTtJQUM5QyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUNyRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdEUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3ZFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3BFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDckUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNyRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUN0RSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdkUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN0RSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN2RSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDckUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUN2RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdkUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQ3RFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUNyRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7SUFDckUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN0RSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDdEUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3JFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUN0RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3ZFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdkUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUN2RSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUNwRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDckUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3BFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDdkUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDckUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3JFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNwRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3RFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNyRSxFQUFFLEVBQUUsRUFB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QkFBZ0IsQ0FBQyxFQUFFO1lBQzNDLG1DQUFjLEdBQUU7U0FDbkI7YUFBTSxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDdEMsMkRBQTBCLEdBQUU7U0FDL0I7SUFDTCxDQUFDLEVBQUUsR0FBRyxDQUFDO0FBQ1gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLmV2ZW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5ncmFwaC9pbmRleC5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9Ob2RlSGVhcC5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9hLWdyZWVkeS1zdGFyLmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL2Etc3Rhci5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9kZWZhdWx0U2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL25vZGVfbW9kdWxlcy9uZ3JhcGgucGF0aC9hLXN0YXIvaGV1cmlzdGljcy5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9tYWtlU2VhcmNoU3RhdGVQb29sLmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9ub2RlX21vZHVsZXMvbmdyYXBoLnBhdGgvYS1zdGFyL25iYS9pbmRleC5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2Etc3Rhci9uYmEvbWFrZU5CQVNlYXJjaFN0YXRlUG9vbC5qcyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL25ncmFwaC5wYXRoL2luZGV4LmpzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvTG9hZEV4cHJlc3Npb25UZXN0UGFnZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL0xvYWRJbnB1dFBhcnNlVGVzdFBhZ2UudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9Mb2FkUHJpbWFyeVBhZ2UudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9Mb2FkU2ltcGxpZmljYXRpb25UZXN0UGFnZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL0xvYWRTb2x2ZXJQYWdlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9Bcmd1bWVudC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvQ29udmVuaWVudEV4cHJlc3Npb25zLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9HcmFwaC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvR3JhcGhNaW5pcHVsYXRvci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvTWF0aEdyYXBoTm9kZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvUmVsYXRpb25zaGlwLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9EZXJpdmF0aW9uUnVsZXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL0Rlcml2ZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL1JlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvYWxnZWJyYS9EaXZpZGVPbkJvdGhTaWRlcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvYWxnZWJyYS9TdWJ0cmFjdEZyb21Cb3RoU2lkZXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL0JyZWFrRGVyaXZhdGl2ZXNPdmVyQWRkaXRpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL0NvbnN0YW50RGVyaXZhdGl2ZS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvY2FsY3VsdXMvTG9nSW50ZWdyYWxSdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9Qb3dlclJ1bGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL2NhbGN1bHVzL1Byb2R1Y3RSdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9QdWxsQ29uc3RhbnRzRnJvbURlcml2YXRpdmVzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9QdWxsQ29uc3RhbnRzRnJvbUludGVncmFscy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvY2FsY3VsdXMvUXVvdGllbnRSdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9SZXZlcnNlUG93ZXJSdWxlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9jYWxjdWx1cy9VU3Vic3RpdHV0aW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9yZWN1cnNpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9BZGRpdGl2ZUlkZW50aXR5LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvQW55dGhpbmdUaW1lc1plcm8udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Bc3NvY2lhdGl2ZVByb3BlcnR5T2ZQcm9kdWN0c0FuZFN1bXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9DYW5jZWxOZWdhdGl2ZXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lQ29tbW9uRmFjdG9yc011bHRpcGxpY2F0aW9uLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvQ29tYmluZUNvbW1vblRlcm1zQWRkaXRpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lSW50ZWdlckZhY3RvcnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9Db21iaW5lUHJvZHVjdHNBbmRGcmFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9EaXN0cmlidXRpdmVQcm9wZXJ0eS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0RpdmlkZUZyYWN0aW9ucy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0RpdmlzaW9uSWRlbnRpdHkudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9FdmFsdWF0ZVN1bXMudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9FeHBvbmVudFRvWmVyby50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0V4cG9uZW50aWFsSWRlbnRpdHkudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9GT0lMLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvTG9nT2ZPbmUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9NdWx0aXBsaWNhdGl2ZUlkZW50aXR5LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvTXVsdGlwbHlFeHBvbmVudFBvd2Vycy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL011bHRpcGx5RnJhY3Rpb25zLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvT3JkZXJQcm9kdWN0cy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL09yZGVyU3Vtcy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL1JlbW92ZUNvbW1vbkZhY3RvcnNPblRvcEFuZEJvdHRvbU9mRnJhY3Rpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2Rlcml2YXRpb25zL3NpbXBsaWZpY2F0aW9ucy9TdWJ0cmFjdEV4cG9uZW50c09uRnJhY3Rpb25zLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvU3VtQ29lZmZpY2llbnRzT2ZBZGRlZFRlcm1zLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9EZXJpdmF0aXZlLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9FeHBvbmVudC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvbi50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvRnJhY3Rpb24udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL0ludGVnZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL0ludGVncmFsLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi9leHByZXNzaW9ucy9Mb2dhcml0aG0udHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL1Byb2R1Y3QudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2V4cHJlc3Npb25zL1N1bS50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvZXhwcmVzc2lvbnMvVmFyaWFibGUudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL2ludGVycHJldGluZy9JbnRlcnByZXRlci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvaW50ZXJwcmV0aW5nL1BhdGgudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvQXJndW1lbnROb2RlVmlldy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9FZGdlVmlldy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9FZGl0YWJsZU1hdGhWaWV3LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL0V4cGxhbmF0aW9uUG9wdXAudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvRXhwcmVzc2lvbk5vZGVWaWV3LnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL0dyYXBoTm9kZVZpZXcudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VpZWxlbWVudHMvVG91Y2hHZXN0dXJlUmVjb2duaXplci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdWllbGVtZW50cy9VSVByZWZlcmVuY2VzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91aWVsZW1lbnRzL1dlYkdyYXBoVmlldy50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXNlcmlucHV0L0FudGxyTWF0aFBhcnNlci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXNlcmlucHV0L0ZsYXR0ZW5lci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXNlcmlucHV0L01hdGhWaXNpdG9ySW1wbC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWNMZXhlci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWNQYXJzZXIudHMiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYXRobGliL3VzZXJpbnB1dC9hcml0aG1ldGljVmlzaXRvci50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vc3JjL21hdGhsaWIvdXRpbC9NYXRoTUxIZWxwZXJzLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliLnRzIiwid2VicGFjazovL2ludGVncmF0b3IvLi9zcmMvbWF0aGxpYi91dGlsL2Fzc2VydC50cyIsIndlYnBhY2s6Ly9pbnRlZ3JhdG9yLy4vbm9kZV9tb2R1bGVzL2FudGxyNC9kaXN0L2FudGxyNC53ZWIuY2pzIiwid2VicGFjazovL2ludGVncmF0b3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaW50ZWdyYXRvci8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXZlbnRpZnkoc3ViamVjdCkge1xuICB2YWxpZGF0ZVN1YmplY3Qoc3ViamVjdCk7XG5cbiAgdmFyIGV2ZW50c1N0b3JhZ2UgPSBjcmVhdGVFdmVudHNTdG9yYWdlKHN1YmplY3QpO1xuICBzdWJqZWN0Lm9uID0gZXZlbnRzU3RvcmFnZS5vbjtcbiAgc3ViamVjdC5vZmYgPSBldmVudHNTdG9yYWdlLm9mZjtcbiAgc3ViamVjdC5maXJlID0gZXZlbnRzU3RvcmFnZS5maXJlO1xuICByZXR1cm4gc3ViamVjdDtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50c1N0b3JhZ2Uoc3ViamVjdCkge1xuICAvLyBTdG9yZSBhbGwgZXZlbnQgbGlzdGVuZXJzIHRvIHRoaXMgaGFzaC4gS2V5IGlzIGV2ZW50IG5hbWUsIHZhbHVlIGlzIGFycmF5XG4gIC8vIG9mIGNhbGxiYWNrIHJlY29yZHMuXG4gIC8vXG4gIC8vIEEgY2FsbGJhY2sgcmVjb3JkIGNvbnNpc3RzIG9mIGNhbGxiYWNrIGZ1bmN0aW9uIGFuZCBpdHMgb3B0aW9uYWwgY29udGV4dDpcbiAgLy8geyAnZXZlbnROYW1lJyA9PiBbe2NhbGxiYWNrOiBmdW5jdGlvbiwgY3R4OiBvYmplY3R9XSB9XG4gIHZhciByZWdpc3RlcmVkRXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICByZXR1cm4ge1xuICAgIG9uOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FsbGJhY2sgaXMgZXhwZWN0ZWQgdG8gYmUgYSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgdmFyIGhhbmRsZXJzID0gcmVnaXN0ZXJlZEV2ZW50c1tldmVudE5hbWVdO1xuICAgICAgaWYgKCFoYW5kbGVycykge1xuICAgICAgICBoYW5kbGVycyA9IHJlZ2lzdGVyZWRFdmVudHNbZXZlbnROYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgaGFuZGxlcnMucHVzaCh7Y2FsbGJhY2s6IGNhbGxiYWNrLCBjdHg6IGN0eH0pO1xuXG4gICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9LFxuXG4gICAgb2ZmOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHdhbnRUb1JlbW92ZUFsbCA9ICh0eXBlb2YgZXZlbnROYW1lID09PSAndW5kZWZpbmVkJyk7XG4gICAgICBpZiAod2FudFRvUmVtb3ZlQWxsKSB7XG4gICAgICAgIC8vIEtpbGxpbmcgb2xkIGV2ZW50cyBzdG9yYWdlIHNob3VsZCBiZSBlbm91Z2ggaW4gdGhpcyBjYXNlOlxuICAgICAgICByZWdpc3RlcmVkRXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWdpc3RlcmVkRXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgdmFyIGRlbGV0ZUFsbENhbGxiYWNrc0ZvckV2ZW50ID0gKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJyk7XG4gICAgICAgIGlmIChkZWxldGVBbGxDYWxsYmFja3NGb3JFdmVudCkge1xuICAgICAgICAgIGRlbGV0ZSByZWdpc3RlcmVkRXZlbnRzW2V2ZW50TmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHJlZ2lzdGVyZWRFdmVudHNbZXZlbnROYW1lXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrc1tpXS5jYWxsYmFjayA9PT0gY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfSxcblxuICAgIGZpcmU6IGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSByZWdpc3RlcmVkRXZlbnRzW2V2ZW50TmFtZV07XG4gICAgICBpZiAoIWNhbGxiYWNrcykge1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpcmVBcmd1bWVudHM7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZmlyZUFyZ3VtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgfVxuICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgY2FsbGJhY2tJbmZvID0gY2FsbGJhY2tzW2ldO1xuICAgICAgICBjYWxsYmFja0luZm8uY2FsbGJhY2suYXBwbHkoY2FsbGJhY2tJbmZvLmN0eCwgZmlyZUFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVTdWJqZWN0KHN1YmplY3QpIHtcbiAgaWYgKCFzdWJqZWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFdmVudGlmeSBjYW5ub3QgdXNlIGZhbHN5IG9iamVjdCBhcyBldmVudHMgc3ViamVjdCcpO1xuICB9XG4gIHZhciByZXNlcnZlZFdvcmRzID0gWydvbicsICdmaXJlJywgJ29mZiddO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc2VydmVkV29yZHMubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoc3ViamVjdC5oYXNPd25Qcm9wZXJ0eShyZXNlcnZlZFdvcmRzW2ldKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3ViamVjdCBjYW5ub3QgYmUgZXZlbnRpZmllZCwgc2luY2UgaXQgYWxyZWFkeSBoYXMgcHJvcGVydHkgJ1wiICsgcmVzZXJ2ZWRXb3Jkc1tpXSArIFwiJ1wiKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQGZpbGVPdmVydmlldyBDb250YWlucyBkZWZpbml0aW9uIG9mIHRoZSBjb3JlIGdyYXBoIG9iamVjdC5cbiAqL1xuXG4vLyBUT0RPOiBuZWVkIHRvIGNoYW5nZSBzdG9yYWdlIGxheWVyOlxuLy8gMS4gQmUgYWJsZSB0byBnZXQgYWxsIG5vZGVzIE8oMSlcbi8vIDIuIEJlIGFibGUgdG8gZ2V0IG51bWJlciBvZiBsaW5rcyBPKDEpXG5cbi8qKlxuICogQGV4YW1wbGVcbiAqICB2YXIgZ3JhcGggPSByZXF1aXJlKCduZ3JhcGguZ3JhcGgnKSgpO1xuICogIGdyYXBoLmFkZE5vZGUoMSk7ICAgICAvLyBncmFwaCBoYXMgb25lIG5vZGUuXG4gKiAgZ3JhcGguYWRkTGluaygyLCAzKTsgIC8vIG5vdyBncmFwaCBjb250YWlucyB0aHJlZSBub2RlcyBhbmQgb25lIGxpbmsuXG4gKlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUdyYXBoO1xuXG52YXIgZXZlbnRpZnkgPSByZXF1aXJlKCduZ3JhcGguZXZlbnRzJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBncmFwaFxuICovXG5mdW5jdGlvbiBjcmVhdGVHcmFwaChvcHRpb25zKSB7XG4gIC8vIEdyYXBoIHN0cnVjdHVyZSBpcyBtYWludGFpbmVkIGFzIGRpY3Rpb25hcnkgb2Ygbm9kZXNcbiAgLy8gYW5kIGFycmF5IG9mIGxpbmtzLiBFYWNoIG5vZGUgaGFzICdsaW5rcycgcHJvcGVydHkgd2hpY2hcbiAgLy8gaG9sZCBhbGwgbGlua3MgcmVsYXRlZCB0byB0aGF0IG5vZGUuIEFuZCBnZW5lcmFsIGxpbmtzXG4gIC8vIGFycmF5IGlzIHVzZWQgdG8gc3BlZWQgdXAgYWxsIGxpbmtzIGVudW1lcmF0aW9uLiBUaGlzIGlzIGluZWZmaWNpZW50XG4gIC8vIGluIHRlcm1zIG9mIG1lbW9yeSwgYnV0IHNpbXBsaWZpZXMgY29kaW5nLlxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgaWYgKCd1bmlxdWVMaW5rSWQnIGluIG9wdGlvbnMpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnbmdyYXBoLmdyYXBoOiBTdGFydGluZyBmcm9tIHZlcnNpb24gMC4xNCBgdW5pcXVlTGlua0lkYCBpcyBkZXByZWNhdGVkLlxcbicgK1xuICAgICAgJ1VzZSBgbXVsdGlncmFwaGAgb3B0aW9uIGluc3RlYWRcXG4nLFxuICAgICAgJ1xcbicsXG4gICAgICAnTm90ZTogdGhlcmUgaXMgYWxzbyBjaGFuZ2UgaW4gZGVmYXVsdCBiZWhhdmlvcjogRnJvbSBub3cgb24gZWFjaCBncmFwaFxcbicrXG4gICAgICAnaXMgY29uc2lkZXJlZCB0byBiZSBub3QgYSBtdWx0aWdyYXBoIGJ5IGRlZmF1bHQgKGVhY2ggZWRnZSBpcyB1bmlxdWUpLidcbiAgICApO1xuXG4gICAgb3B0aW9ucy5tdWx0aWdyYXBoID0gb3B0aW9ucy51bmlxdWVMaW5rSWQ7XG4gIH1cblxuICAvLyBEZWFyIHJlYWRlciwgdGhlIG5vbi1tdWx0aWdyYXBocyBkbyBub3QgZ3VhcmFudGVlIHRoYXQgdGhlcmUgaXMgb25seVxuICAvLyBvbmUgbGluayBmb3IgYSBnaXZlbiBwYWlyIG9mIG5vZGUuIFdoZW4gdGhpcyBvcHRpb24gaXMgc2V0IHRvIGZhbHNlXG4gIC8vIHdlIGNhbiBzYXZlIHNvbWUgbWVtb3J5IGFuZCBDUFUgKDE4JSBmYXN0ZXIgZm9yIG5vbi1tdWx0aWdyYXBoKTtcbiAgaWYgKG9wdGlvbnMubXVsdGlncmFwaCA9PT0gdW5kZWZpbmVkKSBvcHRpb25zLm11bHRpZ3JhcGggPSBmYWxzZTtcblxuICBpZiAodHlwZW9mIE1hcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFRPRE86IFNob3VsZCB3ZSBwb2x5ZmlsbCBpdCBvdXJzZWx2ZXM/IFdlIGRvbid0IHVzZSBtdWNoIG9wZXJhdGlvbnMgdGhlcmUuLlxuICAgIHRocm93IG5ldyBFcnJvcignbmdyYXBoLmdyYXBoIHJlcXVpcmVzIGBNYXBgIHRvIGJlIGRlZmluZWQuIFBsZWFzZSBwb2x5ZmlsbCBpdCBiZWZvcmUgdXNpbmcgbmdyYXBoJyk7XG4gIH0gXG5cbiAgdmFyIG5vZGVzID0gbmV3IE1hcCgpOyAvLyBub2RlSWQgPT4gTm9kZVxuICB2YXIgbGlua3MgPSBuZXcgTWFwKCk7IC8vIGxpbmtJZCA9PiBMaW5rXG4gICAgLy8gSGFzaCBvZiBtdWx0aS1lZGdlcy4gVXNlZCB0byB0cmFjayBpZHMgb2YgZWRnZXMgYmV0d2VlbiBzYW1lIG5vZGVzXG4gIHZhciBtdWx0aUVkZ2VzID0ge307XG4gIHZhciBzdXNwZW5kRXZlbnRzID0gMDtcblxuICB2YXIgY3JlYXRlTGluayA9IG9wdGlvbnMubXVsdGlncmFwaCA/IGNyZWF0ZVVuaXF1ZUxpbmsgOiBjcmVhdGVTaW5nbGVMaW5rLFxuXG4gICAgLy8gT3VyIGdyYXBoIEFQSSBwcm92aWRlcyBtZWFucyB0byBsaXN0ZW4gdG8gZ3JhcGggY2hhbmdlcy4gVXNlcnMgY2FuIHN1YnNjcmliZVxuICAgIC8vIHRvIGJlIG5vdGlmaWVkIGFib3V0IGNoYW5nZXMgaW4gdGhlIGdyYXBoIGJ5IHVzaW5nIGBvbmAgbWV0aG9kLiBIb3dldmVyXG4gICAgLy8gaW4gc29tZSBjYXNlcyB0aGV5IGRvbid0IHVzZSBpdC4gVG8gYXZvaWQgdW5uZWNlc3NhcnkgbWVtb3J5IGNvbnN1bXB0aW9uXG4gICAgLy8gd2Ugd2lsbCBub3QgcmVjb3JkIGdyYXBoIGNoYW5nZXMgdW50aWwgd2UgaGF2ZSBhdCBsZWFzdCBvbmUgc3Vic2NyaWJlci5cbiAgICAvLyBDb2RlIGJlbG93IHN1cHBvcnRzIHRoaXMgb3B0aW1pemF0aW9uLlxuICAgIC8vXG4gICAgLy8gQWNjdW11bGF0ZXMgYWxsIGNoYW5nZXMgbWFkZSBkdXJpbmcgZ3JhcGggdXBkYXRlcy5cbiAgICAvLyBFYWNoIGNoYW5nZSBlbGVtZW50IGNvbnRhaW5zOlxuICAgIC8vICBjaGFuZ2VUeXBlIC0gb25lIG9mIHRoZSBzdHJpbmdzOiAnYWRkJywgJ3JlbW92ZScgb3IgJ3VwZGF0ZSc7XG4gICAgLy8gIG5vZGUgLSBpZiBjaGFuZ2UgaXMgcmVsYXRlZCB0byBub2RlIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIGNoYW5nZWQgZ3JhcGgncyBub2RlO1xuICAgIC8vICBsaW5rIC0gaWYgY2hhbmdlIGlzIHJlbGF0ZWQgdG8gbGluayB0aGlzIHByb3BlcnR5IGlzIHNldCB0byBjaGFuZ2VkIGdyYXBoJ3MgbGluaztcbiAgICBjaGFuZ2VzID0gW10sXG4gICAgcmVjb3JkTGlua0NoYW5nZSA9IG5vb3AsXG4gICAgcmVjb3JkTm9kZUNoYW5nZSA9IG5vb3AsXG4gICAgZW50ZXJNb2RpZmljYXRpb24gPSBub29wLFxuICAgIGV4aXRNb2RpZmljYXRpb24gPSBub29wO1xuXG4gIC8vIHRoaXMgaXMgb3VyIHB1YmxpYyBBUEk6XG4gIHZhciBncmFwaFBhcnQgPSB7XG4gICAgLyoqXG4gICAgICogU29tZXRpbWVzIGR1Y2sgdHlwaW5nIGNvdWxkIGJlIHNsb3cuIEdpdmluZyBjbGllbnRzIGEgaGludCBhYm91dCBkYXRhIHN0cnVjdHVyZVxuICAgICAqIHZpYSBleHBsaWNpdCB2ZXJzaW9uIG51bWJlciBoZXJlOlxuICAgICAqL1xuICAgIHZlcnNpb246IDIwLjAsXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG5vZGUgdG8gdGhlIGdyYXBoLiBJZiBub2RlIHdpdGggZ2l2ZW4gaWQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGdyYXBoXG4gICAgICogaXRzIGRhdGEgaXMgZXh0ZW5kZWQgd2l0aCB3aGF0ZXZlciBjb21lcyBpbiAnZGF0YScgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZUlkIHRoZSBub2RlJ3MgaWRlbnRpZmllci4gQSBzdHJpbmcgb3IgbnVtYmVyIGlzIHByZWZlcnJlZC5cbiAgICAgKiBAcGFyYW0gW2RhdGFdIGFkZGl0aW9uYWwgZGF0YSBmb3IgdGhlIG5vZGUgYmVpbmcgYWRkZWQuIElmIG5vZGUgYWxyZWFkeVxuICAgICAqICAgZXhpc3RzIGl0cyBkYXRhIG9iamVjdCBpcyBhdWdtZW50ZWQgd2l0aCB0aGUgbmV3IG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge25vZGV9IFRoZSBuZXdseSBhZGRlZCBub2RlIG9yIG5vZGUgd2l0aCBnaXZlbiBpZCBpZiBpdCBhbHJlYWR5IGV4aXN0cy5cbiAgICAgKi9cbiAgICBhZGROb2RlOiBhZGROb2RlLFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpbmsgdG8gdGhlIGdyYXBoLiBUaGUgZnVuY3Rpb24gYWx3YXlzIGNyZWF0ZSBhIG5ld1xuICAgICAqIGxpbmsgYmV0d2VlbiB0d28gbm9kZXMuIElmIG9uZSBvZiB0aGUgbm9kZXMgZG9lcyBub3QgZXhpc3RzXG4gICAgICogYSBuZXcgbm9kZSBpcyBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZyb21JZCBsaW5rIHN0YXJ0IG5vZGUgaWQ7XG4gICAgICogQHBhcmFtIHRvSWQgbGluayBlbmQgbm9kZSBpZDtcbiAgICAgKiBAcGFyYW0gW2RhdGFdIGFkZGl0aW9uYWwgZGF0YSB0byBiZSBzZXQgb24gdGhlIG5ldyBsaW5rO1xuICAgICAqXG4gICAgICogQHJldHVybiB7bGlua30gVGhlIG5ld2x5IGNyZWF0ZWQgbGlua1xuICAgICAqL1xuICAgIGFkZExpbms6IGFkZExpbmssXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxpbmsgZnJvbSB0aGUgZ3JhcGguIElmIGxpbmsgZG9lcyBub3QgZXhpc3QgZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxpbmsgLSBvYmplY3QgcmV0dXJuZWQgYnkgYWRkTGluaygpIG9yIGdldExpbmtzKCkgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgbGluayB3YXMgcmVtb3ZlZDsgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHJlbW92ZUxpbms6IHJlbW92ZUxpbmssXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG5vZGUgd2l0aCBnaXZlbiBpZCBmcm9tIHRoZSBncmFwaC4gSWYgbm9kZSBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZ3JhcGhcbiAgICAgKiBkb2VzIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZUlkIG5vZGUncyBpZGVudGlmaWVyIHBhc3NlZCB0byBhZGROb2RlKCkgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIG5vZGUgd2FzIHJlbW92ZWQ7IGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICByZW1vdmVOb2RlOiByZW1vdmVOb2RlLFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBub2RlIHdpdGggZ2l2ZW4gaWRlbnRpZmllci4gSWYgbm9kZSBkb2VzIG5vdCBleGlzdCB1bmRlZmluZWQgdmFsdWUgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbm9kZUlkIHJlcXVlc3RlZCBub2RlIGlkZW50aWZpZXI7XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtub2RlfSBpbiB3aXRoIHJlcXVlc3RlZCBpZGVudGlmaWVyIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoIG5vZGUgZXhpc3RzLlxuICAgICAqL1xuICAgIGdldE5vZGU6IGdldE5vZGUsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG51bWJlciBvZiBub2RlcyBpbiB0aGlzIGdyYXBoLlxuICAgICAqXG4gICAgICogQHJldHVybiBudW1iZXIgb2Ygbm9kZXMgaW4gdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIGdldE5vZGVDb3VudDogZ2V0Tm9kZUNvdW50LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0b3RhbCBudW1iZXIgb2YgbGlua3MgaW4gdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIGdldExpbmtDb3VudDogZ2V0TGlua0NvdW50LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0b3RhbCBudW1iZXIgb2YgbGlua3MgaW4gdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIGdldEVkZ2VDb3VudDogZ2V0TGlua0NvdW50LFxuXG4gICAgLyoqXG4gICAgICogU3lub255bSBmb3IgYGdldExpbmtDb3VudCgpYFxuICAgICAqL1xuICAgIGdldExpbmtzQ291bnQ6IGdldExpbmtDb3VudCxcbiAgICBcbiAgICAvKipcbiAgICAgKiBTeW5vbnltIGZvciBgZ2V0Tm9kZUNvdW50KClgXG4gICAgICovXG4gICAgZ2V0Tm9kZXNDb3VudDogZ2V0Tm9kZUNvdW50LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgbGlua3MgKGluYm91bmQgYW5kIG91dGJvdW5kKSBmcm9tIHRoZSBub2RlIHdpdGggZ2l2ZW4gaWQuXG4gICAgICogSWYgbm9kZSB3aXRoIGdpdmVuIGlkIGlzIG5vdCBmb3VuZCBudWxsIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGVJZCByZXF1ZXN0ZWQgbm9kZSBpZGVudGlmaWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiBTZXQgb2YgbGlua3MgZnJvbSBhbmQgdG8gcmVxdWVzdGVkIG5vZGUgaWYgc3VjaCBub2RlIGV4aXN0cztcbiAgICAgKiAgIG90aGVyd2lzZSBudWxsIGlzIHJldHVybmVkLlxuICAgICAqL1xuICAgIGdldExpbmtzOiBnZXRMaW5rcyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgY2FsbGJhY2sgb24gZWFjaCBub2RlIG9mIHRoZSBncmFwaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb24obm9kZSl9IGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGJlIGludm9rZWQuIFRoZSBmdW5jdGlvblxuICAgICAqICAgaXMgcGFzc2VkIG9uZSBhcmd1bWVudDogdmlzaXRlZCBub2RlLlxuICAgICAqL1xuICAgIGZvckVhY2hOb2RlOiBmb3JFYWNoTm9kZSxcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgY2FsbGJhY2sgb24gZXZlcnkgbGlua2VkIChhZGphY2VudCkgbm9kZSB0byB0aGUgZ2l2ZW4gb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5vZGVJZCBJZGVudGlmaWVyIG9mIHRoZSByZXF1ZXN0ZWQgbm9kZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uKG5vZGUsIGxpbmspfSBjYWxsYmFjayBGdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gYWxsIGxpbmtlZCBub2Rlcy5cbiAgICAgKiAgIFRoZSBmdW5jdGlvbiBpcyBwYXNzZWQgdHdvIHBhcmFtZXRlcnM6IGFkamFjZW50IG5vZGUgYW5kIGxpbmsgb2JqZWN0IGl0c2VsZi5cbiAgICAgKiBAcGFyYW0gb3JpZW50ZWQgaWYgdHJ1ZSBncmFwaCB0cmVhdGVkIGFzIG9yaWVudGVkLlxuICAgICAqL1xuICAgIGZvckVhY2hMaW5rZWROb2RlOiBmb3JFYWNoTGlua2VkTm9kZSxcblxuICAgIC8qKlxuICAgICAqIEVudW1lcmF0ZXMgYWxsIGxpbmtzIGluIHRoZSBncmFwaFxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbihsaW5rKX0gY2FsbGJhY2sgRnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGFsbCBsaW5rcyBpbiB0aGUgZ3JhcGguXG4gICAgICogICBUaGUgZnVuY3Rpb24gaXMgcGFzc2VkIG9uZSBwYXJhbWV0ZXI6IGdyYXBoJ3MgbGluayBvYmplY3QuXG4gICAgICpcbiAgICAgKiBMaW5rIG9iamVjdCBjb250YWlucyBhdCBsZWFzdCB0aGUgZm9sbG93aW5nIGZpZWxkczpcbiAgICAgKiAgZnJvbUlkIC0gbm9kZSBpZCB3aGVyZSBsaW5rIHN0YXJ0cztcbiAgICAgKiAgdG9JZCAtIG5vZGUgaWQgd2hlcmUgbGluayBlbmRzLFxuICAgICAqICBkYXRhIC0gYWRkaXRpb25hbCBkYXRhIHBhc3NlZCB0byBncmFwaC5hZGRMaW5rKCkgbWV0aG9kLlxuICAgICAqL1xuICAgIGZvckVhY2hMaW5rOiBmb3JFYWNoTGluayxcblxuICAgIC8qKlxuICAgICAqIFN1c3BlbmQgYWxsIG5vdGlmaWNhdGlvbnMgYWJvdXQgZ3JhcGggY2hhbmdlcyB1bnRpbFxuICAgICAqIGVuZFVwZGF0ZSBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgYmVnaW5VcGRhdGU6IGVudGVyTW9kaWZpY2F0aW9uLFxuXG4gICAgLyoqXG4gICAgICogUmVzdW1lcyBhbGwgbm90aWZpY2F0aW9ucyBhYm91dCBncmFwaCBjaGFuZ2VzIGFuZCBmaXJlc1xuICAgICAqIGdyYXBoICdjaGFuZ2VkJyBldmVudCBpbiBjYXNlIHRoZXJlIGFyZSBhbnkgcGVuZGluZyBjaGFuZ2VzLlxuICAgICAqL1xuICAgIGVuZFVwZGF0ZTogZXhpdE1vZGlmaWNhdGlvbixcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIG5vZGVzIGFuZCBsaW5rcyBmcm9tIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBjbGVhcjogY2xlYXIsXG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIHdoZXRoZXIgdGhlcmUgaXMgYSBsaW5rIGJldHdlZW4gdHdvIG5vZGVzLlxuICAgICAqIE9wZXJhdGlvbiBjb21wbGV4aXR5IGlzIE8obikgd2hlcmUgbiAtIG51bWJlciBvZiBsaW5rcyBvZiBhIG5vZGUuXG4gICAgICogTk9URTogdGhpcyBmdW5jdGlvbiBpcyBzeW5vbnltIGZvciBnZXRMaW5rKClcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGxpbmsgaWYgdGhlcmUgaXMgb25lLiBudWxsIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBoYXNMaW5rOiBnZXRMaW5rLFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyB3aGV0aGVyIHRoZXJlIGlzIGEgbm9kZSB3aXRoIGdpdmVuIGlkXG4gICAgICogXG4gICAgICogT3BlcmF0aW9uIGNvbXBsZXhpdHkgaXMgTygxKVxuICAgICAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gaXMgc3lub255bSBmb3IgZ2V0Tm9kZSgpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBub2RlIGlmIHRoZXJlIGlzIG9uZTsgRmFsc3kgdmFsdWUgb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGhhc05vZGU6IGdldE5vZGUsXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIGVkZ2UgYmV0d2VlbiB0d28gbm9kZXMuXG4gICAgICogT3BlcmF0aW9uIGNvbXBsZXhpdHkgaXMgTyhuKSB3aGVyZSBuIC0gbnVtYmVyIG9mIGxpbmtzIG9mIGEgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcm9tSWQgbGluayBzdGFydCBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvSWQgbGluayBlbmQgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQHJldHVybnMgbGluayBpZiB0aGVyZSBpcyBvbmU7IHVuZGVmaW5lZCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgZ2V0TGluazogZ2V0TGlua1xuICB9O1xuXG4gIC8vIHRoaXMgd2lsbCBhZGQgYG9uKClgIGFuZCBgZmlyZSgpYCBtZXRob2RzLlxuICBldmVudGlmeShncmFwaFBhcnQpO1xuXG4gIG1vbml0b3JTdWJzY3JpYmVycygpO1xuXG4gIHJldHVybiBncmFwaFBhcnQ7XG5cbiAgZnVuY3Rpb24gbW9uaXRvclN1YnNjcmliZXJzKCkge1xuICAgIHZhciByZWFsT24gPSBncmFwaFBhcnQub247XG5cbiAgICAvLyByZXBsYWNlIHJlYWwgYG9uYCB3aXRoIG91ciB0ZW1wb3Jhcnkgb24sIHdoaWNoIHdpbGwgdHJpZ2dlciBjaGFuZ2VcbiAgICAvLyBtb2RpZmljYXRpb24gbW9uaXRvcmluZzpcbiAgICBncmFwaFBhcnQub24gPSBvbjtcblxuICAgIGZ1bmN0aW9uIG9uKCkge1xuICAgICAgLy8gbm93IGl0J3MgdGltZSB0byBzdGFydCB0cmFja2luZyBzdHVmZjpcbiAgICAgIGdyYXBoUGFydC5iZWdpblVwZGF0ZSA9IGVudGVyTW9kaWZpY2F0aW9uID0gZW50ZXJNb2RpZmljYXRpb25SZWFsO1xuICAgICAgZ3JhcGhQYXJ0LmVuZFVwZGF0ZSA9IGV4aXRNb2RpZmljYXRpb24gPSBleGl0TW9kaWZpY2F0aW9uUmVhbDtcbiAgICAgIHJlY29yZExpbmtDaGFuZ2UgPSByZWNvcmRMaW5rQ2hhbmdlUmVhbDtcbiAgICAgIHJlY29yZE5vZGVDaGFuZ2UgPSByZWNvcmROb2RlQ2hhbmdlUmVhbDtcblxuICAgICAgLy8gdGhpcyB3aWxsIHJlcGxhY2UgY3VycmVudCBgb25gIG1ldGhvZCB3aXRoIHJlYWwgcHViL3N1YiBmcm9tIGBldmVudGlmeWAuXG4gICAgICBncmFwaFBhcnQub24gPSByZWFsT247XG4gICAgICAvLyBkZWxlZ2F0ZSB0byByZWFsIGBvbmAgaGFuZGxlcjpcbiAgICAgIHJldHVybiByZWFsT24uYXBwbHkoZ3JhcGhQYXJ0LCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29yZExpbmtDaGFuZ2VSZWFsKGxpbmssIGNoYW5nZVR5cGUpIHtcbiAgICBjaGFuZ2VzLnB1c2goe1xuICAgICAgbGluazogbGluayxcbiAgICAgIGNoYW5nZVR5cGU6IGNoYW5nZVR5cGVcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlY29yZE5vZGVDaGFuZ2VSZWFsKG5vZGUsIGNoYW5nZVR5cGUpIHtcbiAgICBjaGFuZ2VzLnB1c2goe1xuICAgICAgbm9kZTogbm9kZSxcbiAgICAgIGNoYW5nZVR5cGU6IGNoYW5nZVR5cGVcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE5vZGUobm9kZUlkLCBkYXRhKSB7XG4gICAgaWYgKG5vZGVJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbm9kZSBpZGVudGlmaWVyJyk7XG4gICAgfVxuXG4gICAgZW50ZXJNb2RpZmljYXRpb24oKTtcblxuICAgIHZhciBub2RlID0gZ2V0Tm9kZShub2RlSWQpO1xuICAgIGlmICghbm9kZSkge1xuICAgICAgbm9kZSA9IG5ldyBOb2RlKG5vZGVJZCwgZGF0YSk7XG4gICAgICByZWNvcmROb2RlQ2hhbmdlKG5vZGUsICdhZGQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5kYXRhID0gZGF0YTtcbiAgICAgIHJlY29yZE5vZGVDaGFuZ2Uobm9kZSwgJ3VwZGF0ZScpO1xuICAgIH1cblxuICAgIG5vZGVzLnNldChub2RlSWQsIG5vZGUpO1xuXG4gICAgZXhpdE1vZGlmaWNhdGlvbigpO1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZShub2RlSWQpIHtcbiAgICByZXR1cm4gbm9kZXMuZ2V0KG5vZGVJZCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGVJZCkge1xuICAgIHZhciBub2RlID0gZ2V0Tm9kZShub2RlSWQpO1xuICAgIGlmICghbm9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGVudGVyTW9kaWZpY2F0aW9uKCk7XG5cbiAgICB2YXIgcHJldkxpbmtzID0gbm9kZS5saW5rcztcbiAgICBpZiAocHJldkxpbmtzKSB7XG4gICAgICBwcmV2TGlua3MuZm9yRWFjaChyZW1vdmVMaW5rSW5zdGFuY2UpO1xuICAgICAgbm9kZS5saW5rcyA9IG51bGw7XG4gICAgfVxuXG4gICAgbm9kZXMuZGVsZXRlKG5vZGVJZCk7XG5cbiAgICByZWNvcmROb2RlQ2hhbmdlKG5vZGUsICdyZW1vdmUnKTtcblxuICAgIGV4aXRNb2RpZmljYXRpb24oKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICBmdW5jdGlvbiBhZGRMaW5rKGZyb21JZCwgdG9JZCwgZGF0YSkge1xuICAgIGVudGVyTW9kaWZpY2F0aW9uKCk7XG5cbiAgICB2YXIgZnJvbU5vZGUgPSBnZXROb2RlKGZyb21JZCkgfHwgYWRkTm9kZShmcm9tSWQpO1xuICAgIHZhciB0b05vZGUgPSBnZXROb2RlKHRvSWQpIHx8IGFkZE5vZGUodG9JZCk7XG5cbiAgICB2YXIgbGluayA9IGNyZWF0ZUxpbmsoZnJvbUlkLCB0b0lkLCBkYXRhKTtcbiAgICB2YXIgaXNVcGRhdGUgPSBsaW5rcy5oYXMobGluay5pZCk7XG5cbiAgICBsaW5rcy5zZXQobGluay5pZCwgbGluayk7XG5cbiAgICAvLyBUT0RPOiB0aGlzIGlzIG5vdCBjb29sLiBPbiBsYXJnZSBncmFwaHMgcG90ZW50aWFsbHkgd291bGQgY29uc3VtZSBtb3JlIG1lbW9yeS5cbiAgICBhZGRMaW5rVG9Ob2RlKGZyb21Ob2RlLCBsaW5rKTtcbiAgICBpZiAoZnJvbUlkICE9PSB0b0lkKSB7XG4gICAgICAvLyBtYWtlIHN1cmUgd2UgYXJlIG5vdCBkdXBsaWNhdGluZyBsaW5rcyBmb3Igc2VsZi1sb29wc1xuICAgICAgYWRkTGlua1RvTm9kZSh0b05vZGUsIGxpbmspO1xuICAgIH1cblxuICAgIHJlY29yZExpbmtDaGFuZ2UobGluaywgaXNVcGRhdGUgPyAndXBkYXRlJyA6ICdhZGQnKTtcblxuICAgIGV4aXRNb2RpZmljYXRpb24oKTtcblxuICAgIHJldHVybiBsaW5rO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2luZ2xlTGluayhmcm9tSWQsIHRvSWQsIGRhdGEpIHtcbiAgICB2YXIgbGlua0lkID0gbWFrZUxpbmtJZChmcm9tSWQsIHRvSWQpO1xuICAgIHZhciBwcmV2TGluayA9IGxpbmtzLmdldChsaW5rSWQpO1xuICAgIGlmIChwcmV2TGluaykge1xuICAgICAgcHJldkxpbmsuZGF0YSA9IGRhdGE7XG4gICAgICByZXR1cm4gcHJldkxpbms7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBMaW5rKGZyb21JZCwgdG9JZCwgZGF0YSwgbGlua0lkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaXF1ZUxpbmsoZnJvbUlkLCB0b0lkLCBkYXRhKSB7XG4gICAgLy8gVE9ETzogRmluZCBhIGJldHRlci9mYXN0ZXIgd2F5IHRvIHN0b3JlIG11bHRpZ3JhcGhzXG4gICAgdmFyIGxpbmtJZCA9IG1ha2VMaW5rSWQoZnJvbUlkLCB0b0lkKTtcbiAgICB2YXIgaXNNdWx0aUVkZ2UgPSBtdWx0aUVkZ2VzLmhhc093blByb3BlcnR5KGxpbmtJZCk7XG4gICAgaWYgKGlzTXVsdGlFZGdlIHx8IGdldExpbmsoZnJvbUlkLCB0b0lkKSkge1xuICAgICAgaWYgKCFpc011bHRpRWRnZSkge1xuICAgICAgICBtdWx0aUVkZ2VzW2xpbmtJZF0gPSAwO1xuICAgICAgfVxuICAgICAgdmFyIHN1ZmZpeCA9ICdAJyArICgrK211bHRpRWRnZXNbbGlua0lkXSk7XG4gICAgICBsaW5rSWQgPSBtYWtlTGlua0lkKGZyb21JZCArIHN1ZmZpeCwgdG9JZCArIHN1ZmZpeCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBMaW5rKGZyb21JZCwgdG9JZCwgZGF0YSwgbGlua0lkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE5vZGVDb3VudCgpIHtcbiAgICByZXR1cm4gbm9kZXMuc2l6ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpbmtDb3VudCgpIHtcbiAgICByZXR1cm4gbGlua3Muc2l6ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpbmtzKG5vZGVJZCkge1xuICAgIHZhciBub2RlID0gZ2V0Tm9kZShub2RlSWQpO1xuICAgIHJldHVybiBub2RlID8gbm9kZS5saW5rcyA6IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVMaW5rKGxpbmssIG90aGVySWQpIHtcbiAgICBpZiAob3RoZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsaW5rID0gZ2V0TGluayhsaW5rLCBvdGhlcklkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbW92ZUxpbmtJbnN0YW5jZShsaW5rKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUxpbmtJbnN0YW5jZShsaW5rKSB7XG4gICAgaWYgKCFsaW5rKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghbGlua3MuZ2V0KGxpbmsuaWQpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBlbnRlck1vZGlmaWNhdGlvbigpO1xuXG4gICAgbGlua3MuZGVsZXRlKGxpbmsuaWQpO1xuXG4gICAgdmFyIGZyb21Ob2RlID0gZ2V0Tm9kZShsaW5rLmZyb21JZCk7XG4gICAgdmFyIHRvTm9kZSA9IGdldE5vZGUobGluay50b0lkKTtcblxuICAgIGlmIChmcm9tTm9kZSkge1xuICAgICAgZnJvbU5vZGUubGlua3MuZGVsZXRlKGxpbmspO1xuICAgIH1cblxuICAgIGlmICh0b05vZGUpIHtcbiAgICAgIHRvTm9kZS5saW5rcy5kZWxldGUobGluayk7XG4gICAgfVxuXG4gICAgcmVjb3JkTGlua0NoYW5nZShsaW5rLCAncmVtb3ZlJyk7XG5cbiAgICBleGl0TW9kaWZpY2F0aW9uKCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldExpbmsoZnJvbU5vZGVJZCwgdG9Ob2RlSWQpIHtcbiAgICBpZiAoZnJvbU5vZGVJZCA9PT0gdW5kZWZpbmVkIHx8IHRvTm9kZUlkID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGxpbmtzLmdldChtYWtlTGlua0lkKGZyb21Ob2RlSWQsIHRvTm9kZUlkKSk7XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBlbnRlck1vZGlmaWNhdGlvbigpO1xuICAgIGZvckVhY2hOb2RlKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHJlbW92ZU5vZGUobm9kZS5pZCk7XG4gICAgfSk7XG4gICAgZXhpdE1vZGlmaWNhdGlvbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9yRWFjaExpbmsoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgdmFsdWVzSXRlcmF0b3IgPSBsaW5rcy52YWx1ZXMoKTtcbiAgICAgIHZhciBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgICB3aGlsZSAoIW5leHRWYWx1ZS5kb25lKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayhuZXh0VmFsdWUudmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGNsaWVudCBkb2Vzbid0IHdhbnQgdG8gcHJvY2VlZC4gUmV0dXJuLlxuICAgICAgICB9XG4gICAgICAgIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmb3JFYWNoTGlua2VkTm9kZShub2RlSWQsIGNhbGxiYWNrLCBvcmllbnRlZCkge1xuICAgIHZhciBub2RlID0gZ2V0Tm9kZShub2RlSWQpO1xuXG4gICAgaWYgKG5vZGUgJiYgbm9kZS5saW5rcyAmJiB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChvcmllbnRlZCkge1xuICAgICAgICByZXR1cm4gZm9yRWFjaE9yaWVudGVkTGluayhub2RlLmxpbmtzLCBub2RlSWQsIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmb3JFYWNoTm9uT3JpZW50ZWRMaW5rKG5vZGUubGlua3MsIG5vZGVJZCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgZnVuY3Rpb24gZm9yRWFjaE5vbk9yaWVudGVkTGluayhsaW5rcywgbm9kZUlkLCBjYWxsYmFjaykge1xuICAgIHZhciBxdWl0RmFzdDtcblxuICAgIHZhciB2YWx1ZXNJdGVyYXRvciA9IGxpbmtzLnZhbHVlcygpO1xuICAgIHZhciBuZXh0VmFsdWUgPSB2YWx1ZXNJdGVyYXRvci5uZXh0KCk7XG4gICAgd2hpbGUgKCFuZXh0VmFsdWUuZG9uZSkge1xuICAgICAgdmFyIGxpbmsgPSBuZXh0VmFsdWUudmFsdWU7XG4gICAgICB2YXIgbGlua2VkTm9kZUlkID0gbGluay5mcm9tSWQgPT09IG5vZGVJZCA/IGxpbmsudG9JZCA6IGxpbmsuZnJvbUlkO1xuICAgICAgcXVpdEZhc3QgPSBjYWxsYmFjayhub2Rlcy5nZXQobGlua2VkTm9kZUlkKSwgbGluayk7XG4gICAgICBpZiAocXVpdEZhc3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIENsaWVudCBkb2VzIG5vdCBuZWVkIG1vcmUgaXRlcmF0aW9ucy4gQnJlYWsgbm93LlxuICAgICAgfVxuICAgICAgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbiAgZnVuY3Rpb24gZm9yRWFjaE9yaWVudGVkTGluayhsaW5rcywgbm9kZUlkLCBjYWxsYmFjaykge1xuICAgIHZhciBxdWl0RmFzdDtcbiAgICB2YXIgdmFsdWVzSXRlcmF0b3IgPSBsaW5rcy52YWx1ZXMoKTtcbiAgICB2YXIgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgIHdoaWxlICghbmV4dFZhbHVlLmRvbmUpIHtcbiAgICAgIHZhciBsaW5rID0gbmV4dFZhbHVlLnZhbHVlO1xuICAgICAgaWYgKGxpbmsuZnJvbUlkID09PSBub2RlSWQpIHtcbiAgICAgICAgcXVpdEZhc3QgPSBjYWxsYmFjayhub2Rlcy5nZXQobGluay50b0lkKSwgbGluayk7XG4gICAgICAgIGlmIChxdWl0RmFzdCkge1xuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBDbGllbnQgZG9lcyBub3QgbmVlZCBtb3JlIGl0ZXJhdGlvbnMuIEJyZWFrIG5vdy5cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHdlIHdpbGwgbm90IGZpcmUgYW55dGhpbmcgdW50aWwgdXNlcnMgb2YgdGhpcyBsaWJyYXJ5IGV4cGxpY2l0bHkgY2FsbCBgb24oKWBcbiAgLy8gbWV0aG9kLlxuICBmdW5jdGlvbiBub29wKCkge31cblxuICAvLyBFbnRlciwgRXhpdCBtb2RpZmljYXRpb24gYWxsb3dzIGJ1bGsgZ3JhcGggdXBkYXRlcyB3aXRob3V0IGZpcmluZyBldmVudHMuXG4gIGZ1bmN0aW9uIGVudGVyTW9kaWZpY2F0aW9uUmVhbCgpIHtcbiAgICBzdXNwZW5kRXZlbnRzICs9IDE7XG4gIH1cblxuICBmdW5jdGlvbiBleGl0TW9kaWZpY2F0aW9uUmVhbCgpIHtcbiAgICBzdXNwZW5kRXZlbnRzIC09IDE7XG4gICAgaWYgKHN1c3BlbmRFdmVudHMgPT09IDAgJiYgY2hhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICBncmFwaFBhcnQuZmlyZSgnY2hhbmdlZCcsIGNoYW5nZXMpO1xuICAgICAgY2hhbmdlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZvckVhY2hOb2RlKGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBpcyBleHBlY3RlZCB0byBpdGVyYXRlIG92ZXIgZ3JhcGggbm9kZXMuIFlvdSBwYXNzZWQgJyArIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVzSXRlcmF0b3IgPSBub2Rlcy52YWx1ZXMoKTtcbiAgICB2YXIgbmV4dFZhbHVlID0gdmFsdWVzSXRlcmF0b3IubmV4dCgpO1xuICAgIHdoaWxlICghbmV4dFZhbHVlLmRvbmUpIHtcbiAgICAgIGlmIChjYWxsYmFjayhuZXh0VmFsdWUudmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBjbGllbnQgZG9lc24ndCB3YW50IHRvIHByb2NlZWQuIFJldHVybi5cbiAgICAgIH1cbiAgICAgIG5leHRWYWx1ZSA9IHZhbHVlc0l0ZXJhdG9yLm5leHQoKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBzdHJ1Y3R1cmUgdG8gcmVwcmVzZW50IG5vZGU7XG4gKi9cbmZ1bmN0aW9uIE5vZGUoaWQsIGRhdGEpIHtcbiAgdGhpcy5pZCA9IGlkO1xuICB0aGlzLmxpbmtzID0gbnVsbDtcbiAgdGhpcy5kYXRhID0gZGF0YTtcbn1cblxuZnVuY3Rpb24gYWRkTGlua1RvTm9kZShub2RlLCBsaW5rKSB7XG4gIGlmIChub2RlLmxpbmtzKSB7XG4gICAgbm9kZS5saW5rcy5hZGQobGluayk7XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5saW5rcyA9IG5ldyBTZXQoW2xpbmtdKTtcbiAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIHN0cnVjdHVyZSB0byByZXByZXNlbnQgbGlua3M7XG4gKi9cbmZ1bmN0aW9uIExpbmsoZnJvbUlkLCB0b0lkLCBkYXRhLCBpZCkge1xuICB0aGlzLmZyb21JZCA9IGZyb21JZDtcbiAgdGhpcy50b0lkID0gdG9JZDtcbiAgdGhpcy5kYXRhID0gZGF0YTtcbiAgdGhpcy5pZCA9IGlkO1xufVxuXG5mdW5jdGlvbiBtYWtlTGlua0lkKGZyb21JZCwgdG9JZCkge1xuICByZXR1cm4gZnJvbUlkLnRvU3RyaW5nKCkgKyAn8J+RiSAnICsgdG9JZC50b1N0cmluZygpO1xufVxuIiwiLyoqXG4gKiBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW91cm5lci90aW55cXVldWVcbiAqIENvcHlyaWdodCAoYykgMjAxNywgVmxhZGltaXIgQWdhZm9ua2luIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3VybmVyL3RpbnlxdWV1ZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4gKiBcbiAqIEFkYXB0ZWQgZm9yIFBhdGhGaW5kaW5nIG5lZWRzIGJ5IEBhbnZha2FcbiAqIENvcHlyaWdodCAoYykgMjAxNywgQW5kcmVpIEthc2hjaGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBOb2RlSGVhcDtcblxuZnVuY3Rpb24gTm9kZUhlYXAoZGF0YSwgb3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTm9kZUhlYXApKSByZXR1cm4gbmV3IE5vZGVIZWFwKGRhdGEsIG9wdGlvbnMpO1xuXG4gIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgIC8vIGFzc3VtZSBmaXJzdCBhcmd1bWVudCBpcyBvdXIgY29uZmlnIG9iamVjdDtcbiAgICBvcHRpb25zID0gZGF0YTtcbiAgICBkYXRhID0gW107XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB0aGlzLmRhdGEgPSBkYXRhIHx8IFtdO1xuICB0aGlzLmxlbmd0aCA9IHRoaXMuZGF0YS5sZW5ndGg7XG4gIHRoaXMuY29tcGFyZSA9IG9wdGlvbnMuY29tcGFyZSB8fCBkZWZhdWx0Q29tcGFyZTtcbiAgdGhpcy5zZXROb2RlSWQgPSBvcHRpb25zLnNldE5vZGVJZCB8fCBub29wO1xuXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKHZhciBpID0gKHRoaXMubGVuZ3RoID4+IDEpOyBpID49IDA7IGktLSkgdGhpcy5fZG93bihpKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLnNldE5vZGVJZCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgdGhpcy5zZXROb2RlSWQodGhpcy5kYXRhW2ldLCBpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlKGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuXG5Ob2RlSGVhcC5wcm90b3R5cGUgPSB7XG5cbiAgcHVzaDogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB0aGlzLmRhdGEucHVzaChpdGVtKTtcbiAgICB0aGlzLnNldE5vZGVJZChpdGVtLCB0aGlzLmxlbmd0aCk7XG4gICAgdGhpcy5sZW5ndGgrKztcbiAgICB0aGlzLl91cCh0aGlzLmxlbmd0aCAtIDEpO1xuICB9LFxuXG4gIHBvcDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgIHZhciB0b3AgPSB0aGlzLmRhdGFbMF07XG4gICAgdGhpcy5sZW5ndGgtLTtcblxuICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuZGF0YVswXSA9IHRoaXMuZGF0YVt0aGlzLmxlbmd0aF07XG4gICAgICB0aGlzLnNldE5vZGVJZCh0aGlzLmRhdGFbMF0sIDApO1xuICAgICAgdGhpcy5fZG93bigwKTtcbiAgICB9XG4gICAgdGhpcy5kYXRhLnBvcCgpO1xuXG4gICAgcmV0dXJuIHRvcDtcbiAgfSxcblxuICBwZWVrOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVswXTtcbiAgfSxcblxuICB1cGRhdGVJdGVtOiBmdW5jdGlvbiAocG9zKSB7XG4gICAgdGhpcy5fZG93bihwb3MpO1xuICAgIHRoaXMuX3VwKHBvcyk7XG4gIH0sXG5cbiAgX3VwOiBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGNvbXBhcmUgPSB0aGlzLmNvbXBhcmU7XG4gICAgdmFyIHNldE5vZGVJZCA9IHRoaXMuc2V0Tm9kZUlkO1xuICAgIHZhciBpdGVtID0gZGF0YVtwb3NdO1xuXG4gICAgd2hpbGUgKHBvcyA+IDApIHtcbiAgICAgIHZhciBwYXJlbnQgPSAocG9zIC0gMSkgPj4gMTtcbiAgICAgIHZhciBjdXJyZW50ID0gZGF0YVtwYXJlbnRdO1xuICAgICAgaWYgKGNvbXBhcmUoaXRlbSwgY3VycmVudCkgPj0gMCkgYnJlYWs7XG4gICAgICAgIGRhdGFbcG9zXSA9IGN1cnJlbnQ7XG5cbiAgICAgICBzZXROb2RlSWQoY3VycmVudCwgcG9zKTtcbiAgICAgICBwb3MgPSBwYXJlbnQ7XG4gICAgfVxuXG4gICAgZGF0YVtwb3NdID0gaXRlbTtcbiAgICBzZXROb2RlSWQoaXRlbSwgcG9zKTtcbiAgfSxcblxuICBfZG93bjogZnVuY3Rpb24gKHBvcykge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBjb21wYXJlID0gdGhpcy5jb21wYXJlO1xuICAgIHZhciBoYWxmTGVuZ3RoID0gdGhpcy5sZW5ndGggPj4gMTtcbiAgICB2YXIgaXRlbSA9IGRhdGFbcG9zXTtcbiAgICB2YXIgc2V0Tm9kZUlkID0gdGhpcy5zZXROb2RlSWQ7XG5cbiAgICB3aGlsZSAocG9zIDwgaGFsZkxlbmd0aCkge1xuICAgICAgdmFyIGxlZnQgPSAocG9zIDw8IDEpICsgMTtcbiAgICAgIHZhciByaWdodCA9IGxlZnQgKyAxO1xuICAgICAgdmFyIGJlc3QgPSBkYXRhW2xlZnRdO1xuXG4gICAgICBpZiAocmlnaHQgPCB0aGlzLmxlbmd0aCAmJiBjb21wYXJlKGRhdGFbcmlnaHRdLCBiZXN0KSA8IDApIHtcbiAgICAgICAgbGVmdCA9IHJpZ2h0O1xuICAgICAgICBiZXN0ID0gZGF0YVtyaWdodF07XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyZShiZXN0LCBpdGVtKSA+PSAwKSBicmVhaztcblxuICAgICAgZGF0YVtwb3NdID0gYmVzdDtcbiAgICAgIHNldE5vZGVJZChiZXN0LCBwb3MpO1xuICAgICAgcG9zID0gbGVmdDtcbiAgICB9XG5cbiAgICBkYXRhW3Bvc10gPSBpdGVtO1xuICAgIHNldE5vZGVJZChpdGVtLCBwb3MpO1xuICB9XG59OyIsIi8qKlxuICogUGVyZm9ybXMgc3Vib3B0aW1hbCwgZ3JlZWQgQSBTdGFyIHBhdGggZmluZGluZy5cbiAqIFRoaXMgZmluZGVyIGRvZXMgbm90IG5lY2Vzc2FyeSBmaW5kcyB0aGUgc2hvcnRlc3QgcGF0aC4gVGhlIHBhdGhcbiAqIHRoYXQgaXQgZmluZHMgaXMgdmVyeSBjbG9zZSB0byB0aGUgc2hvcnRlc3Qgb25lLiBJdCBpcyB2ZXJ5IGZhc3QgdGhvdWdoLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGFTdGFyQmk7XG5cbnZhciBOb2RlSGVhcCA9IHJlcXVpcmUoJy4vTm9kZUhlYXAnKTtcbnZhciBtYWtlU2VhcmNoU3RhdGVQb29sID0gcmVxdWlyZSgnLi9tYWtlU2VhcmNoU3RhdGVQb29sJyk7XG52YXIgaGV1cmlzdGljcyA9IHJlcXVpcmUoJy4vaGV1cmlzdGljcycpO1xudmFyIGRlZmF1bHRTZXR0aW5ncyA9IHJlcXVpcmUoJy4vZGVmYXVsdFNldHRpbmdzJyk7XG5cbnZhciBCWV9GUk9NID0gMTtcbnZhciBCWV9UTyA9IDI7XG52YXIgTk9fUEFUSCA9IGRlZmF1bHRTZXR0aW5ncy5OT19QQVRIO1xuXG5tb2R1bGUuZXhwb3J0cy5sMiA9IGhldXJpc3RpY3MubDI7XG5tb2R1bGUuZXhwb3J0cy5sMSA9IGhldXJpc3RpY3MubDE7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBwYXRoZmluZGVyLiBBIHBhdGhmaW5kZXIgaGFzIGp1c3Qgb25lIG1ldGhvZDpcbiAqIGBmaW5kKGZyb21JZCwgdG9JZClgLCBpdCBtYXkgYmUgZXh0ZW5kZWQgaW4gZnV0dXJlLlxuICogXG4gKiBOT1RFOiBBbGdvcml0aG0gaW1wbGVtZW50ZWQgaW4gdGhpcyBjb2RlIERPRVMgTk9UIGZpbmQgb3B0aW1hbCBwYXRoLlxuICogWWV0IHRoZSBwYXRoIHRoYXQgaXQgZmluZHMgaXMgYWx3YXlzIG5lYXIgb3B0aW1hbCwgYW5kIGl0IGZpbmRzIGl0IHZlcnkgZmFzdC5cbiAqIFxuICogQHBhcmFtIHtuZ3JhcGguZ3JhcGh9IGdyYXBoIGluc3RhbmNlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FudmFrYS9uZ3JhcGguZ3JhcGhcbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgdGhhdCBjb25maWd1cmVzIHNlYXJjaFxuICogQHBhcmFtIHtGdW5jdGlvbihhLCBiKX0gb3B0aW9ucy5oZXVyaXN0aWMgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBlc3RpbWF0ZWQgZGlzdGFuY2UgYmV0d2VlblxuICogbm9kZXMgYGFgIGFuZCBgYmAuICBEZWZhdWx0cyBmdW5jdGlvbiByZXR1cm5zIDAsIHdoaWNoIG1ha2VzIHRoaXMgc2VhcmNoIGVxdWl2YWxlbnQgdG8gRGlqa3N0cmEgc2VhcmNoLlxuICogQHBhcmFtIHtGdW5jdGlvbihhLCBiKX0gb3B0aW9ucy5kaXN0YW5jZSAtIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFjdHVhbCBkaXN0YW5jZSBiZXR3ZWVuIHR3b1xuICogbm9kZXMgYGFgIGFuZCBgYmAuIEJ5IGRlZmF1bHQgdGhpcyBpcyBzZXQgdG8gcmV0dXJuIGdyYXBoLXRoZW9yZXRpY2FsIGRpc3RhbmNlIChhbHdheXMgMSk7XG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMub3JpZW50ZWQgLSB3aGV0aGVyIGdyYXBoIHNob3VsZCBiZSBjb25zaWRlcmVkIG9yaWVudGVkIG9yIG5vdC5cbiAqIFxuICogQHJldHVybnMge09iamVjdH0gQSBwYXRoZmluZGVyIHdpdGggc2luZ2xlIG1ldGhvZCBgZmluZCgpYC5cbiAqL1xuZnVuY3Rpb24gYVN0YXJCaShncmFwaCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgLy8gd2hldGhlciB0cmF2ZXJzYWwgc2hvdWxkIGJlIGNvbnNpZGVyZWQgb3ZlciBvcmllbnRlZCBncmFwaC5cbiAgdmFyIG9yaWVudGVkID0gb3B0aW9ucy5vcmllbnRlZDtcblxuICB2YXIgaGV1cmlzdGljID0gb3B0aW9ucy5oZXVyaXN0aWM7XG4gIGlmICghaGV1cmlzdGljKSBoZXVyaXN0aWMgPSBkZWZhdWx0U2V0dGluZ3MuaGV1cmlzdGljO1xuXG4gIHZhciBkaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2U7XG4gIGlmICghZGlzdGFuY2UpIGRpc3RhbmNlID0gZGVmYXVsdFNldHRpbmdzLmRpc3RhbmNlO1xuICB2YXIgcG9vbCA9IG1ha2VTZWFyY2hTdGF0ZVBvb2woKTtcblxuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZpbmRcbiAgfTtcblxuICBmdW5jdGlvbiBmaW5kKGZyb21JZCwgdG9JZCkge1xuICAgIC8vIE5vdCBzdXJlIGlmIHdlIHNob3VsZCByZXR1cm4gTk9fUEFUSCBvciB0aHJvdy4gVGhyb3cgc2VlbSB0byBiZSBtb3JlXG4gICAgLy8gaGVscGZ1bCB0byBkZWJ1ZyBlcnJvcnMuIFNvLCB0aHJvd2luZy5cbiAgICB2YXIgZnJvbSA9IGdyYXBoLmdldE5vZGUoZnJvbUlkKTtcbiAgICBpZiAoIWZyb20pIHRocm93IG5ldyBFcnJvcignZnJvbUlkIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgZ3JhcGg6ICcgKyBmcm9tSWQpO1xuICAgIHZhciB0byA9IGdyYXBoLmdldE5vZGUodG9JZCk7XG4gICAgaWYgKCF0bykgdGhyb3cgbmV3IEVycm9yKCd0b0lkIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgZ3JhcGg6ICcgKyB0b0lkKTtcblxuICAgIGlmIChmcm9tID09PSB0bykgcmV0dXJuIFtmcm9tXTsgLy8gdHJpdmlhbCBjYXNlLlxuXG4gICAgcG9vbC5yZXNldCgpO1xuXG4gICAgdmFyIGNhbGxWaXNpdG9yID0gb3JpZW50ZWQgPyBvcmllbnRlZFZpc2l0b3IgOiBub25PcmllbnRlZFZpc2l0b3I7XG5cbiAgICAvLyBNYXBzIG5vZGVJZCB0byBOb2RlU2VhcmNoU3RhdGUuXG4gICAgdmFyIG5vZGVTdGF0ZSA9IG5ldyBNYXAoKTtcblxuICAgIHZhciBvcGVuU2V0RnJvbSA9IG5ldyBOb2RlSGVhcCh7XG4gICAgICBjb21wYXJlOiBkZWZhdWx0U2V0dGluZ3MuY29tcGFyZUZTY29yZSxcbiAgICAgIHNldE5vZGVJZDogZGVmYXVsdFNldHRpbmdzLnNldEhlYXBJbmRleFxuICAgIH0pO1xuXG4gICAgdmFyIG9wZW5TZXRUbyA9IG5ldyBOb2RlSGVhcCh7XG4gICAgICBjb21wYXJlOiBkZWZhdWx0U2V0dGluZ3MuY29tcGFyZUZTY29yZSxcbiAgICAgIHNldE5vZGVJZDogZGVmYXVsdFNldHRpbmdzLnNldEhlYXBJbmRleFxuICAgIH0pO1xuXG5cbiAgICB2YXIgc3RhcnROb2RlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZShmcm9tKTtcbiAgICBub2RlU3RhdGUuc2V0KGZyb21JZCwgc3RhcnROb2RlKTtcblxuICAgIC8vIEZvciB0aGUgZmlyc3Qgbm9kZSwgZlNjb3JlIGlzIGNvbXBsZXRlbHkgaGV1cmlzdGljLlxuICAgIHN0YXJ0Tm9kZS5mU2NvcmUgPSBoZXVyaXN0aWMoZnJvbSwgdG8pO1xuICAgIC8vIFRoZSBjb3N0IG9mIGdvaW5nIGZyb20gc3RhcnQgdG8gc3RhcnQgaXMgemVyby5cbiAgICBzdGFydE5vZGUuZGlzdGFuY2VUb1NvdXJjZSA9IDA7XG4gICAgb3BlblNldEZyb20ucHVzaChzdGFydE5vZGUpO1xuICAgIHN0YXJ0Tm9kZS5vcGVuID0gQllfRlJPTTtcblxuICAgIHZhciBlbmROb2RlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZSh0byk7XG4gICAgZW5kTm9kZS5mU2NvcmUgPSBoZXVyaXN0aWModG8sIGZyb20pO1xuICAgIGVuZE5vZGUuZGlzdGFuY2VUb1NvdXJjZSA9IDA7XG4gICAgb3BlblNldFRvLnB1c2goZW5kTm9kZSk7XG4gICAgZW5kTm9kZS5vcGVuID0gQllfVE87XG5cbiAgICAvLyBDb3N0IG9mIHRoZSBiZXN0IHNvbHV0aW9uIGZvdW5kIHNvIGZhci4gVXNlZCBmb3IgYWNjdXJhdGUgdGVybWluYXRpb25cbiAgICB2YXIgbE1pbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB2YXIgbWluRnJvbTtcbiAgICB2YXIgbWluVG87XG5cbiAgICB2YXIgY3VycmVudFNldCA9IG9wZW5TZXRGcm9tO1xuICAgIHZhciBjdXJyZW50T3BlbmVyID0gQllfRlJPTTtcblxuICAgIHdoaWxlIChvcGVuU2V0RnJvbS5sZW5ndGggPiAwICYmIG9wZW5TZXRUby5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAob3BlblNldEZyb20ubGVuZ3RoIDwgb3BlblNldFRvLmxlbmd0aCkge1xuICAgICAgICAvLyB3ZSBwaWNrIGEgc2V0IHdpdGggbGVzcyBlbGVtZW50c1xuICAgICAgICBjdXJyZW50T3BlbmVyID0gQllfRlJPTTtcbiAgICAgICAgY3VycmVudFNldCA9IG9wZW5TZXRGcm9tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudE9wZW5lciA9IEJZX1RPO1xuICAgICAgICBjdXJyZW50U2V0ID0gb3BlblNldFRvO1xuICAgICAgfVxuXG4gICAgICB2YXIgY3VycmVudCA9IGN1cnJlbnRTZXQucG9wKCk7XG5cbiAgICAgIC8vIG5vIG5lZWQgdG8gdmlzaXQgdGhpcyBub2RlIGFueW1vcmVcbiAgICAgIGN1cnJlbnQuY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgaWYgKGN1cnJlbnQuZGlzdGFuY2VUb1NvdXJjZSA+IGxNaW4pIGNvbnRpbnVlO1xuXG4gICAgICBncmFwaC5mb3JFYWNoTGlua2VkTm9kZShjdXJyZW50Lm5vZGUuaWQsIGNhbGxWaXNpdG9yKTtcblxuICAgICAgaWYgKG1pbkZyb20gJiYgbWluVG8pIHtcbiAgICAgICAgLy8gVGhpcyBpcyBub3QgbmVjZXNzYXJ5IHRoZSBiZXN0IHBhdGgsIGJ1dCB3ZSBhcmUgc28gZ3JlZWR5IHRoYXQgd2VcbiAgICAgICAgLy8gY2FuJ3QgcmVzaXN0OlxuICAgICAgICByZXR1cm4gcmVjb25zdHJ1Y3RCaURpcmVjdGlvbmFsUGF0aChtaW5Gcm9tLCBtaW5Ubyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5PX1BBVEg7IC8vIE5vIHBhdGguXG5cbiAgICBmdW5jdGlvbiBub25PcmllbnRlZFZpc2l0b3Iob3RoZXJOb2RlLCBsaW5rKSB7XG4gICAgICByZXR1cm4gdmlzaXROb2RlKG90aGVyTm9kZSwgbGluaywgY3VycmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3JpZW50ZWRWaXNpdG9yKG90aGVyTm9kZSwgbGluaykge1xuICAgICAgLy8gRm9yIG9yaXRuZWQgZ3JhcGhzIHdlIG5lZWQgdG8gcmV2ZXJzZSBncmFwaCwgd2hlbiB0cmF2ZWxpbmdcbiAgICAgIC8vIGJhY2t3YXJkcy4gU28sIHdlIHVzZSBub24tb3JpZW50ZWQgbmdyYXBoJ3MgdHJhdmVyc2FsLCBhbmQgXG4gICAgICAvLyBmaWx0ZXIgbGluayBvcmllbnRhdGlvbiBoZXJlLlxuICAgICAgaWYgKGN1cnJlbnRPcGVuZXIgPT09IEJZX0ZST00pIHtcbiAgICAgICAgaWYgKGxpbmsuZnJvbUlkID09PSBjdXJyZW50Lm5vZGUuaWQpIHJldHVybiB2aXNpdE5vZGUob3RoZXJOb2RlLCBsaW5rLCBjdXJyZW50KVxuICAgICAgfSBlbHNlIGlmIChjdXJyZW50T3BlbmVyID09PSBCWV9UTykge1xuICAgICAgICBpZiAobGluay50b0lkID09PSBjdXJyZW50Lm5vZGUuaWQpIHJldHVybiB2aXNpdE5vZGUob3RoZXJOb2RlLCBsaW5rLCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5FeGl0KGN1cnJlbnROb2RlKSB7XG4gICAgICB2YXIgb3BlbmVyID0gY3VycmVudE5vZGUub3BlblxuICAgICAgaWYgKG9wZW5lciAmJiBvcGVuZXIgIT09IGN1cnJlbnRPcGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWNvbnN0cnVjdEJpRGlyZWN0aW9uYWxQYXRoKGEsIGIpIHtcbiAgICAgIHZhciBwYXRoT2ZOb2RlcyA9IFtdO1xuICAgICAgdmFyIGFQYXJlbnQgPSBhO1xuICAgICAgd2hpbGUoYVBhcmVudCkge1xuICAgICAgICBwYXRoT2ZOb2Rlcy5wdXNoKGFQYXJlbnQubm9kZSk7XG4gICAgICAgIGFQYXJlbnQgPSBhUGFyZW50LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIHZhciBiUGFyZW50ID0gYjtcbiAgICAgIHdoaWxlIChiUGFyZW50KSB7XG4gICAgICAgIHBhdGhPZk5vZGVzLnVuc2hpZnQoYlBhcmVudC5ub2RlKTtcbiAgICAgICAgYlBhcmVudCA9IGJQYXJlbnQucGFyZW50XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0aE9mTm9kZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlzaXROb2RlKG90aGVyTm9kZSwgbGluaywgY2FtZUZyb20pIHtcbiAgICAgIHZhciBvdGhlclNlYXJjaFN0YXRlID0gbm9kZVN0YXRlLmdldChvdGhlck5vZGUuaWQpO1xuICAgICAgaWYgKCFvdGhlclNlYXJjaFN0YXRlKSB7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUgPSBwb29sLmNyZWF0ZU5ld1N0YXRlKG90aGVyTm9kZSk7XG4gICAgICAgIG5vZGVTdGF0ZS5zZXQob3RoZXJOb2RlLmlkLCBvdGhlclNlYXJjaFN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG90aGVyU2VhcmNoU3RhdGUuY2xvc2VkKSB7XG4gICAgICAgIC8vIEFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgbm9kZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FuRXhpdChvdGhlclNlYXJjaFN0YXRlLCBjYW1lRnJvbSkpIHtcbiAgICAgICAgLy8gdGhpcyBub2RlIHdhcyBvcGVuZWQgYnkgYWx0ZXJuYXRpdmUgb3BlbmVyLiBUaGUgc2V0cyBpbnRlcnNlY3Qgbm93LFxuICAgICAgICAvLyB3ZSBmb3VuZCBhbiBvcHRpbWFsIHBhdGgsIHRoYXQgZ29lcyB0aHJvdWdoICp0aGlzKiBub2RlLiBIb3dldmVyLCB0aGVyZVxuICAgICAgICAvLyBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGlzIGlzIHRoZSBnbG9iYWwgb3B0aW1hbCBzb2x1dGlvbiBwYXRoLlxuXG4gICAgICAgIHZhciBwb3RlbnRpYWxMTWluID0gb3RoZXJTZWFyY2hTdGF0ZS5kaXN0YW5jZVRvU291cmNlICsgY2FtZUZyb20uZGlzdGFuY2VUb1NvdXJjZTtcbiAgICAgICAgaWYgKHBvdGVudGlhbExNaW4gPCBsTWluKSB7XG4gICAgICAgICAgbWluRnJvbSA9IG90aGVyU2VhcmNoU3RhdGU7XG4gICAgICAgICAgbWluVG8gPSBjYW1lRnJvbVxuICAgICAgICAgIGxNaW4gPSBwb3RlbnRpYWxMTWluO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGFyZSBkb25lIHdpdGggdGhpcyBub2RlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB0ZW50YXRpdmVEaXN0YW5jZSA9IGNhbWVGcm9tLmRpc3RhbmNlVG9Tb3VyY2UgKyBkaXN0YW5jZShvdGhlclNlYXJjaFN0YXRlLm5vZGUsIGNhbWVGcm9tLm5vZGUsIGxpbmspO1xuXG4gICAgICBpZiAodGVudGF0aXZlRGlzdGFuY2UgPj0gb3RoZXJTZWFyY2hTdGF0ZS5kaXN0YW5jZVRvU291cmNlKSB7XG4gICAgICAgIC8vIFRoaXMgd291bGQgb25seSBtYWtlIG91ciBwYXRoIGxvbmdlci4gSWdub3JlIHRoaXMgcm91dGUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hvb3NlIHRhcmdldCBiYXNlZCBvbiBjdXJyZW50IHdvcmtpbmcgc2V0OlxuICAgICAgdmFyIHRhcmdldCA9IChjdXJyZW50T3BlbmVyID09PSBCWV9GUk9NKSA/IHRvIDogZnJvbTtcbiAgICAgIHZhciBuZXdGU2NvcmUgPSB0ZW50YXRpdmVEaXN0YW5jZSArIGhldXJpc3RpYyhvdGhlclNlYXJjaFN0YXRlLm5vZGUsIHRhcmdldCk7XG4gICAgICBpZiAobmV3RlNjb3JlID49IGxNaW4pIHtcbiAgICAgICAgLy8gdGhpcyBjYW4ndCBiZSBvcHRpbWFsIHBhdGgsIGFzIHdlIGhhdmUgYWxyZWFkeSBmb3VuZCBhIHNob3J0ZXIgcGF0aC5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5mU2NvcmUgPSBuZXdGU2NvcmU7XG5cbiAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLm9wZW4gPT09IDApIHtcbiAgICAgICAgLy8gUmVtZW1iZXIgdGhpcyBub2RlIGluIHRoZSBjdXJyZW50IHNldFxuICAgICAgICBjdXJyZW50U2V0LnB1c2gob3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICAgIGN1cnJlbnRTZXQudXBkYXRlSXRlbShvdGhlclNlYXJjaFN0YXRlLmhlYXBJbmRleCk7XG5cbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5vcGVuID0gY3VycmVudE9wZW5lcjtcbiAgICAgIH1cblxuICAgICAgLy8gYmluZ28hIHdlIGZvdW5kIHNob3J0ZXIgcGF0aDpcbiAgICAgIG90aGVyU2VhcmNoU3RhdGUucGFyZW50ID0gY2FtZUZyb207XG4gICAgICBvdGhlclNlYXJjaFN0YXRlLmRpc3RhbmNlVG9Tb3VyY2UgPSB0ZW50YXRpdmVEaXN0YW5jZTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogUGVyZm9ybXMgYSB1bmktZGlyZWN0aW9uYWwgQSBTdGFyIHNlYXJjaCBvbiBncmFwaC5cbiAqIFxuICogV2Ugd2lsbCB0cnkgdG8gbWluaW1pemUgZihuKSA9IGcobikgKyBoKG4pLCB3aGVyZVxuICogZyhuKSBpcyBhY3R1YWwgZGlzdGFuY2UgZnJvbSBzb3VyY2Ugbm9kZSB0byBgbmAsIGFuZFxuICogaChuKSBpcyBoZXVyaXN0aWMgZGlzdGFuY2UgZnJvbSBgbmAgdG8gdGFyZ2V0IG5vZGUuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gYVN0YXJQYXRoU2VhcmNoO1xuXG52YXIgTm9kZUhlYXAgPSByZXF1aXJlKCcuL05vZGVIZWFwJyk7XG52YXIgbWFrZVNlYXJjaFN0YXRlUG9vbCA9IHJlcXVpcmUoJy4vbWFrZVNlYXJjaFN0YXRlUG9vbCcpO1xudmFyIGhldXJpc3RpY3MgPSByZXF1aXJlKCcuL2hldXJpc3RpY3MnKTtcbnZhciBkZWZhdWx0U2V0dGluZ3MgPSByZXF1aXJlKCcuL2RlZmF1bHRTZXR0aW5ncy5qcycpO1xuXG52YXIgTk9fUEFUSCA9IGRlZmF1bHRTZXR0aW5ncy5OT19QQVRIO1xuXG5tb2R1bGUuZXhwb3J0cy5sMiA9IGhldXJpc3RpY3MubDI7XG5tb2R1bGUuZXhwb3J0cy5sMSA9IGhldXJpc3RpY3MubDE7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiBwYXRoZmluZGVyLiBBIHBhdGhmaW5kZXIgaGFzIGp1c3Qgb25lIG1ldGhvZDpcbiAqIGBmaW5kKGZyb21JZCwgdG9JZClgLCBpdCBtYXkgYmUgZXh0ZW5kZWQgaW4gZnV0dXJlLlxuICogXG4gKiBAcGFyYW0ge25ncmFwaC5ncmFwaH0gZ3JhcGggaW5zdGFuY2UuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW52YWthL25ncmFwaC5ncmFwaFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgdGhhdCBjb25maWd1cmVzIHNlYXJjaFxuICogQHBhcmFtIHtGdW5jdGlvbihhLCBiKX0gb3B0aW9ucy5oZXVyaXN0aWMgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBlc3RpbWF0ZWQgZGlzdGFuY2UgYmV0d2VlblxuICogbm9kZXMgYGFgIGFuZCBgYmAuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5ldmVyIG92ZXJlc3RpbWF0ZSBhY3R1YWwgZGlzdGFuY2UgYmV0d2VlbiB0d29cbiAqIG5vZGVzIChvdGhlcndpc2UgdGhlIGZvdW5kIHBhdGggd2lsbCBub3QgYmUgdGhlIHNob3J0ZXN0KS4gRGVmYXVsdHMgZnVuY3Rpb24gcmV0dXJucyAwLFxuICogd2hpY2ggbWFrZXMgdGhpcyBzZWFyY2ggZXF1aXZhbGVudCB0byBEaWprc3RyYSBzZWFyY2guXG4gKiBAcGFyYW0ge0Z1bmN0aW9uKGEsIGIpfSBvcHRpb25zLmRpc3RhbmNlIC0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYWN0dWFsIGRpc3RhbmNlIGJldHdlZW4gdHdvXG4gKiBub2RlcyBgYWAgYW5kIGBiYC4gQnkgZGVmYXVsdCB0aGlzIGlzIHNldCB0byByZXR1cm4gZ3JhcGgtdGhlb3JldGljYWwgZGlzdGFuY2UgKGFsd2F5cyAxKTtcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb3B0aW9ucy5vcmllbnRlZCAtIHdoZXRoZXIgZ3JhcGggc2hvdWxkIGJlIGNvbnNpZGVyZWQgb3JpZW50ZWQgb3Igbm90LlxuICogXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBIHBhdGhmaW5kZXIgd2l0aCBzaW5nbGUgbWV0aG9kIGBmaW5kKClgLlxuICovXG5mdW5jdGlvbiBhU3RhclBhdGhTZWFyY2goZ3JhcGgsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIC8vIHdoZXRoZXIgdHJhdmVyc2FsIHNob3VsZCBiZSBjb25zaWRlcmVkIG92ZXIgb3JpZW50ZWQgZ3JhcGguXG4gIHZhciBvcmllbnRlZCA9IG9wdGlvbnMub3JpZW50ZWQ7XG5cbiAgdmFyIGhldXJpc3RpYyA9IG9wdGlvbnMuaGV1cmlzdGljO1xuICBpZiAoIWhldXJpc3RpYykgaGV1cmlzdGljID0gZGVmYXVsdFNldHRpbmdzLmhldXJpc3RpYztcblxuICB2YXIgZGlzdGFuY2UgPSBvcHRpb25zLmRpc3RhbmNlO1xuICBpZiAoIWRpc3RhbmNlKSBkaXN0YW5jZSA9IGRlZmF1bHRTZXR0aW5ncy5kaXN0YW5jZTtcbiAgdmFyIHBvb2wgPSBtYWtlU2VhcmNoU3RhdGVQb29sKCk7XG5cbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBGaW5kcyBhIHBhdGggYmV0d2VlbiBub2RlIGBmcm9tSWRgIGFuZCBgdG9JZGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBvZiBub2RlcyBiZXR3ZWVuIGB0b0lkYCBhbmQgYGZyb21JZGAuIEVtcHR5IGFycmF5IGlzIHJldHVybmVkXG4gICAgICogaWYgbm8gcGF0aCBpcyBmb3VuZC5cbiAgICAgKi9cbiAgICBmaW5kOiBmaW5kXG4gIH07XG5cbiAgZnVuY3Rpb24gZmluZChmcm9tSWQsIHRvSWQpIHtcbiAgICB2YXIgZnJvbSA9IGdyYXBoLmdldE5vZGUoZnJvbUlkKTtcbiAgICBpZiAoIWZyb20pIHRocm93IG5ldyBFcnJvcignZnJvbUlkIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgZ3JhcGg6ICcgKyBmcm9tSWQpO1xuICAgIHZhciB0byA9IGdyYXBoLmdldE5vZGUodG9JZCk7XG4gICAgaWYgKCF0bykgdGhyb3cgbmV3IEVycm9yKCd0b0lkIGlzIG5vdCBkZWZpbmVkIGluIHRoaXMgZ3JhcGg6ICcgKyB0b0lkKTtcbiAgICBwb29sLnJlc2V0KCk7XG5cbiAgICAvLyBNYXBzIG5vZGVJZCB0byBOb2RlU2VhcmNoU3RhdGUuXG4gICAgdmFyIG5vZGVTdGF0ZSA9IG5ldyBNYXAoKTtcblxuICAgIC8vIHRoZSBub2RlcyB0aGF0IHdlIHN0aWxsIG5lZWQgdG8gZXZhbHVhdGVcbiAgICB2YXIgb3BlblNldCA9IG5ldyBOb2RlSGVhcCh7XG4gICAgICBjb21wYXJlOiBkZWZhdWx0U2V0dGluZ3MuY29tcGFyZUZTY29yZSxcbiAgICAgIHNldE5vZGVJZDogZGVmYXVsdFNldHRpbmdzLnNldEhlYXBJbmRleFxuICAgIH0pO1xuXG4gICAgdmFyIHN0YXJ0Tm9kZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUoZnJvbSk7XG4gICAgbm9kZVN0YXRlLnNldChmcm9tSWQsIHN0YXJ0Tm9kZSk7XG5cbiAgICAvLyBGb3IgdGhlIGZpcnN0IG5vZGUsIGZTY29yZSBpcyBjb21wbGV0ZWx5IGhldXJpc3RpYy5cbiAgICBzdGFydE5vZGUuZlNjb3JlID0gaGV1cmlzdGljKGZyb20sIHRvKTtcblxuICAgIC8vIFRoZSBjb3N0IG9mIGdvaW5nIGZyb20gc3RhcnQgdG8gc3RhcnQgaXMgemVyby5cbiAgICBzdGFydE5vZGUuZGlzdGFuY2VUb1NvdXJjZSA9IDA7XG4gICAgb3BlblNldC5wdXNoKHN0YXJ0Tm9kZSk7XG4gICAgc3RhcnROb2RlLm9wZW4gPSAxO1xuXG4gICAgdmFyIGNhbWVGcm9tO1xuXG4gICAgd2hpbGUgKG9wZW5TZXQubGVuZ3RoID4gMCkge1xuICAgICAgY2FtZUZyb20gPSBvcGVuU2V0LnBvcCgpO1xuICAgICAgaWYgKGdvYWxSZWFjaGVkKGNhbWVGcm9tLCB0bykpIHJldHVybiByZWNvbnN0cnVjdFBhdGgoY2FtZUZyb20pO1xuXG4gICAgICAvLyBubyBuZWVkIHRvIHZpc2l0IHRoaXMgbm9kZSBhbnltb3JlXG4gICAgICBjYW1lRnJvbS5jbG9zZWQgPSB0cnVlO1xuICAgICAgZ3JhcGguZm9yRWFjaExpbmtlZE5vZGUoY2FtZUZyb20ubm9kZS5pZCwgdmlzaXROZWlnaGJvdXIsIG9yaWVudGVkKTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBnb3QgaGVyZSwgdGhlbiB0aGVyZSBpcyBubyBwYXRoLlxuICAgIHJldHVybiBOT19QQVRIO1xuXG4gICAgZnVuY3Rpb24gdmlzaXROZWlnaGJvdXIob3RoZXJOb2RlLCBsaW5rKSB7XG4gICAgICB2YXIgb3RoZXJTZWFyY2hTdGF0ZSA9IG5vZGVTdGF0ZS5nZXQob3RoZXJOb2RlLmlkKTtcbiAgICAgIGlmICghb3RoZXJTZWFyY2hTdGF0ZSkge1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZShvdGhlck5vZGUpO1xuICAgICAgICBub2RlU3RhdGUuc2V0KG90aGVyTm9kZS5pZCwgb3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLmNsb3NlZCkge1xuICAgICAgICAvLyBBbHJlYWR5IHByb2Nlc3NlZCB0aGlzIG5vZGUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLm9wZW4gPT09IDApIHtcbiAgICAgICAgLy8gUmVtZW1iZXIgdGhpcyBub2RlLlxuICAgICAgICBvcGVuU2V0LnB1c2gob3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUub3BlbiA9IDE7XG4gICAgICB9XG5cbiAgICAgIHZhciB0ZW50YXRpdmVEaXN0YW5jZSA9IGNhbWVGcm9tLmRpc3RhbmNlVG9Tb3VyY2UgKyBkaXN0YW5jZShvdGhlck5vZGUsIGNhbWVGcm9tLm5vZGUsIGxpbmspO1xuICAgICAgaWYgKHRlbnRhdGl2ZURpc3RhbmNlID49IG90aGVyU2VhcmNoU3RhdGUuZGlzdGFuY2VUb1NvdXJjZSkge1xuICAgICAgICAvLyBUaGlzIHdvdWxkIG9ubHkgbWFrZSBvdXIgcGF0aCBsb25nZXIuIElnbm9yZSB0aGlzIHJvdXRlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIGJpbmdvISB3ZSBmb3VuZCBzaG9ydGVyIHBhdGg6XG4gICAgICBvdGhlclNlYXJjaFN0YXRlLnBhcmVudCA9IGNhbWVGcm9tO1xuICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5kaXN0YW5jZVRvU291cmNlID0gdGVudGF0aXZlRGlzdGFuY2U7XG4gICAgICBvdGhlclNlYXJjaFN0YXRlLmZTY29yZSA9IHRlbnRhdGl2ZURpc3RhbmNlICsgaGV1cmlzdGljKG90aGVyU2VhcmNoU3RhdGUubm9kZSwgdG8pO1xuXG4gICAgICBvcGVuU2V0LnVwZGF0ZUl0ZW0ob3RoZXJTZWFyY2hTdGF0ZS5oZWFwSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnb2FsUmVhY2hlZChzZWFyY2hTdGF0ZSwgdGFyZ2V0Tm9kZSkge1xuICByZXR1cm4gc2VhcmNoU3RhdGUubm9kZSA9PT0gdGFyZ2V0Tm9kZTtcbn1cblxuZnVuY3Rpb24gcmVjb25zdHJ1Y3RQYXRoKHNlYXJjaFN0YXRlKSB7XG4gIHZhciBwYXRoID0gW3NlYXJjaFN0YXRlLm5vZGVdO1xuICB2YXIgcGFyZW50ID0gc2VhcmNoU3RhdGUucGFyZW50O1xuXG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBwYXRoLnB1c2gocGFyZW50Lm5vZGUpO1xuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gcGF0aDtcbn1cbiIsIi8vIFdlIHJldXNlIGluc3RhbmNlIG9mIGFycmF5LCBidXQgd2UgdHJpZSB0byBmcmVlemUgaXQgYXMgd2VsbCxcbi8vIHNvIHRoYXQgY29uc3VtZXJzIGRvbid0IG1vZGlmeSBpdC4gTWF5YmUgaXQncyBhIGJhZCBpZGVhLlxudmFyIE5PX1BBVEggPSBbXTtcbmlmICh0eXBlb2YgT2JqZWN0LmZyZWV6ZSA9PT0gJ2Z1bmN0aW9uJykgT2JqZWN0LmZyZWV6ZShOT19QQVRIKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIFBhdGggc2VhcmNoIHNldHRpbmdzXG4gIGhldXJpc3RpYzogYmxpbmRIZXVyaXN0aWMsXG4gIGRpc3RhbmNlOiBjb25zdGFudERpc3RhbmNlLFxuICBjb21wYXJlRlNjb3JlOiBjb21wYXJlRlNjb3JlLFxuICBOT19QQVRIOiBOT19QQVRILFxuXG4gIC8vIGhlYXAgc2V0dGluZ3NcbiAgc2V0SGVhcEluZGV4OiBzZXRIZWFwSW5kZXgsXG5cbiAgLy8gbmJhOlxuICBzZXRIMTogc2V0SDEsXG4gIHNldEgyOiBzZXRIMixcbiAgY29tcGFyZUYxU2NvcmU6IGNvbXBhcmVGMVNjb3JlLFxuICBjb21wYXJlRjJTY29yZTogY29tcGFyZUYyU2NvcmUsXG59XG5cbmZ1bmN0aW9uIGJsaW5kSGV1cmlzdGljKC8qIGEsIGIgKi8pIHtcbiAgLy8gYmxpbmQgaGV1cmlzdGljIG1ha2VzIHRoaXMgc2VhcmNoIGVxdWFsIHRvIHBsYWluIERpamtzdHJhIHBhdGggc2VhcmNoLlxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gY29uc3RhbnREaXN0YW5jZSgvKiBhLCBiICovKSB7XG4gIHJldHVybiAxO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlRlNjb3JlKGEsIGIpIHtcbiAgdmFyIHJlc3VsdCA9IGEuZlNjb3JlIC0gYi5mU2NvcmU7XG4gIC8vIFRPRE86IENhbiBJIGltcHJvdmUgc3BlZWQgd2l0aCBzbWFydGVyIHRpZXMtYnJlYWtpbmc/XG4gIC8vIEkgdHJpZWQgZGlzdGFuY2VUb1NvdXJjZSwgYnV0IGl0IGRpZG4ndCBzZWVtIHRvIGhhdmUgbXVjaCBlZmZlY3RcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gc2V0SGVhcEluZGV4KG5vZGVTZWFyY2hTdGF0ZSwgaGVhcEluZGV4KSB7XG4gIG5vZGVTZWFyY2hTdGF0ZS5oZWFwSW5kZXggPSBoZWFwSW5kZXg7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVGMVNjb3JlKGEsIGIpIHtcbiAgcmV0dXJuIGEuZjEgLSBiLmYxO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlRjJTY29yZShhLCBiKSB7XG4gIHJldHVybiBhLmYyIC0gYi5mMjtcbn1cblxuZnVuY3Rpb24gc2V0SDEobm9kZSwgaGVhcEluZGV4KSB7XG4gIG5vZGUuaDEgPSBoZWFwSW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNldEgyKG5vZGUsIGhlYXBJbmRleCkge1xuICBub2RlLmgyID0gaGVhcEluZGV4O1xufSIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBsMjogbDIsXG4gIGwxOiBsMVxufTtcblxuLyoqXG4gKiBFdWNsaWQgZGlzdGFuY2UgKGwyIG5vcm0pO1xuICogXG4gKiBAcGFyYW0geyp9IGEgXG4gKiBAcGFyYW0geyp9IGIgXG4gKi9cbmZ1bmN0aW9uIGwyKGEsIGIpIHtcbiAgdmFyIGR4ID0gYS54IC0gYi54O1xuICB2YXIgZHkgPSBhLnkgLSBiLnk7XG4gIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xufVxuXG4vKipcbiAqIE1hbmhhdHRhbiBkaXN0YW5jZSAobDEgbm9ybSk7XG4gKiBAcGFyYW0geyp9IGEgXG4gKiBAcGFyYW0geyp9IGIgXG4gKi9cbmZ1bmN0aW9uIGwxKGEsIGIpIHtcbiAgdmFyIGR4ID0gYS54IC0gYi54O1xuICB2YXIgZHkgPSBhLnkgLSBiLnk7XG4gIHJldHVybiBNYXRoLmFicyhkeCkgKyBNYXRoLmFicyhkeSk7XG59XG4iLCIvKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIHNpbmdsZSBzZWFyY2ggbm9kZSBpbiB0aGUgZXhwbG9yYXRpb24gdHJlZSBmb3JcbiAqIEEqIGFsZ29yaXRobS5cbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUgIG9yaWdpbmFsIG5vZGUgaW4gdGhlIGdyYXBoXG4gKi9cbmZ1bmN0aW9uIE5vZGVTZWFyY2hTdGF0ZShub2RlKSB7XG4gIHRoaXMubm9kZSA9IG5vZGU7XG5cbiAgLy8gSG93IHdlIGNhbWUgdG8gdGhpcyBub2RlP1xuICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgdGhpcy5vcGVuID0gMDtcblxuICB0aGlzLmRpc3RhbmNlVG9Tb3VyY2UgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gIC8vIHRoZSBmKG4pID0gZyhuKSArIGgobikgdmFsdWVcbiAgdGhpcy5mU2NvcmUgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgLy8gdXNlZCB0byByZWNvbnN0cnVjdCBoZWFwIHdoZW4gZlNjb3JlIGlzIHVwZGF0ZWQuXG4gIHRoaXMuaGVhcEluZGV4ID0gLTE7XG59O1xuXG5mdW5jdGlvbiBtYWtlU2VhcmNoU3RhdGVQb29sKCkge1xuICB2YXIgY3VycmVudEluQ2FjaGUgPSAwO1xuICB2YXIgbm9kZUNhY2hlID0gW107XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVOZXdTdGF0ZTogY3JlYXRlTmV3U3RhdGUsXG4gICAgcmVzZXQ6IHJlc2V0XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgY3VycmVudEluQ2FjaGUgPSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTmV3U3RhdGUobm9kZSkge1xuICAgIHZhciBjYWNoZWQgPSBub2RlQ2FjaGVbY3VycmVudEluQ2FjaGVdO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgIC8vIFRPRE86IFRoaXMgYWxtb3N0IGR1cGxpY2F0ZXMgY29uc3RydWN0b3IgY29kZS4gTm90IHN1cmUgaWZcbiAgICAgIC8vIGl0IHdvdWxkIGltcGFjdCBwZXJmb3JtYW5jZSBpZiBJIG1vdmUgdGhpcyBjb2RlIGludG8gYSBmdW5jdGlvblxuICAgICAgY2FjaGVkLm5vZGUgPSBub2RlO1xuICAgICAgLy8gSG93IHdlIGNhbWUgdG8gdGhpcyBub2RlP1xuICAgICAgY2FjaGVkLnBhcmVudCA9IG51bGw7XG5cbiAgICAgIGNhY2hlZC5jbG9zZWQgPSBmYWxzZTtcbiAgICAgIGNhY2hlZC5vcGVuID0gMDtcblxuICAgICAgY2FjaGVkLmRpc3RhbmNlVG9Tb3VyY2UgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAvLyB0aGUgZihuKSA9IGcobikgKyBoKG4pIHZhbHVlXG4gICAgICBjYWNoZWQuZlNjb3JlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gICAgICAvLyB1c2VkIHRvIHJlY29uc3RydWN0IGhlYXAgd2hlbiBmU2NvcmUgaXMgdXBkYXRlZC5cbiAgICAgIGNhY2hlZC5oZWFwSW5kZXggPSAtMTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZWQgPSBuZXcgTm9kZVNlYXJjaFN0YXRlKG5vZGUpO1xuICAgICAgbm9kZUNhY2hlW2N1cnJlbnRJbkNhY2hlXSA9IGNhY2hlZDtcbiAgICB9XG4gICAgY3VycmVudEluQ2FjaGUrKztcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IG1ha2VTZWFyY2hTdGF0ZVBvb2w7IiwibW9kdWxlLmV4cG9ydHMgPSBuYmE7XG5cbnZhciBOb2RlSGVhcCA9IHJlcXVpcmUoJy4uL05vZGVIZWFwJyk7XG52YXIgaGV1cmlzdGljcyA9IHJlcXVpcmUoJy4uL2hldXJpc3RpY3MnKTtcbnZhciBkZWZhdWx0U2V0dGluZ3MgPSByZXF1aXJlKCcuLi9kZWZhdWx0U2V0dGluZ3MuanMnKTtcbnZhciBtYWtlTkJBU2VhcmNoU3RhdGVQb29sID0gcmVxdWlyZSgnLi9tYWtlTkJBU2VhcmNoU3RhdGVQb29sLmpzJyk7XG5cbnZhciBOT19QQVRIID0gZGVmYXVsdFNldHRpbmdzLk5PX1BBVEg7XG5cbm1vZHVsZS5leHBvcnRzLmwyID0gaGV1cmlzdGljcy5sMjtcbm1vZHVsZS5leHBvcnRzLmwxID0gaGV1cmlzdGljcy5sMTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHBhdGhmaW5kZXIuIEEgcGF0aGZpbmRlciBoYXMganVzdCBvbmUgbWV0aG9kOlxuICogYGZpbmQoZnJvbUlkLCB0b0lkKWAuXG4gKiBcbiAqIFRoaXMgaXMgaW1wbGVtZW50YXRpb24gb2YgdGhlIE5CQSogYWxnb3JpdGhtIGRlc2NyaWJlZCBpbiBcbiAqIFxuICogIFwiWWV0IGFub3RoZXIgYmlkaXJlY3Rpb25hbCBhbGdvcml0aG0gZm9yIHNob3J0ZXN0IHBhdGhzXCIgcGFwZXIgYnkgV2ltIFBpamxzIGFuZCBIZW5rIFBvc3RcbiAqIFxuICogVGhlIHBhcGVyIGlzIGF2YWlsYWJsZSBoZXJlOiBodHRwczovL3JlcHViLmV1ci5ubC9wdWIvMTYxMDAvZWkyMDA5LTEwLnBkZlxuICogXG4gKiBAcGFyYW0ge25ncmFwaC5ncmFwaH0gZ3JhcGggaW5zdGFuY2UuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW52YWthL25ncmFwaC5ncmFwaFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgdGhhdCBjb25maWd1cmVzIHNlYXJjaFxuICogQHBhcmFtIHtGdW5jdGlvbihhLCBiKX0gb3B0aW9ucy5oZXVyaXN0aWMgLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBlc3RpbWF0ZWQgZGlzdGFuY2UgYmV0d2VlblxuICogbm9kZXMgYGFgIGFuZCBgYmAuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG5ldmVyIG92ZXJlc3RpbWF0ZSBhY3R1YWwgZGlzdGFuY2UgYmV0d2VlbiB0d29cbiAqIG5vZGVzIChvdGhlcndpc2UgdGhlIGZvdW5kIHBhdGggd2lsbCBub3QgYmUgdGhlIHNob3J0ZXN0KS4gRGVmYXVsdHMgZnVuY3Rpb24gcmV0dXJucyAwLFxuICogd2hpY2ggbWFrZXMgdGhpcyBzZWFyY2ggZXF1aXZhbGVudCB0byBEaWprc3RyYSBzZWFyY2guXG4gKiBAcGFyYW0ge0Z1bmN0aW9uKGEsIGIpfSBvcHRpb25zLmRpc3RhbmNlIC0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYWN0dWFsIGRpc3RhbmNlIGJldHdlZW4gdHdvXG4gKiBub2RlcyBgYWAgYW5kIGBiYC4gQnkgZGVmYXVsdCB0aGlzIGlzIHNldCB0byByZXR1cm4gZ3JhcGgtdGhlb3JldGljYWwgZGlzdGFuY2UgKGFsd2F5cyAxKTtcbiAqIFxuICogQHJldHVybnMge09iamVjdH0gQSBwYXRoZmluZGVyIHdpdGggc2luZ2xlIG1ldGhvZCBgZmluZCgpYC5cbiAqL1xuZnVuY3Rpb24gbmJhKGdyYXBoLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAvLyB3aGV0aGVyIHRyYXZlcnNhbCBzaG91bGQgYmUgY29uc2lkZXJlZCBvdmVyIG9yaWVudGVkIGdyYXBoLlxuICB2YXIgb3JpZW50ZWQgPSBvcHRpb25zLm9yaWVudGVkO1xuICB2YXIgcXVpdEZhc3QgPSBvcHRpb25zLnF1aXRGYXN0O1xuXG4gIHZhciBoZXVyaXN0aWMgPSBvcHRpb25zLmhldXJpc3RpYztcbiAgaWYgKCFoZXVyaXN0aWMpIGhldXJpc3RpYyA9IGRlZmF1bHRTZXR0aW5ncy5oZXVyaXN0aWM7XG5cbiAgdmFyIGRpc3RhbmNlID0gb3B0aW9ucy5kaXN0YW5jZTtcbiAgaWYgKCFkaXN0YW5jZSkgZGlzdGFuY2UgPSBkZWZhdWx0U2V0dGluZ3MuZGlzdGFuY2U7XG5cbiAgLy8gRHVyaW5nIHN0cmVzcyB0ZXN0cyBJIG5vdGljZWQgdGhhdCBnYXJiYWdlIGNvbGxlY3Rpb24gd2FzIG9uZSBvZiB0aGUgaGVhdmllc3RcbiAgLy8gY29udHJpYnV0b3JzIHRvIHRoZSBhbGdvcml0aG0ncyBzcGVlZC4gU28gSSdtIHVzaW5nIGFuIG9iamVjdCBwb29sIHRvIHJlY3ljbGUgbm9kZXMuXG4gIHZhciBwb29sID0gbWFrZU5CQVNlYXJjaFN0YXRlUG9vbCgpO1xuXG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogRmluZHMgYSBwYXRoIGJldHdlZW4gbm9kZSBgZnJvbUlkYCBhbmQgYHRvSWRgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gb2Ygbm9kZXMgYmV0d2VlbiBgdG9JZGAgYW5kIGBmcm9tSWRgLiBFbXB0eSBhcnJheSBpcyByZXR1cm5lZFxuICAgICAqIGlmIG5vIHBhdGggaXMgZm91bmQuXG4gICAgICovXG4gICAgZmluZDogZmluZFxuICB9O1xuXG4gIGZ1bmN0aW9uIGZpbmQoZnJvbUlkLCB0b0lkKSB7XG4gICAgLy8gSSBtdXN0IGFwb2xvZ2l6ZSBmb3IgdGhlIGNvZGUgZHVwbGljYXRpb24uIFRoaXMgd2FzIHRoZSBlYXNpZXN0IHdheSBmb3IgbWUgdG9cbiAgICAvLyBpbXBsZW1lbnQgdGhlIGFsZ29yaXRobSBmYXN0LlxuICAgIHZhciBmcm9tID0gZ3JhcGguZ2V0Tm9kZShmcm9tSWQpO1xuICAgIGlmICghZnJvbSkgdGhyb3cgbmV3IEVycm9yKCdmcm9tSWQgaXMgbm90IGRlZmluZWQgaW4gdGhpcyBncmFwaDogJyArIGZyb21JZCk7XG4gICAgdmFyIHRvID0gZ3JhcGguZ2V0Tm9kZSh0b0lkKTtcbiAgICBpZiAoIXRvKSB0aHJvdyBuZXcgRXJyb3IoJ3RvSWQgaXMgbm90IGRlZmluZWQgaW4gdGhpcyBncmFwaDogJyArIHRvSWQpO1xuXG4gICAgcG9vbC5yZXNldCgpO1xuXG4gICAgLy8gSSBtdXN0IGFsc28gYXBvbG9naXplIGZvciBzb21ld2hhdCBjcnlwdGljIG5hbWVzLiBUaGUgTkJBKiBpcyBiaS1kaXJlY3Rpb25hbFxuICAgIC8vIHNlYXJjaCBhbGdvcml0aG0sIHdoaWNoIG1lYW5zIGl0IHJ1bnMgdHdvIHNlYXJjaGVzIGluIHBhcmFsbGVsLiBPbmUgaXMgY2FsbGVkXG4gICAgLy8gZm9yd2FyZCBzZWFyY2ggYW5kIGl0IHJ1bnMgZnJvbSBzb3VyY2Ugbm9kZSB0byB0YXJnZXQsIHdoaWxlIHRoZSBvdGhlciBvbmVcbiAgICAvLyAoYmFja3dhcmQgc2VhcmNoKSBydW5zIGZyb20gdGFyZ2V0IHRvIHNvdXJjZS5cblxuICAgIC8vIEV2ZXJ5d2hlcmUgd2hlcmUgeW91IHNlZSBgMWAgaXQgbWVhbnMgaXQncyBmb3IgdGhlIGZvcndhcmQgc2VhcmNoLiBgMmAgaXMgZm9yIFxuICAgIC8vIGJhY2t3YXJkIHNlYXJjaC5cblxuICAgIC8vIEZvciBvcmllbnRlZCBncmFwaCBwYXRoIGZpbmRpbmcsIHdlIG5lZWQgdG8gcmV2ZXJzZSB0aGUgZ3JhcGgsIHNvIHRoYXRcbiAgICAvLyBiYWNrd2FyZCBzZWFyY2ggdmlzaXRzIGNvcnJlY3QgbGluay4gT2J2aW91c2x5IHdlIGRvbid0IHdhbnQgdG8gZHVwbGljYXRlXG4gICAgLy8gdGhlIGdyYXBoLCBpbnN0ZWFkIHdlIGFsd2F5cyB0cmF2ZXJzZSB0aGUgZ3JhcGggYXMgbm9uLW9yaWVudGVkLCBhbmQgZmlsdGVyXG4gICAgLy8gZWRnZXMgaW4gYHZpc2l0TjFPcmllbnRlZC92aXNpdE4yT3JpdGVudGVkYFxuICAgIHZhciBmb3J3YXJkVmlzaXRvciA9IG9yaWVudGVkID8gdmlzaXROMU9yaWVudGVkIDogdmlzaXROMTtcbiAgICB2YXIgcmV2ZXJzZVZpc2l0b3IgPSBvcmllbnRlZCA/IHZpc2l0TjJPcmllbnRlZCA6IHZpc2l0TjI7XG5cbiAgICAvLyBNYXBzIG5vZGVJZCB0byBOQkFTZWFyY2hTdGF0ZS5cbiAgICB2YXIgbm9kZVN0YXRlID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gVGhlc2UgdHdvIGhlYXBzIHN0b3JlIG5vZGVzIGJ5IHRoZWlyIHVuZGVyZXN0aW1hdGVkIHZhbHVlcy5cbiAgICB2YXIgb3BlbjFTZXQgPSBuZXcgTm9kZUhlYXAoe1xuICAgICAgY29tcGFyZTogZGVmYXVsdFNldHRpbmdzLmNvbXBhcmVGMVNjb3JlLFxuICAgICAgc2V0Tm9kZUlkOiBkZWZhdWx0U2V0dGluZ3Muc2V0SDFcbiAgICB9KTtcbiAgICB2YXIgb3BlbjJTZXQgPSBuZXcgTm9kZUhlYXAoe1xuICAgICAgY29tcGFyZTogZGVmYXVsdFNldHRpbmdzLmNvbXBhcmVGMlNjb3JlLFxuICAgICAgc2V0Tm9kZUlkOiBkZWZhdWx0U2V0dGluZ3Muc2V0SDJcbiAgICB9KTtcblxuICAgIC8vIFRoaXMgaXMgd2hlcmUgYm90aCBzZWFyY2hlcyB3aWxsIG1lZXQuXG4gICAgdmFyIG1pbk5vZGU7XG5cbiAgICAvLyBUaGUgc21hbGxlc3QgcGF0aCBsZW5ndGggc2VlbiBzbyBmYXIgaXMgc3RvcmVkIGhlcmU6XG4gICAgdmFyIGxNaW4gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgICAvLyBXZSBzdGFydCBieSBwdXR0aW5nIHN0YXJ0L2VuZCBub2RlcyB0byB0aGUgY29ycmVzcG9uZGluZyBoZWFwc1xuICAgIC8vIElmIHZhcmlhYmxlIG5hbWVzIGxpa2UgYGYxYCwgYGcxYCBhcmUgdG9vIGNvbmZ1c2luZywgcGxlYXNlIHJlZmVyXG4gICAgLy8gdG8gbWFrZU5CQVNlYXJjaFN0YXRlUG9vbC5qcyBmaWxlLCB3aGljaCBoYXMgZGV0YWlsZWQgZGVzY3JpcHRpb24uXG4gICAgdmFyIHN0YXJ0Tm9kZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUoZnJvbSk7XG4gICAgbm9kZVN0YXRlLnNldChmcm9tSWQsIHN0YXJ0Tm9kZSk7IFxuICAgIHN0YXJ0Tm9kZS5nMSA9IDA7XG4gICAgdmFyIGYxID0gaGV1cmlzdGljKGZyb20sIHRvKTtcbiAgICBzdGFydE5vZGUuZjEgPSBmMTtcbiAgICBvcGVuMVNldC5wdXNoKHN0YXJ0Tm9kZSk7XG5cbiAgICB2YXIgZW5kTm9kZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUodG8pO1xuICAgIG5vZGVTdGF0ZS5zZXQodG9JZCwgZW5kTm9kZSk7XG4gICAgZW5kTm9kZS5nMiA9IDA7XG4gICAgdmFyIGYyID0gZjE7IC8vIHRoZXkgc2hvdWxkIGFncmVlIG9yaWdpbmFsbHlcbiAgICBlbmROb2RlLmYyID0gZjI7XG4gICAgb3BlbjJTZXQucHVzaChlbmROb2RlKVxuXG4gICAgLy8gdGhlIGBjYW1lRnJvbWAgdmFyaWFibGUgaXMgYWNjZXNzZWQgYnkgYm90aCBzZWFyY2hlcywgc28gdGhhdCB3ZSBjYW4gc3RvcmUgcGFyZW50cy5cbiAgICB2YXIgY2FtZUZyb207XG5cbiAgICAvLyB0aGlzIGlzIHRoZSBtYWluIGFsZ29yaXRobSBsb29wOlxuICAgIHdoaWxlIChvcGVuMlNldC5sZW5ndGggJiYgb3BlbjFTZXQubGVuZ3RoKSB7XG4gICAgICBpZiAob3BlbjFTZXQubGVuZ3RoIDwgb3BlbjJTZXQubGVuZ3RoKSB7XG4gICAgICAgIGZvcndhcmRTZWFyY2goKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldmVyc2VTZWFyY2goKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHF1aXRGYXN0ICYmIG1pbk5vZGUpIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBwYXRoID0gcmVjb25zdHJ1Y3RQYXRoKG1pbk5vZGUpO1xuICAgIHJldHVybiBwYXRoOyAvLyB0aGUgcHVibGljIEFQSSBpcyBvdmVyXG5cbiAgICBmdW5jdGlvbiBmb3J3YXJkU2VhcmNoKCkge1xuICAgICAgY2FtZUZyb20gPSBvcGVuMVNldC5wb3AoKTtcbiAgICAgIGlmIChjYW1lRnJvbS5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjYW1lRnJvbS5jbG9zZWQgPSB0cnVlO1xuXG4gICAgICBpZiAoY2FtZUZyb20uZjEgPCBsTWluICYmIChjYW1lRnJvbS5nMSArIGYyIC0gaGV1cmlzdGljKGZyb20sIGNhbWVGcm9tLm5vZGUpKSA8IGxNaW4pIHtcbiAgICAgICAgZ3JhcGguZm9yRWFjaExpbmtlZE5vZGUoY2FtZUZyb20ubm9kZS5pZCwgZm9yd2FyZFZpc2l0b3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3BlbjFTZXQubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgdXNlZCBpbiByZXZlcnNlIHNlYXJjaFxuICAgICAgICBmMSA9IG9wZW4xU2V0LnBlZWsoKS5mMTtcbiAgICAgIH0gXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmV2ZXJzZVNlYXJjaCgpIHtcbiAgICAgIGNhbWVGcm9tID0gb3BlbjJTZXQucG9wKCk7XG4gICAgICBpZiAoY2FtZUZyb20uY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNhbWVGcm9tLmNsb3NlZCA9IHRydWU7XG5cbiAgICAgIGlmIChjYW1lRnJvbS5mMiA8IGxNaW4gJiYgKGNhbWVGcm9tLmcyICsgZjEgLSBoZXVyaXN0aWMoY2FtZUZyb20ubm9kZSwgdG8pKSA8IGxNaW4pIHtcbiAgICAgICAgZ3JhcGguZm9yRWFjaExpbmtlZE5vZGUoY2FtZUZyb20ubm9kZS5pZCwgcmV2ZXJzZVZpc2l0b3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3BlbjJTZXQubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgdXNlZCBpbiBmb3J3YXJkIHNlYXJjaFxuICAgICAgICBmMiA9IG9wZW4yU2V0LnBlZWsoKS5mMjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aXNpdE4xKG90aGVyTm9kZSwgbGluaykge1xuICAgICAgdmFyIG90aGVyU2VhcmNoU3RhdGUgPSBub2RlU3RhdGUuZ2V0KG90aGVyTm9kZS5pZCk7XG4gICAgICBpZiAoIW90aGVyU2VhcmNoU3RhdGUpIHtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZSA9IHBvb2wuY3JlYXRlTmV3U3RhdGUob3RoZXJOb2RlKTtcbiAgICAgICAgbm9kZVN0YXRlLnNldChvdGhlck5vZGUuaWQsIG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5jbG9zZWQpIHJldHVybjtcblxuICAgICAgdmFyIHRlbnRhdGl2ZURpc3RhbmNlID0gY2FtZUZyb20uZzEgKyBkaXN0YW5jZShjYW1lRnJvbS5ub2RlLCBvdGhlck5vZGUsIGxpbmspO1xuXG4gICAgICBpZiAodGVudGF0aXZlRGlzdGFuY2UgPCBvdGhlclNlYXJjaFN0YXRlLmcxKSB7XG4gICAgICAgIG90aGVyU2VhcmNoU3RhdGUuZzEgPSB0ZW50YXRpdmVEaXN0YW5jZTtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5mMSA9IHRlbnRhdGl2ZURpc3RhbmNlICsgaGV1cmlzdGljKG90aGVyU2VhcmNoU3RhdGUubm9kZSwgdG8pO1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLnAxID0gY2FtZUZyb207XG4gICAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLmgxIDwgMCkge1xuICAgICAgICAgIG9wZW4xU2V0LnB1c2gob3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3BlbjFTZXQudXBkYXRlSXRlbShvdGhlclNlYXJjaFN0YXRlLmgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIHBvdGVudGlhbE1pbiA9IG90aGVyU2VhcmNoU3RhdGUuZzEgKyBvdGhlclNlYXJjaFN0YXRlLmcyO1xuICAgICAgaWYgKHBvdGVudGlhbE1pbiA8IGxNaW4pIHsgXG4gICAgICAgIGxNaW4gPSBwb3RlbnRpYWxNaW47XG4gICAgICAgIG1pbk5vZGUgPSBvdGhlclNlYXJjaFN0YXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpc2l0TjIob3RoZXJOb2RlLCBsaW5rKSB7XG4gICAgICB2YXIgb3RoZXJTZWFyY2hTdGF0ZSA9IG5vZGVTdGF0ZS5nZXQob3RoZXJOb2RlLmlkKTtcbiAgICAgIGlmICghb3RoZXJTZWFyY2hTdGF0ZSkge1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlID0gcG9vbC5jcmVhdGVOZXdTdGF0ZShvdGhlck5vZGUpO1xuICAgICAgICBub2RlU3RhdGUuc2V0KG90aGVyTm9kZS5pZCwgb3RoZXJTZWFyY2hTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdGhlclNlYXJjaFN0YXRlLmNsb3NlZCkgcmV0dXJuO1xuXG4gICAgICB2YXIgdGVudGF0aXZlRGlzdGFuY2UgPSBjYW1lRnJvbS5nMiArIGRpc3RhbmNlKGNhbWVGcm9tLm5vZGUsIG90aGVyTm9kZSwgbGluayk7XG5cbiAgICAgIGlmICh0ZW50YXRpdmVEaXN0YW5jZSA8IG90aGVyU2VhcmNoU3RhdGUuZzIpIHtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5nMiA9IHRlbnRhdGl2ZURpc3RhbmNlO1xuICAgICAgICBvdGhlclNlYXJjaFN0YXRlLmYyID0gdGVudGF0aXZlRGlzdGFuY2UgKyBoZXVyaXN0aWMoZnJvbSwgb3RoZXJTZWFyY2hTdGF0ZS5ub2RlKTtcbiAgICAgICAgb3RoZXJTZWFyY2hTdGF0ZS5wMiA9IGNhbWVGcm9tO1xuICAgICAgICBpZiAob3RoZXJTZWFyY2hTdGF0ZS5oMiA8IDApIHtcbiAgICAgICAgICBvcGVuMlNldC5wdXNoKG90aGVyU2VhcmNoU3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wZW4yU2V0LnVwZGF0ZUl0ZW0ob3RoZXJTZWFyY2hTdGF0ZS5oMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBwb3RlbnRpYWxNaW4gPSBvdGhlclNlYXJjaFN0YXRlLmcxICsgb3RoZXJTZWFyY2hTdGF0ZS5nMjtcbiAgICAgIGlmIChwb3RlbnRpYWxNaW4gPCBsTWluKSB7XG4gICAgICAgIGxNaW4gPSBwb3RlbnRpYWxNaW47XG4gICAgICAgIG1pbk5vZGUgPSBvdGhlclNlYXJjaFN0YXRlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpc2l0TjJPcmllbnRlZChvdGhlck5vZGUsIGxpbmspIHtcbiAgICAgIC8vIHdlIGFyZSBnb2luZyBiYWNrd2FyZHMsIGdyYXBoIG5lZWRzIHRvIGJlIHJldmVyc2VkLiBcbiAgICAgIGlmIChsaW5rLnRvSWQgPT09IGNhbWVGcm9tLm5vZGUuaWQpIHJldHVybiB2aXNpdE4yKG90aGVyTm9kZSwgbGluayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZpc2l0TjFPcmllbnRlZChvdGhlck5vZGUsIGxpbmspIHtcbiAgICAgIC8vIHRoaXMgaXMgZm9yd2FyZCBkaXJlY3Rpb24sIHNvIHdlIHNob3VsZCBiZSBjb21pbmcgRlJPTTpcbiAgICAgIGlmIChsaW5rLmZyb21JZCA9PT0gY2FtZUZyb20ubm9kZS5pZCkgcmV0dXJuIHZpc2l0TjEob3RoZXJOb2RlLCBsaW5rKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjb25zdHJ1Y3RQYXRoKHNlYXJjaFN0YXRlKSB7XG4gIGlmICghc2VhcmNoU3RhdGUpIHJldHVybiBOT19QQVRIO1xuXG4gIHZhciBwYXRoID0gW3NlYXJjaFN0YXRlLm5vZGVdO1xuICB2YXIgcGFyZW50ID0gc2VhcmNoU3RhdGUucDE7XG5cbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIHBhdGgucHVzaChwYXJlbnQubm9kZSk7XG4gICAgcGFyZW50ID0gcGFyZW50LnAxO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gc2VhcmNoU3RhdGUucDI7XG5cbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgcGF0aC51bnNoaWZ0KGNoaWxkLm5vZGUpO1xuICAgIGNoaWxkID0gY2hpbGQucDI7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IG1ha2VOQkFTZWFyY2hTdGF0ZVBvb2w7XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgaW5zdGFuY2Ugb2YgTkJBU2VhcmNoU3RhdGUuIFRoZSBpbnN0YW5jZSBzdG9yZXMgaW5mb3JtYXRpb25cbiAqIGFib3V0IHNlYXJjaCBzdGF0ZSwgYW5kIGlzIHVzZWQgYnkgTkJBKiBhbGdvcml0aG0uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUgLSBvcmlnaW5hbCBncmFwaCBub2RlXG4gKi9cbmZ1bmN0aW9uIE5CQVNlYXJjaFN0YXRlKG5vZGUpIHtcbiAgLyoqXG4gICAqIE9yaWdpbmFsIGdyYXBoIG5vZGUuXG4gICAqL1xuICB0aGlzLm5vZGUgPSBub2RlO1xuXG4gIC8qKlxuICAgKiBQYXJlbnQgb2YgdGhpcyBub2RlIGluIGZvcndhcmQgc2VhcmNoXG4gICAqL1xuICB0aGlzLnAxID0gbnVsbDtcblxuICAvKipcbiAgICogUGFyZW50IG9mIHRoaXMgbm9kZSBpbiByZXZlcnNlIHNlYXJjaFxuICAgKi9cbiAgdGhpcy5wMiA9IG51bGw7XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgaXMgc2V0IHRvIHRydWUsIHRoZW4gdGhlIG5vZGUgd2FzIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAqIGFuZCB3ZSBzaG91bGQgbm90IHRvdWNoIGl0IGFueW1vcmUuXG4gICAqL1xuICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBBY3R1YWwgZGlzdGFuY2UgZnJvbSB0aGlzIG5vZGUgdG8gaXRzIHBhcmVudCBpbiBmb3J3YXJkIHNlYXJjaFxuICAgKi9cbiAgdGhpcy5nMSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcblxuICAvKipcbiAgICogQWN0dWFsIGRpc3RhbmNlIGZyb20gdGhpcyBub2RlIHRvIGl0cyBwYXJlbnQgaW4gcmV2ZXJzZSBzZWFyY2hcbiAgICovXG4gIHRoaXMuZzIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cblxuICAvKipcbiAgICogVW5kZXJlc3RpbWF0ZWQgZGlzdGFuY2UgZnJvbSB0aGlzIG5vZGUgdG8gdGhlIHBhdGgtZmluZGluZyBzb3VyY2UuXG4gICAqL1xuICB0aGlzLmYxID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gIC8qKlxuICAgKiBVbmRlcmVzdGltYXRlZCBkaXN0YW5jZSBmcm9tIHRoaXMgbm9kZSB0byB0aGUgcGF0aC1maW5kaW5nIHRhcmdldC5cbiAgICovXG4gIHRoaXMuZjIgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5cbiAgLy8gdXNlZCB0byByZWNvbnN0cnVjdCBoZWFwIHdoZW4gZlNjb3JlIGlzIHVwZGF0ZWQuIFRPRE86IGRvIEkgbmVlZCB0aGVtIGJvdGg/XG5cbiAgLyoqXG4gICAqIEluZGV4IG9mIHRoaXMgbm9kZSBpbiB0aGUgZm9yd2FyZCBoZWFwLlxuICAgKi9cbiAgdGhpcy5oMSA9IC0xO1xuXG4gIC8qKlxuICAgKiBJbmRleCBvZiB0aGlzIG5vZGUgaW4gdGhlIHJldmVyc2UgaGVhcC5cbiAgICovXG4gIHRoaXMuaDIgPSAtMTtcbn1cblxuLyoqXG4gKiBBcyBwYXRoLWZpbmRpbmcgaXMgbWVtb3J5LWludGVuc2l2ZSBwcm9jZXNzLCB3ZSB3YW50IHRvIHJlZHVjZSBwcmVzc3VyZSBvblxuICogZ2FyYmFnZSBjb2xsZWN0b3IuIFRoaXMgY2xhc3MgaGVscHMgdXMgdG8gcmVjeWNsZSBwYXRoLWZpbmRpbmcgbm9kZXMgYW5kIHNpZ25pZmljYW50bHlcbiAqIHJlZHVjZXMgdGhlIHNlYXJjaCB0aW1lICh+MjAlIGZhc3RlciB0aGFuIHdpdGhvdXQgaXQpLlxuICovXG5mdW5jdGlvbiBtYWtlTkJBU2VhcmNoU3RhdGVQb29sKCkge1xuICB2YXIgY3VycmVudEluQ2FjaGUgPSAwO1xuICB2YXIgbm9kZUNhY2hlID0gW107XG5cbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE5CQVNlYXJjaFN0YXRlIGluc3RhbmNlXG4gICAgICovXG4gICAgY3JlYXRlTmV3U3RhdGU6IGNyZWF0ZU5ld1N0YXRlLFxuXG4gICAgLyoqXG4gICAgICogTWFya3MgYWxsIGNyZWF0ZWQgaW5zdGFuY2VzIGF2YWlsYWJsZSBmb3IgcmVjeWNsaW5nLlxuICAgICAqL1xuICAgIHJlc2V0OiByZXNldFxuICB9O1xuXG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGN1cnJlbnRJbkNhY2hlID0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5ld1N0YXRlKG5vZGUpIHtcbiAgICB2YXIgY2FjaGVkID0gbm9kZUNhY2hlW2N1cnJlbnRJbkNhY2hlXTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAvLyBUT0RPOiBUaGlzIGFsbW9zdCBkdXBsaWNhdGVzIGNvbnN0cnVjdG9yIGNvZGUuIE5vdCBzdXJlIGlmXG4gICAgICAvLyBpdCB3b3VsZCBpbXBhY3QgcGVyZm9ybWFuY2UgaWYgSSBtb3ZlIHRoaXMgY29kZSBpbnRvIGEgZnVuY3Rpb25cbiAgICAgIGNhY2hlZC5ub2RlID0gbm9kZTtcblxuICAgICAgLy8gSG93IHdlIGNhbWUgdG8gdGhpcyBub2RlP1xuICAgICAgY2FjaGVkLnAxID0gbnVsbDtcbiAgICAgIGNhY2hlZC5wMiA9IG51bGw7XG5cbiAgICAgIGNhY2hlZC5jbG9zZWQgPSBmYWxzZTtcblxuICAgICAgY2FjaGVkLmcxID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgY2FjaGVkLmcyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgY2FjaGVkLmYxID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgY2FjaGVkLmYyID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuXG4gICAgICAvLyB1c2VkIHRvIHJlY29uc3RydWN0IGhlYXAgd2hlbiBmU2NvcmUgaXMgdXBkYXRlZC5cbiAgICAgIGNhY2hlZC5oMSA9IC0xO1xuICAgICAgY2FjaGVkLmgyID0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZCA9IG5ldyBOQkFTZWFyY2hTdGF0ZShub2RlKTtcbiAgICAgIG5vZGVDYWNoZVtjdXJyZW50SW5DYWNoZV0gPSBjYWNoZWQ7XG4gICAgfVxuICAgIGN1cnJlbnRJbkNhY2hlKys7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFTdGFyOiByZXF1aXJlKCcuL2Etc3Rhci9hLXN0YXIuanMnKSxcbiAgYUdyZWVkeTogcmVxdWlyZSgnLi9hLXN0YXIvYS1ncmVlZHktc3RhcicpLFxuICBuYmE6IHJlcXVpcmUoJy4vYS1zdGFyL25iYS9pbmRleC5qcycpLFxufVxuIiwiaW1wb3J0IHtcbiAgICBhLFxuICAgIGIsXG4gICAgYyxcbiAgICBpbnQsXG4gICAgbmVnYXRpdmUsXG4gICAgbnVtLFxuICAgIHByb2R1Y3QsXG4gICAgc3VtLFxuICAgIHgsXG4gICAgeVxufSBmcm9tIFwiLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCJcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHBvbmVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9GcmFjdGlvblwiXG5pbXBvcnQgeyBJbnRlZ3JhbCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvSW50ZWdyYWxcIlxuaW1wb3J0IHsgRWRpdGFibGVNYXRoVmlldyB9IGZyb20gXCIuL21hdGhsaWIvdWllbGVtZW50cy9FZGl0YWJsZU1hdGhWaWV3XCJcblxuLyoqXG4gKiBDYWxsZWQgYWZ0ZXIgdGhlIGRvbSBpcyBsb2FkZWQuXG4gKiBQb3B1bGF0ZXMgdGhlIGJvZHkgZWxlbWVudCBvZiB0aGUgZG9jdW1lbnRcbiAqIHdpdGggdGhlIHRlc3QgZXhwcmVzc2lvbnMgcGFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEV4cHJlc3Npb25zVGVzdFBhZ2UoKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXSBhcyBIVE1MQm9keUVsZW1lbnRcblxuICAgIGZ1bmN0aW9uIHAoY29udGVudDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuICAgICAgICBlLmlubmVyVGV4dCA9IGNvbnRlbnRcbiAgICAgICAgcGFnZS5hcHBlbmQoZSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aWV3KGV4cDogRXhwcmVzc2lvbikge1xuICAgICAgICBjb25zdCBlID0gbmV3IEVkaXRhYmxlTWF0aFZpZXcoKVxuICAgICAgICBlLnZhbHVlID0gZXhwXG4gICAgICAgIHBhZ2UuYXBwZW5kKGUpXG4gICAgfVxuXG4gICAgcChcIlRoZSBzdW0gb2YgYSwgYSwgYW5kIGFcIilcbiAgICB2aWV3KHN1bShhLCBhLCBhKSlcblxuICAgIHAoXCJJbnRlZ3JhbCBvZiBhIG92ZXIgYiB3aXRoIHJlc3BlY3QgdG8gY1wiKVxuICAgIHZpZXcoSW50ZWdyYWwub2YoRnJhY3Rpb24ub2YoYSwgYiksIGMpKVxuXG4gICAgcChcIkludGVncmFsIG9mIChhIG92ZXIgYSkgb3ZlciBiIHdpdGggcmVzcGVjdCB0byBjXCIpXG4gICAgdmlldyhJbnRlZ3JhbC5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihhLCBhKSwgYiksIGMpKVxuXG4gICAgcChcIkludGVncmFsIG9mICgoYSBvdmVyIGEpIG92ZXIgYSkgb3ZlciBiIHdpdGggcmVzcGVjdCB0byBjXCIpXG4gICAgdmlldyhJbnRlZ3JhbC5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihGcmFjdGlvbi5vZihhLCBhKSwgYSksIGIpLCBjKSlcblxuICAgIHAoXCJJbnRlZ3JhbCBvZiAoKChhIG92ZXIgYSkgb3ZlciBhKSBvdmVyIGEpIG92ZXIgYiB3aXRoIHJlc3BlY3QgdG8gY1wiKVxuICAgIHZpZXcoXG4gICAgICAgIEludGVncmFsLm9mKFxuICAgICAgICAgICAgRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoYSwgYSksIGEpLCBhKSwgYiksXG4gICAgICAgICAgICBjXG4gICAgICAgIClcbiAgICApXG5cbiAgICBwKFxuICAgICAgICBcIkludGVncmFsIG9mICgoKChhIG92ZXIgYSkgb3ZlciBhKSBvdmVyIGEpIG92ZXIgYSkgb3ZlciBiIHdpdGggcmVzcGVjdCB0byBjXCJcbiAgICApXG4gICAgdmlldyhcbiAgICAgICAgSW50ZWdyYWwub2YoXG4gICAgICAgICAgICBGcmFjdGlvbi5vZihcbiAgICAgICAgICAgICAgICBGcmFjdGlvbi5vZihcbiAgICAgICAgICAgICAgICAgICAgRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoRnJhY3Rpb24ub2YoYSwgYSksIGEpLCBhKSxcbiAgICAgICAgICAgICAgICAgICAgYVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGNcbiAgICAgICAgKVxuICAgIClcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KFxuICAgICAgICBpbnQoXG4gICAgICAgICAgICBGcmFjdGlvbi5vZihcbiAgICAgICAgICAgICAgICBzdW0oXG4gICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlKGIpLFxuICAgICAgICAgICAgICAgICAgICBFeHBvbmVudC5vZihzdW0oeCwgYSksIEZyYWN0aW9uLm9mKG51bSgxKSwgbnVtKDIpKSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHByb2R1Y3QobnVtKDIpLCBhKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHhcbiAgICAgICAgKVxuICAgIClcblxuICAgIHAoXCJQcm9kdWN0IG9mIHggYW5kIHlcIilcbiAgICB2aWV3KHByb2R1Y3QoeCwgeSkpXG5cbiAgICBwKFwiUHJvZHVjdCBvZiAoeC0xKSwgLTEgYW5kIHlcIilcbiAgICB2aWV3KHByb2R1Y3Qoc3VtKHgsIG5lZ2F0aXZlKG51bSgxKSkpLCBudW0oLTEpLCB5KSlcblxuICAgIHAoXCJOZWdhdGlvbiBvZiB4IChSZXBlZCBhcyB0aGUgcHJvcGR1Y3Qgb2YgLTEgYW5kIHgpXCIpXG4gICAgdmlldyhuZWdhdGl2ZSh4KSlcblxuICAgIHAoXCJTdW0gb2YgeCBhbmQgLXhcIilcbiAgICB2aWV3KHN1bSh4LCBuZWdhdGl2ZSh4KSkpXG5cbiAgICBwKFwiU3VtIG9mIC14IGFuZCB4XCIpXG4gICAgdmlldyhzdW0obmVnYXRpdmUoeCksIHgpKVxuXG4gICAgcChcIkRlcml2YXRpdmUgb2YgdGhlIHNxdWFyZSBvZiB4IHdpdGggcmVzcGVjdCB0byB4XCIpXG4gICAgdmlldyhEZXJpdmF0aXZlLm9mKEV4cG9uZW50Lm9mKHgsIG51bSgyKSksIHgpKVxuXG4gICAgcChcIkRlcml2YXRpdmUgKCh4XjIpIC0gMikgd2l0aCByZXNwZWN0IHRvIHhcIilcbiAgICB2aWV3KERlcml2YXRpdmUub2YoRXhwb25lbnQub2Yoc3VtKHgsIG51bSgtMikpLCBudW0oMikpLCB4KSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcblxuICAgIHAoXCJcIilcbiAgICB2aWV3KG51bSgxKSlcbn1cbiIsImltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIm1hdGhqc1wiXG5pbXBvcnQge1xuICAgIGEsXG4gICAgYixcbiAgICBjLFxuICAgIGQsXG4gICAgZnJhY3Rpb24sXG4gICAgbmVnYXRpdmUsXG4gICAgbnVtLFxuICAgIHByb2R1Y3QsXG4gICAgc3VtLFxuICAgIHgsXG4gICAgeVxufSBmcm9tIFwiLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwb25lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBMb2dhcml0aG0gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0xvZ2FyaXRobVwiXG5pbXBvcnQgeyBFZGl0YWJsZU1hdGhWaWV3IH0gZnJvbSBcIi4vbWF0aGxpYi91aWVsZW1lbnRzL0VkaXRhYmxlTWF0aFZpZXdcIlxuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9uIH0gZnJvbSBcIi4vbWF0aGxpYi91c2VyaW5wdXQvQW50bHJNYXRoUGFyc2VyXCJcbmltcG9ydCB7IFBvd2VyQ29udGV4dCB9IGZyb20gXCIuL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWNQYXJzZXJcIlxuXG4vKipcbiAqIENhbGxlZCBhZnRlciBET00gaXMgbG9hZGVkLlxuICogU3Vic3RpdHV0ZXMgdGhlIGJvZHkgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnRcbiAqIHdpdGggdGhlIHByaW1hcnkgaW50ZWdyYXRvciB2aWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZElucHV0UGFyc2VUZXN0UGFnZSgpIHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdIGFzIEhUTUxCb2R5RWxlbWVudFxuICAgIHBhZ2Uuc3R5bGUucGFkZGluZyA9IFwiOGNoXCJcblxuICAgIGZ1bmN0aW9uIHAoY29udGVudDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbiAgICAgICAgZS5pbm5lclRleHQgPSBjb250ZW50XG4gICAgICAgIHJldHVybiBlXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlldyhleHA6IEV4cHJlc3Npb24pOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgRWRpdGFibGVNYXRoVmlldygpXG4gICAgICAgIGUudmFsdWUgPSBleHBcbiAgICAgICAgcmV0dXJuIGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmludCB0aGUgcGFyc2VkIGV4cHJlc3Npb24gdG8gdGhlIHBhZ2UuXG4gICAgICogQHBhcmFtIGlucHV0IFVzZXIgaW5wdXQgc3RyaW5nIHRvIHBhcnNlLlxuICAgICAqIEBwYXJhbSBleHBsYW5hdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV4cHJlc3Npb24oaW5wdXQ6IHN0cmluZywgZXhwbGFuYXRpb246IHN0cmluZyB8IG51bGwgPSBudWxsKSB7XG4gICAgICAgIHBhZ2UuYXBwZW5kKHAoXCJJbnB1dDogICAgICAgXCIgKyBpbnB1dCkpXG4gICAgICAgIGlmIChleHBsYW5hdGlvbiAhPSBudWxsKSBwYWdlLmFwcGVuZChwKGV4cGxhbmF0aW9uKSlcbiAgICAgICAgcGFnZS5hcHBlbmQodmlldyhwYXJzZUV4cHJlc3Npb24oaW5wdXQpISBhcyBFeHByZXNzaW9uKSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBpbnRlcm5hbCBleHByZXNzaW9uLCBjb252ZXJ0cyBpdFxuICAgICAqIHRvIGEgc3RyaW5nLCB0aGVuIHBhcnNlcyB0aGF0IHN0cmluZyBpbnRvXG4gICAgICogYW4gZXhwcmVzc2lvbi5cbiAgICAgKiBAcGFyYW0gaW5wdXRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0d29XYXkoaW5wdXQ6IEV4cHJlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIilcbiAgICAgICAgdGFibGUuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICB0YWJsZS5zdHlsZS53aWR0aCA9IFwiNzAlXCJcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHJvdylcblxuICAgICAgICBjb25zdCBkYXRhMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICBjb25zdCBkYXRhMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICBjb25zdCBkYXRhMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQoZGF0YTEpXG4gICAgICAgIHJvdy5hcHBlbmRDaGlsZChkYXRhMilcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGRhdGEzKVxuICAgICAgICBkYXRhMS5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiXG4gICAgICAgIGRhdGEyLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCJcbiAgICAgICAgZGF0YTMuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuXG4gICAgICAgIGRhdGExLmFwcGVuZENoaWxkKHZpZXcoaW5wdXQpKVxuICAgICAgICBjb25zdCB0ZXh0ID0gcChpbnB1dC50b1VuYW1iaWdpb3VzU3RyaW5nKCkpXG4gICAgICAgIHRleHQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgICAgICB0ZXh0LnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCJcbiAgICAgICAgZGF0YTIuYXBwZW5kQ2hpbGQodGV4dClcbiAgICAgICAgY29uc3QgcGFyc2VSZXN1bHQgPSBwYXJzZUV4cHJlc3Npb24oaW5wdXQudG9VbmFtYmlnaW91c1N0cmluZygpKVxuICAgICAgICBkYXRhMy5hcHBlbmRDaGlsZCh2aWV3KHBhcnNlUmVzdWx0KSlcbiAgICAgICAgcGFnZS5hcHBlbmQodGFibGUpXG5cbiAgICAgICAgLy8gQ29uZGl0aW9uYWwgZm9ybWF0dGluZ1xuICAgICAgICBpZiAoaW5wdXQgPT09IHBhcnNlUmVzdWx0KSB7XG4gICAgICAgICAgICBkYXRhMy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Z3JlZW5cIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YTMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRXhwcmVzc2lvbiBzdHJpbmdzIHRvIHRlc3RcbiAgICBleHByZXNzaW9uKFwiaW50KHgpZHgrY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhL2JpbnR4XCIpXG5cbiAgICBleHByZXNzaW9uKFwiYV5iK2NcIiwgXCJUaGUgK2Mgc2hvdWxkbid0IGJlIGluIHRoZSBleHBvbmVudFwiKVxuICAgIGV4cHJlc3Npb24oXCJhK2JeY1wiKVxuICAgIGV4cHJlc3Npb24oXCIoYStiKV5jXCIpXG5cbiAgICBleHByZXNzaW9uKFwiLWEtYitjXCIpXG4gICAgZXhwcmVzc2lvbihcIi1hKy1iK2NcIilcbiAgICBleHByZXNzaW9uKFwiYStiK2NcIilcbiAgICBleHByZXNzaW9uKFwiLShhK2IpXCIpXG4gICAgZXhwcmVzc2lvbihcIi1hKGErYilcIilcbiAgICBleHByZXNzaW9uKFwiYSsoYitjKVwiKVxuICAgIGV4cHJlc3Npb24oXCJhLWItY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhKmIrY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhL2IrY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhL2IvY1wiKVxuICAgIGV4cHJlc3Npb24oXCJhYngtZFwiKVxuICAgIGV4cHJlc3Npb24oXCItYWJ4LWRcIilcbiAgICBleHByZXNzaW9uKFwiLWEtYngtZFwiKVxuICAgIGV4cHJlc3Npb24oXCJhYmNkXCIpXG4gICAgZXhwcmVzc2lvbihcImEqYipjKmRcIilcbiAgICBleHByZXNzaW9uKFwiYWIqY2RcIilcblxuICAgIGV4cHJlc3Npb24oXCJpbnQ0eCsyXCIpXG4gICAgZXhwcmVzc2lvbihcImludCg0eCsyKVwiKVxuXG4gICAgZXhwcmVzc2lvbihcImxvZ3hcIilcbiAgICBleHByZXNzaW9uKFwibG9nKHgpXCIpXG4gICAgZXhwcmVzc2lvbihcIig1LygyeC0zKS0oMy8oKDJ4LTMpXjIpKVwiKVxuICAgIGV4cHJlc3Npb24oXCIoNS8oMngtMyktKDMvKDJ4LTMpXjIpXCIpXG5cbiAgICBwYWdlLmFwcGVuZChcbiAgICAgICAgcChcbiAgICAgICAgICAgIFwiSW4gdGhlc2UgdGVzdHMsIGFuIHVuYW1iaWdpb3VzIGV4cHJlc3Npb24gaXMgd3JpdHRlbiBpbiB0aGUgXCIgK1xuICAgICAgICAgICAgICAgIFwiIHNvdXJjZSBjb2RlLiBJdCBpcyB0aGVuIGNvbnZlcnRlZCB0byBhbiB1bmFtYmlnaW91cyBzdHJpbmcgXCIgK1xuICAgICAgICAgICAgICAgIFwicmVwcmVzZW50YXRpb24sIGFuZCB0aGVuIHBhcnNlZCBiYWNrIGludG8gYW4gZXhwcmVzc2lvbi4gXCIgK1xuICAgICAgICAgICAgICAgIFwiVGhlIGdvYWwgaXMgdGhhdCB0aGlzIHByb2Nlc3MgcHJlc2VydmVzIHRoZSBleHByZXNzaW9uLiBUaGlzIFwiICtcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVzIDEpIGV4cHJlc3Npb24gLT4gc3RyaW5nIGlzIHVuYW1iaWdpb3VzIGFuZCBhY2N1cmF0ZSBhbmQgMikgXCIgK1xuICAgICAgICAgICAgICAgIFwidGhlIHBhcnNlciBpcyB3b3JraW5nIGNvcnJlY3RseS5cIlxuICAgICAgICApXG4gICAgKVxuICAgIHBhZ2UuYXBwZW5kKFxuICAgICAgICBwKFxuICAgICAgICAgICAgXCJUaGUgZmlyc3QgY29sdW1uIGlzIGFzc3VtZWQgdG8gYmUgY29ycmVjdCwgdGhlIG1pZGRsZSBjb2xsdW1uIGhhcyBcIiArXG4gICAgICAgICAgICAgICAgXCJ0aGUgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgc3RyaW5nIHZlcnNpb24gb2YgdGhlIGZpcnN0IGNvbHVtbiwgXCIgK1xuICAgICAgICAgICAgICAgIFwiYW5kIHRoZSBsYXN0IGNvbHVtbiBjb250YWlucyB0aGUgZXhwcmVzc2lvbiBwYXJzZWQgZnJvbSB0aGUgc2Vjb25kIGNvbHVtbi5cIlxuICAgICAgICApXG4gICAgKVxuICAgIHR3b1dheShzdW0oeCwgeSwgYSwgYiwgYykpXG4gICAgdHdvV2F5KHN1bSh4LCB5LCBuZWdhdGl2ZShhKSwgYiwgYykpXG4gICAgdHdvV2F5KHN1bSh4LCB5LCBuZWdhdGl2ZShhKSwgbmVnYXRpdmUoYiksIGMpKVxuICAgIHR3b1dheShzdW0oeCwgeSwgbmVnYXRpdmUoYSksIGIsIG5lZ2F0aXZlKGMpKSlcbiAgICB0d29XYXkoc3VtKGEsIEV4cG9uZW50Lm9mKGIsIGMpKSlcbiAgICB0d29XYXkoRXhwb25lbnQub2Yoc3VtKGEsIGIpLCBjKSlcbiAgICB0d29XYXkoc3VtKG5lZ2F0aXZlKGEpLCBuZWdhdGl2ZShiKSwgYykpXG4gICAgdHdvV2F5KHN1bShhLCBiLCBjKSlcbiAgICB0d29XYXkobmVnYXRpdmUoc3VtKGEsIGIpKSlcbiAgICB0d29XYXkocHJvZHVjdChuZWdhdGl2ZShhKSwgc3VtKGEsIGIpKSlcbiAgICB0d29XYXkobmVnYXRpdmUocHJvZHVjdChhLCBzdW0oYSwgYikpKSlcbiAgICB0d29XYXkoc3VtKGEsIHN1bShiLCBjKSkpXG4gICAgdHdvV2F5KHN1bShhLCBuZWdhdGl2ZShiKSwgbmVnYXRpdmUoYykpKVxuICAgIHR3b1dheShzdW0ocHJvZHVjdChhLCBiKSwgYykpXG4gICAgdHdvV2F5KHN1bShmcmFjdGlvbihhLCBiKSwgYykpXG4gICAgdHdvV2F5KGZyYWN0aW9uKGZyYWN0aW9uKGEsIGIpLCBjKSlcbiAgICB0d29XYXkoc3VtKHByb2R1Y3QoYSwgYiwgeCksIGQpKVxuICAgIHR3b1dheShzdW0obmVnYXRpdmUocHJvZHVjdChhLCBiLCB4KSksIG5lZ2F0aXZlKGQpKSlcbiAgICB0d29XYXkoc3VtKG5lZ2F0aXZlKGEpLCBuZWdhdGl2ZShwcm9kdWN0KGIsIHgpKSwgbmVnYXRpdmUoZCkpKVxuICAgIHR3b1dheShwcm9kdWN0KGEsIGIsIGMsIGQpKVxuICAgIC8vIHR3b1dheShcImFiKmNkXCIpXG4gICAgLy8gdHdvV2F5KFwiaW50NHgrMlwiKVxuICAgIC8vIHR3b1dheShcImludCg0eCsyKVwiKVxuICAgIHR3b1dheShMb2dhcml0aG0ub2YoeCwgbnVtKDEwKSkpXG59XG4iLCJpbXBvcnQge1xuICAgIGEsXG4gICAgYixcbiAgICBuZWdhdGl2ZSxcbiAgICBudW0sXG4gICAgcHJvZHVjdCxcbiAgICBzdW0sXG4gICAgeFxufSBmcm9tIFwiLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQge1xuICAgIFdlYkdyYXBoVmlldyxcbiAgICBXZWJHcmFwaFZpZXdJbml0U2V0dGluZ3Ncbn0gZnJvbSBcIi4vbWF0aGxpYi91aWVsZW1lbnRzL1dlYkdyYXBoVmlld1wiXG5pbXBvcnQgeyBkZXJpdmVFeHBhbmQsIHdyYXBJbkdyYXBoIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9EZXJpdmVyXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9SZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGVcIlxuaW1wb3J0IHsgU3VidHJhY3RGcm9tQm90aFNpZGVzIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9hbGdlYnJhL1N1YnRyYWN0RnJvbUJvdGhTaWRlc1wiXG5pbXBvcnQgeyBEaXZpZGVPbkJvdGhTaWRlcyB9IGZyb20gXCIuL21hdGhsaWIvZGVyaXZhdGlvbnMvYWxnZWJyYS9EaXZpZGVPbkJvdGhTaWRlc1wiXG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvVmFyaWFibGVcIlxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL1N1bVwiXG5pbXBvcnQgeyBJbnRlcnByZXRlciB9IGZyb20gXCIuL21hdGhsaWIvaW50ZXJwcmV0aW5nL0ludGVycHJldGVyXCJcbmltcG9ydCB7IFJVTEVfSUQgYXMgRXZhbHVhdGVfU3Vtc19SdWxlIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9zaW1wbGlmaWNhdGlvbnMvRXZhbHVhdGVTdW1zXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4vbWF0aGxpYi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IHBhcnNlRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvdXNlcmlucHV0L0FudGxyTWF0aFBhcnNlclwiXG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCJcbmltcG9ydCB7IEludGVncmFsIH0gZnJvbSBcIi4vbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ3JhbFwiXG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwb25lbnRcIlxuXG5SZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGUucnVsZXMuYWRkKG5ldyBTdWJ0cmFjdEZyb21Cb3RoU2lkZXMoKSlcblJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZS5ydWxlcy5hZGQobmV3IERpdmlkZU9uQm90aFNpZGVzKCkpXG5cbi8qKlxuICogQ2FsbGVkIGFmdGVyIERPTSBpcyBsb2FkZWQuXG4gKiBTdWJzdGl0dXRlcyB0aGUgYm9keSBlbGVtZW50IGluIHRoZSBkb2N1bWVudFxuICogd2l0aCB0aGUgcHJpbWFyeSBpbnRlZ3JhdG9yIHZpZXcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkUHJpbWFyeVBhZ2UoKTogdm9pZCB7XG4gICAgLy9wcm9kdWN0KHN1bShhLCBiKSwgc3VtKGEsIG5lZ2F0aXZlKGIpKSwgYSwgYSlcbiAgICBsZXQgcm9vdDogRXhwcmVzc2lvbiB8IG51bGwgPSBJbnRlZ3JhbC5vZihcbiAgICAgICAgcHJvZHVjdChudW0oMTApLCBFeHBvbmVudC5vZih4LCBudW0oMikpKSxcbiAgICAgICAgeFxuICAgIClcblxuICAgIGxldCBkZXJpdmF0aW9uUmVzdWx0ID0gZGVyaXZlRXhwYW5kKHdyYXBJbkdyYXBoKHJvb3QpLCAzMCwgdHJ1ZSlcbiAgICBjb25zdCBncmFwaCA9IGRlcml2YXRpb25SZXN1bHQuZ3JhcGhcblxuICAgIGNvbnN0IGludGVycHJldGVyID0gbmV3IEludGVycHJldGVyKHtcbiAgICAgICAgc2tpcHM6IHNldE9mKEV2YWx1YXRlX1N1bXNfUnVsZSlcbiAgICB9KVxuXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0XCIpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnRcbiAgICBpbnB1dCEuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XG4gICAgICAgIGlmIChlLmtleSAhPT0gXCJFbnRlclwiKSByZXR1cm5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgaW5wdXQudmFsdWUgPSBpbnB1dC52YWx1ZS50cmltRW5kKClcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcm9vdCA9IHBhcnNlRXhwcmVzc2lvbihpbnB1dC52YWx1ZSlcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcm9vdCA9IG51bGxcbiAgICAgICAgICAgIGFsZXJ0KFwiTm90IGEgdmFsaWQgaW5wdXRcIilcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgZGVyaXZhdGlvblJlc3VsdCA9IGRlcml2ZUV4cGFuZCh3cmFwSW5HcmFwaChyb290KSwgNSwgdHJ1ZSlcbiAgICAgICAgY29uc3QgZ3JhcGggPSBkZXJpdmF0aW9uUmVzdWx0LmdyYXBoXG5cbiAgICAgICAgZ3JhcGhWaWV3LnNldEdyYXBoKGdyYXBoLCBzZXRPZihyb290KSlcbiAgICB9KVxuXG4gICAgY29uc3Qgb3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRwdXRib3hcIikhXG5cbiAgICBjb25zdCBjb25maWc6IFdlYkdyYXBoVmlld0luaXRTZXR0aW5ncyA9IHtcbiAgICAgICAgc2hvd0FyZ3VtZW50czogZmFsc2UsXG4gICAgICAgIGRyYXdFZGdlTGluZXM6IHRydWUsXG4gICAgICAgIGRlYnVnQ29ybmVyRW5hYmxlZDogdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IGdyYXBoVmlldyA9IG5ldyBXZWJHcmFwaFZpZXcoXG4gICAgICAgIGdyYXBoLFxuICAgICAgICBuZXcgU2V0KFtyb290XSksXG4gICAgICAgIGludGVycHJldGVyLFxuICAgICAgICBjb25maWdcbiAgICApXG4gICAgZ3JhcGhWaWV3LnNldE5vZGVDb2xvcmluZ1NjaGVtZShuID0+IHtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBpZiAoIWRlcml2YXRpb25SZXN1bHQuaXNTaW1wbGlmaWVkKG4pKSByZXR1cm4gXCJsaWdodGdyYXlcIlxuXG4gICAgICAgICAgICBpZiAobiBpbnN0YW5jZW9mIFByb2R1Y3QpXG4gICAgICAgICAgICAgICAgaWYgKGRlcml2YXRpb25SZXN1bHQucGFzc2VkRmFjdG9yaW5nU2ltcGxpZmljYXRpb24uaGFzKG4pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb3JhbFwiXG4gICAgICAgICAgICBpZiAobiBpbnN0YW5jZW9mIFN1bSlcbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZhdGlvblJlc3VsdC5wYXNzZWRQb2x5bm9taWFsU2ltcGxpZmljYXRpb24uaGFzKG4pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ5ZWxsb3dcIlxuICAgICAgICAgICAgaWYgKGRlcml2YXRpb25SZXN1bHQucGFzc2VkQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLmhhcyhuKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJsaWdodGdyZWVuXCJcblxuICAgICAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBWYXJpYWJsZSkgcmV0dXJuIFwib3JhbmdlXCJcblxuICAgICAgICAgICAgcmV0dXJuIFwibGlnaHRibHVlXCJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJibGFja1wiXG4gICAgfSlcbiAgICBncmFwaFZpZXcuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ3ZWItZ3JhcGh2aWV3XCIpXG4gICAgb3V0LmFwcGVuZENoaWxkKGdyYXBoVmlldylcbn1cbiIsImltcG9ydCB7XG4gICAgYSxcbiAgICBiLFxuICAgIGMsXG4gICAgZCxcbiAgICBmcmFjdGlvbixcbiAgICBuZWdhdGl2ZSxcbiAgICBudW0sXG4gICAgcG93LFxuICAgIHByb2R1Y3QsXG4gICAgc3VtLFxuICAgIHgsXG4gICAgeVxufSBmcm9tIFwiLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBkZXJpdmVFeHBhbmQsIHdyYXBJbkdyYXBoIH0gZnJvbSBcIi4vbWF0aGxpYi9kZXJpdmF0aW9ucy9EZXJpdmVyXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgRWRpdGFibGVNYXRoVmlldyB9IGZyb20gXCIuL21hdGhsaWIvdWllbGVtZW50cy9FZGl0YWJsZU1hdGhWaWV3XCJcbmltcG9ydCB7IHBhcnNlRXhwcmVzc2lvbiB9IGZyb20gXCIuL21hdGhsaWIvdXNlcmlucHV0L0FudGxyTWF0aFBhcnNlclwiXG5cbi8qKlxuICogQ2FsbGVkIGFmdGVyIERPTSBpcyBsb2FkZWQuXG4gKiBTdWJzdGl0dXRlcyB0aGUgYm9keSBlbGVtZW50IGluIHRoZSBkb2N1bWVudFxuICogd2l0aCB0aGUgcHJpbWFyeSBpbnRlZ3JhdG9yIHZpZXcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU2ltcGxpZmljYXRpb25UZXN0UGFnZSgpIHtcbiAgICBjb25zdCBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdIGFzIEhUTUxCb2R5RWxlbWVudFxuICAgIHBhZ2Uuc3R5bGUucGFkZGluZyA9IFwiOGNoXCJcblxuICAgIGZ1bmN0aW9uIHAoY29udGVudDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbiAgICAgICAgZS5pbm5lclRleHQgPSBjb250ZW50XG4gICAgICAgIHJldHVybiBlXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlldyhleHA6IEV4cHJlc3Npb24pOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgRWRpdGFibGVNYXRoVmlldygpXG4gICAgICAgIGUudmFsdWUgPSBleHBcbiAgICAgICAgcmV0dXJuIGVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdGVzdCBjb2x1bW4gdG8gdGhlIHBhZ2UuXG4gICAgICogQHBhcmFtIHN0YXJ0XG4gICAgICogQHBhcmFtIGFuc3cgVGhlIGNvcnJlY3Qgc2ltcGxpZmljYXRpb24gb2YgdGhlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2ltcGxpZnkoc3RhcnQ6IEV4cHJlc3Npb24sIGFuc3c6IEV4cHJlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIilcbiAgICAgICAgdGFibGUuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICB0YWJsZS5zdHlsZS53aWR0aCA9IFwiODAlXCJcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHJvdylcblxuICAgICAgICBmdW5jdGlvbiBhcHBlbmQoY2VsbDogSFRNTFRhYmxlQ2VsbEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgICAgIGNlbGwuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRhMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICBjb25zdCBkYXRhMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICBjb25zdCBkYXRhMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICBhcHBlbmQoZGF0YTEpXG4gICAgICAgIGFwcGVuZChkYXRhMilcbiAgICAgICAgYXBwZW5kKGRhdGEzKVxuXG4gICAgICAgIGRhdGExLmFwcGVuZENoaWxkKHZpZXcoc3RhcnQpKVxuICAgICAgICBjb25zdCBkZXJpdmF0aW9uUmVzdWx0ID0gZGVyaXZlRXhwYW5kKHdyYXBJbkdyYXBoKHN0YXJ0KSwgNDApXG5cbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGRlcml2YXRpb25SZXN1bHQuc2ltcGxpZmllZEV4cHJlc3Npb25zXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMubGVuZ3RoKVxuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGFibGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIlxuICAgICAgICAgICAgcGFnZS5hcHBlbmQodGFibGUpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBkYXRhMi5hcHBlbmRDaGlsZCh2aWV3KHJlc3VsdHNbMF0pKVxuICAgICAgICBkYXRhMy5hcHBlbmRDaGlsZCh2aWV3KGFuc3cpKVxuXG4gICAgICAgIHBhZ2UuYXBwZW5kKHRhYmxlKVxuXG4gICAgICAgIC8vIENvbmRpdGlvbmFsIGZvcm1hdHRpbmdcbiAgICAgICAgaWYgKHJlc3VsdHNbMF0gPT09IGFuc3cpIHtcbiAgICAgICAgICAgIGRhdGEyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibGlnaHRncmVlblwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhMi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiXG4gICAgICAgICAgICBjb25zdCBkYXRhNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICAgICAgY29uc3QgZGF0YTUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIilcbiAgICAgICAgICAgIGNvbnN0IGRhdGE2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpXG4gICAgICAgICAgICBhcHBlbmQoZGF0YTQpXG4gICAgICAgICAgICBhcHBlbmQoZGF0YTUpXG4gICAgICAgICAgICBhcHBlbmQoZGF0YTYpXG4gICAgICAgICAgICBkYXRhNC5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgIHJlc3VsdHNbMF0udG9VbmFtYmlnaW91c1N0cmluZygpICtcbiAgICAgICAgICAgICAgICBcIjxicj5cIiArXG4gICAgICAgICAgICAgICAgYW5zdy50b1VuYW1iaWdpb3VzU3RyaW5nKClcbiAgICAgICAgICAgIGRhdGE1LmlubmVySFRNTCA9XG4gICAgICAgICAgICAgICAgXCJIYXNoZXM6IDxicj5cIiArIHJlc3VsdHNbMF0uaGFzaCArIFwiPGJyPlwiICsgYW5zdy5oYXNoXG4gICAgICAgICAgICBkYXRhNi5pbm5lckhUTUwgPSBcIklEczogXCIgKyByZXN1bHRzWzBdLmlkICsgXCI8YnI+XCIgKyBhbnN3LmlkXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcmFwcGVyIGZvciBzaW1wbGlmeSB0aGF0IHBhcnNlcyBzdHJpbmdzXG4gICAgICogQHBhcmFtIGlucHV0XG4gICAgICogQHBhcmFtIGFuc3dcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwU2ltcChpbnB1dDogc3RyaW5nLCBhbnN3OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgaW5wdXRFeHAgPSBwYXJzZUV4cHJlc3Npb24oaW5wdXQpXG4gICAgICAgIGNvbnN0IGFuc3dFeHAgPSBwYXJzZUV4cHJlc3Npb24oYW5zdylcbiAgICAgICAgc2ltcGxpZnkoaW5wdXRFeHAsIGFuc3dFeHApXG4gICAgfVxuXG4gICAgLy8gRXhwcmVzc2lvbnMgYW5kIHRoZWlyIGNvcnJlY3Qgc2ltcGxpZmljYXRpb25zXG4gICAgc2ltcGxpZnkoc3VtKHgsIHgpLCBwcm9kdWN0KG51bSgyKSwgeCkpXG4gICAgc2ltcGxpZnkocHJvZHVjdCh4LCB4KSwgcG93KHgsIG51bSgyKSkpXG4gICAgc2ltcGxpZnkoc3VtKGEsIGEsIGIpLCBzdW0ocHJvZHVjdChudW0oMiksIGEpLCBiKSlcbiAgICBzaW1wbGlmeShwcm9kdWN0KHBvdyhhLCBiKSwgcG93KGMsIGIpKSwgcHJvZHVjdChwb3coYSwgYiksIHBvdyhjLCBiKSkpXG4gICAgc2ltcGxpZnkocHJvZHVjdChwb3coYSwgYiksIHBvdyhhLCBjKSksIHBvdyhhLCBzdW0oYiwgYykpKVxuICAgIHNpbXBsaWZ5KHByb2R1Y3QocG93KGEsIGIpLCBwb3coYSwgYikpLCBwb3coYSwgcHJvZHVjdChudW0oMiksIGIpKSlcbiAgICBwU2ltcChcIihhK2IpKGErYilcIiwgXCIoYStiKV4yXCIpXG4gICAgcFNpbXAoXCIoYStiKShhLWIpXCIsIFwiYV4yLWJeMlwiKVxuICAgIHBTaW1wKFwiYl4yKmJcIiwgXCJiXjNcIilcbiAgICAvLyBSYW5kb20gb25saW5lIHByb2JsZW1zXG4gICAgcFNpbXAoXCIoLSgxL3gpKzEpKCh4XjIpLyh4LTEpKVwiLCBcInhcIilcbiAgICBwU2ltcChcIigzeCsyN3krMTV6KS8oeCs5eSs1eilcIiwgXCIzXCIpXG4gICAgcFNpbXAoXCIoeF4yLTkpLyh4KzMpXCIsIFwiKHgtMylcIilcbiAgICBwU2ltcChcIngrMyooMTAreSktN3gteVwiLCBcIi02eCsyeSszMFwiKVxuICAgIHBTaW1wKFwiKDUvKDJ4LTMpLSgzLygoMngtMyleMikpXCIsIFwiKDIoNXgtOSkpLygoMngtMyleMilcIilcbn1cbiIsImltcG9ydCB7IGRlcml2ZUV4cGFuZCwgd3JhcEluR3JhcGggfSBmcm9tIFwiLi9tYXRobGliL2Rlcml2YXRpb25zL0Rlcml2ZXJcIlxuaW1wb3J0IHsgR3JhcGhFZGdlIH0gZnJvbSBcIi4vbWF0aGxpYi9HcmFwaFwiXG5pbXBvcnQgeyBFZGl0YWJsZU1hdGhWaWV3IH0gZnJvbSBcIi4vbWF0aGxpYi91aWVsZW1lbnRzL0VkaXRhYmxlTWF0aFZpZXdcIlxuaW1wb3J0IHBhdGggZnJvbSBcIm5ncmFwaC5wYXRoXCJcbmltcG9ydCBjcmVhdGVHcmFwaCBmcm9tIFwibmdyYXBoLmdyYXBoXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuL21hdGhsaWIvTWF0aEdyYXBoTm9kZVwiXG5pbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuL21hdGhsaWIvQXJndW1lbnRcIlxuaW1wb3J0IHsgQXJndW1lbnROb2RlVmlldyB9IGZyb20gXCIuL21hdGhsaWIvdWllbGVtZW50cy9Bcmd1bWVudE5vZGVWaWV3XCJcbmltcG9ydCB7IEV4cHJlc3Npb25Ob2RlVmlldyB9IGZyb20gXCIuL21hdGhsaWIvdWllbGVtZW50cy9FeHByZXNzaW9uTm9kZVZpZXdcIlxuaW1wb3J0IHsgR3JhcGhNaW5pcHVsYXRvciB9IGZyb20gXCIuL21hdGhsaWIvR3JhcGhNaW5pcHVsYXRvclwiXG5pbXBvcnQgeyBwYXJzZUV4cHJlc3Npb24gfSBmcm9tIFwiLi9tYXRobGliL3VzZXJpbnB1dC9BbnRsck1hdGhQYXJzZXJcIlxuaW1wb3J0IHsgSW50ZXJwcmV0ZXIgfSBmcm9tIFwiLi9tYXRobGliL2ludGVycHJldGluZy9JbnRlcnByZXRlclwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBSVUxFX0lEIGFzIEV2YWx1YXRlX1N1bXNfUnVsZSB9IGZyb20gXCIuL21hdGhsaWIvZGVyaXZhdGlvbnMvc2ltcGxpZmljYXRpb25zL0V2YWx1YXRlU3Vtc1wiXG5pbXBvcnQgeyBQYXRoIH0gZnJvbSBcIi4vbWF0aGxpYi9pbnRlcnByZXRpbmcvUGF0aFwiXG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkU29sdmVyUGFnZSgpOiB2b2lkIHtcbiAgICBjb25zdCBpbnB1dFZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2JsZW1cIikhIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnRcbiAgICBjb25zdCBwcm9ibGVtVmlld0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICBcImV4cHJlc3Npb25WaWV3RGl2XCJcbiAgICApIGFzIEhUTUxEaXZFbGVtZW50XG4gICAgY29uc3Qgc29sdXRpb25WaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgIFwic29sdXRpb25cIlxuICAgICkhIGFzIEVkaXRhYmxlTWF0aFZpZXdcbiAgICBjb25zdCBzdGVwTGlzdFZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0ZXBzXCIpIVxuXG4gICAgLy8gUG9wdWxhdGUgdWlcbiAgICBjb25zdCBwcm9ibGVtVmlldyA9IG5ldyBFZGl0YWJsZU1hdGhWaWV3KClcbiAgICBwcm9ibGVtVmlld0Rpdi5hcHBlbmRDaGlsZChwcm9ibGVtVmlldylcblxuICAgIGlucHV0Vmlldy5mb2N1cygpXG5cbiAgICBpbnB1dFZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICgpID0+IHtcbiAgICAgICAgLy8gUGFyc2UgaW5wdXRcbiAgICAgICAgbGV0IGV4cDogRXhwcmVzc2lvblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXhwID0gcGFyc2VFeHByZXNzaW9uKGlucHV0Vmlldy52YWx1ZSlcbiAgICAgICAgICAgIHByb2JsZW1WaWV3LnZhbHVlID0gZXhwXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHN0ZXBMaXN0Vmlldy5zdHlsZS5vcGFjaXR5ID0gXCIwLjZcIlxuICAgICAgICAgICAgcHJvYmxlbVZpZXcudmFsdWUgPSBudWxsXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSB3ZXJlIGFibGUgdG8gcGFyc2UgdGhlIGlucHV0XG4gICAgICAgIHN0ZXBMaXN0Vmlldy5zdHlsZS5vcGFjaXR5ID0gXCIxXCJcblxuICAgICAgICAvLyBDbGVhciB0aGUgcHJldmlvdXMgcmVzdWx0XG4gICAgICAgIHdoaWxlIChzdGVwTGlzdFZpZXcuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc3RlcExpc3RWaWV3LnJlbW92ZUNoaWxkKHN0ZXBMaXN0Vmlldy5jaGlsZHJlblswXSlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN0ZXBzID0gZ2V0U29sdXRpb24oZXhwKVxuXG4gICAgICAgIGlmIChzdGVwcy5ub2Rlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgc3RlcExpc3RWaWV3LnRleHRDb250ZW50ID0gXCJDYW5ub3QgU2ltcGxpZnlcIlxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcudGV4dENvbnRlbnQgPSBcIlwiXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnRlcnByZXQgdGhlIHNvbHV0aW9uXG4gICAgICAgIGNvbnN0IGludGVycHJldGVyID0gbmV3IEludGVycHJldGVyKHtcbiAgICAgICAgICAgIHNraXBzOiBzZXRPZihFdmFsdWF0ZV9TdW1zX1J1bGUpXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHNraXBTZXQgPSBpbnRlcnByZXRlci5wcm9jZXNzUGF0aChzdGVwcylcblxuICAgICAgICAvLyBEaXNwbGF5IG5ldyByZXN1bHRcbiAgICAgICAgc29sdXRpb25WaWV3LnZhbHVlID0gc3RlcHMubm9kZXNbc3RlcHMubm9kZXMubGVuZ3RoIC0gMV0gYXMgRXhwcmVzc2lvblxuXG4gICAgICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUFkZChub2RlOiBFeHByZXNzaW9uKTogdm9pZCB7XG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcuYXBwZW5kQ2hpbGQobmV3IEV4cHJlc3Npb25Ob2RlVmlldyhub2RlLCB2aWV3ID0+IHt9KSlcblxuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHNraXBTZXQubmV4dChub2RlKVxuXG4gICAgICAgICAgICBpZiAobmV4dCA9PSBudWxsKSByZXR1cm5cblxuICAgICAgICAgICAgY29uc3QgYXJnID0gbmV4dC5hXG4gICAgICAgICAgICBzdGVwTGlzdFZpZXcuYXBwZW5kQ2hpbGQobmV3IEFyZ3VtZW50Tm9kZVZpZXcoYXJnLCB2aWV3ID0+IHt9KSlcbiAgICAgICAgICAgIHJlY3Vyc2l2ZUFkZChuZXh0LmUpXG4gICAgICAgIH1cblxuICAgICAgICByZWN1cnNpdmVBZGQoc3RlcHMubm9kZXNbMF0pXG4gICAgfSlcbn1cblxuLyoqXG4gKiBTaW1wbGlmaWVzIHRoZSBnaXZlbiBleHByZXNzaW9uIHJldHVybmluZyBhbiBhcnJheVxuICogb2Ygc3RlcHMgZW5kaW5nIGluIHRoZSBhbnN3ZXIuXG4gKiBUaGUgbGFzdCBub2RlIHdpbGwgYmUgYW4gZXhwcmVzc2lvbi5cbiAqIFJlc3VsdCBwYXRoIHdpbGwgaGF2ZSBubyBub2RlcyBpZiB0aGVyZSBpcyBubyBzb2x1dGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0U29sdXRpb24ocHJvYmxlbTogRXhwcmVzc2lvbik6IFBhdGg8RXhwcmVzc2lvbj4ge1xuICAgIGNvbnN0IGdyYXBoID0gd3JhcEluR3JhcGgocHJvYmxlbSlcbiAgICBjb25zdCBkZXJpdmF0aW9uUmVzdWx0ID0gZGVyaXZlRXhwYW5kKGdyYXBoLCA1MCwgdHJ1ZSlcblxuICAgIGxldCBzaW1wbGlmaWVkOiBFeHByZXNzaW9uID0gcHJvYmxlbVxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmFwaC5nZXROb2RlcygpKSB7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgICAgIGlmIChkZXJpdmF0aW9uUmVzdWx0LmlzU2ltcGxpZmllZChub2RlKSlcbiAgICAgICAgICAgICAgICBpZiAoc2ltcGxpZmllZC5jaGlsZENvdW50ID4gbm9kZS5jaGlsZENvdW50KVxuICAgICAgICAgICAgICAgICAgICBzaW1wbGlmaWVkID0gbm9kZSBhcyBFeHByZXNzaW9uXG4gICAgfVxuXG4gICAgLy8gQ29weSB0aGUgcmVzdWx0aW5nIGdyYXBoIGludG8gYSBsaWJyYXJ5IGltcGxlbWVudGF0aW9uIG9mIGdyYXBoXG4gICAgY29uc3QgbGlicmFyeUdyYXBoID0gY3JlYXRlR3JhcGg8TWF0aEdyYXBoTm9kZSwgR3JhcGhFZGdlPigpXG4gICAgZ3JhcGguZ2V0Tm9kZXMoKS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICBsaWJyYXJ5R3JhcGguYWRkTm9kZShuLmlkLCBuKVxuICAgIH0pXG5cbiAgICAvLyBJIGFzc3VtZSB0aGF0IGxpYnJhcnkgZ3JhcGggaXNuJ3QgZGlyZWN0ZWRcbiAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgR3JhcGhNaW5pcHVsYXRvci5kcm9wU3ltbWV0cmljKGdyYXBoLmdldEVkZ2VzKCkpKSB7XG4gICAgICAgIGlmIChlZGdlLmUgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgbGlicmFyeUdyYXBoLmFkZExpbmsoZWRnZS5uLmlkLCBlZGdlLmUuaWQpXG4gICAgICAgICAgICBsaWJyYXJ5R3JhcGguYWRkTGluayhlZGdlLmUuaWQsIGVkZ2UubjEuaWQpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAoZWRnZS5uIGluc3RhbmNlb2YgRXhwcmVzc2lvbiAmJiBlZGdlLm4xIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGBlZGdlICR7ZWRnZS5ufSBBTkQgJHtlZGdlLm4xfWApXG4gICAgfVxuXG4gICAgLy8gRG8gcGF0aCBmaW5kaW5nIG9wZXJhdGlvbiBvbiBpdFxuICAgIGNvbnN0IHBhdGhGaW5kZXIgPSBwYXRoLm5iYTxNYXRoR3JhcGhOb2RlLCBHcmFwaEVkZ2U+KGxpYnJhcnlHcmFwaClcbiAgICBjb25zdCByZXN1bHRQYXRoID0gcGF0aEZpbmRlci5maW5kKHByb2JsZW0uaWQsIHNpbXBsaWZpZWQhLmlkKS5yZXZlcnNlKClcblxuICAgIGNvbnN0IHR5cGVkUmVzdWx0UGF0aCA9IHJlc3VsdFBhdGhcbiAgICAgICAgLm1hcChub2RlID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlLmRhdGEgaW5zdGFuY2VvZiBBcmd1bWVudCkgcmV0dXJuIG5vZGUuZGF0YSBhcyBBcmd1bWVudFxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5kYXRhIGluc3RhbmNlb2YgRXhwcmVzc2lvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5kYXRhIGFzIEV4cHJlc3Npb25cbiAgICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpXG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIobm9kZSA9PiBub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbikgYXMgRXhwcmVzc2lvbltdXG5cbiAgICByZXR1cm4gbmV3IFBhdGgoZ3JhcGgsIC4uLnR5cGVkUmVzdWx0UGF0aClcbn1cbiIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4vR3JhcGhcIlxuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuL01hdGhHcmFwaE5vZGVcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCJcblxuLyoqXG4gKiBDb25uZWN0cyBvbmUgb3IgbW9yZSBub2RlcyAoZ3JvdW5kcykgdG8gb25lIG9yIG1vcmUgbm9kZXMgKGNsYWltcykuXG4gKiBDb250YWlucyBhbiBleHBsYW5hdGlvbi9hcmd1bWVudCBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBBcmd1bWVudCBleHRlbmRzIE1hdGhHcmFwaE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBncm91bmRzOiBTZXQ8RXhwcmVzc2lvbj4sXG4gICAgICAgIGNsYWltOiB7IG46IEV4cHJlc3Npb247IHI6IFJlbGF0aW9uc2hpcDsgbjE6IEV4cHJlc3Npb24gfSxcbiAgICAgICAgYXJndW1lbnQ6IHN0cmluZyxcbiAgICAgICAgcnVsZUlkOiBzdHJpbmdcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmdyb3VuZHMgPSBncm91bmRzXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5ncm91bmRzKVxuICAgICAgICB0aGlzLmNsYWltID0gY2xhaW1cbiAgICAgICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50XG4gICAgICAgIHRoaXMucnVsZUlkID0gcnVsZUlkXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgIH1cbiAgICBleHByZXNzaW9uRWRnZTogdHJ1ZSA9IHRydWVcbiAgICBnZXQgcmVsYXRpb25zaGlwKCk6IFJlbGF0aW9uc2hpcCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsYWltLnJcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiQXJndW1lbnQgXCIgKyB0aGlzLmNsYWltLnJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUd28gb3V0IG1hdGggZ3JhcGggbm9kZXMgdGhhdCBhcmUgcmVsYXRlZCBieSB0aGlzIEFydWdtZW50LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBjbGFpbTogeyBuOiBFeHByZXNzaW9uOyByOiBSZWxhdGlvbnNoaXA7IG4xOiBFeHByZXNzaW9uIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZXhwbGFuYXRpb24gdGhhdCBjb25uZWN0cyB0aGUgYXJndW1lbnQncyBncm91bmRzIHRvXG4gICAgICogaXQncyBjbGFpbWVkIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSB0d28gb3V0IG5vZGVzLlxuICAgICAqXG4gICAgICovXG4gICAgcHVibGljIHJlYWRvbmx5IGFyZ3VtZW50OiBzdHJpbmdcbiAgICAvKipcbiAgICAgKiBOb2RlcyB0aGF0IGhhdmUgYW4gZWRnZSBwb2ludGluZyB0byB0aGlzIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSBncm91bmRzOiBTZXQ8RXhwcmVzc2lvbj5cblxuICAgIC8qKlxuICAgICAqIFRoZSBpZCBvZiB0aGUgcnVsZSB3aGljaCBnZW5lcmF0ZWQgdGhpcyBhcmd1bWVudC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgcnVsZUlkOiBzdHJpbmdcblxuICAgIHByaXZhdGUgcmVwT2soKSB7XG4gICAgICAgIGFzc2VydCh0aGlzLmdyb3VuZHMgIT0gbnVsbClcbiAgICAgICAgZm9yIChjb25zdCBncm91bmQgb2YgdGhpcy5ncm91bmRzKSB7XG4gICAgICAgICAgICBhc3NlcnQoZ3JvdW5kICE9IG51bGwgJiYgZ3JvdW5kICE9IHVuZGVmaW5lZClcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQodGhpcy5jbGFpbS5uICE9IG51bGwgJiYgdGhpcy5jbGFpbS5uICE9IHVuZGVmaW5lZClcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2xhaW0ubjEgIT0gbnVsbCAmJiB0aGlzLmNsYWltLm4xICE9IHVuZGVmaW5lZClcbiAgICAgICAgYXNzZXJ0KHRoaXMuY2xhaW0uciAhPSB1bmRlZmluZWQgJiYgdGhpcy5jbGFpbS5yICE9IG51bGwpXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0ludGVnZXJcIlxuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi9leHByZXNzaW9ucy9GcmFjdGlvblwiXG5pbXBvcnQgeyBJbnRlZ3JhbCB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0ludGVncmFsXCJcbmltcG9ydCB7IGZhY3Rvck9yZGVyLCBQcm9kdWN0IH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBvcmRlclRlcm1zLCBTdW0sIFN1bVR5cGUgfSBmcm9tIFwiLi9leHByZXNzaW9ucy9TdW1cIlxuaW1wb3J0IHsgVmFyaWFibGUgfSBmcm9tIFwiLi9leHByZXNzaW9ucy9WYXJpYWJsZVwiXG5pbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuL0FyZ3VtZW50XCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi91dGlsL2Fzc2VydFwiXG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcblxuZXhwb3J0IGZ1bmN0aW9uIGZyYWN0aW9uKG51bTogRXhwcmVzc2lvbiwgZGVuOiBFeHByZXNzaW9uKTogRnJhY3Rpb24ge1xuICAgIHJldHVybiBGcmFjdGlvbi5vZihudW0sIGRlbilcbn1cblxuLyoqXG4gKiBBIGNvbnZlbmllbmNlIG1ldGhvZCBmb3IgU3VtLm9mKClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1bSguLi50ZXJtczogRXhwcmVzc2lvbltdKTogU3VtIHtcbiAgICByZXR1cm4gU3VtLm9mKHRlcm1zKVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGNvcnJlY3RseSBvcmRlcmVkIHN1bSBvZiB0aGUgZ2l2ZW4gc3VtLlxuICogMSArIGEgPSBhICsgMVxuICogRm9sbG93cyB0aGUgc3BlYyBnaXZlbiBpbiB0aGUgU3VtLnRzIGZpbGUuXG4gKiBAcGFyYW0gc3VtXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJlZFN1bShzdW06IFN1bSk6IFN1bSB7XG4gICAgY29uc3Qgb3JkZXJlZCA9IG9yZGVyVGVybXMoLi4uc3VtLnRlcm1zKVxuICAgIHJldHVybiBTdW0ub2Yob3JkZXJlZClcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzdW0gb2YgdGhlIGdpdmVuIHRlcm1zLCBldmFsdWF0aW5nIGFueSBpbnRlZ2VyIHRlcm1zLlxuICogUHV0cyBmaW5hbCBjb25zdGFudCBpbnRlZ2VyIGFzIHRoZSBsYXN0IHRlcm0uXG4gKiBJZiB0aGUgcmVzdWx0IGlzIGEgc3VtLCBpdCB3aWxsIG5vdCBoYXZlIHRoZSBpbnRlZ2VyIDAgYXMgYSB0ZXJtLlxuICogSWYgYWxsIGdpdmVuIHRlcm1zIHN1bSB0byB6ZXJvLCB0aGUgaW50ZWdlciB6ZXJvIHdpbGwgYmUgcmV0dXJuZWQuXG4gKiBAcGFyYW0gdGVybXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1bUV2YWxJbnRlZ2VyVGVybXMoLi4udGVybXM6IEV4cHJlc3Npb25bXSk6IEV4cHJlc3Npb24ge1xuICAgIGNvbnN0IGludGVnZXJzID0gdGVybXMuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIEludGVnZXIpLmxlbmd0aFxuICAgIGlmIChpbnRlZ2VycyA8IDIpIHJldHVybiBzdW0oLi4udGVybXMpXG5cbiAgICBjb25zdCBub25JbnRUZXJtcyA9IHRlcm1zLmZpbHRlcihlID0+ICEoZSBpbnN0YW5jZW9mIEludGVnZXIpKVxuICAgIGNvbnN0IGludFRlcm0gPSB0ZXJtc1xuICAgICAgICAuZmlsdGVyKGUgPT4gZSBpbnN0YW5jZW9mIEludGVnZXIpXG4gICAgICAgIC5tYXA8SW50ZWdlcj4oZSA9PiBlIGFzIEludGVnZXIpXG4gICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IG51bShhLnZhbHVlICsgYi52YWx1ZSkpXG5cbiAgICBpZiAoaW50VGVybS52YWx1ZSA9PSAwKSB7XG4gICAgICAgIGlmIChub25JbnRUZXJtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtKC4uLm5vbkludFRlcm1zKVxuICAgICAgICB9IGVsc2UgaWYgKG5vbkludFRlcm1zLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9uSW50VGVybXNbMF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRUZXJtXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9uSW50VGVybXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRUZXJtXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VtKC4uLm5vbkludFRlcm1zLCBpbnRUZXJtKVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHN1bSBvZiB0aGUgZ2l2ZW4gdGVybXMuIEV2YWx1YXRlcyBhbnlcbiAqIGludGVnZXIgdGVybXMuIEFkZGl0aW9uYWxseSBjYW5jZWxzIG91dCBhbnkgcG9zaXRpdmVcbiAqIG5lZ2F0aXZlIHRlcm1zLlxuICpcbiAqIFNpbXBsaWZpZXNcbiAqICB4ICsgYSAtIGEgPSB4XG4gKiB4ICsgYWIgLSBhYiA9IHhcbiAqIHggKyAyYWIgLSAyYWIgPSB4XG4gKiBhIC0gYSA9IDBcbiAqXG4gKiBEb2Vzbid0IGFmZmVjdFxuICogIHggKyAyYSAtIGFcbiAqIEBwYXJhbSB0ZXJtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3VtSW50dWl0aXZlKC4uLnRlcm1zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uIHtcbiAgICBjb25zdCBpbnRFdmFsID0gc3VtRXZhbEludGVnZXJUZXJtcyguLi50ZXJtcylcbiAgICBpZiAoaW50RXZhbC5jbGFzcyAhPSBTdW1UeXBlKSByZXR1cm4gaW50RXZhbFxuICAgIHRlcm1zID0gWy4uLihpbnRFdmFsIGFzIFN1bSkudGVybXNdXG5cbiAgICAvLyBGaW5kIG9wcG9zaXRlIHBhaXJzXG4gICAgLy8gVGhleSB3aWxsIHRha2UgdGhlIGZvcm1cbiAgICAvLyAgICAgIGV4cCArIC0xICogZXhwXG4gICAgLy8gSSBhc3N1bWUgaGVyZSB0aGF0IHRoZSBvbmx5IHdheSB0byBub3RhdGVcbiAgICAvLyBuZWdhdGl2aXR5IGlzIGJ5IG11bHRpcGx5aW5nIGJ5IC0xXG4gICAgdGVybXM6IGZvciAoY29uc3QgdCBvZiB0ZXJtcykge1xuICAgICAgICBjb25zdCBvdGhlclRlcm1zID0gWy4uLnRlcm1zXVxuICAgICAgICByZW1vdmUob3RoZXJUZXJtcywgdClcblxuICAgICAgICBmb3IgKGNvbnN0IG90aGVyIG9mIG90aGVyVGVybXMpIHtcbiAgICAgICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIuaXNOZWdhdGlvbiAmJiBvdGhlci5uZWdhdGlvbiA9PT0gdCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUodGVybXMsIG90aGVyKVxuICAgICAgICAgICAgICAgICAgICByZW1vdmUodGVybXMsIHQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlIHRlcm1zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRlcm1zLmxlbmd0aCA9PSAwKSByZXR1cm4gSW50ZWdlci5vZigwKVxuICAgIGVsc2UgaWYgKHRlcm1zLmxlbmd0aCA9PSAxKSByZXR1cm4gdGVybXNbMF1cbiAgICBlbHNlIHJldHVybiBzdW0oLi4udGVybXMpXG59XG5cbi8qKlxuICogRmluZHMgdGhlIHN1bSBvZiB0aGUgZ2l2ZW4gdGVybXMgb3IgaWYgb25seSAxXG4gKiBpcyBnaXZlbiByZXR1cm5zIHRoYXQgdGVybS5cbiAqIEBwYXJhbSB0ZXJtc1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1bU9yTm90KC4uLnRlcm1zOiBFeHByZXNzaW9uW10pOiBFeHByZXNzaW9uIHtcbiAgICBpZiAodGVybXMubGVuZ3RoID09IDEpIHJldHVybiB0ZXJtc1swXVxuICAgIGVsc2UgcmV0dXJuIHN1bSguLi50ZXJtcylcbn1cblxuLyoqXG4gKiBQcm9kdWNlcyBhIHByb2R1Y3QgZnJvbSB0aGUgZ2l2ZW4gZmFjdG9yc1xuICogd2hlcmUgdGhlIGZhY3RvcnMgYXJlIG9yZGVyZWQgYWNjb3JkaW5nIHRvIGNvbnZlbnRpb24uXG4gKiBAcGFyYW0gZmFjdG9ycyBBdCBsZWFzdCAyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmRlcmVkUHJvZHVjdCguLi5mYWN0b3JzOiBFeHByZXNzaW9uW10pOiBQcm9kdWN0IHtcbiAgICBmYWN0b3JzLnNvcnQoZmFjdG9yT3JkZXIpXG4gICAgcmV0dXJuIHByb2R1Y3QoLi4uZmFjdG9ycylcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSB3cmFwcGVyIGZ1bmN0aW9uIGZvciBFeHBvbmVudC5vZlxuICogQHBhcmFtIGJhc2VcbiAqIEBwYXJhbSBwb3dlclxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvdyhiYXNlOiBFeHByZXNzaW9uLCBwb3dlcjogRXhwcmVzc2lvbik6IEV4cG9uZW50IHtcbiAgICByZXR1cm4gRXhwb25lbnQub2YoYmFzZSwgcG93ZXIpXG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgdGhlIGdpdmVuXG4gKiBlbGVtZW50IGZyb20gdGhlIGFycmF5LiBSZWFsbHkgc2hvdWxkIGJlXG4gKiBwYXJ0IG9mIHRoZSBzdGQgbGlicmFyeS4gSWRlbnRpZmllcyBvYmplY3RcbiAqIHdpdGggcmVmZXJlbmNpYWwgZXF1YWxpdHkuXG4gKiBAcGFyYW0gYXJyYXlcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmU8VD4oYXJyYXk6IFRbXSwgZWxlbWVudDogVCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycmF5W2ldID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgICBhcnJheS5zcGxpY2UoaSwgMSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgYSBuZXcgYXJyYXkgd2l0aG91dCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgdGhlIGdpdmVuXG4gKiBlbGVtZW50LiBSZWFsbHkgc2hvdWxkIGJlXG4gKiBwYXJ0IG9mIHRoZSBzdGQgbGlicmFyeS4gSWRlbnRpZmllcyBvYmplY3RcbiAqIHdpdGggcmVmZXJlbmNpYWwgZXF1YWxpdHkuXG4gKiBAcGFyYW0gYXJyYXlcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOZXc8VD4oYXJyYXk6IFRbXSwgZWxlbWVudDogVCk6IFRbXSB7XG4gICAgY29uc3QgaW5wdXQgPSBbLi4uYXJyYXldXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW5wdXRbaV0gPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlucHV0LnNwbGljZShpLCAxKVxuICAgICAgICAgICAgcmV0dXJuIGlucHV0XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2l2ZW4gYXJyYXkgZG9lc24ndCBjb250YWluIGVsZW1lbnQgXCIgKyBlbGVtZW50KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvZHVjdCguLi5mYWN0b3JzOiBFeHByZXNzaW9uW10pOiBQcm9kdWN0IHtcbiAgICBmYWN0b3JzLmZvckVhY2goZiA9PlxuICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICBmICE9IG51bGwgJiYgZiAhPSB1bmRlZmluZWQsXG4gICAgICAgICAgICBcIk1ha2luZyBwcm9kdWN0IHdpdGggbnVsbCBvciB1bmRlZmluZWQgZmFjdG9yXCJcbiAgICAgICAgKVxuICAgIClcbiAgICByZXR1cm4gUHJvZHVjdC5vZihmYWN0b3JzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRpdmUoZXhwcmVzc2lvbjogRXhwcmVzc2lvbik6IEV4cHJlc3Npb24ge1xuICAgIGFzc2VydChleHByZXNzaW9uICE9IHVuZGVmaW5lZCwgXCJUYWtpbmcgbmVnYXRpdmUgb2YgdW5kZWZpbmVkIGV4cHJlc3Npb25cIilcbiAgICBpZiAoZXhwcmVzc2lvbiBpbnN0YW5jZW9mIEludGVnZXIpIHJldHVybiBJbnRlZ2VyLm9mKC1leHByZXNzaW9uLnZhbHVlKVxuICAgIGVsc2UgcmV0dXJuIFByb2R1Y3Qub2YoW0ludGVnZXIub2YoLTEpLCBleHByZXNzaW9uXSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG51bSh2YWw6IG51bWJlcik6IEludGVnZXIge1xuICAgIHJldHVybiBJbnRlZ2VyLm9mKHZhbClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHYoc3ltYm9sOiBzdHJpbmcpOiBWYXJpYWJsZSB7XG4gICAgcmV0dXJuIFZhcmlhYmxlLm9mKHN5bWJvbClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludChpbnRlZ3JhbmQ6IEV4cHJlc3Npb24sIHJlc3BlY3RUbzogRXhwcmVzc2lvbik6IEludGVncmFsIHtcbiAgICByZXR1cm4gSW50ZWdyYWwub2YoaW50ZWdyYW5kLCByZXNwZWN0VG8pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVpdmFsZW5jZUFyZ3VtZW50KFxuICAgIGZpcnN0OiBFeHByZXNzaW9uLFxuICAgIHNlY29uZDogRXhwcmVzc2lvbixcbiAgICBleHBsYW5hdGlvbjogc3RyaW5nXG4pOiBBcmd1bWVudCB7XG4gICAgcmV0dXJuIG5ldyBBcmd1bWVudChcbiAgICAgICAgc2V0T2YoZmlyc3QpLFxuICAgICAgICB7XG4gICAgICAgICAgICBuOiBmaXJzdCxcbiAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgIG4xOiBzZWNvbmRcbiAgICAgICAgfSxcbiAgICAgICAgZXhwbGFuYXRpb24sXG4gICAgICAgIFwiVEVTVF9BUkdVTUVOVFwiXG4gICAgKVxufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJucyBUaGUgcHJvZHVjdCBvZiB0aGUgZ2l2ZW4gZmFjdG9ycywgb3IgdGhlIG9ubHkgZmFjdG9yIGdpdmVuXG4gKiBpZiBvbmx5IG9uZSBnaXZlbi4gVGhyb3dzIGlmIG5vIGV4cHJlc3Npb25zIGFyZSBnaXZlbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2R1Y3RPck5vdCguLi5leHByZXNzaW9uczogRXhwcmVzc2lvbltdKTogRXhwcmVzc2lvbiB7XG4gICAgYXNzZXJ0KGV4cHJlc3Npb25zLmxlbmd0aCA+IDApXG4gICAgaWYgKGV4cHJlc3Npb25zLmxlbmd0aCA9PSAxKSByZXR1cm4gZXhwcmVzc2lvbnNbMF1cbiAgICByZXR1cm4gcHJvZHVjdCguLi5leHByZXNzaW9ucylcbn1cblxuLyoqXG4gKiBUYWtlcyB0aGUgcHJvZHVjdCBvZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbnMuIElmIG5vbmUgYXJlXG4gKiBnaXZlbiwgMS4gSWYgb25lIGlzIGdpdmVuLCB0aGF0IG9uZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2R1Y3RPck9uZSguLi5leHByZXNzaW9uczogRXhwcmVzc2lvbltdKTogRXhwcmVzc2lvbiB7XG4gICAgaWYgKGV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVtKDEpXG4gICAgfSBlbHNlIHJldHVybiBwcm9kdWN0T3JOb3QoLi4uZXhwcmVzc2lvbnMpXG59XG5cbi8qKlxuICogQHJldHVybnMgVGhlIHByb2R1Y3Qgb2YgdGhlIGdpdmVuIHRlcm1zIGV4bGN1ZGluZyB0aGUgZmlyc3QgaWZcbiAqICAgICAgICAgIGl0J3Mgb25lLiBJZiB0aGUgcmVzdWx0aW5nIHRlcm1zIGxpc3QgaXMgb25seSBvbmUgdGVybSxcbiAqICAgICAgICAgIHJldHVybnMgdGhlIG9ubHkgdGVybS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb2R1Y3RBbmROb3RUaW1lc09uZShcbiAgICAuLi5leHByZXNzaW9uczogRXhwcmVzc2lvbltdXG4pOiBFeHByZXNzaW9uIHtcbiAgICBpZiAoZXhwcmVzc2lvbnNbMF0gaW5zdGFuY2VvZiBJbnRlZ2VyICYmIGV4cHJlc3Npb25zWzBdLnZhbHVlID09IDEpIHtcbiAgICAgICAgZXhwcmVzc2lvbnMuc2hpZnQoKVxuICAgICAgICByZXR1cm4gcHJvZHVjdE9yTm90KC4uLmV4cHJlc3Npb25zKVxuICAgIH1cbiAgICByZXR1cm4gcHJvZHVjdE9yTm90KC4uLmV4cHJlc3Npb25zKVxufVxuXG5mdW5jdGlvbiBzZXRPZiguLi5leHByZXNzaW9uczogRXhwcmVzc2lvbltdKTogU2V0PEV4cHJlc3Npb24+IHtcbiAgICBjb25zdCBvdXQgPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcbiAgICBleHByZXNzaW9ucy5mb3JFYWNoKGUgPT4gb3V0LmFkZChlKSlcbiAgICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydCBjb25zdCBhID0gdihcImFcIilcbmV4cG9ydCBjb25zdCBiID0gdihcImJcIilcbmV4cG9ydCBjb25zdCBjID0gdihcImNcIilcbmV4cG9ydCBjb25zdCBkID0gdihcImRcIilcbmV4cG9ydCBjb25zdCBlID0gdihcImVcIilcbmV4cG9ydCBjb25zdCBmID0gdihcImZcIilcblxuZXhwb3J0IGNvbnN0IHggPSB2KFwieFwiKVxuZXhwb3J0IGNvbnN0IHkgPSB2KFwieVwiKVxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBNYXRoR3JhcGhOb2RlIH0gZnJvbSBcIi4vTWF0aEdyYXBoTm9kZVwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4vdXRpbC9hc3NlcnRcIlxuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIGdyYXBoIG9mIGV4cHJlc3Npb25zIGFuZCBzdGF0ZW1lbnRzXG4gKiBpbmNsdWRpbmcgZXZlcnl0aGluZyB3ZSBrbm93IGFib3V0IGEgcHJvYmxlbS5cbiAqIENvbm5lY3RzIEdyYXBoTm9kZXMgdmlhIEluZmVyZW5jZXMgZm9yIGVkZ2VzLlxuICpcbiAqIEl0J3MgYSBkaWdyYXBoLiBUT0RPOiBJdCBtYXkgYWxzbyBuZWVkIHRvIGJlIGEgbXVsdGlncmFwaC4uLlxuICovXG5leHBvcnQgY2xhc3MgR3JhcGgge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4oKVxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zID0gbmV3IE1hcDxNYXRoR3JhcGhOb2RlLCBTZXQ8TWF0aEdyYXBoTm9kZT4+KClcbiAgICAgICAgdGhpcy5lZGdlcyA9IG5ldyBNYXA8TWF0aEdyYXBoTm9kZSwgTWFwPE1hdGhHcmFwaE5vZGUsIEdyYXBoRWRnZT4+KClcbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBleHByZXNzaW9uIHRvIHRoZSBwcm9ibGVtLlxuICAgICAqIEBwYXJhbSBub2RlXG4gICAgICogQHJldHVybnMgdGhlIHNhbWUgZ3JhcGggZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHB1YmxpYyBhZGROb2RlKG5vZGU6IE1hdGhHcmFwaE5vZGUpOiBHcmFwaCB7XG4gICAgICAgIHRoaXMubm9kZXMuYWRkKG5vZGUpXG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgQXJndW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQXJndW1lbnQobm9kZSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gZWxlbWVudHMgZ2l2ZW4gYnkgdGhlIHVzZXIgdG8gdGhlIGdyYXBoLlxuICAgICAqIFNob3VsZCBub3QgYmUgY2FsbGVkIHRvIGFkZCBkZXJpdmVkIHRydXRocyBiYyB0aGlzIHdvbid0IHN0b3JlIGFuIGV4cGxhbmF0aW9uLlxuICAgICAqIEFkZHMgZ2l2ZW4gbm9kZXMgaWYgdGhleSBhcmVuJ3QgYWxyZWFkeSBvbiB0aGUgZ3JhcGguXG4gICAgICogQHBhcmFtIG5cbiAgICAgKiBAcGFyYW0gbjFcbiAgICAgKiBAcGFyYW0gclxuICAgICAqIEByZXR1cm5zIHNlbGYgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgcHVibGljIGFkZFJlbGF0aW9uc2hpcChcbiAgICAgICAgbjogTWF0aEdyYXBoTm9kZSxcbiAgICAgICAgbjE6IE1hdGhHcmFwaE5vZGUsXG4gICAgICAgIHI6IFJlbGF0aW9uc2hpcFxuICAgICk6IEdyYXBoIHtcbiAgICAgICAgdGhpcy5hZGROb2RlKG4pXG4gICAgICAgIHRoaXMuYWRkTm9kZShuMSlcblxuICAgICAgICAvLyBEZWZpbmVkIGJvdGggd2F5cyBiZWNhdXNlIHRoZSB1c2VyIGlzIGdpdmluZyBpdFxuICAgICAgICB0aGlzLmludGVybmFsQWRkKG4sIG4xLCBuZXcgR2l2ZW5FZGdlKHIpKVxuICAgICAgICB0aGlzLmludGVybmFsQWRkKG4xLCBuLCBuZXcgR2l2ZW5FZGdlKHIpKVxuXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBub2RlIHJlcHJlc2VudGluZyBhbiBhY3VtdWxhdGlvbiBvZiBmYWN0c1xuICAgICAqIHRoYXQgbGVhZHMgdG8gYSBjb25jbHVzaW9uLlxuICAgICAqIFRoZSByZWxhdGlvbnNoaXAgY2xhaW1lZCBieSB0aGUgYXJndW1lbnQgaXMgZGlyZWN0ZWRcbiAgICAgKiBmcm9tIG4gdG8gbjEgd2l0aCB0aGUgYXJndW1lbnQgYXMgdGhlIGVkZ2UuXG4gICAgICogQHBhcmFtIGFcbiAgICAgKiBAcmV0dXJucyB0aGUgc2FtZSBncmFwaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZEFyZ3VtZW50KGE6IEFyZ3VtZW50KTogR3JhcGgge1xuICAgICAgICB0aGlzLm5vZGVzLmFkZChhKVxuXG4gICAgICAgIC8vIEFkZCB0aGUgZ3JvdW5kc1xuICAgICAgICBmb3IgKGNvbnN0IGdyb3VuZCBvZiBhLmdyb3VuZHMpIHtcbiAgICAgICAgICAgIHRoaXMubm9kZXMuYWRkKGdyb3VuZClcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxBZGQoZ3JvdW5kLCBhLCBBcmd1bWVudEVkZ2UuVG8pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgdGhlIGNsYWltXG4gICAgICAgIGNvbnN0IGNsYWltID0gYS5jbGFpbVxuICAgICAgICB0aGlzLmFkZE5vZGUoY2xhaW0ubilcbiAgICAgICAgdGhpcy5hZGROb2RlKGNsYWltLm4xKVxuICAgICAgICB0aGlzLmludGVybmFsQWRkKGEsIGNsYWltLm4sIEFyZ3VtZW50RWRnZS5Gcm9tKVxuICAgICAgICB0aGlzLmludGVybmFsQWRkKGEsIGNsYWltLm4xLCBBcmd1bWVudEVkZ2UuRnJvbSlcbiAgICAgICAgdGhpcy5pbnRlcm5hbEFkZChjbGFpbS5uLCBjbGFpbS5uMSwgYSlcblxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgc2FtZSBncmFwaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZEFyZ3VtZW50cyguLi5hOiBBcmd1bWVudFtdKTogR3JhcGgge1xuICAgICAgICBhLmZvckVhY2goYXJnID0+IHRoaXMuYWRkQXJndW1lbnQoYXJnKSlcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiBkaXJlY3RlZCBlZGdlIHRvIHRoZSBncmFwaC4gSWYgZWl0aGVyIG5vZGVcbiAgICAgKiBpcyBtaXNzaW5nIGZyb20gdGhlIGdyYXBoLCBhZGRzIGl0LlxuICAgICAqIEBwYXJhbSBuXG4gICAgICogQHBhcmFtIG4xXG4gICAgICogQHBhcmFtIGVcbiAgICAgKiBAcmV0dXJucyBUaGlzLlxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRFZGdlKG46IE1hdGhHcmFwaE5vZGUsIG4xOiBNYXRoR3JhcGhOb2RlLCBlOiBHcmFwaEVkZ2UpOiBHcmFwaCB7XG4gICAgICAgIHRoaXMuYWRkTm9kZShuKVxuICAgICAgICB0aGlzLmFkZE5vZGUobjEpXG4gICAgICAgIHRoaXMuaW50ZXJuYWxBZGQobiwgbjEsIGUpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNldCBvZiBuZWlnaGJvcnMgb2YgYSBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlXG4gICAgICogQHBhcmFtIGRpcmVjdGlvbiBOb2RlcyB0aGF0IGFyZSBhZGphY2VudCB0byB0aGlzIG5vZGUsIGZyb20gdGhpcyBub2RlLCBvciBlaXRoZXIuXG4gICAgICogQHJldHVybnMgVW5kZWZpbmVkIGlmIHRoZSBub2RlIGlzbid0IGluIHRoaXMgZ3JhcGguIE90aGVyd2lzZSwgYSBzZXQgb2YgY29ubmVjdGVkIG5vZGVzLlxuICAgICAqICAgICAgICAgIElmIHRoZSBub2RlIGlzIGluIHRoZSBncmFwaCBidXQgaXNuJ3QgY29ubmVjdGVkIHRvIGFueXRoaW5nLCByZXR1cm5zIGVtcHR5IHNldC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TmVpZ2hib3JzKFxuICAgICAgICBub2RlOiBNYXRoR3JhcGhOb2RlLFxuICAgICAgICBkaXJlY3Rpb246IFwiaW5cIiB8IFwib3V0XCIgfCBcImJvdGhcIlxuICAgICk6IE1hdGhHcmFwaE5vZGVbXSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICghdGhpcy5ub2Rlcy5oYXMobm9kZSkpIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcIm91dFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnRoaXMuY29ubmVjdGlvbnMuZ2V0KG5vZGUpIV1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYWRqYWNlbnRUbyA9IG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4oKVxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbnMuZ2V0KG4pPy5oYXMobm9kZSkpIGFkamFjZW50VG8uYWRkKG4pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImluXCIpIHJldHVybiBbLi4uYWRqYWNlbnRUb11cblxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5jb25uZWN0aW9ucy5nZXQobm9kZSkgPz8gW10pIGFkamFjZW50VG8uYWRkKG4pXG5cbiAgICAgICAgcmV0dXJuIFsuLi5hZGphY2VudFRvXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIG51bWJlciBvZiBlZGdlcyB0aGlzIG5vZGUgaGFzLlxuICAgICAqIEBwYXJhbSBub2RlIFRoZSBub2RlIGJlaW5nIGNvbnNkZXJlZC5cbiAgICAgKiBAcGFyYW0gZGlyZWN0aW9uIENvdW50IG9ubHkgdGhlIGVkZ2VzIGdvaW5nIHRvd2FyZHMgdGhpcyBub2RlLCBhd2F5IGZyb21cbiAgICAgKiAgICAgICAgICBpdCwgb3IgYm90aC5cbiAgICAgKiBAcmV0dXJucyA+PSAwLCB1bmRlZmluZWQgaWYgdGhlIGdpdmVuIG5vZGUgaXNuJ3QgaW4gdGhlIGdyYXBoLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREZWdyZWUoXG4gICAgICAgIG5vZGU6IE1hdGhHcmFwaE5vZGUsXG4gICAgICAgIGRpcmVjdGlvbjogXCJpblwiIHwgXCJvdXRcIiB8IFwiYm90aFwiXG4gICAgKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCF0aGlzLm5vZGVzLmhhcyhub2RlKSkgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICBpZiAoZGlyZWN0aW9uID09IFwib3V0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25zLmdldChub2RlKT8uc2l6ZSA/PyAwXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlZ0luID0gMFxuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2gobiA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5nZXQobikgPT0gdW5kZWZpbmVkKSByZXR1cm5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25zLmdldChuKSEuaGFzKG5vZGUpKSBkZWdJbisrXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImluXCIpIHJldHVybiBkZWdJblxuXG4gICAgICAgIHJldHVybiBkZWdJbiArICh0aGlzLmNvbm5lY3Rpb25zLmdldChub2RlKT8uc2l6ZSA/PyAwKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBuIE5vZGUgaW4gdGhlIGdyYXBoLlxuICAgICAqIEBwYXJhbSBuMSBJbiB0aGUgZ3JhcGguXG4gICAgICogQHJldHVybnMgVW5kZWZpbmVkIGlmIGVpdGhlciBub2RlIGlzbid0IGluIHRoZSBncmFwaCBvciB0aGV5J3JlIG5vdFxuICAgICAqIGNvbm5lY3RlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RWRnZShuOiBNYXRoR3JhcGhOb2RlLCBuMTogTWF0aEdyYXBoTm9kZSk6IEdyYXBoRWRnZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgIHJldHVybiB0aGlzLmVkZ2VzLmdldChuKT8uZ2V0KG4xKVxuICAgIH1cblxuICAgIHB1YmxpYyBjb250YWlucyhub2RlOiBNYXRoR3JhcGhOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmhhcyhub2RlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIEEgbmV3IHNldCBjb250YWluaW5nIGFsbCB0aGUgbm9kZXMgaW4gdGhlIGdyYXBoXG4gICAgICovXG4gICAgcHVibGljIGdldE5vZGVzKCk6IFNldDxNYXRoR3JhcGhOb2RlPiB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0PE1hdGhHcmFwaE5vZGU+KHRoaXMubm9kZXMpXG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkZ2VzKCk6IFNldDx7XG4gICAgICAgIG46IE1hdGhHcmFwaE5vZGVcbiAgICAgICAgbjE6IE1hdGhHcmFwaE5vZGVcbiAgICAgICAgZTogR3JhcGhFZGdlXG4gICAgfT4ge1xuICAgICAgICBjb25zdCBvdXQgPSBuZXcgU2V0PHtcbiAgICAgICAgICAgIG46IE1hdGhHcmFwaE5vZGVcbiAgICAgICAgICAgIG4xOiBNYXRoR3JhcGhOb2RlXG4gICAgICAgICAgICBlOiBHcmFwaEVkZ2VcbiAgICAgICAgfT4oKVxuICAgICAgICB0aGlzLmVkZ2VzLmZvckVhY2goKG1hcCwgZmlyc3QpID0+IHtcbiAgICAgICAgICAgIG1hcC5mb3JFYWNoKChlZGdlLCBzZWNvbmQpID0+IHtcbiAgICAgICAgICAgICAgICBvdXQuYWRkKHsgbjogZmlyc3QsIG4xOiBzZWNvbmQsIGU6IGVkZ2UgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgbnVtTm9kZXMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMuc2l6ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIGdyYXBoIG5vZGVzIGFuZCBlZGdlcyB0byB0aGlzIG9uZS5cbiAgICAgKiBAcGFyYW0gZ3JhcGhcbiAgICAgKiBAcmV0dXJucyB0aGUgc2FtZSBncmFwaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHVibGljIGFkZEdyYXBoKGdyYXBoOiBHcmFwaCk6IEdyYXBoIHtcbiAgICAgICAgZ3JhcGgubm9kZXMuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIHRoaXMubm9kZXMuYWRkKG5vZGUpXG4gICAgICAgIH0pXG4gICAgICAgIGdyYXBoLmVkZ2VzLmZvckVhY2goKG1hcCwgbm9kZTEpID0+IHtcbiAgICAgICAgICAgIG1hcC5mb3JFYWNoKChlZGdlLCBub2RlMikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlZGdlIGluc3RhbmNlb2YgQXJndW1lbnQpIHRoaXMuYWRkQXJndW1lbnQoZWRnZSlcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlZGdlID09IFwic3VwcG9ydHNcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsQWRkKG5vZGUxLCBub2RlMiwgQXJndW1lbnRFZGdlLlRvKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWRnZSA9PSBcImNsYWltc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxBZGQobm9kZTEsIG5vZGUyLCBBcmd1bWVudEVkZ2UuRnJvbSlcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBFZGdlIFR5cGVcIilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMucmVwT2soKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gXCJHcmFwaChWID0ge1wiXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLm5vZGVzKSB7XG4gICAgICAgICAgICBvdXQgKz0gbm9kZS50b1N0cmluZygpICsgXCIsXCJcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpICsgXCJ9LCBFID0ge1wiXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZm9yRWFjaCgoc2V0LCBzcmMpID0+IHtcbiAgICAgICAgICAgIHNldC5mb3JFYWNoKGRlc3QgPT4ge1xuICAgICAgICAgICAgICAgIG91dCArPSBzcmMudG9TdHJpbmcoKSArIFwiIC0+IFwiICsgZGVzdC50b1N0cmluZygpICsgXCIsIFwiXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICBvdXQgKz0gXCJ9IEVkZ2UgQ291bnQ6IFwiICsgdGhpcy5jb25uZWN0aW9ucy5zaXplXG5cbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cblxuICAgIHByaXZhdGUgaW50ZXJuYWxBZGQoXG4gICAgICAgIG46IE1hdGhHcmFwaE5vZGUsXG4gICAgICAgIG4xOiBNYXRoR3JhcGhOb2RlLFxuICAgICAgICBlOiBHcmFwaEVkZ2VcbiAgICApOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbnMuZ2V0KG4pID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbnMuc2V0KG4sIG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4oKSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25zLmdldChuKSEuYWRkKG4xKVxuICAgICAgICBpZiAodGhpcy5lZGdlcy5nZXQobikgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVkZ2VzLnNldChuLCBuZXcgTWFwPEV4cHJlc3Npb24sIEdyYXBoRWRnZT4oKSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVkZ2VzLmdldChuKSEuc2V0KG4xLCBlKVxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcE9rKCkge1xuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0KHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT0gdW5kZWZpbmVkKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEFsbCBjb25uZWN0aW9ucy9lZGdlcyBoYXZlIG5vZGVzXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0KHRoaXMubm9kZXMuaGFzKGtleSkpXG4gICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydCh0aGlzLm5vZGVzLmhhcyhuKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKChtYXAsIGZpcnN0KSA9PiB7XG4gICAgICAgICAgICBtYXAuZm9yRWFjaCgoZWRnZSwgc2Vjb25kKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0KHRoaXMubm9kZXMuaGFzKGZpcnN0KSlcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5ub2Rlcy5oYXMoc2Vjb25kKSlcbiAgICAgICAgICAgICAgICBhc3NlcnQodGhpcy5jb25uZWN0aW9ucy5nZXQoZmlyc3QpIS5oYXMoc2Vjb25kKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBub2RlczogU2V0PE1hdGhHcmFwaE5vZGU+XG4gICAgLy8gUXVpY2tseSBhY2Nlc3MgYWxsIGNvbm5lY3Rpb25zIG9mIGEgbm9kZVxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29ubmVjdGlvbnM6IE1hcDxNYXRoR3JhcGhOb2RlLCBTZXQ8TWF0aEdyYXBoTm9kZT4+XG4gICAgLy8gRGV0ZXJtaW5lIHRoZSB0eXBlIG9mIGNvbm5lY3Rpb24gYmV0d2VlbiB0d28gbm9kZXNcbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkZ2VzOiBNYXA8TWF0aEdyYXBoTm9kZSwgTWFwPE1hdGhHcmFwaE5vZGUsIEdyYXBoRWRnZT4+XG59XG5cbmV4cG9ydCBlbnVtIEFyZ3VtZW50RWRnZSB7XG4gICAgVG8gPSBcInN1cHBvcnRzXCIsXG4gICAgRnJvbSA9IFwiY2xhaW1zXCJcbn1cblxuLyoqXG4gKiBFZGdlcyBpbiB0aGUgZ3JhcGggY2FuIGJlIGluZmVyZW5jZXMgd2hpY2ggaG9sZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiBhYm91dCB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gbm9kZXMsIG9yIFwidG9BY3VtdWxhdGlvblwiIHdoaWNoIG1lYW5zXG4gKiB0aGUgZmlyc3Qgbm9kZSBpcyBhIGxvZ2ljYWwgZGVwZW5kYW5jeSBvZiBhbiBhY3VtdWxhdGlvbi5cbiAqIFdoZW4gYW4gYXJndW1lbnQgcmVzdWx0cyBpbiB0d28gZXhwcmVzc2lvbnMgdGhhdCBhcmUgZXF1YWwsIHRoZSBleHByZXNzaW9uc1xuICogYXJlIGNvbm5lY3RlZCBieSB0aGF0IEFyZ3VtZW50LlxuICovXG5leHBvcnQgdHlwZSBHcmFwaEVkZ2UgPSBBcmd1bWVudCB8IEFyZ3VtZW50RWRnZSB8IEdpdmVuRWRnZVxuXG4vKipcbiAqIENvbW11bmljYXRlcyBhIHJlbGF0aW9uaGlwIGdpdmVuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgY2xhc3MgR2l2ZW5FZGdlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IocjogUmVsYXRpb25zaGlwKSB7XG4gICAgICAgIHRoaXMuciA9IHJcbiAgICB9XG4gICAgcHVibGljIHJlYWRvbmx5IHI6IFJlbGF0aW9uc2hpcFxufVxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBHcmFwaEVkZ2UsIEdyYXBoIH0gZnJvbSBcIi4vR3JhcGhcIlxuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuL01hdGhHcmFwaE5vZGVcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuL3V0aWwvYXNzZXJ0XCJcblxuLyoqXG4gKiBUb29sIHRvIGRvIG9wZXJhdGlvbnMgb24gZ3JhcGhzLlxuICovXG5leHBvcnQgY2xhc3MgR3JhcGhNaW5pcHVsYXRvciB7XG4gICAgLyoqXG4gICAgICogRmluZCBub2RlcyBvZiBjb21wb25lbnRzIG9mIGEgZ3JhcGggd2hlcmUgb25seSBlZGdlcyBmb3Igd2hpY2hcbiAgICAgKiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gcmV0dXJucyB0cnVlIGFyZSBjb25zaWRlcmVkLlxuICAgICAqIEBwYXJhbVxuICAgICAqIEBwYXJhbSBpc0Nvbm5lY3RlZFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q29tcG9uZW50Tm9kZXMoXG4gICAgICAgIGlucHV0OiBHcmFwaCxcbiAgICAgICAgaXNDb25uZWN0ZWQ6IChlOiBHcmFwaEVkZ2UpID0+IGJvb2xlYW5cbiAgICApOiBTZXQ8U2V0PE1hdGhHcmFwaE5vZGU+PiB7XG4gICAgICAgIGNvbnN0IGluY2x1ZGVkTm9kZXMgPSBuZXcgU2V0PE1hdGhHcmFwaE5vZGU+KClcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IG5ldyBTZXQ8U2V0PE1hdGhHcmFwaE5vZGU+PigpXG5cbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGlucHV0LmdldE5vZGVzKCkpIHtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlZE5vZGVzLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBTZXQ8TWF0aEdyYXBoTm9kZT4oKVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRBbGxDb25uZWN0ZWQobjogTWF0aEdyYXBoTm9kZSk6IHZvaWQge1xuICAgICAgICAgICAgICAgIGluY2x1ZGVkTm9kZXMuYWRkKG4pXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5oYXMobikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmFkZChuKVxuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuZWlnaGJvciBvZiBpbnB1dC5nZXROZWlnaGJvcnMobiwgXCJib3RoXCIpISkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQ29ubmVjdGVkKGlucHV0LmdldEVkZ2UobiwgbmVpZ2hib3IpISkpIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIGdldEFsbENvbm5lY3RlZChuZWlnaGJvcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdldEFsbENvbm5lY3RlZChub2RlKVxuICAgICAgICAgICAgY29tcG9uZW50LmFkZChub2RlKVxuICAgICAgICAgICAgY29tcG9uZW50cy5hZGQoY29tcG9uZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgYXNzZXJ0KGluY2x1ZGVkTm9kZXMuc2l6ZSA9PSBpbnB1dC5udW1Ob2RlcygpKVxuICAgICAgICAvLyBBc3NlcnQgY29tcG9uZW50cyBhcmUgcGFpcndpc2UgZGlzam9pbnQgb2YgcHJvYmxlbXMgc2hvdyB1cFxuXG4gICAgICAgIHJldHVybiBjb21wb25lbnRzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBncmFwaCB3aXRoIG9ubHkgdGhlIG5vZGVzIHdoaWNoIHBhc3MgdGhlIHByb3ZpZGVkXG4gICAgICogZmlsdGVyIGZ1bmN0aW9uLiBFZGdlcyBjb25uZWN0ZWQgdG8gcmVtb3ZlZCBub2RlcyBhcmUgcmVtb3ZlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBncmFwaFxuICAgICAqIEBwYXJhbSBpbmNsdWRlZFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZHJvcE5vZGVzKFxuICAgICAgICBncmFwaDogR3JhcGgsXG4gICAgICAgIGluY2x1ZGVkOiAobm9kZTogTWF0aEdyYXBoTm9kZSkgPT4gYm9vbGVhblxuICAgICk6IEdyYXBoIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEdyYXBoKClcbiAgICAgICAgZ3JhcGguZ2V0Tm9kZXMoKS5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVkKG4pKSByZXN1bHQuYWRkTm9kZShuKVxuICAgICAgICB9KVxuICAgICAgICBncmFwaC5nZXRFZGdlcygpLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZWQoZS5uKSAmJiBpbmNsdWRlZChlLm4xKSkgcmVzdWx0LmFkZEVkZ2UoZS5uLCBlLm4xLCBlLmUpXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGV2ZXJ5IGVkZ2UgaW4gdGhlIGdyYXBoLlxuICAgICAqIEBwYXJhbSBpbnB1dFxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRSZWxhdGlvbnMoXG4gICAgICAgIGlucHV0OiBHcmFwaFxuICAgICk6IHsgZmlyc3Q6IE1hdGhHcmFwaE5vZGU7IHNlY29uZDogTWF0aEdyYXBoTm9kZTsgZTogR3JhcGhFZGdlIH1bXSB7XG4gICAgICAgIGNvbnN0IG91dDoge1xuICAgICAgICAgICAgZmlyc3Q6IE1hdGhHcmFwaE5vZGVcbiAgICAgICAgICAgIHNlY29uZDogTWF0aEdyYXBoTm9kZVxuICAgICAgICAgICAgZTogR3JhcGhFZGdlXG4gICAgICAgIH1bXSA9IFtdXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBpbnB1dC5nZXROb2RlcygpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG90aGVyIG9mIGlucHV0LmdldE5laWdoYm9ycyhub2RlLCBcIm91dFwiKSEpIHtcbiAgICAgICAgICAgICAgICBvdXQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0OiBub2RlLFxuICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6IG90aGVyLFxuICAgICAgICAgICAgICAgICAgICBlOiBpbnB1dC5nZXRFZGdlKG5vZGUsIG90aGVyKSFcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGhlIGdyYXBoIGludG8gc2V0cyBvZlxuICAgICAqIG5vZGVzIGdyb3VwZWQgYnkgZGVwdGggZnJvbSBhIGNlbnRlciBub2RlLlxuICAgICAqIEFzc3VtZXMgdGhlIGdyYXBoIGlzIGNvbm5lY3RlZC5cbiAgICAgKiBAcGFyYW0gcm9vdE5vZGVzIENvbnRhaW5zIGF0IGxlYXN0IG9uZSBub2RlIGluIHRoZSBncmFwaC5cbiAgICAgKiBAcGFyYW0gY291bnQgRnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIGlmIGFueSBnaXZlbiBub2RlIHNob3VsZCBiZVxuICAgICAqIGluY2x1ZGVkIGluIHRoZSBkZXB0aCBjb3VudC4gRGVmYXVsdHMgdG8gY291bnRpbmcgYWxsIG5vZGVzLiBOb2RlcyB0aGF0XG4gICAgICogYXJlbid0IGluY2x1ZGVkIHdvbid0IGJlIGluIHRoZSByZXR1cm5lZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyBNYXAgZnJvbSBkZXB0aCBpbiBncmFwaCB0byBhIHNldCBvZiBub2RlcyBhdCB0aGF0IGRlcHRoLlxuICAgICAqXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRMZXZlbHMoXG4gICAgICAgIGlucHV0OiBHcmFwaCxcbiAgICAgICAgcm9vdE5vZGVzOiBJdGVyYWJsZTxNYXRoR3JhcGhOb2RlPixcbiAgICAgICAgY291bnQ6IChuOiBNYXRoR3JhcGhOb2RlKSA9PiBib29sZWFuID0gKCkgPT4gdHJ1ZVxuICAgICk6IE1hcDxudW1iZXIsIFNldDxNYXRoR3JhcGhOb2RlPj4ge1xuICAgICAgICBjb25zdCByb290cyA9IG5ldyBTZXQocm9vdE5vZGVzKVxuICAgICAgICBjb25zdCBkZXB0aHMgPSBuZXcgTWFwPE1hdGhHcmFwaE5vZGUsIG51bWJlcj4oKVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWN1cnNpdmVseSBtYXBzIG91dCBhbGwgbm9kZXMgaW4gdGhlIGdyYXBoLFxuICAgICAgICAgKiBwdXR0aW4gdGhlbSBpbiB0aGUgZGVwdGhzIG1hcC5cbiAgICAgICAgICogQHBhcmFtIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1hcE5vZGUobm9kZTogTWF0aEdyYXBoTm9kZSwgZGVwdGg6IG51bWJlciA9IDApOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChyb290cy5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBkZXB0aCA9IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZXB0aCA8IChkZXB0aHMuZ2V0KG5vZGUpID8/IE51bWJlci5NQVhfVkFMVUUpKSB7XG4gICAgICAgICAgICAgICAgZGVwdGhzLnNldChub2RlLCBkZXB0aClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IFsuLi5pbnB1dC5nZXROZWlnaGJvcnMobm9kZSwgXCJib3RoXCIpIV1cbiAgICAgICAgICAgIG5laWdoYm9yc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIodmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGZvdW5kIGEgc2hvcnRlciBwYXRoIHRvIGl0IG9yIHRoZXJlIHdhcyBubyBmb3VuZCBwYXRoIHRvIGl0XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoZGVwdGhzLmdldCh2YWx1ZSkgPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGhzLmdldCh2YWx1ZSkhID4gZGVwdGgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAhPT0gbm9kZVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChuID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbWFwTm9kZShuLCBjb3VudChub2RlKSA/IGRlcHRoICsgMSA6IGRlcHRoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBtYXBOb2RlKFsuLi5yb290c11bMF0pXG5cbiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IE1hcDxudW1iZXIsIFNldDxNYXRoR3JhcGhOb2RlPj4oKVxuICAgICAgICBkZXB0aHMuZm9yRWFjaCgoZGVwdGgsIG5vZGUpID0+IHtcbiAgICAgICAgICAgIGlmICghY291bnQobm9kZSkpIHJldHVyblxuICAgICAgICAgICAgaWYgKG91dC5nZXQoZGVwdGgpID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG91dC5zZXQoZGVwdGgsIG5ldyBTZXQoKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dC5nZXQoZGVwdGgpIS5hZGQobm9kZSlcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gZ3JhcGggaXMgY29ubmVjdGVkLCBtZWFuaW5nIHRoYXRcbiAgICAgKiBpdCdzIHBvc3NpYmxlIHRvIHRyYXZlcnNlIGJldHdlZW4gYW55IHR3byBub2RlcyBvbiB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBpc0Nvbm5lY3RlZChpbnB1dDogR3JhcGgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gQ2hlY2sgZXZlcnkgbm9kZSBoYXMgYSBkZWdyZWUgb2YgMSBvciBtb3JlIG9yIGdyYXBoIG9ubHkgaGFzIDEgb3IgMCBlbGVtZW50c1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgWy4uLmlucHV0LmdldE5vZGVzKCldXG4gICAgICAgICAgICAgICAgLm1hcDxib29sZWFuPihub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LmdldERlZ3JlZShub2RlLCBcImJvdGhcIikhID4gMFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYSAmJiBiKSB8fCBpbnB1dC5udW1Ob2RlcygpIDwgMlxuICAgICAgICApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyBlZGdlcyBsaXN0IHJldHVybmluZyBhIGxpc3Qgd2hlcmUgb25seSBvbmUgZWRnZVxuICAgICAqIGZyb20gYW55IGVkZ2UgbG9vcHMgaXMgaW5jbHVkZWQuXG4gICAgICogRm9yIGV4YW1wbGUgaWYgdGhlIGlucHV0IGVkZ2VzIGFyZSBhIC0+IGIgYW5kIGIgLT4gYSxcbiAgICAgKiB0aGUgcmVzdWx0IHdpbGwgb25seSBjb250YWluIGEgLT4gYi5cbiAgICAgKiBAcGFyYW0gZWRnZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRyb3BTeW1tZXRyaWMoXG4gICAgICAgIGVkZ2VzOiBJdGVyYWJsZTx7IG46IE1hdGhHcmFwaE5vZGU7IG4xOiBNYXRoR3JhcGhOb2RlOyBlOiBHcmFwaEVkZ2UgfT5cbiAgICApOiB7IG46IE1hdGhHcmFwaE5vZGU7IG4xOiBNYXRoR3JhcGhOb2RlOyBlOiBHcmFwaEVkZ2UgfVtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiB7IG46IE1hdGhHcmFwaE5vZGU7IG4xOiBNYXRoR3JhcGhOb2RlOyBlOiBHcmFwaEVkZ2UgfVtdID0gW11cblxuICAgICAgICBmdW5jdGlvbiBhbHJlYWR5SGFzKGVkZ2U6IHtcbiAgICAgICAgICAgIG46IE1hdGhHcmFwaE5vZGVcbiAgICAgICAgICAgIG4xOiBNYXRoR3JhcGhOb2RlXG4gICAgICAgICAgICBlOiBHcmFwaEVkZ2VcbiAgICAgICAgfSk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIG91dClcbiAgICAgICAgICAgICAgICBpZiAoZWRnZS5uID09IGUubjEgJiYgZWRnZS5uMSA9PSBlLm4pIHJldHVybiB0cnVlXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgZWRnZSBvZiBlZGdlcykge1xuICAgICAgICAgICAgaWYgKCFhbHJlYWR5SGFzKGVkZ2UpKSBvdXQucHVzaChlZGdlKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZ3JhcGggd2l0aCBvbmx5IHRoZSBlZGdlcyB3aGljaCBwYXNzZWQgdGhlXG4gICAgICogZmlsdGVyIGZ1bmN0aW9uLiBUaGUgcmVzdWx0aW5nIGdyYXBoIG1heSBvciBtYXkgbm90IGJlIGNvbm5lY3RlZC5cbiAgICAgKiBBbGwgdGhlIG5vZGVzIG9mIHRoZSBvcmlnaW5hbCBncmFwaCBhcmUga2VwdC5cbiAgICAgKiBAcGFyYW0gZWRnZUZpbHRlciBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGVkZ2Ugc2hvdWxkIGJlIGluY2x1ZGVkIGluXG4gICAgICogICAgICB0aGUgcmVzdWx0aW5nIGdyYXBoLlxuICAgICAqIE5PVEU6IE5PVCBURVNURURcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRyb3BFZGdlcyhcbiAgICAgICAgZ3JhcGg6IEdyYXBoLFxuICAgICAgICBlZGdlRmlsdGVyOiAoZToge1xuICAgICAgICAgICAgbjogTWF0aEdyYXBoTm9kZVxuICAgICAgICAgICAgbjE6IE1hdGhHcmFwaE5vZGVcbiAgICAgICAgICAgIGU6IEdyYXBoRWRnZVxuICAgICAgICB9KSA9PiBCb29sZWFuXG4gICAgKTogR3JhcGgge1xuICAgICAgICBjb25zdCBvdXQgPSBuZXcgR3JhcGgoKVxuXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBncmFwaC5nZXROb2RlcygpKSB7XG4gICAgICAgICAgICBvdXQuYWRkTm9kZShub2RlKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBlZGdlIG9mIGdyYXBoLmdldEVkZ2VzKCkpIHtcbiAgICAgICAgICAgIGlmIChlZGdlRmlsdGVyKGVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQuYWRkQXJndW1lbnQoZWRnZSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxufVxuIiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1hdGhHcmFwaE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmlkID0gTWF0aEdyYXBoTm9kZS5uZXh0SWRcbiAgICAgICAgTWF0aEdyYXBoTm9kZS5uZXh0SWQrK1xuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBuZXh0SWQgPSAxXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaWQ6IG51bWJlclxufVxuIiwiLyoqXG4gKiBBIHdheSBpbiB3aGljaCAyIGV4cHJlc3Npb25zIGNhbiBiZSByZWxhdGVkLlxuICovXG5leHBvcnQgZW51bSBSZWxhdGlvbnNoaXAge1xuICAgIEVxdWFsID0gXCI9XCJcbn1cbiIsImltcG9ydCB7IEJyZWFrRGVyaXZhdGl2ZXNPdmVyQWRkaXRpb24gfSBmcm9tIFwiLi9jYWxjdWx1cy9CcmVha0Rlcml2YXRpdmVzT3ZlckFkZGl0aW9uXCJcbmltcG9ydCB7IENvbnN0YW50RGVyaXZhdGllcyB9IGZyb20gXCIuL2NhbGN1bHVzL0NvbnN0YW50RGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBMb2dJbnRlZ3JhbFJ1bGUgfSBmcm9tIFwiLi9jYWxjdWx1cy9Mb2dJbnRlZ3JhbFJ1bGVcIlxuaW1wb3J0IHsgUG93ZXJSdWxlIH0gZnJvbSBcIi4vY2FsY3VsdXMvUG93ZXJSdWxlXCJcbmltcG9ydCB7IFByb2R1Y3RSdWxlIH0gZnJvbSBcIi4vY2FsY3VsdXMvUHJvZHVjdFJ1bGVcIlxuaW1wb3J0IHsgUHVsbENvbnN0YW50c0Zyb21EZXJpdmF0aXZlcyB9IGZyb20gXCIuL2NhbGN1bHVzL1B1bGxDb25zdGFudHNGcm9tRGVyaXZhdGl2ZXNcIlxuaW1wb3J0IHsgUHVsbENvbnN0YW50c0Zyb21JbnRlZ3JhbHMgfSBmcm9tIFwiLi9jYWxjdWx1cy9QdWxsQ29uc3RhbnRzRnJvbUludGVncmFsc1wiXG5pbXBvcnQgeyBRdW90aWVudFJ1bGUgfSBmcm9tIFwiLi9jYWxjdWx1cy9RdW90aWVudFJ1bGVcIlxuaW1wb3J0IHsgUmV2ZXJzZVBvd2VyUnVsZSB9IGZyb20gXCIuL2NhbGN1bHVzL1JldmVyc2VQb3dlclJ1bGVcIlxuaW1wb3J0IHsgVVN1YnN0aXR1dGlvbiB9IGZyb20gXCIuL2NhbGN1bHVzL1VTdWJzdGl0dXRpb25cIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuaW1wb3J0IHsgQWRkaXRpdmVJZGVudGl0eSB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9BZGRpdGl2ZUlkZW50aXR5XCJcbmltcG9ydCB7IEFueXRoaW5nVGltZXNaZXJvIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0FueXRoaW5nVGltZXNaZXJvXCJcbmltcG9ydCB7IEFzc29jaWF0aXZlUHJvcGVydHlPZlByb2R1Y3RzQW5kU3VtcyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9Bc3NvY2lhdGl2ZVByb3BlcnR5T2ZQcm9kdWN0c0FuZFN1bXNcIlxuaW1wb3J0IHsgQ2FuY2VsTmVnYXRpdmVzIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0NhbmNlbE5lZ2F0aXZlc1wiXG5pbXBvcnQgeyBDb21iaW5lQ29tbW9uRmFjdG9yc011bHRpcGxpY2F0aW9uIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0NvbWJpbmVDb21tb25GYWN0b3JzTXVsdGlwbGljYXRpb25cIlxuaW1wb3J0IHsgQ29tYmluZUNvbW1vblRlcm1zQWRkaXRpb24gfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQ29tYmluZUNvbW1vblRlcm1zQWRkaXRpb25cIlxuaW1wb3J0IHsgQ29tYmluZUludGVnZXJGYWN0b3JzIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0NvbWJpbmVJbnRlZ2VyRmFjdG9yc1wiXG5pbXBvcnQgeyBDb21iaW5lUHJvZHVjdHNBbmRGcmFjdGlvbnMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvQ29tYmluZVByb2R1Y3RzQW5kRnJhY3Rpb25zXCJcbmltcG9ydCB7IERpc3RyaWJ1dGl2ZVByb3BlcnR5IH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0Rpc3RyaWJ1dGl2ZVByb3BlcnR5XCJcbmltcG9ydCB7IERpdmlkZUZyYWN0aW9ucyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9EaXZpZGVGcmFjdGlvbnNcIlxuaW1wb3J0IHsgRGl2aXNpb25JZGVudGl0eSB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9EaXZpc2lvbklkZW50aXR5XCJcbmltcG9ydCB7IEV2YWx1YXRlU3VtcyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9FdmFsdWF0ZVN1bXNcIlxuaW1wb3J0IHsgRXhwb25lbnRpYWxJZGVudGl0eSB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9FeHBvbmVudGlhbElkZW50aXR5XCJcbmltcG9ydCB7IEV4cG9uZW50VG9aZXJvIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL0V4cG9uZW50VG9aZXJvXCJcbmltcG9ydCB7IEZPSUwgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvRk9JTFwiXG5pbXBvcnQgeyBMb2dPZk9uZSB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9Mb2dPZk9uZVwiXG5pbXBvcnQgeyBNdWx0aXBsaWNhdGl2ZUlkZW50aXR5IH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL011bHRpcGxpY2F0aXZlSWRlbnRpdHlcIlxuaW1wb3J0IHsgTXVsdGlwbHlFeHBvbmVudFBvd2VycyB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9NdWx0aXBseUV4cG9uZW50UG93ZXJzXCJcbmltcG9ydCB7IE11bHRpcGx5RnJhY3Rpb25zIH0gZnJvbSBcIi4vc2ltcGxpZmljYXRpb25zL011bHRpcGx5RnJhY3Rpb25zXCJcbmltcG9ydCB7IE9yZGVyUHJvZHVjdHMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvT3JkZXJQcm9kdWN0c1wiXG5pbXBvcnQgeyBPcmRlclN1bXMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvT3JkZXJTdW1zXCJcbmltcG9ydCB7IFJlbW92ZUNvbW1vbkZhY3RvcnNGcm9tVG9wQW5kQm90dG9tT2ZGcmFjdGlvbiB9IGZyb20gXCIuL3NpbXBsaWZpY2F0aW9ucy9SZW1vdmVDb21tb25GYWN0b3JzT25Ub3BBbmRCb3R0b21PZkZyYWN0aW9uXCJcbmltcG9ydCB7IFN1YnRyYWN0RXhwb25lbnRzT25GcmFjdGlvbnMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvU3VidHJhY3RFeHBvbmVudHNPbkZyYWN0aW9uc1wiXG5pbXBvcnQgeyBTdW1Db2VmZmljaWVudHNPZkFkZGVkVGVybXMgfSBmcm9tIFwiLi9zaW1wbGlmaWNhdGlvbnMvU3VtQ29lZmZpY2llbnRzT2ZBZGRlZFRlcm1zXCJcblxuLyoqXG4gKiAxIGlucHV0LCAxIG91dHB1dFxuICogUmV3cml0ZSBleHByZXNzaW9ucyB0byBmb2xsb3cgbWF0aCBjb252ZW50aW9uc1xuICovXG5jb25zdCBjb252ZW50aW9uUnVsZXMgPSBbbmV3IE9yZGVyUHJvZHVjdHMoKSwgbmV3IE9yZGVyU3VtcygpXVxuXG4vKipcbiAqIDEgaW5wdXQsIDEgb3V0cHV0XG4gKi9cbmNvbnN0IGV2YWx1YXRpdmVSdWxlcyA9IFtcbiAgICBuZXcgRXZhbHVhdGVTdW1zKCksXG4gICAgbmV3IENhbmNlbE5lZ2F0aXZlcygpLFxuICAgIG5ldyBDb21iaW5lSW50ZWdlckZhY3RvcnMoKVxuXVxuXG5jb25zdCBjb21iaW5hdG9yaWNSdWxlcyA9IFtcbiAgICBuZXcgU3VtQ29lZmZpY2llbnRzT2ZBZGRlZFRlcm1zKCksXG4gICAgbmV3IENvbWJpbmVDb21tb25GYWN0b3JzTXVsdGlwbGljYXRpb24oKSxcbiAgICBuZXcgTXVsdGlwbHlFeHBvbmVudFBvd2VycygpLFxuICAgIG5ldyBTdWJ0cmFjdEV4cG9uZW50c09uRnJhY3Rpb25zKCksXG4gICAgbmV3IENvbWJpbmVQcm9kdWN0c0FuZEZyYWN0aW9ucygpLFxuICAgIG5ldyBNdWx0aXBseUZyYWN0aW9ucygpXG5dXG5cbmNvbnN0IHJlbWFpbmluZ05vQ29udGV4dFNpbXBsaWZpY2F0aW9uUnVsZXM6IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVbXSA9XG4gICAgW1xuICAgICAgICBuZXcgVVN1YnN0aXR1dGlvbigpLFxuICAgICAgICBuZXcgUG93ZXJSdWxlKCksXG4gICAgICAgIG5ldyBQdWxsQ29uc3RhbnRzRnJvbURlcml2YXRpdmVzKCksXG4gICAgICAgIG5ldyBQdWxsQ29uc3RhbnRzRnJvbUludGVncmFscygpLFxuICAgICAgICBuZXcgQXNzb2NpYXRpdmVQcm9wZXJ0eU9mUHJvZHVjdHNBbmRTdW1zKCksXG4gICAgICAgIG5ldyBQcm9kdWN0UnVsZSgpLFxuICAgICAgICBuZXcgUXVvdGllbnRSdWxlKCksXG4gICAgICAgIG5ldyBEaXZpZGVGcmFjdGlvbnMoKSxcbiAgICAgICAgbmV3IFJlbW92ZUNvbW1vbkZhY3RvcnNGcm9tVG9wQW5kQm90dG9tT2ZGcmFjdGlvbigpLFxuICAgICAgICBuZXcgQnJlYWtEZXJpdmF0aXZlc092ZXJBZGRpdGlvbigpLFxuICAgICAgICBuZXcgQ29uc3RhbnREZXJpdmF0aWVzKCksXG4gICAgICAgIG5ldyBSZXZlcnNlUG93ZXJSdWxlKCksXG4gICAgICAgIG5ldyBMb2dJbnRlZ3JhbFJ1bGUoKVxuICAgIF1cblxuLyoqXG4gKiBBIGxpc3Qgb2Ygc2ltcGxpZmljYXRpb24gcnVsZXMuXG4gKiBJZiBhbmQgb25seSBpZiBhbiBlYXJsaWVyIHJ1bGUgZmFpbHMgdG9cbiAqIHByb2R1Y2UgZXF1aXZhbGVudCBleHByZXNzaW9ucyBzaG91bGQgbGF0ZXIgbGlzdHNcbiAqIGJlIHVzZWQuXG4gKiBUaGlzIGxpc3Qgb25seSBjb250YWlucyBydWxlcyB3aGljaCBjb252ZXJnZSB0byBvbmUgYW5zd2VyLlxuICovXG5leHBvcnQgY29uc3QgY29udmVyZ2VudFNpbXBsaWZpY2F0aW9uUnVsZXM6IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVbXSA9XG4gICAgW1xuICAgICAgICAvLyBJZGVudGl0eSBydWxlcyBmaXJzdFxuICAgICAgICBuZXcgQW55dGhpbmdUaW1lc1plcm8oKSxcbiAgICAgICAgbmV3IEV4cG9uZW50VG9aZXJvKCksXG4gICAgICAgIG5ldyBNdWx0aXBsaWNhdGl2ZUlkZW50aXR5KCksXG4gICAgICAgIG5ldyBFeHBvbmVudGlhbElkZW50aXR5KCksXG4gICAgICAgIG5ldyBEaXZpc2lvbklkZW50aXR5KCksXG4gICAgICAgIG5ldyBBZGRpdGl2ZUlkZW50aXR5KCksXG4gICAgICAgIG5ldyBMb2dPZk9uZSgpLFxuICAgICAgICAuLi5ldmFsdWF0aXZlUnVsZXMsXG4gICAgICAgIC4uLmNvbWJpbmF0b3JpY1J1bGVzLFxuICAgICAgICAuLi5jb252ZW50aW9uUnVsZXMsXG4gICAgICAgIC4uLnJlbWFpbmluZ05vQ29udGV4dFNpbXBsaWZpY2F0aW9uUnVsZXNcbiAgICBdXG5cbi8qKlxuICogVGhlc2UgcnVsZXMgY29udmVyZ2UgdG8gZmFjdG9yZWQgZm9ybS5cbiAqL1xuZXhwb3J0IGNvbnN0IGZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uUnVsZXM6IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVbXSA9XG4gICAgW25ldyBDb21iaW5lQ29tbW9uVGVybXNBZGRpdGlvbigpXVxuXG4vKipcbiAqIFRoZXNlIHJ1bGVzIGNvbnZlcmdlIHRvIHBvbHlub21pYWwgZm9ybS5cbiAqL1xuZXhwb3J0IGNvbnN0IHBvbHlub21pYWxTaW1wbGlmaWNhdGlvblJ1bGVzOiBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlW10gPVxuICAgIFtuZXcgRGlzdHJpYnV0aXZlUHJvcGVydHkoKSwgbmV3IEZPSUwoKV1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1N1bVwiXG5pbXBvcnQgeyBHcmFwaCB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQge1xuICAgIGNvbnZlcmdlbnRTaW1wbGlmaWNhdGlvblJ1bGVzLFxuICAgIGZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uUnVsZXMsXG4gICAgcG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uUnVsZXNcbn0gZnJvbSBcIi4vRGVyaXZhdGlvblJ1bGVzXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcbmltcG9ydCB7IGVxdWl2IH0gZnJvbSBcIi4vcmVjdXJzaW9uXCJcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGdyYXBoIGNvbnRpYW5pbmcgdGhlIGdpdmVuIG5vZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwSW5HcmFwaChleHA6IEV4cHJlc3Npb24pOiBHcmFwaCB7XG4gICAgcmV0dXJuIG5ldyBHcmFwaCgpLmFkZE5vZGUoZXhwKVxufVxuXG4vKipcbiAqIEV4cGFuZHMgdGhlIGdpdmVuIGdyYXBoIHVzaW5nIGRlcml2YXRpb24gcnVsZXMgdG8gZmluZFxuICogZXF1aXZhbGVudCBleHByZXNzaW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZUV4cGFuZChcbiAgICBncmFwaDogR3JhcGgsXG4gICAgbWF4RGVwdGg6IG51bWJlcixcbiAgICBza2lwQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9uczogYm9vbGVhbiA9IGZhbHNlXG4pOiBEZXJpdmF0aW9uUmVzdWx0IHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgRGVyaXZhdGlvblJlc3VsdChncmFwaClcblxuICAgIHJlc3VsdC5leHBhbmQobWF4RGVwdGgsIHNraXBDb252ZXJnZW50U2ltcGxpZmljYXRpb25zKVxuICAgIHJldHVybiByZXN1bHRcbn1cblxuLyoqXG4gKiBIb2xkcyBhIHNpbmdsZSBncmFwaCBhbmQgZXhwYW5kcyBpdCB1c2luZyBydWxlcy5cbiAqL1xuY2xhc3MgRGVyaXZhdGlvblJlc3VsdCB7XG4gICAgLyoqXG4gICAgICogR2l2ZSBpdCB0aGUgZ3JhcGggeW91J3JlIGdvaW5nIHRvIGV4cGFuZC5cbiAgICAgKiBAcGFyYW0gZ3JhcGhcbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoZ3JhcGg6IEdyYXBoKSB7XG4gICAgICAgIHRoaXMuZ3JhcGggPSBncmFwaFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cGFuZHMgdGhlIGdyYXBoIGFyYml0cmFyaWx5LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgc3RpbGwgcG9vcmx5IGRlZmluZWQsXG4gICAgICogdmVyeSBleHBlcmVtZW50YWwuXG4gICAgICogQHBhcmFtIG1heERlcHRoIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVyYXRpb25zIHRoZVxuICAgICAqICAgICAgZGVyaXZlciB3aWxsIGRvIGJlZm9yZSByZXR1cm5pbmcuIE5vbi1uZWdhdGl2ZS5cbiAgICAgKiAgICAgIElmIG51bGwsIHRoZXJlIGlzIG5vIG1heCBkZXB0aC5cbiAgICAgKiBAcGFyYW0gc2tpcENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbnMgSWYgdHJ1ZSwgY29udmVyZ2VudCBzaW1wbGlmaWNhdGlvbiBvcGVyYXRpb25zXG4gICAgICogICAgICAgICAgYXJlbid0IGNvdW50ZWQgd2hlbiBjYWxjdWxhdGluZyBkZXB0aC5cbiAgICAgKiBAcGFyYW0gYWJvcnQgQSBzaWduYWwgdXNlZCB0byBwcmVtYXR1cmVseSBhYm9ydCB0aGUgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBleHBhbmQoXG4gICAgICAgIG1heERlcHRoOiBudW1iZXIsXG4gICAgICAgIHNraXBDb252ZXJnZW50U2ltcGxpZmljYXRpb25zOiBib29sZWFuID0gZmFsc2VcbiAgICApOiB2b2lkIHtcbiAgICAgICAgLy8gU2ltcGxpZnkgYWxsIHRoZSBleHByZXNzaW9ucyB1c2luZyB0aGUgY29udGV4dGxlc3Mgc2ltcGxpZnlpbmcgcnVsZXNcbiAgICAgICAgLy8gRG8gdGhpcyB1bnRpbCB0aGVyZSdzIG5vdGhpbmcgbW9yZSB0byBzaW1wbGlmeVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4RGVwdGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zaW1wbGlmeU5vQ29udGV4dENvbnZlcmdlbnQoKVxuICAgICAgICAgICAgdGhpcy5zaW1wbGlmeU5vQ29udGV4dERpdmVyZ2VudCgpXG4gICAgICAgIH1cblxuICAgICAgICAvL1RPRE86IE9wdGltaXplIGxhdGVyLCBsZXRzIGp1c3QgbWFrZSBpdCB3b3JrIGZpcnN0XG4gICAgICAgIC8vIGZvciAobGV0IGk9MDsgaSA8IG1heERlcHRoOyBpKyspIHtcbiAgICAgICAgLy8gICAgIGlmIChza2lwQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9ucykge1xuICAgICAgICAvLyAgICAgICAgIHdoaWxlICh0aGlzLnNpbXBsaWZ5Tm9Db250ZXh0Q29udmVyZ2VudCgpKSB7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgIGlmICghdGhpcy5zaW1wbGlmeU5vQ29udGV4dERpdmVyZ2VudCgpKSByZXR1cm5cbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgaWYgKCF0aGlzLnNpbXBsaWZ5Tm9Db250ZXh0Q29udmVyZ2VudCgpKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGlmICghdGhpcy5zaW1wbGlmeU5vQ29udGV4dERpdmVyZ2VudCgpKVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIC8vICAgICAgICAgfVxuXG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlzdCBvZiBleHByZXNzaW9ucyB3aGljaCBjb3VsZG4ndCBiZSBzaW1wbGlmaWVkIGZ1cnRoZXIuXG4gICAgICovXG4gICAgcHVibGljIGdldCBzaW1wbGlmaWVkRXhwcmVzc2lvbnMoKTogRXhwcmVzc2lvbltdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC4uLnRoaXMucGFzc2VkRmFjdG9yaW5nU2ltcGxpZmljYXRpb24sXG4gICAgICAgICAgICAuLi50aGlzLnBhc3NlZFBvbHlub21pYWxTaW1wbGlmaWNhdGlvblxuICAgICAgICBdXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBjb252ZXJnZW50IHNpbXBsaWZpY2F0aW9uIHJ1bGVzIHRvIGV4cGFuZCB0aGUgZ3JhcGguXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGVyZSBpcyBtb3JlIHRvIHNpbXBsaWZ5IGFuZCB0aGlzIHNob3VsZFxuICAgICAqICAgICAgICAgIGJlIGNhbGxlZCBhZ2Fpbi4gV2lsbCBiZSBjYWxsZWQgYSBmaW5pdGUgbnVtYmVyIG9mIHRpbWVzLlxuICAgICAqL1xuICAgIHByaXZhdGUgc2ltcGxpZnlOb0NvbnRleHRDb252ZXJnZW50KCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB1bnNpbXBsaWZpZWQgPSBbLi4udGhpcy5ncmFwaC5nZXROb2RlcygpXVxuICAgICAgICAgICAgLmZpbHRlcihuID0+IG4gaW5zdGFuY2VvZiBFeHByZXNzaW9uKVxuICAgICAgICAgICAgLm1hcDxFeHByZXNzaW9uPihuID0+IG4gYXMgRXhwcmVzc2lvbilcbiAgICAgICAgICAgIC5maWx0ZXIoZSA9PiAhdGhpcy5wcm9jZXNzZWRCeUNvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbi5oYXMoZSkpXG5cbiAgICAgICAgbGV0IHNob3VsZERvQWdhaW4gPSBmYWxzZVxuICAgICAgICB1bnNpbXBsaWZpZWQuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2VkQnlDb252ZXJnZW50U2ltcGxpZmljYXRpb24uYWRkKGUpXG5cbiAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIGVxdWl2YWxlbnRzIHVzaW5nIGdlbmVyYWwgY29udmVyZ2VudCBydWxlcy5cbiAgICAgICAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBjb252ZXJnZW50U2ltcGxpZmljYXRpb25SdWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBlcXVpdihlLCBlcXVpdmFsZW50c0ZuVXNpbmcoW3J1bGVdKSlcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmVkU2ltcGxpZmljYXRpb24gPSByZXN1bHRzWzBdXG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFRvR3JhcGgoW3JdKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkZXJpdmVkU2ltcGxpZmljYXRpb24gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZERvQWdhaW4gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAvLyBUbyBuZXh0IGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucGFzc2VkQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLmFkZChlKVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBzaG91bGREb0FnYWluXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBkaXZlcmdlbnQgc2ltcGxpZmljYXRpb24gcnVsZXMgdG8gZXhwYW5kIHRoZSBncmFwaC5cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBmdW5jdGlvbiBleHBhbmRlZCB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgcHJpdmF0ZSBzaW1wbGlmeU5vQ29udGV4dERpdmVyZ2VudCgpOiBib29sZWFuIHtcbiAgICAgICAgLy8gT25seSBvcGVyYXRlIG9uIGV4cHJlc3Npb25zIHdoaWNoIGhhdmUgbm90IGJlZW4gcHJldmlvdXNseSBkb25lXG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBbLi4udGhpcy5ncmFwaC5nZXROb2RlcygpXVxuICAgICAgICAgICAgLmZpbHRlcihuID0+IG4gaW5zdGFuY2VvZiBFeHByZXNzaW9uKVxuICAgICAgICAgICAgLm1hcDxFeHByZXNzaW9uPihuID0+IG4gYXMgRXhwcmVzc2lvbilcbiAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgZSA9PlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5wcm9jZXNzZWRCeURpdmVyZ2VudFNpbXBsaWZpY2F0aW9uLmhhcyhlKSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NlZENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbi5oYXMoZSlcbiAgICAgICAgICAgIClcblxuICAgICAgICAvLyBUcnVlIGlmIG1vcmUgZXhwcmVzc2lvbnMgd2VyZSBhZGRlZCB0byB0aGUgZ3JhcGhcbiAgICAgICAgbGV0IHNob3VsZERvQWdhaW4gPSBmYWxzZVxuXG4gICAgICAgIGNhbmRpZGF0ZXMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBmaW5kIGVxdWl2YWxlbnRzIHVzaW5nIGRpdmVyZ2VudCBydWxlcy5cblxuICAgICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIGZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uUnVsZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXJpdmVkU2ltcGxpZmljYXRpb25zID0gZXF1aXYoXG4gICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgIGVxdWl2YWxlbnRzRm5Vc2luZyhbcnVsZV0pXG4gICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgICAgc2hvdWxkRG9BZ2FpbiB8fD0gdGhpcy5hZGRUb0dyYXBoKGRlcml2ZWRTaW1wbGlmaWNhdGlvbnMpXG5cbiAgICAgICAgICAgICAgICBpZiAoZGVyaXZlZFNpbXBsaWZpY2F0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFByb2R1Y3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NlZEZhY3RvcmluZ1NpbXBsaWZpY2F0aW9uLmFkZChlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIHBvbHlub21pYWxTaW1wbGlmaWNhdGlvblJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVyaXZlZFNpbXBsaWZpY2F0aW9ucyA9IGVxdWl2KFxuICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICBlcXVpdmFsZW50c0ZuVXNpbmcoW3J1bGVdKVxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIHNob3VsZERvQWdhaW4gfHw9IHRoaXMuYWRkVG9HcmFwaChkZXJpdmVkU2ltcGxpZmljYXRpb25zKVxuXG4gICAgICAgICAgICAgICAgaWYgKGRlcml2ZWRTaW1wbGlmaWNhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFN1bSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc2VkUG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uLmFkZChlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gc2hvdWxkRG9BZ2FpblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvciBlYWNoIGdpdmVuIGFyZ3VtZW50LCBhZGRzIHRvIHRoZSBncmFwaCBpZiBhdCBsZWFzdFxuICAgICAqIG9uZSBvZiBpdHMgY2xhaW0ncyBlbmRwb2ludHMgaXNuJ3QgYWxyZWFkeSBpbiB0aGUgZ3JhcGguXG4gICAgICogSWYgYm90aCBlbmQgcG9pbnRzIG9mIGFsbCBhcmd1bWVudHMgYXJlIGFscmVhZHkgaW4gdGhlIGdyYXBoLFxuICAgICAqIHJldHVybnMgZmFsc2UuXG4gICAgICogQHBhcmFtIGFyZ3NcbiAgICAgKiBAZWZmZWN0cyB0aGlzLmdyYXBoXG4gICAgICovXG4gICAgcHJpdmF0ZSBhZGRUb0dyYXBoKGFyZ3M6IEFyZ3VtZW50W10pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGF0TGVhc3RPbmUgPSBmYWxzZVxuICAgICAgICBhcmdzLmZvckVhY2goYSA9PiB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXRoaXMuZ3JhcGguY29udGFpbnMoYS5jbGFpbS5uKSB8fFxuICAgICAgICAgICAgICAgICF0aGlzLmdyYXBoLmNvbnRhaW5zKGEuY2xhaW0ubjEpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdyYXBoLmFkZEFyZ3VtZW50KGEpXG4gICAgICAgICAgICAgICAgYXRMZWFzdE9uZSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGF0TGVhc3RPbmVcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgZ3JhcGg6IEdyYXBoXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGV4cHJlc3Npb24gaXMgaW4gdGhlIGdyYXBoXG4gICAgICogYW5kIGhhcyBhbHJlYWR5IGhhZCB0aGUgY29udGV4dGxlc3Mgc2ltcGxpZmljYXRpb24gb3BlcmF0aW9uc1xuICAgICAqIGRvbmUgdG8gaXQgYW5kIGNhbm5vdCBiZSBmdXJ0aGVyIHNpbXBsaWZpZWQuXG4gICAgICovXG4gICAgcHVibGljIGlzU2ltcGxpZmllZChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhc3NlZENvbnZlcmdlbnRTaW1wbGlmaWNhdGlvbi5oYXMoZXhwKSkgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFByb2R1Y3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXNzZWRGYWN0b3JpbmdTaW1wbGlmaWNhdGlvbi5oYXMoZXhwKVxuICAgICAgICBpZiAoZXhwIGluc3RhbmNlb2YgU3VtKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFzc2VkUG9seW5vbWlhbFNpbXBsaWZpY2F0aW9uLmhhcyhleHApXG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvLyBBbGwgdGhlIGV4cHJlc3Npb25zIHdoaWNoIGNvdWxkIG5vdCBiZSBzaW1wbGlmaWVkIGZ1cnRoZXIgYnlcbiAgICAvLyBjb252ZXJnZW50IHNpbXBsaWZpY2F0aW9uIHJ1bGVzLlxuICAgIHB1YmxpYyByZWFkb25seSBwYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24gPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcblxuICAgIC8vIEFsbCBleHByZXNzaW9ucyB3aGljaCBoYXZlIGJlZW4gcHJvY2Vzc2VkIGJ5IHRoZSBzaW1wbGlmaWNhdGlvbiBydWxlc1xuICAgIC8vLyByZWdhcmRsZXNzIG9mIHRoZSByZXN1bHQuXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NlZEJ5Q29udmVyZ2VudFNpbXBsaWZpY2F0aW9uID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHByb2Nlc3NlZEJ5RGl2ZXJnZW50U2ltcGxpZmljYXRpb24gPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcblxuICAgIC8vIEFsbCBleHByZXNzaW9ucyB3aGljaCBhcmUgcHJvZHVjdHMgYW5kIGNvdWxkIG5vdCBiZSBmdXJ0aGVyXG4gICAgLy8gc2ltcGxpZmllZCBieSBmYWN0b3Jpbmcgc2ltcGxpZmljYXRpb24gcnVsZXMuIEEgc3Vic2V0IG9mXG4gICAgLy8gcGFzc2VkQ29udmVyZ2VudFNpbXBsaWZpY2F0aW9uLlxuICAgIHB1YmxpYyByZWFkb25seSBwYXNzZWRGYWN0b3JpbmdTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8UHJvZHVjdD4oKVxuXG4gICAgLy8gQWxsIGV4cHJlc3Npb25zIHdoaWNoIGFyZSBzdW1zIGFuZCBjb3VsZCBub3QgYmUgZnVydGhlclxuICAgIC8vIHNpbXBsaWZpZWQgYnkgcG9seW5vbWlhbCBzaW1wbGlmaWNhdGlvbiBydWxlcy4gQSBzdWJzZXQgb2ZcbiAgICAvLyBwYXNzZWRDb252ZXJnZW50U2ltcGxpZmljYXRpb24uXG4gICAgcHVibGljIHJlYWRvbmx5IHBhc3NlZFBvbHlub21pYWxTaW1wbGlmaWNhdGlvbiA9IG5ldyBTZXQ8U3VtPigpXG59XG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBtYWtlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgZXF1aXZhbGVudFxuICogZXhwcmVzc2lvbnMgZm9yIGEgZ2l2ZW4gb25lLlxuICogQHBhcmFtIHJ1bGVzIFdoYXQgcnVsZXMgdGhlIHJlc3VsdGluZyBmdW5jdGlvbiBzaG91bGQgdXNlIHRvXG4gKiAgICAgIGZpbmQgZXF1aXZhbGVudHMuXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHdoaWNoIHdpbGwgdXNlIHRoZSBnaXZlbiBydWxlcyB0b1xuICogICAgICBmaW5kIGRpcmVjdCBlcXVpdmFsZW50cy5cbiAqL1xuZnVuY3Rpb24gZXF1aXZhbGVudHNGblVzaW5nKFxuICAgIHJ1bGVzOiBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlW11cbik6IChleHA6IEV4cHJlc3Npb24pID0+IFNldDxBcmd1bWVudD4ge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IG91dDogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuICAgICAgICBydWxlc1xuICAgICAgICAgICAgLmZpbHRlcihyID0+IHIuYXBwbGllcyhleHApKVxuICAgICAgICAgICAgLmZvckVhY2gocnVsZSA9PiB7XG4gICAgICAgICAgICAgICAgcnVsZS5hcHBseShleHApLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5hZGQoaSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9WYXJpYWJsZVwiXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIlxuXG4vKipcbiAqIEEgcnVsZSB0aGF0IHRha2VzIGFuIGV4cHJlc3Npb24gYW5kIHByb2R1Y2VzIG9uZSBvciBtb3JlIGVxdWl2YWxlbnQgZXhwcmVzc2lvbnMuXG4gKiBUaGVzZSBjYW4gdXNlIHJlZmxlY3Rpb24gdG8gZGV0ZXJtaW5lIHdoYXRcbiAqIHR5cGUgb2YgZXhwcmVzc2lvbiB0aGV5J3JlIGdpdmVuLiBUaGVzZSBydWxlcyB3aWxsIGJlIHJlY3Vyc2l2ZWx5IHVzZWRcbiAqIHRvIGRlcml2ZSBzaW1wbGlmaWVkIGV4cHJlc3Npb25zLlxuICpcbiAqIFRoZXNlIHJ1bGVzIGFyZSBhbHNvIGNvbnRleHRsZXNzOiB0aGV5J3JlIG9ubHkgZ2l2ZW4gdGhlIGV4cHJlc3Npb24sXG4gKiBubyBvdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJvYmxlbS5cbiAqXG4gKiBBbGwgb2YgdGhlc2UgcnVsZXMgbmVlZCB0byBjb252ZXJnZSB0byBhIHNpbXBsaWZpZWQgYW5zd2VyLiBUaGV5IGNhbid0XG4gKiBmb3JtIGxvb3BzLiBUaGlua2luZyBhYm91dCB0aGlzLCB0aGVyZSBhcmUgdHdvIHNpbXBsaWZpZWQgZm9ybXMgdG9cbiAqIGNvbnZlcmdlIHRvOlxuICogIC0gRmFjdG9yZWQgZm9ybSBjKGErYilcbiAqICAtIFBvbHlub21pYWwgZm9ybSBhYyArIGJjXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBydWxlIGNhbiBmaW5kIGVxdWl2YWxlbnRzIGZvciB0aGVcbiAgICAgKiBnaXZlbiBleHByZXNzaW9uLiBPbmx5IGNhbGwgYXBwbHkoKSBpZiB0cnVlLlxuICAgICAqL1xuICAgIHB1YmxpYyBhcHBsaWVzKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBsaWVzSW1wbChleHApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBzZXQgb2YgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZXF1aXZhbGVudCB0b1xuICAgICAqIHRoZSBnaXZlbiBvbmUuIE9ubHkgY2FsbCBpZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvblxuICAgICAqIHBhc3NlZCB0aGUgYXBwbGllcygpIHRlc3QuXG4gICAgICogQHBhcmFtIGV4cCBUaGUgZXhwcmVzc2lvbiB0byBmaW5kIGFuIGVxdWl2YWxlbnQgZm9yLlxuICAgICAqIEByZXR1cm5zIFNldCBvZiBlcXVpdmFsZW50IGV4cHJlc3Npb25zLCBub3QgaW5jbHVkaW5nIHRoZSBnaXZlbiBvbmUuXG4gICAgICovXG4gICAgcHVibGljIGFwcGx5KGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuY29uc3RydWN0b3IubmFtZSArIFwiIG9uIFwiICsgZXhwLnRvU3RyaW5nKCkpXG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5hcHBseUltcGwoZXhwKVxuICAgICAgICByZXN1bHQuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGFzc2VydChlICE9IG51bGwgJiYgZSAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICAgICAgZS5jbGFpbS5uMSAhPT0gZXhwLFxuICAgICAgICAgICAgICAgIFwiUnVsZSBcIiArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IubmFtZSArXG4gICAgICAgICAgICAgICAgICAgIFwiIHByb2R1Y2VkIHJlc3VsdCBlcXVpdmFsZW50IHRvIGdyb3VuZFwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAvLyBUT0RPOiBUaGlzIGZ1enp5IHRlc3QgaXMgaW5jb25sdXNpdmUgYW5kIGNhbiBmYWlsIHdoZW4gdHdvIGV4cHJlc3Npb25zIGFyZSBlcXVhbC5cbiAgICAgICAgICAgIC8vIERvbid0IGxlYXZlIGl0IGluIHByb2R1Y3Rpb24uXG4gICAgICAgICAgICAvLyBhc3NlcnQoZnV6enlFcXVpdmFsZW5jZVRlc3QoZXhwLCBlLmNsYWltLm4xKSwgXCJGYWlsZWQgZnV6enkgZXF1aXZhbGVuY2UgdGVzdCBcIlxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgKyBleHAudG9VbmFtYmlnaW91c1N0cmluZygpICsgXCIvPVwiICsgZS5jbGFpbS5uMS50b1VuYW1iaWdpb3VzU3RyaW5nKClcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICsgXCIgZHVyaW5nIGFyZ3VtZW50IFwiICsgZS5hcmd1bWVudClcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHR5cGUgb2YgZXhwcmVzc2lvbiB0aGlzIHJ1bGUnc1xuICAgICAqIHJlc3VsdHMgYXBwcm9hY2guXG4gICAgICovXG4gICAgcHVibGljIGdldCBjb252ZXJnZW5jZVR5cGUoKTogQ29udmVyZ2VuY2VUYXJnZXQge1xuICAgICAgICByZXR1cm4gQ29udmVyZ2VuY2VUYXJnZXQuTm9uZVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+XG59XG5cbi8qKlxuICogUGx1Z3MgaW4gc29tZSB2YWx1ZXMgdG8gc2VlIGlmIHRoZXkncmUgZXF1aXZhbGVudC5cbiAqIEBwYXJhbSBlMVxuICogQHBhcmFtIGUyXG4gKi9cbmZ1bmN0aW9uIGZ1enp5RXF1aXZhbGVuY2VUZXN0KGUxOiBFeHByZXNzaW9uLCBlMjogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IExJTUlUID0gMC4wMDFcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICBpZiAoTWF0aC5hYnMoZTEuZXZhbHVhdGUodmFsdWUpIC0gZTIuZXZhbHVhdGUodmFsdWUpKSA+IExJTUlUKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG5cbmV4cG9ydCBlbnVtIENvbnZlcmdlbmNlVGFyZ2V0IHtcbiAgICBGYWN0b3JlZCxcbiAgICBQb2x5bm9taWFsLFxuICAgIE5vbmVcbn1cblxuY29uc3QgdmFsdWVzOiBTZXQ8VmFyaWFibGVWYWx1ZU1hcD4gPSBzZXRPZihcbiAgICBidWlsZFZhcmlhYmxlVmFsdWVNYXAoLTIuMSksXG4gICAgYnVpbGRWYXJpYWJsZVZhbHVlTWFwKC0xLjEpLFxuICAgIGJ1aWxkVmFyaWFibGVWYWx1ZU1hcCgwLjEpLFxuICAgIGJ1aWxkVmFyaWFibGVWYWx1ZU1hcCgxLjEpLFxuICAgIGJ1aWxkVmFyaWFibGVWYWx1ZU1hcCgyLjEpLFxuICAgIHtcbiAgICAgICAgdmFsdWVPZih2OiBWYXJpYWJsZSk6IG51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gdi5zeW1ib2wuY29kZVBvaW50QXQoMCkgPz8gMFxuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIHZhbHVlT2YodjogVmFyaWFibGUpOiBudW1iZXIge1xuICAgICAgICAgICAgcmV0dXJuIHYuc3ltYm9sLmNoYXJDb2RlQXQoMClcbiAgICAgICAgfVxuICAgIH1cbilcblxuZnVuY3Rpb24gYnVpbGRWYXJpYWJsZVZhbHVlTWFwKHZhbDogbnVtYmVyKTogVmFyaWFibGVWYWx1ZU1hcCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWVPZih2OiBWYXJpYWJsZSk6IG51bWJlciB7XG4gICAgICAgICAgICByZXR1cm4gdmFsXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuXG4vKipcbiAqIFByb2R1Y2VzIHRydXRocyBmcm9tIGEgc2V0IG9mIGVxdWl2YWxlbnQgZXhwcmVzc2lvbnMuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGUge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGVxdWF0aW9uIEEgc2V0IG9mIGV4cHJlc3Npb25zIHdoaWNoIGFyZSBlcXVhbC5cbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwbHkoZXF1YXRpb246IFNldDxFeHByZXNzaW9uPik6IEFyZ3VtZW50W10ge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseUltcGwoZXF1YXRpb24pXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGFwcGx5SW1wbChlcXVhdGlvbjogU2V0PEV4cHJlc3Npb24+KTogQXJndW1lbnRbXVxuXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBydWxlczogU2V0PFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZT4gPSBuZXcgU2V0KClcbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IGZyYWN0aW9uLCBwcm9kdWN0T3JOb3QgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBSZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGUgfSBmcm9tIFwiLi4vUmVsYXRpb25hbERlcml2YXRpb25SdWxlXCJcblxuZXhwb3J0IGNsYXNzIERpdmlkZU9uQm90aFNpZGVzIGV4dGVuZHMgUmVsYXRpb25hbERlcml2YXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGVxdWF0aW9uOiBTZXQ8RXhwcmVzc2lvbj4pOiBBcmd1bWVudFtdIHtcbiAgICAgICAgY29uc3Qgb3V0OiBBcmd1bWVudFtdID0gW11cblxuICAgICAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBjYXJ0ZXNpYW5Qcm9kdWN0PEV4cHJlc3Npb24+KGVxdWF0aW9uKVxuXG4gICAgICAgIGNvbWJpbmF0aW9uc1xuICAgICAgICAgICAgLmZpbHRlcihwYWlyID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFpclswXSBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZm9yRWFjaChwYWlyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gcGFpclswXSBhcyBQcm9kdWN0XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBwYWlyWzFdXG5cbiAgICAgICAgICAgICAgICAvLyBTb21lIHByb2R1Y3RzIGhhdmUgbXVsdGlwbGUgZmFjdG9yc1xuICAgICAgICAgICAgICAgIHAuZmFjdG9ycy5mb3JFYWNoKGZhY3RvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWNvbmQ6IEV4cHJlc3Npb25bXVxuICAgICAgICAgICAgICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQgPSBbLi4ub3RoZXIuZmFjdG9yc11cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFtvdGhlcl1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGFpbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG46IHAud2l0aG91dChmYWN0b3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbjE6IGZyYWN0aW9uKHByb2R1Y3RPck5vdCguLi5zZWNvbmQpLCBmYWN0b3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFNldChbcCwgb3RoZXJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImE9YiAmIGM9ZCA9PiBhL2MgPSBiL2RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gb3V0XG4gICAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGFudGktcmVmbGV4aXZlIGNsb3N1cmUgb2YgdGhlIHJlbGF0aW9uIEEgeCBBLlxuICogSXQncyBzeW1tZXRyaWMgYW5kIHRyYW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIHNldFxuICovXG5mdW5jdGlvbiBjYXJ0ZXNpYW5Qcm9kdWN0PFQ+KHNldDogU2V0PFQ+KTogVFtdW10ge1xuICAgIGNvbnN0IG91dCA9IFtdXG4gICAgZm9yIChjb25zdCBmaXJzdCBvZiBzZXQpIHtcbiAgICAgICAgZm9yIChjb25zdCBzZWNvbmQgb2Ygc2V0KSB7XG4gICAgICAgICAgICBpZiAoZmlyc3QgPT09IHNlY29uZCkgY29udGludWVcbiAgICAgICAgICAgIG91dC5wdXNoKFtmaXJzdCwgc2Vjb25kXSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJEaXYgb24gYm90aCBzaWRlc1wiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBuZWdhdGl2ZSwgc3VtSW50dWl0aXZlIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCJcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBSZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGUgfSBmcm9tIFwiLi4vUmVsYXRpb25hbERlcml2YXRpb25SdWxlXCJcblxuZXhwb3J0IGNsYXNzIFN1YnRyYWN0RnJvbUJvdGhTaWRlcyBleHRlbmRzIFJlbGF0aW9uYWxEZXJpdmF0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChlcXVhdGlvbjogU2V0PEV4cHJlc3Npb24+KTogQXJndW1lbnRbXSB7XG4gICAgICAgIGNvbnN0IG91dDogQXJndW1lbnRbXSA9IFtdXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9ucyA9IGNhcnRlc2lhblByb2R1Y3Q8RXhwcmVzc2lvbj4oZXF1YXRpb24pXG5cbiAgICAgICAgLy8gSWYgb25lIGlzIGFkZGl0aW9uLCBzdWJ0cmFjdCBmcm9tIGJvdGggc2lkZXNcbiAgICAgICAgLy8gSGVyZSB3ZSBmaWx0ZXIgc28gdGhhdCBvbmx5IHBhaXJzIHdoZXJlIHRoZSBmaXJzdCBleHByZXNzaW9uIGlzXG4gICAgICAgIC8vIGEgc3VtIGFyZSBvcGVyYXRlZCBvbi4gVGhpcyB3b3JrcyBiZWNhdXNlIGNvbWJpbmF0aW9ucyBpcyBzeW1ldHJpYy5cbiAgICAgICAgLy8gTm93IGZvciBlYWNoIHBhaXIgd2Ugb25seSBoYXZlIHRvIGRlYWwgd2l0aCB0aGUgZmlyc3QgZXhwIGJlaW5nIHN1bS5cbiAgICAgICAgY29tYmluYXRpb25zXG4gICAgICAgICAgICAuZmlsdGVyKHBhaXIgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWlyWzBdIGluc3RhbmNlb2YgU3VtXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2gocGFpciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHBhaXJbMF0gYXMgU3VtXG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBwYWlyWzFdXG5cbiAgICAgICAgICAgICAgICAvLyBTb21lIFN1bXMgaGF2ZSBtdWx0aXBsZSB0ZXJtc1xuICAgICAgICAgICAgICAgIHMudGVybXNcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm0gPT4gISh0ZXJtIGluc3RhbmNlb2YgUHJvZHVjdCAmJiB0ZXJtLmlzTmVnYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2godGVybSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBvdGhlciBpcyBpdHNlbGYgYSBzdW0sIHdlIHdpbGwgYnJlYWsgaXQgYXBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludG8gdGVybXMgc28gdGhhdCB3ZSBjYW4gY29tYmluZSBpbnRlZ2VyIHRlcm1zIGluIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluYWwgcmVzdWx0IGFuZCBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8geCArIDIgKyAyID0geSArIDIgPT4geCArIDIgPSB5ICsgMiAtIDJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgZG8gdGhpcyB0byBpbnRlZ2VyIHRlcm1zLCBiZWNhdXNlIHRoYXQnc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gb2J2aW91cyBhbmQgY291bGRuJ3QgcG9zc2libHkgbmVlZCB0byBiZSBleHBsYWluZWQgZnVydGhlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGRvIGl0IHRvIHZhcmlhYmxlIHRlcm1zLiBUaGUgZm9sbG93aW5nIGlzIGNvcnJlY3QgYmVoYXZpb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB4ICsgYSArIGEgPSB5ICsgYSA9PiB4ICsgYSA9IHkgKyBhIC0gYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBkaXN0aW5jdGlvbiBpcyBkZWJhdGFibGUuIFdoeSBzaG91bGRuJ3QgdGhlIGxlZnQgaGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb2YgdGhlIGxhc3QgZGVkdWN0aW9uIGJlIHggKyBhICsgYSAtIGE/IEJ5IGRvaW5nIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBwcm9kdWNlIGEgbXVjaCBtb3JlIGNvbXBsaWNhdGVkIGFuZCBleHBlbnNpdmUgZ3JhcGguXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Vjb25kOiBFeHByZXNzaW9uW11cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFN1bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IFsuLi5vdGhlci50ZXJtc11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gW290aGVyXVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xhaW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbjogcy53aXRob3V0KHRlcm0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4xOiBzdW1JbnR1aXRpdmUoLi4uc2Vjb25kLCBuZWdhdGl2ZSh0ZXJtKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTZXQoW3MsIG90aGVyXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYWltLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImE9YiAmIGM9ZCA9PiBhLWMgPSBiLWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgYW50aS1yZWZsZXhpdmUgY2xvc3VyZSBvZiB0aGUgcmVsYXRpb24gQSB4IEEuXG4gKiBJdCdzIHN5bW1ldHJpYyBhbmQgdHJhbnNpdGl2ZS5cbiAqXG4gKiBAcGFyYW0gc2V0XG4gKi9cbmZ1bmN0aW9uIGNhcnRlc2lhblByb2R1Y3Q8VD4oc2V0OiBTZXQ8VD4pOiBUW11bXSB7XG4gICAgY29uc3Qgb3V0ID0gW11cbiAgICBmb3IgKGNvbnN0IGZpcnN0IG9mIHNldCkge1xuICAgICAgICBmb3IgKGNvbnN0IHNlY29uZCBvZiBzZXQpIHtcbiAgICAgICAgICAgIGlmIChmaXJzdCA9PT0gc2Vjb25kKSBjb250aW51ZVxuICAgICAgICAgICAgb3V0LnB1c2goW2ZpcnN0LCBzZWNvbmRdKVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRcbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlN1YiBmcm9tIGJvdGggc2lkZXNcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgRGVyaXZhdGl2ZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG5leHBvcnQgY2xhc3MgQnJlYWtEZXJpdmF0aXZlc092ZXJBZGRpdGlvbiBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIERlcml2YXRpdmUgJiYgZXhwLmV4cCBpbnN0YW5jZW9mIFN1bVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBkID0gZXhwIGFzIERlcml2YXRpdmVcbiAgICAgICAgY29uc3Qgc3VtID0gZC5leHAgYXMgU3VtXG5cbiAgICAgICAgY29uc3QgdGVybXMgPSBbLi4uc3VtLnRlcm1zXVxuICAgICAgICBjb25zdCB3cmFwcGVkID0gdGVybXMubWFwPERlcml2YXRpdmU+KHQgPT5cbiAgICAgICAgICAgIERlcml2YXRpdmUub2YodCwgZC5yZWxhdGl2ZVRvKVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGQpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogU3VtLm9mKHdyYXBwZWQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIlNwbGl0IGRlcml2YXRpdmUgb3ZlciBhZGRpdGlvblwiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkJyZWFrIERlcml2YXRpdmVzIG92ZXIgQWRkaXRpb25cIlxuIiwiaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvQXJndW1lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcbmltcG9ydCB7IG51bSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHtcbiAgICBEZXJpdmF0aXZlLFxuICAgIERlcml2YXRpdmVUeXBlXG59IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0Rlcml2YXRpdmVcIlxuXG5leHBvcnQgY2xhc3MgQ29uc3RhbnREZXJpdmF0aWVzIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZXhwLmNsYXNzID09PSBEZXJpdmF0aXZlVHlwZSAmJiAoZXhwIGFzIERlcml2YXRpdmUpLmV4cC5pc0NvbnN0YW50XG4gICAgICAgIClcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IG51bSgwKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJEZXJpdmF0aXZlIG9mIGFueXRoaW5nIGlzIHplcm9cIixcbiAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEOiBzdHJpbmcgPSBcIkNvbnN0YW50IERlcml2YXRpdmVcIlxuIiwiaW1wb3J0IHsgSW50ZWdyYWwsIEludGVncmFsVHlwZSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0ludGVncmFsXCJcbmltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvQXJndW1lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvRnJhY3Rpb25cIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcblxuLyoqXG4gKiBJbnRlZ3JhdGVzIGR1L3UgIC0+IGxvZ3x1fFxuICovXG5leHBvcnQgY2xhc3MgTG9nSW50ZWdyYWxSdWxlIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoZXhwLmNsYXNzICE9PSBJbnRlZ3JhbFR5cGUpIHJldHVyblxuICAgICAgICBjb25zdCBpID0gZXhwIGFzIEludGVncmFsXG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGkuaW50ZWdyYW5kIGluc3RhbmNlb2YgRnJhY3Rpb24gJiZcbiAgICAgICAgICAgIGkuaW50ZWdyYW5kLmRlbm9taW5hdG9yID09PSBpLnJlbGF0aXZlVG8gJiZcbiAgICAgICAgICAgIGkuaW50ZWdyYW5kLm51bWVyYXRvci5pc0NvbnN0YW50XG4gICAgICAgIClcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgaSA9IGV4cCBhcyBJbnRlZ3JhbFxuXG4gICAgICAgIHJldHVybiBzZXRPZigpXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHtcbiAgICBuZWdhdGl2ZSxcbiAgICBudW0sXG4gICAgcHJvZHVjdCxcbiAgICBzdW1JbnR1aXRpdmVcbn0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBEZXJpdmF0aXZlLCBEZXJpdmF0aXZlVHlwZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9EZXJpdmF0aXZlXCJcbmltcG9ydCB7IEV4cG9uZW50LCBFeHBvbmVudFR5cGUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwb25lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiXG5pbXBvcnQgeyBQcm9kdWN0VHlwZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG4vKipcbiAqIERlcml2ZXMgdXNpbmcgdGhlIHBvd2VyIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIFBvd2VyUnVsZSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGV4cCBpbnN0YW5jZW9mIERlcml2YXRpdmUgJiZcbiAgICAgICAgICAgICgoZXhwLmV4cCBpbnN0YW5jZW9mIEV4cG9uZW50ICYmXG4gICAgICAgICAgICAgICAgZXhwLmV4cC5iYXNlID09PSBleHAucmVsYXRpdmVUbyAmJlxuICAgICAgICAgICAgICAgIGV4cC5leHAucG93ZXIuaXNDb25zdGFudCkgfHxcbiAgICAgICAgICAgICAgICBleHAuZXhwID09PSBleHAucmVsYXRpdmVUbylcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdlIGtub3c6XG4gICAgICogZXhwIGlzIGEgRGVyaXZhdGl2ZSBvZiBhbiBFeHBvbmVudCB3aXRoIGEgY29uc3RhbnQgcG93ZXJcbiAgICAgKiB0aGUgZXhwb25lbnQncyBiYXNlIGlzIHRoZSBzYW1lIGFzIHdoYXQgdGhlIGRlcml2YXRpdmUgaXMgcmVsYXRpdmUgdG9cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBkID0gZXhwIGFzIERlcml2YXRpdmVcbiAgICAgICAgbGV0IGV4cG9uZW50OiBFeHBvbmVudFxuICAgICAgICBpZiAoZC5leHAgaW5zdGFuY2VvZiBFeHBvbmVudCkge1xuICAgICAgICAgICAgZXhwb25lbnQgPSBkLmV4cFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhwb25lbnQgPSBFeHBvbmVudC5vZihkLmV4cCwgbnVtKDEpKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHByb2R1Y3QoXG4gICAgICAgICAgICBleHBvbmVudC5wb3dlcixcbiAgICAgICAgICAgIEV4cG9uZW50Lm9mKFxuICAgICAgICAgICAgICAgIGV4cG9uZW50LmJhc2UsXG4gICAgICAgICAgICAgICAgc3VtSW50dWl0aXZlKGV4cG9uZW50LnBvd2VyLCBuZWdhdGl2ZShudW0oMSkpKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBzZXRPZihcbiAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICBzZXRPZihleHApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiByZXN1bHRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiUG93ZXIgcnVsZVwiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlBvd2VyIFJ1bGVcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgZiwgcHJvZHVjdCwgcmVtb3ZlTmV3LCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IERlcml2YXRpdmUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG4vKipcbiAqIERlcml2YXRpdmVzIG9mIHByb2R1Y3RzXG4gKlxuICogT25seSBvcGVyYXRlcyBvbiBkZXJpdmF0aXZlcyBvZiBwcm9kdWN0cyB3aGVyZSBhbGwgZmFjdG9ycyBhcmUgbm90IGNvbnN0YW50LlxuICovXG5leHBvcnQgY2xhc3MgUHJvZHVjdFJ1bGUgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBleHAgaW5zdGFuY2VvZiBEZXJpdmF0aXZlICYmXG4gICAgICAgICAgICBleHAuZXhwIGluc3RhbmNlb2YgUHJvZHVjdCAmJlxuICAgICAgICAgICAgLy8gQ29udGFpbnMgbm8gY29uc3RhbnQgZmFjdG9yc1xuICAgICAgICAgICAgIWV4cC5leHAuZmFjdG9yc1xuICAgICAgICAgICAgICAgIC5tYXA8Ym9vbGVhbj4oZiA9PiBmLmlzQ29uc3RhbnQpXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYSB8fCBiKVxuICAgICAgICApXG4gICAgICAgIC8vIENvbnRhaW5zIG5vIGRlcml2YXRpdmVzIFRPRE86IEZpbmQgYSBiZXR0ZXIgc29sdXRpb24gdG8gbG9vcCBndWFyZGluZ1xuICAgICAgICAvLyYmICFleHAuZXhwLmZhY3RvcnMubWFwPGJvb2xlYW4+KGYgPT4gZiBpbnN0YW5jZW9mIERlcml2YXRpdmUpLnJlZHVjZSgoYSwgYikgPT4gYSB8fCBiKVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGQgPSBleHAgYXMgRGVyaXZhdGl2ZVxuICAgICAgICBjb25zdCBwID0gZC5leHAgYXMgUHJvZHVjdFxuICAgICAgICBjb25zdCBmYWN0b3JzID0gcC5mYWN0b3JzXG5cbiAgICAgICAgLy8gRm9yIGVhY2ggZmFjdG9yLCBjcmVhdGUgYSBwcm9kdWN0IGNvbnRhaW5pbmcgaXRzIGRlcml2YXRpdmUgYW5kIHRoZSBvdGhlciBmYWN0b3JzXG4gICAgICAgIGNvbnN0IHRlcm1zOiBQcm9kdWN0W10gPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZhY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGkgaXMgdGhlIGZhY3RvciB0byBkZXJpdmF0aXplICh3aGF0IHRlcm0gd2UncmUgb24pXG4gICAgICAgICAgICBjb25zdCBmYWN0b3JUb0Rlcml2YXRpemUgPSBmYWN0b3JzW2ldXG4gICAgICAgICAgICBjb25zdCBwRmFjdG9yczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIGZhY3RvcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBhIGlzIHRoZSB0aGUgZmFjdG9yIHdlJ3JlIG9uXG4gICAgICAgICAgICAgICAgaWYgKGZhY3RvciA9PT0gZmFjdG9yVG9EZXJpdmF0aXplKVxuICAgICAgICAgICAgICAgICAgICBwRmFjdG9ycy5wdXNoKERlcml2YXRpdmUub2YoZmFjdG9yLCBkLnJlbGF0aXZlVG8pKVxuICAgICAgICAgICAgICAgIGVsc2UgcEZhY3RvcnMucHVzaChmYWN0b3IpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRlcm1zLnB1c2gocHJvZHVjdCguLi5wRmFjdG9ycykpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2V0T2YoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBkLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiBzdW0oLi4udGVybXMpIGFzIEV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiUHJvZHVjdCBSdWxlXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiUHJvZHVjdCBSdWxlXCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7XG4gICAgcHJvZHVjdCxcbiAgICBwcm9kdWN0QW5kTm90VGltZXNPbmUsXG4gICAgcHJvZHVjdE9yTm90LFxuICAgIHJlbW92ZSxcbiAgICByZW1vdmVOZXdcbn0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBEZXJpdmF0aXZlIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0Rlcml2YXRpdmVcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuZXhwb3J0IGNsYXNzIFB1bGxDb25zdGFudHNGcm9tRGVyaXZhdGl2ZXMgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBEZXJpdmF0aXZlICYmIGV4cC5leHAgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IGQgPSBleHAgYXMgRGVyaXZhdGl2ZVxuICAgICAgICBjb25zdCBwID0gZC5leHAgYXMgUHJvZHVjdFxuXG4gICAgICAgIGNvbnN0IGNvbnN0RmFjdG9ycyA9IHAuZmFjdG9ycy5maWx0ZXIoZiA9PiBmLmlzQ29uc3RhbnQpXG5cbiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IFNldDxBcmd1bWVudD4oKVxuICAgICAgICBmb3IgKGNvbnN0IGZhY3RvciBvZiBjb25zdEZhY3RvcnMpIHtcbiAgICAgICAgICAgIG91dC5hZGQoXG4gICAgICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgICAgICBzZXRPZihkKSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbjogZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG4xOiBwcm9kdWN0QW5kTm90VGltZXNPbmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlcml2YXRpdmUub2YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RPck5vdCguLi5yZW1vdmVOZXcocC5mYWN0b3JzLCBmYWN0b3IpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5yZWxhdGl2ZVRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIlB1bGwgY29uc3RhbnQgZmFjdG9yIGZyb20gZGVyaXZhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIlB1bGwgQ29uc3RhbnRzIGZyb20gRGVyaXZzXCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvQXJndW1lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcbmltcG9ydCB7IEludGVncmFsLCBJbnRlZ3JhbFR5cGUgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ3JhbFwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQge1xuICAgIHByb2R1Y3QsXG4gICAgcHJvZHVjdE9yTm90LFxuICAgIHByb2R1Y3RPck9uZVxufSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5cbmV4cG9ydCBjbGFzcyBQdWxsQ29uc3RhbnRzRnJvbUludGVncmFscyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGV4cC5jbGFzcyAhPT0gSW50ZWdyYWxUeXBlKSByZXR1cm4gZmFsc2VcbiAgICAgICAgY29uc3QgaSA9IGV4cCBhcyBJbnRlZ3JhbFxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBpLmludGVncmFuZCBpbnN0YW5jZW9mIFByb2R1Y3QgJiZcbiAgICAgICAgICAgIGkuaW50ZWdyYW5kLmZhY3RvcnMuc29tZShmID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5pc0NvbnN0YW50XG4gICAgICAgICAgICB9KSAmJlxuICAgICAgICAgICAgaS5pbnRlZ3JhbmQuZmFjdG9ycy5zb21lKGYgPT4gIWYuaXNDb25zdGFudClcbiAgICAgICAgKVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBpID0gZXhwIGFzIEludGVncmFsXG4gICAgICAgIGNvbnN0IGludGVncmFuZCA9IGkuaW50ZWdyYW5kIGFzIFByb2R1Y3RcblxuICAgICAgICBjb25zdCBwdWxsZWRGYWN0b3JzID0gcHJvZHVjdE9yTm90KFxuICAgICAgICAgICAgLi4uaW50ZWdyYW5kLmZhY3RvcnMuZmlsdGVyKGYgPT4gZi5pc0NvbnN0YW50KVxuICAgICAgICApXG4gICAgICAgIGNvbnN0IG5ld0ludGVncmFuZCA9IHByb2R1Y3RPck9uZShcbiAgICAgICAgICAgIC4uLmludGVncmFuZC5mYWN0b3JzLmZpbHRlcihmID0+ICFmLmlzQ29uc3RhbnQpXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9kdWN0KFxuICAgICAgICAgICAgcHVsbGVkRmFjdG9ycyxcbiAgICAgICAgICAgIEludGVncmFsLm9mKG5ld0ludGVncmFuZCwgaS5yZWxhdGl2ZVRvKVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJQdWxsIGNvbnN0YW50cyBmcm9tIGludGVncmFsXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ29uc3RhbnRzRnJvbUludGVncmFsc1wiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBuZWdhdGl2ZSwgbnVtLCBwcm9kdWN0LCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IERlcml2YXRpdmUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHBvbmVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRnJhY3Rpb25cIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5cbmV4cG9ydCBjbGFzcyBRdW90aWVudFJ1bGUgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBleHAgaW5zdGFuY2VvZiBEZXJpdmF0aXZlICYmIGV4cC5leHAgaW5zdGFuY2VvZiBGcmFjdGlvblxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBkID0gZXhwIGFzIERlcml2YXRpdmVcbiAgICAgICAgY29uc3QgYSA9IChkLmV4cCBhcyBGcmFjdGlvbikubnVtZXJhdG9yXG4gICAgICAgIGNvbnN0IGIgPSAoZC5leHAgYXMgRnJhY3Rpb24pLmRlbm9taW5hdG9yXG4gICAgICAgIHJldHVybiBzZXRPZihcbiAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICBzZXRPZihleHApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiBGcmFjdGlvbi5vZihcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0KERlcml2YXRpdmUub2YoYSwgZC5yZWxhdGl2ZVRvKSwgYiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVnYXRpdmUocHJvZHVjdChhLCBEZXJpdmF0aXZlLm9mKGIsIGQucmVsYXRpdmVUbykpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEV4cG9uZW50Lm9mKGIsIG51bSgyKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJRdW90aWVudCBSdWxlXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiUXVvdGllbnQgUnVsZVwiXG4iLCJpbXBvcnQgeyBJbnRlZ3JhbCwgSW50ZWdyYWxUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvSW50ZWdyYWxcIlxuaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuaW1wb3J0IHsgRXhwb25lbnQsIEV4cG9uZW50VHlwZSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBuZWdhdGl2ZSwgbnVtLCBzdW0gfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuXG5leHBvcnQgY2xhc3MgUmV2ZXJzZVBvd2VyUnVsZSBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGV4cC5jbGFzcyAhPT0gSW50ZWdyYWxUeXBlKSByZXR1cm4gZmFsc2VcblxuICAgICAgICBjb25zdCBpID0gZXhwIGFzIEludGVncmFsXG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChpLmludGVncmFuZCBpbnN0YW5jZW9mIEV4cG9uZW50ICYmXG4gICAgICAgICAgICAgICAgaS5pbnRlZ3JhbmQuYmFzZSA9PT0gaS5yZWxhdGl2ZVRvICYmXG4gICAgICAgICAgICAgICAgaS5pbnRlZ3JhbmQucG93ZXIuaXNDb25zdGFudCkgfHxcbiAgICAgICAgICAgIGkuaW50ZWdyYW5kID09PSBpLnJlbGF0aXZlVG9cbiAgICAgICAgKVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBpID0gZXhwIGFzIEludGVncmFsXG4gICAgICAgIGNvbnN0IGludGVncmFuZCA9IGkuaW50ZWdyYW5kXG5cbiAgICAgICAgbGV0IHJlc3VsdDogRXhwcmVzc2lvblxuXG4gICAgICAgIGlmIChpbnRlZ3JhbmQgaW5zdGFuY2VvZiBFeHBvbmVudCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gRnJhY3Rpb24ub2YoXG4gICAgICAgICAgICAgICAgRXhwb25lbnQub2YoaW50ZWdyYW5kLmJhc2UsIHN1bShpbnRlZ3JhbmQucG93ZXIsIG51bSgxKSkpLFxuICAgICAgICAgICAgICAgIHN1bShpbnRlZ3JhbmQucG93ZXIsIG51bSgxKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEV4cG9uZW50Lm9mKGludGVncmFuZCwgbnVtKDIpKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJSZXZlcnNlIHBvd2VyIHJ1bGVcIixcbiAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJSZXZlcnNlIFBvd2VyIFJ1bGVcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEludGVncmFsIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVncmFsXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5cbmV4cG9ydCBjbGFzcyBVU3Vic3RpdHV0aW9uIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmFsc2UgLy9leHAgaW5zdGFuY2VvZiBJbnRlZ3JhbFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIilcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJVU3Vic3RpdHV0aW9uXCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IHByb2R1Y3QsIHN1bSB9IGZyb20gXCIuLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRGVyaXZhdGl2ZSwgRGVyaXZhdGl2ZVR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRGVyaXZhdGl2ZVwiXG5pbXBvcnQgeyBFeHBvbmVudCwgRXhwb25lbnRUeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiwgRnJhY3Rpb25UeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiXG5pbXBvcnQgeyBJbnRlZ3JhbCwgSW50ZWdyYWxUeXBlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ludGVncmFsXCJcbmltcG9ydCB7IExvZ2FyaXRobSwgTG9nVHlwZSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9Mb2dhcml0aG1cIlxuaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdFR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBTdW0sIFN1bVR5cGUgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvU3VtXCJcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1ZhcmlhYmxlXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5cbi8qKlxuICogU2VhcmNoZXMgZm9yIGVxdWl2YWxlbnRzIG9mIHRoZSBnaXZlblxuICogZXhwcmVzc2lvbiB3aXRoIGEgc2VhcmNoIGRlcHRoIG9mIDEuXG4gKiBJdCBkb2VzIHRoaXMgYnkgcmVmbGVjdGluZyB0aGUgZXhwcmVzc2lvbidzXG4gKiB0eXBlLCB0aGVuIGRpc2JhdGNoaW5nIHRvIGEgdHlwZSBzcGVjaWZpYyBlcXVpdmFsZW50c1xuICogZnVuY3Rpb24uXG4gKlxuICogVGhlIHNwZWNpZmljIGZ1bmN0aW9ucyB1c2UgdGhlIGdpdmVuIGRpcmVjdEVxdWl2YWxlbnRzXG4gKiBmdW5jdGlvbiB0byBzd2FwIG91dCB0aGUgY29tcG9uZW50IHZhbHVlcyBvZiB0aGVpclxuICogZXhwcmVzc2lvbiB3aXRoIGVxdWl2YWxlbnRzLlxuICpcbiAqIEV4KVxuICogIEdpdmVuIHRoZSBleHByZXNzaW9uXG4gKiAgICAgICAgIChhICsgYSkgKyAoYiAqIGIpXG4gKiAgd2UgZGlzYmF0Y2ggdG8gdGhlIHN1bSBzcGVjaWZpYyBmdW5jdGlvbiAoYmVjYXVzZVxuICogIHRoZSBvdXRlciBtb3N0IG9wZXJhdGlvbiBpcyBhZGRpdGlvbikuIFRoaXMgZGlzYmF0Y2hcbiAqICBmdW5jdGlvbiB1c2VzIHRoZSBkaXJlY3RFcXVpdmFsZW50cyBmdW5jdGlvbiB0byBzd2FwIG91dFxuICogIGVhY2ggb2YgdGhlIHN1bSdzIHRlcm1zIGluZGl2aWR1YWxseSwgeWllbGRpbmcgcmVzdWx0c1xuICogIGxpa2U6XG4gKiAgICAgIC0+ICgyYSkgKyAoYiAqIGIpIHdpdGggaW5mZXJlbmNlIGEgKyBhID0gMmFcbiAqICAgICAgLT4gKGEgKyBhKSArIGJeMlxuICpcbiAqIEBwYXJhbSBleHAgVGhlIGV4cHJlc3Npb24gdG8gc2VhcmNoIGZvciBlcXVpdmFsZW50cy5cbiAqIEBwYXJhbSBkaXJlY3RFcXVpdmFsZW50cyBGdW5jdGlvbiB0aGF0IHRha2VzIGV4cHJlc3Npb25zIGFuZCBmaW5kcyBlcXVpdmFsZW50cy5cbiAqICAgICAgICAgICAgICBUaGlzIGZ1bmN0aW9uIG9ubHkgbmVlZHMgdG8gbG9vayBmb3IgdG9wIGxldmVsIGVxdWl2YWxlbnRzLSByZWN1cnNpb25cbiAqICAgICAgICAgICAgICBpcyBoYW5kbGVkIGJ5IHRoZSBlcXVpdiBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIEFycmF5IG9mIGFyZ3VtZW50cyBjb25uZWN0aW5nIHRoZSBnaXZlbiBleHByZXNzaW9uIHRvIGVxdWl2YWxlbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXF1aXYoXG4gICAgZXhwOiBFeHByZXNzaW9uLFxuICAgIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50PlxuKTogQXJndW1lbnRbXSB7XG4gICAgaWYgKGV4cCBpbnN0YW5jZW9mIFZhcmlhYmxlIHx8IGV4cCBpbnN0YW5jZW9mIEludGVnZXIpIHJldHVybiBbXVxuICAgIGVsc2VcbiAgICAgICAgc3dpdGNoIChleHAuY2xhc3MpIHtcbiAgICAgICAgICAgIGNhc2UgU3VtVHlwZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VtRXF1aXYoZXhwIGFzIFN1bSwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgICAgICBjYXNlIFByb2R1Y3RUeXBlOlxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9kdWN0RXF1aXYoZXhwIGFzIFByb2R1Y3QsIGRpcmVjdEVxdWl2YWxlbnRzKVxuICAgICAgICAgICAgY2FzZSBFeHBvbmVudFR5cGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9uZW50RXF1aXYoZXhwIGFzIEV4cG9uZW50LCBkaXJlY3RFcXVpdmFsZW50cylcbiAgICAgICAgICAgIGNhc2UgRnJhY3Rpb25UeXBlOlxuICAgICAgICAgICAgICAgIHJldHVybiBmcmFjdGlvbkVxdWl2KGV4cCBhcyBGcmFjdGlvbiwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgICAgICBjYXNlIERlcml2YXRpdmVUeXBlOlxuICAgICAgICAgICAgICAgIHJldHVybiBkZXJpdmF0aXZlRXF1aXYoZXhwIGFzIERlcml2YXRpdmUsIGRpcmVjdEVxdWl2YWxlbnRzKVxuICAgICAgICAgICAgY2FzZSBMb2dUeXBlOlxuICAgICAgICAgICAgICAgIHJldHVybiBsb2dhcml0aG1FcXVpdihleHAgYXMgTG9nYXJpdGhtLCBkaXJlY3RFcXVpdmFsZW50cylcbiAgICAgICAgICAgIGNhc2UgSW50ZWdyYWxUeXBlOlxuICAgICAgICAgICAgICAgIHJldHVybiBpbnRlZ3JhbEVxdWl2KGV4cCBhcyBJbnRlZ3JhbCwgZGlyZWN0RXF1aXZhbGVudHMpXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCBmb3IgXCIgKyBleHAuY2xhc3MpXG4gICAgICAgIH1cbn1cblxuLyoqXG4gKiBHZXRzIGFsbCBlcXVpdmFsZW50cyBvZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvblxuICogYnkgc3dhcHBpbmcgb3V0IGl0J3MgY2hpbGRyZW4gaW5kaXZpZHVhbGx5LlxuICpcbiAqIChhICsgYSkgKyAoYiArIGIpXG4gKiAtPiAoMmEpICsgKGIgKyBiKSB3aXRoIGluZmVyZW5jZSBhICsgYSA9IDJhXG4gKiBAcGFyYW0gZXhwXG4gKiBAcmV0dXJucyBBcnJheSBvZiBpbmZlcmVuY2VzIHRvIGVxdWl2YWxlbnQgZXhwcmVzc2lvbnMuXG4gKi9cbmZ1bmN0aW9uIHN1bUVxdWl2KFxuICAgIGV4cDogU3VtLFxuICAgIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50PlxuKTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudFN1bXM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudFN1bXMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgLy8gRmluZCBlcXVpdmFsZW50cyBmb3IgZWFjaCB0ZXJtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHAudGVybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGVybSA9IGV4cC50ZXJtc1tpXVxuXG4gICAgICAgIC8vIFN1YnN0aXR1dGUgdGVybSBmb3IgZWFjaCBlcXVpdmFsZW50XG4gICAgICAgIGVxdWl2KHRlcm0sIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGEgPT4ge1xuICAgICAgICAgICAgZXF1aXZhbGVudFN1bXMuYWRkKFxuICAgICAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbjE6IHN3YXAoZXhwLCBpLCBhLmNsYWltLm4xIGFzIEV4cHJlc3Npb24pXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGEuYXJndW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGEucnVsZUlkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN3YXAoczogU3VtLCBpOiBudW1iZXIsIGU6IEV4cHJlc3Npb24pOiBTdW0ge1xuICAgICAgICBjb25zdCB0ZXJtcyA9IFsuLi5zLnRlcm1zXVxuICAgICAgICB0ZXJtc1tpXSA9IGVcbiAgICAgICAgcmV0dXJuIHN1bSguLi50ZXJtcylcbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRTdW1zXVxufVxuXG5mdW5jdGlvbiBwcm9kdWN0RXF1aXYoXG4gICAgZXhwOiBQcm9kdWN0LFxuICAgIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50PlxuKTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudFByb2R1Y3RzOiBTZXQ8QXJndW1lbnQ+ID0gbmV3IFNldCgpXG5cbiAgICAvLyBBZGQgdG9wIGxldmVsIGVxdWl2YWxlbnRzXG4gICAgZGlyZWN0RXF1aXZhbGVudHMoZXhwKS5mb3JFYWNoKGluZiA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRQcm9kdWN0cy5hZGQoaW5mKVxuICAgIH0pXG5cbiAgICAvLyBGaW5kIGVxdWl2YWxlbnRzIGZvciBlYWNoIHRlcm1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4cC5mYWN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IGV4cC5mYWN0b3JzW2ldXG5cbiAgICAgICAgLy8gU3Vic3RpdHV0ZSB0ZXJtIGZvciBlYWNoIGVxdWl2YWxlbnRcbiAgICAgICAgZXF1aXYoZmFjdG9yLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICAgICAgZXF1aXZhbGVudFByb2R1Y3RzLmFkZChcbiAgICAgICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG4xOiBzd2FwKGV4cCwgaSwgYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24pXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFsdC5hcmd1bWVudCxcbiAgICAgICAgICAgICAgICAgICAgYWx0LnJ1bGVJZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzd2FwKHM6IFByb2R1Y3QsIGk6IG51bWJlciwgZTogRXhwcmVzc2lvbik6IFByb2R1Y3Qge1xuICAgICAgICBjb25zdCB0ZXJtcyA9IFsuLi5zLmZhY3RvcnNdXG4gICAgICAgIHRlcm1zW2ldID0gZVxuICAgICAgICByZXR1cm4gcHJvZHVjdCguLi50ZXJtcylcbiAgICB9XG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRQcm9kdWN0c11cbn1cblxuZnVuY3Rpb24gZXhwb25lbnRFcXVpdihcbiAgICBleHA6IEV4cG9uZW50LFxuICAgIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50PlxuKTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgZXF1aXYoZXhwLmJhc2UsIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChcbiAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICBzZXRPZihleHApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiBFeHBvbmVudC5vZihhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbiwgZXhwLnBvd2VyKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWx0LmFyZ3VtZW50LFxuICAgICAgICAgICAgICAgIGFsdC5ydWxlSWRcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH0pXG4gICAgZXF1aXYoZXhwLnBvd2VyLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogRXhwb25lbnQub2YoZXhwLmJhc2UsIGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWx0LmFyZ3VtZW50LFxuICAgICAgICAgICAgICAgIGFsdC5ydWxlSWRcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufVxuXG5mdW5jdGlvbiBmcmFjdGlvbkVxdWl2KFxuICAgIGV4cDogRnJhY3Rpb24sXG4gICAgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+XG4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50czogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuXG4gICAgLy8gQWRkIHRvcCBsZXZlbCBlcXVpdmFsZW50c1xuICAgIGRpcmVjdEVxdWl2YWxlbnRzKGV4cCkuZm9yRWFjaChpbmYgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoaW5mKVxuICAgIH0pXG5cbiAgICBlcXVpdihleHAubnVtZXJhdG9yLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YoYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24sIGV4cC5kZW5vbWluYXRvcilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFsdC5hcmd1bWVudCxcbiAgICAgICAgICAgICAgICBhbHQucnVsZUlkXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9KVxuICAgIGVxdWl2KGV4cC5kZW5vbWluYXRvciwgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IEZyYWN0aW9uLm9mKGV4cC5udW1lcmF0b3IsIGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWx0LmFyZ3VtZW50LFxuICAgICAgICAgICAgICAgIGFsdC5ydWxlSWRcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufVxuXG5mdW5jdGlvbiBkZXJpdmF0aXZlRXF1aXYoXG4gICAgZXhwOiBEZXJpdmF0aXZlLFxuICAgIGRpcmVjdEVxdWl2YWxlbnRzOiAoZTogRXhwcmVzc2lvbikgPT4gU2V0PEFyZ3VtZW50PlxuKTogQXJndW1lbnRbXSB7XG4gICAgY29uc3QgZXF1aXZhbGVudHM6IFNldDxBcmd1bWVudD4gPSBuZXcgU2V0KClcblxuICAgIC8vIEFkZCB0b3AgbGV2ZWwgZXF1aXZhbGVudHNcbiAgICBkaXJlY3RFcXVpdmFsZW50cyhleHApLmZvckVhY2goaW5mID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKGluZilcbiAgICB9KVxuXG4gICAgZXF1aXYoZXhwLmV4cCwgZGlyZWN0RXF1aXZhbGVudHMpLmZvckVhY2goYWx0ID0+IHtcbiAgICAgICAgZXF1aXZhbGVudHMuYWRkKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IERlcml2YXRpdmUub2YoXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cC5yZWxhdGl2ZVRvXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFsdC5hcmd1bWVudCxcbiAgICAgICAgICAgICAgICBhbHQucnVsZUlkXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9KVxuICAgIGVxdWl2KGV4cC5yZWxhdGl2ZVRvLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogRGVyaXZhdGl2ZS5vZihleHAuZXhwLCBhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFsdC5hcmd1bWVudCxcbiAgICAgICAgICAgICAgICBhbHQucnVsZUlkXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9KVxuXG4gICAgcmV0dXJuIFsuLi5lcXVpdmFsZW50c11cbn1cblxuZnVuY3Rpb24gbG9nYXJpdGhtRXF1aXYoXG4gICAgZXhwOiBMb2dhcml0aG0sXG4gICAgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+XG4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50czogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuXG4gICAgLy8gQWRkIHRvcCBsZXZlbCBlcXVpdmFsZW50c1xuICAgIGRpcmVjdEVxdWl2YWxlbnRzKGV4cCkuZm9yRWFjaChhcmcgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoYXJnKVxuICAgIH0pXG5cbiAgICBlcXVpdihleHAuZXhwLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogTG9nYXJpdGhtLm9mKGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uLCBleHAuYmFzZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFsdC5hcmd1bWVudCxcbiAgICAgICAgICAgICAgICBhbHQucnVsZUlkXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9KVxuICAgIGVxdWl2KGV4cC5iYXNlLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogTG9nYXJpdGhtLm9mKGV4cC5leHAsIGFsdC5jbGFpbS5uMSBhcyBFeHByZXNzaW9uKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWx0LmFyZ3VtZW50LFxuICAgICAgICAgICAgICAgIGFsdC5ydWxlSWRcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH0pXG5cbiAgICByZXR1cm4gWy4uLmVxdWl2YWxlbnRzXVxufVxuXG5mdW5jdGlvbiBpbnRlZ3JhbEVxdWl2KFxuICAgIGV4cDogSW50ZWdyYWwsXG4gICAgZGlyZWN0RXF1aXZhbGVudHM6IChlOiBFeHByZXNzaW9uKSA9PiBTZXQ8QXJndW1lbnQ+XG4pOiBBcmd1bWVudFtdIHtcbiAgICBjb25zdCBlcXVpdmFsZW50czogU2V0PEFyZ3VtZW50PiA9IG5ldyBTZXQoKVxuXG4gICAgLy8gQWRkIHRvcCBsZXZlbCBlcXVpdmFsZW50c1xuICAgIGRpcmVjdEVxdWl2YWxlbnRzKGV4cCkuZm9yRWFjaChhcmcgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoYXJnKVxuICAgIH0pXG5cbiAgICBlcXVpdihleHAuaW50ZWdyYW5kLCBkaXJlY3RFcXVpdmFsZW50cykuZm9yRWFjaChhbHQgPT4ge1xuICAgICAgICBlcXVpdmFsZW50cy5hZGQoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogSW50ZWdyYWwub2YoYWx0LmNsYWltLm4xIGFzIEV4cHJlc3Npb24sIGV4cC5yZWxhdGl2ZVRvKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWx0LmFyZ3VtZW50LFxuICAgICAgICAgICAgICAgIGFsdC5ydWxlSWRcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH0pXG4gICAgZXF1aXYoZXhwLnJlbGF0aXZlVG8sIGRpcmVjdEVxdWl2YWxlbnRzKS5mb3JFYWNoKGFsdCA9PiB7XG4gICAgICAgIGVxdWl2YWxlbnRzLmFkZChcbiAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICBzZXRPZihleHApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiBJbnRlZ3JhbC5vZihleHAuaW50ZWdyYW5kLCBhbHQuY2xhaW0ubjEgYXMgRXhwcmVzc2lvbilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFsdC5hcmd1bWVudCxcbiAgICAgICAgICAgICAgICBhbHQucnVsZUlkXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9KVxuXG4gICAgcmV0dXJuIFsuLi5lcXVpdmFsZW50c11cbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IHN1bU9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCJcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5cbi8qKlxuICogQW55dGhpbmcgcGx1cyAwIGlzIGFueXRoaW5nXG4gKi9cbmV4cG9ydCBjbGFzcyBBZGRpdGl2ZUlkZW50aXR5IGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHRlcm1zV2l0aG91dFplcm8gPSAoZXhwIGFzIFN1bSkudGVybXMuZmlsdGVyKFxuICAgICAgICAgICAgdCA9PiAhKHQgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIHQudmFsdWUgPT0gMClcbiAgICAgICAgKVxuICAgICAgICBpZiAodGVybXNXaXRob3V0WmVyby5sZW5ndGggPT0gKGV4cCBhcyBTdW0pLnRlcm1zLmxlbmd0aCkgcmV0dXJuIHNldE9mKClcblxuICAgICAgICByZXR1cm4gc2V0T2YoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogc3VtT3JOb3QoLi4udGVybXNXaXRob3V0WmVybylcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiQWRkaXRpdmUgaWRlbnRpdHlcIixcbiAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJBZGRpdGl2ZSBJZGVudGl0eVwiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCJcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuZXhwb3J0IGNsYXNzIEFueXRoaW5nVGltZXNaZXJvIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gZXhwIGFzIFByb2R1Y3RcblxuICAgICAgICBsZXQgaXNaZXJvID0gZmFsc2VcbiAgICAgICAgZm9yIChjb25zdCBmYWN0b3Igb2YgcHJvZHVjdC5mYWN0b3JzKVxuICAgICAgICAgICAgaWYgKGZhY3RvciBpbnN0YW5jZW9mIEludGVnZXIgJiYgZmFjdG9yLnZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaXNaZXJvID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1plcm8pIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IEludGVnZXIub2YoMClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiQW55dGhpbmcgdGltZXMgemVybyBpcyB6ZXJvXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQW55dGhpbmdUaW1lc1plcm9cIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgcHJvZHVjdCwgc3VtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCJcbmltcG9ydCB7IFN1bSwgU3VtVHlwZSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5cbi8qKlxuICogRmxhdHRlbnMgcHJvZHVjdHMgaW4gcHJvZHVjdHMgYW5kIHN1bXMgaW4gc3Vtcy5cbiAqXG4gKiBPbmx5IHJldHVybnMgb25lIHNpbXBsaWZpY2F0aW9uIG9mIGFuIGlucHV0LlxuICovXG5leHBvcnQgY2xhc3MgQXNzb2NpYXRpdmVQcm9wZXJ0eU9mUHJvZHVjdHNBbmRTdW1zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtIHx8IGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFN1bSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VGVybXMgPSBleHAudGVybXNcbiAgICAgICAgICAgICAgICAubWFwPEV4cHJlc3Npb25bXT4odCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0IGluc3RhbmNlb2YgU3VtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWy4uLnQudGVybXNdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0XVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZsYXQoKVxuXG4gICAgICAgICAgICBpZiAobmV3VGVybXMubGVuZ3RoID09IGV4cC50ZXJtcy5sZW5ndGgpIHJldHVybiBuZXcgU2V0PEFyZ3VtZW50PigpXG5cbiAgICAgICAgICAgIHJldHVybiBzZXRPZihcbiAgICAgICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG4xOiBzdW0oLi4ubmV3VGVybXMpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiQXNzb2NpYXRpdmUgcHJvcGVydHkgb2YgYWRkaXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0ZhY3RvcnMgPSAoZXhwIGFzIFByb2R1Y3QpLmZhY3RvcnNcbiAgICAgICAgICAgICAgICAubWFwPEV4cHJlc3Npb25bXT4odCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0IGluc3RhbmNlb2YgUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi50LmZhY3RvcnNdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0XVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZsYXQoKVxuICAgICAgICAgICAgaWYgKG5ld0ZhY3RvcnMubGVuZ3RoID09IChleHAgYXMgUHJvZHVjdCkuZmFjdG9ycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXQ8QXJndW1lbnQ+KClcblxuICAgICAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbjE6IHByb2R1Y3QoLi4ubmV3RmFjdG9ycylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJBc3NvY2lhdGl2ZSBwcm9wZXJ0eSBvZiBtdWx0aXBsaWNhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQXNzb2NpYXRpdmUgUHJvcGVydHlcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgbmVnYXRpdmUgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5pbXBvcnQgeyBwcm9kdWN0IGFzIHByb2R1Y3RPZiB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuXG4vKipcbiAqIE1ha2VzIHN1cmUgYSBwcm9kdWN0IGRvZXNuJ3QgY29udGFpbiBhbnkgbmVnYXRpb25zLlxuICogVGhlIHByb2R1Y3QgaXMgZWl0aGVyIGEgbmVnYXRpb24gb3Igbm90LlxuICovXG5leHBvcnQgY2xhc3MgQ2FuY2VsTmVnYXRpdmVzIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gZXhwIGFzIFByb2R1Y3RcbiAgICAgICAgY29uc3QgbmVnYXRlZEZhY3RvcnM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgIGNvbnN0IG90aGVyczogRXhwcmVzc2lvbltdID0gW11cblxuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcHJvZHVjdC5mYWN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoZiBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgZi5pc05lZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgbmVnYXRlZEZhY3RvcnMucHVzaChmLm5lZ2F0aW9uKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdGhlcnMucHVzaChmKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNOZWdhdGlvbiA9IHByb2R1Y3QuaXNOZWdhdGlvblxuXG4gICAgICAgIGNvbnN0IG5lZ2F0aW9ucyA9IG5lZ2F0ZWRGYWN0b3JzLmxlbmd0aCArIChpc05lZ2F0aW9uID8gMSA6IDApXG5cbiAgICAgICAgaWYgKG5lZ2F0aW9ucyA8IDIpIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgY29uc3QgcmVzdWx0SXNOZWdhdGl2ZSA9IG5lZ2F0aW9ucyAlIDIgPT0gMVxuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9kdWN0T2YoLi4ubmVnYXRlZEZhY3RvcnMsIC4uLm90aGVycylcbiAgICAgICAgY29uc3QgbmVnYXRlZFJlc3VsdCA9IHJlc3VsdElzTmVnYXRpdmUgPyBuZWdhdGl2ZShyZXN1bHQpIDogcmVzdWx0XG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IG5lZ2F0ZWRSZXN1bHRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiQ2FuY2VsIG5lZ2F0aXZlc1wiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkNhbmNlbCBOZWdhdGl2ZXNcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgbnVtLCBzdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIlxuaW1wb3J0IHsgZmFjdG9yT3JkZXIsIFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBvcmRlclRlcm1zIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuLyoqXG4gKiBDb21iaW5lcyBsaWtlIGZhY3RvcnMgYW5kIGV4cG9uZW50cyB3aXRoIGxpa2UgYmFzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21iaW5lQ29tbW9uRmFjdG9yc011bHRpcGxpY2F0aW9uIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdCAmJiAhZXhwLmlzUmVkdWNpYmxlXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBleHAgYXMgUHJvZHVjdFxuXG4gICAgICAgIC8vIEZpbmQgYWxsIHRoZSBiYXNlcy9mYWN0b3JzIGluIHRoZSBwcm9kdWN0XG4gICAgICAgIGNvbnN0IGJhc2VzID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG4gICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIHByb2R1Y3QuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGZhY3RvciBpbnN0YW5jZW9mIEV4cG9uZW50KSBiYXNlcy5hZGQoZmFjdG9yLmJhc2UpXG4gICAgICAgICAgICBlbHNlIGJhc2VzLmFkZChmYWN0b3IpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcXVpdmFsZW50RXhwcmVzc2lvbnMgPSBuZXcgU2V0PFByb2R1Y3QgfCBFeHBvbmVudD4oKVxuICAgICAgICAvLyBGb3IgZXZlcnkgdW5pcXVlIGZhY3RvclxuICAgICAgICBmb3IgKGNvbnN0IGJhc2Ugb2YgYmFzZXMpIHtcbiAgICAgICAgICAgIGxldCBwb3dlclRlcm1zOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nRmFjdG9yczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgdGltZXMgaXQgb2NjdXJzIGluIHRoZSBwcm9kdWN0XG4gICAgICAgICAgICAvLyBDb2xsZWN0IHRoZSBvdGhlciBmYWN0b3JzIGluIGEgbGlzdFxuICAgICAgICAgICAgZm9yIChjb25zdCBmIG9mIHByb2R1Y3QuZmFjdG9ycykge1xuICAgICAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgRXhwb25lbnQgJiYgZi5iYXNlID09PSBiYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvd2VyVGVybXMucHVzaChmLnBvd2VyKVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZiA9PT0gYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3dlclRlcm1zLnB1c2gobnVtKDEpKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ0ZhY3RvcnMucHVzaChmKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT3JkZXIgdGhlIHBvd2VyIHRlcm1zIGNvcnJlY3RseVxuICAgICAgICAgICAgcG93ZXJUZXJtcyA9IG9yZGVyVGVybXMoLi4ucG93ZXJUZXJtcylcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGJhc2Ugb25seSBvY2N1cmVkIG9uY2UsIG5vdGhpbmcgdG8gc2ltcGxpZnlcbiAgICAgICAgICAgIGlmIChwb3dlclRlcm1zLmxlbmd0aCA9PSAxKSBjb250aW51ZVxuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgZXhwb25lbnQgdGhhdCBjb21iaW5lcyB0aGUgdGVybXNcbiAgICAgICAgICAgIGNvbnN0IGV4cG9uZW50ID0gRXhwb25lbnQub2YoYmFzZSwgc3VtKC4uLnBvd2VyVGVybXMpKVxuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gb3RoZXIgZmFjdG9ycywgd2UncmUgZG9uZVxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0ZhY3RvcnMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBlcXVpdmFsZW50RXhwcmVzc2lvbnMuYWRkKGV4cG9uZW50KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluc2VydCB0aGUgbmV3IGV4cG9uZW50IGF0IHRoZSBjb3JyZWN0IHBsYWNlIGluIHRoZSBuZXcgcHJvZHVjdFxuICAgICAgICAgICAgZnVuY3Rpb24gaW5zZXJ0Q29ycmVjdGx5KGFycjogRXhwcmVzc2lvbltdLCBlbDogRXhwcmVzc2lvbik6IHZvaWQge1xuICAgICAgICAgICAgICAgIC8vIFBpY2sgaW5kZXhcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAwXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhY3Rvck9yZGVyKGVsLCBhcnJbaV0pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpICsgMVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDAsIGVsKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5zZXJ0Q29ycmVjdGx5KHJlbWFpbmluZ0ZhY3RvcnMsIGV4cG9uZW50KVxuICAgICAgICAgICAgZXF1aXZhbGVudEV4cHJlc3Npb25zLmFkZChQcm9kdWN0Lm9mKHJlbWFpbmluZ0ZhY3RvcnMpKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBhcmd1bWVudHMgZm9yIGVhY2ggZXF1aXZhbGVudCBleHByZXNzaW9uXG4gICAgICAgIGNvbnN0IGFyZ3MgPSBuZXcgU2V0PEFyZ3VtZW50PigpXG4gICAgICAgIGVxdWl2YWxlbnRFeHByZXNzaW9ucy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgYXJncy5hZGQoXG4gICAgICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgICAgICBzZXRPZihwcm9kdWN0KSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbjogcHJvZHVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG4xOiBlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiQ29tYmluZSBjb21tb24gZmFjdG9ycyBtdWx0aXBsaWNhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBhcmdzXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ0NGYWN0b3JzIE11bHRcIlxuIiwiaW1wb3J0IHtcbiAgICBuZWdhdGl2ZSxcbiAgICBudW0sXG4gICAgb3JkZXJlZFByb2R1Y3QsXG4gICAgcHJvZHVjdCxcbiAgICBzdW1Pck5vdFxufSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQge1xuICAgIENvbnZlcmdlbmNlVGFyZ2V0LFxuICAgIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcbn0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiXG5pbXBvcnQgeyBhZGRBbGwsIGhhcywgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBJbnRlZ2VyVHlwZSB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL2V4cHJlc3Npb25zL0ludGVnZXJcIlxuXG4vKipcbiAqIGEgKyBhID0gMmFcbiAqIDJhIC0gYSA9IGEgICh0aGlzIG1lYW5zIHdlIGhhdmUgdG8gY2hlY2sgZm9yIG5lZ2F0aW9ucylcbiAqXG4gKiAoYmMpYSArIDdhID0gKDcgKyBiYylhXG4gKlxuICogQnV0IG5vdFxuICogMSArIDEgPSAyKDEpXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21iaW5lQ29tbW9uVGVybXNBZGRpdGlvbiBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFN1bSAmJiAhZXhwLmlzUmVkdWNpYmxlXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgc3VtID0gZXhwIGFzIFN1bVxuICAgICAgICBjb25zdCBhcmdzID0gbmV3IFNldDxBcmd1bWVudD4oKVxuXG4gICAgICAgIGNvbnN0IHVuaXF1ZUZhY3RvcnMgPSBuZXcgU2V0PEV4cHJlc3Npb24+KClcblxuICAgICAgICAvLyBGaW5kIGFsbCB1bmlxdWUgZmFjdG9ycyBpbiBhbGwgdGVybXNcbiAgICAgICAgLy8gQXNzdW1lIHByb2R1Y3RzIGhhdmUgYmVlbiBmbGF0dGVuZWQgYWxyZWFkeSAoYXNzb2NpYXRpdmUgcHJvcGVydHkpXG4gICAgICAgIGZvciAoY29uc3QgdGVybSBvZiBzdW0udGVybXMpIHtcbiAgICAgICAgICAgIGlmICh0ZXJtIGluc3RhbmNlb2YgUHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIGFkZEFsbCh1bmlxdWVGYWN0b3JzLCAuLi50ZXJtLmZhY3RvcnMpXG4gICAgICAgICAgICAgICAgLy9UT0RPOiBDYXB0dXJlIGFsbCBjb21iaW5hdGlvbnMgb2YgZmFjdG9yc1xuICAgICAgICAgICAgICAgIC8vVE9ETzogQ2FwdHVyZSBpbnRlZ2VyIGZhY3RvcnNcbiAgICAgICAgICAgIH0gZWxzZSB1bmlxdWVGYWN0b3JzLmFkZCh0ZXJtKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFuIGFyZ3VtZW50IGZvciBwdWxsaW5nIG91dCBlYWNoIGZhY3RvclxuICAgICAgICBmb3IgKGNvbnN0IGZhY3RvciBvZiB1bmlxdWVGYWN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoZmFjdG9yLmlzUmVkdWNpYmxlIHx8IGZhY3Rvci5jbGFzcyA9PT0gSW50ZWdlclR5cGUpIGNvbnRpbnVlXG5cbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggdGVybXMgY29udGFpbiBpdFxuICAgICAgICAgICAgY29uc3QgcmVsYXZlbnRUZXJtczogUHJvZHVjdFtdID0gW11cbiAgICAgICAgICAgIGNvbnN0IG90aGVyVGVybXM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRlcm0gb2Ygc3VtLnRlcm1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRlcm0gaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXModGVybS5mYWN0b3JzLCBmYWN0b3IpKSByZWxhdmVudFRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBvdGhlclRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVybSA9PT0gZmFjdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXZlbnRUZXJtcy5wdXNoKFByb2R1Y3Qub2YoW251bSgxKSwgdGVybV0pKVxuICAgICAgICAgICAgICAgICAgICBlbHNlIG90aGVyVGVybXMucHVzaCh0ZXJtKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlbGF2ZW50VGVybXMubGVuZ3RoIDwgMikgY29udGludWVcblxuICAgICAgICAgICAgLy8gUHVsbCBpdCBvdXQgb2YgdGhvc2UgdGVybXNcbiAgICAgICAgICAgIGNvbnN0IGNvZWZmaWNpZW50czogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgICAgIGZvciAoY29uc3QgdGVybSBvZiByZWxhdmVudFRlcm1zKSB7XG4gICAgICAgICAgICAgICAgY29lZmZpY2llbnRzLnB1c2godGVybS53aXRob3V0KGZhY3RvcikpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwdWxsZWQgPSBzdW1Pck5vdChcbiAgICAgICAgICAgICAgICBvcmRlcmVkUHJvZHVjdChTdW0ub2YoY29lZmZpY2llbnRzKSwgZmFjdG9yKSxcbiAgICAgICAgICAgICAgICAuLi5vdGhlclRlcm1zXG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGFyZ3MuYWRkKFxuICAgICAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbjE6IHB1bGxlZFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIkNvbWJpbmUgbGlrZSB0ZXJtc1wiLFxuICAgICAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZ3NcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNvbnZlcmdlbmNlVHlwZSgpOiBDb252ZXJnZW5jZVRhcmdldCB7XG4gICAgICAgIHJldHVybiBDb252ZXJnZW5jZVRhcmdldC5GYWN0b3JlZFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkNDVGVybXMgQWRkXCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IG51bSwgcHJvZHVjdE9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCJcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuLyoqXG4gKiBQcm9kdWN0cyB3aXRoIHNldmVyYWwgaW50ZWdlciB0ZXJtcyBhcmUgc2ltcGxpZmllZCB0byBvbmx5IGluY2x1ZGUgMVxuICovXG5leHBvcnQgY2xhc3MgQ29tYmluZUludGVnZXJGYWN0b3JzIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdCAmJiAhZXhwLmlzTmVnYXRpb25cbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcCA9IGV4cCBhcyBQcm9kdWN0XG5cbiAgICAgICAgY29uc3QgcmVtYWluaW5nRmFjdG9yczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgbGV0IGNvZWZmaWNpZW50ID0gMVxuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgcC5mYWN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoZiBpbnN0YW5jZW9mIEludGVnZXIpIHtcbiAgICAgICAgICAgICAgICBjb2VmZmljaWVudCAqPSBmLnZhbHVlXG4gICAgICAgICAgICB9IGVsc2UgcmVtYWluaW5nRmFjdG9ycy5wdXNoKGYpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocC5mYWN0b3JzLmxlbmd0aCAtIHJlbWFpbmluZ0ZhY3RvcnMubGVuZ3RoIDwgMilcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2V0PEFyZ3VtZW50PigpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IHByb2R1Y3RPck5vdChudW0oY29lZmZpY2llbnQpLCAuLi5yZW1haW5pbmdGYWN0b3JzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJNdWx0aXBseSBpbnRlZ2VyIHRlcm1zXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ29tYkludEZhY3RzXCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7XG4gICAgcHJvZHVjdCBhcyBwcm9kdWN0T2YsXG4gICAgcHJvZHVjdEFuZE5vdFRpbWVzT25lLFxuICAgIHJlbW92ZVxufSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vLi4vdXRpbC9hc3NlcnRcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG4vKipcbiAqIFNpbXBsaWZpZXMgcHJvZHVjdHMgY29udGFpbmluZyBmcmFjdGlvbnMgYnkgbW92aW5nIHRoZVxuICogcGFydHMgb2YgdGhlIHByb2R1Y3QgaW50byB0aGUgbnVtZXJhdG9yIG9mIHRoZSBmaXJzdCBmcmFjdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbWJpbmVQcm9kdWN0c0FuZEZyYWN0aW9ucyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IGV4cCBhcyBQcm9kdWN0XG4gICAgICAgIC8vIEFsbCBwcm9kdWN0cyBoYXZlIGF0IGxlYXN0IDIgZmFjdG9yc1xuXG4gICAgICAgIGNvbnN0IGZpcnN0RnJhY3Rpb246IEZyYWN0aW9uIHwgdW5kZWZpbmVkID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihcbiAgICAgICAgICAgIGYgPT4gZiBpbnN0YW5jZW9mIEZyYWN0aW9uXG4gICAgICAgIClbMF0gYXMgRnJhY3Rpb25cbiAgICAgICAgaWYgKGZpcnN0RnJhY3Rpb24gPT09IHVuZGVmaW5lZCkgcmV0dXJuIHNldE9mKClcbiAgICAgICAgLy8gQXQgbGVhc3Qgb25lIG9mIHRob3NlIGlzIGEgZnJhY3Rpb25cblxuICAgICAgICBjb25zdCBub25GcmFjdGlvbkZhY3RvcnMgPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKFxuICAgICAgICAgICAgZiA9PiAhKGYgaW5zdGFuY2VvZiBGcmFjdGlvbilcbiAgICAgICAgKVxuICAgICAgICBpZiAobm9uRnJhY3Rpb25GYWN0b3JzLmxlbmd0aCA9PSAwKSByZXR1cm4gc2V0T2YoKVxuICAgICAgICAvLyBBdCBsZWFzdCBvbmUgb2YgdGhvc2UgaXMgbm90IGEgZnJhY3Rpb25cblxuICAgICAgICBsZXQgcmVzdWx0OiBFeHByZXNzaW9uXG4gICAgICAgIC8vIEZyYWN0aW9uIGFuZCBub24tZnJhY3Rpb24gZmFjdG9ycyBwYXJ0aXRpb24gdGhlIHNldCBvZiBmYWN0b3JzXG4gICAgICAgIGlmIChwcm9kdWN0LmZhY3RvcnMubGVuZ3RoIC0gbm9uRnJhY3Rpb25GYWN0b3JzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBleGFjdGx5IG9uZSBmcmFjdGlvbiBmYWN0b3JcbiAgICAgICAgICAgIC8vIEFsbCB0aGUgZmFjdG9ycyB3aWxsIGJlIGNvbWJpbmVkIGludG8gb25lIGZhY3RvclxuICAgICAgICAgICAgcmVzdWx0ID0gRnJhY3Rpb24ub2YoXG4gICAgICAgICAgICAgICAgcHJvZHVjdE9mKGZpcnN0RnJhY3Rpb24ubnVtZXJhdG9yLCAuLi5ub25GcmFjdGlvbkZhY3RvcnMpLFxuICAgICAgICAgICAgICAgIGZpcnN0RnJhY3Rpb24uZGVub21pbmF0b3JcbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBtdWx0aXBsZSBmcmFjdGlvbnNcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0ZyYWN0aW9uRmFjdG9ycyA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoXG4gICAgICAgICAgICAgICAgZiA9PiBmIGluc3RhbmNlb2YgRnJhY3Rpb25cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJlbW92ZShyZW1haW5pbmdGcmFjdGlvbkZhY3RvcnMsIGZpcnN0RnJhY3Rpb24pXG5cbiAgICAgICAgICAgIGFzc2VydChyZW1haW5pbmdGcmFjdGlvbkZhY3RvcnMubGVuZ3RoID4gMClcblxuICAgICAgICAgICAgcmVzdWx0ID0gcHJvZHVjdE9mKFxuICAgICAgICAgICAgICAgIEZyYWN0aW9uLm9mKFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0QW5kTm90VGltZXNPbmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdEZyYWN0aW9uLm51bWVyYXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm5vbkZyYWN0aW9uRmFjdG9yc1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdEZyYWN0aW9uLmRlbm9taW5hdG9yXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAuLi5yZW1haW5pbmdGcmFjdGlvbkZhY3RvcnNcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXRPZihcbiAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICBzZXRPZihleHApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiByZXN1bHRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiQ29tYmluZSBwcm9kdWN0cyBpbnRvIGZyYWN0aW9uXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiUHJvZD0+RnJhY1wiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQge1xuICAgIHByb2R1Y3RPck5vdCxcbiAgICBwcm9kdWN0IGFzIHByb2R1Y3RPZixcbiAgICByZW1vdmUsXG4gICAgc3VtXG59IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uLy4uL3V0aWwvYXNzZXJ0XCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHtcbiAgICBDb252ZXJnZW5jZVRhcmdldCxcbiAgICBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXG59IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuLyoqXG4gKiBEaXN0cmlidXRlcyBtdWx0aXBsaWNhdGlvbiBvdmVyIGFkZGl0aW9uLlxuICpcbiAqIGEoYitjKSA9IGFiICsgYWNcbiAqL1xuZXhwb3J0IGNsYXNzIERpc3RyaWJ1dGl2ZVByb3BlcnR5IGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gZXhwIGFzIFByb2R1Y3RcblxuICAgICAgICBjb25zdCBub25TdW1zID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihmID0+ICEoZiBpbnN0YW5jZW9mIFN1bSkpXG4gICAgICAgIGlmIChub25TdW1zLmxlbmd0aCA9PSAwKSByZXR1cm4gc2V0T2YoKVxuICAgICAgICAvLyBUaGVyZSBpcyBhdCBsZWFzdCBvbmUgbm9uLXN1bSBmYWN0b3JcblxuICAgICAgICBjb25zdCBmaXJzdFN1bSA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoZiA9PiBmIGluc3RhbmNlb2YgU3VtKVswXSBhcyBTdW1cbiAgICAgICAgaWYgKGZpcnN0U3VtID09IHVuZGVmaW5lZCkgcmV0dXJuIHNldE9mKClcbiAgICAgICAgLy8gVGhlcmUgaXMgYXQgbGVhc3Qgb25lIHN1bVxuXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ1N1bXMgPSBwcm9kdWN0LmZhY3RvcnMuZmlsdGVyKGYgPT4gZiBpbnN0YW5jZW9mIFN1bSlcbiAgICAgICAgcmVtb3ZlKHJlbWFpbmluZ1N1bXMsIGZpcnN0U3VtKVxuXG4gICAgICAgIGNvbnN0IHRvRGlzdHJpYnV0ZSA9IHByb2R1Y3RPck5vdCguLi5ub25TdW1zKVxuXG4gICAgICAgIGNvbnN0IGRpc3RyaWJ1dGVkID0gc3VtKFxuICAgICAgICAgICAgLi4uZmlyc3RTdW0udGVybXMubWFwKHQgPT4gcHJvZHVjdE9mKHRvRGlzdHJpYnV0ZSwgdCkpXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9kdWN0T3JOb3QoZGlzdHJpYnV0ZWQsIC4uLnJlbWFpbmluZ1N1bXMpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYERpc3RyaWJ1dGUgJHtwcm9kdWN0T3JOb3QoLi4ubm9uU3VtcykudG9VbmFtYmlnaW91c1N0cmluZygpfWAsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBjb252ZXJnZW5jZVR5cGUoKTogQ29udmVyZ2VuY2VUYXJnZXQge1xuICAgICAgICByZXR1cm4gQ29udmVyZ2VuY2VUYXJnZXQuUG9seW5vbWlhbFxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkRpc3RyaWJ1dGl2ZSBQcm9wZXJ0eVwiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQge1xuICAgIHJlbW92ZU5ldyxcbiAgICBudW0gYXMgbnVtT2YsXG4gICAgbmVnYXRpdmUsXG4gICAgc3VtT3JOb3QsXG4gICAgcHJvZHVjdE9yTm90XG59IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwb25lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEZyYWN0aW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ZyYWN0aW9uXCJcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IGhhcywgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG5leHBvcnQgY2xhc3MgRGl2aWRlRnJhY3Rpb25zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZXhwIGluc3RhbmNlb2YgRnJhY3Rpb24gJiZcbiAgICAgICAgICAgIGV4cC5udW1lcmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0ICYmXG4gICAgICAgICAgICBleHAuZGVub21pbmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgICAgIClcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZnJhYyA9IGV4cCBhcyBGcmFjdGlvblxuICAgICAgICBjb25zdCBudW0gPSBmcmFjLm51bWVyYXRvciBhcyBQcm9kdWN0XG4gICAgICAgIGNvbnN0IGRlbiA9IGZyYWMuZGVub21pbmF0b3IgYXMgUHJvZHVjdFxuXG4gICAgICAgIC8vIFRha2UgdGhlIGZhY3RvcnMgb2YgdGhlIG5lZ2F0aW9uIG9mIGFueSBuZWdhdGlvbnNcbiAgICAgICAgY29uc3QgbnVtRmFjdG9ycyA9IG51bS5pc05lZ2F0aW9uXG4gICAgICAgICAgICA/IG51bS5uZWdhdGlvbiBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgICAgICAgICA/IG51bS5uZWdhdGlvbi5mYWN0b3JzIC8vIEdldCBmYWN0b3JzIGlmIHRoZSBuZWdhdGlvbiBpcyBhIHByb2R1Y3RcbiAgICAgICAgICAgICAgICA6IFtudW0ubmVnYXRpb25dIC8vIElmIG5lZ2F0aW9uIGlzbid0IGEgcHJvZHVjdCwgcmV0dXJuIHRoZSBuZWdhdGlvbiBhcyBhIGxpc3Qgb2YgMVxuICAgICAgICAgICAgOiBudW0uZmFjdG9ycyAvLyBJZiBub3QgYSBuZWdhdGlvbiwgcmV0dXJuIHRoZSBmYWN0b3JzXG4gICAgICAgIGNvbnN0IGRlbkZhY3RvcnMgPSAhZGVuLmlzTmVnYXRpb25cbiAgICAgICAgICAgID8gZGVuLmZhY3RvcnNcbiAgICAgICAgICAgIDogZGVuLm5lZ2F0aW9uIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgICAgICAgICAgICA/IGRlbi5uZWdhdGlvbi5mYWN0b3JzXG4gICAgICAgICAgICAgIDogW2Rlbi5uZWdhdGlvbl1cblxuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYW55IHJlcGVhdHMsIGdpdmUgdXBcbiAgICAgICAgaWYgKG5ldyBTZXQobnVtRmFjdG9ycykuc2l6ZSA8IG51bUZhY3RvcnMubGVuZ3RoKSByZXR1cm4gc2V0T2YoKVxuICAgICAgICBpZiAobmV3IFNldChkZW5GYWN0b3JzKS5zaXplIDwgZGVuRmFjdG9ycy5sZW5ndGgpIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgLy8gVHJlYXQgZXZlcnkgZmFjdG9yIGFzIGFuIGV4cG9uZW50XG4gICAgICAgIGNvbnN0IG51bUV4cG9uZW50cyA9IG51bUZhY3RvcnMubWFwPEV4cG9uZW50PihmID0+IHtcbiAgICAgICAgICAgIGlmIChmIGluc3RhbmNlb2YgRXhwb25lbnQpIHJldHVybiBmXG4gICAgICAgICAgICBlbHNlIHJldHVybiBFeHBvbmVudC5vZihmLCBudW1PZigxKSlcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgZGVuRXhwb25lbnRzID0gZGVuRmFjdG9ycy5tYXA8RXhwb25lbnQ+KGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuIGZcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIEV4cG9uZW50Lm9mKGYsIG51bU9mKDEpKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEZvciBlYWNoIGRlbiBleHBvbmVudCBiYXNlLCBjcmVhdGUgYW4gb3ZlcmFsbCBzdW0gb2YgdGhlIHBvd2Vyc1xuICAgICAgICBjb25zdCBudW1FeHBvbmVudFBvd2VycyA9IG5ldyBNYXA8RXhwcmVzc2lvbiwgRXhwcmVzc2lvbltdPigpXG4gICAgICAgIG51bUV4cG9uZW50cy5mb3JFYWNoKGV4cG9uZW50ID0+IHtcbiAgICAgICAgICAgIGlmICghbnVtRXhwb25lbnRQb3dlcnMuaGFzKGV4cG9uZW50LmJhc2UpKVxuICAgICAgICAgICAgICAgIG51bUV4cG9uZW50UG93ZXJzLnNldChleHBvbmVudC5iYXNlLCBbXSlcbiAgICAgICAgICAgIG51bUV4cG9uZW50UG93ZXJzLmdldChleHBvbmVudC5iYXNlKSEucHVzaChleHBvbmVudC5wb3dlcilcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgZGVuRXhwb25lbnRQb3dlcnMgPSBuZXcgTWFwPEV4cHJlc3Npb24sIEV4cHJlc3Npb25bXT4oKVxuICAgICAgICBkZW5FeHBvbmVudHMuZm9yRWFjaChleHBvbmVudCA9PiB7XG4gICAgICAgICAgICBpZiAoIWRlbkV4cG9uZW50UG93ZXJzLmhhcyhleHBvbmVudC5iYXNlKSlcbiAgICAgICAgICAgICAgICBkZW5FeHBvbmVudFBvd2Vycy5zZXQoZXhwb25lbnQuYmFzZSwgW10pXG4gICAgICAgICAgICBkZW5FeHBvbmVudFBvd2Vycy5nZXQoZXhwb25lbnQuYmFzZSkhLnB1c2goZXhwb25lbnQucG93ZXIpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gQW55IGJhc2Ugd2hpY2ggaXMgaW4gdGhlIG51bWVyYXRvciBhbmQgZGVub21pbmF0b3JcbiAgICAgICAgLy8gd2lsbCBvbmx5IGJlIGluIHRoZSBudW1lcmF0b3JcbiAgICAgICAgY29uc3QgbmV3TnVtRXhwb25lbnRQb3dlcnMgPSBuZXcgTWFwPEV4cHJlc3Npb24sIEV4cHJlc3Npb25bXT4oXG4gICAgICAgICAgICBudW1FeHBvbmVudFBvd2Vyc1xuICAgICAgICApXG4gICAgICAgIGNvbnN0IG5ld0RlbkV4cG9uZW50UG93ZXJzID0gbmV3IE1hcDxFeHByZXNzaW9uLCBFeHByZXNzaW9uW10+KFxuICAgICAgICAgICAgZGVuRXhwb25lbnRQb3dlcnNcbiAgICAgICAgKVxuICAgICAgICBkZW5FeHBvbmVudFBvd2Vycy5mb3JFYWNoKChwb3dlcnMsIGJhc2UpID0+IHtcbiAgICAgICAgICAgIGlmIChudW1FeHBvbmVudFBvd2Vycy5oYXMoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICBuZXdOdW1FeHBvbmVudFBvd2Vyc1xuICAgICAgICAgICAgICAgICAgICAuZ2V0KGJhc2UpIVxuICAgICAgICAgICAgICAgICAgICAucHVzaChuZWdhdGl2ZShzdW1Pck5vdCguLi5wb3dlcnMpKSlcbiAgICAgICAgICAgICAgICBuZXdEZW5FeHBvbmVudFBvd2Vycy5kZWxldGUoYmFzZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBHZXQgdGhlIG5ldyBmYWN0b3JzIGZvciB0aGUgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvclxuICAgICAgICBjb25zdCBuZXdOdW1FeHBvbmVudHM6IEV4cG9uZW50W10gPSBbXVxuICAgICAgICBuZXdOdW1FeHBvbmVudFBvd2Vycy5mb3JFYWNoKChwb3dlcnMsIGJhc2UpID0+IHtcbiAgICAgICAgICAgIG5ld051bUV4cG9uZW50cy5wdXNoKEV4cG9uZW50Lm9mKGJhc2UsIHN1bU9yTm90KC4uLnBvd2VycykpKVxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBuZXdEZW5FeHBvbmVudHM6IEV4cG9uZW50W10gPSBbXVxuICAgICAgICBuZXdEZW5FeHBvbmVudFBvd2Vycy5mb3JFYWNoKChwb3dlcnMsIGJhc2UpID0+IHtcbiAgICAgICAgICAgIG5ld0RlbkV4cG9uZW50cy5wdXNoKEV4cG9uZW50Lm9mKGJhc2UsIHN1bU9yTm90KC4uLnBvd2VycykpKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IHRvcCA9IHByb2R1Y3RPck5vdCguLi5uZXdOdW1FeHBvbmVudHMpXG4gICAgICAgIGNvbnN0IGJvdHRvbSA9XG4gICAgICAgICAgICBuZXdEZW5FeHBvbmVudHMubGVuZ3RoICE9IDBcbiAgICAgICAgICAgICAgICA/IHByb2R1Y3RPck5vdCguLi5uZXdEZW5FeHBvbmVudHMpXG4gICAgICAgICAgICAgICAgOiBudW1PZigxKVxuXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZSBuZWdhdGlvbnMgcmVtb3ZlZCBlYXJsaWVyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEZyYWN0aW9uLm9mKFxuICAgICAgICAgICAgbnVtLmlzTmVnYXRpb24gPyBuZWdhdGl2ZSh0b3ApIDogdG9wLFxuICAgICAgICAgICAgZGVuLmlzTmVnYXRpb24gPyBuZWdhdGl2ZShib3R0b20pIDogYm90dG9tXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gc2V0T2YoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogcmVzdWx0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIkNhbmNlbCBvdXQgZnJhY3Rpb25zXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiQ2FuY2VsIG91dCBmcmFjdGlvbnNcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgbnVtIH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgRnJhY3Rpb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRnJhY3Rpb25cIlxuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG4vKipcbiAqIEFueXRoaW5nIGRpdmlkZWQgYnkgMSBpcyB0aGUgbnVtZXJhdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXZpc2lvbklkZW50aXR5IGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZXhwIGluc3RhbmNlb2YgRnJhY3Rpb24gJiZcbiAgICAgICAgICAgIGV4cC5kZW5vbWluYXRvciBpbnN0YW5jZW9mIEludGVnZXIgJiZcbiAgICAgICAgICAgIGV4cC5kZW5vbWluYXRvci52YWx1ZSA9PSAxXG4gICAgICAgIClcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZnJhYyA9IGV4cCBhcyBGcmFjdGlvblxuICAgICAgICByZXR1cm4gc2V0T2YoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZnJhYyksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBmcmFjLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiBmcmFjLm51bWVyYXRvclxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJEaXZpc2lvbiBpZGVudGl0eSBpcyAxXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRGl2aXNpb24gSWRlbnRpdHlcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgbmVnYXRpdmUsIHByb2R1Y3QsIHN1bU9yTm90IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgSW50ZWdlciB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9JbnRlZ2VyXCJcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBTdW0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG4vKipcbiAqIENvbWJpbmUgYW55IGludGVnZXIgdGVybXMgaW4gU3Vtcy5cbiAqIGEgKyAyICsgMiArIDI9IGEgKyA0XG4gKiAyIC0gMiA9IDBcbiAqXG4gKiBDb21iaW5lcyBhbGwgb2YgdGhlbSBhdCBvbmNlIG5vIG1hdHRlciBob3cgbWFueSB0ZXJtcyB0aGVyZSBhcmUuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgRXZhbHVhdGVTdW1zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHN1bSA9IGV4cCBhcyBTdW1cbiAgICAgICAgY29uc3QgaW50ZWdlclRlcm1zID0gWy4uLnN1bS50ZXJtc10uZmlsdGVyKFxuICAgICAgICAgICAgdCA9PlxuICAgICAgICAgICAgICAgIHQgaW5zdGFuY2VvZiBJbnRlZ2VyIHx8XG4gICAgICAgICAgICAgICAgKHQgaW5zdGFuY2VvZiBQcm9kdWN0ICYmXG4gICAgICAgICAgICAgICAgICAgIHQuaXNOZWdhdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICB0Lm5lZ2F0aW9uIGluc3RhbmNlb2YgSW50ZWdlcilcbiAgICAgICAgKVxuICAgICAgICBpZiAoaW50ZWdlclRlcm1zLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRPZigpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3SW50ID0gSW50ZWdlci5vZihcbiAgICAgICAgICAgIGludGVnZXJUZXJtc1xuICAgICAgICAgICAgICAgIC5tYXA8bnVtYmVyPihlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBJbnRlZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtKChlIGFzIFByb2R1Y3QpLm5lZ2F0aW9uIGFzIEludGVnZXIpLnZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhICsgYilcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBvdGhlclRlcm1zID0gWy4uLnN1bS50ZXJtc10uZmlsdGVyKFxuICAgICAgICAgICAgdCA9PlxuICAgICAgICAgICAgICAgICEodCBpbnN0YW5jZW9mIEludGVnZXIpICYmXG4gICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgdCBpbnN0YW5jZW9mIFByb2R1Y3QgJiZcbiAgICAgICAgICAgICAgICAgICAgdC5pc05lZ2F0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIHQubmVnYXRpb24gaW5zdGFuY2VvZiBJbnRlZ2VyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKHN1bSksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBzdW0sXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IHN1bU9yTm90KC4uLm90aGVyVGVybXMsIG5ld0ludClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiRXZhbHVhdGVkIEFkZGl0aW9uXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRXZhbCBBZGRpdGlvblwiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBudW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5cbmV4cG9ydCBjbGFzcyBFeHBvbmVudFRvWmVybyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGV4cCBpbnN0YW5jZW9mIEV4cG9uZW50ICYmXG4gICAgICAgICAgICBleHAucG93ZXIgaW5zdGFuY2VvZiBJbnRlZ2VyICYmXG4gICAgICAgICAgICBleHAucG93ZXIudmFsdWUgPT0gMFxuICAgICAgICApXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiBzZXRPZihcbiAgICAgICAgICAgIG5ldyBBcmd1bWVudChcbiAgICAgICAgICAgICAgICBzZXRPZihleHApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZXhwLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiBudW0oMSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiQW55dGhpbmcgdG8gemVybyBpcyB6ZXJvXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiUG93IG9mIFplcm9cIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwb25lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuLyoqXG4gKiBBbnl0aGluZyB0byB0aGUgZmlyc3QgaXMganVzdCB0aGF0IHRoaW5nLlxuICogVHVybnMgYW55IGV4cG9uZW50IHdpdGggYSBwb3dlciBvZiAxIHRvIHRoYXQgdGhpbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHBvbmVudGlhbElkZW50aXR5IGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZXhwIGluc3RhbmNlb2YgRXhwb25lbnQgJiZcbiAgICAgICAgICAgIGV4cC5wb3dlciBpbnN0YW5jZW9mIEludGVnZXIgJiZcbiAgICAgICAgICAgIGV4cC5wb3dlci52YWx1ZSA9PSAxXG4gICAgICAgIClcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZSA9IGV4cCBhcyBFeHBvbmVudFxuICAgICAgICByZXR1cm4gc2V0T2YoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZSksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBlLFxuICAgICAgICAgICAgICAgICAgICByOiBSZWxhdGlvbnNoaXAuRXF1YWwsXG4gICAgICAgICAgICAgICAgICAgIG4xOiBlLmJhc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiRXhwb25lbnRpYWwgSWRlbnRpdHkgaXMgMVwiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIkV4cG9uZW50aWFsIElkZW50aXR5XCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHtcbiAgICBwcm9kdWN0IGFzIHByb2R1Y3RPZixcbiAgICBwcm9kdWN0T3JOb3QsXG4gICAgc3VtXG59IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1N1bVwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7XG4gICAgQ29udmVyZ2VuY2VUYXJnZXQsXG4gICAgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVxufSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcblxuLyoqXG4gKiAoYSArIGIpKGMgKyBkKSA9IGFjICsgYWQgKyBiYyArIGJkXG4gKi9cbmV4cG9ydCBjbGFzcyBGT0lMIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwcm9kdWN0ID0gZXhwIGFzIFByb2R1Y3RcblxuICAgICAgICBjb25zdCBzdW1zID0gcHJvZHVjdC5mYWN0b3JzLmZpbHRlcihmID0+IGYgaW5zdGFuY2VvZiBTdW0pXG4gICAgICAgIGlmIChzdW1zLmxlbmd0aCA8IDIpIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgY29uc3Qgbm9uU3VtcyA9IHByb2R1Y3QuZmFjdG9ycy5maWx0ZXIoZiA9PiAhKGYgaW5zdGFuY2VvZiBTdW0pKVxuXG4gICAgICAgIGNvbnN0IGZpcnN0ID0gc3Vtc1swXSBhcyBTdW1cbiAgICAgICAgY29uc3Qgc2Vjb25kID0gc3Vtc1sxXSBhcyBTdW1cblxuICAgICAgICBjb25zdCBmb2lsZWQgPSBmaXJzdC50ZXJtc1xuICAgICAgICAgICAgLm1hcCh0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtczogRXhwcmVzc2lvbltdID0gW11cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQxIG9mIHNlY29uZC50ZXJtcykge1xuICAgICAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHByb2R1Y3RPZih0LCB0MSkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXJtc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mbGF0KClcblxuICAgICAgICBzdW1zLnNwbGljZSgwLCAyKVxuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9kdWN0T3JOb3QoLi4ubm9uU3Vtcywgc3VtKC4uLmZvaWxlZCksIC4uLnN1bXMpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJGb2lsIHRoYXQgc2hpdFwiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgY29udmVyZ2VuY2VUeXBlKCk6IENvbnZlcmdlbmNlVGFyZ2V0IHtcbiAgICAgICAgcmV0dXJuIENvbnZlcmdlbmNlVGFyZ2V0LlBvbHlub21pYWxcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJGT0lMXCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IG51bSB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvSW50ZWdlclwiXG5pbXBvcnQgeyBMb2dhcml0aG0gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvTG9nYXJpdGhtXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG5leHBvcnQgY2xhc3MgTG9nT2ZPbmUgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBleHAgaW5zdGFuY2VvZiBMb2dhcml0aG0gJiZcbiAgICAgICAgICAgIGV4cC5leHAgaW5zdGFuY2VvZiBJbnRlZ2VyICYmXG4gICAgICAgICAgICBleHAuZXhwLnZhbHVlID09PSAxXG4gICAgICAgIClcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IG51bSgwKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJMb2cgaW4gYW55IGJhc2Ugb2YgMSBpcyAwXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiTG9nIG9mIDFcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgbnVtLCBwcm9kdWN0T3JOb3QgfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIlxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG4vKipcbiAqIDF4ID0geFxuICogMSoxeCA9IDFcbiAqL1xuZXhwb3J0IGNsYXNzIE11bHRpcGxpY2F0aXZlSWRlbnRpdHkgZXh0ZW5kcyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIHtcbiAgICBwcm90ZWN0ZWQgYXBwbGllc0ltcGwoZXhwOiBFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBleHAgaW5zdGFuY2VvZiBQcm9kdWN0ICYmXG4gICAgICAgICAgICBuZXcgU2V0KGV4cC5mYWN0b3JzKS5oYXMobnVtKDEpKSAmJlxuICAgICAgICAgICAgIWV4cC5pc05lZ2F0aW9uXG4gICAgICAgIClcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcCA9IGV4cCBhcyBQcm9kdWN0XG4gICAgICAgIGNvbnN0IG5ld0ZhY3RvcnM6IEV4cHJlc3Npb25bXSA9IFtdXG4gICAgICAgIGZvciAoY29uc3QgZmFjdG9yIG9mIHAuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGZhY3RvciBpbnN0YW5jZW9mIEludGVnZXIgJiYgZmFjdG9yLnZhbHVlID09IDEpIGNvbnRpbnVlXG4gICAgICAgICAgICBuZXdGYWN0b3JzLnB1c2goZmFjdG9yKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld0ZhY3RvcnMubGVuZ3RoID09IDApIG5ld0ZhY3RvcnMucHVzaChudW0oMSkpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IHByb2R1Y3RPck5vdCguLi5uZXdGYWN0b3JzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJNdWx0aXBsaWNhdGl2ZSBJZGVudGl0eVwiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIk11bHQgSWRlbnRpdHlcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgcHJvZHVjdCB9IGZyb20gXCIuLi8uLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgRXhwb25lbnQgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwb25lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG5leHBvcnQgY2xhc3MgTXVsdGlwbHlFeHBvbmVudFBvd2VycyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIEV4cG9uZW50ICYmIGV4cC5iYXNlIGluc3RhbmNlb2YgRXhwb25lbnRcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3Qgb3V0ZXIgPSBleHAgYXMgRXhwb25lbnRcbiAgICAgICAgY29uc3QgaW5uZXIgPSBvdXRlci5iYXNlIGFzIEV4cG9uZW50XG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IEV4cG9uZW50Lm9mKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXIuYmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3QoaW5uZXIucG93ZXIsIG91dGVyLnBvd2VyKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIkV4cG9uZW50cyB0byBleHBvbmVudHMgbXVsdGlwbHlcIixcbiAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJFeHAgdG8gZXhwXCJcbiIsImltcG9ydCB7IFByb2R1Y3QsIFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL0FyZ3VtZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5pbXBvcnQgeyBGcmFjdGlvbiwgRnJhY3Rpb25UeXBlIH0gZnJvbSBcIi4uLy4uLy4uL21hdGhsaWIvZXhwcmVzc2lvbnMvRnJhY3Rpb25cIlxuaW1wb3J0IHtcbiAgICBwcm9kdWN0T3JOb3QsXG4gICAgcHJvZHVjdE9yT25lXG59IGZyb20gXCIuLi8uLi8uLi9tYXRobGliL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi4vLi4vLi4vbWF0aGxpYi9leHByZXNzaW9ucy9JbnRlZ2VyXCJcblxuZXhwb3J0IGNsYXNzIE11bHRpcGx5RnJhY3Rpb25zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwLmNsYXNzID09PSBQcm9kdWN0VHlwZVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBwID0gZXhwIGFzIFByb2R1Y3RcblxuICAgICAgICBjb25zdCBudW0gPSBwcm9kdWN0T3JOb3QoXG4gICAgICAgICAgICAuLi5wLmZhY3RvcnMubWFwKGYgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmLmNsYXNzID09PSBGcmFjdGlvblR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChmIGFzIEZyYWN0aW9uKS5udW1lcmF0b3JcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBkZW4gPSBwcm9kdWN0T3JPbmUoXG4gICAgICAgICAgICAuLi5wLmZhY3RvcnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGYgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZi5jbGFzcyA9PT0gRnJhY3Rpb25UeXBlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAubWFwKGYgPT4gKGYgYXMgRnJhY3Rpb24pLmRlbm9taW5hdG9yKVxuICAgICAgICApXG5cbiAgICAgICAgaWYgKGRlbiBpbnN0YW5jZW9mIEludGVnZXIgJiYgZGVuLnZhbHVlID09IDEpIHJldHVybiBzZXRPZigpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuOiBleHAsXG4gICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgbjE6IEZyYWN0aW9uLm9mKG51bSwgZGVuKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJNdWx0aXBseSB0aGUgZnJhY3Rpb25zIHRvIGNvbWJpbmUgdGhlbVwiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIk11bHRpcGx5IEZyYWN0aW9uc1wiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBwcm9kdWN0IH0gZnJvbSBcIi4uLy4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgZmFjdG9yT3JkZXIsIFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvUHJvZHVjdFwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuLyoqXG4gKiBSZW9yZGVycyBmYWN0b3JzIHRvIGZvbGxvdyBjb252ZW50aW9uLlxuICovXG5leHBvcnQgY2xhc3MgT3JkZXJQcm9kdWN0cyBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4cCBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgcCA9IGV4cCBhcyBQcm9kdWN0XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHJvZHVjdCguLi5bLi4ucC5mYWN0b3JzXS5zb3J0KGZhY3Rvck9yZGVyKSlcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gcCkgcmV0dXJuIHNldE9mKClcblxuICAgICAgICByZXR1cm4gc2V0T2YoXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogcmVzdWx0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIlJlb3JkZXIgcHJvZHVjdCBmYWN0b3JzIHRvIG1hdGNoIG1hdGggY29udmVudGlvblwiLFxuICAgICAgICAgICAgICAgIFJVTEVfSURcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IFJVTEVfSUQgPSBcIk9yZGVyIHByb2R1Y3RzXCJcbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IG9yZGVyZWRTdW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBTdW0sIFN1bVR5cGUgfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvU3VtXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi8uLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgc2V0T2YgfSBmcm9tIFwiLi4vLi4vdXRpbC9UaGluZ3NUaGF0U2hvdWxkQmVJblRoZVN0ZExpYlwiXG5pbXBvcnQgeyBOb0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlIH0gZnJvbSBcIi4uL05vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGVcIlxuXG4vKipcbiAqIFR1cm5zIHN1bXMgdGhhdCBhcmUgdW5oZWFsdGh5IGJlY2F1c2UgdGhlaXIgdGVybSBvcmRlclxuICogaXMgd3JvbmcgaW50byBjb3JyZWN0bHkgb3JkZXJlZCBzdW1zLlxuICovXG5leHBvcnQgY2xhc3MgT3JkZXJTdW1zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtICYmIG9yZGVyZWRTdW0oZXhwKSAhPT0gZXhwXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIHJldHVybiBuZXcgU2V0PEFyZ3VtZW50PihbXG4gICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgc2V0T2YoZXhwKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogb3JkZXJlZFN1bShleHAgYXMgU3VtKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJSZW9yZGVyZWRcIixcbiAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICApXG4gICAgICAgIF0pXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiT3JkZXIgU3Vtc1wiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi8uLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBudW0gfSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBoYXMsIHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuZXhwb3J0IGNsYXNzIFJlbW92ZUNvbW1vbkZhY3RvcnNGcm9tVG9wQW5kQm90dG9tT2ZGcmFjdGlvbiBleHRlbmRzIE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUge1xuICAgIHByb3RlY3RlZCBhcHBsaWVzSW1wbChleHA6IEV4cHJlc3Npb24pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGV4cCBpbnN0YW5jZW9mIEZyYWN0aW9uICYmXG4gICAgICAgICAgICAhKGV4cC5udW1lcmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0ICYmIGV4cC5udW1lcmF0b3IuaXNOZWdhdGlvbikgJiZcbiAgICAgICAgICAgICEoZXhwLmRlbm9taW5hdG9yIGluc3RhbmNlb2YgUHJvZHVjdCAmJiBleHAuZGVub21pbmF0b3IuaXNOZWdhdGlvbilcbiAgICAgICAgKVxuICAgIH1cbiAgICBwcm90ZWN0ZWQgYXBwbHlJbXBsKGV4cDogRXhwcmVzc2lvbik6IFNldDxBcmd1bWVudD4ge1xuICAgICAgICBjb25zdCBmcmFjID0gZXhwIGFzIEZyYWN0aW9uXG4gICAgICAgIGNvbnN0IHRvcCA9IGZyYWMubnVtZXJhdG9yXG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IGZyYWMuZGVub21pbmF0b3JcblxuICAgICAgICBjb25zdCBhbGxGYWN0b3JzID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG4gICAgICAgIGlmICh0b3AgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICB0b3AuZmFjdG9ycy5mb3JFYWNoKGYgPT4gYWxsRmFjdG9ycy5hZGQoZikpXG4gICAgICAgIH0gZWxzZSBhbGxGYWN0b3JzLmFkZCh0b3ApXG4gICAgICAgIGlmIChib3R0b20gaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICBib3R0b20uZmFjdG9ycy5mb3JFYWNoKGYgPT4gYWxsRmFjdG9ycy5hZGQoZikpXG4gICAgICAgIH0gZWxzZSBhbGxGYWN0b3JzLmFkZChib3R0b20pXG5cbiAgICAgICAgLy8gRmluZCBmYWN0b3JzIHRoYXQgYXJlIGluIGJvdGggdG9wIGFuZCBib3R0b21cbiAgICAgICAgY29uc3QgaW5Cb3RoID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG4gICAgICAgIGFsbEZhY3RvcnMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAodG9wIGluc3RhbmNlb2YgUHJvZHVjdCA/IGhhcyh0b3AuZmFjdG9ycywgZikgOiB0b3AgPT09IGYpICYmXG4gICAgICAgICAgICAgICAgKGJvdHRvbSBpbnN0YW5jZW9mIFByb2R1Y3RcbiAgICAgICAgICAgICAgICAgICAgPyBoYXMoYm90dG9tLmZhY3RvcnMsIGYpXG4gICAgICAgICAgICAgICAgICAgIDogYm90dG9tID09PSBmKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGluQm90aC5hZGQoZilcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoaW5Cb3RoLnNpemUgPT0gMCkgcmV0dXJuIHNldE9mKClcblxuICAgICAgICAvLyBSZXR1cm4gbmV3IGZyYWN0aW9uIHdpdGhvdXQgdGhvc2VcbiAgICAgICAgbGV0IG5ld1RvcDogRXhwcmVzc2lvbiA9IHRvcFxuICAgICAgICBpbkJvdGguZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIGlmIChuZXdUb3AgaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgbmV3VG9wID0gbmV3VG9wLndpdGhvdXQoZilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3VG9wID0gbnVtKDEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IG5ld0JvdHRvbTogRXhwcmVzc2lvbiA9IGJvdHRvbVxuICAgICAgICBpbkJvdGguZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIGlmIChuZXdCb3R0b20gaW5zdGFuY2VvZiBQcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgbmV3Qm90dG9tID0gbmV3Qm90dG9tLndpdGhvdXQoZilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3Qm90dG9tID0gbnVtKDEpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGZyYWMpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZnJhYyxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YobmV3VG9wLCBuZXdCb3R0b20pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIkRpdmlkZSB0b3AgYW5kIGJvdHRvbSBieSBzYW1lIHRoaW5nXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiRGl2IHRvcCBhbmQgYm90dG9tIGJ5IHNhbWUgdGhpbmdcIlxuIiwiaW1wb3J0IGNvbW1vbiBmcm9tIFwibW9jaGEvbGliL2ludGVyZmFjZXMvY29tbW9uXCJcbmltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uLy4uL0FyZ3VtZW50XCJcbmltcG9ydCB7XG4gICAgZixcbiAgICBuZWdhdGl2ZSxcbiAgICBudW0sXG4gICAgcHJvZHVjdE9yTm90LFxuICAgIHN1bVxufSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9GcmFjdGlvblwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBoYXMsIHNldE9mIH0gZnJvbSBcIi4uLy4uL3V0aWwvVGhpbmdzVGhhdFNob3VsZEJlSW5UaGVTdGRMaWJcIlxuaW1wb3J0IHsgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB9IGZyb20gXCIuLi9Ob0NvbnRleHRFeHByZXNzaW9uU2ltcGxpZmljYXRpb25SdWxlXCJcblxuLyoqXG4gKiBJbiBhbGwgY2FzZXMsIGFueSBjb21iaW5lZCBleHBvbmVudCBmYWN0b3JzIHdpbGxcbiAqIGJlIHB1dCBpbiB0aGUgbnVtZXJhdG9yLiBJdCdzIGhhcmQgdG8ga25vdyBpZiB0aGV5XG4gKiB3aWxsIGV2YWx1YXRlIHRvIGJlIG5lZ2F0aXZlIG9yIG5vdCwgc28gd2UnbGwgcHV0XG4gKiB0aGVtIGFsbCBpbiB0aGUgbnVtZXJhdG9yIGFuZCBkZWFsIHdpdGggdGhhdCBsYXRlci5cbiAqIFRPRE86IE1heWJlIHdlIGNvdWxkIGl0ZXJhdGUgb3ZlciB0aGUgZ3JhcGggYWZ0ZXIgaXQnc1xuICogICAgICBkb25lIHRvIGdvIGJhY2sgYW5kIGZpeCB0aGlzPyBNYXliZSBpdCdzIHdvcnRoIHRoZSAyXm5cbiAqICAgICAgYWRkZWQgY29tcGxleGl0eSB0byBjcmVhdGUgbm9kZXMgZm9yIGV2ZXJ5IHBvc3NpYmxlIHBsYWNlbWVudFxuICogICAgICB0aGVuIGp1c3QgcGF0aGZpbmQgdGhlIGVhc2llc3Q/XG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJ0cmFjdEV4cG9uZW50c09uRnJhY3Rpb25zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgRnJhY3Rpb25cbiAgICB9XG4gICAgcHJvdGVjdGVkIGFwcGx5SW1wbChleHA6IEV4cHJlc3Npb24pOiBTZXQ8QXJndW1lbnQ+IHtcbiAgICAgICAgY29uc3QgZnJhYyA9IGV4cCBhcyBGcmFjdGlvblxuICAgICAgICBjb25zdCB0b3AgPVxuICAgICAgICAgICAgZnJhYy5udW1lcmF0b3IgaW5zdGFuY2VvZiBQcm9kdWN0XG4gICAgICAgICAgICAgICAgPyBmcmFjLm51bWVyYXRvci5mYWN0b3JzXG4gICAgICAgICAgICAgICAgOiBbZnJhYy5udW1lcmF0b3JdXG4gICAgICAgIGNvbnN0IGJvdHRvbSA9XG4gICAgICAgICAgICBmcmFjLmRlbm9taW5hdG9yIGluc3RhbmNlb2YgUHJvZHVjdFxuICAgICAgICAgICAgICAgID8gZnJhYy5kZW5vbWluYXRvci5mYWN0b3JzXG4gICAgICAgICAgICAgICAgOiBbZnJhYy5kZW5vbWluYXRvcl1cblxuICAgICAgICAvLyBUcmVhdCBldmVyeSBmYWN0b3Igb2YgdG9wIGFuZCBib3R0b20gYXMgYW4gZXhwb25lbnRcbiAgICAgICAgZnVuY3Rpb24gYXNFeHBvbmVudChmOiBFeHByZXNzaW9uKTogRXhwb25lbnQge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuIGZcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIEV4cG9uZW50Lm9mKGYsIG51bSgxKSlcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b3BFeHBvbmVudHMgPSB0b3AubWFwPEV4cG9uZW50Pihhc0V4cG9uZW50KVxuICAgICAgICBjb25zdCBib3R0b21FeHBvbmVudHMgPSBib3R0b20ubWFwPEV4cG9uZW50Pihhc0V4cG9uZW50KVxuXG4gICAgICAgIC8vIEZpbmQgd2hhdCBiYXNlcyBhcmUgY29tbW9uXG4gICAgICAgIGNvbnN0IGNvbW1vbkJhc2VzID0gbmV3IFNldDxFeHByZXNzaW9uPigpXG4gICAgICAgIHRvcEV4cG9uZW50cy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGhhcyhcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tRXhwb25lbnRzLm1hcDxFeHByZXNzaW9uPihlID0+IGUuYmFzZSksXG4gICAgICAgICAgICAgICAgICAgIGUuYmFzZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBjb21tb25CYXNlcy5hZGQoZS5iYXNlKVxuICAgICAgICB9KVxuICAgICAgICBib3R0b21FeHBvbmVudHMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBoYXMoXG4gICAgICAgICAgICAgICAgICAgIHRvcEV4cG9uZW50cy5tYXA8RXhwcmVzc2lvbj4oZSA9PiBlLmJhc2UpLFxuICAgICAgICAgICAgICAgICAgICBlLmJhc2VcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgY29tbW9uQmFzZXMuYWRkKGUuYmFzZSlcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoY29tbW9uQmFzZXMuc2l6ZSA9PSAwKSByZXR1cm4gc2V0T2YoKVxuXG4gICAgICAgIC8vIFNlcGFyYXRlIGZhY3RvcnMgd2hpY2ggd29uJ3QgYmUgZWZmZWN0ZWRcbiAgICAgICAgY29uc3QgdW5lZmZlY3RlZFRvcEZhY3RvcnMgPSB0b3AuZmlsdGVyKGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZi5iYXNlKVxuICAgICAgICAgICAgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZilcbiAgICAgICAgfSlcbiAgICAgICAgY29uc3QgdW5lZmZlY3RlZEJvdHRvbUZhY3RvcnMgPSBib3R0b20uZmlsdGVyKGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBFeHBvbmVudCkgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZi5iYXNlKVxuICAgICAgICAgICAgcmV0dXJuICFjb21tb25CYXNlcy5oYXMoZilcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBGaW5kIGFsbCB0aGUgdGVybXMgZm9yIGVhY2ggYmFzZVxuICAgICAgICAvLyBSZW1lbWJlciB0aGF0IHRoZSBmaW5hbCBleHBvbmVudCB3aWxsIGJlIGluIHRoZSBudW1lcmF0b3JcbiAgICAgICAgY29uc3QgZXhwb25lbnRUZXJtcyA9IG5ldyBNYXA8RXhwcmVzc2lvbiwgRXhwcmVzc2lvbltdPigpXG4gICAgICAgIHRvcEV4cG9uZW50cy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb21tb25CYXNlcy5oYXMoZS5iYXNlKSkgcmV0dXJuXG4gICAgICAgICAgICBpZiAoIWV4cG9uZW50VGVybXMuaGFzKGUuYmFzZSkpIHtcbiAgICAgICAgICAgICAgICBleHBvbmVudFRlcm1zLnNldChlLmJhc2UsIFtdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwb25lbnRUZXJtcy5nZXQoZS5iYXNlKSEucHVzaChlLnBvd2VyKVxuICAgICAgICB9KVxuICAgICAgICBib3R0b21FeHBvbmVudHMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIGlmICghY29tbW9uQmFzZXMuaGFzKGUuYmFzZSkpIHJldHVyblxuICAgICAgICAgICAgaWYgKCFleHBvbmVudFRlcm1zLmhhcyhlLmJhc2UpKSB7XG4gICAgICAgICAgICAgICAgZXhwb25lbnRUZXJtcy5zZXQoZS5iYXNlLCBbXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5lZ2F0aXZlIGJjIHdlJ3JlIHB1dHRpbmcgdGhlc2UgaW4gdGhlIG51bWVyYXRvclxuICAgICAgICAgICAgZXhwb25lbnRUZXJtcy5nZXQoZS5iYXNlKSEucHVzaChuZWdhdGl2ZShlLnBvd2VyKSlcbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCByZXN1bHRpbmdUb3BFeHBvbmVudHM6IEV4cG9uZW50W10gPSBbXVxuICAgICAgICBleHBvbmVudFRlcm1zLmZvckVhY2goKHBvd2VyVGVybXMsIGJhc2UpID0+IHtcbiAgICAgICAgICAgIHJlc3VsdGluZ1RvcEV4cG9uZW50cy5wdXNoKEV4cG9uZW50Lm9mKGJhc2UsIHN1bSguLi5wb3dlclRlcm1zKSkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHVuZWZmZWN0ZWRCb3R0b21GYWN0b3JzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgdW5lZmZlY3RlZEJvdHRvbUZhY3RvcnMucHVzaChudW0oMSkpXG5cbiAgICAgICAgcmV0dXJuIHNldE9mKFxuICAgICAgICAgICAgbmV3IEFyZ3VtZW50KFxuICAgICAgICAgICAgICAgIHNldE9mKGZyYWMpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbjogZnJhYyxcbiAgICAgICAgICAgICAgICAgICAgcjogUmVsYXRpb25zaGlwLkVxdWFsLFxuICAgICAgICAgICAgICAgICAgICBuMTogRnJhY3Rpb24ub2YoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0T3JOb3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucmVzdWx0aW5nVG9wRXhwb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnVuZWZmZWN0ZWRUb3BGYWN0b3JzXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE9yTm90KC4uLnVuZWZmZWN0ZWRCb3R0b21GYWN0b3JzKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIlN1bSBleHBvbmVudHMgaW4gYm90aCBudW1lcmF0b3IgYW5kIGRlbm9taW5hdG9yXCIsXG4gICAgICAgICAgICAgICAgUlVMRV9JRFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgUlVMRV9JRCA9IFwiU3VtIGV4cG9uZW50cyBpbiBudW0gYW5kIGRlbiBpbiBmcmFjdGlvbnNcIlxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vLi4vQXJndW1lbnRcIlxuaW1wb3J0IHtcbiAgICBudW0sXG4gICAgcHJvZHVjdCxcbiAgICBwcm9kdWN0QW5kTm90VGltZXNPbmUsXG4gICAgcHJvZHVjdE9yTm90LFxuICAgIHN1bUludHVpdGl2ZSxcbiAgICBzdW1Pck5vdFxufSBmcm9tIFwiLi4vLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uLy4uL2V4cHJlc3Npb25zL0ludGVnZXJcIlxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9Qcm9kdWN0XCJcbmltcG9ydCB7IFN1bSB9IGZyb20gXCIuLi8uLi9leHByZXNzaW9ucy9TdW1cIlxuaW1wb3J0IHsgUmVsYXRpb25zaGlwIH0gZnJvbSBcIi4uLy4uL1JlbGF0aW9uc2hpcFwiXG5pbXBvcnQgeyBzZXRPZiB9IGZyb20gXCIuLi8uLi91dGlsL1RoaW5nc1RoYXRTaG91bGRCZUluVGhlU3RkTGliXCJcbmltcG9ydCB7IE5vQ29udGV4dEV4cHJlc3Npb25TaW1wbGlmaWNhdGlvblJ1bGUgfSBmcm9tIFwiLi4vTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZVwiXG5pbXBvcnQgeyBSZWxhdGlvbmFsRGVyaXZhdGlvblJ1bGUgfSBmcm9tIFwiLi4vUmVsYXRpb25hbERlcml2YXRpb25SdWxlXCJcblxuLyoqXG4gKiBUYWtlcyBzdW1zIG9mIHNldmVyYWwgYWRkZWQgcHJvZHVjdHMgYW5kIGNvbWJpbmVzIG9uZXMgdGhhdCBvbmx5XG4gKiBoYXZlIGRpZmZlcmVudCBjb2VmZmljaWVudHMuXG4gKlxuICogYSArIDJhID0gM2FcbiAqIGEgLSAyYSA9IC0xYVxuICovXG5leHBvcnQgY2xhc3MgU3VtQ29lZmZpY2llbnRzT2ZBZGRlZFRlcm1zIGV4dGVuZHMgTm9Db250ZXh0RXhwcmVzc2lvblNpbXBsaWZpY2F0aW9uUnVsZSB7XG4gICAgcHJvdGVjdGVkIGFwcGxpZXNJbXBsKGV4cDogRXhwcmVzc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZXhwIGluc3RhbmNlb2YgU3VtXG4gICAgfVxuICAgIHByb3RlY3RlZCBhcHBseUltcGwoZXhwOiBFeHByZXNzaW9uKTogU2V0PEFyZ3VtZW50PiB7XG4gICAgICAgIGNvbnN0IHRlcm1zID0gKGV4cCBhcyBTdW0pLnRlcm1zXG5cbiAgICAgICAgLy8gU3BsaXQgdGhlIHRlcm1zIGludG8gcHJvZHVjdCBhbmQgbm90IHByb2R1Y3RzXG4gICAgICAgIGNvbnN0IHByb2R1Y3RUZXJtczogUHJvZHVjdFtdID0gW11cbiAgICAgICAgY29uc3Qgbm9uUHJvZHVjdFRlcm1zOiBFeHByZXNzaW9uW10gPSBbXVxuICAgICAgICBmb3IgKGNvbnN0IHRlcm0gb2YgdGVybXMpIHtcbiAgICAgICAgICAgIGlmICh0ZXJtIGluc3RhbmNlb2YgUHJvZHVjdCAmJiB0ZXJtLmZhY3RvcnNbMF0gaW5zdGFuY2VvZiBJbnRlZ2VyKSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdFRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9uUHJvZHVjdFRlcm1zLnB1c2godGVybSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvcnQgdGhlIHByb2R1Y3QgdGVybXMgaW50byBncm91cHMgb2YgY29tbW9uIGZhY3RvcnNcbiAgICAgICAgY29uc3QgZ3JvdXBzOiBNYXA8XG4gICAgICAgICAgICBFeHByZXNzaW9uLFxuICAgICAgICAgICAgeyBjb2VmZmljaWVudDogbnVtYmVyOyBtb3JlVGhhbk9uZTogYm9vbGVhbiB9XG4gICAgICAgID4gPSBuZXcgTWFwKClcbiAgICAgICAgZm9yIChjb25zdCB0ZXJtIG9mIHByb2R1Y3RUZXJtcykge1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSB0ZXJtLmZhY3RvcnNbMF0gYXMgSW50ZWdlclxuICAgICAgICAgICAgY29uc3QgdGVtcCA9IFsuLi50ZXJtLmZhY3RvcnNdXG4gICAgICAgICAgICB0ZW1wLnNwbGljZSgwLCAxKVxuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBwcm9kdWN0T3JOb3QoLi4udGVtcClcblxuICAgICAgICAgICAgaWYgKCFncm91cHMuaGFzKGdyb3VwKSlcbiAgICAgICAgICAgICAgICBncm91cHMuc2V0KGdyb3VwLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZWZmaWNpZW50OiBmaXJzdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbW9yZVRoYW5PbmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy5nZXQoZ3JvdXApIS5jb2VmZmljaWVudCArPSBmaXJzdC52YWx1ZVxuICAgICAgICAgICAgICAgIGdyb3Vwcy5nZXQoZ3JvdXApIS5tb3JlVGhhbk9uZSA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBldmVyeSBncm91cCB3aXRoIG1vcmUgdGhhbiBvbmUgcHJvZHVjdCwgcHJvZHVjZSBhIG5ldyBhcmd1bWVudFxuICAgICAgICBjb25zdCBvdXQgPSBuZXcgU2V0PEFyZ3VtZW50PigpXG4gICAgICAgIGdyb3Vwcy5mb3JFYWNoKChvYmosIGdyb3VwKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW9iai5tb3JlVGhhbk9uZSkgcmV0dXJuXG5cbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RUZXJtc05vdENvbWJpbmVkID0gcHJvZHVjdFRlcm1zLmZpbHRlcih0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLnQuZmFjdG9yc11cbiAgICAgICAgICAgICAgICB0ZW1wLnNwbGljZSgwLCAxKVxuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1XaXRob3V0TGVhZGluZ0NvZWZmaWNpZW50ID0gcHJvZHVjdE9yTm90KC4uLnRlbXApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwICE9PSB0ZXJtV2l0aG91dExlYWRpbmdDb2VmZmljaWVudFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgb3V0LmFkZChcbiAgICAgICAgICAgICAgICBuZXcgQXJndW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIHNldE9mKGV4cCksXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG46IGV4cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IFJlbGF0aW9uc2hpcC5FcXVhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG4xOiBzdW1Pck5vdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0QW5kTm90VGltZXNPbmUobnVtKG9iai5jb2VmZmljaWVudCksIGdyb3VwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5ub25Qcm9kdWN0VGVybXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvZHVjdFRlcm1zTm90Q29tYmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJDb21iaW5pbmcgbGlrZSB0ZXJtc1wiLFxuICAgICAgICAgICAgICAgICAgICBSVUxFX0lEXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBSVUxFX0lEID0gXCJTdW1Db2VmZmljaWVudHMgb2YgYWRkZWQgdGVybXNcIlxuIiwiaW1wb3J0IHsgVmFyaWFibGVWYWx1ZU1hcCB9IGZyb20gXCIuLi9WYXJpYWJsZVZhbHVlTWFwXCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEludGVnZXIgfSBmcm9tIFwiLi9JbnRlZ2VyXCJcbmltcG9ydCB7IFByb2R1Y3QsIFByb2R1Y3RUeXBlIH0gZnJvbSBcIi4vUHJvZHVjdFwiXG5pbXBvcnQgeyBTdW1UeXBlIH0gZnJvbSBcIi4vU3VtXCJcblxuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgRGVyaXZhdGl2ZSBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2YoZXhwOiBFeHByZXNzaW9uLCByZWxhdGl2ZVRvOiBFeHByZXNzaW9uKTogRGVyaXZhdGl2ZSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBleHAuaGFzaCArIHJlbGF0aXZlVG8uaGFzaFxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzLmhhcyhoYXNoKSlcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnNldChoYXNoLCBuZXcgRGVyaXZhdGl2ZShleHAsIHJlbGF0aXZlVG8pKVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIERlcml2YXRpdmU+ID0gbmV3IE1hcCgpXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihleHA6IEV4cHJlc3Npb24sIHJlbGF0aXZlVG86IEV4cHJlc3Npb24pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmV4cCA9IGV4cFxuICAgICAgICB0aGlzLnJlbGF0aXZlVG8gPSByZWxhdGl2ZVRvXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5leHApXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5yZWxhdGl2ZVRvKVxuICAgICAgICB0aGlzLmlzUmVkdWNpYmxlID0gZmFsc2UgLy9UT0RPOiBEZXRlcm1pbmUgaWYgYSBkZXJpdmF0aXZlIGlzIHJlZHVjaWJsZVxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSBmYWxzZSAvLyBUT0RPOiBEZXRlcm1pbmUgaWYgYSBkZXJpdmF0aXZlIGlzIGNvbnN0YW50XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBleHAuY2hpbGRDb3VudCArIHJlbGF0aXZlVG8uY2hpbGRDb3VudFxuICAgIH1cblxuICAgIHB1YmxpYyByZWFkb25seSBleHA6IEV4cHJlc3Npb25cbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVsYXRpdmVUbzogRXhwcmVzc2lvblxuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuXG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBEZXJpdmF0aXZlVHlwZVxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJkL2RcIiArIHRoaXMucmVsYXRpdmVUby50b1N0cmluZygpICsgXCIoXCIgKyB0aGlzLmV4cC50b1N0cmluZygpICsgXCIpXCJcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcIihkL2RcIiArXG4gICAgICAgICAgICB0aGlzLnJlbGF0aXZlVG8udG9VbmFtYmlnaW91c1N0cmluZygpICtcbiAgICAgICAgICAgIFwiKVwiICtcbiAgICAgICAgICAgIHRoaXMuZXhwLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKVxuICAgICAgICApXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGFzcyArIHRoaXMuZXhwLmhhc2ggKyB0aGlzLnJlbGF0aXZlVG8uaGFzaFxuICAgIH1cblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFN1bVR5cGUgfHwgZXhwLmNsYXNzID09IFByb2R1Y3RUeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBcIjxtbz4oPC9tbz5cIiArIGV4cC50b01hdGhYTUwoKSArIFwiPG1vPik8L21vPlwiXG4gICAgICAgICAgICByZXR1cm4gZXhwLnRvTWF0aFhNTCgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiPG1mcmFjPjxtbj5kPC9tbj48bXJvdz48bW4+ZDwvbW4+XCIgK1xuICAgICAgICAgICAgd3JhcElmTmVlZGVkKHRoaXMucmVsYXRpdmVUbykgK1xuICAgICAgICAgICAgXCI8L21yb3c+PC9tZnJhYz5cIiArXG4gICAgICAgICAgICB3cmFwSWZOZWVkZWQodGhpcy5leHApXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgLy8gTWF5YmUgbGF0ZXJcbiAgICAgICAgcmV0dXJuIE5hTlxuICAgIH1cblxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuXG4gICAgcHVibGljIHJlYWRvbmx5IGNoaWxkQ291bnQ6IG51bWJlclxufVxuXG5leHBvcnQgY29uc3QgRGVyaXZhdGl2ZVR5cGUgPSBcIkRlcml2YXRpdmVcIlxuIiwiaW1wb3J0IHsgaW5QYXJlbiwgaW5Sb3cgfSBmcm9tIFwiLi4vdXRpbC9NYXRoTUxIZWxwZXJzXCJcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvblR5cGUgfSBmcm9tIFwiLi9GcmFjdGlvblwiXG5pbXBvcnQgeyBJbnRlZ2VyLCBJbnRlZ2VyVHlwZSB9IGZyb20gXCIuL0ludGVnZXJcIlxuaW1wb3J0IHsgUHJvZHVjdFR5cGUgfSBmcm9tIFwiLi9Qcm9kdWN0XCJcbmltcG9ydCB7IFN1bVR5cGUgfSBmcm9tIFwiLi9TdW1cIlxuXG5leHBvcnQgY2xhc3MgRXhwb25lbnQgZXh0ZW5kcyBFeHByZXNzaW9uIHtcbiAgICBwdWJsaWMgc3RhdGljIG9mKGJhc2U6IEV4cHJlc3Npb24sIHBvd2VyOiBFeHByZXNzaW9uKTogRXhwb25lbnQge1xuICAgICAgICBjb25zdCBoYXNoID0gYmFzZS5oYXNoICsgcG93ZXIuaGFzaFxuICAgICAgICBpZiAoIUV4cG9uZW50Lmluc3RhbmNlcy5oYXMoaGFzaCkpIHtcbiAgICAgICAgICAgIEV4cG9uZW50Lmluc3RhbmNlcy5zZXQoaGFzaCwgbmV3IEV4cG9uZW50KGJhc2UsIHBvd2VyKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRXhwb25lbnQuaW5zdGFuY2VzLmdldChoYXNoKSFcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzID0gbmV3IE1hcDxzdHJpbmcsIEV4cG9uZW50PigpXG5cbiAgICBwdWJsaWMgY2xhc3M6IHN0cmluZyA9IEV4cG9uZW50VHlwZVxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZXhwLmNsYXNzID09IFN1bVR5cGUgfHxcbiAgICAgICAgICAgICAgICBleHAuY2xhc3MgPT0gUHJvZHVjdFR5cGUgfHxcbiAgICAgICAgICAgICAgICBleHAuY2xhc3MgPT0gRnJhY3Rpb25UeXBlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluUm93KGluUGFyZW4oZXhwLnRvTWF0aFhNTCgpKSlcbiAgICAgICAgICAgIHJldHVybiBleHAudG9NYXRoWE1MKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCI8bXN1cD5cIiArXG4gICAgICAgICAgICB3cmFwSWZOZWVkZWQodGhpcy5iYXNlKSArXG4gICAgICAgICAgICBpblJvdyh0aGlzLnBvd2VyLnRvTWF0aFhNTCgpKSArXG4gICAgICAgICAgICBcIjwvbXN1cD5cIlxuICAgICAgICApXG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCIoXCIgKyB0aGlzLmJhc2UgKyBcIileKFwiICsgdGhpcy5wb3dlciArIFwiKVwiXG4gICAgfVxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIihcIiArIHRoaXMuYmFzZSArIFwiKV4oXCIgKyB0aGlzLnBvd2VyICsgXCIpXCJcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiUG93XCIgKyB0aGlzLmJhc2UuaGFzaCArIHRoaXMucG93ZXIuaGFzaFxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3codGhpcy5iYXNlLmV2YWx1YXRlKHZhbHVlcyksIHRoaXMucG93ZXIuZXZhbHVhdGUodmFsdWVzKSlcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGJhc2U6IEV4cHJlc3Npb24sIHBvd2VyOiBFeHByZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5iYXNlID0gYmFzZVxuICAgICAgICB0aGlzLnBvd2VyID0gcG93ZXJcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmJhc2UpXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5wb3dlcilcbiAgICAgICAgLy8gVGhlIGludGVnZXJzIGFyZSBjbG9zZWQgb3ZlciBleHBvbmVudGlhdGlvblxuICAgICAgICB0aGlzLmlzUmVkdWNpYmxlID1cbiAgICAgICAgICAgIChiYXNlLmlzUmVkdWNpYmxlIHx8IGJhc2UuY2xhc3MgPT09IEludGVnZXJUeXBlKSAmJlxuICAgICAgICAgICAgKHBvd2VyLmlzUmVkdWNpYmxlIHx8IHBvd2VyLmNsYXNzID09PSBJbnRlZ2VyVHlwZSkgLy8gJiYgTWF0aC5wb3coYmFzZS5yZWR1Y2VkLnZhbHVlLCBwb3dlci5yZWR1Y2VkLnZhbHVlKSAlIDEgPT0gMFxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSBiYXNlLmlzQ29uc3RhbnQgJiYgcG93ZXIuaXNDb25zdGFudFxuICAgICAgICB0aGlzLmNoaWxkQ291bnQgPSAyICsgYmFzZS5jaGlsZENvdW50ICsgcG93ZXIuY2hpbGRDb3VudFxuICAgIH1cblxuICAgIHB1YmxpYyByZWFkb25seSBiYXNlOiBFeHByZXNzaW9uXG4gICAgcHVibGljIHJlYWRvbmx5IHBvd2VyOiBFeHByZXNzaW9uXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhblxuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGNvbnN0IEV4cG9uZW50VHlwZSA9IFwiRXhwb25lbnRcIlxuIiwiaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuLi9NYXRoR3JhcGhOb2RlXCJcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiXG5pbXBvcnQgeyBJbnRlZ2VyVHlwZSB9IGZyb20gXCIuL0ludGVnZXJcIlxuaW1wb3J0IHsgTWF0aEVsZW1lbnQgfSBmcm9tIFwiLi9NYXRoRWxlbWVudFwiXG5cbi8qKlxuICogQmFzZSBvZiBhbGwgbWF0aGVtYXRpY2FsIGV4cHJlc3Npb25zLlxuICogQWxsIGNoaWxkcmVuIHNob3VsZCBpbXBsZW1lbnQgZmx5LXdoZWVsIHBhdHRlcm4uXG4gKiBBbGwgY2hpbGRyZW4gc2hvdWxkIGJlIGltbXV0YWJsZS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEV4cHJlc3Npb24gZXh0ZW5kcyBNYXRoR3JhcGhOb2RlIGltcGxlbWVudHMgTWF0aEVsZW1lbnQge1xuICAgIHB1YmxpYyBhYnN0cmFjdCB0b01hdGhYTUwoKTogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIHRoZSBleHByZXNzaW9uIGNvdWxkIGJlIHdyaXR0ZW4gYXMgYW5cbiAgICAgKiBpbnRlZ2VyIGJ1dCBpc24ndC5cbiAgICAgKlxuICAgICAqIFJlZHVjaWJsZTpcbiAgICAgKiAyICsgMiAtPiA0XG4gICAgICogMl40IC0+IDMyXG4gICAgICogNC8yIC0+IDJcbiAgICAgKlxuICAgICAqIE5vdCBSZWR1Y2libGU6XG4gICAgICogMVxuICAgICAqIDQvM1xuICAgICAqIHNxcnQoMilcbiAgICAgKiBwaVxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBpc1JlZHVjaWJsZTogYm9vbGVhblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGFzcyBuYW1lIG9mIHRoZSBleHByZXNzaW9uLlxuICAgICAqIEZvciByZWZsZWN0aW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBjbGFzczogc3RyaW5nXG4gICAgLyoqXG4gICAgICogR2V0cyBhIGRlYnVnIHN0cmluZyB0aGF0IGFkZXF1YXRlbHkgY29tbXVuaWNhdGVzXG4gICAgICogdGhlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IHRvU3RyaW5nKCk6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSBzdHJpbmcgd2hpY2ggaXMgZXhhY3RseSB3aGF0J3MgbmVjZXNzYXJ5XG4gICAgICogdG8gY29tbXVuaWNhdGUgdW5hbWdpZ2lvdXNseSB0aGUgY29udGVudCBvZiB0aGUgZXhwcmVzc2lvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgc3RyaW5nIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllc1xuICAgICAqIHRoZSBleHByZXNzaW9uJ3MgdHlwZSBhbmQgdmFsdWVzIHN1Y2ggdGhhdFxuICAgICAqIDEuIG5vIHR3byBzdWJjbGFzc2VzIG9mIGV4cHJlc3Npb24gY291bGQgcHJvZHVjZVxuICAgICAqIHRoZSBzYW1lIGtleVxuICAgICAqIDIuIEFsbCBpbnN0YW5jZXMgb2YgZXhwcmVzc2lvbiB3aXRoIGVxdWFsIHZhbHVlc1xuICAgICAqIGhhdmUgdGhlIHNhbWUga2V5XG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldCBoYXNoKCk6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGlzIGV4cHJlc3Npb24gY29udGFpbnMgbm8gdmFyaWFibGVzLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGl2ZSBpbnRlZ2VyIHJlcHJlc2VudGluZyB0aGUgY29tcGxleGl0eSBvZiB0aGUgZXhwcmVzc2lvblxuICAgICAqIGluY2x1ZGluZyBpdHMgY29tcG9zaW5nIGVsZW1lbnRzLiBFcXVhbHMgbnVtYmVyIG9mIGNoaWxkcmVuXG4gICAgICogIHBsdXMgdGhlIHRvdGFsIGNvbXBsZXhpdHkgb2YgYWxsIGNoaWxkcmVuLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXJcblxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlIHRoZSBleHByZXNzaW9uIHJlY3Vyc2l2ZWx5IHN1YnN0aXR1dGluZyBhbnkgdmFyaWFibGVzXG4gICAgICogd2l0aCB0aGUgc3VwcGxpZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBzdWJzdGl0dXRlIHZhcmlhYmxlcyB3aXRoIHdoZW5cbiAgICAgKiAgICAgICAgICBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXJcbn1cbiIsImltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiXG5cbmV4cG9ydCBjbGFzcyBGcmFjdGlvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2YobnVtZXJhdG9yOiBFeHByZXNzaW9uLCBkZW5vbWluYXRvcjogRXhwcmVzc2lvbik6IEZyYWN0aW9uIHtcbiAgICAgICAgY29uc3QgaGFzaCA9IG51bWVyYXRvci5oYXNoICsgZGVub21pbmF0b3IuaGFzaFxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UuaGFzKGhhc2gpKVxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5zZXQoaGFzaCwgbmV3IEZyYWN0aW9uKG51bWVyYXRvciwgZGVub21pbmF0b3IpKVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZS5nZXQoaGFzaCkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBNYXA8c3RyaW5nLCBGcmFjdGlvbj4gPSBuZXcgTWFwKClcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG51bTogRXhwcmVzc2lvbiwgZGVub206IEV4cHJlc3Npb24pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLm51bWVyYXRvciA9IG51bVxuICAgICAgICB0aGlzLmRlbm9taW5hdG9yID0gZGVub21cbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLm51bWVyYXRvcilcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmRlbm9taW5hdG9yKVxuXG4gICAgICAgIC8qXG4gICAgICAgIEEgZnJhY3Rpb24gaXMgcmVkdWNpYmxlIGlmIHRoZSBkZW5vbSB8IG51bS5cbiAgICAgICAgICAgIDw9PiBudW0gPSBrICogZGVub20gd2hlcmUgayBpcyBhbiBpbnRlZ2VyLlxuXG4gICAgICAgIFRoaXMgbWFrZXMgcHJvdmluZyByZWR1Y2liaWxpdHkgaGFyZC5cbiAgICAgICAgVE9ETzogRGVjaWRlIGlmIGl0J3Mgd29ydGggaW1wbGVtZW50aW5nIHJlZHVjaWJpbGl0eSBmb3IgRnJhY3Rpb25zXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuaXNSZWR1Y2libGUgPSBmYWxzZVxuICAgICAgICB0aGlzLmlzQ29uc3RhbnQgPSBudW0uaXNDb25zdGFudCAmJiBkZW5vbS5pc0NvbnN0YW50XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBudW0uY2hpbGRDb3VudCArIGRlbm9tLmNoaWxkQ291bnRcbiAgICB9XG4gICAgcHVibGljIHJlYWRvbmx5IG51bWVyYXRvcjogRXhwcmVzc2lvblxuICAgIHB1YmxpYyByZWFkb25seSBkZW5vbWluYXRvcjogRXhwcmVzc2lvblxuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuXG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBGcmFjdGlvblR5cGVcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtZXJhdG9yLnRvU3RyaW5nKCkgKyBcIiAvIFwiICsgdGhpcy5kZW5vbWluYXRvci50b1N0cmluZygpXG4gICAgfVxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgKCR7dGhpcy5udW1lcmF0b3IudG9VbmFtYmlnaW91c1N0cmluZygpfSkvKCR7dGhpcy5kZW5vbWluYXRvci50b1VuYW1iaWdpb3VzU3RyaW5nKCl9KWBcbiAgICB9XG4gICAgcHVibGljIGdldCBoYXNoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBGcmFjdGlvblR5cGUgKyB0aGlzLm51bWVyYXRvci5oYXNoICsgdGhpcy5kZW5vbWluYXRvci5oYXNoXG4gICAgfVxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuXG4gICAgcHVibGljIHRvTWF0aFhNTCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCI8bWZyYWM+PG1yb3c+XCIgK1xuICAgICAgICAgICAgdGhpcy5udW1lcmF0b3IudG9NYXRoWE1MKCkgK1xuICAgICAgICAgICAgXCI8L21yb3c+PG1yb3c+XCIgK1xuICAgICAgICAgICAgdGhpcy5kZW5vbWluYXRvci50b01hdGhYTUwoKSArXG4gICAgICAgICAgICBcIjwvbXJvdz48L21mcmFjPlwiXG4gICAgICAgIClcbiAgICB9XG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLm51bWVyYXRvci5ldmFsdWF0ZSh2YWx1ZXMpIC8gdGhpcy5kZW5vbWluYXRvci5ldmFsdWF0ZSh2YWx1ZXMpXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyXG59XG5cbmV4cG9ydCBjb25zdCBGcmFjdGlvblR5cGUgPSBcIkZyYWN0aW9uXCJcbiIsImltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL2Fzc2VydFwiXG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIlxuXG4vKipcbiAqIEludGVnZXJcbiAqIFBvc2l0aXZlIG9yIG5lZ2F0aXZlXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlZ2VyIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG4gICAgcHVibGljIHN0YXRpYyBvZih2YWx1ZTogbnVtYmVyKTogSW50ZWdlciB7XG4gICAgICAgIGlmICghSW50ZWdlci5pbnN0YW5jZXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgSW50ZWdlci5pbnN0YW5jZXMuc2V0KHZhbHVlLCBuZXcgSW50ZWdlcih2YWx1ZSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEludGVnZXIuaW5zdGFuY2VzLmdldCh2YWx1ZSkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogTWFwPG51bWJlciwgSW50ZWdlcj4gPSBuZXcgTWFwKClcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IodmFsdWU6IG51bWJlcikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxuICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICB0aGlzLnZhbHVlICUgMSA9PSAwLFxuICAgICAgICAgICAgXCJDcmVhdGluZyBub24taW50ZWdlciBpbnRlZ2VyIFwiICsgdGhpcy52YWx1ZVxuICAgICAgICApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgQSBwb3NpdGl2ZSB2ZXJzaW9uIG9mIHRoaXMgaW50ZWdlci5cbiAgICAgKi9cbiAgICBwdWJsaWMgYnV0UG9zaXRpdmUoKTogSW50ZWdlciB7XG4gICAgICAgIHJldHVybiBJbnRlZ2VyLm9mKE1hdGguYWJzKHRoaXMudmFsdWUpKVxuICAgIH1cblxuICAgIHB1YmxpYyBjbGFzczogc3RyaW5nID0gSW50ZWdlclR5cGVcbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIjxtbj5cIiArIHRoaXMudmFsdWUgKyBcIjwvbW4+XCJcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB0aGlzLnZhbHVlXG4gICAgfVxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlwiICsgdGhpcy52YWx1ZVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJJbnRcIiArIHRoaXMudmFsdWVcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWU6IG51bWJlclxuICAgIHB1YmxpYyByZWFkb25seSBpc1JlZHVjaWJsZTogYm9vbGVhbiA9IGZhbHNlXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudCA9IHRydWVcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudCA9IDBcbn1cblxuZXhwb3J0IGNvbnN0IEludGVnZXJUeXBlID0gXCJJbnRlZ2VyXCJcbiIsImltcG9ydCB7IGluUGFyZW4gfSBmcm9tIFwiLi4vdXRpbC9NYXRoTUxIZWxwZXJzXCJcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4vSW50ZWdlclwiXG5pbXBvcnQgeyBQcm9kdWN0VHlwZSB9IGZyb20gXCIuL1Byb2R1Y3RcIlxuaW1wb3J0IHsgU3VtVHlwZSB9IGZyb20gXCIuL1N1bVwiXG5cbi8qKlxuICogQW4gaW5kZWZpbmF0ZSBpbnRlZ3JhbCAoZm9yIG5vdykuXG4gKiBUT0RPOiBTaG91bGQgd2Ugc2VwYXJhdGUgZGVmaW5hdGUvaW5kZWZpbmF0ZSBpbnRlZ3JhbHM/XG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlZ3JhbCBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2YoaW50ZWdyYW5kOiBFeHByZXNzaW9uLCByZWxhdGl2ZVRvOiBFeHByZXNzaW9uKTogSW50ZWdyYWwge1xuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzLmhhcyhpbnRlZ3JhbmQuaGFzaCArIHJlbGF0aXZlVG8uaGFzaCkpXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoXG4gICAgICAgICAgICAgICAgaW50ZWdyYW5kLmhhc2ggKyByZWxhdGl2ZVRvLmhhc2gsXG4gICAgICAgICAgICAgICAgbmV3IEludGVncmFsKGludGVncmFuZCwgcmVsYXRpdmVUbylcbiAgICAgICAgICAgIClcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmdldChpbnRlZ3JhbmQuaGFzaCArIHJlbGF0aXZlVG8uaGFzaCkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogTWFwPHN0cmluZywgSW50ZWdyYWw+ID0gbmV3IE1hcCgpXG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGludGVncmFuZDogRXhwcmVzc2lvbiwgcmVsYXRpdmVUbzogRXhwcmVzc2lvbikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuaW50ZWdyYW5kID0gaW50ZWdyYW5kXG4gICAgICAgIHRoaXMucmVsYXRpdmVUbyA9IHJlbGF0aXZlVG9cblxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuaW50ZWdyYW5kKVxuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMucmVsYXRpdmVUbylcblxuICAgICAgICB0aGlzLmlzUmVkdWNpYmxlID0gZmFsc2VcbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gZmFsc2VcbiAgICAgICAgdGhpcy5jaGlsZENvdW50ID0gMiArIGludGVncmFuZC5jaGlsZENvdW50ICsgcmVsYXRpdmVUby5jaGlsZENvdW50XG4gICAgfVxuICAgIHB1YmxpYyByZWFkb25seSBpbnRlZ3JhbmQ6IEV4cHJlc3Npb25cbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVsYXRpdmVUbzogRXhwcmVzc2lvblxuXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuXG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzOiBzdHJpbmcgPSBJbnRlZ3JhbFR5cGVcbiAgICBwdWJsaWMgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwi4oirXCIgKyB0aGlzLmludGVncmFuZC50b1N0cmluZygpXG4gICAgfVxuICAgIHB1YmxpYyB0b1VuYW1iaWdpb3VzU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcIuKIqyhcIiArXG4gICAgICAgICAgICB0aGlzLmludGVncmFuZC50b1VuYW1iaWdpb3VzU3RyaW5nKCkgK1xuICAgICAgICAgICAgXCIpXCIgK1xuICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRvLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKVxuICAgICAgICApXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCLiiKtcIiArIHRoaXMuaW50ZWdyYW5kLnRvU3RyaW5nKCkgKyB0aGlzLnJlbGF0aXZlVG8udG9TdHJpbmcoKVxuICAgIH1cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFN1bVR5cGUgfHwgZXhwLmNsYXNzID09IFByb2R1Y3RUeXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBpblBhcmVuKGV4cC50b01hdGhYTUwoKSlcbiAgICAgICAgICAgIHJldHVybiBleHAudG9NYXRoWE1MKClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcIjxtcm93Pjxtbz7iiKs8L21vPlwiICtcbiAgICAgICAgICAgIHdyYXBJZk5lZWRlZCh0aGlzLmludGVncmFuZCkgK1xuICAgICAgICAgICAgXCI8bW4+ZDwvbW4+XCIgK1xuICAgICAgICAgICAgd3JhcElmTmVlZGVkKHRoaXMucmVsYXRpdmVUbykgK1xuICAgICAgICAgICAgXCI8L21yb3c+XCJcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICAvLyBOYWggZnVjayB0aGlzIGJyb1xuICAgICAgICByZXR1cm4gTmFOXG4gICAgfVxuXG4gICAgcHVibGljIHJlYWRvbmx5IGNoaWxkQ291bnQ6IG51bWJlclxufVxuXG5leHBvcnQgY29uc3QgSW50ZWdyYWxUeXBlID0gXCJJbnRlZ3JhbFwiXG4iLCJpbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIlxuXG5leHBvcnQgY2xhc3MgTG9nYXJpdGhtIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG4gICAgcHVibGljIHN0YXRpYyBvZihleHA6IEV4cHJlc3Npb24sIGJhc2U6IEV4cHJlc3Npb24pOiBMb2dhcml0aG0ge1xuICAgICAgICBjb25zdCBoYXNoID0gZXhwLmhhc2ggKyBiYXNlLmhhc2hcbiAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlcy5oYXMoaGFzaCkpXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaGFzaCwgbmV3IExvZ2FyaXRobShleHAsIGJhc2UpKVxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIExvZ2FyaXRobT4gPSBuZXcgTWFwKClcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGV4cDogRXhwcmVzc2lvbiwgYmFzZTogRXhwcmVzc2lvbikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuZXhwID0gZXhwXG4gICAgICAgIHRoaXMuYmFzZSA9IGJhc2VcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmV4cClcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLmJhc2UpXG4gICAgICAgIHRoaXMuaXNSZWR1Y2libGUgPSBmYWxzZSAvL1RPRE86IERldGVybWluZSBpZiBhIGxvZ2FyaXRobSBpcyByZWR1Y2libGVcbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gZXhwLmlzQ29uc3RhbnQgJiYgYmFzZS5pc0NvbnN0YW50XG4gICAgICAgIHRoaXMuY2hpbGRDb3VudCA9IDIgKyBleHAuY2hpbGRDb3VudCArIGJhc2UuY2hpbGRDb3VudFxuICAgIH1cblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGA8bXJvdz5cbiAgICAgICAgICAgIDxtc3ViPjxtdGV4dD5sb2c8L210ZXh0PiR7dGhpcy5iYXNlLnRvTWF0aFhNTCgpfTwvbXN1Yj5cbiAgICAgICAgICAgIDxtcm93PiR7dGhpcy5leHAudG9NYXRoWE1MKCl9PC9tcm93PlxuICAgICAgICA8L3Jvdz5gXG4gICAgfVxuICAgIHB1YmxpYyBpc1JlZHVjaWJsZTogYm9vbGVhblxuICAgIHB1YmxpYyByZWFkb25seSBjbGFzczogc3RyaW5nID0gTG9nVHlwZVxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYGxvZyR7dGhpcy5iYXNlLnRvU3RyaW5nKCl9KCR7dGhpcy5leHAudG9TdHJpbmcoKX0pYFxuICAgIH1cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYGxvZygke3RoaXMuYmFzZS50b1VuYW1iaWdpb3VzU3RyaW5nKCl9KSgke3RoaXMuZXhwLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKX0pYFxuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIilcbiAgICB9XG4gICAgcHVibGljIGV2YWx1YXRlKHZhbHVlczogVmFyaWFibGVWYWx1ZU1hcCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBNYXRoLmxvZyh0aGlzLmV4cC5ldmFsdWF0ZSh2YWx1ZXMpKSAvXG4gICAgICAgICAgICBNYXRoLmxvZyh0aGlzLmJhc2UuZXZhbHVhdGUodmFsdWVzKSlcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50OiBib29sZWFuXG4gICAgcHVibGljIHJlYWRvbmx5IGNoaWxkQ291bnQ6IG51bWJlclxuXG4gICAgcHVibGljIHJlYWRvbmx5IGV4cDogRXhwcmVzc2lvblxuICAgIHB1YmxpYyByZWFkb25seSBiYXNlOiBFeHByZXNzaW9uXG59XG5cbmV4cG9ydCBjb25zdCBMb2dUeXBlID0gXCJMb2dhcml0aG1cIlxuIiwiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL3V0aWwvYXNzZXJ0XCJcbmltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiXG5pbXBvcnQgeyBFeHBvbmVudCB9IGZyb20gXCIuL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEludGVnZXIsIEludGVnZXJUeXBlIH0gZnJvbSBcIi4vSW50ZWdlclwiXG5pbXBvcnQgeyBTdW1UeXBlIH0gZnJvbSBcIi4vU3VtXCJcbmltcG9ydCB7IFZhcmlhYmxlIH0gZnJvbSBcIi4vVmFyaWFibGVcIlxuXG4vKipcbiAqIEEgbWF0aGVtYXRpY2FsIHByb2R1Y3Qgd2l0aCAyIG9yIG1vcmUgZmFjdG9ycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb2R1Y3QgZXh0ZW5kcyBFeHByZXNzaW9uIHtcbiAgICAvKipcbiAgICAgKiBGb3IgZWZmaWNpZW5jeSwgcHJvZHVjdHMgYXJlIGNvbXBhcmVkIGJ5IHJlZmVyZW5jZS5cbiAgICAgKiBIZXJlIHdlIGVuc3VyZSA9PT0gPD0+ID09XG4gICAgICogQHBhcmFtIGZhY3RvcnNcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgb2YoZmFjdG9yczogRXhwcmVzc2lvbltdKTogUHJvZHVjdCB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBmYWN0b3JzLm1hcDxzdHJpbmc+KGUgPT4gZS5oYXNoKS5qb2luKFwiXCIpXG4gICAgICAgIGlmICghUHJvZHVjdC5pbnN0YW5jZXMuaGFzKGhhc2gpKVxuICAgICAgICAgICAgUHJvZHVjdC5pbnN0YW5jZXMuc2V0KGhhc2gsIG5ldyBQcm9kdWN0KGZhY3RvcnMpKVxuICAgICAgICByZXR1cm4gUHJvZHVjdC5pbnN0YW5jZXMuZ2V0KGhhc2gpIVxuICAgIH1cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IE1hcDxzdHJpbmcsIFByb2R1Y3Q+ID0gbmV3IE1hcCgpXG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGZhY3RvcnM6IEV4cHJlc3Npb25bXSkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIGFzc2VydChcbiAgICAgICAgICAgIGZhY3RvcnMubGVuZ3RoID49IDIsXG4gICAgICAgICAgICBcIkNyZWF0aW5nIHByb2R1Y3Qgd2l0aCBsZXNzIHRoYW4gMiBmYWN0b3JzLlwiXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5mYWN0b3JzID0gZmFjdG9yc1xuICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMuZmFjdG9ycylcblxuICAgICAgICBsZXQgcmVkdWNpYmxlID0gdHJ1ZVxuICAgICAgICB0aGlzLmZhY3RvcnMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgIHJlZHVjaWJsZSAmJj0gZi5pc1JlZHVjaWJsZSB8fCBmLmNsYXNzID09IEludGVnZXJUeXBlXG4gICAgICAgIH0pXG4gICAgICAgIC8vIFRoZSBpbnRlZ2VycyBhcmUgY2xvc2VkIG92ZXIgbXVsdGlwbGljYXRpb25cbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IHJlZHVjaWJsZVxuXG4gICAgICAgIGxldCBoZWFsdGh5ID0gdHJ1ZVxuICAgICAgICBoZWFsdGh5ICYmPSB0aGlzLm51bU5lZ2F0aXZlcygpIDwgMlxuXG4gICAgICAgIGxldCBpc05lZ2F0aW9uID0gZmFjdG9ycy5sZW5ndGggPT0gMlxuICAgICAgICBpc05lZ2F0aW9uICYmPVxuICAgICAgICAgICAgZmFjdG9ycy5maWx0ZXIoZSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBJbnRlZ2VyICYmIChlIGFzIEludGVnZXIpLnZhbHVlID09IC0xXG4gICAgICAgICAgICB9KS5sZW5ndGggPT0gMVxuICAgICAgICB0aGlzLmlzTmVnYXRpb24gPSBpc05lZ2F0aW9uXG5cbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gdGhpcy5mYWN0b3JzXG4gICAgICAgICAgICAubWFwPGJvb2xlYW4+KGYgPT4gZi5pc0NvbnN0YW50KVxuICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYSAmJiBiKVxuICAgICAgICB0aGlzLmNoaWxkQ291bnQgPVxuICAgICAgICAgICAgZmFjdG9ycy5sZW5ndGggK1xuICAgICAgICAgICAgZmFjdG9ycy5tYXA8bnVtYmVyPihmID0+IGYuY2hpbGRDb3VudCkucmVkdWNlKChhLCBiKSA9PiBhICsgYikgLVxuICAgICAgICAgICAgKHRoaXMuaXNOZWdhdGlvbiA/IDEgOiAwKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhpcyBwcm9kdWN0IGlzIGp1c3RcbiAgICAgKiAtMSAqIGFub3RoZXIgZXhwcmVzc2lvbi5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNOZWdhdGlvbjogYm9vbGVhblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB2YWx1ZSB0aGF0IHRoaXMgcHJvZHVjdCBpcyBuZWdhdGluZ1xuICAgICAqIC0xICogZXhwIHJldHVybnMgZXhwLlxuICAgICAqIEB0aHJvd3MgaWYgcHJvZHVjdCBpc24ndCBhIG5lZ2F0aW9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgbmVnYXRpb24oKTogRXhwcmVzc2lvbiB7XG4gICAgICAgIGFzc2VydCh0aGlzLmlzTmVnYXRpb24sIFwiVHJ5aW5nIHRvIGdldCBuZWdhdGlvbiBmcm9tIG5vbi1uZWdhdGluZyBzdW1cIilcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5mYWN0b3JzWzBdLmNsYXNzID09IEludGVnZXJUeXBlICYmXG4gICAgICAgICAgICAodGhpcy5mYWN0b3JzWzBdIGFzIEludGVnZXIpLnZhbHVlID09IC0xXG4gICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhY3RvcnNbMV1cbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yc1swXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgRXhwcmVzc2lvbiB3aXRob3V0IHRoZSBnaXZlbiBmYWN0b3IuXG4gICAgICogSWYgdGhlIHByb2R1Y3QgY29udGFpbnMgdGhlIGZhY3RvciBtdWx0aXBsZSB0aW1lcyxcbiAgICAgKiBvbmx5IHJlbW92ZXMgb25lLiBJZiBpdCBkb2Vzbid0IGNvbnRhaW4gdGhlIGZhY3RvcixcbiAgICAgKiByZXR1cm5zIGl0c2VsZi5cbiAgICAgKiBAcGFyYW0gZXhwIEEgZmFjdG9yIGluIHRoaXMgcHJvZHVjdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgd2l0aG91dChleHA6IEV4cHJlc3Npb24pOiBFeHByZXNzaW9uIHtcbiAgICAgICAgY29uc3QgbmV3RmFjdG9ycyA9IFsuLi50aGlzLmZhY3RvcnNdXG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBuZXdGYWN0b3JzLmZpbmRJbmRleCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGV4cFxuICAgICAgICB9KVxuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHJldHVybiB0aGlzXG5cbiAgICAgICAgbmV3RmFjdG9ycy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIGlmIChuZXdGYWN0b3JzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdGYWN0b3JzWzBdIC8vIEdhdXJhbnRlZWQgdGhlcmUncyBvbmUgdGVybSBoZXJlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb2R1Y3Qub2YobmV3RmFjdG9ycylcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBvdXQgPSBcIlwiXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBJZk5lZWRlZChleHA6IEV4cHJlc3Npb24pOiBzdHJpbmcge1xuICAgICAgICAgICAgaWYgKGV4cC5jbGFzcyA9PSBQcm9kdWN0VHlwZSB8fCBleHAuY2xhc3MgPT0gU3VtVHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8bW8+KDwvbW8+XCIgKyBleHAudG9NYXRoWE1MKCkgKyBcIjxtbz4pPC9tbz5cIlxuICAgICAgICAgICAgcmV0dXJuIGV4cC50b01hdGhYTUwoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgYSBuZWdhdGlvbiwgb3IgYSBsaXN0IG9mIHByb2R1Y3RzXG4gICAgICAgIC8vIEZpcnN0IHRoZSBuZWdhdGlvbiBjYXNlLi4uXG4gICAgICAgIGlmICh0aGlzLmlzTmVnYXRpb24pIHtcbiAgICAgICAgICAgIG91dCArPSBcIjxtbz4tPC9tbz5cIlxuICAgICAgICAgICAgb3V0ICs9IHdyYXBJZk5lZWRlZCh0aGlzLm5lZ2F0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIG91dFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgaXQncyBhIGxpc3Qgb2YgcHJvZHVjdHMuLi5cbiAgICAgICAgY29uc3QgZmlyc3RGYWN0b3IgPSB0aGlzLmZhY3RvcnNbMF1cbiAgICAgICAgb3V0ICs9IHdyYXBJZk5lZWRlZChmaXJzdEZhY3RvcilcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmZhY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmYWN0b3IgPSB0aGlzLmZhY3RvcnNbaV1cblxuICAgICAgICAgICAgbGV0IG5lZWRzRG90ID1cbiAgICAgICAgICAgICAgICAoZmFjdG9yLmNsYXNzID09IEludGVnZXJUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjdG9yc1tpIC0gMV0uY2xhc3MgPT0gSW50ZWdlclR5cGUpIHx8XG4gICAgICAgICAgICAgICAgKGZhY3RvciBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgZmFjdG9yLmlzTmVnYXRpb24pIHx8IC8vIElmIHRoZXJlJ3MgYSBuZWdhdGl2ZSBzaWduLCBnZXQgYSBkb3RcbiAgICAgICAgICAgICAgICAoZmFjdG9yIGluc3RhbmNlb2YgSW50ZWdlciAmJiBmYWN0b3IudmFsdWUgPCAxKVxuXG4gICAgICAgICAgICBpZiAobmVlZHNEb3QpIG91dCArPSBcIjxtbz7CtzwvbW8+XCJcbiAgICAgICAgICAgIG91dCArPSB3cmFwSWZOZWVkZWQoZmFjdG9yKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBOdW1iZXIgb2YgbmVnYXRpdmUgaW50ZWdlciBwcm9kdWN0cy5cbiAgICAgKi9cbiAgICBwcml2YXRlIG51bU5lZ2F0aXZlcygpOiBudW1iZXIge1xuICAgICAgICBsZXQgY291bnQgPSAwXG4gICAgICAgIHRoaXMuZmFjdG9ycy5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgaWYgKGYgaW5zdGFuY2VvZiBJbnRlZ2VyKSBpZiAoZi52YWx1ZSA8IDApIGNvdW50KytcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGNvdW50XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBvdXQgPSBcIlwiXG4gICAgICAgIGZvciAoY29uc3QgZXhwIG9mIHRoaXMuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gXCIoXCIgKyBleHAudG9TdHJpbmcoKSArIFwiKVwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSBleHAudG9TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9IFwiwrdcIlxuICAgICAgICB9XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aW9uKSByZXR1cm4gYC0oJHt0aGlzLm5lZ2F0aW9uLnRvVW5hbWJpZ2lvdXNTdHJpbmcoKX0pYFxuXG4gICAgICAgIGxldCBvdXQgPSBcIlwiXG4gICAgICAgIGZvciAoY29uc3QgZXhwIG9mIHRoaXMuZmFjdG9ycykge1xuICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gXCIoXCIgKyBleHAudG9TdHJpbmcoKSArIFwiKVwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSBleHAudG9TdHJpbmcoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9IFwiwrdcIlxuICAgICAgICB9XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGhhc2goKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiUHJvZHVjdFwiICsgdGhpcy5mYWN0b3JzLm1hcDxzdHJpbmc+KGUgPT4gZS5oYXNoKS5qb2luKClcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yc1xuICAgICAgICAgICAgLm1hcDxudW1iZXI+KGYgPT4gZi5ldmFsdWF0ZSh2YWx1ZXMpKVxuICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYSAqIGIpXG4gICAgfVxuXG4gICAgLy8gQXQgbGVhc3QgMiBlbGVtZW50cywgb3JkZXIgbWF0dGVyc1xuICAgIHB1YmxpYyByZWFkb25seSBmYWN0b3JzOiBFeHByZXNzaW9uW11cbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhc3M6IHN0cmluZyA9IFByb2R1Y3RUeXBlXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhblxuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGNvbnN0IFByb2R1Y3RUeXBlID0gXCJQcm9kdWN0XCJcblxuLyoqXG4gKiBDYW4gYmUgdXNlZCBpbiBhcnJheS5zb3J0KCkgdG8gZ2V0IHByb3Blcmx5IG9yZGVyZWQgcHJvZHVjdHMuXG4gKlxuICogQHBhcmFtIGFcbiAqIEBwYXJhbSBiXG4gKiBAcmV0dXJucyBQb3NpdGl2ZSBpZiBhIHNob3VsZCBiZSBhZnRlciBiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmYWN0b3JPcmRlcihhOiBFeHByZXNzaW9uLCBiOiBFeHByZXNzaW9uKTogbnVtYmVyIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIEludGVnZXIgJiYgYiBpbnN0YW5jZW9mIEludGVnZXIpIHJldHVybiAwXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBJbnRlZ2VyKSB7XG4gICAgICAgIHJldHVybiBhRmlyc3RcbiAgICB9XG5cbiAgICAvLyBBbHBoYWJldGljYWxcbiAgICBjb25zdCBzeW1iQTogc3RyaW5nIHwgbnVsbCA9XG4gICAgICAgIGEgaW5zdGFuY2VvZiBWYXJpYWJsZVxuICAgICAgICAgICAgPyBhLnN5bWJvbFxuICAgICAgICAgICAgOiBhIGluc3RhbmNlb2YgRXhwb25lbnRcbiAgICAgICAgICAgICAgPyBhLmJhc2UgaW5zdGFuY2VvZiBWYXJpYWJsZVxuICAgICAgICAgICAgICAgICAgPyBhLmJhc2Uuc3ltYm9sXG4gICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgOiBudWxsXG5cbiAgICBjb25zdCBzeW1iQjogc3RyaW5nIHwgbnVsbCA9XG4gICAgICAgIGIgaW5zdGFuY2VvZiBWYXJpYWJsZVxuICAgICAgICAgICAgPyBiLnN5bWJvbFxuICAgICAgICAgICAgOiBiIGluc3RhbmNlb2YgRXhwb25lbnRcbiAgICAgICAgICAgICAgPyBiLmJhc2UgaW5zdGFuY2VvZiBWYXJpYWJsZVxuICAgICAgICAgICAgICAgICAgPyBiLmJhc2Uuc3ltYm9sXG4gICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgOiBudWxsXG5cbiAgICBpZiAoc3ltYkEgIT0gbnVsbCAmJiBzeW1iQiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBzeW1iQSA+IHN5bWJCID8gYUZpcnN0IDogYUFmdGVyXG4gICAgfVxuXG4gICAgcmV0dXJuIDBcbn1cblxuY29uc3QgYUZpcnN0ID0gMVxuY29uc3QgYUFmdGVyID0gLTFcbiIsImltcG9ydCB7IGFzc2VydCB9IGZyb20gXCIuLi91dGlsL2Fzc2VydFwiXG5pbXBvcnQgeyBWYXJpYWJsZVZhbHVlTWFwIH0gZnJvbSBcIi4uL1ZhcmlhYmxlVmFsdWVNYXBcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgSW50ZWdlciwgSW50ZWdlclR5cGUgfSBmcm9tIFwiLi9JbnRlZ2VyXCJcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi9Qcm9kdWN0XCJcbmltcG9ydCB7IFZhcmlhYmxlVHlwZSB9IGZyb20gXCIuL1ZhcmlhYmxlXCJcblxuLyoqXG4gKiBFeHByZXNzaW9uIHJlcHJlc2VudGluZyB0aGUgc3VtIG9mIDIgb3IgbW9yZSB0ZXJtcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1bSBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgbWV0aG9kIGNvbnNudHJ1Y3Rvci5cbiAgICAgKiBAcGFyYW0gdGVybXMgQ29udGFpbnMgYXQgbGVhc3QgMiBlbGVtZW50c1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgb2YodGVybXM6IEV4cHJlc3Npb25bXSk6IFN1bSB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSB0ZXJtcy5tYXA8c3RyaW5nPih0ID0+IHQuaGFzaCkuam9pbihcIlwiKVxuICAgICAgICBpZiAoIVN1bS5pbnN0YW5jZXMuaGFzKGhhc2gpKSB7XG4gICAgICAgICAgICBTdW0uaW5zdGFuY2VzLnNldChoYXNoLCBuZXcgU3VtKHRlcm1zKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3VtLmluc3RhbmNlcy5nZXQoaGFzaCkhXG4gICAgfVxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IGluc3RhbmNlczogTWFwPHN0cmluZywgU3VtPiA9IG5ldyBNYXAoKVxuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcih0ZXJtczogRXhwcmVzc2lvbltdKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgYXNzZXJ0KHRlcm1zLmxlbmd0aCA+PSAyLCBcIkNyZWF0aW5nIHN1bSB3aXRoIGxlc3MgdGhhbiAyIHRlcm1zLlwiKVxuICAgICAgICB0aGlzLnRlcm1zID0gdGVybXNcbiAgICAgICAgdGhpcy5pc1JlZHVjaWJsZSA9IHRoaXMudGVybXNcbiAgICAgICAgICAgIC5tYXA8Ym9vbGVhbj4odCA9PiB0LmlzUmVkdWNpYmxlIHx8IHQuY2xhc3MgPT0gSW50ZWdlclR5cGUpXG4gICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBhICYmIGIpXG5cbiAgICAgICAgdGhpcy5pc0NvbnN0YW50ID0gdGhpcy50ZXJtc1xuICAgICAgICAgICAgLm1hcDxib29sZWFuPih0ID0+IHQuaXNDb25zdGFudClcbiAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IGEgJiYgYilcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzLnRlcm1zKVxuICAgICAgICB0aGlzLmNoaWxkQ291bnQgPVxuICAgICAgICAgICAgdGVybXMubGVuZ3RoICtcbiAgICAgICAgICAgIHRlcm1zLm1hcDxudW1iZXI+KHQgPT4gdC5jaGlsZENvdW50KS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgRXhwcmVzc2lvbiB3aXRob3V0IHRoZSBnaXZlbiB0ZXJtLlxuICAgICAqIElmIHRoZSBzdW0gY29udGFpbnMgdGhlIHRlcm0gbXVsdGlwbGUgdGltZXMsXG4gICAgICogb25seSByZW1vdmVzIG9uZS4gSWYgaXQgZG9lc24ndCBjb250YWluIHRoZSB0ZXJtLFxuICAgICAqIHJldHVybnMgaXRzZWxmLlxuICAgICAqIEBwYXJhbSB0ZXJtIEEgdGVybSBpbiB0aGlzIHN1bS5cbiAgICAgKi9cbiAgICBwdWJsaWMgd2l0aG91dCh0ZXJtOiBFeHByZXNzaW9uKTogRXhwcmVzc2lvbiB7XG4gICAgICAgIGNvbnN0IG5ld1Rlcm1zID0gWy4uLnRoaXMudGVybXNdXG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBuZXdUZXJtcy5maW5kSW5kZXgodmFsdWUgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0ZXJtXG4gICAgICAgIH0pXG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkgcmV0dXJuIHRoaXNcblxuICAgICAgICBuZXdUZXJtcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIGlmIChuZXdUZXJtcy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3VGVybXNbMF0gLy8gR2F1cmFudGVlZCB0aGVyZSdzIG9uZSB0ZXJtIGhlcmVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3VtLm9mKG5ld1Rlcm1zKVxuICAgIH1cblxuICAgIHB1YmxpYyB0b01hdGhYTUwoKTogc3RyaW5nIHtcbiAgICAgICAgZnVuY3Rpb24gd3JhcElmTmVlZGVkKGV4cDogRXhwcmVzc2lvbik6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoZXhwLmNsYXNzID09IFN1bVR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPG1vPig8L21vPlwiICsgZXhwLnRvTWF0aFhNTCgpICsgXCI8bW8+KTwvbW8+XCJcbiAgICAgICAgICAgIHJldHVybiBleHAudG9NYXRoWE1MKClcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBvdXQgPSB3cmFwSWZOZWVkZWQodGhpcy50ZXJtc1swXSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnRlcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXJtID0gdGhpcy50ZXJtc1tpXVxuICAgICAgICAgICAgLy8gU3VidHJhY3QgbmVnYXRpdmUgdGVybXMgaW5zdGVhZCBvZiBhZGRpbmcgbmVnYXRpdmVzXG4gICAgICAgICAgICBpZiAodGVybSBpbnN0YW5jZW9mIFByb2R1Y3QgJiYgdGVybS5pc05lZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFwiPG1vPi08L21vPlwiICsgd3JhcElmTmVlZGVkKHRlcm0ubmVnYXRpb24pXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRlcm0gaW5zdGFuY2VvZiBJbnRlZ2VyICYmIHRlcm0udmFsdWUgPCAwKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFwiPG1vPi08L21vPlwiICsgd3JhcElmTmVlZGVkKHRlcm0uYnV0UG9zaXRpdmUoKSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IFwiPG1vPis8L21vPlwiICsgd3JhcElmTmVlZGVkKHRoaXMudGVybXNbaV0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGV4cCBvZiB0aGlzLnRlcm1zKSB7XG4gICAgICAgICAgICBvdXQgKz0gZXhwLnRvU3RyaW5nKCkgKyBcIitcIlxuICAgICAgICB9XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcoMCwgb3V0Lmxlbmd0aCAtIDEpXG4gICAgICAgIHJldHVybiBvdXRcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9VbmFtYmlnaW91c1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICBsZXQgb3V0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGV4cCBvZiB0aGlzLnRlcm1zKSB7XG4gICAgICAgICAgICBvdXQgKz0gXCIoXCIgKyBleHAudG9VbmFtYmlnaW91c1N0cmluZygpICsgXCIpK1wiXG4gICAgICAgIH1cbiAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZygwLCBvdXQubGVuZ3RoIC0gMSlcbiAgICAgICAgcmV0dXJuIG91dFxuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgaGFzaCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJTdW1cIiArIHRoaXMudGVybXMubWFwPHN0cmluZz4oZSA9PiBlLmhhc2gpLmpvaW4oKVxuICAgIH1cblxuICAgIHB1YmxpYyBldmFsdWF0ZSh2YWx1ZXM6IFZhcmlhYmxlVmFsdWVNYXApOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXJtc1xuICAgICAgICAgICAgLm1hcDxudW1iZXI+KHQgPT4gdC5ldmFsdWF0ZSh2YWx1ZXMpKVxuICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpXG4gICAgfVxuXG4gICAgcHVibGljIHJlYWRvbmx5IGNsYXNzID0gU3VtVHlwZVxuICAgIC8qKlxuICAgICAqIE9yZGVyZWQsIGltbXV0YWJsZVxuICAgICAqL1xuICAgIHB1YmxpYyByZWFkb25seSB0ZXJtczogRXhwcmVzc2lvbltdXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuXG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNDb25zdGFudDogYm9vbGVhblxuICAgIHB1YmxpYyByZWFkb25seSBjaGlsZENvdW50OiBudW1iZXJcbn1cblxuZXhwb3J0IGNvbnN0IFN1bVR5cGUgPSBcIlN1bVwiXG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2l2ZW4gdGVybXMgb3JkZXJlZCBjb3JyZWN0bHkgdG9cbiAqIGJlIHBsYWNlZCBpbiBhIFN1bS4gQWx0ZXJzIHRoZSBnaXZlbiBhcnJheS5cbiAqIEBwYXJhbSB0ZXJtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJUZXJtcyguLi50ZXJtczogRXhwcmVzc2lvbltdKTogRXhwcmVzc2lvbltdIHtcbiAgICAvLyBBIG5vdGUgYWJvdXQgdGhlIHNvcnQgZnVuY3Rpb24gYmMgdGhlIGRvY3VtZW50YXRpb24gaXMgY3J5cHRpY1xuICAgIC8vIElmIGEgc2hvdWxkIGJlIHB1dCBiZWZvcmUgYiBpbiB0aGUgc3VtLCByZXR1cm4gYSBuZWdhdGl2ZSB2YWx1ZVxuICAgIHJldHVybiB0ZXJtcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIC8vIFZhcmlhYmxlcyBiZWZvcmUgSW50ZWdlcnNcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYS5jbGFzcyA9PSBJbnRlZ2VyVHlwZSAmJlxuICAgICAgICAgICAgKGIuY2xhc3MgPT0gVmFyaWFibGVUeXBlIHx8XG4gICAgICAgICAgICAgICAgKGIgaW5zdGFuY2VvZiBQcm9kdWN0ICYmXG4gICAgICAgICAgICAgICAgICAgIGIuaXNOZWdhdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBiLm5lZ2F0aW9uLmNsYXNzID09IFZhcmlhYmxlVHlwZSkpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoYS5jbGFzcyA9PSBWYXJpYWJsZVR5cGUgfHxcbiAgICAgICAgICAgICAgICAoYSBpbnN0YW5jZW9mIFByb2R1Y3QgJiZcbiAgICAgICAgICAgICAgICAgICAgYS5pc05lZ2F0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIGEubmVnYXRpb24uY2xhc3MgPT0gVmFyaWFibGVUeXBlKSkgJiZcbiAgICAgICAgICAgIGIuY2xhc3MgPT0gSW50ZWdlclR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gLTFcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwXG4gICAgfSlcbn1cbiIsImltcG9ydCB7IFZhcmlhYmxlVmFsdWVNYXAgfSBmcm9tIFwiLi4vVmFyaWFibGVWYWx1ZU1hcFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4vRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4vSW50ZWdlclwiXG5cbmV4cG9ydCBjbGFzcyBWYXJpYWJsZSBleHRlbmRzIEV4cHJlc3Npb24ge1xuICAgIHB1YmxpYyBzdGF0aWMgb2Yoc3ltYm9sOiBzdHJpbmcpOiBWYXJpYWJsZSB7XG4gICAgICAgIGlmIChWYXJpYWJsZS5pbnN0YW5jZXMuZ2V0KHN5bWJvbCkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWYXJpYWJsZS5pbnN0YW5jZXMuc2V0KHN5bWJvbCwgbmV3IFZhcmlhYmxlKHN5bWJvbCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFZhcmlhYmxlLmluc3RhbmNlcy5nZXQoc3ltYm9sKSFcbiAgICB9XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzID0gbmV3IE1hcDxzdHJpbmcsIFZhcmlhYmxlPigpXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihzeW1ib2w6IHN0cmluZykge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuc3ltYm9sID0gc3ltYm9sXG4gICAgfVxuXG4gICAgcHVibGljIGNsYXNzOiBzdHJpbmcgPSBWYXJpYWJsZVR5cGVcbiAgICBwdWJsaWMgdG9NYXRoWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIjxtaT5cIiArIHRoaXMuc3ltYm9sICsgXCI8L21pPlwiXG4gICAgfVxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2xcbiAgICB9XG4gICAgcHVibGljIHRvVW5hbWJpZ2lvdXNTdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBoYXNoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIlZhclwiICsgdGhpcy5zeW1ib2xcbiAgICB9XG5cbiAgICBwdWJsaWMgZXZhbHVhdGUodmFsdWVzOiBWYXJpYWJsZVZhbHVlTWFwKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcy52YWx1ZU9mKHRoaXMpXG4gICAgfVxuXG4gICAgcHVibGljIHJlYWRvbmx5IHN5bWJvbDogc3RyaW5nXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUmVkdWNpYmxlOiBib29sZWFuID0gZmFsc2VcblxuICAgIHB1YmxpYyByZWFkb25seSBpc0NvbnN0YW50ID0gZmFsc2VcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hpbGRDb3VudDogbnVtYmVyID0gMFxufVxuXG5leHBvcnQgY29uc3QgVmFyaWFibGVUeXBlID0gXCJWYXJpYWJsZVwiXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiLi4vR3JhcGhcIlxuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuLi9NYXRoR3JhcGhOb2RlXCJcbmltcG9ydCB7IFBhdGggfSBmcm9tIFwiLi9QYXRoXCJcblxuLyoqXG4gKiBUYWtlcyBhIGdyYXBoIGFuZCBjb2xsYXBzZXMgYW55IGFyZ3VtZW50cyB0aGF0IGFyZSBvYnZpb3VzLlxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJwcmV0ZXIge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb25maWc6IEludGVycHJldGVyU2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWdcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJvY2Vzc1BhdGgocGF0aDogUGF0aDxFeHByZXNzaW9uPik6IFNraXBTZXQge1xuICAgICAgICB0aGlzLmdyYXBoID0gcGF0aC5ncmFwaFxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU2tpcFNldCgpXG5cbiAgICAgICAgY29uc3Qgc2hvdWxkU2tpcCA9IChhcmc6IEFyZ3VtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuc2tpcHMuaGFzKGFyZy5ydWxlSWQpXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ3JhcGggPSB0aGlzLmdyYXBoXG5cbiAgICAgICAgZnVuY3Rpb24gcmVjdXJzaXZlQWRkKG5vZGU6IEV4cHJlc3Npb24pOiB2b2lkIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBmaW5kTmV4dChub2RlKVxuICAgICAgICAgICAgaWYgKG5leHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3VtZW50ID0gZ3JhcGguZ2V0RWRnZShcbiAgICAgICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5ub2Rlc1twYXRoLm5vZGVzLmluZGV4T2Yobm9kZSkgKyAxXVxuICAgICAgICAgICAgICAgICkgYXMgQXJndW1lbnRcbiAgICAgICAgICAgICAgICByZXN1bHQuYWRkU2tpcChub2RlLCB7IGU6IG5leHQsIGE6IGFyZ3VtZW50IH0pXG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlQWRkKG5leHQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXRzIHRoZSBuZXh0IGV4cHJlc3Npb24gdG8gc2hvdyBvciBudWxsIGlmIHRoZXJlXG4gICAgICAgIC8vIGlzbid0IG9uZS4gTmV2ZXIgcmV0dXJucyB0aGUgZ2l2ZW4gZXhwcmVzc2lvblxuICAgICAgICBmdW5jdGlvbiBmaW5kTmV4dChub2RlOiBFeHByZXNzaW9uKTogRXhwcmVzc2lvbiB8IG51bGwge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gcGF0aC5ub2Rlcy5pbmRleE9mKG5vZGUpXG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gcGF0aC5ub2Rlc1tpbmRleCArIDFdXG4gICAgICAgICAgICBpZiAobmV4dCA9PSB1bmRlZmluZWQpIHJldHVybiBudWxsXG5cbiAgICAgICAgICAgIGlmIChzaG91bGRTa2lwKGdyYXBoLmdldEVkZ2Uobm9kZSwgbmV4dCkgYXMgQXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmROZXh0KG5leHQpID8/IG5leHRcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gbmV4dFxuICAgICAgICB9XG5cbiAgICAgICAgcmVjdXJzaXZlQWRkKHBhdGgubm9kZXNbMF0pXG5cbiAgICAgICAgdGhpcy5ncmFwaCA9IG51bGxcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIHByaXZhdGUgaGFzT25lT3V0RWRnZShub2RlOiBNYXRoR3JhcGhOb2RlKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoPy5nZXREZWdyZWUobm9kZSwgXCJvdXRcIikgPT0gMVxuICAgIH1cblxuICAgIC8vIE51bGwgYWZ0ZXIgZXZlcnkgcHJvY2VzcyBjYWxsLlxuICAgIHByaXZhdGUgZ3JhcGg6IEdyYXBoIHwgbnVsbCA9IG51bGxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogSW50ZXJwcmV0ZXJTZXR0aW5nc1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludGVycHJldGVyU2V0dGluZ3Mge1xuICAgIC8qKlxuICAgICAqIFNldCBvZiBydWxlIGlkcy4gQXJndW1lbnRzIGdlbmVyYXRlZCBieSB0aGVzZSBydWxlc1xuICAgICAqIHdpbGwgYmUgYnJpZGdlZCBvdmVyIGluIHRoZSBncmFwaC5cbiAgICAgKi9cbiAgICBza2lwczogU2V0PHN0cmluZz5cbn1cblxuaW50ZXJmYWNlIFNraXAge1xuICAgIHJlYWRvbmx5IGE6IEFyZ3VtZW50XG4gICAgcmVhZG9ubHkgZTogRXhwcmVzc2lvblxufVxuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIGV4cHJlc3Npb25zLlxuICogVE9ETzogRmlndXJlIG91dCBhcmd1bWVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTa2lwU2V0IHtcbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgbmV4dCBleHByZXNzaW9uIHRoYXQgc2hvdWxkIGJlIGRpc3BsYXllZC5cbiAgICAgKiBUaGUgaW5wdXQgYW5kIHJlc3VsdCBleHByZXNzaW9uIHNob3VsZCBiZSBkaXNwbGF5ZWQgYXNcbiAgICAgKiBjb25uZWN0ZWQgYnkgdGhlIGlucHV0J3Mgb3V0IGFyZ3VtZW50LCB3aGljaCBpcyBwcm92aWRlZFxuICAgICAqIGluIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiBUaGVyZSB3aWxsIGJlXG4gICAgICogZXhhY3RseSBvbmUgc2ltcGxlIHBhdGggY29ubmVjdGluZyB0aGUgb3V0cHV0IGFuZFxuICAgICAqIHJlc3VsdC5cbiAgICAgKiBAcGFyYW0gaW5wdXRcbiAgICAgKiBAcmV0dXJuIE51bGwgaWYgdGhlIGlucHV0IGhhcyBubyBza2lwIG1hcHBlZCB0byBpdC5cbiAgICAgKi9cbiAgICBwdWJsaWMgbmV4dChpbnB1dDogRXhwcmVzc2lvbik6IFNraXAgfCBudWxsIHtcbiAgICAgICAgaWYgKHRoaXMuc2tpcHMuaGFzKGlucHV0KSkgcmV0dXJuIHRoaXMuc2tpcHMuZ2V0KGlucHV0KSFcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBzdGFydCBlbmQgcGFpciB0byB0aGUgc2tpcCBzZXQuIElmIGFscmVhZHkgaW5jbHVkZWQsXG4gICAgICogZG9lcyBub3RoaW5nLiBJZiB0aGUgZ2l2ZW4gc3RhcnQgYWxyZWFkeSBoYXMgYW4gZW5kIGFzc2lnbmVkXG4gICAgICogYW5kIHRoZSBhc3NpZ25lZCAvPSB0aGUgZ2l2ZW4gZW5kLCB0aHJvd3MuIElmIHN0YXJ0ID09IGVuZCxcbiAgICAgKiBkb2VzIG5vdGhpbmcuXG4gICAgICogQHBhcmFtIHN0YXJ0XG4gICAgICogQHBhcmFtIGVuZFxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRTa2lwKHN0YXJ0OiBFeHByZXNzaW9uLCBlbmQ6IFNraXApOiB2b2lkIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09IGVuZC5lKSByZXR1cm5cbiAgICAgICAgaWYgKHRoaXMuc2tpcHMuaGFzKHN0YXJ0KSAmJiB0aGlzLnNraXBzLmdldChzdGFydCkhICE9IGVuZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFkZGluZyBhbm90aGVyIGVuZCB0byBTa2lwU2V0XCIpXG4gICAgICAgIHRoaXMuc2tpcHMuc2V0KHN0YXJ0LCBlbmQpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBza2lwcyA9IG5ldyBNYXA8RXhwcmVzc2lvbiwgeyBlOiBFeHByZXNzaW9uOyBhOiBBcmd1bWVudCB9PigpXG59XG4iLCJpbXBvcnQgeyBHcmFwaCB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBNYXRoR3JhcGhOb2RlIH0gZnJvbSBcIi4uL01hdGhHcmFwaE5vZGVcIlxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwYXRoIG9mIGdyYXBocy5cbiAqIEltbXV0YWJsZVxuICovXG5leHBvcnQgY2xhc3MgUGF0aDxUIGV4dGVuZHMgTWF0aEdyYXBoTm9kZT4gaW1wbGVtZW50cyBJdGVyYWJsZTxNYXRoR3JhcGhOb2RlPiB7XG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGdyYXBoOiBHcmFwaCwgLi4ubm9kZXM6IFRbXSkge1xuICAgICAgICB0aGlzLm5vZGVzID0gbm9kZXNcbiAgICAgICAgdGhpcy5ncmFwaCA9IGdyYXBoXG4gICAgfVxuXG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmF0b3I8TWF0aEdyYXBoTm9kZSwgYW55LCB1bmRlZmluZWQ+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIilcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgbm9kZXM6IFRbXVxuICAgIHB1YmxpYyByZWFkb25seSBncmFwaDogR3JhcGhcbn1cbiIsImltcG9ydCB7IEFyZ3VtZW50IH0gZnJvbSBcIi4uL0FyZ3VtZW50XCJcbmltcG9ydCB7IEdyYXBoTm9kZVZpZXcgfSBmcm9tIFwiLi9HcmFwaE5vZGVWaWV3XCJcblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGFyZ3VtZW50IG5vZGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcmd1bWVudE5vZGVWaWV3IGV4dGVuZHMgR3JhcGhOb2RlVmlldyB7XG4gICAgY29uc3RydWN0b3IoYXJnOiBBcmd1bWVudCwgc2V0U3R5bGU6ICh2aWV3OiBHcmFwaE5vZGVWaWV3KSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKHNldFN0eWxlKVxuICAgICAgICB0aGlzLmFyZ3VtZW50ID0gYXJnXG4gICAgfVxuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdGhpcy5hcmd1bWVudC5hcmd1bWVudFxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJhcmd1bWVudFwiKVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJndW1lbnQ6IEFyZ3VtZW50XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImFyZ3VtZW50LW5vZGV2aWV3XCIsIEFyZ3VtZW50Tm9kZVZpZXcsIHsgZXh0ZW5kczogXCJkaXZcIiB9KVxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgR3JhcGhFZGdlIH0gZnJvbSBcIi4uL0dyYXBoXCJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcCB9IGZyb20gXCIuLi9SZWxhdGlvbnNoaXBcIlxuaW1wb3J0IHsgdWlQcmVmZXJlbmNlcyB9IGZyb20gXCIuL1VJUHJlZmVyZW5jZXNcIlxuaW1wb3J0IHsgV2ViR3JhcGhWaWV3IH0gZnJvbSBcIi4vV2ViR3JhcGhWaWV3XCJcbmltcG9ydCB7IEdpdmVuRWRnZSB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBNYXRoR3JhcGhOb2RlIH0gZnJvbSBcIi4uL01hdGhHcmFwaE5vZGVcIlxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4uL3V0aWwvYXNzZXJ0XCJcblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGVkZ2UgaW4gYSBncmFwaC5cbiAqL1xuZXhwb3J0IGNsYXNzIEVkZ2VWaWV3IGV4dGVuZHMgSFRNTFBhcmFncmFwaEVsZW1lbnQge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgb3duZXI6IFdlYkdyYXBoVmlldyxcbiAgICAgICAgZWRnZTogeyBuOiBNYXRoR3JhcGhOb2RlOyBuMTogTWF0aEdyYXBoTm9kZTsgZTogR3JhcGhFZGdlIH1cbiAgICApIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLm93bmVyID0gb3duZXJcbiAgICAgICAgdGhpcy5lZGdlID0gZWRnZS5lXG4gICAgICAgIHRoaXMuZmlyc3QgPSBlZGdlLm5cbiAgICAgICAgdGhpcy5zZWNvbmQgPSBlZGdlLm4xXG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcy5lZGdlKVxuXG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgdGhpcy5zdHlsZS5wYWRkaW5nID0gXCIwXCJcbiAgICAgICAgdGhpcy5zdHlsZS56SW5kZXggPSBcIi0yXCJcbiAgICAgICAgdGhpcy5zdHlsZS5tYXJnaW4gPSBcIjBcIlxuICAgICAgICB0aGlzLnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiXG4gICAgICAgIHRoaXMuc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIlxuICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHVpUHJlZmVyZW5jZXMuZWRnZUVxdWFsc0JhY2tncm91bmRDb2xvclxuICAgICAgICB0aGlzLnN0eWxlLnVzZXJTZWxlY3QgPSBcIm5vbmVcIlxuICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIlxuXG4gICAgICAgIHVpUHJlZmVyZW5jZXMub25VcGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB1aVByZWZlcmVuY2VzLmVkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLm93bmVyLmVkZ2VDbGlja2VkKHRoaXMsIGV2ZW50KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCBldmVudCA9PiB7fSlcblxuICAgICAgICB0aGlzLnJlcE9rKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHJvdGF0aW9uIGFuZ2xlIG9mIHZpZXcgd2hpbGUgYWxzb1xuICAgICAqIGxldHRpbmcgaXQga25vdyB0aGUgYW5nbGUgaGFzIGNoYW5nZWQuXG4gICAgICogQHBhcmFtIHJhZFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRBbmdsZShyYWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnN0eWxlLnJvdGF0ZSA9IFwiXCIgKyByYWQgKyBcInJhZFwiXG4gICAgICAgIC8vdGhpcy50ZXh0Q29udGVudCA9IFwiXCIgKyAocmFkICogMiAqIE1hdGguUEkgLyAzNjApLnRvRml4ZWQoMikgKyBcImRlZ1wiXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBlbGVtZW50IHNjcmVlbiB3aWR0aCBhbmQgZW5zdXJlcyB0ZXh0IGZpdHNcbiAgICAgKiBpbnNpZGUgdGhlIGVkZ2UuXG4gICAgICovXG4gICAgcHVibGljIHNldCB3aWR0aCh2YWw6IHN0cmluZykge1xuICAgICAgICBzdXBlci5zdHlsZS53aWR0aCA9IHZhbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGVsZW1lbnQgaXMgY29ubmN0ZWQgdG8gdGhlIERPTS5cbiAgICAgKi9cbiAgICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmVkZ2UgaW5zdGFuY2VvZiBBcmd1bWVudCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IFwiXCIgKyB0aGlzLmVkZ2UuY2xhaW0uclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWRnZSBpbnN0YW5jZW9mIEdpdmVuRWRnZSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IFwiXCIgKyB0aGlzLmVkZ2UuclxuICAgICAgICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIGZvciBcIiArIHRoaXMuZWRnZSlcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlcE9rKCk6IHZvaWQge1xuICAgICAgICBhc3NlcnQodGhpcy5maXJzdCAhPSB1bmRlZmluZWQpXG4gICAgICAgIGFzc2VydCh0aGlzLnNlY29uZCAhPSB1bmRlZmluZWQpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBvd25lcjogV2ViR3JhcGhWaWV3XG4gICAgcHVibGljIHJlYWRvbmx5IGVkZ2U6IEdyYXBoRWRnZVxuICAgIHB1YmxpYyByZWFkb25seSBmaXJzdDogTWF0aEdyYXBoTm9kZVxuICAgIHB1YmxpYyByZWFkb25seSBzZWNvbmQ6IE1hdGhHcmFwaE5vZGVcbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiZWRnZS12aWV3XCIsIEVkZ2VWaWV3LCB7IGV4dGVuZHM6IFwicFwiIH0pXG4iLCJpbXBvcnQgeyBNYXRoRWxlbWVudCB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9NYXRoRWxlbWVudFwiXG5cbi8qKlxuICogRGlzcGxheXMgbWF0aCBhbmQgaXMgZWRpdGFibGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGl0YWJsZU1hdGhWaWV3IGV4dGVuZHMgSFRNTERpdkVsZW1lbnQge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHt9KVxuICAgIH1cblxuICAgIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHt9XG5cbiAgICBwdWJsaWMgc2V0IHZhbHVlKGU6IE1hdGhFbGVtZW50IHwgbnVsbCkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IGVcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPVxuICAgICAgICAgICAgXCI8bWF0aCBkaXNwbGF5PSdibG9jayc+XCIgKyAoZT8udG9NYXRoWE1MKCkgPz8gXCJcIikgKyBcIjwvbWF0aD5cIlxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGwgPT4gbCh0aGlzLl92YWx1ZSkpXG4gICAgICAgIE1hdGhKYXgudHlwZXNldChbdGhpc10pXG4gICAgfVxuXG4gICAgcHVibGljIGdldCB2YWx1ZSgpOiBNYXRoRWxlbWVudCB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0ZW5lciB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgbWF0aFxuICAgICAqIGluIHRoZSB2aWV3IGlzIGVkaXRlZC5cbiAgICAgKiBAcGFyYW0gbFxuICAgICAqL1xuICAgIHB1YmxpYyBhZGRFZGl0TGlzdGVuZXIobDogRWRpdGFibGVNYXRoTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsKVxuICAgIH1cbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogRWRpdGFibGVNYXRoTGlzdGVuZXJbXSA9IFtdXG4gICAgcHJpdmF0ZSBfdmFsdWU6IE1hdGhFbGVtZW50IHwgbnVsbCA9IG51bGxcbn1cblxuZXhwb3J0IHR5cGUgRWRpdGFibGVNYXRoTGlzdGVuZXIgPSAoZTogTWF0aEVsZW1lbnQgfCBudWxsKSA9PiB2b2lkXG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImVkaXRhYmxlLW1hdGh2aWV3XCIsIEVkaXRhYmxlTWF0aFZpZXcsIHsgZXh0ZW5kczogXCJkaXZcIiB9KVxuXG5kZWNsYXJlIGNvbnN0IE1hdGhKYXg6IGFueVxuIiwiaW1wb3J0IHsgQXJndW1lbnQgfSBmcm9tIFwiLi4vQXJndW1lbnRcIlxuaW1wb3J0IHsgRXhwcmVzc2lvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9FeHByZXNzaW9uXCJcbmltcG9ydCB7IEdyYXBoRWRnZSB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBpbk1hdGgsIGluTWF0aEJsb2NrLCBpblJvdyB9IGZyb20gXCIuLi91dGlsL01hdGhNTEhlbHBlcnNcIlxuXG5leHBvcnQgY2xhc3MgRXhwbGFuYXRpb25Qb3B1cCBleHRlbmRzIEhUTUxEaXZFbGVtZW50IHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmdcbiAgICAgKiBAcGFyYW0gb25DbG9zZSBDYWxsZWQgYWZ0ZXIgdXNlciBjbGlja3MgY2xvc2UgYnV0dG9uLlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhcmc6IEFyZ3VtZW50LCBvbkNsb3NlOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5hcmcgPSBhcmdcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gb25DbG9zZVxuXG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJcIilcbiAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpXG4gICAgICAgIH0pXG4gICAgICAgIGNsb3NlQnV0dG9uLnRleHRDb250ZW50ID0gXCJDbG9zZVwiXG4gICAgICAgIGNsb3NlQnV0dG9uLnN0eWxlLnVzZXJTZWxlY3QgPSBcIm5vbmVcIlxuICAgICAgICBjbG9zZUJ1dHRvbi5zdHlsZS5mbG9hdCA9IFwicmlnaHRcIlxuICAgICAgICB0aGlzLmFwcGVuZChjbG9zZUJ1dHRvbilcblxuICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICB0ZXh0LmlubmVySFRNTCA9IGFyZy5hcmd1bWVudCArIFwiPGJyPlwiXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGFyZy5jbGFpbS5uIGluc3RhbmNlb2YgRXhwcmVzc2lvbiAmJlxuICAgICAgICAgICAgYXJnLmNsYWltLm4xIGluc3RhbmNlb2YgRXhwcmVzc2lvblxuICAgICAgICApXG4gICAgICAgICAgICB0ZXh0LmlubmVySFRNTCArPVxuICAgICAgICAgICAgICAgIGluTWF0aEJsb2NrKFxuICAgICAgICAgICAgICAgICAgICBpblJvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZy5jbGFpbS5uLnRvTWF0aFhNTCgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiA8bW8+XCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZy5jbGFpbS5yICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvbW8+IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmcuY2xhaW0ubjEudG9NYXRoWE1MKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkgKyBcIjxicj4gRGVyaXZlZCBmcm9tOiA8YnI+XCJcbiAgICAgICAgZm9yIChjb25zdCBncm91bmQgb2YgYXJnLmdyb3VuZHMpIHtcbiAgICAgICAgICAgIGlmIChncm91bmQgaW5zdGFuY2VvZiBFeHByZXNzaW9uKVxuICAgICAgICAgICAgICAgIHRleHQuaW5uZXJIVE1MICs9IGluTWF0aChncm91bmQudG9NYXRoWE1MKCkpICsgXCI8YnI+XCJcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwcGVuZCh0ZXh0KVxuXG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiXG4gICAgICAgIHRoaXMuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIlxuICAgICAgICB0aGlzLnN0eWxlLmJveFNoYWRvdyA9IFwiMC4zY2ggMC4zY2ggMC42Y2ggcmdiYSgwLCAwLCAwLCAwLjUpXCJcbiAgICAgICAgdGhpcy5zdHlsZS5wYWRkaW5nID0gXCIxY2hcIlxuICAgICAgICB0aGlzLnN0eWxlLndpZHRoID0gXCJmaXQtY29udGVudFwiXG4gICAgICAgIHRoaXMuc3R5bGUuekluZGV4ID0gXCIxNVwiXG4gICAgfVxuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgICAgICBNYXRoSmF4LnR5cGVzZXQoW3RoaXNdKVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgYXJnOiBBcmd1bWVudFxuICAgIHByaXZhdGUgcmVhZG9ubHkgb25DbG9zZTogKCkgPT4gdm9pZFxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJleHBsYW5hdGlvbi1wb3B1cFwiLCBFeHBsYW5hdGlvblBvcHVwLCB7IGV4dGVuZHM6IFwiZGl2XCIgfSlcblxuZGVjbGFyZSBjb25zdCBNYXRoSmF4OiBhbnlcbiIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9WYXJpYWJsZVwiXG5pbXBvcnQgeyBFZGl0YWJsZU1hdGhWaWV3IH0gZnJvbSBcIi4vRWRpdGFibGVNYXRoVmlld1wiXG5pbXBvcnQgeyBHcmFwaE5vZGVWaWV3IH0gZnJvbSBcIi4vR3JhcGhOb2RlVmlld1wiXG5cbi8qKlxuICogQSBncmFwaCBub2RlIHZpZXcgZm9yIGV4cHJlc3Npb24gbm9kZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uTm9kZVZpZXcgZXh0ZW5kcyBHcmFwaE5vZGVWaWV3IHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIG5vZGU6IEV4cHJlc3Npb24sXG4gICAgICAgIHNldFN0eWxlOiAodmlldzogR3JhcGhOb2RlVmlldykgPT4gdm9pZFxuICAgICkge1xuICAgICAgICBzdXBlcihzZXRTdHlsZSlcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZVxuXG4gICAgICAgIHRoaXMuZWRpdGFibGVNYXRoVmlldyA9IG5ldyBFZGl0YWJsZU1hdGhWaWV3KClcbiAgICAgICAgdGhpcy5lZGl0YWJsZU1hdGhWaWV3LnZhbHVlID0gdGhpcy5ub2RlXG4gICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy5lZGl0YWJsZU1hdGhWaWV3KVxuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubm9kZS50b1VuYW1iaWdpb3VzU3RyaW5nKCkpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJleHByZXNzaW9uXCIpXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG5vZGU6IEV4cHJlc3Npb25cbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkaXRhYmxlTWF0aFZpZXc6IEVkaXRhYmxlTWF0aFZpZXdcbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcImV4cHJlc3Npb24tbm9kZXZpZXdcIiwgRXhwcmVzc2lvbk5vZGVWaWV3LCB7XG4gICAgZXh0ZW5kczogXCJkaXZcIlxufSlcblxuY29uc3QgY29sb3JVbmhlYWx0aHlOb2RlcyA9IHRydWVcbiIsIi8qKlxuICogQW4gaHRtbCBlbGVtZW50IHRoYXQgcmVwcmVzZW50cyBhIG1hdGggZ3JhcGggbm9kZS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEdyYXBoTm9kZVZpZXcgZXh0ZW5kcyBIVE1MRGl2RWxlbWVudCB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2V0U3R5bGUgRnVuY3Rpb24gdGhhdCB3aGVuIGNhbGxlZFxuICAgICAqICBzaG91bGQgc2V0IHRoZSBzdHlsZSBmb3IgdGhpcyB2aWV3LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNldFN0eWxlOiAodmlldzogR3JhcGhOb2RlVmlldykgPT4gdm9pZCkge1xuICAgICAgICBzdXBlcigpXG5cbiAgICAgICAgdGhpcy5zdHlsZS5wYWRkaW5nID0gXCIxY2hcIlxuICAgICAgICB0aGlzLnN0eWxlLndpZHRoID0gXCJmaXQtY29udGVudFwiXG4gICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCJmaXQtY29udGVudFwiXG4gICAgICAgIHRoaXMuc3R5bGUud2hpdGVTcGFjZSA9IFwibm93cmFwXCJcblxuICAgICAgICBzZXRTdHlsZSh0aGlzKVxuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgYmFja2dyb3VuZENvbG9yKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZVxuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkXG59XG4iLCIvKipcbiAqIEludGVycHJldCBjb21wbGljYXRlZCB0b3VjaCBnZXN0dXJlIGRhdGEuXG4gKi9cbmV4cG9ydCBjbGFzcyBUb3VjaEdlc3R1cmVSZWNvZ25pemVyIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubW92ZUxpc3RlbmVycyA9IFtdXG4gICAgICAgIHRoaXMucGluY2hMaXN0ZW5lcnMgPSBbXVxuICAgIH1cblxuICAgIHB1YmxpYyBhZGRNb3ZlTGlzdGVuZXIoY2FsbGJhY2s6IE1vdmVMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICB0aGlzLm1vdmVMaXN0ZW5lcnMucHVzaChjYWxsYmFjaylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIGEgcGluY2ggZ2VzdHVyZSBoYXMgYmVlbiBkZXRlY3RlZC5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGFrZXMgYSBjZW50ZXIgY29vcmRpbmF0ZSB0aGF0J3MgdGhlIGF2ZXJhZ2Ugb2YgdGhlIGZpbmdlciBwb3NpdGlvbnMsXG4gICAgICogICAgICAgICAgICAgIHRoZSBjaGFuZ2UgaW4gc2NhbGUgc2luY2UgdGhlIGxhc3QgY2FsbCBvbiAoMCwgaW5maW5pdHkpIHdoZXJlIDEgaXMgbm8gY2hhbmdlLFxuICAgICAqICAgICAgICAgICAgICBhbmQgdGhlIG51bWJlciBvZiBmaW5nZXJzIGluIHRoZSBnZXN0dXJlIChhbiBpbnRlZ2VyKS5cbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkUGluY2hMaXN0ZW5lcihjYWxsYmFjazogUGluY2hMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICB0aGlzLnBpbmNoTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRha2UgYWxsIHRvdWNoIGV2ZW50cyBmcm9tIHRoZSB2aWV3IHVzaW5nIGl0LlxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIHB1YmxpYyBwcm9jZXNzVG91Y2hEb3duKGV2ZW50OiBFdmVudCk6IHZvaWQge31cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGFrZSBhbGwgdG91Y2ggZXZlbnRzIGZyb20gdGhlIHZpZXcgdXNpbmcgaXQuXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgcHVibGljIHByb2Nlc3NUb3VjaE1vdmUoZXZlbnQ6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGFuZ2VkIG9mIGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICBjaGFuZ2VkLmNsaWVudFhcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGFrZSBhbGwgdG91Y2ggZXZlbnRzIGZyb20gdGhlIHZpZXcgdXNpbmcgaXQuXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgcHVibGljIHByb2Nlc3NUb3VjaEVuZChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge31cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGFrZSBhbGwgdG91Y2ggZXZlbnRzIGZyb20gdGhlIHZpZXcgdXNpbmcgaXQuXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgcHVibGljIHByb2Nlc3NUb3VjaENhbmNlbChldmVudDogVG91Y2hFdmVudCk6IHZvaWQge31cblxuICAgIC8vcHJpdmF0ZSBsYXN0WDogTWFwPFRvdWNoXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG1vdmVMaXN0ZW5lcnM6IE1vdmVMaXN0ZW5lcltdXG4gICAgcHJpdmF0ZSByZWFkb25seSBwaW5jaExpc3RlbmVyczogUGluY2hMaXN0ZW5lcltdXG59XG5cbmV4cG9ydCB0eXBlIE1vdmVMaXN0ZW5lciA9IChcbiAgICBkZWx0YVg6IG51bWJlcixcbiAgICBkZWx0YVk6IG51bWJlcixcbiAgICBmaW5nZXJzOiBudW1iZXJcbikgPT4gdm9pZFxuZXhwb3J0IHR5cGUgUGluY2hMaXN0ZW5lciA9IChcbiAgICBjZW50ZXI6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSxcbiAgICBzY2FsZURlbHRhOiBudW1iZXIsXG4gICAgZmluZ2VyczogbnVtYmVyXG4pID0+IHZvaWRcbiIsImNsYXNzIFVJUHJlZmVyZW5jZXMge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBGdW5jdGlvbiBjYWxsZWQgd2hlbmV2ZXIgYSB1aSBwcmVmZXJlbmNlXG4gICAgICogaXMgY2hhbmdlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgb25VcGRhdGUoY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaChjYWxsYmFjaylcbiAgICB9XG5cbiAgICAvLyBHZXR0ZXJzIGFuZCBTZXR0ZXJzXG5cbiAgICAvKipcbiAgICAgKiBCYWNrZ3JvdW5kIGNvbG9yIG9mIGEgZ3JhcGggZWRnZSBkZW5vdGluZ1xuICAgICAqIGVxdWFsaXR5IGJldHdlZW4gdHdvIGV4cHJlc3Npb25zLlxuICAgICAqIENzcyB2YWx1ZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGVkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3IoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3JcbiAgICB9XG4gICAgcHVibGljIHNldCBlZGdlRXF1YWxzQmFja2dyb3VuZENvbG9yKHZhbDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2VkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3IgPSB2YWxcbiAgICAgICAgdGhpcy5jYWxsYmFja3MuZm9yRWFjaChjID0+IGMoKSlcbiAgICB9XG5cbiAgICAvLyBQcmVmZXJlbmNlIFZhbHVlc1xuICAgIHByaXZhdGUgX2VkZ2VFcXVhbHNCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZyA9IFwibm9uZVwiXG4gICAgcHJpdmF0ZSByZWFkb25seSBjYWxsYmFja3M6ICgoKSA9PiB2b2lkKVtdID0gW11cbn1cblxuZXhwb3J0IGNvbnN0IHVpUHJlZmVyZW5jZXMgPSBuZXcgVUlQcmVmZXJlbmNlcygpXG4iLCJpbXBvcnQgeyBBcmd1bWVudCB9IGZyb20gXCIuLi9Bcmd1bWVudFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuaW1wb3J0IHsgR3JhcGhFZGdlLCBHcmFwaCB9IGZyb20gXCIuLi9HcmFwaFwiXG5pbXBvcnQgeyBSZWxhdGlvbnNoaXAgfSBmcm9tIFwiLi4vUmVsYXRpb25zaGlwXCJcbmltcG9ydCB7IG51bSB9IGZyb20gXCIuLi9Db252ZW5pZW50RXhwcmVzc2lvbnNcIlxuaW1wb3J0IHsgR3JhcGhNaW5pcHVsYXRvciB9IGZyb20gXCIuLi9HcmFwaE1pbmlwdWxhdG9yXCJcbmltcG9ydCB7IGFzc2VydCwgZm9yX2FsbCwgZm9yX3NvbWUgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIlxuaW1wb3J0IHsgVG91Y2hHZXN0dXJlUmVjb2duaXplciB9IGZyb20gXCIuL1RvdWNoR2VzdHVyZVJlY29nbml6ZXJcIlxuaW1wb3J0IHsgRWRnZVZpZXcgfSBmcm9tIFwiLi9FZGdlVmlld1wiXG5pbXBvcnQgeyBFeHByZXNzaW9uTm9kZVZpZXcgfSBmcm9tIFwiLi9FeHByZXNzaW9uTm9kZVZpZXdcIlxuaW1wb3J0IHsgQXJndW1lbnROb2RlVmlldyB9IGZyb20gXCIuL0FyZ3VtZW50Tm9kZVZpZXdcIlxuaW1wb3J0IHsgR3JhcGhOb2RlVmlldyB9IGZyb20gXCIuL0dyYXBoTm9kZVZpZXdcIlxuaW1wb3J0IHsgRXhwbGFuYXRpb25Qb3B1cCB9IGZyb20gXCIuL0V4cGxhbmF0aW9uUG9wdXBcIlxuaW1wb3J0IHsgTWF0aEdyYXBoTm9kZSB9IGZyb20gXCIuLi9NYXRoR3JhcGhOb2RlXCJcbmltcG9ydCB7IG50aFJvb3REZXBlbmRlbmNpZXMsIG51bWJlciB9IGZyb20gXCJtYXRoanNcIlxuaW1wb3J0IHsgSW50ZXJwcmV0ZXIgfSBmcm9tIFwiLi4vaW50ZXJwcmV0aW5nL0ludGVycHJldGVyXCJcblxuLyoqXG4gKiBBIHVpIGVsZW1lbnQgdGhhdCB3aWxsIGRpc3BsYXkgYSBtYXRoIGdyYXBoIGluIGEgd2ViLlxuICovXG5leHBvcnQgY2xhc3MgV2ViR3JhcGhWaWV3IGV4dGVuZHMgSFRNTERpdkVsZW1lbnQge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBncmFwaCBNdXN0IGJlIGZ1bGx5IGNvbm5lY3RlZC5cbiAgICAgKiBAcGFyYW0gcm9vdHMgTm9uLWVtcHR5LlxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgICAgZ3JhcGg6IEdyYXBoLFxuICAgICAgICByb290czogU2V0PE1hdGhHcmFwaE5vZGU+LFxuICAgICAgICBpbnRlcnByZXRlcjogSW50ZXJwcmV0ZXIsXG4gICAgICAgIGNvbmZpZzogV2ViR3JhcGhWaWV3SW5pdFNldHRpbmdzIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICB0aGlzLm5vZGVzID0gbmV3IE1hcDxNYXRoR3JhcGhOb2RlLCBHcmFwaE5vZGVWaWV3PigpXG4gICAgICAgIHRoaXMub2Zmc2V0WCA9IDBcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gMFxuICAgICAgICB0aGlzLm5vZGVQb3NpdGlvbnMgPSBuZXcgTWFwKClcbiAgICAgICAgdGhpcy5lZGdlUG9zaXRpb25zID0gbmV3IE1hcCgpXG4gICAgICAgIHRoaXMuZWRnZXMgPSBuZXcgTWFwKClcbiAgICAgICAgdGhpcy5yaW5nRWxlbWVudHMgPSBuZXcgU2V0KClcbiAgICAgICAgdGhpcy5yaW5nUG9zaXRpb25zID0gbmV3IE1hcCgpXG4gICAgICAgIHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMgPSBbXVxuICAgICAgICB0aGlzLmludGVycHJldGVyID0gaW50ZXJwcmV0ZXJcblxuICAgICAgICBpZiAoY29uZmlnICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zaG93QXJndW1lbnRzID0gY29uZmlnLnNob3dBcmd1bWVudHNcbiAgICAgICAgICAgIHRoaXMuZHJhd0VkZ2VMaW5lcyA9IGNvbmZpZy5kcmF3RWRnZUxpbmVzXG4gICAgICAgICAgICB0aGlzLmRlYnVnQ29ybmVyRW5hYmxlZCA9IGNvbmZpZy5kZWJ1Z0Nvcm5lckVuYWJsZWRcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGUuY2xpcFBhdGggPSBcInBvbHlnb24oMCUgMCUsIDEwMCUgMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSlcIlxuICAgICAgICB0aGlzLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiXG4gICAgICAgIHRoaXMuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiXG5cbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy50b3VjaERvd24gPSBmYWxzZVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBldmVudCA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5tb3VzZURvd24pIHJldHVyblxuICAgICAgICAgICAgdGhpcy5vZmZzZXRYICs9IGV2ZW50Lm1vdmVtZW50WCAvIHRoaXMuc2NhbGVcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0WSArPSBldmVudC5tb3ZlbWVudFkgLyB0aGlzLnNjYWxlXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldCgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMpXG5cbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgZXZlbnQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbW91c2VQb3MgPSBQb2ludChldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKVxuXG4gICAgICAgICAgICBjb25zdCBzY2FsZURlbHRhID0gTWF0aC5wb3coMC44LCBldmVudC5kZWx0YVkgLyAzNjApXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGVEZWx0YSAqIHRoaXMuc2NhbGVcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyID0gbmV3IFRvdWNoR2VzdHVyZVJlY29nbml6ZXIoKVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcInRvdWNoZG93blwiLFxuICAgICAgICAgICAgdGhpcy5nZXN0dXJlUmVjb2duaXplci5wcm9jZXNzVG91Y2hEb3duXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgXCJ0b3VjaGVuZFwiLFxuICAgICAgICAgICAgdGhpcy5nZXN0dXJlUmVjb2duaXplci5wcm9jZXNzVG91Y2hFbmRcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcInRvdWNoY2FuY2VsXCIsXG4gICAgICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyLnByb2Nlc3NUb3VjaENhbmNlbFxuICAgICAgICApXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIFwidG91Y2htb3ZlXCIsXG4gICAgICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyLnByb2Nlc3NUb3VjaE1vdmVcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmdlc3R1cmVSZWNvZ25pemVyLmFkZFBpbmNoTGlzdGVuZXIoXG4gICAgICAgICAgICAoY2VudGVyLCBzY2FsZURlbHRhLCBmaW5nZXJzKSA9PiB7fVxuICAgICAgICApXG5cbiAgICAgICAgdGhpcy5zZXRHcmFwaChncmFwaCwgcm9vdHMpXG5cbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgcHVibGljIHNldEdyYXBoKGdyYXBoOiBHcmFwaCwgcm9vdHM6IFNldDxNYXRoR3JhcGhOb2RlPik6IHZvaWQge1xuICAgICAgICB0aGlzLmdyYXBoID0gZ3JhcGhcbiAgICAgICAgdGhpcy5yb290Tm9kZXMgPSBuZXcgU2V0KHJvb3RzKVxuXG4gICAgICAgIHRoaXMucmVhZEdyYXBoKClcbiAgICAgICAgdGhpcy5hcnJhbmdlKClcbiAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGZ1bmN0aW9uIHRoYXQgZGV0ZXJtaW5lcyB0aGUgY29sb3Igb2YgYSBub2RlLlxuICAgICAqIEBwYXJhbSBjb2xvckZuXG4gICAgICovXG4gICAgcHVibGljIHNldE5vZGVDb2xvcmluZ1NjaGVtZShjb2xvckZuOiAobjogTWF0aEdyYXBoTm9kZSkgPT4gc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubm9kZUNvbG9yRm4gPSBjb2xvckZuXG4gICAgICAgIHRoaXMucHJvcG9nYXRlU2V0dGluZ3NUb05vZGVzKClcbiAgICB9XG4gICAgcHJpdmF0ZSBub2RlQ29sb3JGbjogKG46IE1hdGhHcmFwaE5vZGUpID0+IHN0cmluZyA9IG4gPT4gXCJsaWdodGJsdWVcIlxuXG4gICAgcHJpdmF0ZSBwcm9wb2dhdGVTZXR0aW5nc1RvTm9kZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaCgodmlldywgbm9kZSkgPT4ge1xuICAgICAgICAgICAgdmlldy5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLm5vZGVDb2xvckZuKG5vZGUpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBpZiB0aGUgdmlldyBzaG91bGQgc2hvdyBhcmd1bWVudCBub2RlcyBhcyBub2Rlcy5cbiAgICAgKiBGYWxzZSBieSBkZWZhdWx0LlxuICAgICAqIEBwYXJhbSB2YWxcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0U2hvd0FyZ3VtZW50cyh2YWw6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5zaG93QXJndW1lbnRzID0gdHJ1ZVxuICAgICAgICB0aGlzLnJlYWRHcmFwaCgpXG4gICAgICAgIHRoaXMuYXJyYW5nZSgpXG4gICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0KClcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBjZW50ZXIoKTogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHRoaXMub2Zmc2V0V2lkdGggLyAyLFxuICAgICAgICAgICAgeTogdGhpcy5vZmZzZXRIZWlnaHQgLyAyXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb2xsb3dzIHRoZSBzaG93QXJndW1lbnQgc2V0dGluZy5cbiAgICAgKiBQb3B1bGF0ZXMgdGhpcy5ub2RlcywgdGhpcy5lZGdlcyxcbiAgICAgKiBhZGRzIHRoZSBjcmVhdGVkIHZpZXdzIHRvIHRoZSBzaGFkb3cgZG9tXG4gICAgICogdG8gbWF0Y2ggdGhlIGdyYXBoLlxuICAgICAqIFJlbW92ZXMgYW55IHByZS1leGlzdGluZyBlbGVtZW50cyBmcm9tIHRoZSBzaGFkb3cgZG9tLlxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZEdyYXBoKCk6IHZvaWQge1xuICAgICAgICAvLyBDbGVhciBleGlzdGluZ1xuICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goKHZpZXcsIG5vZGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodmlldylcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5ub2Rlcy5jbGVhcigpXG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaCgodmlldywgZWRnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh2aWV3KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmVkZ2VzLmNsZWFyKClcblxuICAgICAgICAvLyBGZXRjaCBub2Rlc1xuICAgICAgICB0aGlzLmdyYXBoLmdldE5vZGVzKCkuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgRXhwcmVzc2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRXhwcmVzc2lvbk5vZGVWaWV3KG5vZGUsIHRoaXMuYmFzZU5vZGVTdHlsZSlcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5zZXQobm9kZSwgdmlldylcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZCh2aWV3KVxuICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgQXJndW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hvd0FyZ3VtZW50cykgcmV0dXJuXG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBBcmd1bWVudE5vZGVWaWV3KG5vZGUsIHRoaXMuYmFzZU5vZGVTdHlsZSlcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5zZXQobm9kZSwgdmlldylcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZCh2aWV3KVxuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkdyYXBoIGNvbnRhaW5zIG5vZGUgV2ViR3JhcGhWaWV3IGNhbid0IHByb2Nlc3MuXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gRmV0Y2ggZWRnZXNcbiAgICAgICAgR3JhcGhNaW5pcHVsYXRvci5kcm9wU3ltbWV0cmljKHRoaXMuZ3JhcGguZ2V0RWRnZXMoKSlcbiAgICAgICAgICAgIC5maWx0ZXIoZWRnZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBjb25zaWRlciBlZGdlcyBmb3Igd2hpY2ggd2UgaGF2ZSBib3RoIGVuZHBvaW50cyBvbiB0aGUgdmlld1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVzLmhhcyhlZGdlLm4pICYmIHRoaXMubm9kZXMuaGFzKGVkZ2UubjEpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goZWRnZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBFZGdlVmlldyh0aGlzLCBlZGdlKVxuICAgICAgICAgICAgICAgIHZpZXcuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcbiAgICAgICAgICAgICAgICB0aGlzLmVkZ2VzLnNldChlZGdlLCB2aWV3KVxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKHZpZXcpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMucHJvcG9nYXRlU2V0dGluZ3NUb05vZGVzKClcblxuICAgICAgICBpZiAodGhpcy5kZWJ1Z0Nvcm5lckVuYWJsZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpXG4gICAgICAgICAgICBjb3JuZXIuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICBcIkdyYXBoIE5vZGVzOiBcIiArXG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaC5nZXROb2RlcygpLnNpemUgK1xuICAgICAgICAgICAgICAgIFwiPGJyPlwiICtcbiAgICAgICAgICAgICAgICBcIlZpc2libGUgTm9kZXM6IFwiICtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnNpemUgK1xuICAgICAgICAgICAgICAgIFwiPGJyPlwiICtcbiAgICAgICAgICAgICAgICBcIkdyYXBoIEVkZ2VzOiBcIiArXG4gICAgICAgICAgICAgICAgdGhpcy5ncmFwaC5nZXRFZGdlcygpLnNpemUgK1xuICAgICAgICAgICAgICAgIFwiPGJyPlwiICtcbiAgICAgICAgICAgICAgICBcIlZpc2libGUgRWRnZXM6IFwiICtcbiAgICAgICAgICAgICAgICB0aGlzLmVkZ2VzLnNpemUgK1xuICAgICAgICAgICAgICAgIFwiPGJyPlwiXG4gICAgICAgICAgICBjb3JuZXIuc3R5bGUuekluZGV4ID0gXCIxMDBcIlxuICAgICAgICAgICAgY29ybmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIlxuICAgICAgICAgICAgY29ybmVyLnN0eWxlLndpZHRoID0gXCJmaXQtY29udGVudFwiXG4gICAgICAgICAgICBjb3JuZXIuc3R5bGUubWFyZ2luID0gXCIwXCJcbiAgICAgICAgICAgIGNvcm5lci5zdHlsZS5wYWRkaW5nID0gXCIxY2hcIlxuICAgICAgICAgICAgY29ybmVyLnN0eWxlLmJvcmRlciA9IFwiYmxhY2sgMXB4IHNvbGlkXCJcbiAgICAgICAgICAgIGNvcm5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgdGhpcy5hcHBlbmQoY29ybmVyKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnJlYWRHcmFwaCgpXG4gICAgICAgIHRoaXMuYXJyYW5nZSgpXG4gICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0KClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQaWNrIHBsYWNlcyBmb3IgYWxsIHRoZSBub2Rlcy9lZGdlcyBvbiB0aGUgc2NyZWVuLlxuICAgICAqIFBvcHVsYXRlcyB0aGUgcG9zaXRpb24qIHJlcCB2YXJzLlxuICAgICAqL1xuICAgIHByaXZhdGUgYXJyYW5nZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ub2RlUG9zaXRpb25zLmNsZWFyKClcbiAgICAgICAgdGhpcy5lZGdlUG9zaXRpb25zLmNsZWFyKClcbiAgICAgICAgdGhpcy5yaW5nUG9zaXRpb25zLmNsZWFyKClcbiAgICAgICAgdGhpcy5yaW5nRWxlbWVudHMuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoZSlcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5yaW5nRWxlbWVudHMuY2xlYXIoKVxuXG4gICAgICAgIC8vIFBsYWNlIG5vZGVzIG9uIGEgc2VyaWVzIG9mIHJpbmdzIGZyb20gdGhlIGNlbnRlciB1c2luZyB0aGVpciBkZXB0aCBpbiB0aGUgZ3JhcGhcbiAgICAgICAgY29uc3QgbGV2ZWxzID0gR3JhcGhNaW5pcHVsYXRvci5nZXRMZXZlbHMoXG4gICAgICAgICAgICB0aGlzLmdyYXBoLFxuICAgICAgICAgICAgdGhpcy5yb290Tm9kZXMsXG4gICAgICAgICAgICBub2RlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEV4cHJlc3Npb24pIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIEFyZ3VtZW50KSByZXR1cm4gdGhpcy5zaG93QXJndW1lbnRzXG4gICAgICAgICAgICAgICAgZWxzZSB0aHJvdyBuZXcgRXJyb3IoXCJOZXcgdHlwZSBvZiBub2RlXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIClcblxuICAgICAgICBsZXQgbWF4RGVwdGggPSAwXG4gICAgICAgIGxldmVscy5mb3JFYWNoKChfLCBkZXB0aCkgPT4ge1xuICAgICAgICAgICAgbWF4RGVwdGggPSBNYXRoLm1heChtYXhEZXB0aCwgZGVwdGgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgY2VudGVyID0geyB4OiB0aGlzLmNsaWVudFdpZHRoIC8gMiwgeTogdGhpcy5jbGllbnRIZWlnaHQgLyAyIH1cbiAgICAgICAgbGV0IGxhc3RSYWRpdXMgPSAwIC8vcHhcbiAgICAgICAgLy8gUmVjb3JkIHRoZSBwb3NpdGlvbnMgb2YgdGhlIGxhc3QgcmluZyBzbyB0aGF0IHdlIGNhblxuICAgICAgICAvLyBtYWtlIHRoZSBncmFwaCBhcHBlYXIgcGxhbmFyLWlzaC4gTWFwcyBub2RlcyB0byBhbmdsZVxuICAgICAgICAvLyBvZmZzZXQgaW4gcmFkaWFucy4gQW5nbGUgbXVzdCBiZSA8IDIqUGlcbiAgICAgICAgbGV0IGxhc3RQb3NpdGlvbnM6IE1hcDxNYXRoR3JhcGhOb2RlLCBudW1iZXI+IHwgbnVsbCA9IG51bGxcbiAgICAgICAgZm9yIChsZXQgZGVwdGggPSAwOyBkZXB0aCA8IG1heERlcHRoICsgMTsgZGVwdGgrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSBsZXZlbHMuZ2V0KGRlcHRoKSFcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxjdWxhdGluZyB0aGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgICAgICAgICAqIFN1cHBvc2UgZXZlcnkgcm9vdCBub2RlIG9uIHRoZSBzdGFydGluZyBjaXJjbGUgcmVxdWlyZXNcbiAgICAgICAgICAgICAqIGEgY2lyY3VsYXIgc3BhY2UgdG8gYmUgZHJhd24gd2l0aCByYWRpdXMgbm9kZVJhZGl1c1xuICAgICAgICAgICAgICogQSBzdGFydGluZyBjaXJjbGUgd2l0aCBuIG9mIHRoZXNlIG5vZGVzIHdvdWxkIHJlcXVpcmUgYVxuICAgICAgICAgICAgICogY2lyY3VtZmVyZW5jZSBvZiBuICogMm5vZGVSYWRpdXMuXG4gICAgICAgICAgICAgKiBUaGUgY2lyY3VtZmVyZW5jZSBvZiBhIGNpcmNsZSBjYW4gYmUgZXhwcmVzc2VkXG4gICAgICAgICAgICAgKiBhcyAyKnBpKnJcbiAgICAgICAgICAgICAqID0+IHIgPSBuICogMiAqIHNtYWxsUiAvICgyICogcGkpXG4gICAgICAgICAgICAgKiAgICAgID0gbiAqIHNtYWxsUiAvIHBpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5vZGVSYWRpdXMgPSA3MCAvLyBwaXhlbHNcbiAgICAgICAgICAgIGxldCByYWRpdXMgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAobm9kZXMuc2l6ZSAqIG5vZGVSYWRpdXMpIC8gTWF0aC5QSSxcbiAgICAgICAgICAgICAgICBsYXN0UmFkaXVzICsgMyAqIG5vZGVSYWRpdXNcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChkZXB0aCA9PSAwICYmIG5vZGVzLnNpemUgPT0gMSkgcmFkaXVzID0gMFxuICAgICAgICAgICAgbGFzdFJhZGl1cyA9IHJhZGl1c1xuXG4gICAgICAgICAgICAvLyBNaW5pbXVtIHJhZGlhbnMgbmVjZXNzYXJ5IHRvIGtlZXAgbm9kZXMgbmVjZXNzYXJpbHkgc3BhY2VkIGF0IHRoZSBnaXZlbiBkZXB0aFxuICAgICAgICAgICAgY29uc3Qgc3RlcFNpemUgPVxuICAgICAgICAgICAgICAgICgyICogTWF0aC5QSSkgL1xuICAgICAgICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICBub2Rlcy5zaXplLFxuICAgICAgICAgICAgICAgICAgICAocmFkaXVzICogMiAqIE1hdGguUEkpIC8gKDIgKiAxLjIgKiBub2RlUmFkaXVzKVxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgLy8gTWFwcyBub2RlcyB0byBhbmdsZXMgKHJhZClcbiAgICAgICAgICAgIGNvbnN0IG5zID0gbmV3IE1hcDxNYXRoR3JhcGhOb2RlLCBudW1iZXI+KClcblxuICAgICAgICAgICAgaWYgKGxhc3RQb3NpdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkZWFsQW5nbGVzID0gbmV3IE1hcDxNYXRoR3JhcGhOb2RlLCBudW1iZXI+KClcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG8gbm90IGFzc3VtZSB0aGUgZ3JhcGggaXMgYSB0cmVlXG4gICAgICAgICAgICAgICAgICAgIC8vIEFzc3VtZSB0aGUgbm9kZSBoYXMgYSBwYXJlbnRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5ncmFwaFxuICAgICAgICAgICAgICAgICAgICAgICAgLmdldE5laWdoYm9ycyhuLCBcImluXCIpIVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVscy5nZXQoZGVwdGggLSAxKSEuaGFzKG4pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQb3NpdGlvbnMhLmhhcyhuKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVswXVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZGVhbEFuZ2xlID0gbGFzdFBvc2l0aW9ucy5nZXQocGFyZW50KSFcbiAgICAgICAgICAgICAgICAgICAgaWRlYWxBbmdsZXMuc2V0KG4sIGlkZWFsQW5nbGUpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXNzZXJ0KGlkZWFsQW5nbGVzLnNpemUgPT0gbm9kZXMuc2l6ZSlcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBpZGVhbEFuZ2xlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yX3NvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0+IE1hdGguYWJzKHBbMV0gLSBwYWlyWzFdKSA8IHN0ZXBTaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpclsxXSArPSBzdGVwU2l6ZSAqIGEgKiAoLTEpICoqIGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhKytcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5zLnNldChwYWlyWzBdLCBwYWlyWzFdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gWy4uLm5vZGVzXVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5zLnNldCh0ZW1wW2ldLCBpICogc3RlcFNpemUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICAgICAgbnMuc2l6ZSA9PSBub2Rlcy5zaXplLFxuICAgICAgICAgICAgICAgIFwiT25seSBwcm9kdWNlZCBcIiArIG5zLnNpemUgKyBcIiBub2RlcyBpbnN0ZWFkIG9mIFwiICsgbm9kZXMuc2l6ZVxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICBsYXN0UG9zaXRpb25zID0gbmV3IE1hcCgpXG4gICAgICAgICAgICBucy5mb3JFYWNoKChhbmdsZSwgbm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLm5vZGVzLmdldChub2RlKSFcbiAgICAgICAgICAgICAgICAvL3ZpZXcuc3R5bGUud2lkdGggPSBcIlwiICsgc21hbGxSICsgXCJweFwiXG4gICAgICAgICAgICAgICAgLy92aWV3LnN0eWxlLmhlaWdodCA9IFwiXCIgKyBzbWFsbFIgKyBcInB4XCJcbiAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb25zIS5zZXQobm9kZSwgYW5nbGUpXG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGNhcnRlc2lhbiBwb2ludCBmcm9tIHRoZSByYWRpdXMgYW5kIGFuZ2xlXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSArIGNlbnRlci54XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSArIGNlbnRlci55XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlUG9zaXRpb25zLnNldCh2aWV3LCBQb2ludCh4LCB5KSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBhc3NlcnQoXG4gICAgICAgICAgICAgICAgZm9yX2FsbChcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9ucy52YWx1ZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgcG9zID0+IHBvcyAhPSB1bmRlZmluZWQgJiYgcG9zICE9IG51bGxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAvL2Fzc2VydChsYXN0UG9zaXRpb25zLnNpemUgPiAwKVxuICAgICAgICAgICAgLy9hc3NlcnQoZm9yX2FsbChub2RlcywgbGFzdFBvc2l0aW9ucy5oYXMpKVxuXG4gICAgICAgICAgICBjb25zdCByaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICAgICAgcmluZy5zdHlsZS5ib3JkZXIgPSBcImxpZ2h0Z3JheSBzb2xpZCAwLjNjaFwiXG4gICAgICAgICAgICByaW5nLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiMTAwJVwiXG4gICAgICAgICAgICByaW5nLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICByaW5nLnN0eWxlLnpJbmRleCA9IFJJTkdfWlxuICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChyaW5nKVxuICAgICAgICAgICAgdGhpcy5yaW5nRWxlbWVudHMuYWRkKHJpbmcpXG4gICAgICAgICAgICB0aGlzLnJpbmdQb3NpdGlvbnMuc2V0KHJpbmcsIHsgcmFkaXVzOiByYWRpdXMgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyBhcmFuZ2UgdGhlIGVkZ2VzXG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaCgodmlldywgZWRnZSkgPT4ge1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgbWlkZGxlIG9mIHRoZSB0d28gZW5kcHRzXG4gICAgICAgICAgICBjb25zdCBmaXJzdFggPSB0aGlzLm5vZGVQb3NpdGlvbnMuZ2V0KHRoaXMubm9kZXMuZ2V0KGVkZ2UubikhKSEueFxuICAgICAgICAgICAgY29uc3QgZmlyc3RZID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldCh0aGlzLm5vZGVzLmdldChlZGdlLm4pISkhLnlcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFggPSB0aGlzLm5vZGVQb3NpdGlvbnMuZ2V0KHRoaXMubm9kZXMuZ2V0KGVkZ2UubjEpISkhLnhcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFkgPSB0aGlzLm5vZGVQb3NpdGlvbnMuZ2V0KHRoaXMubm9kZXMuZ2V0KGVkZ2UubjEpISkhLnlcbiAgICAgICAgICAgIGNvbnN0IHggPSAoZmlyc3RYICsgc2Vjb25kWCkgLyAyXG4gICAgICAgICAgICBjb25zdCB5ID0gKGZpcnN0WSArIHNlY29uZFkpIC8gMlxuICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHNlY29uZFkgLSBmaXJzdFksIHNlY29uZFggLSBmaXJzdFgpXG4gICAgICAgICAgICB0aGlzLmVkZ2VQb3NpdGlvbnMuc2V0KHZpZXcsIHsgeDogeCwgeTogeSwgYW5nbGU6IGFuZ2xlIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBkcmF3IHBvc2l0aW9uIG9mIHRoZSBub2RlcyBvbiB0aGUgc2NyZWVuXG4gICAgICogdG8gbWF0Y2ggdGhlIG9mZnNldCBpbiByZXAuIEFzc3VtZXMgYWxsIHZpZXdzIGhhdmUgYSBwb3NpdGlvblxuICAgICAqIHN0b3JlZCBpbiB0aGUgcmVwLiBDYWxsIGFycmFuZ2UoKSBmaXJzdC5cbiAgICAgKiBBbHNvIGFwcGxpZXMgdGhlIHNjYWxlIGZhY3RvciB0byB0aGUgZmluYWwgZHJhdyBwb3NpdGlvbnMsXG4gICAgICogaW52aXNpYmxlIHRvIGV2ZXJ5b25lIGVsc2UuXG4gICAgICovXG4gICAgcHJpdmF0ZSB1cGRhdGVPZmZzZXQoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2VudGVyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZVxuXG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5U2NhbGUoaTogUG9pbnQpOiBQb2ludCB7XG4gICAgICAgICAgICByZXR1cm4gUG9pbnQoXG4gICAgICAgICAgICAgICAgKGkueCAtIGNlbnRlci54KSAqIHNjYWxlICsgY2VudGVyLngsXG4gICAgICAgICAgICAgICAgKGkueSAtIGNlbnRlci55KSAqIHNjYWxlICsgY2VudGVyLnlcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubm9kZVBvc2l0aW9ucy5mb3JFYWNoKChwb3MsIHZpZXcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkID0gYXBwbHlTY2FsZSh7XG4gICAgICAgICAgICAgICAgeDogcG9zLnggKyB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogcG9zLnkgKyB0aGlzLm9mZnNldFlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB2aWV3LnN0eWxlLmxlZnQgPSBcIlwiICsgKGFkanVzdGVkLnggLSAwLjUgKiB2aWV3Lm9mZnNldFdpZHRoKSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS50b3AgPSBcIlwiICsgKGFkanVzdGVkLnkgLSAwLjUgKiB2aWV3Lm9mZnNldEhlaWdodCkgKyBcInB4XCJcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmVkZ2VQb3NpdGlvbnMuZm9yRWFjaCgocG9zLCB2aWV3KSA9PiB7XG4gICAgICAgICAgICB2aWV3LnNldEFuZ2xlKHBvcy5hbmdsZSlcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYXdFZGdlTGluZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFBvcyA9IHRoaXMubm9kZVBvc2l0aW9ucy5nZXQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZ2V0KHZpZXcuZmlyc3QpIVxuICAgICAgICAgICAgICAgICkhXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kUG9zID0gdGhpcy5ub2RlUG9zaXRpb25zLmdldChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5nZXQodmlldy5zZWNvbmQpIVxuICAgICAgICAgICAgICAgICkhXG4gICAgICAgICAgICAgICAgdmlldy53aWR0aCA9XG4gICAgICAgICAgICAgICAgICAgIFwiXCIgK1xuICAgICAgICAgICAgICAgICAgICBzY2FsZSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmh5cG90KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZFBvcy54IC0gZmlyc3RQb3MueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRQb3MueSAtIGZpcnN0UG9zLnlcbiAgICAgICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICBcInB4XCJcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLmJvcmRlckJvdHRvbSA9IFwiYmxhY2sgMC4xY2ggc29saWRcIlxuICAgICAgICAgICAgICAgIHZpZXcuc3R5bGUuYm9yZGVyVG9wID0gXCJibGFjayAwLjFjaCBzb2xpZFwiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZpZXcud2lkdGggPSBcImZpdC1jb250ZW50XCJcbiAgICAgICAgICAgICAgICB2aWV3LnN0eWxlLmJvcmRlckJvdHRvbSA9IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgdmlldy5zdHlsZS5ib3JkZXJUb3AgPSBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhZGp1c3RlZCA9IGFwcGx5U2NhbGUoe1xuICAgICAgICAgICAgICAgIHg6IHBvcy54ICsgdGhpcy5vZmZzZXRYLFxuICAgICAgICAgICAgICAgIHk6IHBvcy55ICsgdGhpcy5vZmZzZXRZXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB2aWV3LnN0eWxlLmxlZnQgPSBcIlwiICsgKGFkanVzdGVkLnggLSAwLjUgKiB2aWV3Lm9mZnNldFdpZHRoKSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS50b3AgPSBcIlwiICsgKGFkanVzdGVkLnkgLSAwLjUgKiB2aWV3Lm9mZnNldEhlaWdodCkgKyBcInB4XCJcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBPdmVybGF5IGVsZW1lbnRzIGNoYW5nZSBzaXplIHdpdGggc2NhbGVcbiAgICAgICAgdGhpcy5yaW5nUG9zaXRpb25zLmZvckVhY2goKHBvcywgdmlldykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRqdXN0ZWRDZW50ZXJQb3MgPSBhcHBseVNjYWxlKHtcbiAgICAgICAgICAgICAgICB4OiBjZW50ZXIueCArIHRoaXMub2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiBjZW50ZXIueSArIHRoaXMub2Zmc2V0WVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHZpZXcuc3R5bGUubGVmdCA9XG4gICAgICAgICAgICAgICAgXCJcIiArIChhZGp1c3RlZENlbnRlclBvcy54IC0gcG9zLnJhZGl1cyAqIHNjYWxlKSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS50b3AgPVxuICAgICAgICAgICAgICAgIFwiXCIgKyAoYWRqdXN0ZWRDZW50ZXJQb3MueSAtIHBvcy5yYWRpdXMgKiBzY2FsZSkgKyBcInB4XCJcbiAgICAgICAgICAgIHZpZXcuc3R5bGUud2lkdGggPSBcIlwiICsgcG9zLnJhZGl1cyAqIDIgKiBzY2FsZSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS5hc3BlY3RSYXRpbyA9IFwiMVwiXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5leHBsYW5hdGlvblBvcHVwcy5mb3JFYWNoKHZhbCA9PiB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gdmFsLmVcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHZhbC5wb3NcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkID0gYXBwbHlTY2FsZSh7XG4gICAgICAgICAgICAgICAgeDogcG9zLnggKyB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogcG9zLnkgKyB0aGlzLm9mZnNldFlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB2aWV3LnN0eWxlLmxlZnQgPSBcIlwiICsgKGFkanVzdGVkLnggLSAwLjUgKiB2aWV3Lm9mZnNldFdpZHRoKSArIFwicHhcIlxuICAgICAgICAgICAgdmlldy5zdHlsZS50b3AgPSBcIlwiICsgKGFkanVzdGVkLnkgLSAwLjUgKiB2aWV3Lm9mZnNldEhlaWdodCkgKyBcInB4XCJcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFwIGZyb20gcmVsYXRpdmUgc2NyZWVuIGNvb3JkaW5hdGVzICh3aGVyZSB0bCBvZiB0aGlzIHZpZXcgaXMgKDAsMCkpXG4gICAgICogdG8gdGhlIGludGVybmFsIGNvb3JkaW5hdGUgc3lzdGVtIHdlJ3JlIHVzaW5nLlxuICAgICAqL1xuICAgIHByaXZhdGUgZ2V0SW50ZXJuYWxQb3MocGl4ZWxQb3M6IFBvaW50KTogUG9pbnQge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlclxuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGVcblxuICAgICAgICByZXR1cm4gUG9pbnQoXG4gICAgICAgICAgICAocGl4ZWxQb3MueCAtIGNlbnRlci54KSAvIHNjYWxlICsgY2VudGVyLnggLSB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgICAocGl4ZWxQb3MueSAtIGNlbnRlci55KSAvIHNjYWxlICsgY2VudGVyLnkgLSB0aGlzLm9mZnNldFlcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWN0IHRvIGFuIGVkZ2UgYmVpbmcgY2xpY2tlZC5cbiAgICAgKiBAcGFyYW0gdmlldyBJbiB0aGlzIHZpZXdcbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIGNsaWNrIGV2ZW50XG4gICAgICovXG4gICAgcHVibGljIGVkZ2VDbGlja2VkKHZpZXc6IEVkZ2VWaWV3LCBldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBEb24ndCBhbGxvdyBkdXBsaWF0ZSBleHBsYW5hdGlvbiBwb3B1cHNcblxuICAgICAgICBpZiAodmlldy5lZGdlIGluc3RhbmNlb2YgQXJndW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwID0gbmV3IEV4cGxhbmF0aW9uUG9wdXAodmlldy5lZGdlLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChwb3B1cClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZXhwbGFuYXRpb25Qb3B1cHNbaV0uZSA9PT0gcG9wdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICBjb25zdCByZWFsdGl2ZVggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0XG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZVkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3BcbiAgICAgICAgICAgIC8vVE9ETzogVGhlIHBvc2l0aW9uIGlzbid0IGNvcnJlY3RcbiAgICAgICAgICAgIC8vVE9ETzogQWxnb3JpdGhtIGZvciBwaWNraW5nIHdoZXJlIHdlIHNob3VsZCBwdXQgdGhlIHBvcHVwIHNvIGl0IHN0YXlzIG91dFxuICAgICAgICAgICAgLy8gb2YgdGhlIHdheSBvZiB0aGUgZ3JhcGhcbiAgICAgICAgICAgIHRoaXMuZXhwbGFuYXRpb25Qb3B1cHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZTogcG9wdXAsXG4gICAgICAgICAgICAgICAgcG9zOiB0aGlzLmdldEludGVybmFsUG9zKFBvaW50KHJlYWx0aXZlWCwgcmVsYXRpdmVZKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBwb3B1cC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgdGhpcy5hcHBlbmQocG9wdXApXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldCgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlb3JkZXJWaWV3U3RhY2sodmlldylcbiAgICAgICAgdGhpcy5yZXBPaygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB6LWluZGV4IG9mIGFsbCB0aGUgZWxlbWVudHMgaW4gdGhlIGdyYXBoXG4gICAgICogcHV0dGluZyB0aGUgZ2l2ZW4gcm9vdCBvbiB0b3AgYW5kIGl0J3MgbmVpZ2hib3JzXG4gICAgICogcmlnaHQgYmVuZWF0aCBpdCBldGMuXG4gICAgICogQHBhcmFtIHJvb3RcbiAgICAgKi9cbiAgICBwcml2YXRlIHJlb3JkZXJWaWV3U3RhY2socm9vdDogRWRnZVZpZXcgfCBHcmFwaE5vZGVWaWV3KTogdm9pZCB7XG4gICAgICAgIGlmIChyb290IGluc3RhbmNlb2YgR3JhcGhOb2RlVmlldykgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpXG5cbiAgICAgICAgaWYgKHJvb3QgaW5zdGFuY2VvZiBFZGdlVmlldykge1xuICAgICAgICAgICAgY29uc3Qgcm9vdHMgPSBbcm9vdC5maXJzdCwgcm9vdC5zZWNvbmRdXG4gICAgICAgICAgICBjb25zdCBzdGFja2luZ09yZGVyID0gR3JhcGhNaW5pcHVsYXRvci5nZXRMZXZlbHModGhpcy5ncmFwaCwgcm9vdHMpXG4gICAgICAgICAgICBzdGFja2luZ09yZGVyLmZvckVhY2goKG5vZGVTZXQsIGRlcHRoKSA9PiB7XG4gICAgICAgICAgICAgICAgbm9kZVNldC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2hvd0FyZ3VtZW50cyAmJiBub2RlIGluc3RhbmNlb2YgQXJndW1lbnQpIHJldHVyblxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWRqdXN0aW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVWaWV3ID0gdGhpcy5ub2Rlcy5nZXQobm9kZSkhXG4gICAgICAgICAgICAgICAgICAgIG5vZGVWaWV3LnN0eWxlLnpJbmRleCA9IChcbiAgICAgICAgICAgICAgICAgICAgICAgIE5PREVfTUFYX1ogLVxuICAgICAgICAgICAgICAgICAgICAgICAgMC4wMDAxICogZGVwdGhcbiAgICAgICAgICAgICAgICAgICAgKS50b1N0cmluZygpXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWRnZXNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKChlZGdlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGdlLmZpcnN0ID09PSBub2RlIHx8IGVkZ2Uuc2Vjb25kID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZS5zdHlsZS56SW5kZXggPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVER0VfTUFYX1ogLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjAwMDEgKiBkZXB0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXBPaygpOiB2b2lkIHtcbiAgICAgICAgYXNzZXJ0KHRoaXMucm9vdE5vZGVzLnNpemUgPiAwKVxuICAgICAgICBhc3NlcnQoR3JhcGhNaW5pcHVsYXRvci5pc0Nvbm5lY3RlZCh0aGlzLmdyYXBoKSwgXCJHcmFwaCBub3QgY29ubmVjdGVkXCIpXG4gICAgICAgIGlmICh0aGlzLnNob3dBcmd1bWVudHMpXG4gICAgICAgICAgICBhc3NlcnQodGhpcy5ncmFwaC5nZXROb2RlcygpLnNpemUgPT0gdGhpcy5ub2Rlcy5zaXplKVxuICAgIH1cblxuICAgIHByaXZhdGUgZ3JhcGg6IEdyYXBoXG4gICAgcHJpdmF0ZSByZWFkb25seSBpbnRlcnByZXRlcjogSW50ZXJwcmV0ZXJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG5vZGVzOiBNYXA8TWF0aEdyYXBoTm9kZSwgR3JhcGhOb2RlVmlldz5cbiAgICAvLyBUaGUgUG9zaXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGUgbm9kZS5cbiAgICBwcml2YXRlIHJlYWRvbmx5IG5vZGVQb3NpdGlvbnM6IE1hcDxHcmFwaE5vZGVWaWV3LCBQb2ludD5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkZ2VzOiBNYXA8XG4gICAgICAgIHsgbjogTWF0aEdyYXBoTm9kZTsgbjE6IE1hdGhHcmFwaE5vZGU7IGU6IEdyYXBoRWRnZSB9LFxuICAgICAgICBFZGdlVmlld1xuICAgID5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGVkZ2VQb3NpdGlvbnM6IE1hcDxFZGdlVmlldywgQW5nbGVQb2ludD5cbiAgICAvLyBBbXQgdG8gYWRkIHRvIGxlZnQgY29vcmRpbmF0ZVxuICAgIHByaXZhdGUgb2Zmc2V0WDogbnVtYmVyXG4gICAgLy8gQWRkZWQgdG8gdG9wIGNvb3JkaW5hdGUgb2Ygbm9kZXNcbiAgICBwcml2YXRlIG9mZnNldFk6IG51bWJlclxuICAgIC8vIGlmIHRoZSBtb3VzZSBpcyBkb3duXG4gICAgcHJpdmF0ZSBtb3VzZURvd246IGJvb2xlYW4gPSBmYWxzZVxuICAgIHByaXZhdGUgdG91Y2hEb3duOiBib29sZWFuID0gZmFsc2VcblxuICAgIHByaXZhdGUgc2NhbGU6IG51bWJlciA9IDFcblxuICAgIC8vIFRoZXNlIG5vZGVzIGFyZSB0aGUgcm9vdCBvZiB0aGUgZ3JhcGhcbiAgICBwcml2YXRlIHJvb3ROb2RlczogU2V0PE1hdGhHcmFwaE5vZGU+XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHJpbmdFbGVtZW50czogU2V0PEhUTUxFbGVtZW50PlxuICAgIHByaXZhdGUgcmVhZG9ubHkgcmluZ1Bvc2l0aW9uczogTWFwPEhUTUxFbGVtZW50LCB7IHJhZGl1czogbnVtYmVyIH0+XG5cbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbiBvZiB0b3AgbGVmdCBvZiBwb3B1cFxuICAgICAqL1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZXhwbGFuYXRpb25Qb3B1cHM6IHsgZTogRXhwbGFuYXRpb25Qb3B1cDsgcG9zOiBQb2ludCB9W11cblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZ2VzdHVyZVJlY29nbml6ZXI6IFRvdWNoR2VzdHVyZVJlY29nbml6ZXJcblxuICAgIC8vIElmIHRoZSBncmFwaCBzaG91bGQgZHJhdyBhcmd1bWVudCBub2Rlcy5cbiAgICBwcml2YXRlIHNob3dBcmd1bWVudHM6IGJvb2xlYW4gPSBmYWxzZVxuICAgIHByaXZhdGUgZHJhd0VkZ2VMaW5lczogYm9vbGVhbiA9IGZhbHNlXG4gICAgcHJpdmF0ZSBkZWJ1Z0Nvcm5lckVuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihfID0+IHtcbiAgICAgICAgdGhpcy5hcnJhbmdlKClcbiAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQoKVxuICAgIH0pXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGJhc2VOb2RlU3R5bGUgPSAodmlldzogR3JhcGhOb2RlVmlldyk6IHZvaWQgPT4ge1xuICAgICAgICB2aWV3LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiMWNoXCJcbiAgICAgICAgdmlldy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiXG4gICAgICAgIHZpZXcuc3R5bGUuekluZGV4ID0gXCJcIiArIE5PREVfTUFYX1pcbiAgICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShcIndlYi1ncmFwaHZpZXdcIiwgV2ViR3JhcGhWaWV3LCB7IGV4dGVuZHM6IFwiZGl2XCIgfSlcblxuZXhwb3J0IGludGVyZmFjZSBXZWJHcmFwaFZpZXdJbml0U2V0dGluZ3Mge1xuICAgIC8qKlxuICAgICAqIElmIHRoZSB2aWV3IHNob3VsZCBkaXNwbGF5IGFyZ3VtZW50IG5vZGVzIGFzIG5vZGVzLlxuICAgICAqIEhlbHBmdWwgZm9yIGRlYnVnZ2luZy5cbiAgICAgKi9cbiAgICBzaG93QXJndW1lbnRzOiBib29sZWFuXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBkcmF3cyBhIGxpbmUgZm9yIGV2ZXJ5IGVkZ2UgY29ubmVjdGluZ1xuICAgICAqIGl0cyB0d28gZW5kIHBvaW50cy4gKE5vdGF0ZXMgZGlyZWN0aW9uIG9mIGNvbm5lY3Rpb24pXG4gICAgICovXG4gICAgZHJhd0VkZ2VMaW5lczogYm9vbGVhblxuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgc2hvd3MgYSBib3ggaW4gdGhlIGNvcm5lciBvZiB0aGUgdmlld1xuICAgICAqIHRoYXQgZ2l2ZXMgZGVidWcgaW5mbyBhYm91dCB0aGUgZ3JhcGguXG4gICAgICovXG4gICAgZGVidWdDb3JuZXJFbmFibGVkOiBib29sZWFuXG59XG5cbnR5cGUgUG9pbnQgPSB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH1cbnR5cGUgQW5nbGVQb2ludCA9IFBvaW50ICYgeyBhbmdsZTogbnVtYmVyIC8qUmFkaWFucyAqLyB9XG5cbmZ1bmN0aW9uIFBvaW50KFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgYW5nbGU6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuKTogUG9pbnQgfCBBbmdsZVBvaW50IHtcbiAgICBpZiAoYW5nbGUgPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHksXG4gICAgICAgIGFuZ2xlOiBhbmdsZVxuICAgIH1cbn1cblxuLy8gWiBJbmRleCBjb25zdGFudHNcbmNvbnN0IERFQlVHX1dJTkRPV19aID0gXCIxMDBcIlxuY29uc3QgTk9ERV9NQVhfWiA9IDVcbmNvbnN0IE5PREVfTUlOX1ogPSBcIjQuMDAwMDAxXCJcbmNvbnN0IEVER0VfTUFYX1ogPSA0XG5jb25zdCBFREdFX01JTl9aID0gXCIzLjAwMDAwMVwiXG5jb25zdCBSSU5HX1ogPSBcIi0xMFwiXG4iLCJpbXBvcnQgYW50bHI0LCB7IFBhcnNlclJ1bGVDb250ZXh0IH0gZnJvbSBcImFudGxyNFwiXG5pbXBvcnQgeyBFeHByZXNzaW9uIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cHJlc3Npb25cIlxuY29uc3QgeyBDb21tb25Ub2tlblN0cmVhbSwgQ2hhclN0cmVhbSB9ID0gYW50bHI0XG5pbXBvcnQgYXJpdGhtZXRpY0xleGVyIGZyb20gXCIuL2FyaXRobWV0aWNMZXhlclwiXG5pbXBvcnQgYXJpdGhtZXRpY1BhcnNlciwge1xuICAgIEV4cHJlc3Npb25Db250ZXh0LFxuICAgIE9wZW5Db250ZXh0XG59IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgRXhwcmVzc2lvblZpc2l0b3IgfSBmcm9tIFwiLi9NYXRoVmlzaXRvckltcGxcIlxuaW1wb3J0IHsgUHJpbnRWaXNpdG9yIH0gZnJvbSBcIi4vUHJpbnRWaXNpdG9yXCJcbmltcG9ydCB7IEZsYXR0ZW5lciB9IGZyb20gXCIuL0ZsYXR0ZW5lclwiXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIlxuXG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gaW5wdXQgc3RyaW5nIHRvIGFuIGV4cHJlc3Npb24uXG4gKiBAcGFyYW0gaW5wdXQgU2VlIHRoZSBncmFtYXIgZmlsZSAoLmc0KVxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXhwcmVzc2lvbihpbnB1dDogc3RyaW5nKTogRXhwcmVzc2lvbiB7XG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IENoYXJTdHJlYW0oaW5wdXQsIHRydWUpXG4gICAgY29uc3QgbGV4ZXIgPSBuZXcgYXJpdGhtZXRpY0xleGVyKHN0cmVhbSlcbiAgICBjb25zdCB0b2tlbnMgPSBuZXcgQ29tbW9uVG9rZW5TdHJlYW0obGV4ZXIpXG4gICAgY29uc3QgcGFyc2VyID0gbmV3IGFyaXRobWV0aWNQYXJzZXIodG9rZW5zKVxuICAgIC8vcGFyc2VyLmJ1aWxkUGFyc2VUcmVlcyA9IHRydWVcbiAgICBjb25zdCB0cmVlID0gcGFyc2VyLmV4cHJlc3Npb24oKVxuXG4gICAgdHJlZS5hY2NlcHQ8T3BlbkNvbnRleHQ+KG5ldyBGbGF0dGVuZXIoKSlcblxuICAgIC8vIFByaW50IGRlYnVnIGluZm9cbiAgICAvL3RyZWUuYWNjZXB0KG5ldyBQcmludFZpc2l0b3IoKSlcblxuICAgIGNvbnN0IHJlc3VsdCA9IHRyZWUuYWNjZXB0PEV4cHJlc3Npb24+KG5ldyBFeHByZXNzaW9uVmlzaXRvcigpKVxuICAgIGFzc2VydChyZXN1bHQgIT0gbnVsbCAmJiByZXN1bHQgIT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiByZXN1bHRcbn1cbiIsImltcG9ydCB7IFBhcnNlclJ1bGVDb250ZXh0LCBQYXJzZVRyZWUsIFRlcm1pbmFsTm9kZSB9IGZyb20gXCJhbnRscjRcIlxuaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSBcIi4uL0NvbnZlbmllbnRFeHByZXNzaW9uc1wiXG5pbXBvcnQge1xuICAgIENsb3NlZENvbnRleHQsXG4gICAgRXhwcmVzc2lvbkNvbnRleHQsXG4gICAgT3BlbkNvbnRleHQsXG4gICAgUHJvZHVjdENvbnRleHQsXG4gICAgU3VtQ29udGV4dCxcbiAgICBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHRcbn0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgYXJpdGhtZXRpY1Zpc2l0b3IgZnJvbSBcIi4vYXJpdGhtZXRpY1Zpc2l0b3JcIlxuXG4vKipcbiAqIFZpc2l0b3IgdGhhdCBmbGF0dGVucyBzdW1zIGFuZCBwcm9kdWN0cyBpbiBBU1RzLlxuICogYSArIChiICsgYykgLT4gYSArIGIgKyBjXG4gKlxuICogVGhpcyBvbmx5IGhhcHBlbnMgaWYgYiArIGMgaXNuJ3QgYWN0dWFsbHkgc3Vycm91bmRlZFxuICogYnkgcGFyZW5zLlxuICpcbiAqICAgICAgICArXG4gKiAgICAgICAvIFxcXG4gKiAgICAgIGEgICArXG4gKiAgICAgICAgIC8gXFxcbiAqICAgICAgICBiICAgY1xuICpcbiAqIGJlY29tZXNcbiAqXG4gKiAgICAgICArXG4gKiAgICAgIC98XFxcbiAqICAgICBhIGIgY1xuICpcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBGbGF0dGVuZXIgZXh0ZW5kcyBhcml0aG1ldGljVmlzaXRvcjxDbG9zZWRDb250ZXh0PiB7XG4gICAgdmlzaXRTdW0gPSAoY3R4OiBTdW1Db250ZXh0KTogQ2xvc2VkQ29udGV4dCA9PiB7XG4gICAgICAgIGNvbnN0IGZsYXR0ZW5lZCA9IHRoaXMuZmxhdHRlbkFkZGl0aW9uKGN0eClcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBmbGF0dGVuZWQuY2hpbGRyZW4hKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2l0KGNoaWxkKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbGF0dGVuZWRcbiAgICB9XG5cbiAgICBwcml2YXRlIHByaW50Q2hpbGRyZW4oY3R4OiBTdW1Db250ZXh0KTogdm9pZCB7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY3R4LmNoaWxkcmVuISkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IGNoaWxkLmdldFRleHQoKSArIFwiICBcIlxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdClcbiAgICAgICAgLy9jb25zb2xlLmxvZyhjdHgudG9TdHJpbmdUcmVlKG51bGwsIGN0eC5wYXJzZXIhKSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZ2l2ZW4gc3VtJ3MgY2hpbGRyZW4gYXJlIGFsc28gc3VtcyxcbiAgICAgKiBzZXRzIHRob3NlIHN1bXMgcGFyZW50cyB0byB0aGUgY3R4LlxuICAgICAqIFRoZSBnaXZlbiBzdW1jb250ZXh0IGFuZCBhbGwgaXRzIHN1bSBjaGlsZHJlblxuICAgICAqIG11c3QgaGF2ZSBleGFjdGx5IDIgZXhwcmVzc2lvbiBwYXJ0IGNoaWxkcmVuLlxuICAgICAqIFRoaXMgcHJldmVudHMgdGhlIG1pbmQgZnVjayBvZiByZWFycmFuZ2luZyB0aGVcbiAgICAgKiBBU1Qgb24gdGhlIHdheSBiYWNrIG91dC5cbiAgICAgKi9cbiAgICBwcml2YXRlIGZsYXR0ZW5BZGRpdGlvbihjdHg6IFN1bUNvbnRleHQpOiBDbG9zZWRDb250ZXh0IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgY2hpbGRyZW4gYXJlIHN1bXNcbiAgICAgICAgLy8gUmVhY2ggZG93biBhbmQgdGFrZSB0aGVpciBjaGlsZHJlblxuICAgICAgICBmdW5jdGlvbiB0YWtlQ2hpbGRyZW4oY2hpbGQ6IFN1bUNvbnRleHQpIHtcbiAgICAgICAgICAgIHJlbW92ZShjdHguY2hpbGRyZW4hLCBjaGlsZClcblxuICAgICAgICAgICAgLy8gTW92ZSB0aGUgZXhwcmVzc2lvbiB1cFxuICAgICAgICAgICAgaWYgKGNoaWxkLl9yaWdodCBpbnN0YW5jZW9mIFN1bUNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY2hpbGQuX3JpZ2h0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fcmlnaHQucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLl9yaWdodClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgaXNuJ3QgYWx3YXlzIGNvcnJlY3QgYmVjYXVzZSBuZWdhdGlvbiBvZiBzdW1zXG4gICAgICAgICAgICAvLyBPciBpcyBpcy4uLlxuICAgICAgICAgICAgLy8gQWxzbyBsb29rIGF0IHByb2R1Y3QgZmxhdHRlbmluZ1xuXG4gICAgICAgICAgICAvLyBNb3ZlIHRoZSBvcGVyYXRvciB1cFxuICAgICAgICAgICAgaWYgKGNoaWxkLk1JTlVTKCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLk1JTlVTKCkucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLk1JTlVTKCkpXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUoY2hpbGQuY2hpbGRyZW4hLCBjaGlsZC5NSU5VUygpKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5QTFVTKCkucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLlBMVVMoKSlcbiAgICAgICAgICAgICAgICAvL3JlbW92ZShjaGlsZC5jaGlsZHJlbiEsIGNoaWxkLlBMVVMoKSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoaWxkLl9sZWZ0IGluc3RhbmNlb2YgU3VtQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIHRha2VDaGlsZHJlbihjaGlsZC5fbGVmdClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX2xlZnQucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLl9sZWZ0KVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnRDdHggPSB1bmRlZmluZWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4Ll9sZWZ0IGluc3RhbmNlb2YgU3VtQ29udGV4dCkgdGFrZUNoaWxkcmVuKGN0eC5fbGVmdClcbiAgICAgICAgaWYgKGN0eC5fcmlnaHQgaW5zdGFuY2VvZiBTdW1Db250ZXh0KSB0YWtlQ2hpbGRyZW4oY3R4Ll9yaWdodClcblxuICAgICAgICByZXR1cm4gY3R4XG4gICAgfVxuXG4gICAgdmlzaXRQcm9kdWN0ID0gKGN0eDogUHJvZHVjdENvbnRleHQpOiBDbG9zZWRDb250ZXh0ID0+IHtcbiAgICAgICAgY29uc3QgZmxhdHRlbmVkID0gdGhpcy5mbGF0dGVuUHJvZHVjdChjdHgpXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgZmxhdHRlbmVkLmNoaWxkcmVuISkge1xuICAgICAgICAgICAgdGhpcy52aXNpdChjaGlsZClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhdHRlbmVkXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmbGF0dGVuUHJvZHVjdChjdHg6IFByb2R1Y3RDb250ZXh0KTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJGbGF0dGVuaW5nIHByb2R1Y3QgXCIgKyBjdHguZ2V0VGV4dCgpICsgXCIgdG9cIilcblxuICAgICAgICBmdW5jdGlvbiBpbnN0YW5jZU9mUHJvZHVjdChjaGlsZDogUGFyc2VyUnVsZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZCBpbnN0YW5jZW9mIFByb2R1Y3RDb250ZXh0XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiBjaGlsZHJlbiBhcmUgc3Vtc1xuICAgICAgICAvLyBSZWFjaCBkb3duIGFuZCB0YWtlIHRoZWlyIGNoaWxkcmVuXG4gICAgICAgIGZ1bmN0aW9uIHRha2VDaGlsZHJlbihjaGlsZDogUHJvZHVjdENvbnRleHQpIHtcbiAgICAgICAgICAgIHJlbW92ZShjdHguY2hpbGRyZW4hLCBjaGlsZClcblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlT2ZQcm9kdWN0KGNoaWxkLl9yaWdodCkpIHtcbiAgICAgICAgICAgICAgICB0YWtlQ2hpbGRyZW4oY2hpbGQuX3JpZ2h0IGFzIFByb2R1Y3RDb250ZXh0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fcmlnaHQucGFyZW50Q3R4ID0gY3R4XG4gICAgICAgICAgICAgICAgY3R4LmNoaWxkcmVuIS51bnNoaWZ0KGNoaWxkLl9yaWdodClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTW92ZSB0aGUgb3BlcmF0b3IgdXBcbiAgICAgICAgICAgIGlmIChjaGlsZC5USU1FUygpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5USU1FUygpLnBhcmVudEN0eCA9IGN0eFxuICAgICAgICAgICAgICAgIGN0eC5jaGlsZHJlbiEudW5zaGlmdChjaGlsZC5USU1FUygpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2VPZlByb2R1Y3QoY2hpbGQuX2xlZnQpKSB7XG4gICAgICAgICAgICAgICAgdGFrZUNoaWxkcmVuKGNoaWxkLl9sZWZ0IGFzIFByb2R1Y3RDb250ZXh0KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fbGVmdC5wYXJlbnRDdHggPSBjdHhcbiAgICAgICAgICAgICAgICBjdHguY2hpbGRyZW4hLnVuc2hpZnQoY2hpbGQuX2xlZnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudEN0eCA9IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIGlmIChpbnN0YW5jZU9mUHJvZHVjdChjdHguX2xlZnQpKVxuICAgICAgICAgICAgdGFrZUNoaWxkcmVuKGN0eC5fbGVmdCBhcyBQcm9kdWN0Q29udGV4dClcbiAgICAgICAgaWYgKGluc3RhbmNlT2ZQcm9kdWN0KGN0eC5fcmlnaHQpKVxuICAgICAgICAgICAgdGFrZUNoaWxkcmVuKGN0eC5fcmlnaHQgYXMgUHJvZHVjdENvbnRleHQpXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhjdHguZ2V0VGV4dCgpKVxuICAgICAgICByZXR1cm4gY3R4XG4gICAgfVxufVxuIiwiaW1wb3J0IGFudGxyNCBmcm9tIFwiYW50bHI0XCJcbmltcG9ydCB7IHN1bSB9IGZyb20gXCJtYXRoanNcIlxuaW1wb3J0IHsgbmVnYXRpdmUsIHByb2R1Y3QgfSBmcm9tIFwiLi4vQ29udmVuaWVudEV4cHJlc3Npb25zXCJcbmltcG9ydCB7IEV4cG9uZW50IH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0V4cG9uZW50XCJcbmltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5pbXBvcnQgeyBGcmFjdGlvbiB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9GcmFjdGlvblwiXG5pbXBvcnQgeyBJbnRlZ2VyIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0ludGVnZXJcIlxuaW1wb3J0IHsgSW50ZWdyYWwgfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvSW50ZWdyYWxcIlxuaW1wb3J0IHsgTG9nYXJpdGhtIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL0xvZ2FyaXRobVwiXG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1Byb2R1Y3RcIlxuaW1wb3J0IHsgU3VtIH0gZnJvbSBcIi4uL2V4cHJlc3Npb25zL1N1bVwiXG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gXCIuLi9leHByZXNzaW9ucy9WYXJpYWJsZVwiXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi4vdXRpbC9hc3NlcnRcIlxuaW1wb3J0IHtcbiAgICBBdG9tQ29udGV4dCxcbiAgICBEaXZpc2lvbkNvbnRleHQsXG4gICAgRXF1YXRpb25Db250ZXh0LFxuICAgIEV4cHJlc3Npb25Db250ZXh0LFxuICAgIENsb3NlZENvbnRleHQsXG4gICAgUGFyZW5Db250ZXh0LFxuICAgIFBvd2VyQ29udGV4dCxcbiAgICBQcm9kdWN0Q29udGV4dCxcbiAgICBSZWxvcENvbnRleHQsXG4gICAgU3VtQ29udGV4dCxcbiAgICBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHQsXG4gICAgT3BlbkNvbnRleHQsXG4gICAgQ2xvc2VkQXRvbUNvbnRleHQsXG4gICAgQ2xvc2VkSXNSaWdodF9DbG9zZWRDb250ZXh0LFxuICAgIFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQsXG4gICAgUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0Q29udGV4dCxcbiAgICBJbnRlZ3JhbENvbnRleHQsXG4gICAgTG9nQ29udGV4dFxufSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCJcbmltcG9ydCBhcml0aG1ldGljVmlzaXRvciBmcm9tIFwiLi9hcml0aG1ldGljVmlzaXRvclwiXG5cbi8qKlxuICogUmVhZHMgb3V0IGFuIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uVmlzaXRvciBleHRlbmRzIGFyaXRobWV0aWNWaXNpdG9yPEV4cHJlc3Npb24+IHtcbiAgICBwcml2YXRlIHByaW50Q2hpbGRyZW4oY3R4OiBPcGVuQ29udGV4dCk6IHZvaWQge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIlxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN0eC5jaGlsZHJlbiEpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjaGlsZC5nZXRUZXh0KCkgKyBcIiAgXCJcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpXG4gICAgfVxuXG4gICAgdmlzaXRFeHByZXNzaW9uID0gKGN0eDogRXhwcmVzc2lvbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4Lm9wZW4oKSlcbiAgICB9XG5cbiAgICB2aXNpdEVxdWF0aW9uID0gKGN0eDogRXF1YXRpb25Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHBhcnNlIGVxdWF0aW9ucyB3aXRoIHRoaXMgdmlzaXRvclwiKVxuICAgIH1cblxuICAgIHZpc2l0UG93ZXIgPSAoY3R4OiBQb3dlckNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlBvd2VyXCIpXG4gICAgICAgIC8vdGhpcy5wcmludENoaWxkcmVuKGN0eClcbiAgICAgICAgLy9jb25zb2xlLmxvZyhjdHguX2xlZnQuZ2V0VGV4dCgpKVxuICAgICAgICAvL2NvbnNvbGUubG9nKGN0eC5fcmlnaHQuZ2V0VGV4dCgpKVxuICAgICAgICByZXR1cm4gRXhwb25lbnQub2YodGhpcy52aXNpdChjdHguX2xlZnQpLCB0aGlzLnZpc2l0KGN0eC5fcmlnaHQpKVxuICAgIH1cblxuICAgIHZpc2l0UGFyZW4gPSAoY3R4OiBQYXJlbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4Lm9wZW4oKSlcbiAgICB9XG5cbiAgICB2aXNpdERpdmlzaW9uID0gKGN0eDogRGl2aXNpb25Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHJldHVybiBGcmFjdGlvbi5vZih0aGlzLnZpc2l0KGN0eC5fbGVmdCksIHRoaXMudmlzaXQoY3R4Ll9yaWdodCkpXG4gICAgfVxuXG4gICAgdmlzaXRQcm9kdWN0ID0gKGN0eDogUHJvZHVjdENvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIFByb2R1Y3Qub2YoWy4uLmN0eC5jbG9zZWRfbGlzdCgpLm1hcChleHAgPT4gdGhpcy52aXNpdChleHApKV0pXG4gICAgfVxuXG4gICAgdmlzaXRSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3QgPSAoXG4gICAgICAgIGN0eDogUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0Q29udGV4dFxuICAgICk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiUmlnaHQgY2xvc2VkIGltcGxpY2l0IHByb2R1Y3Qgb2YgY29udGV4dFwiKVxuICAgICAgICAvL3RoaXMucHJpbnRDaGlsZHJlbihjdHgpXG4gICAgICAgIHJldHVybiBQcm9kdWN0Lm9mKFt0aGlzLnZpc2l0KGN0eC5fbGVmdCksIHRoaXMudmlzaXQoY3R4Ll9yaWdodCldKVxuICAgIH1cblxuICAgIHZpc2l0SW50ZWdyYWwgPSAoY3R4OiBJbnRlZ3JhbENvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIEludGVncmFsLm9mKHRoaXMudmlzaXQoY3R4Ll9pbnRlZ3JhbmQpLCBWYXJpYWJsZS5vZihcInhcIikpXG4gICAgfVxuXG4gICAgdmlzaXRMb2cgPSAoY3R4OiBMb2dDb250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHJldHVybiBMb2dhcml0aG0ub2YoXG4gICAgICAgICAgICB0aGlzLnZpc2l0KGN0eC5fY29udGVudCksXG4gICAgICAgICAgICBjdHguX2Jhc2UgPT0gdW5kZWZpbmVkID8gSW50ZWdlci5vZigxMCkgOiB0aGlzLnZpc2l0KGN0eC5fYmFzZSlcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8vIHZpc2l0VW5hcnlPbkF0b20gPSAoY3R4OiBVbmFyeU9uQXRvbUNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAvLyAgICAgY29uc3QgaXNQb3NpdGl2ZSA9IGN0eC5NSU5VU19saXN0Lmxlbmd0aCAlIDIgPT0gMFxuICAgIC8vICAgICBpZiAoaXNQb3NpdGl2ZSlcbiAgICAvLyAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5hdG9tKCkpXG4gICAgLy8gICAgIHJldHVybiBuZWdhdGl2ZSh0aGlzLnZpc2l0KGN0eC5hdG9tKCkpKVxuICAgIC8vIH1cblxuICAgIHZpc2l0VW5hcnlPbkV4cHJlc3Npb24gPSAoY3R4OiBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgY29uc3QgaXNQb3NpdGl2ZSA9IGN0eC5NSU5VUygpID09IG51bGxcbiAgICAgICAgaWYgKGlzUG9zaXRpdmUpIHJldHVybiB0aGlzLnZpc2l0KGN0eC5jbG9zZWQoKSlcbiAgICAgICAgcmV0dXJuIG5lZ2F0aXZlKHRoaXMudmlzaXQoY3R4LmNsb3NlZCgpKSlcbiAgICB9XG5cbiAgICB2aXNpdFN1bSA9IChjdHg6IFN1bUNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJWaXNpdGluZyBzdW0gd2l0aCBcIiArIGN0eC5jaGlsZHJlbiEubGVuZ3RoICsgXCIgY2hpbGRyZW46IFwiICsgY3R4LnRvU3RyaW5nVHJlZShudWxsLCBjdHgucGFyc2VyISkpXG5cbiAgICAgICAgLy8gdGhpcy5wcmludENoaWxkcmVuKGN0eClcblxuICAgICAgICAvLyBTdW0gb2YgcGx1cyBhbmQgbWludXMgY29tcG9uZW50c1xuICAgICAgICBjb25zdCB0ZXJtczogRXhwcmVzc2lvbltdID0gW3RoaXMudmlzaXQoY3R4LmNoaWxkcmVuIVswXSldXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY3R4LmNoaWxkcmVuIS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKGN0eC5jaGlsZHJlbiFbaV0uZ2V0VGV4dCgpID09IFwiLVwiKVxuICAgICAgICAgICAgICAgIHRlcm1zLnB1c2gobmVnYXRpdmUodGhpcy52aXNpdChjdHguY2hpbGRyZW4hW2kgKyAxXSkpKVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGVybXMucHVzaCh0aGlzLnZpc2l0KGN0eC5jaGlsZHJlbiFbaSArIDFdKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiUHJpbnRpbmcgbWFkZSB0ZXJtc1wiKVxuICAgICAgICBmb3IgKGNvbnN0IHRlcm0gb2YgdGVybXMpIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCIgIFwiICsgdGVybS50b1N0cmluZygpKVxuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJkb25lXCIpXG4gICAgICAgIHJldHVybiBTdW0ub2YodGVybXMpXG4gICAgfVxuXG4gICAgLy8gdmlzaXRFeHByZXNzaW9uID0gKGN0eDogRXhwcmVzc2lvbkNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAvLyAgICAgLy8gR3Vlc3Mgd2hhdCBleHByZXNzaW9uIHR5cGUgaXQgaXMsIGZvbGxvd2luZyBwZW1kYXNcbiAgICAvLyAgICAgaWYgKChjdHguUExVUygwKSAhPSBudWxsIHx8IGN0eC5NSU5VUygwKSAhPSBudWxsKVxuICAgIC8vICAgICAgICAgICAgICYmIChjdHguZXhwcmVzc2lvbl9saXN0KCkubGVuZ3RoID8/IDApID4gMSkge1xuXG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gZXhwcmVzc2lvbiB0eXBlXCIpXG4gICAgLy8gICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjdHgpKSB7XG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coYCR7a2V5fTogJHsoY3R4IGFzIGFueSlba2V5XX1gKVxuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3R4KSkge1xuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke2tleX06ICR7KGN0eCBhcyBhbnkpW2tleV19YClcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiRXhwcmVzc2lvbnM6IFwiICsgY3R4LmV4cHJlc3Npb25fbGlzdCgpLmxlbmd0aClcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiTnVtIGNoaWxkcmVuOiBcIiArIGN0eC5jaGlsZHJlbiEubGVuZ3RoKVxuICAgIC8vICAgICAgICAgaWYgKGN0eC5jaGlsZHJlbj8ubGVuZ3RoID8/IDAgPiAwKVxuICAgIC8vICAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY3R4LmNoaWxkcmVuISkge1xuICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNoaWxkOiBcIiArIGNoaWxkLmdldFRleHQoKSlcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQgMVwiKVxuICAgIC8vICAgICB9XG4gICAgLy8gfTtcblxuICAgIHZpc2l0QXRvbSA9IChjdHg6IEF0b21Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIGlmIChjdHguVkFSSUFCTEUoKSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gVmFyaWFibGUub2YoY3R4LlZBUklBQkxFKCkuZ2V0VGV4dCgpKVxuICAgICAgICB9IGVsc2UgaWYgKGN0eC5TQ0lFTlRJRklDX05VTUJFUigpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBJbnRlZ2VyLm9mKFxuICAgICAgICAgICAgICAgIE51bWJlci5wYXJzZUZsb2F0KGN0eC5TQ0lFTlRJRklDX05VTUJFUigpLmdldFRleHQoKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmlzaXRDbG9zZWRBdG9tID0gKGN0eDogQ2xvc2VkQXRvbUNvbnRleHQpOiBFeHByZXNzaW9uID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaXQoY3R4LmF0b20oKSlcbiAgICB9XG5cbiAgICB2aXNpdENsb3NlZElzUmlnaHRfQ2xvc2VkID0gKFxuICAgICAgICBjdHg6IENsb3NlZElzUmlnaHRfQ2xvc2VkQ29udGV4dFxuICAgICk6IEV4cHJlc3Npb24gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdChjdHguY2xvc2VkKCkpXG4gICAgfVxuXG4gICAgdmlzaXRSaWdodF9DbG9zZWRJc09wZW4gPSAoY3R4OiBSaWdodF9DbG9zZWRJc09wZW5Db250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0KGN0eC5yaWdodF9jbG9zZWQoKSlcbiAgICB9XG5cbiAgICB2aXNpdFJlbG9wID0gKGN0eDogUmVsb3BDb250ZXh0KTogRXhwcmVzc2lvbiA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNob3VsZG4ndCBoYXBwZW4gd2l0aCB0aGlzIHZpc2l0b3IgaW1wbFwiKVxuICAgIH1cbn1cbiIsIi8vIEdlbmVyYXRlZCBmcm9tIC4vc3JjL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWMuZzQgYnkgQU5UTFIgNC4xMy4wXG4vLyBub2luc3BlY3Rpb24gRVM2VW51c2VkSW1wb3J0cyxKU1VudXNlZEdsb2JhbFN5bWJvbHMsSlNVbnVzZWRMb2NhbFN5bWJvbHNcbmltcG9ydCB7XG4gICAgQVROLFxuICAgIEFUTkRlc2VyaWFsaXplcixcbiAgICBDaGFyU3RyZWFtLFxuICAgIERlY2lzaW9uU3RhdGUsXG4gICAgREZBLFxuICAgIExleGVyLFxuICAgIExleGVyQVROU2ltdWxhdG9yLFxuICAgIFJ1bGVDb250ZXh0LFxuICAgIFByZWRpY3Rpb25Db250ZXh0Q2FjaGUsXG4gICAgVG9rZW5cbn0gZnJvbSBcImFudGxyNFwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBhcml0aG1ldGljTGV4ZXIgZXh0ZW5kcyBMZXhlciB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBTQ0lFTlRJRklDX05VTUJFUiA9IDFcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExQQVJFTiA9IDJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJQQVJFTiA9IDNcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBMVVMgPSA0XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNSU5VUyA9IDVcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRJTUVTID0gNlxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRElWID0gN1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgR1QgPSA4XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBMVCA9IDlcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVRID0gMTBcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPSU5UID0gMTFcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPVyA9IDEyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBJTlQgPSAxM1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTE9HID0gMTRcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFZBUklBQkxFID0gMTVcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFdTID0gMTZcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVPRiA9IFRva2VuLkVPRlxuXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBjaGFubmVsTmFtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBcIkRFRkFVTFRfVE9LRU5fQ0hBTk5FTFwiLFxuICAgICAgICBcIkhJRERFTlwiXG4gICAgXVxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGl0ZXJhbE5hbWVzOiAoc3RyaW5nIHwgbnVsbClbXSA9IFtcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgXCInKCdcIixcbiAgICAgICAgXCInKSdcIixcbiAgICAgICAgXCInKydcIixcbiAgICAgICAgXCInLSdcIixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgXCInLydcIixcbiAgICAgICAgXCInPidcIixcbiAgICAgICAgXCInPCdcIixcbiAgICAgICAgXCInPSdcIixcbiAgICAgICAgXCInLidcIixcbiAgICAgICAgXCInXidcIlxuICAgIF1cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHN5bWJvbGljTmFtZXM6IChzdHJpbmcgfCBudWxsKVtdID0gW1xuICAgICAgICBudWxsLFxuICAgICAgICBcIlNDSUVOVElGSUNfTlVNQkVSXCIsXG4gICAgICAgIFwiTFBBUkVOXCIsXG4gICAgICAgIFwiUlBBUkVOXCIsXG4gICAgICAgIFwiUExVU1wiLFxuICAgICAgICBcIk1JTlVTXCIsXG4gICAgICAgIFwiVElNRVNcIixcbiAgICAgICAgXCJESVZcIixcbiAgICAgICAgXCJHVFwiLFxuICAgICAgICBcIkxUXCIsXG4gICAgICAgIFwiRVFcIixcbiAgICAgICAgXCJQT0lOVFwiLFxuICAgICAgICBcIlBPV1wiLFxuICAgICAgICBcIklOVFwiLFxuICAgICAgICBcIkxPR1wiLFxuICAgICAgICBcIlZBUklBQkxFXCIsXG4gICAgICAgIFwiV1NcIlxuICAgIF1cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IG1vZGVOYW1lczogc3RyaW5nW10gPSBbXCJERUZBVUxUX01PREVcIl1cblxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgcnVsZU5hbWVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXCJTQ0lFTlRJRklDX05VTUJFUlwiLFxuICAgICAgICBcIk5VTUJFUlwiLFxuICAgICAgICBcIlVOU0lHTkVEX0lOVEVHRVJcIixcbiAgICAgICAgXCJFXCIsXG4gICAgICAgIFwiTFwiLFxuICAgICAgICBcIk9cIixcbiAgICAgICAgXCJHXCIsXG4gICAgICAgIFwiU0lHTlwiLFxuICAgICAgICBcIkxQQVJFTlwiLFxuICAgICAgICBcIlJQQVJFTlwiLFxuICAgICAgICBcIlBMVVNcIixcbiAgICAgICAgXCJNSU5VU1wiLFxuICAgICAgICBcIlRJTUVTXCIsXG4gICAgICAgIFwiRElWXCIsXG4gICAgICAgIFwiR1RcIixcbiAgICAgICAgXCJMVFwiLFxuICAgICAgICBcIkVRXCIsXG4gICAgICAgIFwiUE9JTlRcIixcbiAgICAgICAgXCJQT1dcIixcbiAgICAgICAgXCJJTlRcIixcbiAgICAgICAgXCJMT0dcIixcbiAgICAgICAgXCJWQVJJQUJMRVwiLFxuICAgICAgICBcIldTXCJcbiAgICBdXG5cbiAgICBjb25zdHJ1Y3RvcihpbnB1dDogQ2hhclN0cmVhbSkge1xuICAgICAgICBzdXBlcihpbnB1dClcbiAgICAgICAgdGhpcy5faW50ZXJwID0gbmV3IExleGVyQVROU2ltdWxhdG9yKFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyaXRobWV0aWNMZXhlci5fQVROLFxuICAgICAgICAgICAgYXJpdGhtZXRpY0xleGVyLkRlY2lzaW9uc1RvREZBLFxuICAgICAgICAgICAgbmV3IFByZWRpY3Rpb25Db250ZXh0Q2FjaGUoKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBncmFtbWFyRmlsZU5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiYXJpdGhtZXRpYy5nNFwiXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBsaXRlcmFsTmFtZXMoKTogKHN0cmluZyB8IG51bGwpW10ge1xuICAgICAgICByZXR1cm4gYXJpdGhtZXRpY0xleGVyLmxpdGVyYWxOYW1lc1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHN5bWJvbGljTmFtZXMoKTogKHN0cmluZyB8IG51bGwpW10ge1xuICAgICAgICByZXR1cm4gYXJpdGhtZXRpY0xleGVyLnN5bWJvbGljTmFtZXNcbiAgICB9XG4gICAgcHVibGljIGdldCBydWxlTmFtZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gYXJpdGhtZXRpY0xleGVyLnJ1bGVOYW1lc1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgc2VyaWFsaXplZEFUTigpOiBudW1iZXJbXSB7XG4gICAgICAgIHJldHVybiBhcml0aG1ldGljTGV4ZXIuX3NlcmlhbGl6ZWRBVE5cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGNoYW5uZWxOYW1lcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiBhcml0aG1ldGljTGV4ZXIuY2hhbm5lbE5hbWVzXG4gICAgfVxuXG4gICAgcHVibGljIGdldCBtb2RlTmFtZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gYXJpdGhtZXRpY0xleGVyLm1vZGVOYW1lc1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgX3NlcmlhbGl6ZWRBVE46IG51bWJlcltdID0gW1xuICAgICAgICA0LCAwLCAxNiwgMTIzLCA2LCAtMSwgMiwgMCwgNywgMCwgMiwgMSwgNywgMSwgMiwgMiwgNywgMiwgMiwgMywgNywgMywgMixcbiAgICAgICAgNCwgNywgNCwgMiwgNSwgNywgNSwgMiwgNiwgNywgNiwgMiwgNywgNywgNywgMiwgOCwgNywgOCwgMiwgOSwgNywgOSwgMixcbiAgICAgICAgMTAsIDcsIDEwLCAyLCAxMSwgNywgMTEsIDIsIDEyLCA3LCAxMiwgMiwgMTMsIDcsIDEzLCAyLCAxNCwgNywgMTQsIDIsXG4gICAgICAgIDE1LCA3LCAxNSwgMiwgMTYsIDcsIDE2LCAyLCAxNywgNywgMTcsIDIsIDE4LCA3LCAxOCwgMiwgMTksIDcsIDE5LCAyLFxuICAgICAgICAyMCwgNywgMjAsIDIsIDIxLCA3LCAyMSwgMiwgMjIsIDcsIDIyLCAxLCAwLCAxLCAwLCAxLCAwLCAzLCAwLCA1MSwgOCwgMCxcbiAgICAgICAgMSwgMCwgMSwgMCwgMywgMCwgNTUsIDgsIDAsIDEsIDEsIDQsIDEsIDU4LCA4LCAxLCAxMSwgMSwgMTIsIDEsIDU5LCAxLFxuICAgICAgICAxLCAxLCAxLCA0LCAxLCA2NCwgOCwgMSwgMTEsIDEsIDEyLCAxLCA2NSwgMywgMSwgNjgsIDgsIDEsIDEsIDIsIDQsIDIsXG4gICAgICAgIDcxLCA4LCAyLCAxMSwgMiwgMTIsIDIsIDcyLCAxLCAzLCAxLCAzLCAxLCA0LCAxLCA0LCAxLCA1LCAxLCA1LCAxLCA2LCAxLFxuICAgICAgICA2LCAxLCA3LCAxLCA3LCAxLCA4LCAxLCA4LCAxLCA5LCAxLCA5LCAxLCAxMCwgMSwgMTAsIDEsIDExLCAxLCAxMSwgMSxcbiAgICAgICAgMTIsIDEsIDEyLCAxLCAxMywgMSwgMTMsIDEsIDE0LCAxLCAxNCwgMSwgMTUsIDEsIDE1LCAxLCAxNiwgMSwgMTYsIDEsXG4gICAgICAgIDE3LCAxLCAxNywgMSwgMTgsIDEsIDE4LCAxLCAxOSwgMSwgMTksIDEsIDE5LCAxLCAxOSwgMSwgMjAsIDEsIDIwLCAxLFxuICAgICAgICAyMCwgMSwgMjAsIDEsIDIxLCAxLCAyMSwgMSwgMjIsIDQsIDIyLCAxMTgsIDgsIDIyLCAxMSwgMjIsIDEyLCAyMiwgMTE5LFxuICAgICAgICAxLCAyMiwgMSwgMjIsIDAsIDAsIDIzLCAxLCAxLCAzLCAwLCA1LCAwLCA3LCAwLCA5LCAwLCAxMSwgMCwgMTMsIDAsIDE1LFxuICAgICAgICAwLCAxNywgMiwgMTksIDMsIDIxLCA0LCAyMywgNSwgMjUsIDYsIDI3LCA3LCAyOSwgOCwgMzEsIDksIDMzLCAxMCwgMzUsXG4gICAgICAgIDExLCAzNywgMTIsIDM5LCAxMywgNDEsIDE0LCA0MywgMTUsIDQ1LCAxNiwgMSwgMCwgMTEsIDIsIDAsIDY5LCA2OSwgMTAxLFxuICAgICAgICAxMDEsIDIsIDAsIDc2LCA3NiwgMTA4LCAxMDgsIDIsIDAsIDc5LCA3OSwgMTExLCAxMTEsIDIsIDAsIDcxLCA3MSwgMTAzLFxuICAgICAgICAxMDMsIDIsIDAsIDQzLCA0MywgNDUsIDQ1LCAyLCAwLCA0MiwgNDIsIDE4MywgMTgzLCAyLCAwLCA3MywgNzMsIDEwNSxcbiAgICAgICAgMTA1LCAyLCAwLCA3OCwgNzgsIDExMCwgMTEwLCAyLCAwLCA4NCwgODQsIDExNiwgMTE2LCAyLCAwLCA2NSwgOTAsIDk3LFxuICAgICAgICAxMjIsIDMsIDAsIDksIDEwLCAxMywgMTMsIDMyLCAzMiwgMTIyLCAwLCAxLCAxLCAwLCAwLCAwLCAwLCAxNywgMSwgMCwgMCxcbiAgICAgICAgMCwgMCwgMTksIDEsIDAsIDAsIDAsIDAsIDIxLCAxLCAwLCAwLCAwLCAwLCAyMywgMSwgMCwgMCwgMCwgMCwgMjUsIDEsIDAsXG4gICAgICAgIDAsIDAsIDAsIDI3LCAxLCAwLCAwLCAwLCAwLCAyOSwgMSwgMCwgMCwgMCwgMCwgMzEsIDEsIDAsIDAsIDAsIDAsIDMzLCAxLFxuICAgICAgICAwLCAwLCAwLCAwLCAzNSwgMSwgMCwgMCwgMCwgMCwgMzcsIDEsIDAsIDAsIDAsIDAsIDM5LCAxLCAwLCAwLCAwLCAwLCA0MSxcbiAgICAgICAgMSwgMCwgMCwgMCwgMCwgNDMsIDEsIDAsIDAsIDAsIDAsIDQ1LCAxLCAwLCAwLCAwLCAxLCA0NywgMSwgMCwgMCwgMCwgMyxcbiAgICAgICAgNTcsIDEsIDAsIDAsIDAsIDUsIDcwLCAxLCAwLCAwLCAwLCA3LCA3NCwgMSwgMCwgMCwgMCwgOSwgNzYsIDEsIDAsIDAsIDAsXG4gICAgICAgIDExLCA3OCwgMSwgMCwgMCwgMCwgMTMsIDgwLCAxLCAwLCAwLCAwLCAxNSwgODIsIDEsIDAsIDAsIDAsIDE3LCA4NCwgMSxcbiAgICAgICAgMCwgMCwgMCwgMTksIDg2LCAxLCAwLCAwLCAwLCAyMSwgODgsIDEsIDAsIDAsIDAsIDIzLCA5MCwgMSwgMCwgMCwgMCwgMjUsXG4gICAgICAgIDkyLCAxLCAwLCAwLCAwLCAyNywgOTQsIDEsIDAsIDAsIDAsIDI5LCA5NiwgMSwgMCwgMCwgMCwgMzEsIDk4LCAxLCAwLCAwLFxuICAgICAgICAwLCAzMywgMTAwLCAxLCAwLCAwLCAwLCAzNSwgMTAyLCAxLCAwLCAwLCAwLCAzNywgMTA0LCAxLCAwLCAwLCAwLCAzOSxcbiAgICAgICAgMTA2LCAxLCAwLCAwLCAwLCA0MSwgMTEwLCAxLCAwLCAwLCAwLCA0MywgMTE0LCAxLCAwLCAwLCAwLCA0NSwgMTE3LCAxLFxuICAgICAgICAwLCAwLCAwLCA0NywgNTQsIDMsIDMsIDEsIDAsIDQ4LCA1MCwgMywgNywgMywgMCwgNDksIDUxLCAzLCAxNSwgNywgMCxcbiAgICAgICAgNTAsIDQ5LCAxLCAwLCAwLCAwLCA1MCwgNTEsIDEsIDAsIDAsIDAsIDUxLCA1MiwgMSwgMCwgMCwgMCwgNTIsIDUzLCAzLFxuICAgICAgICA1LCAyLCAwLCA1MywgNTUsIDEsIDAsIDAsIDAsIDU0LCA0OCwgMSwgMCwgMCwgMCwgNTQsIDU1LCAxLCAwLCAwLCAwLCA1NSxcbiAgICAgICAgMiwgMSwgMCwgMCwgMCwgNTYsIDU4LCAyLCA0OCwgNTcsIDAsIDU3LCA1NiwgMSwgMCwgMCwgMCwgNTgsIDU5LCAxLCAwLFxuICAgICAgICAwLCAwLCA1OSwgNTcsIDEsIDAsIDAsIDAsIDU5LCA2MCwgMSwgMCwgMCwgMCwgNjAsIDY3LCAxLCAwLCAwLCAwLCA2MSxcbiAgICAgICAgNjMsIDUsIDQ2LCAwLCAwLCA2MiwgNjQsIDIsIDQ4LCA1NywgMCwgNjMsIDYyLCAxLCAwLCAwLCAwLCA2NCwgNjUsIDEsIDAsXG4gICAgICAgIDAsIDAsIDY1LCA2MywgMSwgMCwgMCwgMCwgNjUsIDY2LCAxLCAwLCAwLCAwLCA2NiwgNjgsIDEsIDAsIDAsIDAsIDY3LFxuICAgICAgICA2MSwgMSwgMCwgMCwgMCwgNjcsIDY4LCAxLCAwLCAwLCAwLCA2OCwgNCwgMSwgMCwgMCwgMCwgNjksIDcxLCAyLCA0OCxcbiAgICAgICAgNTcsIDAsIDcwLCA2OSwgMSwgMCwgMCwgMCwgNzEsIDcyLCAxLCAwLCAwLCAwLCA3MiwgNzAsIDEsIDAsIDAsIDAsIDcyLFxuICAgICAgICA3MywgMSwgMCwgMCwgMCwgNzMsIDYsIDEsIDAsIDAsIDAsIDc0LCA3NSwgNywgMCwgMCwgMCwgNzUsIDgsIDEsIDAsIDAsXG4gICAgICAgIDAsIDc2LCA3NywgNywgMSwgMCwgMCwgNzcsIDEwLCAxLCAwLCAwLCAwLCA3OCwgNzksIDcsIDIsIDAsIDAsIDc5LCAxMixcbiAgICAgICAgMSwgMCwgMCwgMCwgODAsIDgxLCA3LCAzLCAwLCAwLCA4MSwgMTQsIDEsIDAsIDAsIDAsIDgyLCA4MywgNywgNCwgMCwgMCxcbiAgICAgICAgODMsIDE2LCAxLCAwLCAwLCAwLCA4NCwgODUsIDUsIDQwLCAwLCAwLCA4NSwgMTgsIDEsIDAsIDAsIDAsIDg2LCA4NywgNSxcbiAgICAgICAgNDEsIDAsIDAsIDg3LCAyMCwgMSwgMCwgMCwgMCwgODgsIDg5LCA1LCA0MywgMCwgMCwgODksIDIyLCAxLCAwLCAwLCAwLFxuICAgICAgICA5MCwgOTEsIDUsIDQ1LCAwLCAwLCA5MSwgMjQsIDEsIDAsIDAsIDAsIDkyLCA5MywgNywgNSwgMCwgMCwgOTMsIDI2LCAxLFxuICAgICAgICAwLCAwLCAwLCA5NCwgOTUsIDUsIDQ3LCAwLCAwLCA5NSwgMjgsIDEsIDAsIDAsIDAsIDk2LCA5NywgNSwgNjIsIDAsIDAsXG4gICAgICAgIDk3LCAzMCwgMSwgMCwgMCwgMCwgOTgsIDk5LCA1LCA2MCwgMCwgMCwgOTksIDMyLCAxLCAwLCAwLCAwLCAxMDAsIDEwMSxcbiAgICAgICAgNSwgNjEsIDAsIDAsIDEwMSwgMzQsIDEsIDAsIDAsIDAsIDEwMiwgMTAzLCA1LCA0NiwgMCwgMCwgMTAzLCAzNiwgMSwgMCxcbiAgICAgICAgMCwgMCwgMTA0LCAxMDUsIDUsIDk0LCAwLCAwLCAxMDUsIDM4LCAxLCAwLCAwLCAwLCAxMDYsIDEwNywgNywgNiwgMCwgMCxcbiAgICAgICAgMTA3LCAxMDgsIDcsIDcsIDAsIDAsIDEwOCwgMTA5LCA3LCA4LCAwLCAwLCAxMDksIDQwLCAxLCAwLCAwLCAwLCAxMTAsXG4gICAgICAgIDExMSwgMywgOSwgNCwgMCwgMTExLCAxMTIsIDMsIDExLCA1LCAwLCAxMTIsIDExMywgMywgMTMsIDYsIDAsIDExMywgNDIsXG4gICAgICAgIDEsIDAsIDAsIDAsIDExNCwgMTE1LCA3LCA5LCAwLCAwLCAxMTUsIDQ0LCAxLCAwLCAwLCAwLCAxMTYsIDExOCwgNywgMTAsXG4gICAgICAgIDAsIDAsIDExNywgMTE2LCAxLCAwLCAwLCAwLCAxMTgsIDExOSwgMSwgMCwgMCwgMCwgMTE5LCAxMTcsIDEsIDAsIDAsIDAsXG4gICAgICAgIDExOSwgMTIwLCAxLCAwLCAwLCAwLCAxMjAsIDEyMSwgMSwgMCwgMCwgMCwgMTIxLCAxMjIsIDYsIDIyLCAwLCAwLCAxMjIsXG4gICAgICAgIDQ2LCAxLCAwLCAwLCAwLCA4LCAwLCA1MCwgNTQsIDU5LCA2NSwgNjcsIDcyLCAxMTksIDEsIDYsIDAsIDBcbiAgICBdXG5cbiAgICBwcml2YXRlIHN0YXRpYyBfX0FUTjogQVROXG4gICAgcHVibGljIHN0YXRpYyBnZXQgX0FUTigpOiBBVE4ge1xuICAgICAgICBpZiAoIWFyaXRobWV0aWNMZXhlci5fX0FUTikge1xuICAgICAgICAgICAgYXJpdGhtZXRpY0xleGVyLl9fQVROID0gbmV3IEFUTkRlc2VyaWFsaXplcigpLmRlc2VyaWFsaXplKFxuICAgICAgICAgICAgICAgIGFyaXRobWV0aWNMZXhlci5fc2VyaWFsaXplZEFUTlxuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyaXRobWV0aWNMZXhlci5fX0FUTlxuICAgIH1cblxuICAgIHN0YXRpYyBEZWNpc2lvbnNUb0RGQSA9IGFyaXRobWV0aWNMZXhlci5fQVROLmRlY2lzaW9uVG9TdGF0ZS5tYXAoXG4gICAgICAgIChkczogRGVjaXNpb25TdGF0ZSwgaW5kZXg6IG51bWJlcikgPT4gbmV3IERGQShkcywgaW5kZXgpXG4gICAgKVxufVxuIiwiLy8gR2VuZXJhdGVkIGZyb20gLi9zcmMvbWF0aGxpYi91c2VyaW5wdXQvYXJpdGhtZXRpYy5nNCBieSBBTlRMUiA0LjEzLjBcbi8vIG5vaW5zcGVjdGlvbiBFUzZVbnVzZWRJbXBvcnRzLEpTVW51c2VkR2xvYmFsU3ltYm9scyxKU1VudXNlZExvY2FsU3ltYm9sc1xuXG5pbXBvcnQge1xuICAgIEFUTixcbiAgICBBVE5EZXNlcmlhbGl6ZXIsXG4gICAgRGVjaXNpb25TdGF0ZSxcbiAgICBERkEsXG4gICAgRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uLFxuICAgIFJlY29nbml0aW9uRXhjZXB0aW9uLFxuICAgIE5vVmlhYmxlQWx0RXhjZXB0aW9uLFxuICAgIEJhaWxFcnJvclN0cmF0ZWd5LFxuICAgIFBhcnNlcixcbiAgICBQYXJzZXJBVE5TaW11bGF0b3IsXG4gICAgUnVsZUNvbnRleHQsXG4gICAgUGFyc2VyUnVsZUNvbnRleHQsXG4gICAgUHJlZGljdGlvbk1vZGUsXG4gICAgUHJlZGljdGlvbkNvbnRleHRDYWNoZSxcbiAgICBUZXJtaW5hbE5vZGUsXG4gICAgUnVsZU5vZGUsXG4gICAgVG9rZW4sXG4gICAgVG9rZW5TdHJlYW0sXG4gICAgSW50ZXJ2YWwsXG4gICAgSW50ZXJ2YWxTZXRcbn0gZnJvbSBcImFudGxyNFwiXG5pbXBvcnQgYXJpdGhtZXRpY0xpc3RlbmVyIGZyb20gXCIuL2FyaXRobWV0aWNMaXN0ZW5lci5qc1wiXG5pbXBvcnQgYXJpdGhtZXRpY1Zpc2l0b3IgZnJvbSBcIi4vYXJpdGhtZXRpY1Zpc2l0b3IuanNcIlxuXG4vLyBmb3IgcnVubmluZyB0ZXN0cyB3aXRoIHBhcmFtZXRlcnMsIFRPRE86IGRpc2N1c3Mgc3RyYXRlZ3kgZm9yIHR5cGVkIHBhcmFtZXRlcnMgaW4gQ0lcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xudHlwZSBpbnQgPSBudW1iZXJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgYXJpdGhtZXRpY1BhcnNlciBleHRlbmRzIFBhcnNlciB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBTQ0lFTlRJRklDX05VTUJFUiA9IDFcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IExQQVJFTiA9IDJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJQQVJFTiA9IDNcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBMVVMgPSA0XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNSU5VUyA9IDVcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRJTUVTID0gNlxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRElWID0gN1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgR1QgPSA4XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBMVCA9IDlcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVRID0gMTBcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPSU5UID0gMTFcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFBPVyA9IDEyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBJTlQgPSAxM1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTE9HID0gMTRcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFZBUklBQkxFID0gMTVcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFdTID0gMTZcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEVPRiA9IFRva2VuLkVPRlxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUlVMRV9lcXVhdGlvbiA9IDBcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfZXhwcmVzc2lvbiA9IDFcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFJVTEVfY2xvc2VkID0gMlxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUlVMRV9yaWdodF9jbG9zZWQgPSAzXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX29wZW4gPSA0XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX2F0b20gPSA1XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBSVUxFX3JlbG9wID0gNlxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgbGl0ZXJhbE5hbWVzOiAoc3RyaW5nIHwgbnVsbClbXSA9IFtcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgXCInKCdcIixcbiAgICAgICAgXCInKSdcIixcbiAgICAgICAgXCInKydcIixcbiAgICAgICAgXCInLSdcIixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgXCInLydcIixcbiAgICAgICAgXCInPidcIixcbiAgICAgICAgXCInPCdcIixcbiAgICAgICAgXCInPSdcIixcbiAgICAgICAgXCInLidcIixcbiAgICAgICAgXCInXidcIlxuICAgIF1cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IHN5bWJvbGljTmFtZXM6IChzdHJpbmcgfCBudWxsKVtdID0gW1xuICAgICAgICBudWxsLFxuICAgICAgICBcIlNDSUVOVElGSUNfTlVNQkVSXCIsXG4gICAgICAgIFwiTFBBUkVOXCIsXG4gICAgICAgIFwiUlBBUkVOXCIsXG4gICAgICAgIFwiUExVU1wiLFxuICAgICAgICBcIk1JTlVTXCIsXG4gICAgICAgIFwiVElNRVNcIixcbiAgICAgICAgXCJESVZcIixcbiAgICAgICAgXCJHVFwiLFxuICAgICAgICBcIkxUXCIsXG4gICAgICAgIFwiRVFcIixcbiAgICAgICAgXCJQT0lOVFwiLFxuICAgICAgICBcIlBPV1wiLFxuICAgICAgICBcIklOVFwiLFxuICAgICAgICBcIkxPR1wiLFxuICAgICAgICBcIlZBUklBQkxFXCIsXG4gICAgICAgIFwiV1NcIlxuICAgIF1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby10cmFpbGluZy13aGl0ZXNwYWNlXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBydWxlTmFtZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBcImVxdWF0aW9uXCIsXG4gICAgICAgIFwiZXhwcmVzc2lvblwiLFxuICAgICAgICBcImNsb3NlZFwiLFxuICAgICAgICBcInJpZ2h0X2Nsb3NlZFwiLFxuICAgICAgICBcIm9wZW5cIixcbiAgICAgICAgXCJhdG9tXCIsXG4gICAgICAgIFwicmVsb3BcIlxuICAgIF1cbiAgICBwdWJsaWMgZ2V0IGdyYW1tYXJGaWxlTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCJhcml0aG1ldGljLmc0XCJcbiAgICB9XG4gICAgcHVibGljIGdldCBsaXRlcmFsTmFtZXMoKTogKHN0cmluZyB8IG51bGwpW10ge1xuICAgICAgICByZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5saXRlcmFsTmFtZXNcbiAgICB9XG4gICAgcHVibGljIGdldCBzeW1ib2xpY05hbWVzKCk6IChzdHJpbmcgfCBudWxsKVtdIHtcbiAgICAgICAgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuc3ltYm9saWNOYW1lc1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVOYW1lcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiBhcml0aG1ldGljUGFyc2VyLnJ1bGVOYW1lc1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHNlcmlhbGl6ZWRBVE4oKTogbnVtYmVyW10ge1xuICAgICAgICByZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5fc2VyaWFsaXplZEFUTlxuICAgIH1cblxuICAgIHByb3RlY3RlZCBjcmVhdGVGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb24oXG4gICAgICAgIHByZWRpY2F0ZT86IHN0cmluZyxcbiAgICAgICAgbWVzc2FnZT86IHN0cmluZ1xuICAgICk6IEZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbiB7XG4gICAgICAgIHJldHVybiBuZXcgRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uKHRoaXMsIHByZWRpY2F0ZSwgbWVzc2FnZSlcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihpbnB1dDogVG9rZW5TdHJlYW0pIHtcbiAgICAgICAgc3VwZXIoaW5wdXQpXG4gICAgICAgIHRoaXMuX2ludGVycCA9IG5ldyBQYXJzZXJBVE5TaW11bGF0b3IoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgYXJpdGhtZXRpY1BhcnNlci5fQVROLFxuICAgICAgICAgICAgYXJpdGhtZXRpY1BhcnNlci5EZWNpc2lvbnNUb0RGQSxcbiAgICAgICAgICAgIG5ldyBQcmVkaWN0aW9uQ29udGV4dENhY2hlKClcbiAgICAgICAgKVxuICAgIH1cbiAgICAvLyBAUnVsZVZlcnNpb24oMClcbiAgICBwdWJsaWMgZXF1YXRpb24oKTogRXF1YXRpb25Db250ZXh0IHtcbiAgICAgICAgbGV0IGxvY2FsY3R4OiBFcXVhdGlvbkNvbnRleHQgPSBuZXcgRXF1YXRpb25Db250ZXh0KFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIHRoaXMuX2N0eCxcbiAgICAgICAgICAgIHRoaXMuc3RhdGVcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmVudGVyUnVsZShsb2NhbGN0eCwgMCwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2VxdWF0aW9uKVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5lbnRlck91dGVyQWx0KGxvY2FsY3R4LCAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAxNFxuICAgICAgICAgICAgICAgIHRoaXMuZXhwcmVzc2lvbigpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE1XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvcCgpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDE2XG4gICAgICAgICAgICAgICAgdGhpcy5leHByZXNzaW9uKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAocmUpIHtcbiAgICAgICAgICAgIGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxjdHguZXhjZXB0aW9uID0gcmVcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKVxuICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZXhpdFJ1bGUoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGN0eFxuICAgIH1cbiAgICAvLyBAUnVsZVZlcnNpb24oMClcbiAgICBwdWJsaWMgZXhwcmVzc2lvbigpOiBFeHByZXNzaW9uQ29udGV4dCB7XG4gICAgICAgIGxldCBsb2NhbGN0eDogRXhwcmVzc2lvbkNvbnRleHQgPSBuZXcgRXhwcmVzc2lvbkNvbnRleHQoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5fY3R4LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZVxuICAgICAgICApXG4gICAgICAgIHRoaXMuZW50ZXJSdWxlKGxvY2FsY3R4LCAyLCBhcml0aG1ldGljUGFyc2VyLlJVTEVfZXhwcmVzc2lvbilcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMThcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4oMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAocmUpIHtcbiAgICAgICAgICAgIGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxjdHguZXhjZXB0aW9uID0gcmVcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKVxuICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZXhpdFJ1bGUoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGN0eFxuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dFxuICAgIHB1YmxpYyBjbG9zZWQoX3A6IG51bWJlcik6IENsb3NlZENvbnRleHRcbiAgICAvLyBAUnVsZVZlcnNpb24oMClcbiAgICBwdWJsaWMgY2xvc2VkKF9wPzogbnVtYmVyKTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIGlmIChfcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfcCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBfcGFyZW50Y3R4OiBQYXJzZXJSdWxlQ29udGV4dCA9IHRoaXMuX2N0eFxuICAgICAgICBsZXQgX3BhcmVudFN0YXRlOiBudW1iZXIgPSB0aGlzLnN0YXRlXG4gICAgICAgIGxldCBsb2NhbGN0eDogQ2xvc2VkQ29udGV4dCA9IG5ldyBDbG9zZWRDb250ZXh0KFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIHRoaXMuX2N0eCxcbiAgICAgICAgICAgIF9wYXJlbnRTdGF0ZVxuICAgICAgICApXG4gICAgICAgIGxldCBfcHJldmN0eDogQ2xvc2VkQ29udGV4dCA9IGxvY2FsY3R4XG4gICAgICAgIGxldCBfc3RhcnRTdGF0ZTogbnVtYmVyID0gNFxuICAgICAgICB0aGlzLmVudGVyUmVjdXJzaW9uUnVsZShsb2NhbGN0eCwgNCwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2Nsb3NlZCwgX3ApXG4gICAgICAgIGxldCBfbGE6IG51bWJlclxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IF9hbHQ6IG51bWJlclxuICAgICAgICAgICAgdGhpcy5lbnRlck91dGVyQWx0KGxvY2FsY3R4LCAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAzM1xuICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5faW5wdXQuTEEoMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4ID0gbmV3IFBhcmVuQ29udGV4dCh0aGlzLCBsb2NhbGN0eClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdHggPSBsb2NhbGN0eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wcmV2Y3R4ID0gbG9jYWxjdHhcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF0Y2goYXJpdGhtZXRpY1BhcnNlci5MUEFSRU4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDIyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuKDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDIzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLlJQQVJFTilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCA9IG5ldyBDbG9zZWRBdG9tQ29udGV4dCh0aGlzLCBsb2NhbGN0eClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdHggPSBsb2NhbGN0eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wcmV2Y3R4ID0gbG9jYWxjdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF0b20oKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCA9IG5ldyBJbnRlZ3JhbENvbnRleHQodGhpcywgbG9jYWxjdHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4ID0gbG9jYWxjdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcHJldmN0eCA9IGxvY2FsY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDI2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLklOVClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA7KGxvY2FsY3R4IGFzIEludGVncmFsQ29udGV4dCkuX2ludGVncmFuZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VkKDUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4ID0gbmV3IExvZ0NvbnRleHQodGhpcywgbG9jYWxjdHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4ID0gbG9jYWxjdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcHJldmN0eCA9IGxvY2FsY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDI4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLkxPRylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMzBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcnAuYWRhcHRpdmVQcmVkaWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAyOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsobG9jYWxjdHggYXMgTG9nQ29udGV4dCkuX2Jhc2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlZCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDMyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOyhsb2NhbGN0eCBhcyBMb2dDb250ZXh0KS5fY29udGVudCA9IHRoaXMuY2xvc2VkKDEpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vVmlhYmxlQWx0RXhjZXB0aW9uKHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5zdG9wID0gdGhpcy5faW5wdXQuTFQoLTEpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDQ4XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpXG4gICAgICAgICAgICAgICAgX2FsdCA9IHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QodGhpcy5faW5wdXQsIDQsIHRoaXMuX2N0eClcbiAgICAgICAgICAgICAgICB3aGlsZSAoX2FsdCAhPT0gMiAmJiBfYWx0ICE9PSBBVE4uSU5WQUxJRF9BTFRfTlVNQkVSKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYWx0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyc2VMaXN0ZW5lcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlckV4aXRSdWxlRXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXZjdHggPSBsb2NhbGN0eFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA0NlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxjdHggPSBuZXcgRGl2aXNpb25Db250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2xvc2VkQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyZW50Y3R4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOyhsb2NhbGN0eCBhcyBEaXZpc2lvbkNvbnRleHQpLl9sZWZ0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXZjdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hOZXdSZWN1cnNpb25Db250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0YXJ0U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9jbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDM1XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgNCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgdGhpcy5jcmVhdGVGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCA0KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDM2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaChhcml0aG1ldGljUGFyc2VyLkRJVilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMzdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7KGxvY2FsY3R4IGFzIERpdmlzaW9uQ29udGV4dCkuX3JpZ2h0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZWQoNSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCA9IG5ldyBQb3dlckNvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDbG9zZWRDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJlbnRjdHgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7KGxvY2FsY3R4IGFzIFBvd2VyQ29udGV4dCkuX2xlZnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcHJldmN0eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaE5ld1JlY3Vyc2lvbkNvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RhcnRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2Nsb3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMzhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDMpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gMzlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoKGFyaXRobWV0aWNQYXJzZXIuUE9XKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA0MFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsobG9jYWxjdHggYXMgUG93ZXJDb250ZXh0KS5fcmlnaHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlZCg0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4ID0gbmV3IFByb2R1Y3RDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2xvc2VkQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcGFyZW50Y3R4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOyhsb2NhbGN0eCBhcyBQcm9kdWN0Q29udGV4dCkuX2xlZnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcHJldmN0eFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaE5ld1JlY3Vyc2lvbkNvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc3RhcnRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpdGhtZXRpY1BhcnNlci5SVUxFX2Nsb3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDIpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNDNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbGEgPSB0aGlzLl9pbnB1dC5MQSgxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfbGEgPT09IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDQyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaXRobWV0aWNQYXJzZXIuVElNRVNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA0NVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsobG9jYWxjdHggYXMgUHJvZHVjdENvbnRleHQpLl9yaWdodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VkKDMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNTBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIF9hbHQgPSB0aGlzLl9pbnRlcnAuYWRhcHRpdmVQcmVkaWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKHJlKSB7XG4gICAgICAgICAgICBpZiAocmUgaW5zdGFuY2VvZiBSZWNvZ25pdGlvbkV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIGxvY2FsY3R4LmV4Y2VwdGlvbiA9IHJlXG4gICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5yZXBvcnRFcnJvcih0aGlzLCByZSlcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlY292ZXIodGhpcywgcmUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IHJlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVucm9sbFJlY3Vyc2lvbkNvbnRleHRzKF9wYXJlbnRjdHgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsY3R4XG4gICAgfVxuXG4gICAgcHVibGljIHJpZ2h0X2Nsb3NlZCgpOiBSaWdodF9jbG9zZWRDb250ZXh0XG4gICAgcHVibGljIHJpZ2h0X2Nsb3NlZChfcDogbnVtYmVyKTogUmlnaHRfY2xvc2VkQ29udGV4dFxuICAgIC8vIEBSdWxlVmVyc2lvbigwKVxuICAgIHB1YmxpYyByaWdodF9jbG9zZWQoX3A/OiBudW1iZXIpOiBSaWdodF9jbG9zZWRDb250ZXh0IHtcbiAgICAgICAgaWYgKF9wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF9wID0gMFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IF9wYXJlbnRjdHg6IFBhcnNlclJ1bGVDb250ZXh0ID0gdGhpcy5fY3R4XG4gICAgICAgIGxldCBfcGFyZW50U3RhdGU6IG51bWJlciA9IHRoaXMuc3RhdGVcbiAgICAgICAgbGV0IGxvY2FsY3R4OiBSaWdodF9jbG9zZWRDb250ZXh0ID0gbmV3IFJpZ2h0X2Nsb3NlZENvbnRleHQoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5fY3R4LFxuICAgICAgICAgICAgX3BhcmVudFN0YXRlXG4gICAgICAgIClcbiAgICAgICAgbGV0IF9wcmV2Y3R4OiBSaWdodF9jbG9zZWRDb250ZXh0ID0gbG9jYWxjdHhcbiAgICAgICAgbGV0IF9zdGFydFN0YXRlOiBudW1iZXIgPSA2XG4gICAgICAgIHRoaXMuZW50ZXJSZWN1cnNpb25SdWxlKFxuICAgICAgICAgICAgbG9jYWxjdHgsXG4gICAgICAgICAgICA2LFxuICAgICAgICAgICAgYXJpdGhtZXRpY1BhcnNlci5SVUxFX3JpZ2h0X2Nsb3NlZCxcbiAgICAgICAgICAgIF9wXG4gICAgICAgIClcbiAgICAgICAgbGV0IF9sYTogbnVtYmVyXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgX2FsdDogbnVtYmVyXG4gICAgICAgICAgICB0aGlzLmVudGVyT3V0ZXJBbHQobG9jYWxjdHgsIDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDU1XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLl9pbnB1dC5MQSgxKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCA9IG5ldyBDbG9zZWRJc1JpZ2h0X0Nsb3NlZENvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0eCA9IGxvY2FsY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXZjdHggPSBsb2NhbGN0eFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDUyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZWQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4ID0gbmV3IFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxjdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3R4ID0gbG9jYWxjdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcHJldmN0eCA9IGxvY2FsY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDUzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xhID0gdGhpcy5faW5wdXQuTEEoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfbGEgPT09IDQgfHwgX2xhID09PSA1KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlY292ZXJJbmxpbmUodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydE1hdGNoKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA1NFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VkKDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vVmlhYmxlQWx0RXhjZXB0aW9uKHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2N0eC5zdG9wID0gdGhpcy5faW5wdXQuTFQoLTEpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDYxXG4gICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5zeW5jKHRoaXMpXG4gICAgICAgICAgICAgICAgX2FsdCA9IHRoaXMuX2ludGVycC5hZGFwdGl2ZVByZWRpY3QodGhpcy5faW5wdXQsIDYsIHRoaXMuX2N0eClcbiAgICAgICAgICAgICAgICB3aGlsZSAoX2FsdCAhPT0gMiAmJiBfYWx0ICE9PSBBVE4uSU5WQUxJRF9BTFRfTlVNQkVSKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYWx0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyc2VMaXN0ZW5lcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlckV4aXRSdWxlRXZlbnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXZjdHggPSBsb2NhbGN0eFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxjdHggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmlnaHRfY2xvc2VkQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmVudGN0eCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxjdHggYXMgUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0Q29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLl9sZWZ0ID0gX3ByZXZjdHhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXNoTmV3UmVjdXJzaW9uQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N0YXJ0U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcml0aG1ldGljUGFyc2VyLlJVTEVfcmlnaHRfY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDU3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLmNyZWF0ZUZhaWxlZFByZWRpY2F0ZUV4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAxKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDU4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCBhcyBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkuX3JpZ2h0ID0gdGhpcy5jbG9zZWQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDYzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKVxuICAgICAgICAgICAgICAgICAgICBfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgNixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0eFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChyZSkge1xuICAgICAgICAgICAgaWYgKHJlIGluc3RhbmNlb2YgUmVjb2duaXRpb25FeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICBsb2NhbGN0eC5leGNlcHRpb24gPSByZVxuICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIucmVwb3J0RXJyb3IodGhpcywgcmUpXG4gICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyByZVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnJvbGxSZWN1cnNpb25Db250ZXh0cyhfcGFyZW50Y3R4KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGN0eFxuICAgIH1cblxuICAgIHB1YmxpYyBvcGVuKCk6IE9wZW5Db250ZXh0XG4gICAgcHVibGljIG9wZW4oX3A6IG51bWJlcik6IE9wZW5Db250ZXh0XG4gICAgLy8gQFJ1bGVWZXJzaW9uKDApXG4gICAgcHVibGljIG9wZW4oX3A/OiBudW1iZXIpOiBPcGVuQ29udGV4dCB7XG4gICAgICAgIGlmIChfcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfcCA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBfcGFyZW50Y3R4OiBQYXJzZXJSdWxlQ29udGV4dCA9IHRoaXMuX2N0eFxuICAgICAgICBsZXQgX3BhcmVudFN0YXRlOiBudW1iZXIgPSB0aGlzLnN0YXRlXG4gICAgICAgIGxldCBsb2NhbGN0eDogT3BlbkNvbnRleHQgPSBuZXcgT3BlbkNvbnRleHQoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5fY3R4LFxuICAgICAgICAgICAgX3BhcmVudFN0YXRlXG4gICAgICAgIClcbiAgICAgICAgbGV0IF9wcmV2Y3R4OiBPcGVuQ29udGV4dCA9IGxvY2FsY3R4XG4gICAgICAgIGxldCBfc3RhcnRTdGF0ZTogbnVtYmVyID0gOFxuICAgICAgICB0aGlzLmVudGVyUmVjdXJzaW9uUnVsZShsb2NhbGN0eCwgOCwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX29wZW4sIF9wKVxuICAgICAgICBsZXQgX2xhOiBudW1iZXJcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBfYWx0OiBudW1iZXJcbiAgICAgICAgICAgIHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsY3R4ID0gbmV3IFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQodGhpcywgbG9jYWxjdHgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0eCA9IGxvY2FsY3R4XG4gICAgICAgICAgICAgICAgICAgIF9wcmV2Y3R4ID0gbG9jYWxjdHhcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNjVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yaWdodF9jbG9zZWQoMClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LnN0b3AgPSB0aGlzLl9pbnB1dC5MVCgtMSlcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNzJcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnN5bmModGhpcylcbiAgICAgICAgICAgICAgICBfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdCh0aGlzLl9pbnB1dCwgNywgdGhpcy5fY3R4KVxuICAgICAgICAgICAgICAgIHdoaWxlIChfYWx0ICE9PSAyICYmIF9hbHQgIT09IEFUTi5JTlZBTElEX0FMVF9OVU1CRVIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9hbHQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJzZUxpc3RlbmVycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyRXhpdFJ1bGVFdmVudCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfcHJldmN0eCA9IGxvY2FsY3R4XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCA9IG5ldyBTdW1Db250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBPcGVuQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJlbnRjdHgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOyhsb2NhbGN0eCBhcyBTdW1Db250ZXh0KS5fbGVmdCA9IF9wcmV2Y3R4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaE5ld1JlY3Vyc2lvbkNvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGN0eCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zdGFydFN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpdGhtZXRpY1BhcnNlci5SVUxFX29wZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNjdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHRoaXMuY3JlYXRlRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDEpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNjhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xhID0gdGhpcy5faW5wdXQuTEEoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2xhID09PSA0IHx8IF9sYSA9PT0gNSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIucmVjb3ZlcklubGluZSh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5yZXBvcnRNYXRjaCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNjlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOyhsb2NhbGN0eCBhcyBTdW1Db250ZXh0KS5fcmlnaHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yaWdodF9jbG9zZWQoMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDc0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIuc3luYyh0aGlzKVxuICAgICAgICAgICAgICAgICAgICBfYWx0ID0gdGhpcy5faW50ZXJwLmFkYXB0aXZlUHJlZGljdChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgNyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N0eFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChyZSkge1xuICAgICAgICAgICAgaWYgKHJlIGluc3RhbmNlb2YgUmVjb2duaXRpb25FeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICBsb2NhbGN0eC5leGNlcHRpb24gPSByZVxuICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIucmVwb3J0RXJyb3IodGhpcywgcmUpXG4gICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyByZVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnJvbGxSZWN1cnNpb25Db250ZXh0cyhfcGFyZW50Y3R4KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGN0eFxuICAgIH1cbiAgICAvLyBAUnVsZVZlcnNpb24oMClcbiAgICBwdWJsaWMgYXRvbSgpOiBBdG9tQ29udGV4dCB7XG4gICAgICAgIGxldCBsb2NhbGN0eDogQXRvbUNvbnRleHQgPSBuZXcgQXRvbUNvbnRleHQodGhpcywgdGhpcy5fY3R4LCB0aGlzLnN0YXRlKVxuICAgICAgICB0aGlzLmVudGVyUnVsZShsb2NhbGN0eCwgMTAsIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9hdG9tKVxuICAgICAgICBsZXQgX2xhOiBudW1iZXJcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZW50ZXJPdXRlckFsdChsb2NhbGN0eCwgMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gNzVcbiAgICAgICAgICAgICAgICBfbGEgPSB0aGlzLl9pbnB1dC5MQSgxKVxuICAgICAgICAgICAgICAgIGlmICghKF9sYSA9PT0gMSB8fCBfbGEgPT09IDE1KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlY292ZXJJbmxpbmUodGhpcylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydE1hdGNoKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChyZSkge1xuICAgICAgICAgICAgaWYgKHJlIGluc3RhbmNlb2YgUmVjb2duaXRpb25FeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICBsb2NhbGN0eC5leGNlcHRpb24gPSByZVxuICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIucmVwb3J0RXJyb3IodGhpcywgcmUpXG4gICAgICAgICAgICAgICAgdGhpcy5fZXJySGFuZGxlci5yZWNvdmVyKHRoaXMsIHJlKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyByZVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5leGl0UnVsZSgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsY3R4XG4gICAgfVxuICAgIC8vIEBSdWxlVmVyc2lvbigwKVxuICAgIHB1YmxpYyByZWxvcCgpOiBSZWxvcENvbnRleHQge1xuICAgICAgICBsZXQgbG9jYWxjdHg6IFJlbG9wQ29udGV4dCA9IG5ldyBSZWxvcENvbnRleHQoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5fY3R4LFxuICAgICAgICAgICAgdGhpcy5zdGF0ZVxuICAgICAgICApXG4gICAgICAgIHRoaXMuZW50ZXJSdWxlKGxvY2FsY3R4LCAxMiwgYXJpdGhtZXRpY1BhcnNlci5SVUxFX3JlbG9wKVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5lbnRlck91dGVyQWx0KGxvY2FsY3R4LCAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSA3N1xuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2goYXJpdGhtZXRpY1BhcnNlci5FUSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAocmUpIHtcbiAgICAgICAgICAgIGlmIChyZSBpbnN0YW5jZW9mIFJlY29nbml0aW9uRXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxjdHguZXhjZXB0aW9uID0gcmVcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJIYW5kbGVyLnJlcG9ydEVycm9yKHRoaXMsIHJlKVxuICAgICAgICAgICAgICAgIHRoaXMuX2VyckhhbmRsZXIucmVjb3Zlcih0aGlzLCByZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuZXhpdFJ1bGUoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGN0eFxuICAgIH1cblxuICAgIHB1YmxpYyBzZW1wcmVkKFxuICAgICAgICBsb2NhbGN0eDogUnVsZUNvbnRleHQsXG4gICAgICAgIHJ1bGVJbmRleDogbnVtYmVyLFxuICAgICAgICBwcmVkSW5kZXg6IG51bWJlclxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICBzd2l0Y2ggKHJ1bGVJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NlZF9zZW1wcmVkKGxvY2FsY3R4IGFzIENsb3NlZENvbnRleHQsIHByZWRJbmRleClcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yaWdodF9jbG9zZWRfc2VtcHJlZChcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxjdHggYXMgUmlnaHRfY2xvc2VkQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcHJlZEluZGV4XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5fc2VtcHJlZChsb2NhbGN0eCBhcyBPcGVuQ29udGV4dCwgcHJlZEluZGV4KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHByaXZhdGUgY2xvc2VkX3NlbXByZWQoXG4gICAgICAgIGxvY2FsY3R4OiBDbG9zZWRDb250ZXh0LFxuICAgICAgICBwcmVkSW5kZXg6IG51bWJlclxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICBzd2l0Y2ggKHByZWRJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgNClcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVjcHJlZCh0aGlzLl9jdHgsIDMpXG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAyKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHByaXZhdGUgcmlnaHRfY2xvc2VkX3NlbXByZWQoXG4gICAgICAgIGxvY2FsY3R4OiBSaWdodF9jbG9zZWRDb250ZXh0LFxuICAgICAgICBwcmVkSW5kZXg6IG51bWJlclxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgICBzd2l0Y2ggKHByZWRJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWNwcmVkKHRoaXMuX2N0eCwgMSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICBwcml2YXRlIG9wZW5fc2VtcHJlZChsb2NhbGN0eDogT3BlbkNvbnRleHQsIHByZWRJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHN3aXRjaCAocHJlZEluZGV4KSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlY3ByZWQodGhpcy5fY3R4LCAxKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBfc2VyaWFsaXplZEFUTjogbnVtYmVyW10gPSBbXG4gICAgICAgIDQsIDEsIDE2LCA4MCwgMiwgMCwgNywgMCwgMiwgMSwgNywgMSwgMiwgMiwgNywgMiwgMiwgMywgNywgMywgMiwgNCwgNyxcbiAgICAgICAgNCwgMiwgNSwgNywgNSwgMiwgNiwgNywgNiwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMSwgMSwgMSwgMSwgMiwgMSxcbiAgICAgICAgMiwgMSwgMiwgMSwgMiwgMSwgMiwgMSwgMiwgMSwgMiwgMSwgMiwgMSwgMiwgMSwgMiwgMywgMiwgMzEsIDgsIDIsIDEsIDIsXG4gICAgICAgIDMsIDIsIDM0LCA4LCAyLCAxLCAyLCAxLCAyLCAxLCAyLCAxLCAyLCAxLCAyLCAxLCAyLCAxLCAyLCAxLCAyLCAzLCAyLFxuICAgICAgICA0NCwgOCwgMiwgMSwgMiwgNSwgMiwgNDcsIDgsIDIsIDEwLCAyLCAxMiwgMiwgNTAsIDksIDIsIDEsIDMsIDEsIDMsIDEsXG4gICAgICAgIDMsIDEsIDMsIDMsIDMsIDU2LCA4LCAzLCAxLCAzLCAxLCAzLCA1LCAzLCA2MCwgOCwgMywgMTAsIDMsIDEyLCAzLCA2MyxcbiAgICAgICAgOSwgMywgMSwgNCwgMSwgNCwgMSwgNCwgMSwgNCwgMSwgNCwgMSwgNCwgNSwgNCwgNzEsIDgsIDQsIDEwLCA0LCAxMiwgNCxcbiAgICAgICAgNzQsIDksIDQsIDEsIDUsIDEsIDUsIDEsIDYsIDEsIDYsIDEsIDYsIDAsIDMsIDQsIDYsIDgsIDcsIDAsIDIsIDQsIDYsIDgsXG4gICAgICAgIDEwLCAxMiwgMCwgMiwgMSwgMCwgNCwgNSwgMiwgMCwgMSwgMSwgMTUsIDE1LCA4MywgMCwgMTQsIDEsIDAsIDAsIDAsIDIsXG4gICAgICAgIDE4LCAxLCAwLCAwLCAwLCA0LCAzMywgMSwgMCwgMCwgMCwgNiwgNTUsIDEsIDAsIDAsIDAsIDgsIDY0LCAxLCAwLCAwLCAwLFxuICAgICAgICAxMCwgNzUsIDEsIDAsIDAsIDAsIDEyLCA3NywgMSwgMCwgMCwgMCwgMTQsIDE1LCAzLCAyLCAxLCAwLCAxNSwgMTYsIDMsXG4gICAgICAgIDEyLCA2LCAwLCAxNiwgMTcsIDMsIDIsIDEsIDAsIDE3LCAxLCAxLCAwLCAwLCAwLCAxOCwgMTksIDMsIDgsIDQsIDAsIDE5LFxuICAgICAgICAzLCAxLCAwLCAwLCAwLCAyMCwgMjEsIDYsIDIsIC0xLCAwLCAyMSwgMjIsIDUsIDIsIDAsIDAsIDIyLCAyMywgMywgOCwgNCxcbiAgICAgICAgMCwgMjMsIDI0LCA1LCAzLCAwLCAwLCAyNCwgMzQsIDEsIDAsIDAsIDAsIDI1LCAzNCwgMywgMTAsIDUsIDAsIDI2LCAyNyxcbiAgICAgICAgNSwgMTMsIDAsIDAsIDI3LCAzNCwgMywgNCwgMiwgNSwgMjgsIDMwLCA1LCAxNCwgMCwgMCwgMjksIDMxLCAzLCA0LCAyLFxuICAgICAgICAwLCAzMCwgMjksIDEsIDAsIDAsIDAsIDMwLCAzMSwgMSwgMCwgMCwgMCwgMzEsIDMyLCAxLCAwLCAwLCAwLCAzMiwgMzQsXG4gICAgICAgIDMsIDQsIDIsIDEsIDMzLCAyMCwgMSwgMCwgMCwgMCwgMzMsIDI1LCAxLCAwLCAwLCAwLCAzMywgMjYsIDEsIDAsIDAsIDAsXG4gICAgICAgIDMzLCAyOCwgMSwgMCwgMCwgMCwgMzQsIDQ4LCAxLCAwLCAwLCAwLCAzNSwgMzYsIDEwLCA0LCAwLCAwLCAzNiwgMzcsIDUsXG4gICAgICAgIDcsIDAsIDAsIDM3LCA0NywgMywgNCwgMiwgNSwgMzgsIDM5LCAxMCwgMywgMCwgMCwgMzksIDQwLCA1LCAxMiwgMCwgMCxcbiAgICAgICAgNDAsIDQ3LCAzLCA0LCAyLCA0LCA0MSwgNDMsIDEwLCAyLCAwLCAwLCA0MiwgNDQsIDUsIDYsIDAsIDAsIDQzLCA0MiwgMSxcbiAgICAgICAgMCwgMCwgMCwgNDMsIDQ0LCAxLCAwLCAwLCAwLCA0NCwgNDUsIDEsIDAsIDAsIDAsIDQ1LCA0NywgMywgNCwgMiwgMywgNDYsXG4gICAgICAgIDM1LCAxLCAwLCAwLCAwLCA0NiwgMzgsIDEsIDAsIDAsIDAsIDQ2LCA0MSwgMSwgMCwgMCwgMCwgNDcsIDUwLCAxLCAwLCAwLFxuICAgICAgICAwLCA0OCwgNDYsIDEsIDAsIDAsIDAsIDQ4LCA0OSwgMSwgMCwgMCwgMCwgNDksIDUsIDEsIDAsIDAsIDAsIDUwLCA0OCwgMSxcbiAgICAgICAgMCwgMCwgMCwgNTEsIDUyLCA2LCAzLCAtMSwgMCwgNTIsIDU2LCAzLCA0LCAyLCAwLCA1MywgNTQsIDcsIDAsIDAsIDAsXG4gICAgICAgIDU0LCA1NiwgMywgNCwgMiwgMCwgNTUsIDUxLCAxLCAwLCAwLCAwLCA1NSwgNTMsIDEsIDAsIDAsIDAsIDU2LCA2MSwgMSxcbiAgICAgICAgMCwgMCwgMCwgNTcsIDU4LCAxMCwgMSwgMCwgMCwgNTgsIDYwLCAzLCA0LCAyLCAwLCA1OSwgNTcsIDEsIDAsIDAsIDAsXG4gICAgICAgIDYwLCA2MywgMSwgMCwgMCwgMCwgNjEsIDU5LCAxLCAwLCAwLCAwLCA2MSwgNjIsIDEsIDAsIDAsIDAsIDYyLCA3LCAxLCAwLFxuICAgICAgICAwLCAwLCA2MywgNjEsIDEsIDAsIDAsIDAsIDY0LCA2NSwgNiwgNCwgLTEsIDAsIDY1LCA2NiwgMywgNiwgMywgMCwgNjYsXG4gICAgICAgIDcyLCAxLCAwLCAwLCAwLCA2NywgNjgsIDEwLCAxLCAwLCAwLCA2OCwgNjksIDcsIDAsIDAsIDAsIDY5LCA3MSwgMywgNixcbiAgICAgICAgMywgMCwgNzAsIDY3LCAxLCAwLCAwLCAwLCA3MSwgNzQsIDEsIDAsIDAsIDAsIDcyLCA3MCwgMSwgMCwgMCwgMCwgNzIsXG4gICAgICAgIDczLCAxLCAwLCAwLCAwLCA3MywgOSwgMSwgMCwgMCwgMCwgNzQsIDcyLCAxLCAwLCAwLCAwLCA3NSwgNzYsIDcsIDEsIDAsXG4gICAgICAgIDAsIDc2LCAxMSwgMSwgMCwgMCwgMCwgNzcsIDc4LCA1LCAxMCwgMCwgMCwgNzgsIDEzLCAxLCAwLCAwLCAwLCA4LCAzMCxcbiAgICAgICAgMzMsIDQzLCA0NiwgNDgsIDU1LCA2MSwgNzJcbiAgICBdXG5cbiAgICBwcml2YXRlIHN0YXRpYyBfX0FUTjogQVROXG4gICAgcHVibGljIHN0YXRpYyBnZXQgX0FUTigpOiBBVE4ge1xuICAgICAgICBpZiAoIWFyaXRobWV0aWNQYXJzZXIuX19BVE4pIHtcbiAgICAgICAgICAgIGFyaXRobWV0aWNQYXJzZXIuX19BVE4gPSBuZXcgQVRORGVzZXJpYWxpemVyKCkuZGVzZXJpYWxpemUoXG4gICAgICAgICAgICAgICAgYXJpdGhtZXRpY1BhcnNlci5fc2VyaWFsaXplZEFUTlxuICAgICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuX19BVE5cbiAgICB9XG5cbiAgICBzdGF0aWMgRGVjaXNpb25zVG9ERkEgPSBhcml0aG1ldGljUGFyc2VyLl9BVE4uZGVjaXNpb25Ub1N0YXRlLm1hcChcbiAgICAgICAgKGRzOiBEZWNpc2lvblN0YXRlLCBpbmRleDogbnVtYmVyKSA9PiBuZXcgREZBKGRzLCBpbmRleClcbiAgICApXG59XG5cbmV4cG9ydCBjbGFzcyBFcXVhdGlvbkNvbnRleHQgZXh0ZW5kcyBQYXJzZXJSdWxlQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHBhcnNlcj86IGFyaXRobWV0aWNQYXJzZXIsXG4gICAgICAgIHBhcmVudD86IFBhcnNlclJ1bGVDb250ZXh0LFxuICAgICAgICBpbnZva2luZ1N0YXRlPzogbnVtYmVyXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudCwgaW52b2tpbmdTdGF0ZSlcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXJcbiAgICB9XG4gICAgcHVibGljIGV4cHJlc3Npb25fbGlzdCgpOiBFeHByZXNzaW9uQ29udGV4dFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dHMoXG4gICAgICAgICAgICBFeHByZXNzaW9uQ29udGV4dFxuICAgICAgICApIGFzIEV4cHJlc3Npb25Db250ZXh0W11cbiAgICB9XG4gICAgcHVibGljIGV4cHJlc3Npb24oaTogbnVtYmVyKTogRXhwcmVzc2lvbkNvbnRleHQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KFxuICAgICAgICAgICAgRXhwcmVzc2lvbkNvbnRleHQsXG4gICAgICAgICAgICBpXG4gICAgICAgICkgYXMgRXhwcmVzc2lvbkNvbnRleHRcbiAgICB9XG4gICAgcHVibGljIHJlbG9wKCk6IFJlbG9wQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoUmVsb3BDb250ZXh0LCAwKSBhcyBSZWxvcENvbnRleHRcbiAgICB9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9lcXVhdGlvblxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyRXF1YXRpb24pIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVudGVyRXF1YXRpb24odGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdEVxdWF0aW9uKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0RXF1YXRpb24odGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG4gICAgICAgIGlmICh2aXNpdG9yLnZpc2l0RXF1YXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RXF1YXRpb24odGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25Db250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLFxuICAgICAgICBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCxcbiAgICAgICAgaW52b2tpbmdTdGF0ZT86IG51bWJlclxuICAgICkge1xuICAgICAgICBzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpXG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyXG4gICAgfVxuICAgIHB1YmxpYyBvcGVuKCk6IE9wZW5Db250ZXh0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChPcGVuQ29udGV4dCwgMCkgYXMgT3BlbkNvbnRleHRcbiAgICB9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9leHByZXNzaW9uXG4gICAgfVxuICAgIHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZW50ZXJFeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbnRlckV4cHJlc3Npb24odGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdEV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmV4aXRFeHByZXNzaW9uKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgcHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuICAgICAgICBpZiAodmlzaXRvci52aXNpdEV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RXhwcmVzc2lvbih0aGlzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xvc2VkQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlcixcbiAgICAgICAgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsXG4gICAgICAgIGludm9raW5nU3RhdGU/OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBpbnZva2luZ1N0YXRlKVxuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlclxuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHJ1bGVJbmRleCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gYXJpdGhtZXRpY1BhcnNlci5SVUxFX2Nsb3NlZFxuICAgIH1cbiAgICBwdWJsaWMgY29weUZyb20oY3R4OiBDbG9zZWRDb250ZXh0KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmNvcHlGcm9tKGN0eClcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTG9nQ29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuICAgIHB1YmxpYyBfYmFzZSE6IENsb3NlZENvbnRleHRcbiAgICBwdWJsaWMgX2NvbnRlbnQhOiBDbG9zZWRDb250ZXh0XG4gICAgY29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IENsb3NlZENvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSlcbiAgICAgICAgc3VwZXIuY29weUZyb20oY3R4KVxuICAgIH1cbiAgICBwdWJsaWMgTE9HKCk6IFRlcm1pbmFsTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuTE9HLCAwKVxuICAgIH1cbiAgICBwdWJsaWMgY2xvc2VkX2xpc3QoKTogQ2xvc2VkQ29udGV4dFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dHMoQ2xvc2VkQ29udGV4dCkgYXMgQ2xvc2VkQ29udGV4dFtdXG4gICAgfVxuICAgIHB1YmxpYyBjbG9zZWQoaTogbnVtYmVyKTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgaSkgYXMgQ2xvc2VkQ29udGV4dFxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyTG9nKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbnRlckxvZyh0aGlzKVxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5leGl0TG9nKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0TG9nKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgcHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuICAgICAgICBpZiAodmlzaXRvci52aXNpdExvZykge1xuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRMb2codGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbnRlZ3JhbENvbnRleHQgZXh0ZW5kcyBDbG9zZWRDb250ZXh0IHtcbiAgICBwdWJsaWMgX2ludGVncmFuZCE6IENsb3NlZENvbnRleHRcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuICAgICAgICBzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKVxuICAgICAgICBzdXBlci5jb3B5RnJvbShjdHgpXG4gICAgfVxuICAgIHB1YmxpYyBJTlQoKTogVGVybWluYWxOb2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5JTlQsIDApXG4gICAgfVxuICAgIHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgMCkgYXMgQ2xvc2VkQ29udGV4dFxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVySW50ZWdyYWwpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVudGVySW50ZWdyYWwodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdEludGVncmFsKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0SW50ZWdyYWwodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG4gICAgICAgIGlmICh2aXNpdG9yLnZpc2l0SW50ZWdyYWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SW50ZWdyYWwodGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQcm9kdWN0Q29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuICAgIHB1YmxpYyBfbGVmdCE6IENsb3NlZENvbnRleHRcbiAgICBwdWJsaWMgX3JpZ2h0ITogQ2xvc2VkQ29udGV4dFxuICAgIGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBDbG9zZWRDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpXG4gICAgICAgIHN1cGVyLmNvcHlGcm9tKGN0eClcbiAgICB9XG4gICAgcHVibGljIGNsb3NlZF9saXN0KCk6IENsb3NlZENvbnRleHRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHRzKENsb3NlZENvbnRleHQpIGFzIENsb3NlZENvbnRleHRbXVxuICAgIH1cbiAgICBwdWJsaWMgY2xvc2VkKGk6IG51bWJlcik6IENsb3NlZENvbnRleHQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIGkpIGFzIENsb3NlZENvbnRleHRcbiAgICB9XG4gICAgcHVibGljIFRJTUVTKCk6IFRlcm1pbmFsTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuVElNRVMsIDApXG4gICAgfVxuICAgIHB1YmxpYyBlbnRlclJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZW50ZXJQcm9kdWN0KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbnRlclByb2R1Y3QodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdFByb2R1Y3QpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmV4aXRQcm9kdWN0KHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgcHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuICAgICAgICBpZiAodmlzaXRvci52aXNpdFByb2R1Y3QpIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0UHJvZHVjdCh0aGlzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDaGlsZHJlbih0aGlzKVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIERpdmlzaW9uQ29udGV4dCBleHRlbmRzIENsb3NlZENvbnRleHQge1xuICAgIHB1YmxpYyBfbGVmdCE6IENsb3NlZENvbnRleHRcbiAgICBwdWJsaWMgX3JpZ2h0ITogQ2xvc2VkQ29udGV4dFxuICAgIGNvbnN0cnVjdG9yKHBhcnNlcjogYXJpdGhtZXRpY1BhcnNlciwgY3R4OiBDbG9zZWRDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpXG4gICAgICAgIHN1cGVyLmNvcHlGcm9tKGN0eClcbiAgICB9XG4gICAgcHVibGljIERJVigpOiBUZXJtaW5hbE5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLkRJViwgMClcbiAgICB9XG4gICAgcHVibGljIGNsb3NlZF9saXN0KCk6IENsb3NlZENvbnRleHRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHRzKENsb3NlZENvbnRleHQpIGFzIENsb3NlZENvbnRleHRbXVxuICAgIH1cbiAgICBwdWJsaWMgY2xvc2VkKGk6IG51bWJlcik6IENsb3NlZENvbnRleHQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KENsb3NlZENvbnRleHQsIGkpIGFzIENsb3NlZENvbnRleHRcbiAgICB9XG4gICAgcHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5lbnRlckRpdmlzaW9uKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbnRlckRpdmlzaW9uKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmV4aXREaXZpc2lvbikge1xuICAgICAgICAgICAgbGlzdGVuZXIuZXhpdERpdmlzaW9uKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgcHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuICAgICAgICBpZiAodmlzaXRvci52aXNpdERpdmlzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERpdmlzaW9uKHRoaXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2xvc2VkQXRvbUNvbnRleHQgZXh0ZW5kcyBDbG9zZWRDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuICAgICAgICBzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKVxuICAgICAgICBzdXBlci5jb3B5RnJvbShjdHgpXG4gICAgfVxuICAgIHB1YmxpYyBhdG9tKCk6IEF0b21Db250ZXh0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChBdG9tQ29udGV4dCwgMCkgYXMgQXRvbUNvbnRleHRcbiAgICB9XG4gICAgcHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5lbnRlckNsb3NlZEF0b20pIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVudGVyQ2xvc2VkQXRvbSh0aGlzKVxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5leGl0Q2xvc2VkQXRvbSkge1xuICAgICAgICAgICAgbGlzdGVuZXIuZXhpdENsb3NlZEF0b20odGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG4gICAgICAgIGlmICh2aXNpdG9yLnZpc2l0Q2xvc2VkQXRvbSkge1xuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDbG9zZWRBdG9tKHRoaXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUG93ZXJDb250ZXh0IGV4dGVuZHMgQ2xvc2VkQ29udGV4dCB7XG4gICAgcHVibGljIF9sZWZ0ITogQ2xvc2VkQ29udGV4dFxuICAgIHB1YmxpYyBfcmlnaHQhOiBDbG9zZWRDb250ZXh0XG4gICAgY29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IENsb3NlZENvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSlcbiAgICAgICAgc3VwZXIuY29weUZyb20oY3R4KVxuICAgIH1cbiAgICBwdWJsaWMgUE9XKCk6IFRlcm1pbmFsTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuUE9XLCAwKVxuICAgIH1cbiAgICBwdWJsaWMgY2xvc2VkX2xpc3QoKTogQ2xvc2VkQ29udGV4dFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dHMoQ2xvc2VkQ29udGV4dCkgYXMgQ2xvc2VkQ29udGV4dFtdXG4gICAgfVxuICAgIHB1YmxpYyBjbG9zZWQoaTogbnVtYmVyKTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgaSkgYXMgQ2xvc2VkQ29udGV4dFxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyUG93ZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVudGVyUG93ZXIodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdFBvd2VyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0UG93ZXIodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG4gICAgICAgIGlmICh2aXNpdG9yLnZpc2l0UG93ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0UG93ZXIodGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQYXJlbkNvbnRleHQgZXh0ZW5kcyBDbG9zZWRDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogQ2xvc2VkQ29udGV4dCkge1xuICAgICAgICBzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKVxuICAgICAgICBzdXBlci5jb3B5RnJvbShjdHgpXG4gICAgfVxuICAgIHB1YmxpYyBMUEFSRU4oKTogVGVybWluYWxOb2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5MUEFSRU4sIDApXG4gICAgfVxuICAgIHB1YmxpYyBvcGVuKCk6IE9wZW5Db250ZXh0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChPcGVuQ29udGV4dCwgMCkgYXMgT3BlbkNvbnRleHRcbiAgICB9XG4gICAgcHVibGljIFJQQVJFTigpOiBUZXJtaW5hbE5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLlJQQVJFTiwgMClcbiAgICB9XG4gICAgcHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5lbnRlclBhcmVuKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbnRlclBhcmVuKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmV4aXRQYXJlbikge1xuICAgICAgICAgICAgbGlzdGVuZXIuZXhpdFBhcmVuKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgcHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuICAgICAgICBpZiAodmlzaXRvci52aXNpdFBhcmVuKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFBhcmVuKHRoaXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSaWdodF9jbG9zZWRDb250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLFxuICAgICAgICBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCxcbiAgICAgICAgaW52b2tpbmdTdGF0ZT86IG51bWJlclxuICAgICkge1xuICAgICAgICBzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpXG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgcnVsZUluZGV4KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfcmlnaHRfY2xvc2VkXG4gICAgfVxuICAgIHB1YmxpYyBjb3B5RnJvbShjdHg6IFJpZ2h0X2Nsb3NlZENvbnRleHQpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIuY29weUZyb20oY3R4KVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHQgZXh0ZW5kcyBSaWdodF9jbG9zZWRDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogUmlnaHRfY2xvc2VkQ29udGV4dCkge1xuICAgICAgICBzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKVxuICAgICAgICBzdXBlci5jb3B5RnJvbShjdHgpXG4gICAgfVxuICAgIHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgMCkgYXMgQ2xvc2VkQ29udGV4dFxuICAgIH1cbiAgICBwdWJsaWMgUExVUygpOiBUZXJtaW5hbE5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLlBMVVMsIDApXG4gICAgfVxuICAgIHB1YmxpYyBNSU5VUygpOiBUZXJtaW5hbE5vZGUge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUb2tlbihhcml0aG1ldGljUGFyc2VyLk1JTlVTLCAwKVxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyVW5hcnlPbkV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVudGVyVW5hcnlPbkV4cHJlc3Npb24odGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdFVuYXJ5T25FeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0VW5hcnlPbkV4cHJlc3Npb24odGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG4gICAgICAgIGlmICh2aXNpdG9yLnZpc2l0VW5hcnlPbkV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VW5hcnlPbkV4cHJlc3Npb24odGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDbG9zZWRJc1JpZ2h0X0Nsb3NlZENvbnRleHQgZXh0ZW5kcyBSaWdodF9jbG9zZWRDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogUmlnaHRfY2xvc2VkQ29udGV4dCkge1xuICAgICAgICBzdXBlcihwYXJzZXIsIGN0eC5wYXJlbnRDdHgsIGN0eC5pbnZva2luZ1N0YXRlKVxuICAgICAgICBzdXBlci5jb3B5RnJvbShjdHgpXG4gICAgfVxuICAgIHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgMCkgYXMgQ2xvc2VkQ29udGV4dFxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyQ2xvc2VkSXNSaWdodF9DbG9zZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVudGVyQ2xvc2VkSXNSaWdodF9DbG9zZWQodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdENsb3NlZElzUmlnaHRfQ2xvc2VkKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0Q2xvc2VkSXNSaWdodF9DbG9zZWQodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG4gICAgICAgIGlmICh2aXNpdG9yLnZpc2l0Q2xvc2VkSXNSaWdodF9DbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2xvc2VkSXNSaWdodF9DbG9zZWQodGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RDb250ZXh0IGV4dGVuZHMgUmlnaHRfY2xvc2VkQ29udGV4dCB7XG4gICAgcHVibGljIF9sZWZ0ITogUmlnaHRfY2xvc2VkQ29udGV4dFxuICAgIHB1YmxpYyBfcmlnaHQhOiBDbG9zZWRDb250ZXh0XG4gICAgY29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IFJpZ2h0X2Nsb3NlZENvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSlcbiAgICAgICAgc3VwZXIuY29weUZyb20oY3R4KVxuICAgIH1cbiAgICBwdWJsaWMgcmlnaHRfY2xvc2VkKCk6IFJpZ2h0X2Nsb3NlZENvbnRleHQge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUeXBlZFJ1bGVDb250ZXh0KFxuICAgICAgICAgICAgUmlnaHRfY2xvc2VkQ29udGV4dCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgKSBhcyBSaWdodF9jbG9zZWRDb250ZXh0XG4gICAgfVxuICAgIHB1YmxpYyBjbG9zZWQoKTogQ2xvc2VkQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoQ2xvc2VkQ29udGV4dCwgMCkgYXMgQ2xvc2VkQ29udGV4dFxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyUmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbnRlclJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdCh0aGlzKVxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5leGl0UmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0KSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0UmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0KHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgcHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuICAgICAgICBpZiAodmlzaXRvci52aXNpdFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3QodGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9wZW5Db250ZXh0IGV4dGVuZHMgUGFyc2VyUnVsZUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwYXJzZXI/OiBhcml0aG1ldGljUGFyc2VyLFxuICAgICAgICBwYXJlbnQ/OiBQYXJzZXJSdWxlQ29udGV4dCxcbiAgICAgICAgaW52b2tpbmdTdGF0ZT86IG51bWJlclxuICAgICkge1xuICAgICAgICBzdXBlcihwYXJlbnQsIGludm9raW5nU3RhdGUpXG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgcnVsZUluZGV4KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfb3BlblxuICAgIH1cbiAgICBwdWJsaWMgY29weUZyb20oY3R4OiBPcGVuQ29udGV4dCk6IHZvaWQge1xuICAgICAgICBzdXBlci5jb3B5RnJvbShjdHgpXG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJpZ2h0X0Nsb3NlZElzT3BlbkNvbnRleHQgZXh0ZW5kcyBPcGVuQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyOiBhcml0aG1ldGljUGFyc2VyLCBjdHg6IE9wZW5Db250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHBhcnNlciwgY3R4LnBhcmVudEN0eCwgY3R4Lmludm9raW5nU3RhdGUpXG4gICAgICAgIHN1cGVyLmNvcHlGcm9tKGN0eClcbiAgICB9XG4gICAgcHVibGljIHJpZ2h0X2Nsb3NlZCgpOiBSaWdodF9jbG9zZWRDb250ZXh0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VHlwZWRSdWxlQ29udGV4dChcbiAgICAgICAgICAgIFJpZ2h0X2Nsb3NlZENvbnRleHQsXG4gICAgICAgICAgICAwXG4gICAgICAgICkgYXMgUmlnaHRfY2xvc2VkQ29udGV4dFxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyUmlnaHRfQ2xvc2VkSXNPcGVuKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5lbnRlclJpZ2h0X0Nsb3NlZElzT3Blbih0aGlzKVxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBleGl0UnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5leGl0UmlnaHRfQ2xvc2VkSXNPcGVuKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0UmlnaHRfQ2xvc2VkSXNPcGVuKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgcHVibGljIGFjY2VwdDxSZXN1bHQ+KHZpc2l0b3I6IGFyaXRobWV0aWNWaXNpdG9yPFJlc3VsdD4pOiBSZXN1bHQge1xuICAgICAgICBpZiAodmlzaXRvci52aXNpdFJpZ2h0X0Nsb3NlZElzT3Blbikge1xuICAgICAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRSaWdodF9DbG9zZWRJc09wZW4odGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTdW1Db250ZXh0IGV4dGVuZHMgT3BlbkNvbnRleHQge1xuICAgIHB1YmxpYyBfbGVmdCE6IE9wZW5Db250ZXh0XG4gICAgcHVibGljIF9yaWdodCE6IFJpZ2h0X2Nsb3NlZENvbnRleHRcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXI6IGFyaXRobWV0aWNQYXJzZXIsIGN0eDogT3BlbkNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIocGFyc2VyLCBjdHgucGFyZW50Q3R4LCBjdHguaW52b2tpbmdTdGF0ZSlcbiAgICAgICAgc3VwZXIuY29weUZyb20oY3R4KVxuICAgIH1cbiAgICBwdWJsaWMgb3BlbigpOiBPcGVuQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoT3BlbkNvbnRleHQsIDApIGFzIE9wZW5Db250ZXh0XG4gICAgfVxuICAgIHB1YmxpYyBQTFVTKCk6IFRlcm1pbmFsTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuUExVUywgMClcbiAgICB9XG4gICAgcHVibGljIE1JTlVTKCk6IFRlcm1pbmFsTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuTUlOVVMsIDApXG4gICAgfVxuICAgIHB1YmxpYyByaWdodF9jbG9zZWQoKTogUmlnaHRfY2xvc2VkQ29udGV4dCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFR5cGVkUnVsZUNvbnRleHQoXG4gICAgICAgICAgICBSaWdodF9jbG9zZWRDb250ZXh0LFxuICAgICAgICAgICAgMFxuICAgICAgICApIGFzIFJpZ2h0X2Nsb3NlZENvbnRleHRcbiAgICB9XG4gICAgcHVibGljIGVudGVyUnVsZShsaXN0ZW5lcjogYXJpdGhtZXRpY0xpc3RlbmVyKTogdm9pZCB7XG4gICAgICAgIGlmIChsaXN0ZW5lci5lbnRlclN1bSkge1xuICAgICAgICAgICAgbGlzdGVuZXIuZW50ZXJTdW0odGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdFN1bSkge1xuICAgICAgICAgICAgbGlzdGVuZXIuZXhpdFN1bSh0aGlzKVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEBPdmVycmlkZVxuICAgIHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcbiAgICAgICAgaWYgKHZpc2l0b3IudmlzaXRTdW0pIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0U3VtKHRoaXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdENoaWxkcmVuKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBdG9tQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlcixcbiAgICAgICAgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsXG4gICAgICAgIGludm9raW5nU3RhdGU/OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBpbnZva2luZ1N0YXRlKVxuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlclxuICAgIH1cbiAgICBwdWJsaWMgU0NJRU5USUZJQ19OVU1CRVIoKTogVGVybWluYWxOb2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5TQ0lFTlRJRklDX05VTUJFUiwgMClcbiAgICB9XG4gICAgcHVibGljIFZBUklBQkxFKCk6IFRlcm1pbmFsTm9kZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuKGFyaXRobWV0aWNQYXJzZXIuVkFSSUFCTEUsIDApXG4gICAgfVxuICAgIHB1YmxpYyBnZXQgcnVsZUluZGV4KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBhcml0aG1ldGljUGFyc2VyLlJVTEVfYXRvbVxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyQXRvbSkge1xuICAgICAgICAgICAgbGlzdGVuZXIuZW50ZXJBdG9tKHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIGV4aXRSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmV4aXRBdG9tKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0QXRvbSh0aGlzKVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEBPdmVycmlkZVxuICAgIHB1YmxpYyBhY2NlcHQ8UmVzdWx0Pih2aXNpdG9yOiBhcml0aG1ldGljVmlzaXRvcjxSZXN1bHQ+KTogUmVzdWx0IHtcbiAgICAgICAgaWYgKHZpc2l0b3IudmlzaXRBdG9tKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEF0b20odGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbG9wQ29udGV4dCBleHRlbmRzIFBhcnNlclJ1bGVDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcGFyc2VyPzogYXJpdGhtZXRpY1BhcnNlcixcbiAgICAgICAgcGFyZW50PzogUGFyc2VyUnVsZUNvbnRleHQsXG4gICAgICAgIGludm9raW5nU3RhdGU/OiBudW1iZXJcbiAgICApIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBpbnZva2luZ1N0YXRlKVxuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlclxuICAgIH1cbiAgICBwdWJsaWMgRVEoKTogVGVybWluYWxOb2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG9rZW4oYXJpdGhtZXRpY1BhcnNlci5FUSwgMClcbiAgICB9XG4gICAgcHVibGljIGdldCBydWxlSW5kZXgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGFyaXRobWV0aWNQYXJzZXIuUlVMRV9yZWxvcFxuICAgIH1cbiAgICBwdWJsaWMgZW50ZXJSdWxlKGxpc3RlbmVyOiBhcml0aG1ldGljTGlzdGVuZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmVudGVyUmVsb3ApIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmVudGVyUmVsb3AodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgZXhpdFJ1bGUobGlzdGVuZXI6IGFyaXRobWV0aWNMaXN0ZW5lcik6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIuZXhpdFJlbG9wKSB7XG4gICAgICAgICAgICBsaXN0ZW5lci5leGl0UmVsb3AodGhpcylcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBwdWJsaWMgYWNjZXB0PFJlc3VsdD4odmlzaXRvcjogYXJpdGhtZXRpY1Zpc2l0b3I8UmVzdWx0Pik6IFJlc3VsdCB7XG4gICAgICAgIGlmICh2aXNpdG9yLnZpc2l0UmVsb3ApIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0UmVsb3AodGhpcylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q2hpbGRyZW4odGhpcylcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIEdlbmVyYXRlZCBmcm9tIC4vc3JjL21hdGhsaWIvdXNlcmlucHV0L2FyaXRobWV0aWMuZzQgYnkgQU5UTFIgNC4xMy4wXG5cbmltcG9ydCB7IFBhcnNlVHJlZVZpc2l0b3IgfSBmcm9tIFwiYW50bHI0XCJcblxuaW1wb3J0IHsgRXF1YXRpb25Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBFeHByZXNzaW9uQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgTG9nQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgSW50ZWdyYWxDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBQcm9kdWN0Q29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgRGl2aXNpb25Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBDbG9zZWRBdG9tQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgUG93ZXJDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBQYXJlbkNvbnRleHQgfSBmcm9tIFwiLi9hcml0aG1ldGljUGFyc2VyXCJcbmltcG9ydCB7IFVuYXJ5T25FeHByZXNzaW9uQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgQ2xvc2VkSXNSaWdodF9DbG9zZWRDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBSaWdodF9DbG9zZWRJc09wZW5Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBTdW1Db250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5pbXBvcnQgeyBBdG9tQ29udGV4dCB9IGZyb20gXCIuL2FyaXRobWV0aWNQYXJzZXJcIlxuaW1wb3J0IHsgUmVsb3BDb250ZXh0IH0gZnJvbSBcIi4vYXJpdGhtZXRpY1BhcnNlclwiXG5cbi8qKlxuICogVGhpcyBpbnRlcmZhY2UgZGVmaW5lcyBhIGNvbXBsZXRlIGdlbmVyaWMgdmlzaXRvciBmb3IgYSBwYXJzZSB0cmVlIHByb2R1Y2VkXG4gKiBieSBgYXJpdGhtZXRpY1BhcnNlcmAuXG4gKlxuICogQHBhcmFtIDxSZXN1bHQ+IFRoZSByZXR1cm4gdHlwZSBvZiB0aGUgdmlzaXQgb3BlcmF0aW9uLiBVc2UgYHZvaWRgIGZvclxuICogb3BlcmF0aW9ucyB3aXRoIG5vIHJldHVybiB0eXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBhcml0aG1ldGljVmlzaXRvcjxcbiAgICBSZXN1bHRcbj4gZXh0ZW5kcyBQYXJzZVRyZWVWaXNpdG9yPFJlc3VsdD4ge1xuICAgIC8qKlxuICAgICAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSBgYXJpdGhtZXRpY1BhcnNlci5lcXVhdGlvbmAuXG4gICAgICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuICAgICAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG4gICAgICovXG4gICAgdmlzaXRFcXVhdGlvbj86IChjdHg6IEVxdWF0aW9uQ29udGV4dCkgPT4gUmVzdWx0XG4gICAgLyoqXG4gICAgICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IGBhcml0aG1ldGljUGFyc2VyLmV4cHJlc3Npb25gLlxuICAgICAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcbiAgICAgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuICAgICAqL1xuICAgIHZpc2l0RXhwcmVzc2lvbj86IChjdHg6IEV4cHJlc3Npb25Db250ZXh0KSA9PiBSZXN1bHRcbiAgICAvKipcbiAgICAgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgdGhlIGBMb2dgXG4gICAgICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5jbG9zZWRgLlxuICAgICAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcbiAgICAgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuICAgICAqL1xuICAgIHZpc2l0TG9nPzogKGN0eDogTG9nQ29udGV4dCkgPT4gUmVzdWx0XG4gICAgLyoqXG4gICAgICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgSW50ZWdyYWxgXG4gICAgICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5jbG9zZWRgLlxuICAgICAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcbiAgICAgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuICAgICAqL1xuICAgIHZpc2l0SW50ZWdyYWw/OiAoY3R4OiBJbnRlZ3JhbENvbnRleHQpID0+IFJlc3VsdFxuICAgIC8qKlxuICAgICAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFByb2R1Y3RgXG4gICAgICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5jbG9zZWRgLlxuICAgICAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcbiAgICAgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuICAgICAqL1xuICAgIHZpc2l0UHJvZHVjdD86IChjdHg6IFByb2R1Y3RDb250ZXh0KSA9PiBSZXN1bHRcbiAgICAvKipcbiAgICAgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgdGhlIGBEaXZpc2lvbmBcbiAgICAgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG4gICAgICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuICAgICAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG4gICAgICovXG4gICAgdmlzaXREaXZpc2lvbj86IChjdHg6IERpdmlzaW9uQ29udGV4dCkgPT4gUmVzdWx0XG4gICAgLyoqXG4gICAgICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgQ2xvc2VkQXRvbWBcbiAgICAgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG4gICAgICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuICAgICAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG4gICAgICovXG4gICAgdmlzaXRDbG9zZWRBdG9tPzogKGN0eDogQ2xvc2VkQXRvbUNvbnRleHQpID0+IFJlc3VsdFxuICAgIC8qKlxuICAgICAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFBvd2VyYFxuICAgICAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIuY2xvc2VkYC5cbiAgICAgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG4gICAgICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcbiAgICAgKi9cbiAgICB2aXNpdFBvd2VyPzogKGN0eDogUG93ZXJDb250ZXh0KSA9PiBSZXN1bHRcbiAgICAvKipcbiAgICAgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgdGhlIGBQYXJlbmBcbiAgICAgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLmNsb3NlZGAuXG4gICAgICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuICAgICAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG4gICAgICovXG4gICAgdmlzaXRQYXJlbj86IChjdHg6IFBhcmVuQ29udGV4dCkgPT4gUmVzdWx0XG4gICAgLyoqXG4gICAgICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgVW5hcnlPbkV4cHJlc3Npb25gXG4gICAgICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5yaWdodF9jbG9zZWRgLlxuICAgICAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcbiAgICAgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuICAgICAqL1xuICAgIHZpc2l0VW5hcnlPbkV4cHJlc3Npb24/OiAoY3R4OiBVbmFyeU9uRXhwcmVzc2lvbkNvbnRleHQpID0+IFJlc3VsdFxuICAgIC8qKlxuICAgICAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYENsb3NlZElzUmlnaHRfQ2xvc2VkYFxuICAgICAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIucmlnaHRfY2xvc2VkYC5cbiAgICAgKiBAcGFyYW0gY3R4IHRoZSBwYXJzZSB0cmVlXG4gICAgICogQHJldHVybiB0aGUgdmlzaXRvciByZXN1bHRcbiAgICAgKi9cbiAgICB2aXNpdENsb3NlZElzUmlnaHRfQ2xvc2VkPzogKGN0eDogQ2xvc2VkSXNSaWdodF9DbG9zZWRDb250ZXh0KSA9PiBSZXN1bHRcbiAgICAvKipcbiAgICAgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgdGhlIGBSaWdodF9DbG9zZWRJbXBsaWNpdFByb2R1Y3RgXG4gICAgICogbGFiZWxlZCBhbHRlcm5hdGl2ZSBpbiBgYXJpdGhtZXRpY1BhcnNlci5yaWdodF9jbG9zZWRgLlxuICAgICAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcbiAgICAgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuICAgICAqL1xuICAgIHZpc2l0UmlnaHRfQ2xvc2VkSW1wbGljaXRQcm9kdWN0PzogKFxuICAgICAgICBjdHg6IFJpZ2h0X0Nsb3NlZEltcGxpY2l0UHJvZHVjdENvbnRleHRcbiAgICApID0+IFJlc3VsdFxuICAgIC8qKlxuICAgICAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSB0aGUgYFJpZ2h0X0Nsb3NlZElzT3BlbmBcbiAgICAgKiBsYWJlbGVkIGFsdGVybmF0aXZlIGluIGBhcml0aG1ldGljUGFyc2VyLm9wZW5gLlxuICAgICAqIEBwYXJhbSBjdHggdGhlIHBhcnNlIHRyZWVcbiAgICAgKiBAcmV0dXJuIHRoZSB2aXNpdG9yIHJlc3VsdFxuICAgICAqL1xuICAgIHZpc2l0UmlnaHRfQ2xvc2VkSXNPcGVuPzogKGN0eDogUmlnaHRfQ2xvc2VkSXNPcGVuQ29udGV4dCkgPT4gUmVzdWx0XG4gICAgLyoqXG4gICAgICogVmlzaXQgYSBwYXJzZSB0cmVlIHByb2R1Y2VkIGJ5IHRoZSBgU3VtYFxuICAgICAqIGxhYmVsZWQgYWx0ZXJuYXRpdmUgaW4gYGFyaXRobWV0aWNQYXJzZXIub3BlbmAuXG4gICAgICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuICAgICAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG4gICAgICovXG4gICAgdmlzaXRTdW0/OiAoY3R4OiBTdW1Db250ZXh0KSA9PiBSZXN1bHRcbiAgICAvKipcbiAgICAgKiBWaXNpdCBhIHBhcnNlIHRyZWUgcHJvZHVjZWQgYnkgYGFyaXRobWV0aWNQYXJzZXIuYXRvbWAuXG4gICAgICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuICAgICAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG4gICAgICovXG4gICAgdmlzaXRBdG9tPzogKGN0eDogQXRvbUNvbnRleHQpID0+IFJlc3VsdFxuICAgIC8qKlxuICAgICAqIFZpc2l0IGEgcGFyc2UgdHJlZSBwcm9kdWNlZCBieSBgYXJpdGhtZXRpY1BhcnNlci5yZWxvcGAuXG4gICAgICogQHBhcmFtIGN0eCB0aGUgcGFyc2UgdHJlZVxuICAgICAqIEByZXR1cm4gdGhlIHZpc2l0b3IgcmVzdWx0XG4gICAgICovXG4gICAgdmlzaXRSZWxvcD86IChjdHg6IFJlbG9wQ29udGV4dCkgPT4gUmVzdWx0XG59XG4iLCIvKipcbiAqIFdyYXBzIHRoZSBnaXZlbiBtYXRobWwgc3RyaW5nIGluIG1hdGhtbCBwYXJlbnRoYXNlcy5cbiAqIEBwYXJhbSBzdHJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluUGFyZW4oc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxtbz4oPC9tbz5cIiArIHN0ciArIFwiPG1vPik8L21vPlwiXG59XG5cbi8qKlxuICogUHV0cyB0aGUgZ2l2ZW4gbWF0aG1sIGV4cHJlc3Npb24gaW4gYSByb3cgc28gdGhhdFxuICogaXQgZG9lc24ndCBnZXQgZGl2aWRlZCBieSBtYXRoamF4LlxuICogQHBhcmFtIHN0clxuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluUm93KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI8bXJvdz5cIiArIHN0ciArIFwiPC9tcm93PlwiXG59XG5cbi8qKlxuICogV3JhcHMgdGhlIGdpdmVuIHN0cmluZyBpbiA8bWF0aD48L21hdGg+XG4gKiBAcGFyYW0gc3RyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbk1hdGgoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxtYXRoPlwiICsgc3RyICsgXCI8L21hdGg+XCJcbn1cblxuLyoqXG4gKiBXcmFwcyB0aGUgZ2l2ZW4gc3RyaW5nIGluIDxtYXRoIGRpc3BsYXk9J2Jsb2NrJz48L21hdGg+XG4gKiBAcGFyYW0gc3RyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbk1hdGhCbG9jayhzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPG1hdGggZGlzcGxheT0nYmxvY2snPlwiICsgc3RyICsgXCI8L21hdGg+XCJcbn1cbiIsImltcG9ydCB7IEV4cHJlc3Npb24gfSBmcm9tIFwiLi4vZXhwcmVzc2lvbnMvRXhwcmVzc2lvblwiXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPZjxUPiguLi5hcnI6IFRbXSk6IFNldDxUPiB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IFNldDxUPigpXG4gICAgYXJyLmZvckVhY2goZSA9PiBvdXQuYWRkKGUpKVxuICAgIHJldHVybiBvdXRcbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBnaXZlbiBlbGVtZW50cyB0byB0aGUgZ2l2ZW4gY29sbGVjdGlvblxuICogQHBhcmFtIGNvbGxlY3Rpb25cbiAqIEBwYXJhbSBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQWxsPFQ+KGNvbGxlY3Rpb246IFNldDxUPiwgLi4uZWxlbWVudHM6IFRbXSkge1xuICAgIGZvciAoY29uc3QgZSBvZiBlbGVtZW50cykge1xuICAgICAgICBjb2xsZWN0aW9uLmFkZChlKVxuICAgIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaXMgaW4gdGhlIGdpdmVuIGNvbGxlY3Rpb25cbiAqIHVzaW5nIHJlZmVyZW5jaWFsIGVxdWFsaXR5LlxuICogQHBhcmFtIGNvbGxlY3Rpb25cbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBjb2xsZWN0aW9uIGhhcyB0aGUgZWxlbWVudCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzPFQ+KGNvbGxlY3Rpb246IFRbXSwgZWxlbWVudDogVCk6IGJvb2xlYW4ge1xuICAgIGZvciAoY29uc3QgZSBvZiBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChlID09PSBlbGVtZW50KSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2Vcbn1cbiIsIi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBleHByZXNzaW9uIGV2YWx1YXRlZCB0byB0cnVlLiBJZiBub3QsIHRocm93cyBlcnJvclxuICogd2l0aCB0aGUgbWVzc2FnZSBnaXZlbi5cbiAqIEBwYXJhbSBtc2cgRGlzcGxheWVkIGlmIHRoZSBleHByZXNzaW9uIGlzIGZhbHNlLiBEZWZhdWx0cyB0byBcIkZhaWxlZCBBc3NlcnRcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGV4cDogYm9vbGVhbiwgbXNnOiBzdHJpbmcgPSBcIkZhaWxlZCBhc3NlcnRcIik6IHZvaWQge1xuICAgIGlmICghZXhwKSB0aHJvdyBuZXcgRXJyb3IobXNnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yX2FsbDxUPihcbiAgICBpdGVyYWJsZTogSXRlcmFibGU8VD4sXG4gICAgZXhwOiAodmFsOiBUKSA9PiBib29sZWFuXG4pOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgaXRlcmFibGUpIHtcbiAgICAgICAgaWYgKCFleHAoaSkpIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yX3NvbWU8VD4oXG4gICAgaXRlcmFibGU6IEl0ZXJhYmxlPFQ+LFxuICAgIGV4cDogKHZhbDogVCkgPT4gYm9vbGVhblxuKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBpIG9mIGl0ZXJhYmxlKSB7XG4gICAgICAgIGlmIChleHAoaSkpIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxufVxuIiwiKCgpPT57dmFyIHQ9ezkyOigpPT57fX0sZT17fTtmdW5jdGlvbiBuKHIpe3ZhciBvPWVbcl07aWYodm9pZCAwIT09bylyZXR1cm4gby5leHBvcnRzO3ZhciBpPWVbcl09e2V4cG9ydHM6e319O3JldHVybiB0W3JdKGksaS5leHBvcnRzLG4pLGkuZXhwb3J0c31uLmQ9KHQsZSk9Pntmb3IodmFyIHIgaW4gZSluLm8oZSxyKSYmIW4ubyh0LHIpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHtlbnVtZXJhYmxlOiEwLGdldDplW3JdfSl9LG4ubz0odCxlKT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSksbi5yPXQ9PntcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfTt2YXIgcj17fTsoKCk9PntcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUpe3JldHVybiB0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHQoZSl9ZnVuY3Rpb24gZShlLG4pe2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwodm9pZCAwLGk9ZnVuY3Rpb24oZSxuKXtpZihcIm9iamVjdFwiIT09dChlKXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIHI9ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBvPXIuY2FsbChlLFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT10KG8pKXJldHVybiBvO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKGUpfShvLmtleSksXCJzeW1ib2xcIj09PXQoaSk/aTpTdHJpbmcoaSkpLG8pfXZhciBpfW4ucihyKSxuLmQocix7QVROOigpPT5GZSxBVE5EZXNlcmlhbGl6ZXI6KCk9PkhvLEJhaWxFcnJvclN0cmF0ZWd5OigpPT50YSxDaGFyU3RyZWFtOigpPT5hYSxDaGFyU3RyZWFtczooKT0+dmEsQ29tbW9uVG9rZW46KCk9PnlpLENvbW1vblRva2VuU3RyZWFtOigpPT5SYSxERkE6KCk9PmNjLERpYWdub3N0aWNFcnJvckxpc3RlbmVyOigpPT5JYyxFcnJvckxpc3RlbmVyOigpPT5HbyxGYWlsZWRQcmVkaWNhdGVFeGNlcHRpb246KCk9PmpjLElucHV0U3RyZWFtOigpPT5hYSxJbnRlcnZhbDooKT0+QixJbnRlcnZhbFNldDooKT0+VixMTDFBbmFseXplcjooKT0+SWUsTGV4ZXI6KCk9PlVpLExleGVyQVROU2ltdWxhdG9yOigpPT5FdSxOb1ZpYWJsZUFsdEV4Y2VwdGlvbjooKT0+QnUsUGFyc2VUcmVlTGlzdGVuZXI6KCk9PnljLFBhcnNlVHJlZVZpc2l0b3I6KCk9PnZjLFBhcnNlVHJlZVdhbGtlcjooKT0+Z2MsUGFyc2VyOigpPT5VYSxQYXJzZXJBVE5TaW11bGF0b3I6KCk9Pll1LFBhcnNlclJ1bGVDb250ZXh0OigpPT5lbCxQcmVkaWN0aW9uQ29udGV4dENhY2hlOigpPT5YdSxQcmVkaWN0aW9uTW9kZTooKT0+SXUsUmVjb2duaXRpb25FeGNlcHRpb246KCk9PnhpLFJ1bGVDb250ZXh0OigpPT5lZSxSdWxlTm9kZTooKT0+VXQsVGVybWluYWxOb2RlOigpPT5IdCxUb2tlbjooKT0+byxhcnJheVRvU3RyaW5nOigpPT5iLGRlZmF1bHQ6KCk9Pk9sfSk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnNvdXJjZT1udWxsLHRoaXMudHlwZT1udWxsLHRoaXMuY2hhbm5lbD1udWxsLHRoaXMuc3RhcnQ9bnVsbCx0aGlzLnN0b3A9bnVsbCx0aGlzLnRva2VuSW5kZXg9bnVsbCx0aGlzLmxpbmU9bnVsbCx0aGlzLmNvbHVtbj1udWxsLHRoaXMuX3RleHQ9bnVsbH12YXIgbixyO3JldHVybiBuPXQsKHI9W3trZXk6XCJnZXRUb2tlblNvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlWzBdfX0se2tleTpcImdldElucHV0U3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2VbMV19fSx7a2V5OlwidGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dD10fX1dKSYmZShuLnByb3RvdHlwZSxyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gaSh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpfHwhQXJyYXkuaXNBcnJheShlKSlyZXR1cm4hMTtpZih0PT09ZSlyZXR1cm4hMDtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKCEodFtuXT09PWVbbl18fHRbbl0uZXF1YWxzJiZ0W25dLmVxdWFscyhlW25dKSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx1KHQpfW8uSU5WQUxJRF9UWVBFPTAsby5FUFNJTE9OPS0yLG8uTUlOX1VTRVJfVE9LRU5fVFlQRT0xLG8uRU9GPS0xLG8uREVGQVVMVF9DSEFOTkVMPTAsby5ISURERU5fQ0hBTk5FTD0xO3ZhciBjPU1hdGgucm91bmQoTWF0aC5yYW5kb20oKSpNYXRoLnBvdygyLDMyKSk7ZnVuY3Rpb24gYSh0KXtpZighdClyZXR1cm4gMDt2YXIgZSxuLHI9dSh0KSxvPVwic3RyaW5nXCI9PT1yP3Q6IShcIm9iamVjdFwiIT09cnx8IXQudG9TdHJpbmcpJiZ0LnRvU3RyaW5nKCk7aWYoIW8pcmV0dXJuIDA7Zm9yKHZhciBpPTMmby5sZW5ndGgsYT1vLmxlbmd0aC1pLGw9YyxzPTM0MzI5MTgzNTMsZj00NjE4NDU5MDcscD0wO3A8YTspbj0yNTUmby5jaGFyQ29kZUF0KHApfCgyNTUmby5jaGFyQ29kZUF0KCsrcCkpPDw4fCgyNTUmby5jaGFyQ29kZUF0KCsrcCkpPDwxNnwoMjU1Jm8uY2hhckNvZGVBdCgrK3ApKTw8MjQsKytwLGw9Mjc0OTIrKDY1NTM1JihlPTUqKDY1NTM1JihsPShsXj1uPSg2NTUzNSYobj0obj0oNjU1MzUmbikqcysoKChuPj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDE1fG4+Pj4xNykpKmYrKCgobj4+PjE2KSpmJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxM3xsPj4+MTkpKSsoKDUqKGw+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSkpKygoNTg5NjQrKGU+Pj4xNikmNjU1MzUpPDwxNik7c3dpdGNoKG49MCxpKXtjYXNlIDM6bl49KDI1NSZvLmNoYXJDb2RlQXQocCsyKSk8PDE2O2Nhc2UgMjpuXj0oMjU1Jm8uY2hhckNvZGVBdChwKzEpKTw8ODtjYXNlIDE6bF49bj0oNjU1MzUmKG49KG49KDY1NTM1JihuXj0yNTUmby5jaGFyQ29kZUF0KHApKSkqcysoKChuPj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDE1fG4+Pj4xNykpKmYrKCgobj4+PjE2KSpmJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTV9cmV0dXJuIGxePW8ubGVuZ3RoLGw9MjI0NjgyMjUwNyooNjU1MzUmKGxePWw+Pj4xNikpKygoMjI0NjgyMjUwNyoobD4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LGw9MzI2NjQ4OTkwOSooNjU1MzUmKGxePWw+Pj4xMykpKygoMzI2NjQ4OTkwOSoobD4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1LChsXj1sPj4+MTYpPj4+MH1mdW5jdGlvbiBsKHQpe3JldHVybiBsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGwodCl9ZnVuY3Rpb24gcyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09bCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1sKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWwobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5jb3VudD0wLHRoaXMuaGFzaD0wfXZhciBlLG4scjtyZXR1cm4gZT10LG49W3trZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBlPWFyZ3VtZW50c1t0XTtpZihudWxsIT1lKWlmKEFycmF5LmlzQXJyYXkoZSkpdGhpcy51cGRhdGUuYXBwbHkodGhpcyxlKTtlbHNle3ZhciBuPTA7c3dpdGNoKGwoZSkpe2Nhc2VcInVuZGVmaW5lZFwiOmNhc2VcImZ1bmN0aW9uXCI6Y29udGludWU7Y2FzZVwibnVtYmVyXCI6Y2FzZVwiYm9vbGVhblwiOm49ZTticmVhaztjYXNlXCJzdHJpbmdcIjpuPWEoZSk7YnJlYWs7ZGVmYXVsdDplLnVwZGF0ZUhhc2hDb2RlP2UudXBkYXRlSGFzaENvZGUodGhpcyk6Y29uc29sZS5sb2coXCJObyB1cGRhdGVIYXNoQ29kZSBmb3IgXCIrZS50b1N0cmluZygpKTtjb250aW51ZX1uPShuKj0zNDMyOTE4MzUzKTw8MTV8bj4+PjE3LG4qPTQ2MTg0NTkwNyx0aGlzLmNvdW50PXRoaXMuY291bnQrMTt2YXIgcj10aGlzLmhhc2hebjtyPTUqKHI9cjw8MTN8cj4+PjE5KSszODY0MjkyMTk2LHRoaXMuaGFzaD1yfX19fSx7a2V5OlwiZmluaXNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhhc2heNCp0aGlzLmNvdW50O3JldHVybiB0Xj10Pj4+MTYsdCo9MjI0NjgyMjUwNyx0Xj10Pj4+MTMsKHQqPTMyNjY0ODk5MDkpXnQ+Pj4xNn19XSxyPVt7a2V5OlwiaGFzaFN0dWZmXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgdDtyZXR1cm4gZS51cGRhdGUuYXBwbHkoZSxhcmd1bWVudHMpLGUuZmluaXNoKCl9fV0sbiYmcyhlLnByb3RvdHlwZSxuKSxyJiZzKGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIHAodCl7cmV0dXJuIHQ/XCJzdHJpbmdcIj09dHlwZW9mIHQ/YSh0KTp0Lmhhc2hDb2RlKCk6LTF9ZnVuY3Rpb24geSh0LGUpe3JldHVybiB0P3QuZXF1YWxzKGUpOnQ9PT1lfWZ1bmN0aW9uIGgodCl7cmV0dXJuIG51bGw9PT10P1wibnVsbFwiOnR9ZnVuY3Rpb24gYih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9cIltcIit0Lm1hcChoKS5qb2luKFwiLCBcIikrXCJdXCI6XCJudWxsXCJ9ZnVuY3Rpb24gdih0KXtyZXR1cm4gdj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx2KHQpfWZ1bmN0aW9uIGQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXYodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09dihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT12KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgbT1cImgtXCIsZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuZGF0YT17fSx0aGlzLmhhc2hGdW5jdGlvbj1lfHxwLHRoaXMuZXF1YWxzRnVuY3Rpb249bnx8eX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW0rdGhpcy5oYXNoRnVuY3Rpb24odCk7aWYoZSBpbiB0aGlzLmRhdGEpe2Zvcih2YXIgbj10aGlzLmRhdGFbZV0scj0wO3I8bi5sZW5ndGg7cisrKWlmKHRoaXMuZXF1YWxzRnVuY3Rpb24odCxuW3JdKSlyZXR1cm4gbltyXTtyZXR1cm4gbi5wdXNoKHQpLHR9cmV0dXJuIHRoaXMuZGF0YVtlXT1bdF0sdH19LHtrZXk6XCJoYXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dGhpcy5nZXQodCl9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bSt0aGlzLmhhc2hGdW5jdGlvbih0KTtpZihlIGluIHRoaXMuZGF0YSlmb3IodmFyIG49dGhpcy5kYXRhW2VdLHI9MDtyPG4ubGVuZ3RoO3IrKylpZih0aGlzLmVxdWFsc0Z1bmN0aW9uKHQsbltyXSkpcmV0dXJuIG5bcl07cmV0dXJuIG51bGx9fSx7a2V5OlwidmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhcnRzV2l0aChtKX0pKS5mbGF0TWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5kYXRhW2VdfSksdGhpcyl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBiKHRoaXMudmFsdWVzKCkpfX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKG0pfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVtlXS5sZW5ndGh9KSx0aGlzKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApfX1dLG4mJmQoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIFModCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTyh0LGUpfWZ1bmN0aW9uIE8odCxlKXtyZXR1cm4gTz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LE8odCxlKX1mdW5jdGlvbiB3KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4scj1fKHQpO2lmKGUpe3ZhciBvPV8odGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChyLGFyZ3VtZW50cyxvKX1lbHNlIG49ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1QKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLG4pfX1mdW5jdGlvbiBfKHQpe3JldHVybiBfPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxfKHQpfWZ1bmN0aW9uIFAodCl7cmV0dXJuIFA9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sUCh0KX1mdW5jdGlvbiBUKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBFKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1QKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVAocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09UChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gayh0LGUsbil7cmV0dXJuIGUmJkUodC5wcm90b3R5cGUsZSksbiYmRSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH12YXIgaj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtUKHRoaXMsdCl9cmV0dXJuIGsodCxbe2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjtyZXR1cm4gdGhpcy51cGRhdGVIYXNoQ29kZSh0KSx0LmZpbmlzaCgpfX0se2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt9fSx7a2V5OlwiZXZhbFByZWNlZGVuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzfX1dLFt7a2V5OlwiYW5kQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7aWYobnVsbD09PWV8fGU9PT10Lk5PTkUpcmV0dXJuIG47aWYobnVsbD09PW58fG49PT10Lk5PTkUpcmV0dXJuIGU7dmFyIHI9bmV3IHgoZSxuKTtyZXR1cm4gMT09PXIub3BuZHMubGVuZ3RoP3Iub3BuZHNbMF06cn19LHtrZXk6XCJvckNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbihlLG4pe2lmKG51bGw9PT1lKXJldHVybiBuO2lmKG51bGw9PT1uKXJldHVybiBlO2lmKGU9PT10Lk5PTkV8fG49PT10Lk5PTkUpcmV0dXJuIHQuTk9ORTt2YXIgcj1uZXcgUihlLG4pO3JldHVybiAxPT09ci5vcG5kcy5sZW5ndGg/ci5vcG5kc1swXTpyfX1dKSx0fSgpLHg9ZnVuY3Rpb24odCl7UyhuLHQpO3ZhciBlPXcobik7ZnVuY3Rpb24gbih0LHIpe3ZhciBvO1QodGhpcyxuKSxvPWUuY2FsbCh0aGlzKTt2YXIgaT1uZXcgZzt0IGluc3RhbmNlb2Ygbj90Lm9wbmRzLm1hcCgoZnVuY3Rpb24odCl7aS5hZGQodCl9KSk6aS5hZGQodCksciBpbnN0YW5jZW9mIG4/ci5vcG5kcy5tYXAoKGZ1bmN0aW9uKHQpe2kuYWRkKHQpfSkpOmkuYWRkKHIpO3ZhciB1PUMoaSk7aWYodS5sZW5ndGg+MCl7dmFyIGM9bnVsbDt1Lm1hcCgoZnVuY3Rpb24odCl7KG51bGw9PT1jfHx0LnByZWNlZGVuY2U8Yy5wcmVjZWRlbmNlKSYmKGM9dCl9KSksaS5hZGQoYyl9cmV0dXJuIG8ub3BuZHM9QXJyYXkuZnJvbShpLnZhbHVlcygpKSxvfXJldHVybiBrKG4sW3trZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiBuJiZpKHRoaXMub3BuZHMsdC5vcG5kcyl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLm9wbmRzLFwiQU5EXCIpfX0se2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMub3BuZHMubGVuZ3RoO24rKylpZighdGhpcy5vcG5kc1tuXS5ldmFsdWF0ZSh0LGUpKXJldHVybiExO3JldHVybiEwfX0se2tleTpcImV2YWxQcmVjZWRlbmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITEscj1bXSxvPTA7bzx0aGlzLm9wbmRzLmxlbmd0aDtvKyspe3ZhciBpPXRoaXMub3BuZHNbb10sdT1pLmV2YWxQcmVjZWRlbmNlKHQsZSk7aWYobnw9dSE9PWksbnVsbD09PXUpcmV0dXJuIG51bGw7dSE9PWouTk9ORSYmci5wdXNoKHUpfWlmKCFuKXJldHVybiB0aGlzO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4gai5OT05FO3ZhciBjPW51bGw7cmV0dXJuIHIubWFwKChmdW5jdGlvbih0KXtjPW51bGw9PT1jP3Q6ai5hbmRDb250ZXh0KGMsdCl9KSksY319LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcG5kcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKCl9KSk7cmV0dXJuKHQubGVuZ3RoPjM/dC5zbGljZSgzKTp0KS5qb2luKFwiJiZcIil9fV0pLG59KGopLFI9ZnVuY3Rpb24odCl7UyhuLHQpO3ZhciBlPXcobik7ZnVuY3Rpb24gbih0LHIpe3ZhciBvO1QodGhpcyxuKSxvPWUuY2FsbCh0aGlzKTt2YXIgaT1uZXcgZzt0IGluc3RhbmNlb2Ygbj90Lm9wbmRzLm1hcCgoZnVuY3Rpb24odCl7aS5hZGQodCl9KSk6aS5hZGQodCksciBpbnN0YW5jZW9mIG4/ci5vcG5kcy5tYXAoKGZ1bmN0aW9uKHQpe2kuYWRkKHQpfSkpOmkuYWRkKHIpO3ZhciB1PUMoaSk7aWYodS5sZW5ndGg+MCl7dmFyIGM9dS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbXBhcmVUbyhlKX0pKSxhPWNbYy5sZW5ndGgtMV07aS5hZGQoYSl9cmV0dXJuIG8ub3BuZHM9QXJyYXkuZnJvbShpLnZhbHVlcygpKSxvfXJldHVybiBrKG4sW3trZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiBuJiZpKHRoaXMub3BuZHMsdC5vcG5kcyl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLm9wbmRzLFwiT1JcIil9fSx7a2V5OlwiZXZhbHVhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5vcG5kcy5sZW5ndGg7bisrKWlmKHRoaXMub3BuZHNbbl0uZXZhbHVhdGUodCxlKSlyZXR1cm4hMDtyZXR1cm4hMX19LHtrZXk6XCJldmFsUHJlY2VkZW5jZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSExLHI9W10sbz0wO288dGhpcy5vcG5kcy5sZW5ndGg7bysrKXt2YXIgaT10aGlzLm9wbmRzW29dLHU9aS5ldmFsUHJlY2VkZW5jZSh0LGUpO2lmKG58PXUhPT1pLHU9PT1qLk5PTkUpcmV0dXJuIGouTk9ORTtudWxsIT09dSYmci5wdXNoKHUpfWlmKCFuKXJldHVybiB0aGlzO2lmKDA9PT1yLmxlbmd0aClyZXR1cm4gbnVsbDtyZXR1cm4gci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLG51bGx9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3BuZHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygpfSkpO3JldHVybih0Lmxlbmd0aD4zP3Quc2xpY2UoMyk6dCkuam9pbihcInx8XCIpfX1dKSxufShqKTtmdW5jdGlvbiBDKHQpe3ZhciBlPVtdO3JldHVybiB0LnZhbHVlcygpLm1hcCgoZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIGouUHJlY2VkZW5jZVByZWRpY2F0ZSYmZS5wdXNoKHQpfSkpLGV9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gQT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxBKHQpfWZ1bmN0aW9uIE4odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09QShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1BKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBJKHQsZSl7aWYobnVsbD09PXQpe3ZhciBuPXtzdGF0ZTpudWxsLGFsdDpudWxsLGNvbnRleHQ6bnVsbCxzZW1hbnRpY0NvbnRleHQ6bnVsbH07cmV0dXJuIGUmJihuLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PTApLG59dmFyIHI9e307cmV0dXJuIHIuc3RhdGU9dC5zdGF0ZXx8bnVsbCxyLmFsdD12b2lkIDA9PT10LmFsdD9udWxsOnQuYWx0LHIuY29udGV4dD10LmNvbnRleHR8fG51bGwsci5zZW1hbnRpY0NvbnRleHQ9dC5zZW1hbnRpY0NvbnRleHR8fG51bGwsZSYmKHIucmVhY2hlc0ludG9PdXRlckNvbnRleHQ9dC5yZWFjaGVzSW50b091dGVyQ29udGV4dHx8MCxyLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkPXQucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWR8fCExKSxyfXZhciBMPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5jaGVja0NvbnRleHQoZSxuKSxlPUkoZSksbj1JKG4sITApLHRoaXMuc3RhdGU9bnVsbCE9PWUuc3RhdGU/ZS5zdGF0ZTpuLnN0YXRlLHRoaXMuYWx0PW51bGwhPT1lLmFsdD9lLmFsdDpuLmFsdCx0aGlzLmNvbnRleHQ9bnVsbCE9PWUuY29udGV4dD9lLmNvbnRleHQ6bi5jb250ZXh0LHRoaXMuc2VtYW50aWNDb250ZXh0PW51bGwhPT1lLnNlbWFudGljQ29udGV4dD9lLnNlbWFudGljQ29udGV4dDpudWxsIT09bi5zZW1hbnRpY0NvbnRleHQ/bi5zZW1hbnRpY0NvbnRleHQ6ai5OT05FLHRoaXMucmVhY2hlc0ludG9PdXRlckNvbnRleHQ9bi5yZWFjaGVzSW50b091dGVyQ29udGV4dCx0aGlzLnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkPW4ucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWR9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiY2hlY2tDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtudWxsIT09dC5jb250ZXh0JiZ2b2lkIDAhPT10LmNvbnRleHR8fG51bGwhPT1lJiZudWxsIT09ZS5jb250ZXh0JiZ2b2lkIDAhPT1lLmNvbnRleHR8fCh0aGlzLmNvbnRleHQ9bnVsbCl9fSx7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBmO3JldHVybiB0aGlzLnVwZGF0ZUhhc2hDb2RlKHQpLHQuZmluaXNoKCl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLnN0YXRlLnN0YXRlTnVtYmVyLHRoaXMuYWx0LHRoaXMuY29udGV4dCx0aGlzLnNlbWFudGljQ29udGV4dCl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXM9PT1lfHxlIGluc3RhbmNlb2YgdCYmdGhpcy5zdGF0ZS5zdGF0ZU51bWJlcj09PWUuc3RhdGUuc3RhdGVOdW1iZXImJnRoaXMuYWx0PT09ZS5hbHQmJihudWxsPT09dGhpcy5jb250ZXh0P251bGw9PT1lLmNvbnRleHQ6dGhpcy5jb250ZXh0LmVxdWFscyhlLmNvbnRleHQpKSYmdGhpcy5zZW1hbnRpY0NvbnRleHQuZXF1YWxzKGUuc2VtYW50aWNDb250ZXh0KSYmdGhpcy5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZD09PWUucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWR9fSx7a2V5OlwiaGFzaENvZGVGb3JDb25maWdTZXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBmO3JldHVybiB0LnVwZGF0ZSh0aGlzLnN0YXRlLnN0YXRlTnVtYmVyLHRoaXMuYWx0LHRoaXMuc2VtYW50aWNDb250ZXh0KSx0LmZpbmlzaCgpfX0se2tleTpcImVxdWFsc0ZvckNvbmZpZ1NldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzPT09ZXx8ZSBpbnN0YW5jZW9mIHQmJnRoaXMuc3RhdGUuc3RhdGVOdW1iZXI9PT1lLnN0YXRlLnN0YXRlTnVtYmVyJiZ0aGlzLmFsdD09PWUuYWx0JiZ0aGlzLnNlbWFudGljQ29udGV4dC5lcXVhbHMoZS5zZW1hbnRpY0NvbnRleHQpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIihcIit0aGlzLnN0YXRlK1wiLFwiK3RoaXMuYWx0KyhudWxsIT09dGhpcy5jb250ZXh0P1wiLFtcIit0aGlzLmNvbnRleHQudG9TdHJpbmcoKStcIl1cIjpcIlwiKSsodGhpcy5zZW1hbnRpY0NvbnRleHQhPT1qLk5PTkU/XCIsXCIrdGhpcy5zZW1hbnRpY0NvbnRleHQudG9TdHJpbmcoKTpcIlwiKSsodGhpcy5yZWFjaGVzSW50b091dGVyQ29udGV4dD4wP1wiLHVwPVwiK3RoaXMucmVhY2hlc0ludG9PdXRlckNvbnRleHQ6XCJcIikrXCIpXCJ9fV0pJiZOKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBEKHQpe3JldHVybiBEPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEQodCl9ZnVuY3Rpb24gRih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1EKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBCPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5zdGFydD1lLHRoaXMuc3RvcD1ufXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImNsb25lXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcy5zdGFydCx0aGlzLnN0b3ApfX0se2tleTpcImNvbnRhaW5zXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PXRoaXMuc3RhcnQmJnQ8dGhpcy5zdG9wfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydD09PXRoaXMuc3RvcC0xP3RoaXMuc3RhcnQudG9TdHJpbmcoKTp0aGlzLnN0YXJ0LnRvU3RyaW5nKCkrXCIuLlwiKyh0aGlzLnN0b3AtMSkudG9TdHJpbmcoKX19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9wLXRoaXMuc3RhcnR9fV0pJiZGKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBNKHQpe3JldHVybiBNPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE0odCl9ZnVuY3Rpb24gVSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09TSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1NKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PU0obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfUIuSU5WQUxJRF9JTlRFUlZBTD1uZXcgQigtMSwtMik7dmFyIFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmludGVydmFscz1udWxsLHRoaXMucmVhZE9ubHk9ITF9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJmaXJzdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dGhpcy5pbnRlcnZhbHN8fDA9PT10aGlzLmludGVydmFscy5sZW5ndGg/by5JTlZBTElEX1RZUEU6dGhpcy5pbnRlcnZhbHNbMF0uc3RhcnR9fSx7a2V5OlwiYWRkT25lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hZGRJbnRlcnZhbChuZXcgQih0LHQrMSkpfX0se2tleTpcImFkZFJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmFkZEludGVydmFsKG5ldyBCKHQsZSsxKSl9fSx7a2V5OlwiYWRkSW50ZXJ2YWxcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5pbnRlcnZhbHMpdGhpcy5pbnRlcnZhbHM9W10sdGhpcy5pbnRlcnZhbHMucHVzaCh0LmNsb25lKCkpO2Vsc2V7Zm9yKHZhciBlPTA7ZTx0aGlzLmludGVydmFscy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmludGVydmFsc1tlXTtpZih0LnN0b3A8bi5zdGFydClyZXR1cm4gdm9pZCB0aGlzLmludGVydmFscy5zcGxpY2UoZSwwLHQpO2lmKHQuc3RvcD09PW4uc3RhcnQpcmV0dXJuIHZvaWQodGhpcy5pbnRlcnZhbHNbZV09bmV3IEIodC5zdGFydCxuLnN0b3ApKTtpZih0LnN0YXJ0PD1uLnN0b3ApcmV0dXJuIHRoaXMuaW50ZXJ2YWxzW2VdPW5ldyBCKE1hdGgubWluKG4uc3RhcnQsdC5zdGFydCksTWF0aC5tYXgobi5zdG9wLHQuc3RvcCkpLHZvaWQgdGhpcy5yZWR1Y2UoZSl9dGhpcy5pbnRlcnZhbHMucHVzaCh0LmNsb25lKCkpfX19LHtrZXk6XCJhZGRTZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBudWxsIT09dC5pbnRlcnZhbHMmJnQuaW50ZXJ2YWxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZEludGVydmFsKHQpfSksdGhpcyksdGhpc319LHtrZXk6XCJyZWR1Y2VcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0PHRoaXMuaW50ZXJ2YWxzLmxlbmd0aC0xKXt2YXIgZT10aGlzLmludGVydmFsc1t0XSxuPXRoaXMuaW50ZXJ2YWxzW3QrMV07ZS5zdG9wPj1uLnN0b3A/KHRoaXMuaW50ZXJ2YWxzLnNwbGljZSh0KzEsMSksdGhpcy5yZWR1Y2UodCkpOmUuc3RvcD49bi5zdGFydCYmKHRoaXMuaW50ZXJ2YWxzW3RdPW5ldyBCKGUuc3RhcnQsbi5zdG9wKSx0aGlzLmludGVydmFscy5zcGxpY2UodCsxLDEpKX19fSx7a2V5OlwiY29tcGxlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHI9bmV3IHQ7cmV0dXJuIHIuYWRkSW50ZXJ2YWwobmV3IEIoZSxuKzEpKSxudWxsIT09dGhpcy5pbnRlcnZhbHMmJnRoaXMuaW50ZXJ2YWxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiByLnJlbW92ZVJhbmdlKHQpfSkpLHJ9fSx7a2V5OlwiY29udGFpbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5pbnRlcnZhbHMpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmludGVydmFscy5sZW5ndGg7ZSsrKWlmKHRoaXMuaW50ZXJ2YWxzW2VdLmNvbnRhaW5zKHQpKXJldHVybiEwO3JldHVybiExfX0se2tleTpcInJlbW92ZVJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodC5zdGFydD09PXQuc3RvcC0xKXRoaXMucmVtb3ZlT25lKHQuc3RhcnQpO2Vsc2UgaWYobnVsbCE9PXRoaXMuaW50ZXJ2YWxzKWZvcih2YXIgZT0wLG49MDtuPHRoaXMuaW50ZXJ2YWxzLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuaW50ZXJ2YWxzW2VdO2lmKHQuc3RvcDw9ci5zdGFydClyZXR1cm47aWYodC5zdGFydD5yLnN0YXJ0JiZ0LnN0b3A8ci5zdG9wKXt0aGlzLmludGVydmFsc1tlXT1uZXcgQihyLnN0YXJ0LHQuc3RhcnQpO3ZhciBvPW5ldyBCKHQuc3RvcCxyLnN0b3ApO3JldHVybiB2b2lkIHRoaXMuaW50ZXJ2YWxzLnNwbGljZShlLDAsbyl9dC5zdGFydDw9ci5zdGFydCYmdC5zdG9wPj1yLnN0b3A/KHRoaXMuaW50ZXJ2YWxzLnNwbGljZShlLDEpLGUtPTEpOnQuc3RhcnQ8ci5zdG9wP3RoaXMuaW50ZXJ2YWxzW2VdPW5ldyBCKHIuc3RhcnQsdC5zdGFydCk6dC5zdG9wPHIuc3RvcCYmKHRoaXMuaW50ZXJ2YWxzW2VdPW5ldyBCKHQuc3RvcCxyLnN0b3ApKSxlKz0xfX19LHtrZXk6XCJyZW1vdmVPbmVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5pbnRlcnZhbHMpZm9yKHZhciBlPTA7ZTx0aGlzLmludGVydmFscy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLmludGVydmFsc1tlXTtpZih0PG4uc3RhcnQpcmV0dXJuO2lmKHQ9PT1uLnN0YXJ0JiZ0PT09bi5zdG9wLTEpcmV0dXJuIHZvaWQgdGhpcy5pbnRlcnZhbHMuc3BsaWNlKGUsMSk7aWYodD09PW4uc3RhcnQpcmV0dXJuIHZvaWQodGhpcy5pbnRlcnZhbHNbZV09bmV3IEIobi5zdGFydCsxLG4uc3RvcCkpO2lmKHQ9PT1uLnN0b3AtMSlyZXR1cm4gdm9pZCh0aGlzLmludGVydmFsc1tlXT1uZXcgQihuLnN0YXJ0LG4uc3RvcC0xKSk7aWYodDxuLnN0b3AtMSl7dmFyIHI9bmV3IEIobi5zdGFydCx0KTtyZXR1cm4gbi5zdGFydD10KzEsdm9pZCB0aGlzLmludGVydmFscy5zcGxpY2UoZSwwLHIpfX19fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ9dHx8bnVsbCxlPWV8fG51bGwsbj1ufHwhMSxudWxsPT09dGhpcy5pbnRlcnZhbHM/XCJ7fVwiOm51bGwhPT10fHxudWxsIT09ZT90aGlzLnRvVG9rZW5TdHJpbmcodCxlKTpuP3RoaXMudG9DaGFyU3RyaW5nKCk6dGhpcy50b0luZGV4U3RyaW5nKCl9fSx7a2V5OlwidG9DaGFyU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5pbnRlcnZhbHMubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5pbnRlcnZhbHNbZV07bi5zdG9wPT09bi5zdGFydCsxP24uc3RhcnQ9PT1vLkVPRj90LnB1c2goXCI8RU9GPlwiKTp0LnB1c2goXCInXCIrU3RyaW5nLmZyb21DaGFyQ29kZShuLnN0YXJ0KStcIidcIik6dC5wdXNoKFwiJ1wiK1N0cmluZy5mcm9tQ2hhckNvZGUobi5zdGFydCkrXCInLi4nXCIrU3RyaW5nLmZyb21DaGFyQ29kZShuLnN0b3AtMSkrXCInXCIpfXJldHVybiB0Lmxlbmd0aD4xP1wie1wiK3Quam9pbihcIiwgXCIpK1wifVwiOnRbMF19fSx7a2V5OlwidG9JbmRleFN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMuaW50ZXJ2YWxzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuaW50ZXJ2YWxzW2VdO24uc3RvcD09PW4uc3RhcnQrMT9uLnN0YXJ0PT09by5FT0Y/dC5wdXNoKFwiPEVPRj5cIik6dC5wdXNoKG4uc3RhcnQudG9TdHJpbmcoKSk6dC5wdXNoKG4uc3RhcnQudG9TdHJpbmcoKStcIi4uXCIrKG4uc3RvcC0xKS50b1N0cmluZygpKX1yZXR1cm4gdC5sZW5ndGg+MT9cIntcIit0LmpvaW4oXCIsIFwiKStcIn1cIjp0WzBdfX0se2tleTpcInRvVG9rZW5TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjx0aGlzLmludGVydmFscy5sZW5ndGg7cisrKWZvcih2YXIgbz10aGlzLmludGVydmFsc1tyXSxpPW8uc3RhcnQ7aTxvLnN0b3A7aSsrKW4ucHVzaCh0aGlzLmVsZW1lbnROYW1lKHQsZSxpKSk7cmV0dXJuIG4ubGVuZ3RoPjE/XCJ7XCIrbi5qb2luKFwiLCBcIikrXCJ9XCI6blswXX19LHtrZXk6XCJlbGVtZW50TmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbj09PW8uRU9GP1wiPEVPRj5cIjpuPT09by5FUFNJTE9OP1wiPEVQU0lMT04+XCI6dFtuXXx8ZVtuXX19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcnZhbHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGh9KSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSl9fV0sbiYmVShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24geih0KXtyZXR1cm4gej1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx6KHQpfWZ1bmN0aW9uIHEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXoodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09eihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT16KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgSD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuYXRuPW51bGwsdGhpcy5zdGF0ZU51bWJlcj10LklOVkFMSURfU1RBVEVfTlVNQkVSLHRoaXMuc3RhdGVUeXBlPW51bGwsdGhpcy5ydWxlSW5kZXg9MCx0aGlzLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnM9ITEsdGhpcy50cmFuc2l0aW9ucz1bXSx0aGlzLm5leHRUb2tlbldpdGhpblJ1bGU9bnVsbH12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVOdW1iZXJ9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0JiZ0aGlzLnN0YXRlTnVtYmVyPT09ZS5zdGF0ZU51bWJlcn19LHtrZXk6XCJpc05vbkdyZWVkeUV4aXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSx7a2V5OlwiYWRkVHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9LTEpLDA9PT10aGlzLnRyYW5zaXRpb25zLmxlbmd0aD90aGlzLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnM9dC5pc0Vwc2lsb246dGhpcy5lcHNpbG9uT25seVRyYW5zaXRpb25zIT09dC5pc0Vwc2lsb24mJih0aGlzLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnM9ITEpLC0xPT09ZT90aGlzLnRyYW5zaXRpb25zLnB1c2godCk6dGhpcy50cmFuc2l0aW9ucy5zcGxpY2UoZSwxLHQpfX1dKSYmcShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gSyh0KXtyZXR1cm4gSz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxLKHQpfWZ1bmN0aW9uIFkodCxlKXtyZXR1cm4gWT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFkodCxlKX1mdW5jdGlvbiBHKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1LKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gVyh0KX1mdW5jdGlvbiBXKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIFgodCl7cmV0dXJuIFg9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFgodCl9SC5JTlZBTElEX1RZUEU9MCxILkJBU0lDPTEsSC5SVUxFX1NUQVJUPTIsSC5CTE9DS19TVEFSVD0zLEguUExVU19CTE9DS19TVEFSVD00LEguU1RBUl9CTE9DS19TVEFSVD01LEguVE9LRU5fU1RBUlQ9NixILlJVTEVfU1RPUD03LEguQkxPQ0tfRU5EPTgsSC5TVEFSX0xPT1BfQkFDSz05LEguU1RBUl9MT09QX0VOVFJZPTEwLEguUExVU19MT09QX0JBQ0s9MTEsSC5MT09QX0VORD0xMixILnNlcmlhbGl6YXRpb25OYW1lcz1bXCJJTlZBTElEXCIsXCJCQVNJQ1wiLFwiUlVMRV9TVEFSVFwiLFwiQkxPQ0tfU1RBUlRcIixcIlBMVVNfQkxPQ0tfU1RBUlRcIixcIlNUQVJfQkxPQ0tfU1RBUlRcIixcIlRPS0VOX1NUQVJUXCIsXCJSVUxFX1NUT1BcIixcIkJMT0NLX0VORFwiLFwiU1RBUl9MT09QX0JBQ0tcIixcIlNUQVJfTE9PUF9FTlRSWVwiLFwiUExVU19MT09QX0JBQ0tcIixcIkxPT1BfRU5EXCJdLEguSU5WQUxJRF9TVEFURV9OVU1CRVI9LTE7dmFyICQ9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlkodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9WChuKTtpZihyKXt2YXIgbz1YKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBHKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlJVTEVfU1RPUCxHKHQsVyh0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEgpO2Z1bmN0aW9uIEoodCl7cmV0dXJuIEo9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSih0KX1mdW5jdGlvbiBRKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1KKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUoocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09SihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gWih0LGUsbil7cmV0dXJuIGUmJlEodC5wcm90b3R5cGUsZSksbiYmUSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH12YXIgdHQ9WigoZnVuY3Rpb24gdChlKXtpZihmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksbnVsbD09ZSl0aHJvd1widGFyZ2V0IGNhbm5vdCBiZSBudWxsLlwiO3RoaXMudGFyZ2V0PWUsdGhpcy5pc0Vwc2lsb249ITEsdGhpcy5sYWJlbD1udWxsfSkpO2Z1bmN0aW9uIGV0KHQpe3JldHVybiBldD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxldCh0KX1mdW5jdGlvbiBudCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09ZXQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09ZXQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09ZXQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHJ0KHQsZSl7cmV0dXJuIHJ0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scnQodCxlKX1mdW5jdGlvbiBvdCh0KXtyZXR1cm4gb3Q9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LG90KHQpfXR0LkVQU0lMT049MSx0dC5SQU5HRT0yLHR0LlJVTEU9Myx0dC5QUkVESUNBVEU9NCx0dC5BVE9NPTUsdHQuQUNUSU9OPTYsdHQuU0VUPTcsdHQuTk9UX1NFVD04LHR0LldJTERDQVJEPTksdHQuUFJFQ0VERU5DRT0xMCx0dC5zZXJpYWxpemF0aW9uTmFtZXM9W1wiSU5WQUxJRFwiLFwiRVBTSUxPTlwiLFwiUkFOR0VcIixcIlJVTEVcIixcIlBSRURJQ0FURVwiLFwiQVRPTVwiLFwiQUNUSU9OXCIsXCJTRVRcIixcIk5PVF9TRVRcIixcIldJTERDQVJEXCIsXCJQUkVDRURFTkNFXCJdLHR0LnNlcmlhbGl6YXRpb25UeXBlcz17RXBzaWxvblRyYW5zaXRpb246dHQuRVBTSUxPTixSYW5nZVRyYW5zaXRpb246dHQuUkFOR0UsUnVsZVRyYW5zaXRpb246dHQuUlVMRSxQcmVkaWNhdGVUcmFuc2l0aW9uOnR0LlBSRURJQ0FURSxBdG9tVHJhbnNpdGlvbjp0dC5BVE9NLEFjdGlvblRyYW5zaXRpb246dHQuQUNUSU9OLFNldFRyYW5zaXRpb246dHQuU0VULE5vdFNldFRyYW5zaXRpb246dHQuTk9UX1NFVCxXaWxkY2FyZFRyYW5zaXRpb246dHQuV0lMRENBUkQsUHJlY2VkZW5jZVByZWRpY2F0ZVRyYW5zaXRpb246dHQuUFJFQ0VERU5DRX07dmFyIGl0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZydCh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPW90KHIpO2lmKG8pe3ZhciBuPW90KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09ZXQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSxuLHIpe3ZhciBvO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG89aS5jYWxsKHRoaXMsdCkpLnJ1bGVJbmRleD1lLG8ucHJlY2VkZW5jZT1uLG8uZm9sbG93U3RhdGU9cixvLnNlcmlhbGl6YXRpb25UeXBlPXR0LlJVTEUsby5pc0Vwc2lsb249ITAsb31yZXR1cm4gZT11LChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hMX19XSkmJm50KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0odHQpO2Z1bmN0aW9uIHV0KHQpe3JldHVybiB1dD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx1dCh0KX1mdW5jdGlvbiBjdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09dXQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09dXQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09dXQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGF0KHQsZSl7cmV0dXJuIGF0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sYXQodCxlKX1mdW5jdGlvbiBsdCh0KXtyZXR1cm4gbHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGx0KHQpfXZhciBzdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmYXQodCxlKX0oYyx0KTt2YXIgZSxuLHIsaSx1PShyPWMsaT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1sdChyKTtpZihpKXt2YXIgbj1sdCh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXV0KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKG49dS5jYWxsKHRoaXMsdCkpLnNlcmlhbGl6YXRpb25UeXBlPXR0LlNFVCxudWxsIT1lP24ubGFiZWw9ZToobi5sYWJlbD1uZXcgVixuLmxhYmVsLmFkZE9uZShvLklOVkFMSURfVFlQRSkpLG59cmV0dXJuIGU9Yywobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMubGFiZWwuY29udGFpbnModCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsLnRvU3RyaW5nKCl9fV0pJiZjdChlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KHR0KTtmdW5jdGlvbiBmdCh0KXtyZXR1cm4gZnQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZnQodCl9ZnVuY3Rpb24gcHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWZ0KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWZ0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWZ0KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiB5dCgpe3JldHVybiB5dD1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5nZXQ/UmVmbGVjdC5nZXQuYmluZCgpOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1mdW5jdGlvbih0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9YnQodCkpOyk7cmV0dXJuIHR9KHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKGFyZ3VtZW50cy5sZW5ndGg8Mz90Om4pOm8udmFsdWV9fSx5dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaHQodCxlKXtyZXR1cm4gaHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxodCh0LGUpfWZ1bmN0aW9uIGJ0KHQpe3JldHVybiBidD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sYnQodCl9dmFyIHZ0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZodCh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWJ0KHIpO2lmKG8pe3ZhciBuPWJ0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09ZnQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcyx0LGUpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5OT1RfU0VULG59cmV0dXJuIGU9dSwobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ+PWUmJnQ8PW4mJiF5dChidCh1LnByb3RvdHlwZSksXCJtYXRjaGVzXCIsdGhpcykuY2FsbCh0aGlzLHQsZSxuKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ+XCIreXQoYnQodS5wcm90b3R5cGUpLFwidG9TdHJpbmdcIix0aGlzKS5jYWxsKHRoaXMpfX1dKSYmcHQoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShzdCk7ZnVuY3Rpb24gZHQodCl7cmV0dXJuIGR0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGR0KHQpfWZ1bmN0aW9uIG10KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1kdCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1kdChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1kdChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gZ3QodCxlKXtyZXR1cm4gZ3Q9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxndCh0LGUpfWZ1bmN0aW9uIFN0KHQpe3JldHVybiBTdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sU3QodCl9dmFyIE90PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZndCh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVN0KHIpO2lmKG8pe3ZhciBuPVN0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09ZHQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKGU9aS5jYWxsKHRoaXMsdCkpLnNlcmlhbGl6YXRpb25UeXBlPXR0LldJTERDQVJELGV9cmV0dXJuIGU9dSwobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ+PWUmJnQ8PW59fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiLlwifX1dKSYmbXQoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh0dCk7ZnVuY3Rpb24gd3QodCl7cmV0dXJuIHd0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHd0KHQpfWZ1bmN0aW9uIF90KHQsZSl7cmV0dXJuIF90PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sX3QodCxlKX1mdW5jdGlvbiBQdCh0KXtyZXR1cm4gUHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFB0KHQpfXZhciBUdD1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmX3QodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9UHQobik7aWYocil7dmFyIG89UHQodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT13dChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxvLmNhbGwodGhpcyx0KX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0odHQpO2Z1bmN0aW9uIEV0KHQpe3JldHVybiBFdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxFdCh0KX1mdW5jdGlvbiBrdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RXQodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RXQocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RXQobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGp0KHQsZSxuKXtyZXR1cm4gZSYma3QodC5wcm90b3R5cGUsZSksbiYma3QodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24geHQodCl7cmV0dXJuIHh0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHh0KHQpfWZ1bmN0aW9uIFJ0KHQsZSl7cmV0dXJuIFJ0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sUnQodCxlKX1mdW5jdGlvbiBDdCh0KXtyZXR1cm4gQ3Q9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEN0KHQpfWZ1bmN0aW9uIEF0KHQpe3JldHVybiBBdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxBdCh0KX1mdW5jdGlvbiBOdCh0LGUpe3JldHVybiBOdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LE50KHQsZSl9ZnVuY3Rpb24gSXQodCl7cmV0dXJuIEl0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxJdCh0KX12YXIgTHQ9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJk50KHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUl0KG4pO2lmKHIpe3ZhciBvPUl0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09QXQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlJ0KHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUN0KG4pO2lmKHIpe3ZhciBvPUN0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09eHQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oanQoKGZ1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfSkpKSk7ZnVuY3Rpb24gRHQodCl7cmV0dXJuIER0PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LER0KHQpfWZ1bmN0aW9uIEZ0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1EdCh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1EdChyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1EdChvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gQnQodCxlKXtyZXR1cm4gQnQ9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxCdCh0LGUpfWZ1bmN0aW9uIE10KHQpe3JldHVybiBNdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTXQodCl9dmFyIFV0PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZCdCh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPU10KHIpO2lmKG8pe3ZhciBuPU10KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09RHQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZT11LChuPVt7a2V5OlwicnVsZUNvbnRleHRcIixnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGludGVyZmFjZSBpbXBsZW1lbnRhdGlvblwiKX19XSkmJkZ0KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oTHQpO2Z1bmN0aW9uIFZ0KHQpe3JldHVybiBWdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxWdCh0KX1mdW5jdGlvbiB6dCh0LGUpe3JldHVybiB6dD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHp0KHQsZSl9ZnVuY3Rpb24gcXQodCl7cmV0dXJuIHF0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxxdCh0KX12YXIgSHQ9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnp0KHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXF0KG4pO2lmKHIpe3ZhciBvPXF0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09VnQoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oTHQpO2Z1bmN0aW9uIEt0KHQpe3JldHVybiBLdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxLdCh0KX1mdW5jdGlvbiBZdCh0LGUpe3JldHVybiBZdD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFl0KHQsZSl9ZnVuY3Rpb24gR3QodCl7cmV0dXJuIEd0PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxHdCh0KX12YXIgV3Q9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJll0KHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUd0KG4pO2lmKHIpe3ZhciBvPUd0KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09S3QoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSHQpLFh0PXt0b1N0cmluZ1RyZWU6ZnVuY3Rpb24odCxlLG4pe2U9ZXx8bnVsbCxudWxsIT09KG49bnx8bnVsbCkmJihlPW4ucnVsZU5hbWVzKTt2YXIgcj1YdC5nZXROb2RlVGV4dCh0LGUpO3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10LnJlcGxhY2UoL1xcdC9nLFwiXFxcXHRcIikucmVwbGFjZSgvXFxuL2csXCJcXFxcblwiKS5yZXBsYWNlKC9cXHIvZyxcIlxcXFxyXCIpfShyKTt2YXIgbz10LmdldENoaWxkQ291bnQoKTtpZigwPT09bylyZXR1cm4gcjt2YXIgaT1cIihcIityK1wiIFwiO28+MCYmKHI9WHQudG9TdHJpbmdUcmVlKHQuZ2V0Q2hpbGQoMCksZSksaT1pLmNvbmNhdChyKSk7Zm9yKHZhciB1PTE7dTxvO3UrKylyPVh0LnRvU3RyaW5nVHJlZSh0LmdldENoaWxkKHUpLGUpLGk9aS5jb25jYXQoXCIgXCIrcik7cmV0dXJuIGkuY29uY2F0KFwiKVwiKX0sZ2V0Tm9kZVRleHQ6ZnVuY3Rpb24odCxlLG4pe2lmKGU9ZXx8bnVsbCxudWxsIT09KG49bnx8bnVsbCkmJihlPW4ucnVsZU5hbWVzKSxudWxsIT09ZSl7aWYodCBpbnN0YW5jZW9mIFV0KXt2YXIgcj10LnJ1bGVDb250ZXh0LmdldEFsdE51bWJlcigpO3JldHVybiAwIT1yP2VbdC5ydWxlSW5kZXhdK1wiOlwiK3I6ZVt0LnJ1bGVJbmRleF19aWYodCBpbnN0YW5jZW9mIFd0KXJldHVybiB0LnRvU3RyaW5nKCk7aWYodCBpbnN0YW5jZW9mIEh0JiZudWxsIT09dC5zeW1ib2wpcmV0dXJuIHQuc3ltYm9sLnRleHR9dmFyIGk9dC5nZXRQYXlsb2FkKCk7cmV0dXJuIGkgaW5zdGFuY2VvZiBvP2kudGV4dDp0LmdldFBheWxvYWQoKS50b1N0cmluZygpfSxnZXRDaGlsZHJlbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5nZXRDaGlsZENvdW50KCk7bisrKWUucHVzaCh0LmdldENoaWxkKG4pKTtyZXR1cm4gZX0sZ2V0QW5jZXN0b3JzOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih0PXQuZ2V0UGFyZW50KCk7bnVsbCE9PXQ7KWU9W3RdLmNvbmNhdChlKSx0PXQuZ2V0UGFyZW50KCk7cmV0dXJuIGV9LGZpbmRBbGxUb2tlbk5vZGVzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFh0LmZpbmRBbGxOb2Rlcyh0LGUsITApfSxmaW5kQWxsUnVsZU5vZGVzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFh0LmZpbmRBbGxOb2Rlcyh0LGUsITEpfSxmaW5kQWxsTm9kZXM6ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtdO3JldHVybiBYdC5fZmluZEFsbE5vZGVzKHQsZSxuLHIpLHJ9LF9maW5kQWxsTm9kZXM6ZnVuY3Rpb24odCxlLG4scil7biYmdCBpbnN0YW5jZW9mIEh0P3Quc3ltYm9sLnR5cGU9PT1lJiZyLnB1c2godCk6IW4mJnQgaW5zdGFuY2VvZiBVdCYmdC5ydWxlSW5kZXg9PT1lJiZyLnB1c2godCk7Zm9yKHZhciBvPTA7bzx0LmdldENoaWxkQ291bnQoKTtvKyspWHQuX2ZpbmRBbGxOb2Rlcyh0LmdldENoaWxkKG8pLGUsbixyKX0sZGVzY2VuZGFudHM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVt0XSxuPTA7bjx0LmdldENoaWxkQ291bnQoKTtuKyspZT1lLmNvbmNhdChYdC5kZXNjZW5kYW50cyh0LmdldENoaWxkKG4pKSk7cmV0dXJuIGV9fTtjb25zdCAkdD1YdDtmdW5jdGlvbiBKdCh0KXtyZXR1cm4gSnQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSnQodCl9ZnVuY3Rpb24gUXQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUp0KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUp0KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUp0KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBadCh0LGUpe3JldHVybiBadD1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFp0KHQsZSl9ZnVuY3Rpb24gdGUodCl7cmV0dXJuIHRlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx0ZSh0KX12YXIgZWU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlp0KHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9dGUocik7aWYobyl7dmFyIG49dGUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1KdChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzKSkucGFyZW50Q3R4PXR8fG51bGwsbi5pbnZva2luZ1N0YXRlPWV8fC0xLG59cmV0dXJuIGU9dSwobj1be2tleTpcImRlcHRoXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXM7bnVsbCE9PWU7KWU9ZS5wYXJlbnRDdHgsdCs9MTtyZXR1cm4gdH19LHtrZXk6XCJpc0VtcHR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMT09PXRoaXMuaW52b2tpbmdTdGF0ZX19LHtrZXk6XCJnZXRTb3VyY2VJbnRlcnZhbFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEIuSU5WQUxJRF9JTlRFUlZBTH19LHtrZXk6XCJydWxlQ29udGV4dFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0se2tleTpcImdldFBheWxvYWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0se2tleTpcImdldFRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5nZXRDaGlsZENvdW50KCk/XCJcIjp0aGlzLmNoaWxkcmVuLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0VGV4dCgpfSkpLmpvaW4oXCJcIil9fSx7a2V5OlwiZ2V0QWx0TnVtYmVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6XCJzZXRBbHROdW1iZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwiZ2V0Q2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRDaGlsZENvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6XCJhY2NlcHRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNpdENoaWxkcmVuKHRoaXMpfX0se2tleTpcInRvU3RyaW5nVHJlZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuICR0LnRvU3RyaW5nVHJlZSh0aGlzLHQsZSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3Q9dHx8bnVsbCxlPWV8fG51bGw7Zm9yKHZhciBuPXRoaXMscj1cIltcIjtudWxsIT09biYmbiE9PWU7KXtpZihudWxsPT09dCluLmlzRW1wdHkoKXx8KHIrPW4uaW52b2tpbmdTdGF0ZSk7ZWxzZXt2YXIgbz1uLnJ1bGVJbmRleDtyKz1vPj0wJiZvPHQubGVuZ3RoP3Rbb106XCJcIitvfW51bGw9PT1uLnBhcmVudEN0eHx8bnVsbD09PXQmJm4ucGFyZW50Q3R4LmlzRW1wdHkoKXx8KHIrPVwiIFwiKSxuPW4ucGFyZW50Q3R4fXJldHVybiByK1wiXVwifX1dKSYmUXQoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShVdCk7ZnVuY3Rpb24gbmUodCl7cmV0dXJuIG5lPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LG5lKHQpfWZ1bmN0aW9uIHJlKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1uZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1uZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1uZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIG9lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuY2FjaGVkSGFzaENvZGU9ZX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJpc0VtcHR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PXQuRU1QVFl9fSx7a2V5OlwiaGFzRW1wdHlQYXRoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZXR1cm5TdGF0ZSh0aGlzLmxlbmd0aC0xKT09PXQuRU1QVFlfUkVUVVJOX1NUQVRFfX0se2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWNoZWRIYXNoQ29kZX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuY2FjaGVkSGFzaENvZGUpfX1dKSYmcmUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2Z1bmN0aW9uIGllKHQpe3JldHVybiBpZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpZSh0KX1mdW5jdGlvbiB1ZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09aWUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09aWUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09aWUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGNlKHQsZSl7cmV0dXJuIGNlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sY2UodCxlKX1mdW5jdGlvbiBhZSh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09aWUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBsZSh0KX1mdW5jdGlvbiBsZSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBzZSh0KXtyZXR1cm4gc2U9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHNlKHQpfW9lLkVNUFRZPW51bGwsb2UuRU1QVFlfUkVUVVJOX1NUQVRFPTIxNDc0ODM2NDcsb2UuZ2xvYmFsTm9kZUNvdW50PTEsb2UuaWQ9b2UuZ2xvYmFsTm9kZUNvdW50LG9lLnRyYWNlX2F0bl9zaW09ITE7dmFyIGZlPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZjZSh0LGUpfShjLHQpO3ZhciBlLG4scixvLHU9KHI9YyxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXNlKHIpO2lmKG8pe3ZhciBuPXNlKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBhZSh0aGlzLHQpfSk7ZnVuY3Rpb24gYyh0LGUpe3ZhciBuOyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyk7dmFyIHI9bmV3IGY7ci51cGRhdGUodCxlKTt2YXIgbz1yLmZpbmlzaCgpO3JldHVybihuPXUuY2FsbCh0aGlzLG8pKS5wYXJlbnRzPXQsbi5yZXR1cm5TdGF0ZXM9ZSxhZShuLGxlKG4pKX1yZXR1cm4gZT1jLG49W3trZXk6XCJpc0VtcHR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXR1cm5TdGF0ZXNbMF09PT1vZS5FTVBUWV9SRVRVUk5fU1RBVEV9fSx7a2V5OlwiZ2V0UGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFyZW50c1t0XX19LHtrZXk6XCJnZXRSZXR1cm5TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJldHVyblN0YXRlc1t0XX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiBjJiZ0aGlzLmhhc2hDb2RlKCk9PT10Lmhhc2hDb2RlKCkmJmkodGhpcy5yZXR1cm5TdGF0ZXMsdC5yZXR1cm5TdGF0ZXMpJiZpKHRoaXMucGFyZW50cyx0LnBhcmVudHMpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm5cIltdXCI7Zm9yKHZhciB0PVwiW1wiLGU9MDtlPHRoaXMucmV0dXJuU3RhdGVzLmxlbmd0aDtlKyspZT4wJiYodCs9XCIsIFwiKSx0aGlzLnJldHVyblN0YXRlc1tlXSE9PW9lLkVNUFRZX1JFVFVSTl9TVEFURT8odCs9dGhpcy5yZXR1cm5TdGF0ZXNbZV0sbnVsbCE9PXRoaXMucGFyZW50c1tlXT90PXQrXCIgXCIrdGhpcy5wYXJlbnRzW2VdOnQrPVwibnVsbFwiKTp0Kz1cIiRcIjtyZXR1cm4gdCtcIl1cIn19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXR1cm5TdGF0ZXMubGVuZ3RofX1dLG4mJnVlKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30ob2UpO2Z1bmN0aW9uIHBlKHQpe3JldHVybiBwZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxwZSh0KX1mdW5jdGlvbiB5ZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09cGUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09cGUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09cGUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGhlKHQsZSl7cmV0dXJuIGhlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0saGUodCxlKX1mdW5jdGlvbiBiZSh0KXtyZXR1cm4gYmU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGJlKHQpfXZhciB2ZT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmaGUodCxlKX0oYyx0KTt2YXIgZSxuLHIsbyxpLHU9KG89YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWJlKG8pO2lmKGkpe3ZhciBuPWJlKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09cGUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQsZSl7dmFyIG47IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKTt2YXIgcixvPW5ldyBmO3JldHVybiBudWxsIT09dD9vLnVwZGF0ZSh0LGUpOm8udXBkYXRlKDEpLHI9by5maW5pc2goKSwobj11LmNhbGwodGhpcyxyKSkucGFyZW50Q3R4PXQsbi5yZXR1cm5TdGF0ZT1lLG59cmV0dXJuIGU9YyxyPVt7a2V5OlwiY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT09PW9lLkVNUFRZX1JFVFVSTl9TVEFURSYmbnVsbD09PXQ/b2UuRU1QVFk6bmV3IGModCxlKX19XSwobj1be2tleTpcImdldFBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhcmVudEN0eH19LHtrZXk6XCJnZXRSZXR1cm5TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJldHVyblN0YXRlfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIGMmJnRoaXMuaGFzaENvZGUoKT09PXQuaGFzaENvZGUoKSYmdGhpcy5yZXR1cm5TdGF0ZT09PXQucmV0dXJuU3RhdGUmJihudWxsPT10aGlzLnBhcmVudEN0eD9udWxsPT10LnBhcmVudEN0eDp0aGlzLnBhcmVudEN0eC5lcXVhbHModC5wYXJlbnRDdHgpKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bnVsbD09PXRoaXMucGFyZW50Q3R4P1wiXCI6dGhpcy5wYXJlbnRDdHgudG9TdHJpbmcoKTtyZXR1cm4gMD09PXQubGVuZ3RoP3RoaXMucmV0dXJuU3RhdGU9PT1vZS5FTVBUWV9SRVRVUk5fU1RBVEU/XCIkXCI6XCJcIit0aGlzLnJldHVyblN0YXRlOnRoaXMucmV0dXJuU3RhdGUrXCIgXCIrdH19LHtrZXk6XCJsZW5ndGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMX19XSkmJnllKGUucHJvdG90eXBlLG4pLHImJnllKGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShvZSk7ZnVuY3Rpb24gZGUodCl7cmV0dXJuIGRlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGRlKHQpfWZ1bmN0aW9uIG1lKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1kZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1kZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1kZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gZ2UodCxlKXtyZXR1cm4gZ2U9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxnZSh0LGUpfWZ1bmN0aW9uIFNlKHQpe3JldHVybiBTZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sU2UodCl9dmFyIE9lPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZnZSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVNlKHIpO2lmKG8pe3ZhciBuPVNlKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09ZGUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcyxudWxsLG9lLkVNUFRZX1JFVFVSTl9TVEFURSl9cmV0dXJuIGU9dSwobj1be2tleTpcImlzRW1wdHlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleTpcImdldFBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsfX0se2tleTpcImdldFJldHVyblN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmV0dXJuU3RhdGV9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIiRcIn19XSkmJm1lKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0odmUpO2Z1bmN0aW9uIHdlKHQpe3JldHVybiB3ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx3ZSh0KX1mdW5jdGlvbiBfZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09d2UodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09d2UocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09d2Uobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfW9lLkVNUFRZPW5ldyBPZTt2YXIgUGU9XCJoLVwiLFRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5kYXRhPXt9LHRoaXMuaGFzaEZ1bmN0aW9uPWV8fHAsdGhpcy5lcXVhbHNGdW5jdGlvbj1ufHx5fXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1QZSt0aGlzLmhhc2hGdW5jdGlvbih0KTtpZihuIGluIHRoaXMuZGF0YSl7Zm9yKHZhciByPXRoaXMuZGF0YVtuXSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb107aWYodGhpcy5lcXVhbHNGdW5jdGlvbih0LGkua2V5KSl7dmFyIHU9aS52YWx1ZTtyZXR1cm4gaS52YWx1ZT1lLHV9fXJldHVybiByLnB1c2goe2tleTp0LHZhbHVlOmV9KSxlfXJldHVybiB0aGlzLmRhdGFbbl09W3trZXk6dCx2YWx1ZTplfV0sZX19LHtrZXk6XCJjb250YWluc0tleVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVBlK3RoaXMuaGFzaEZ1bmN0aW9uKHQpO2lmKGUgaW4gdGhpcy5kYXRhKWZvcih2YXIgbj10aGlzLmRhdGFbZV0scj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgbz1uW3JdO2lmKHRoaXMuZXF1YWxzRnVuY3Rpb24odCxvLmtleSkpcmV0dXJuITB9cmV0dXJuITF9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9UGUrdGhpcy5oYXNoRnVuY3Rpb24odCk7aWYoZSBpbiB0aGlzLmRhdGEpZm9yKHZhciBuPXRoaXMuZGF0YVtlXSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07aWYodGhpcy5lcXVhbHNGdW5jdGlvbih0LG8ua2V5KSlyZXR1cm4gby52YWx1ZX1yZXR1cm4gbnVsbH19LHtrZXk6XCJlbnRyaWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhcnRzV2l0aChQZSl9KSkuZmxhdE1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVtlXX0pLHRoaXMpfX0se2tleTpcImdldEtleXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXMoKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleX0pKX19LHtrZXk6XCJnZXRWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXMoKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSkpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIltcIit0aGlzLmVudHJpZXMoKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwie1wiK3Qua2V5K1wiOlwiK3QudmFsdWUrXCJ9XCJ9KSkuam9pbihcIiwgXCIpK1wiXVwifX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFBlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRhdGFbZV0ubGVuZ3RofSksdGhpcykucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSwwKX19XSxuJiZfZShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gRWUodCxlKXtpZihudWxsPT1lJiYoZT1lZS5FTVBUWSksbnVsbD09PWUucGFyZW50Q3R4fHxlPT09ZWUuRU1QVFkpcmV0dXJuIG9lLkVNUFRZO3ZhciBuPUVlKHQsZS5wYXJlbnRDdHgpLHI9dC5zdGF0ZXNbZS5pbnZva2luZ1N0YXRlXS50cmFuc2l0aW9uc1swXTtyZXR1cm4gdmUuY3JlYXRlKG4sci5mb2xsb3dTdGF0ZS5zdGF0ZU51bWJlcil9ZnVuY3Rpb24ga2UodCxlLG4pe2lmKHQuaXNFbXB0eSgpKXJldHVybiB0O3ZhciByPW4uZ2V0KHQpfHxudWxsO2lmKG51bGwhPT1yKXJldHVybiByO2lmKG51bGwhPT0ocj1lLmdldCh0KSkpcmV0dXJuIG4uc2V0KHQscikscjtmb3IodmFyIG89ITEsaT1bXSx1PTA7dTxpLmxlbmd0aDt1Kyspe3ZhciBjPWtlKHQuZ2V0UGFyZW50KHUpLGUsbik7aWYob3x8YyE9PXQuZ2V0UGFyZW50KHUpKXtpZighbyl7aT1bXTtmb3IodmFyIGE9MDthPHQubGVuZ3RoO2ErKylpW2FdPXQuZ2V0UGFyZW50KGEpO289ITB9aVt1XT1jfX1pZighbylyZXR1cm4gZS5hZGQodCksbi5zZXQodCx0KSx0O3ZhciBsO3JldHVybiBsPTA9PT1pLmxlbmd0aD9vZS5FTVBUWToxPT09aS5sZW5ndGg/dmUuY3JlYXRlKGlbMF0sdC5nZXRSZXR1cm5TdGF0ZSgwKSk6bmV3IGZlKGksdC5yZXR1cm5TdGF0ZXMpLGUuYWRkKGwpLG4uc2V0KGwsbCksbi5zZXQodCxsKSxsfWZ1bmN0aW9uIGplKHQsZSxuLHIpe2lmKHQ9PT1lKXJldHVybiB0O2lmKHQgaW5zdGFuY2VvZiB2ZSYmZSBpbnN0YW5jZW9mIHZlKXJldHVybiBmdW5jdGlvbih0LGUsbixyKXtpZihudWxsIT09cil7dmFyIG89ci5nZXQodCxlKTtpZihudWxsIT09bylyZXR1cm4gbztpZihudWxsIT09KG89ci5nZXQoZSx0KSkpcmV0dXJuIG99dmFyIGk9ZnVuY3Rpb24odCxlLG4pe2lmKG4pe2lmKHQ9PT1vZS5FTVBUWSlyZXR1cm4gb2UuRU1QVFk7aWYoZT09PW9lLkVNUFRZKXJldHVybiBvZS5FTVBUWX1lbHNle2lmKHQ9PT1vZS5FTVBUWSYmZT09PW9lLkVNUFRZKXJldHVybiBvZS5FTVBUWTtpZih0PT09b2UuRU1QVFkpe3ZhciByPVtlLnJldHVyblN0YXRlLG9lLkVNUFRZX1JFVFVSTl9TVEFURV0sbz1bZS5wYXJlbnRDdHgsbnVsbF07cmV0dXJuIG5ldyBmZShvLHIpfWlmKGU9PT1vZS5FTVBUWSl7dmFyIGk9W3QucmV0dXJuU3RhdGUsb2UuRU1QVFlfUkVUVVJOX1NUQVRFXSx1PVt0LnBhcmVudEN0eCxudWxsXTtyZXR1cm4gbmV3IGZlKHUsaSl9fXJldHVybiBudWxsfSh0LGUsbik7aWYobnVsbCE9PWkpcmV0dXJuIG51bGwhPT1yJiZyLnNldCh0LGUsaSksaTtpZih0LnJldHVyblN0YXRlPT09ZS5yZXR1cm5TdGF0ZSl7dmFyIHU9amUodC5wYXJlbnRDdHgsZS5wYXJlbnRDdHgsbixyKTtpZih1PT09dC5wYXJlbnRDdHgpcmV0dXJuIHQ7aWYodT09PWUucGFyZW50Q3R4KXJldHVybiBlO3ZhciBjPXZlLmNyZWF0ZSh1LHQucmV0dXJuU3RhdGUpO3JldHVybiBudWxsIT09ciYmci5zZXQodCxlLGMpLGN9dmFyIGE9bnVsbDtpZigodD09PWV8fG51bGwhPT10LnBhcmVudEN0eCYmdC5wYXJlbnRDdHg9PT1lLnBhcmVudEN0eCkmJihhPXQucGFyZW50Q3R4KSxudWxsIT09YSl7dmFyIGw9W3QucmV0dXJuU3RhdGUsZS5yZXR1cm5TdGF0ZV07dC5yZXR1cm5TdGF0ZT5lLnJldHVyblN0YXRlJiYobFswXT1lLnJldHVyblN0YXRlLGxbMV09dC5yZXR1cm5TdGF0ZSk7dmFyIHM9bmV3IGZlKFthLGFdLGwpO3JldHVybiBudWxsIT09ciYmci5zZXQodCxlLHMpLHN9dmFyIGY9W3QucmV0dXJuU3RhdGUsZS5yZXR1cm5TdGF0ZV0scD1bdC5wYXJlbnRDdHgsZS5wYXJlbnRDdHhdO3QucmV0dXJuU3RhdGU+ZS5yZXR1cm5TdGF0ZSYmKGZbMF09ZS5yZXR1cm5TdGF0ZSxmWzFdPXQucmV0dXJuU3RhdGUscD1bZS5wYXJlbnRDdHgsdC5wYXJlbnRDdHhdKTt2YXIgeT1uZXcgZmUocCxmKTtyZXR1cm4gbnVsbCE9PXImJnIuc2V0KHQsZSx5KSx5fSh0LGUsbixyKTtpZihuKXtpZih0IGluc3RhbmNlb2YgT2UpcmV0dXJuIHQ7aWYoZSBpbnN0YW5jZW9mIE9lKXJldHVybiBlfXJldHVybiB0IGluc3RhbmNlb2YgdmUmJih0PW5ldyBmZShbdC5nZXRQYXJlbnQoKV0sW3QucmV0dXJuU3RhdGVdKSksZSBpbnN0YW5jZW9mIHZlJiYoZT1uZXcgZmUoW2UuZ2V0UGFyZW50KCldLFtlLnJldHVyblN0YXRlXSkpLGZ1bmN0aW9uKHQsZSxuLHIpe2lmKG51bGwhPT1yKXt2YXIgbz1yLmdldCh0LGUpO2lmKG51bGwhPT1vKXJldHVybiBvZS50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcIm1lcmdlQXJyYXlzIGE9XCIrdCtcIixiPVwiK2UrXCIgLT4gcHJldmlvdXNcIiksbztpZihudWxsIT09KG89ci5nZXQoZSx0KSkpcmV0dXJuIG9lLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwibWVyZ2VBcnJheXMgYT1cIit0K1wiLGI9XCIrZStcIiAtPiBwcmV2aW91c1wiKSxvfWZvcih2YXIgaT0wLHU9MCxjPTAsYT1uZXcgQXJyYXkodC5yZXR1cm5TdGF0ZXMubGVuZ3RoK2UucmV0dXJuU3RhdGVzLmxlbmd0aCkuZmlsbCgwKSxsPW5ldyBBcnJheSh0LnJldHVyblN0YXRlcy5sZW5ndGgrZS5yZXR1cm5TdGF0ZXMubGVuZ3RoKS5maWxsKG51bGwpO2k8dC5yZXR1cm5TdGF0ZXMubGVuZ3RoJiZ1PGUucmV0dXJuU3RhdGVzLmxlbmd0aDspe3ZhciBzPXQucGFyZW50c1tpXSxmPWUucGFyZW50c1t1XTtpZih0LnJldHVyblN0YXRlc1tpXT09PWUucmV0dXJuU3RhdGVzW3VdKXt2YXIgcD10LnJldHVyblN0YXRlc1tpXTtwPT09b2UuRU1QVFlfUkVUVVJOX1NUQVRFJiZudWxsPT09cyYmbnVsbD09PWZ8fG51bGwhPT1zJiZudWxsIT09ZiYmcz09PWY/KGxbY109cyxhW2NdPXApOihsW2NdPWplKHMsZixuLHIpLGFbY109cCksaSs9MSx1Kz0xfWVsc2UgdC5yZXR1cm5TdGF0ZXNbaV08ZS5yZXR1cm5TdGF0ZXNbdV0/KGxbY109cyxhW2NdPXQucmV0dXJuU3RhdGVzW2ldLGkrPTEpOihsW2NdPWYsYVtjXT1lLnJldHVyblN0YXRlc1t1XSx1Kz0xKTtjKz0xfWlmKGk8dC5yZXR1cm5TdGF0ZXMubGVuZ3RoKWZvcih2YXIgeT1pO3k8dC5yZXR1cm5TdGF0ZXMubGVuZ3RoO3krKylsW2NdPXQucGFyZW50c1t5XSxhW2NdPXQucmV0dXJuU3RhdGVzW3ldLGMrPTE7ZWxzZSBmb3IodmFyIGg9dTtoPGUucmV0dXJuU3RhdGVzLmxlbmd0aDtoKyspbFtjXT1lLnBhcmVudHNbaF0sYVtjXT1lLnJldHVyblN0YXRlc1toXSxjKz0xO2lmKGM8bC5sZW5ndGgpe2lmKDE9PT1jKXt2YXIgYj12ZS5jcmVhdGUobFswXSxhWzBdKTtyZXR1cm4gbnVsbCE9PXImJnIuc2V0KHQsZSxiKSxifWw9bC5zbGljZSgwLGMpLGE9YS5zbGljZSgwLGMpfXZhciB2PW5ldyBmZShsLGEpO3JldHVybiB2LmVxdWFscyh0KT8obnVsbCE9PXImJnIuc2V0KHQsZSx0KSxvZS50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcIm1lcmdlQXJyYXlzIGE9XCIrdCtcIixiPVwiK2UrXCIgLT4gYVwiKSx0KTp2LmVxdWFscyhlKT8obnVsbCE9PXImJnIuc2V0KHQsZSxlKSxvZS50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcIm1lcmdlQXJyYXlzIGE9XCIrdCtcIixiPVwiK2UrXCIgLT4gYlwiKSxlKTooZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBUZSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ZS5jb250YWluc0tleShyKXx8ZS5zZXQocixyKX1mb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl0W29dPWUuZ2V0KHRbb10pfShsKSxudWxsIT09ciYmci5zZXQodCxlLHYpLG9lLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwibWVyZ2VBcnJheXMgYT1cIit0K1wiLGI9XCIrZStcIiAtPiBcIit2KSx2KX0odCxlLG4scil9ZnVuY3Rpb24geGUodCl7cmV0dXJuIHhlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHhlKHQpfWZ1bmN0aW9uIFJlKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT14ZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT14ZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT14ZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIENlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5kYXRhPVtdfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZGF0YVt0XT0hMH19LHtrZXk6XCJvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7T2JqZWN0LmtleXModC5kYXRhKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZCh0KX0pLHRoaXMpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmRhdGFbdF19fSx7a2V5OlwiaGFzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuITA9PT10aGlzLmRhdGFbdF19fSx7a2V5OlwidmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5kYXRhKX19LHtrZXk6XCJtaW5WYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWluLmFwcGx5KG51bGwsdGhpcy52YWx1ZXMoKSl9fSx7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmLmhhc2hTdHVmZih0aGlzLnZhbHVlcygpKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHQmJmkodGhpcy5kYXRhLGUuZGF0YSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwie1wiK3RoaXMudmFsdWVzKCkuam9pbihcIiwgXCIpK1wifVwifX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcygpLmxlbmd0aH19XSkmJlJlKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBBZSh0KXtyZXR1cm4gQWU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQWUodCl9ZnVuY3Rpb24gTmUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUFlKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUFlKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUFlKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgSWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5hdG49ZX12YXIgZSxuO3JldHVybiBlPXQsbj1be2tleTpcImdldERlY2lzaW9uTG9va2FoZWFkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYobnVsbD09PWUpcmV0dXJuIG51bGw7Zm9yKHZhciBuPWUudHJhbnNpdGlvbnMubGVuZ3RoLHI9W10sbz0wO288bjtvKyspe3Jbb109bmV3IFY7dmFyIGk9bmV3IGc7dGhpcy5fTE9PSyhlLnRyYW5zaXRpb24obykudGFyZ2V0LG51bGwsb2UuRU1QVFkscltvXSxpLG5ldyBDZSwhMSwhMSksKDA9PT1yW29dLmxlbmd0aHx8cltvXS5jb250YWlucyh0LkhJVF9QUkVEKSkmJihyW29dPW51bGwpfXJldHVybiByfX0se2tleTpcIkxPT0tcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IFYsbz1udWxsIT09KG49bnx8bnVsbCk/RWUodC5hdG4sbik6bnVsbDtyZXR1cm4gdGhpcy5fTE9PSyh0LGUsbyxyLG5ldyBnLG5ldyBDZSwhMCwhMCkscn19LHtrZXk6XCJfTE9PS1wiLHZhbHVlOmZ1bmN0aW9uKGUsbixyLGksdSxjLGEsbCl7dmFyIHM9bmV3IEwoe3N0YXRlOmUsYWx0OjAsY29udGV4dDpyfSxudWxsKTtpZighdS5oYXMocykpe2lmKHUuYWRkKHMpLGU9PT1uKXtpZihudWxsPT09cilyZXR1cm4gdm9pZCBpLmFkZE9uZShvLkVQU0lMT04pO2lmKHIuaXNFbXB0eSgpJiZsKXJldHVybiB2b2lkIGkuYWRkT25lKG8uRU9GKX1pZihlIGluc3RhbmNlb2YgJCl7aWYobnVsbD09PXIpcmV0dXJuIHZvaWQgaS5hZGRPbmUoby5FUFNJTE9OKTtpZihyLmlzRW1wdHkoKSYmbClyZXR1cm4gdm9pZCBpLmFkZE9uZShvLkVPRik7aWYociE9PW9lLkVNUFRZKXt2YXIgZj1jLmhhcyhlLnJ1bGVJbmRleCk7dHJ5e2MucmVtb3ZlKGUucnVsZUluZGV4KTtmb3IodmFyIHA9MDtwPHIubGVuZ3RoO3ArKyl7dmFyIHk9dGhpcy5hdG4uc3RhdGVzW3IuZ2V0UmV0dXJuU3RhdGUocCldO3RoaXMuX0xPT0soeSxuLHIuZ2V0UGFyZW50KHApLGksdSxjLGEsbCl9fWZpbmFsbHl7ZiYmYy5hZGQoZS5ydWxlSW5kZXgpfXJldHVybn19Zm9yKHZhciBoPTA7aDxlLnRyYW5zaXRpb25zLmxlbmd0aDtoKyspe3ZhciBiPWUudHJhbnNpdGlvbnNbaF07aWYoYi5jb25zdHJ1Y3Rvcj09PWl0KXtpZihjLmhhcyhiLnRhcmdldC5ydWxlSW5kZXgpKWNvbnRpbnVlO3ZhciB2PXZlLmNyZWF0ZShyLGIuZm9sbG93U3RhdGUuc3RhdGVOdW1iZXIpO3RyeXtjLmFkZChiLnRhcmdldC5ydWxlSW5kZXgpLHRoaXMuX0xPT0soYi50YXJnZXQsbix2LGksdSxjLGEsbCl9ZmluYWxseXtjLnJlbW92ZShiLnRhcmdldC5ydWxlSW5kZXgpfX1lbHNlIGlmKGIgaW5zdGFuY2VvZiBUdClhP3RoaXMuX0xPT0soYi50YXJnZXQsbixyLGksdSxjLGEsbCk6aS5hZGRPbmUodC5ISVRfUFJFRCk7ZWxzZSBpZihiLmlzRXBzaWxvbil0aGlzLl9MT09LKGIudGFyZ2V0LG4scixpLHUsYyxhLGwpO2Vsc2UgaWYoYi5jb25zdHJ1Y3Rvcj09PU90KWkuYWRkUmFuZ2Uoby5NSU5fVVNFUl9UT0tFTl9UWVBFLHRoaXMuYXRuLm1heFRva2VuVHlwZSk7ZWxzZXt2YXIgZD1iLmxhYmVsO251bGwhPT1kJiYoYiBpbnN0YW5jZW9mIHZ0JiYoZD1kLmNvbXBsZW1lbnQoby5NSU5fVVNFUl9UT0tFTl9UWVBFLHRoaXMuYXRuLm1heFRva2VuVHlwZSkpLGkuYWRkU2V0KGQpKX19fX19XSxuJiZOZShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gTGUodCl7cmV0dXJuIExlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LExlKHQpfWZ1bmN0aW9uIERlKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1MZSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1MZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1MZShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99SWUuSElUX1BSRUQ9by5JTlZBTElEX1RZUEU7dmFyIEZlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5ncmFtbWFyVHlwZT1lLHRoaXMubWF4VG9rZW5UeXBlPW4sdGhpcy5zdGF0ZXM9W10sdGhpcy5kZWNpc2lvblRvU3RhdGU9W10sdGhpcy5ydWxlVG9TdGFydFN0YXRlPVtdLHRoaXMucnVsZVRvU3RvcFN0YXRlPW51bGwsdGhpcy5tb2RlTmFtZVRvU3RhcnRTdGF0ZT17fSx0aGlzLnJ1bGVUb1Rva2VuVHlwZT1udWxsLHRoaXMubGV4ZXJBY3Rpb25zPW51bGwsdGhpcy5tb2RlVG9TdGFydFN0YXRlPVtdfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcIm5leHRUb2tlbnNJbkNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgSWUodGhpcykuTE9PSyh0LG51bGwsZSl9fSx7a2V5OlwibmV4dFRva2Vuc05vQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dC5uZXh0VG9rZW5XaXRoaW5SdWxlfHwodC5uZXh0VG9rZW5XaXRoaW5SdWxlPXRoaXMubmV4dFRva2Vuc0luQ29udGV4dCh0LG51bGwpLHQubmV4dFRva2VuV2l0aGluUnVsZS5yZWFkT25seT0hMCksdC5uZXh0VG9rZW5XaXRoaW5SdWxlfX0se2tleTpcIm5leHRUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMubmV4dFRva2Vuc05vQ29udGV4dCh0KTp0aGlzLm5leHRUb2tlbnNJbkNvbnRleHQodCxlKX19LHtrZXk6XCJhZGRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe251bGwhPT10JiYodC5hdG49dGhpcyx0LnN0YXRlTnVtYmVyPXRoaXMuc3RhdGVzLmxlbmd0aCksdGhpcy5zdGF0ZXMucHVzaCh0KX19LHtrZXk6XCJyZW1vdmVTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc3RhdGVzW3Quc3RhdGVOdW1iZXJdPW51bGx9fSx7a2V5OlwiZGVmaW5lRGVjaXNpb25TdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRlY2lzaW9uVG9TdGF0ZS5wdXNoKHQpLHQuZGVjaXNpb249dGhpcy5kZWNpc2lvblRvU3RhdGUubGVuZ3RoLTEsdC5kZWNpc2lvbn19LHtrZXk6XCJnZXREZWNpc2lvblN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10aGlzLmRlY2lzaW9uVG9TdGF0ZS5sZW5ndGg/bnVsbDp0aGlzLmRlY2lzaW9uVG9TdGF0ZVt0XX19LHtrZXk6XCJnZXRFeHBlY3RlZFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodDwwfHx0Pj10aGlzLnN0YXRlcy5sZW5ndGgpdGhyb3dcIkludmFsaWQgc3RhdGUgbnVtYmVyLlwiO3ZhciBuPXRoaXMuc3RhdGVzW3RdLHI9dGhpcy5uZXh0VG9rZW5zKG4pO2lmKCFyLmNvbnRhaW5zKG8uRVBTSUxPTikpcmV0dXJuIHI7dmFyIGk9bmV3IFY7Zm9yKGkuYWRkU2V0KHIpLGkucmVtb3ZlT25lKG8uRVBTSUxPTik7bnVsbCE9PWUmJmUuaW52b2tpbmdTdGF0ZT49MCYmci5jb250YWlucyhvLkVQU0lMT04pOyl7dmFyIHU9dGhpcy5zdGF0ZXNbZS5pbnZva2luZ1N0YXRlXS50cmFuc2l0aW9uc1swXTtyPXRoaXMubmV4dFRva2Vucyh1LmZvbGxvd1N0YXRlKSxpLmFkZFNldChyKSxpLnJlbW92ZU9uZShvLkVQU0lMT04pLGU9ZS5wYXJlbnRDdHh9cmV0dXJuIHIuY29udGFpbnMoby5FUFNJTE9OKSYmaS5hZGRPbmUoby5FT0YpLGl9fV0pJiZEZShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7RmUuSU5WQUxJRF9BTFRfTlVNQkVSPTA7ZnVuY3Rpb24gQmUodCl7cmV0dXJuIEJlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEJlKHQpfWZ1bmN0aW9uIE1lKHQsZSl7cmV0dXJuIE1lPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sTWUodCxlKX1mdW5jdGlvbiBVZSh0KXtyZXR1cm4gVWU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFVlKHQpfXZhciBWZT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTWUodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9VWUobik7aWYocil7dmFyIG89VWUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1CZShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguQkFTSUMsdH1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSCk7ZnVuY3Rpb24gemUodCl7cmV0dXJuIHplPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHplKHQpfWZ1bmN0aW9uIHFlKHQsZSl7cmV0dXJuIHFlPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scWUodCxlKX1mdW5jdGlvbiBIZSh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09emUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBLZSh0KX1mdW5jdGlvbiBLZSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBZZSh0KXtyZXR1cm4gWWU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFllKHQpfXZhciBHZT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmcWUodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9WWUobik7aWYocil7dmFyIG89WWUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIEhlKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLmRlY2lzaW9uPS0xLHQubm9uR3JlZWR5PSExLEhlKHQsS2UodCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShIKTtmdW5jdGlvbiBXZSh0KXtyZXR1cm4gV2U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sV2UodCl9ZnVuY3Rpb24gWGUodCxlKXtyZXR1cm4gWGU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxYZSh0LGUpfWZ1bmN0aW9uICRlKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1XZShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIEplKHQpfWZ1bmN0aW9uIEplKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIFFlKHQpe3JldHVybiBRZT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sUWUodCl9dmFyIFplPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZYZSh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1RZShuKTtpZihyKXt2YXIgbz1RZSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gJGUodGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuZW5kU3RhdGU9bnVsbCwkZSh0LEplKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oR2UpO2Z1bmN0aW9uIHRuKHQpe3JldHVybiB0bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx0bih0KX1mdW5jdGlvbiBlbih0LGUpe3JldHVybiBlbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGVuKHQsZSl9ZnVuY3Rpb24gbm4odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXRuKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gcm4odCl9ZnVuY3Rpb24gcm4odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gb24odCl7cmV0dXJuIG9uPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxvbih0KX12YXIgdW49ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmVuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPW9uKG4pO2lmKHIpe3ZhciBvPW9uKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBubih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5CTE9DS19FTkQsdC5zdGFydFN0YXRlPW51bGwsbm4odCxybih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEgpO2Z1bmN0aW9uIGNuKHQpe3JldHVybiBjbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxjbih0KX1mdW5jdGlvbiBhbih0LGUpe3JldHVybiBhbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGFuKHQsZSl9ZnVuY3Rpb24gbG4odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWNuKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gc24odCl9ZnVuY3Rpb24gc24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gZm4odCl7cmV0dXJuIGZuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxmbih0KX12YXIgcG49ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmFuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPWZuKG4pO2lmKHIpe3ZhciBvPWZuKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBsbih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5MT09QX0VORCx0Lmxvb3BCYWNrU3RhdGU9bnVsbCxsbih0LHNuKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSCk7ZnVuY3Rpb24geW4odCl7cmV0dXJuIHluPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHluKHQpfWZ1bmN0aW9uIGhuKHQsZSl7cmV0dXJuIGhuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0saG4odCxlKX1mdW5jdGlvbiBibih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09eW4oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiB2bih0KX1mdW5jdGlvbiB2bih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBkbih0KXtyZXR1cm4gZG49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGRuKHQpfXZhciBtbj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmaG4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9ZG4obik7aWYocil7dmFyIG89ZG4odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGJuKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlJVTEVfU1RBUlQsdC5zdG9wU3RhdGU9bnVsbCx0LmlzUHJlY2VkZW5jZVJ1bGU9ITEsYm4odCx2bih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEgpO2Z1bmN0aW9uIGduKHQpe3JldHVybiBnbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxnbih0KX1mdW5jdGlvbiBTbih0LGUpe3JldHVybiBTbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFNuKHQsZSl9ZnVuY3Rpb24gT24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWduKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gd24odCl9ZnVuY3Rpb24gd24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gX24odCl7cmV0dXJuIF9uPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxfbih0KX12YXIgUG49ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlNuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPV9uKG4pO2lmKHIpe3ZhciBvPV9uKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBPbih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5UT0tFTl9TVEFSVCxPbih0LHduKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oR2UpO2Z1bmN0aW9uIFRuKHQpe3JldHVybiBUbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxUbih0KX1mdW5jdGlvbiBFbih0LGUpe3JldHVybiBFbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEVuKHQsZSl9ZnVuY3Rpb24ga24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVRuKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gam4odCl9ZnVuY3Rpb24gam4odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24geG4odCl7cmV0dXJuIHhuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx4bih0KX12YXIgUm49ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkVuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXhuKG4pO2lmKHIpe3ZhciBvPXhuKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBrbih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5QTFVTX0xPT1BfQkFDSyxrbih0LGpuKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oR2UpO2Z1bmN0aW9uIENuKHQpe3JldHVybiBDbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxDbih0KX1mdW5jdGlvbiBBbih0LGUpe3JldHVybiBBbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEFuKHQsZSl9ZnVuY3Rpb24gTm4odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUNuKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gSW4odCl9ZnVuY3Rpb24gSW4odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gTG4odCl7cmV0dXJuIExuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxMbih0KX12YXIgRG49ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkFuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUxuKG4pO2lmKHIpe3ZhciBvPUxuKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBObih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5TVEFSX0xPT1BfQkFDSyxObih0LEluKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oSCk7ZnVuY3Rpb24gRm4odCl7cmV0dXJuIEZuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEZuKHQpfWZ1bmN0aW9uIEJuKHQsZSl7cmV0dXJuIEJuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQm4odCxlKX1mdW5jdGlvbiBNbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Rm4oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBVbih0KX1mdW5jdGlvbiBVbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBWbih0KXtyZXR1cm4gVm49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFZuKHQpfXZhciB6bj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQm4odCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Vm4obik7aWYocil7dmFyIG89Vm4odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIE1uKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILlNUQVJfTE9PUF9FTlRSWSx0Lmxvb3BCYWNrU3RhdGU9bnVsbCx0LmlzUHJlY2VkZW5jZURlY2lzaW9uPW51bGwsTW4odCxVbih0KSl9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEdlKTtmdW5jdGlvbiBxbih0KXtyZXR1cm4gcW49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0scW4odCl9ZnVuY3Rpb24gSG4odCxlKXtyZXR1cm4gSG49T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxIbih0LGUpfWZ1bmN0aW9uIEtuKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1xbihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIFluKHQpfWZ1bmN0aW9uIFluKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIEduKHQpe3JldHVybiBHbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sR24odCl9dmFyIFduPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZIbih0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1HbihuKTtpZihyKXt2YXIgbz1Hbih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gS24odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLCh0PW8uY2FsbCh0aGlzKSkuc3RhdGVUeXBlPUguUExVU19CTE9DS19TVEFSVCx0Lmxvb3BCYWNrU3RhdGU9bnVsbCxLbih0LFluKHQpKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oWmUpO2Z1bmN0aW9uIFhuKHQpe3JldHVybiBYbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxYbih0KX1mdW5jdGlvbiAkbih0LGUpe3JldHVybiAkbj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LCRuKHQsZSl9ZnVuY3Rpb24gSm4odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVhuKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gUW4odCl9ZnVuY3Rpb24gUW4odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gWm4odCl7cmV0dXJuIFpuPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxabih0KX12YXIgdHI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJiRuKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVpuKG4pO2lmKHIpe3ZhciBvPVpuKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBKbih0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5zdGF0ZVR5cGU9SC5TVEFSX0JMT0NLX1NUQVJULEpuKHQsUW4odCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShaZSk7ZnVuY3Rpb24gZXIodCl7cmV0dXJuIGVyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGVyKHQpfWZ1bmN0aW9uIG5yKHQsZSl7cmV0dXJuIG5yPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbnIodCxlKX1mdW5jdGlvbiBycih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09ZXIoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBvcih0KX1mdW5jdGlvbiBvcih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBpcih0KXtyZXR1cm4gaXI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGlyKHQpfXZhciB1cj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmbnIodCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9aXIobik7aWYocil7dmFyIG89aXIodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHJyKHRoaXMsdCl9KTtmdW5jdGlvbiBpKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxpKSwodD1vLmNhbGwodGhpcykpLnN0YXRlVHlwZT1ILkJMT0NLX1NUQVJULHJyKHQsb3IodCkpfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfShaZSk7ZnVuY3Rpb24gY3IodCl7cmV0dXJuIGNyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGNyKHQpfWZ1bmN0aW9uIGFyKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1jcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1jcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1jcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gbHIodCxlKXtyZXR1cm4gbHI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxscih0LGUpfWZ1bmN0aW9uIHNyKHQpe3JldHVybiBzcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sc3IodCl9dmFyIGZyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZscih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXNyKHIpO2lmKG8pe3ZhciBuPXNyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Y3IoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcyx0KSkubGFiZWxfPWUsbi5sYWJlbD1uLm1ha2VMYWJlbCgpLG4uc2VyaWFsaXphdGlvblR5cGU9dHQuQVRPTSxufXJldHVybiBlPXUsKG49W3trZXk6XCJtYWtlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBWO3JldHVybiB0LmFkZE9uZSh0aGlzLmxhYmVsXyksdH19LHtrZXk6XCJtYXRjaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLmxhYmVsXz09PXR9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsX319XSkmJmFyKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0odHQpO2Z1bmN0aW9uIHByKHQpe3JldHVybiBwcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxwcih0KX1mdW5jdGlvbiB5cih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09cHIodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09cHIocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09cHIobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGhyKHQsZSl7cmV0dXJuIGhyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0saHIodCxlKX1mdW5jdGlvbiBicih0KXtyZXR1cm4gYnI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGJyKHQpfXZhciB2cj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmaHIodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1icihyKTtpZihvKXt2YXIgbj1icih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXByKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUsbil7dmFyIHI7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwocj1pLmNhbGwodGhpcyx0KSkuc2VyaWFsaXphdGlvblR5cGU9dHQuUkFOR0Usci5zdGFydD1lLHIuc3RvcD1uLHIubGFiZWw9ci5tYWtlTGFiZWwoKSxyfXJldHVybiBlPXUsKG49W3trZXk6XCJtYWtlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBWO3JldHVybiB0LmFkZFJhbmdlKHRoaXMuc3RhcnQsdGhpcy5zdG9wKSx0fX0se2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQ+PXRoaXMuc3RhcnQmJnQ8PXRoaXMuc3RvcH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCInXCIrU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLnN0YXJ0KStcIicuLidcIitTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuc3RvcCkrXCInXCJ9fV0pJiZ5cihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHR0KTtmdW5jdGlvbiBkcih0KXtyZXR1cm4gZHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZHIodCl9ZnVuY3Rpb24gbXIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWRyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWRyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWRyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBncih0LGUpe3JldHVybiBncj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGdyKHQsZSl9ZnVuY3Rpb24gU3IodCl7cmV0dXJuIFNyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxTcih0KX12YXIgT3I9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmdyKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9U3Iocik7aWYobyl7dmFyIG49U3IodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1kcihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlLG4scil7dmFyIG87cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobz1pLmNhbGwodGhpcyx0KSkuc2VyaWFsaXphdGlvblR5cGU9dHQuQUNUSU9OLG8ucnVsZUluZGV4PWUsby5hY3Rpb25JbmRleD12b2lkIDA9PT1uPy0xOm4sby5pc0N0eERlcGVuZGVudD12b2lkIDAhPT1yJiZyLG8uaXNFcHNpbG9uPSEwLG99cmV0dXJuIGU9dSwobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuITF9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiYWN0aW9uX1wiK3RoaXMucnVsZUluZGV4K1wiOlwiK3RoaXMuYWN0aW9uSW5kZXh9fV0pJiZtcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHR0KTtmdW5jdGlvbiB3cih0KXtyZXR1cm4gd3I9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sd3IodCl9ZnVuY3Rpb24gX3IodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXdyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXdyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXdyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBQcih0LGUpe3JldHVybiBQcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFByKHQsZSl9ZnVuY3Rpb24gVHIodCl7cmV0dXJuIFRyPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxUcih0KX12YXIgRXI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlByKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9VHIocik7aWYobyl7dmFyIG49VHIodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT13cihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzLHQpKS5zZXJpYWxpemF0aW9uVHlwZT10dC5FUFNJTE9OLG4uaXNFcHNpbG9uPSEwLG4ub3V0ZXJtb3N0UHJlY2VkZW5jZVJldHVybj1lLG59cmV0dXJuIGU9dSwobj1be2tleTpcIm1hdGNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuITF9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiZXBzaWxvblwifX1dKSYmX3IoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh0dCk7ZnVuY3Rpb24ga3IodCl7cmV0dXJuIGtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGtyKHQpfWZ1bmN0aW9uIGpyKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1rcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1rcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1rcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24geHIodCxlKXtyZXR1cm4geHI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSx4cih0LGUpfWZ1bmN0aW9uIFJyKHQpe3JldHVybiBScj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sUnIodCl9dmFyIENyPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZ4cih0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVJyKHIpO2lmKG8pe3ZhciBuPVJyKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09a3IoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSxuKXt2YXIgcjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChyPWkuY2FsbCh0aGlzKSkucnVsZUluZGV4PXZvaWQgMD09PXQ/LTE6dCxyLnByZWRJbmRleD12b2lkIDA9PT1lPy0xOmUsci5pc0N0eERlcGVuZGVudD12b2lkIDAhPT1uJiZuLHJ9cmV0dXJuIGU9dSwobj1be2tleTpcImV2YWx1YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmlzQ3R4RGVwZW5kZW50P2U6bnVsbDtyZXR1cm4gdC5zZW1wcmVkKG4sdGhpcy5ydWxlSW5kZXgsdGhpcy5wcmVkSW5kZXgpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5ydWxlSW5kZXgsdGhpcy5wcmVkSW5kZXgsdGhpcy5pc0N0eERlcGVuZGVudCl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5ydWxlSW5kZXg9PT10LnJ1bGVJbmRleCYmdGhpcy5wcmVkSW5kZXg9PT10LnByZWRJbmRleCYmdGhpcy5pc0N0eERlcGVuZGVudD09PXQuaXNDdHhEZXBlbmRlbnR9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwie1wiK3RoaXMucnVsZUluZGV4K1wiOlwiK3RoaXMucHJlZEluZGV4K1wifT9cIn19XSkmJmpyKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oaik7ZnVuY3Rpb24gQXIodCl7cmV0dXJuIEFyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEFyKHQpfWZ1bmN0aW9uIE5yKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Bcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1BcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1BcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gSXIodCxlKXtyZXR1cm4gSXI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxJcih0LGUpfWZ1bmN0aW9uIExyKHQpe3JldHVybiBMcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTHIodCl9ai5OT05FPW5ldyBDcjt2YXIgRHI9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJklyKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9THIocik7aWYobyl7dmFyIG49THIodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1BcihlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlLG4scil7dmFyIG87cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobz1pLmNhbGwodGhpcyx0KSkuc2VyaWFsaXphdGlvblR5cGU9dHQuUFJFRElDQVRFLG8ucnVsZUluZGV4PWUsby5wcmVkSW5kZXg9bixvLmlzQ3R4RGVwZW5kZW50PXIsby5pc0Vwc2lsb249ITAsb31yZXR1cm4gZT11LChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hMX19LHtrZXk6XCJnZXRQcmVkaWNhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ3IodGhpcy5ydWxlSW5kZXgsdGhpcy5wcmVkSW5kZXgsdGhpcy5pc0N0eERlcGVuZGVudCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwicHJlZF9cIit0aGlzLnJ1bGVJbmRleCtcIjpcIit0aGlzLnByZWRJbmRleH19XSkmJk5yKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oVHQpO2Z1bmN0aW9uIEZyKHQpe3JldHVybiBGcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxGcih0KX1mdW5jdGlvbiBCcih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RnIodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RnIocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RnIobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIE1yKHQsZSl7cmV0dXJuIE1yPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sTXIodCxlKX1mdW5jdGlvbiBVcih0KXtyZXR1cm4gVXI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFVyKHQpfXZhciBWcj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTXIodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1VcihyKTtpZihvKXt2YXIgbj1Vcih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PUZyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChlPWkuY2FsbCh0aGlzKSkucHJlY2VkZW5jZT12b2lkIDA9PT10PzA6dCxlfXJldHVybiBlPXUsKG49W3trZXk6XCJldmFsdWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucHJlY3ByZWQoZSx0aGlzLnByZWNlZGVuY2UpfX0se2tleTpcImV2YWxQcmVjZWRlbmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5wcmVjcHJlZChlLHRoaXMucHJlY2VkZW5jZSk/ai5OT05FOm51bGx9fSx7a2V5OlwiY29tcGFyZVRvXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJlY2VkZW5jZS10LnByZWNlZGVuY2V9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLnByZWNlZGVuY2UpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMucHJlY2VkZW5jZT09PXQucHJlY2VkZW5jZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJ7XCIrdGhpcy5wcmVjZWRlbmNlK1wiPj1wcmVjfT9cIn19XSkmJkJyKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oaik7ZnVuY3Rpb24genIodCl7cmV0dXJuIHpyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHpyKHQpfWZ1bmN0aW9uIHFyKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT16cih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT16cihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT16cihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gSHIodCxlKXtyZXR1cm4gSHI9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxIcih0LGUpfWZ1bmN0aW9uIEtyKHQpe3JldHVybiBLcj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sS3IodCl9ai5QcmVjZWRlbmNlUHJlZGljYXRlPVZyO3ZhciBZcj1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmSHIodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1LcihyKTtpZihvKXt2YXIgbj1Lcih0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXpyKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMsdCkpLnNlcmlhbGl6YXRpb25UeXBlPXR0LlBSRUNFREVOQ0Usbi5wcmVjZWRlbmNlPWUsbi5pc0Vwc2lsb249ITAsbn1yZXR1cm4gZT11LChuPVt7a2V5OlwibWF0Y2hlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hMX19LHtrZXk6XCJnZXRQcmVkaWNhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgVnIodGhpcy5wcmVjZWRlbmNlKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJlY2VkZW5jZStcIiA+PSBfcFwifX1dKSYmcXIoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShUdCk7ZnVuY3Rpb24gR3IodCl7cmV0dXJuIEdyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEdyKHQpfWZ1bmN0aW9uIFdyKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Hcih0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1HcihyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1HcihvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gWHIodCxlLG4pe3JldHVybiBlJiZXcih0LnByb3RvdHlwZSxlKSxuJiZXcih0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH12YXIgJHI9WHIoKGZ1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx2b2lkIDA9PT1lJiYoZT1udWxsKSx0aGlzLnJlYWRPbmx5PSExLHRoaXMudmVyaWZ5QVROPW51bGw9PT1lfHxlLnZlcmlmeUFUTix0aGlzLmdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb25zPW51bGwhPT1lJiZlLmdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb25zfSkpOyRyLmRlZmF1bHRPcHRpb25zPW5ldyAkciwkci5kZWZhdWx0T3B0aW9ucy5yZWFkT25seT0hMDtmdW5jdGlvbiBKcih0KXtyZXR1cm4gSnI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSnIodCl9ZnVuY3Rpb24gUXIodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUpyKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUpyKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUpyKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgWnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5hY3Rpb25UeXBlPWUsdGhpcy5pc1Bvc2l0aW9uRGVwZW5kZW50PSExfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcImhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjtyZXR1cm4gdGhpcy51cGRhdGVIYXNoQ29kZSh0KSx0LmZpbmlzaCgpfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5hY3Rpb25UeXBlKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR9fV0pJiZRcihlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gdG8odCl7cmV0dXJuIHRvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHRvKHQpfWZ1bmN0aW9uIGVvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT10byh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT10byhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT10byhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gbm8odCxlKXtyZXR1cm4gbm89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxubyh0LGUpfWZ1bmN0aW9uIHJvKHQpe3JldHVybiBybz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scm8odCl9dmFyIG9vPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZubyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXJvKHIpO2lmKG8pe3ZhciBuPXJvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09dG8oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcyw2KX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3Quc2tpcCgpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInNraXBcIn19XSkmJmVvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIGlvKHQpe3JldHVybiBpbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpbyh0KX1mdW5jdGlvbiB1byh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09aW8odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09aW8ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09aW8obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGNvKHQsZSl7cmV0dXJuIGNvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sY28odCxlKX1mdW5jdGlvbiBhbyh0KXtyZXR1cm4gYW89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGFvKHQpfW9vLklOU1RBTkNFPW5ldyBvbzt2YXIgbG89ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmNvKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9YW8ocik7aWYobyl7dmFyIG49YW8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1pbyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwoZT1pLmNhbGwodGhpcywwKSkuY2hhbm5lbD10LGV9cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0Ll9jaGFubmVsPXRoaXMuY2hhbm5lbH19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuYWN0aW9uVHlwZSx0aGlzLmNoYW5uZWwpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMuY2hhbm5lbD09PXQuY2hhbm5lbH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJjaGFubmVsKFwiK3RoaXMuY2hhbm5lbCtcIilcIn19XSkmJnVvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIHNvKHQpe3JldHVybiBzbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxzbyh0KX1mdW5jdGlvbiBmbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09c28odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09c28ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09c28obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHBvKHQsZSl7cmV0dXJuIHBvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scG8odCxlKX1mdW5jdGlvbiB5byh0KXtyZXR1cm4geW89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHlvKHQpfXZhciBobz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmcG8odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT15byhyKTtpZihvKXt2YXIgbj15byh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PXNvKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUpe3ZhciBuO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksKG49aS5jYWxsKHRoaXMsMSkpLnJ1bGVJbmRleD10LG4uYWN0aW9uSW5kZXg9ZSxuLmlzUG9zaXRpb25EZXBlbmRlbnQ9ITAsbn1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYWN0aW9uKG51bGwsdGhpcy5ydWxlSW5kZXgsdGhpcy5hY3Rpb25JbmRleCl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmFjdGlvblR5cGUsdGhpcy5ydWxlSW5kZXgsdGhpcy5hY3Rpb25JbmRleCl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5ydWxlSW5kZXg9PT10LnJ1bGVJbmRleCYmdGhpcy5hY3Rpb25JbmRleD09PXQuYWN0aW9uSW5kZXh9fV0pJiZmbyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBibyh0KXtyZXR1cm4gYm89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sYm8odCl9ZnVuY3Rpb24gdm8odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWJvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWJvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWJvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBtbyh0LGUpe3JldHVybiBtbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LG1vKHQsZSl9ZnVuY3Rpb24gZ28odCl7cmV0dXJuIGdvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxnbyh0KX12YXIgU289ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJm1vKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9Z28ocik7aWYobyl7dmFyIG49Z28odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1ibyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUoKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzLDMpfXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5tb3JlKCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwibW9yZVwifX1dKSYmdm8oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gT28odCl7cmV0dXJuIE9vPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE9vKHQpfWZ1bmN0aW9uIHdvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Pbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1PbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1PbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gX28odCxlKXtyZXR1cm4gX289T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxfbyh0LGUpfWZ1bmN0aW9uIFBvKHQpe3JldHVybiBQbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sUG8odCl9U28uSU5TVEFOQ0U9bmV3IFNvO3ZhciBUbz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmX28odCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1QbyhyKTtpZihvKXt2YXIgbj1Qbyh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PU9vKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChlPWkuY2FsbCh0aGlzLDcpKS50eXBlPXQsZX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudHlwZT10aGlzLnR5cGV9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmFjdGlvblR5cGUsdGhpcy50eXBlKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLnR5cGU9PT10LnR5cGV9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidHlwZShcIit0aGlzLnR5cGUrXCIpXCJ9fV0pJiZ3byhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KFpyKTtmdW5jdGlvbiBFbyh0KXtyZXR1cm4gRW89XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRW8odCl9ZnVuY3Rpb24ga28odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUVvKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUVvKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUVvKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBqbyh0LGUpe3JldHVybiBqbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGpvKHQsZSl9ZnVuY3Rpb24geG8odCl7cmV0dXJuIHhvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx4byh0KX12YXIgUm89ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmpvKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9eG8ocik7aWYobyl7dmFyIG49eG8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1FbyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwoZT1pLmNhbGwodGhpcyw1KSkubW9kZT10LGV9cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnB1c2hNb2RlKHRoaXMubW9kZSl9fSx7a2V5OlwidXBkYXRlSGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnVwZGF0ZSh0aGlzLmFjdGlvblR5cGUsdGhpcy5tb2RlKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLm1vZGU9PT10Lm1vZGV9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwicHVzaE1vZGUoXCIrdGhpcy5tb2RlK1wiKVwifX1dKSYma28oZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShacik7ZnVuY3Rpb24gQ28odCl7cmV0dXJuIENvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LENvKHQpfWZ1bmN0aW9uIEFvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Dbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1DbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1DbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gTm8odCxlKXtyZXR1cm4gTm89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxObyh0LGUpfWZ1bmN0aW9uIElvKHQpe3JldHVybiBJbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sSW8odCl9dmFyIExvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZObyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUlvKHIpO2lmKG8pe3ZhciBuPUlvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Q28oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcyw0KX1yZXR1cm4gZT11LChuPVt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QucG9wTW9kZSgpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cInBvcE1vZGVcIn19XSkmJkFvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIERvKHQpe3JldHVybiBEbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxEbyh0KX1mdW5jdGlvbiBGbyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09RG8odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09RG8ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09RG8obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEJvKHQsZSl7cmV0dXJuIEJvPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQm8odCxlKX1mdW5jdGlvbiBNbyh0KXtyZXR1cm4gTW89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE1vKHQpfUxvLklOU1RBTkNFPW5ldyBMbzt2YXIgVW89ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkJvKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9TW8ocik7aWYobyl7dmFyIG49TW8odGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1EbyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwoZT1pLmNhbGwodGhpcywyKSkubW9kZT10LGV9cmV0dXJuIGU9dSwobj1be2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0Lm1vZGUodGhpcy5tb2RlKX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuYWN0aW9uVHlwZSx0aGlzLm1vZGUpfX0se2tleTpcImVxdWFsc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dHx8dCBpbnN0YW5jZW9mIHUmJnRoaXMubW9kZT09PXQubW9kZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJtb2RlKFwiK3RoaXMubW9kZStcIilcIn19XSkmJkZvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIFZvKHQpe3JldHVybiBWbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxWbyh0KX1mdW5jdGlvbiB6byh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09Vm8odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09Vm8ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Vm8obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHFvKHQsZSl7dmFyIG49W107cmV0dXJuIG5bdC0xXT1lLG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZX0pKX12YXIgSG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksbnVsbD09ZSYmKGU9JHIuZGVmYXVsdE9wdGlvbnMpLHRoaXMuZGVzZXJpYWxpemF0aW9uT3B0aW9ucz1lLHRoaXMuc3RhdGVGYWN0b3JpZXM9bnVsbCx0aGlzLmFjdGlvbkZhY3Rvcmllcz1udWxsfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiZGVzZXJpYWxpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlc2V0KHQpO3RoaXMuY2hlY2tWZXJzaW9uKGUpLGUmJnRoaXMuc2tpcFVVSUQoKTt2YXIgbj10aGlzLnJlYWRBVE4oKTt0aGlzLnJlYWRTdGF0ZXMobixlKSx0aGlzLnJlYWRSdWxlcyhuLGUpLHRoaXMucmVhZE1vZGVzKG4pO3ZhciByPVtdO3JldHVybiB0aGlzLnJlYWRTZXRzKG4scix0aGlzLnJlYWRJbnQuYmluZCh0aGlzKSksZSYmdGhpcy5yZWFkU2V0cyhuLHIsdGhpcy5yZWFkSW50MzIuYmluZCh0aGlzKSksdGhpcy5yZWFkRWRnZXMobixyKSx0aGlzLnJlYWREZWNpc2lvbnMobiksdGhpcy5yZWFkTGV4ZXJBY3Rpb25zKG4sZSksdGhpcy5tYXJrUHJlY2VkZW5jZURlY2lzaW9ucyhuKSx0aGlzLnZlcmlmeUFUTihuKSx0aGlzLmRlc2VyaWFsaXphdGlvbk9wdGlvbnMuZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvbnMmJjE9PT1uLmdyYW1tYXJUeXBlJiYodGhpcy5nZW5lcmF0ZVJ1bGVCeXBhc3NUcmFuc2l0aW9ucyhuKSx0aGlzLnZlcmlmeUFUTihuKSksbn19LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKDM9PT0odC5jaGFyQ29kZUF0P3QuY2hhckNvZGVBdCgwKTp0WzBdKSl7dmFyIGU9dC5zcGxpdChcIlwiKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hhckNvZGVBdCgwKTtyZXR1cm4gZT4xP2UtMjplKzY1NTM0fSkpO3JldHVybiBlWzBdPXQuY2hhckNvZGVBdCgwKSx0aGlzLmRhdGE9ZSx0aGlzLnBvcz0wLCEwfXJldHVybiB0aGlzLmRhdGE9dCx0aGlzLnBvcz0wLCExfX0se2tleTpcInNraXBVVUlEXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0Kys8ODspdGhpcy5yZWFkSW50KCl9fSx7a2V5OlwiY2hlY2tWZXJzaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZWFkSW50KCk7aWYoIXQmJjQhPT1lKXRocm93XCJDb3VsZCBub3QgZGVzZXJpYWxpemUgQVROIHdpdGggdmVyc2lvbiBcIitlK1wiIChleHBlY3RlZCA0KS5cIn19LHtrZXk6XCJyZWFkQVROXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRJbnQoKSxlPXRoaXMucmVhZEludCgpO3JldHVybiBuZXcgRmUodCxlKX19LHtrZXk6XCJyZWFkU3RhdGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixvLGk9W10sdT1bXSxjPXRoaXMucmVhZEludCgpLGE9MDthPGM7YSsrKXt2YXIgbD10aGlzLnJlYWRJbnQoKTtpZihsIT09SC5JTlZBTElEX1RZUEUpe3ZhciBzPXRoaXMucmVhZEludCgpO2UmJjY1NTM1PT09cyYmKHM9LTEpO3ZhciBmPXRoaXMuc3RhdGVGYWN0b3J5KGwscyk7aWYobD09PUguTE9PUF9FTkQpe3ZhciBwPXRoaXMucmVhZEludCgpO2kucHVzaChbZixwXSl9ZWxzZSBpZihmIGluc3RhbmNlb2YgWmUpe3ZhciB5PXRoaXMucmVhZEludCgpO3UucHVzaChbZix5XSl9dC5hZGRTdGF0ZShmKX1lbHNlIHQuYWRkU3RhdGUobnVsbCl9Zm9yKG49MDtuPGkubGVuZ3RoO24rKykocj1pW25dKVswXS5sb29wQmFja1N0YXRlPXQuc3RhdGVzW3JbMV1dO2ZvcihuPTA7bjx1Lmxlbmd0aDtuKyspKHI9dVtuXSlbMF0uZW5kU3RhdGU9dC5zdGF0ZXNbclsxXV07dmFyIGg9dGhpcy5yZWFkSW50KCk7Zm9yKG49MDtuPGg7bisrKW89dGhpcy5yZWFkSW50KCksdC5zdGF0ZXNbb10ubm9uR3JlZWR5PSEwO3ZhciBiPXRoaXMucmVhZEludCgpO2ZvcihuPTA7bjxiO24rKylvPXRoaXMucmVhZEludCgpLHQuc3RhdGVzW29dLmlzUHJlY2VkZW5jZVJ1bGU9ITB9fSx7a2V5OlwicmVhZFJ1bGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyPXRoaXMucmVhZEludCgpO2ZvcigwPT09dC5ncmFtbWFyVHlwZSYmKHQucnVsZVRvVG9rZW5UeXBlPXFvKHIsMCkpLHQucnVsZVRvU3RhcnRTdGF0ZT1xbyhyLDApLG49MDtuPHI7bisrKXt2YXIgaT10aGlzLnJlYWRJbnQoKTtpZih0LnJ1bGVUb1N0YXJ0U3RhdGVbbl09dC5zdGF0ZXNbaV0sMD09PXQuZ3JhbW1hclR5cGUpe3ZhciB1PXRoaXMucmVhZEludCgpO2UmJjY1NTM1PT09dSYmKHU9by5FT0YpLHQucnVsZVRvVG9rZW5UeXBlW25dPXV9fWZvcih0LnJ1bGVUb1N0b3BTdGF0ZT1xbyhyLDApLG49MDtuPHQuc3RhdGVzLmxlbmd0aDtuKyspe3ZhciBjPXQuc3RhdGVzW25dO2MgaW5zdGFuY2VvZiAkJiYodC5ydWxlVG9TdG9wU3RhdGVbYy5ydWxlSW5kZXhdPWMsdC5ydWxlVG9TdGFydFN0YXRlW2MucnVsZUluZGV4XS5zdG9wU3RhdGU9Yyl9fX0se2tleTpcInJlYWRNb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnJlYWRJbnQoKSxuPTA7bjxlO24rKyl7dmFyIHI9dGhpcy5yZWFkSW50KCk7dC5tb2RlVG9TdGFydFN0YXRlLnB1c2godC5zdGF0ZXNbcl0pfX19LHtrZXk6XCJyZWFkU2V0c1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dGhpcy5yZWFkSW50KCksbz0wO288cjtvKyspe3ZhciBpPW5ldyBWO2UucHVzaChpKTt2YXIgdT10aGlzLnJlYWRJbnQoKTswIT09dGhpcy5yZWFkSW50KCkmJmkuYWRkT25lKC0xKTtmb3IodmFyIGM9MDtjPHU7YysrKXt2YXIgYT1uKCksbD1uKCk7aS5hZGRSYW5nZShhLGwpfX19fSx7a2V5OlwicmVhZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saSx1LGM9dGhpcy5yZWFkSW50KCk7Zm9yKG49MDtuPGM7bisrKXt2YXIgYT10aGlzLnJlYWRJbnQoKSxsPXRoaXMucmVhZEludCgpLHM9dGhpcy5yZWFkSW50KCksZj10aGlzLnJlYWRJbnQoKSxwPXRoaXMucmVhZEludCgpLHk9dGhpcy5yZWFkSW50KCk7aT10aGlzLmVkZ2VGYWN0b3J5KHQscyxhLGwsZixwLHksZSksdC5zdGF0ZXNbYV0uYWRkVHJhbnNpdGlvbihpKX1mb3Iobj0wO248dC5zdGF0ZXMubGVuZ3RoO24rKylmb3Iobz10LnN0YXRlc1tuXSxyPTA7cjxvLnRyYW5zaXRpb25zLmxlbmd0aDtyKyspe3ZhciBoPW8udHJhbnNpdGlvbnNbcl07aWYoaCBpbnN0YW5jZW9mIGl0KXt2YXIgYj0tMTt0LnJ1bGVUb1N0YXJ0U3RhdGVbaC50YXJnZXQucnVsZUluZGV4XS5pc1ByZWNlZGVuY2VSdWxlJiYwPT09aC5wcmVjZWRlbmNlJiYoYj1oLnRhcmdldC5ydWxlSW5kZXgpLGk9bmV3IEVyKGguZm9sbG93U3RhdGUsYiksdC5ydWxlVG9TdG9wU3RhdGVbaC50YXJnZXQucnVsZUluZGV4XS5hZGRUcmFuc2l0aW9uKGkpfX1mb3Iobj0wO248dC5zdGF0ZXMubGVuZ3RoO24rKyl7aWYoKG89dC5zdGF0ZXNbbl0paW5zdGFuY2VvZiBaZSl7aWYobnVsbD09PW8uZW5kU3RhdGUpdGhyb3dcIklsbGVnYWxTdGF0ZVwiO2lmKG51bGwhPT1vLmVuZFN0YXRlLnN0YXJ0U3RhdGUpdGhyb3dcIklsbGVnYWxTdGF0ZVwiO28uZW5kU3RhdGUuc3RhcnRTdGF0ZT1vfWlmKG8gaW5zdGFuY2VvZiBSbilmb3Iocj0wO3I8by50cmFuc2l0aW9ucy5sZW5ndGg7cisrKSh1PW8udHJhbnNpdGlvbnNbcl0udGFyZ2V0KWluc3RhbmNlb2YgV24mJih1Lmxvb3BCYWNrU3RhdGU9byk7ZWxzZSBpZihvIGluc3RhbmNlb2YgRG4pZm9yKHI9MDtyPG8udHJhbnNpdGlvbnMubGVuZ3RoO3IrKykodT1vLnRyYW5zaXRpb25zW3JdLnRhcmdldClpbnN0YW5jZW9mIHpuJiYodS5sb29wQmFja1N0YXRlPW8pfX19LHtrZXk6XCJyZWFkRGVjaXNpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucmVhZEludCgpLG49MDtuPGU7bisrKXt2YXIgcj10aGlzLnJlYWRJbnQoKSxvPXQuc3RhdGVzW3JdO3QuZGVjaXNpb25Ub1N0YXRlLnB1c2gobyksby5kZWNpc2lvbj1ufX19LHtrZXk6XCJyZWFkTGV4ZXJBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZigwPT09dC5ncmFtbWFyVHlwZSl7dmFyIG49dGhpcy5yZWFkSW50KCk7dC5sZXhlckFjdGlvbnM9cW8obixudWxsKTtmb3IodmFyIHI9MDtyPG47cisrKXt2YXIgbz10aGlzLnJlYWRJbnQoKSxpPXRoaXMucmVhZEludCgpO2UmJjY1NTM1PT09aSYmKGk9LTEpO3ZhciB1PXRoaXMucmVhZEludCgpO2UmJjY1NTM1PT09dSYmKHU9LTEpLHQubGV4ZXJBY3Rpb25zW3JdPXRoaXMubGV4ZXJBY3Rpb25GYWN0b3J5KG8saSx1KX19fX0se2tleTpcImdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbj10LnJ1bGVUb1N0YXJ0U3RhdGUubGVuZ3RoO2ZvcihlPTA7ZTxuO2UrKyl0LnJ1bGVUb1Rva2VuVHlwZVtlXT10Lm1heFRva2VuVHlwZStlKzE7Zm9yKGU9MDtlPG47ZSsrKXRoaXMuZ2VuZXJhdGVSdWxlQnlwYXNzVHJhbnNpdGlvbih0LGUpfX0se2tleTpcImdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHIsbz1uZXcgdXI7by5ydWxlSW5kZXg9ZSx0LmFkZFN0YXRlKG8pO3ZhciBpPW5ldyB1bjtpLnJ1bGVJbmRleD1lLHQuYWRkU3RhdGUoaSksby5lbmRTdGF0ZT1pLHQuZGVmaW5lRGVjaXNpb25TdGF0ZShvKSxpLnN0YXJ0U3RhdGU9bzt2YXIgdT1udWxsLGM9bnVsbDtpZih0LnJ1bGVUb1N0YXJ0U3RhdGVbZV0uaXNQcmVjZWRlbmNlUnVsZSl7Zm9yKGM9bnVsbCxuPTA7bjx0LnN0YXRlcy5sZW5ndGg7bisrKWlmKHI9dC5zdGF0ZXNbbl0sdGhpcy5zdGF0ZUlzRW5kU3RhdGVGb3IocixlKSl7Yz1yLHU9ci5sb29wQmFja1N0YXRlLnRyYW5zaXRpb25zWzBdO2JyZWFrfWlmKG51bGw9PT11KXRocm93XCJDb3VsZG4ndCBpZGVudGlmeSBmaW5hbCBzdGF0ZSBvZiB0aGUgcHJlY2VkZW5jZSBydWxlIHByZWZpeCBzZWN0aW9uLlwifWVsc2UgYz10LnJ1bGVUb1N0b3BTdGF0ZVtlXTtmb3Iobj0wO248dC5zdGF0ZXMubGVuZ3RoO24rKyl7cj10LnN0YXRlc1tuXTtmb3IodmFyIGE9MDthPHIudHJhbnNpdGlvbnMubGVuZ3RoO2ErKyl7dmFyIGw9ci50cmFuc2l0aW9uc1thXTtsIT09dSYmbC50YXJnZXQ9PT1jJiYobC50YXJnZXQ9aSl9fWZvcih2YXIgcz10LnJ1bGVUb1N0YXJ0U3RhdGVbZV0sZj1zLnRyYW5zaXRpb25zLmxlbmd0aDtmPjA7KW8uYWRkVHJhbnNpdGlvbihzLnRyYW5zaXRpb25zW2YtMV0pLHMudHJhbnNpdGlvbnM9cy50cmFuc2l0aW9ucy5zbGljZSgtMSk7dC5ydWxlVG9TdGFydFN0YXRlW2VdLmFkZFRyYW5zaXRpb24obmV3IEVyKG8pKSxpLmFkZFRyYW5zaXRpb24obmV3IEVyKGMpKTt2YXIgcD1uZXcgVmU7dC5hZGRTdGF0ZShwKSxwLmFkZFRyYW5zaXRpb24obmV3IGZyKGksdC5ydWxlVG9Ub2tlblR5cGVbZV0pKSxvLmFkZFRyYW5zaXRpb24obmV3IEVyKHApKX19LHtrZXk6XCJzdGF0ZUlzRW5kU3RhdGVGb3JcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHQucnVsZUluZGV4IT09ZSlyZXR1cm4gbnVsbDtpZighKHQgaW5zdGFuY2VvZiB6bikpcmV0dXJuIG51bGw7dmFyIG49dC50cmFuc2l0aW9uc1t0LnRyYW5zaXRpb25zLmxlbmd0aC0xXS50YXJnZXQ7cmV0dXJuIG4gaW5zdGFuY2VvZiBwbiYmbi5lcHNpbG9uT25seVRyYW5zaXRpb25zJiZuLnRyYW5zaXRpb25zWzBdLnRhcmdldCBpbnN0YW5jZW9mICQ/dDpudWxsfX0se2tleTpcIm1hcmtQcmVjZWRlbmNlRGVjaXNpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0LnN0YXRlcy5sZW5ndGg7ZSsrKXt2YXIgbj10LnN0YXRlc1tlXTtpZihuIGluc3RhbmNlb2Ygem4mJnQucnVsZVRvU3RhcnRTdGF0ZVtuLnJ1bGVJbmRleF0uaXNQcmVjZWRlbmNlUnVsZSl7dmFyIHI9bi50cmFuc2l0aW9uc1tuLnRyYW5zaXRpb25zLmxlbmd0aC0xXS50YXJnZXQ7ciBpbnN0YW5jZW9mIHBuJiZyLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnMmJnIudHJhbnNpdGlvbnNbMF0udGFyZ2V0IGluc3RhbmNlb2YgJCYmKG4uaXNQcmVjZWRlbmNlRGVjaXNpb249ITApfX19fSx7a2V5OlwidmVyaWZ5QVROXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5kZXNlcmlhbGl6YXRpb25PcHRpb25zLnZlcmlmeUFUTilmb3IodmFyIGU9MDtlPHQuc3RhdGVzLmxlbmd0aDtlKyspe3ZhciBuPXQuc3RhdGVzW2VdO2lmKG51bGwhPT1uKWlmKHRoaXMuY2hlY2tDb25kaXRpb24obi5lcHNpbG9uT25seVRyYW5zaXRpb25zfHxuLnRyYW5zaXRpb25zLmxlbmd0aDw9MSksbiBpbnN0YW5jZW9mIFduKXRoaXMuY2hlY2tDb25kaXRpb24obnVsbCE9PW4ubG9vcEJhY2tTdGF0ZSk7ZWxzZSBpZihuIGluc3RhbmNlb2Ygem4paWYodGhpcy5jaGVja0NvbmRpdGlvbihudWxsIT09bi5sb29wQmFja1N0YXRlKSx0aGlzLmNoZWNrQ29uZGl0aW9uKDI9PT1uLnRyYW5zaXRpb25zLmxlbmd0aCksbi50cmFuc2l0aW9uc1swXS50YXJnZXQgaW5zdGFuY2VvZiB0cil0aGlzLmNoZWNrQ29uZGl0aW9uKG4udHJhbnNpdGlvbnNbMV0udGFyZ2V0IGluc3RhbmNlb2YgcG4pLHRoaXMuY2hlY2tDb25kaXRpb24oIW4ubm9uR3JlZWR5KTtlbHNle2lmKCEobi50cmFuc2l0aW9uc1swXS50YXJnZXQgaW5zdGFuY2VvZiBwbikpdGhyb3dcIklsbGVnYWxTdGF0ZVwiO3RoaXMuY2hlY2tDb25kaXRpb24obi50cmFuc2l0aW9uc1sxXS50YXJnZXQgaW5zdGFuY2VvZiB0ciksdGhpcy5jaGVja0NvbmRpdGlvbihuLm5vbkdyZWVkeSl9ZWxzZSBuIGluc3RhbmNlb2YgRG4/KHRoaXMuY2hlY2tDb25kaXRpb24oMT09PW4udHJhbnNpdGlvbnMubGVuZ3RoKSx0aGlzLmNoZWNrQ29uZGl0aW9uKG4udHJhbnNpdGlvbnNbMF0udGFyZ2V0IGluc3RhbmNlb2Ygem4pKTpuIGluc3RhbmNlb2YgcG4/dGhpcy5jaGVja0NvbmRpdGlvbihudWxsIT09bi5sb29wQmFja1N0YXRlKTpuIGluc3RhbmNlb2YgbW4/dGhpcy5jaGVja0NvbmRpdGlvbihudWxsIT09bi5zdG9wU3RhdGUpOm4gaW5zdGFuY2VvZiBaZT90aGlzLmNoZWNrQ29uZGl0aW9uKG51bGwhPT1uLmVuZFN0YXRlKTpuIGluc3RhbmNlb2YgdW4/dGhpcy5jaGVja0NvbmRpdGlvbihudWxsIT09bi5zdGFydFN0YXRlKTpuIGluc3RhbmNlb2YgR2U/dGhpcy5jaGVja0NvbmRpdGlvbihuLnRyYW5zaXRpb25zLmxlbmd0aDw9MXx8bi5kZWNpc2lvbj49MCk6dGhpcy5jaGVja0NvbmRpdGlvbihuLnRyYW5zaXRpb25zLmxlbmd0aDw9MXx8biBpbnN0YW5jZW9mICQpfX19LHtrZXk6XCJjaGVja0NvbmRpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbnVsbD09ZSYmKGU9XCJJbGxlZ2FsU3RhdGVcIiksZX19LHtrZXk6XCJyZWFkSW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMucG9zKytdfX0se2tleTpcInJlYWRJbnQzMlwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZEludCgpfHRoaXMucmVhZEludCgpPDwxNn19LHtrZXk6XCJlZGdlRmFjdG9yeVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSx1LGMsYSl7dmFyIGw9dC5zdGF0ZXNbcl07c3dpdGNoKGUpe2Nhc2UgdHQuRVBTSUxPTjpyZXR1cm4gbmV3IEVyKGwpO2Nhc2UgdHQuUkFOR0U6cmV0dXJuIG5ldyB2cihsLDAhPT1jP28uRU9GOmksdSk7Y2FzZSB0dC5SVUxFOnJldHVybiBuZXcgaXQodC5zdGF0ZXNbaV0sdSxjLGwpO2Nhc2UgdHQuUFJFRElDQVRFOnJldHVybiBuZXcgRHIobCxpLHUsMCE9PWMpO2Nhc2UgdHQuUFJFQ0VERU5DRTpyZXR1cm4gbmV3IFlyKGwsaSk7Y2FzZSB0dC5BVE9NOnJldHVybiBuZXcgZnIobCwwIT09Yz9vLkVPRjppKTtjYXNlIHR0LkFDVElPTjpyZXR1cm4gbmV3IE9yKGwsaSx1LDAhPT1jKTtjYXNlIHR0LlNFVDpyZXR1cm4gbmV3IHN0KGwsYVtpXSk7Y2FzZSB0dC5OT1RfU0VUOnJldHVybiBuZXcgdnQobCxhW2ldKTtjYXNlIHR0LldJTERDQVJEOnJldHVybiBuZXcgT3QobCk7ZGVmYXVsdDp0aHJvd1wiVGhlIHNwZWNpZmllZCB0cmFuc2l0aW9uIHR5cGU6IFwiK2UrXCIgaXMgbm90IHZhbGlkLlwifX19LHtrZXk6XCJzdGF0ZUZhY3RvcnlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKG51bGw9PT10aGlzLnN0YXRlRmFjdG9yaWVzKXt2YXIgbj1bXTtuW0guSU5WQUxJRF9UWVBFXT1udWxsLG5bSC5CQVNJQ109ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFZlfSxuW0guUlVMRV9TVEFSVF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG1ufSxuW0guQkxPQ0tfU1RBUlRdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1cn0sbltILlBMVVNfQkxPQ0tfU1RBUlRdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBXbn0sbltILlNUQVJfQkxPQ0tfU1RBUlRdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0cn0sbltILlRPS0VOX1NUQVJUXT1mdW5jdGlvbigpe3JldHVybiBuZXcgUG59LG5bSC5SVUxFX1NUT1BdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyAkfSxuW0guQkxPQ0tfRU5EXT1mdW5jdGlvbigpe3JldHVybiBuZXcgdW59LG5bSC5TVEFSX0xPT1BfQkFDS109ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERufSxuW0guU1RBUl9MT09QX0VOVFJZXT1mdW5jdGlvbigpe3JldHVybiBuZXcgem59LG5bSC5QTFVTX0xPT1BfQkFDS109ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJufSxuW0guTE9PUF9FTkRdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwbn0sdGhpcy5zdGF0ZUZhY3Rvcmllcz1ufWlmKHQ+dGhpcy5zdGF0ZUZhY3Rvcmllcy5sZW5ndGh8fG51bGw9PT10aGlzLnN0YXRlRmFjdG9yaWVzW3RdKXRocm93XCJUaGUgc3BlY2lmaWVkIHN0YXRlIHR5cGUgXCIrdCtcIiBpcyBub3QgdmFsaWQuXCI7dmFyIHI9dGhpcy5zdGF0ZUZhY3Rvcmllc1t0XSgpO2lmKG51bGwhPT1yKXJldHVybiByLnJ1bGVJbmRleD1lLHJ9fSx7a2V5OlwibGV4ZXJBY3Rpb25GYWN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PT10aGlzLmFjdGlvbkZhY3Rvcmllcyl7dmFyIHI9W107clswXT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbG8odCl9LHJbMV09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGhvKHQsZSl9LHJbMl09ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFVvKHQpfSxyWzNdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFNvLklOU1RBTkNFfSxyWzRdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIExvLklOU1RBTkNFfSxyWzVdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBSbyh0KX0scls2XT1mdW5jdGlvbih0LGUpe3JldHVybiBvby5JTlNUQU5DRX0scls3XT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVG8odCl9LHRoaXMuYWN0aW9uRmFjdG9yaWVzPXJ9aWYodD50aGlzLmFjdGlvbkZhY3Rvcmllcy5sZW5ndGh8fG51bGw9PT10aGlzLmFjdGlvbkZhY3Rvcmllc1t0XSl0aHJvd1wiVGhlIHNwZWNpZmllZCBsZXhlciBhY3Rpb24gdHlwZSBcIit0K1wiIGlzIG5vdCB2YWxpZC5cIjtyZXR1cm4gdGhpcy5hY3Rpb25GYWN0b3JpZXNbdF0oZSxuKX19XSxuJiZ6byhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gS28odCl7cmV0dXJuIEtvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEtvKHQpfWZ1bmN0aW9uIFlvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Lbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1LbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1LbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIEdvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5Olwic3ludGF4RXJyb3JcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7fX0se2tleTpcInJlcG9ydEFtYmlndWl0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUpe319LHtrZXk6XCJyZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7fX0se2tleTpcInJlcG9ydENvbnRleHRTZW5zaXRpdml0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt9fV0pJiZZbyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gV28odCl7cmV0dXJuIFdvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFdvKHQpfWZ1bmN0aW9uIFhvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1Xbyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1XbyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1XbyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gJG8odCxlKXtyZXR1cm4gJG89T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSwkbyh0LGUpfWZ1bmN0aW9uIEpvKHQpe3JldHVybiBKbz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sSm8odCl9dmFyIFFvPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiYkbyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUpvKHIpO2lmKG8pe3ZhciBuPUpvKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09V28oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcyl9cmV0dXJuIGU9dSwobj1be2tleTpcInN5bnRheEVycm9yXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe2NvbnNvbGUuZXJyb3IoXCJsaW5lIFwiK24rXCI6XCIrcitcIiBcIitvKX19XSkmJlhvKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oR28pO2Z1bmN0aW9uIFpvKHQpe3JldHVybiBabz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxabyh0KX1mdW5jdGlvbiB0aSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09Wm8odCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09Wm8ocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Wm8obyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIGVpKHQsZSl7cmV0dXJuIGVpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sZWkodCxlKX1mdW5jdGlvbiBuaSh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Wm8oZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiByaSh0KX1mdW5jdGlvbiByaSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBvaSh0KXtyZXR1cm4gb2k9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LG9pKHQpfVFvLklOU1RBTkNFPW5ldyBRbzt2YXIgaWk9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJmVpKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9b2kocik7aWYobyl7dmFyIG49b2kodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG5pKHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO2lmKGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxlPWkuY2FsbCh0aGlzKSxudWxsPT09dCl0aHJvd1wiZGVsZWdhdGVzXCI7cmV0dXJuIGUuZGVsZWdhdGVzPXQsbmkoZSxyaShlKSl9cmV0dXJuIGU9dSxuPVt7a2V5Olwic3ludGF4RXJyb3JcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7dGhpcy5kZWxlZ2F0ZXMubWFwKChmdW5jdGlvbih1KXtyZXR1cm4gdS5zeW50YXhFcnJvcih0LGUsbixyLG8saSl9KSl9fSx7a2V5OlwicmVwb3J0QW1iaWd1aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGksdSl7dGhpcy5kZWxlZ2F0ZXMubWFwKChmdW5jdGlvbihjKXtyZXR1cm4gYy5yZXBvcnRBbWJpZ3VpdHkodCxlLG4scixvLGksdSl9KSl9fSx7a2V5OlwicmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe3RoaXMuZGVsZWdhdGVzLm1hcCgoZnVuY3Rpb24odSl7cmV0dXJuIHUucmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0KHQsZSxuLHIsbyxpKX0pKX19LHtrZXk6XCJyZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7dGhpcy5kZWxlZ2F0ZXMubWFwKChmdW5jdGlvbih1KXtyZXR1cm4gdS5yZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHkodCxlLG4scixvLGkpfSkpfX1dLG4mJnRpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oR28pO2Z1bmN0aW9uIHVpKHQpe3JldHVybiB1aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx1aSh0KX1mdW5jdGlvbiBjaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09dWkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09dWkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09dWkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBhaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuX2xpc3RlbmVycz1bUW8uSU5TVEFOQ0VdLHRoaXMuX2ludGVycD1udWxsLHRoaXMuX3N0YXRlTnVtYmVyPS0xfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiY2hlY2tWZXJzaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9XCI0LjEzLjBcIjtlIT09dCYmY29uc29sZS5sb2coXCJBTlRMUiBydW50aW1lIGFuZCBnZW5lcmF0ZWQgY29kZSB2ZXJzaW9ucyBkaXNhZ3JlZTogXCIrZStcIiE9XCIrdCl9fSx7a2V5OlwiYWRkRXJyb3JMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuX2xpc3RlbmVycy5wdXNoKHQpfX0se2tleTpcInJlbW92ZUVycm9yTGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9saXN0ZW5lcnM9W119fSx7a2V5OlwiZ2V0TGl0ZXJhbE5hbWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yLmxpdGVyYWxOYW1lc3x8W119fSx7a2V5OlwiZ2V0U3ltYm9saWNOYW1lc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3Rvci5zeW1ib2xpY05hbWVzfHxbXX19LHtrZXk6XCJnZXRUb2tlbk5hbWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy50b2tlbk5hbWVzKXt2YXIgdD10aGlzLmdldExpdGVyYWxOYW1lcygpLGU9dGhpcy5nZXRTeW1ib2xpY05hbWVzKCksbj10Lmxlbmd0aD5lLmxlbmd0aD90Lmxlbmd0aDplLmxlbmd0aDt0aGlzLnRva2VuTmFtZXM9W107Zm9yKHZhciByPTA7cjxuO3IrKyl0aGlzLnRva2VuTmFtZXNbcl09dFtyXXx8ZVtyXXx8XCI8SU5WQUxJRFwifXJldHVybiB0aGlzLnRva2VuTmFtZXN9fSx7a2V5OlwiZ2V0VG9rZW5UeXBlTWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFRva2VuTmFtZXMoKTtpZihudWxsPT09dCl0aHJvd1wiVGhlIGN1cnJlbnQgcmVjb2duaXplciBkb2VzIG5vdCBwcm92aWRlIGEgbGlzdCBvZiB0b2tlbiBuYW1lcy5cIjt2YXIgZT10aGlzLnRva2VuVHlwZU1hcENhY2hlW3RdO3JldHVybiB2b2lkIDA9PT1lJiYoZT10LnJlZHVjZSgoZnVuY3Rpb24odCxlLG4pe3RbZV09bn0pKSxlLkVPRj1vLkVPRix0aGlzLnRva2VuVHlwZU1hcENhY2hlW3RdPWUpLGV9fSx7a2V5OlwiZ2V0UnVsZUluZGV4TWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJ1bGVOYW1lcztpZihudWxsPT09dCl0aHJvd1wiVGhlIGN1cnJlbnQgcmVjb2duaXplciBkb2VzIG5vdCBwcm92aWRlIGEgbGlzdCBvZiBydWxlIG5hbWVzLlwiO3ZhciBlPXRoaXMucnVsZUluZGV4TWFwQ2FjaGVbdF07cmV0dXJuIHZvaWQgMD09PWUmJihlPXQucmVkdWNlKChmdW5jdGlvbih0LGUsbil7dFtlXT1ufSkpLHRoaXMucnVsZUluZGV4TWFwQ2FjaGVbdF09ZSksZX19LHtrZXk6XCJnZXRUb2tlblR5cGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFRva2VuVHlwZU1hcCgpW3RdO3JldHVybiB2b2lkIDAhPT1lP2U6by5JTlZBTElEX1RZUEV9fSx7a2V5OlwiZ2V0RXJyb3JIZWFkZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cImxpbmUgXCIrdC5nZXRPZmZlbmRpbmdUb2tlbigpLmxpbmUrXCI6XCIrdC5nZXRPZmZlbmRpbmdUb2tlbigpLmNvbHVtbn19LHtrZXk6XCJnZXRUb2tlbkVycm9yRGlzcGxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXJldHVyblwiPG5vIHRva2VuPlwiO3ZhciBlPXQudGV4dDtyZXR1cm4gbnVsbD09PWUmJihlPXQudHlwZT09PW8uRU9GP1wiPEVPRj5cIjpcIjxcIit0LnR5cGUrXCI+XCIpLFwiJ1wiKyhlPWUucmVwbGFjZShcIlxcblwiLFwiXFxcXG5cIikucmVwbGFjZShcIlxcclwiLFwiXFxcXHJcIikucmVwbGFjZShcIlxcdFwiLFwiXFxcXHRcIikpK1wiJ1wifX0se2tleTpcImdldEVycm9yTGlzdGVuZXJEaXNwYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpaSh0aGlzLl9saXN0ZW5lcnMpfX0se2tleTpcInNlbXByZWRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuITB9fSx7a2V5OlwicHJlY3ByZWRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiEwfX0se2tleTpcImF0blwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnAuYXRufX0se2tleTpcInN0YXRlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlTnVtYmVyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc3RhdGVOdW1iZXI9dH19XSxuJiZjaShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gbGkodCl7cmV0dXJuIGxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGxpKHQpfWZ1bmN0aW9uIHNpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1saSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1saShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1saShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gZmkodCxlKXtyZXR1cm4gZmk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxmaSh0LGUpfWZ1bmN0aW9uIHBpKHQpe3JldHVybiBwaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scGkodCl9YWkudG9rZW5UeXBlTWFwQ2FjaGU9e30sYWkucnVsZUluZGV4TWFwQ2FjaGU9e307dmFyIHlpPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZmaSh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXBpKHIpO2lmKGkpe3ZhciBuPXBpKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09bGkoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQsZSxuLHIsaSl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwoYT11LmNhbGwodGhpcykpLnNvdXJjZT12b2lkIDAhPT10P3Q6Yy5FTVBUWV9TT1VSQ0UsYS50eXBlPXZvaWQgMCE9PWU/ZTpudWxsLGEuY2hhbm5lbD12b2lkIDAhPT1uP246by5ERUZBVUxUX0NIQU5ORUwsYS5zdGFydD12b2lkIDAhPT1yP3I6LTEsYS5zdG9wPXZvaWQgMCE9PWk/aTotMSxhLnRva2VuSW5kZXg9LTEsbnVsbCE9PWEuc291cmNlWzBdPyhhLmxpbmU9dFswXS5saW5lLGEuY29sdW1uPXRbMF0uY29sdW1uKTphLmNvbHVtbj0tMSxhfXJldHVybiBlPWMsKG49W3trZXk6XCJjbG9uZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGModGhpcy5zb3VyY2UsdGhpcy50eXBlLHRoaXMuY2hhbm5lbCx0aGlzLnN0YXJ0LHRoaXMuc3RvcCk7cmV0dXJuIHQudG9rZW5JbmRleD10aGlzLnRva2VuSW5kZXgsdC5saW5lPXRoaXMubGluZSx0LmNvbHVtbj10aGlzLmNvbHVtbix0LnRleHQ9dGhpcy50ZXh0LHR9fSx7a2V5OlwiY2xvbmVXaXRoVHlwZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBjKHRoaXMuc291cmNlLHQsdGhpcy5jaGFubmVsLHRoaXMuc3RhcnQsdGhpcy5zdG9wKTtyZXR1cm4gZS50b2tlbkluZGV4PXRoaXMudG9rZW5JbmRleCxlLmxpbmU9dGhpcy5saW5lLGUuY29sdW1uPXRoaXMuY29sdW1uLHQ9PT1vLkVPRiYmKGUudGV4dD1cIlwiKSxlfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRleHQ7cmV0dXJuIHQ9bnVsbCE9PXQ/dC5yZXBsYWNlKC9cXG4vZyxcIlxcXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxcXHJcIikucmVwbGFjZSgvXFx0L2csXCJcXFxcdFwiKTpcIjxubyB0ZXh0PlwiLFwiW0BcIit0aGlzLnRva2VuSW5kZXgrXCIsXCIrdGhpcy5zdGFydCtcIjpcIit0aGlzLnN0b3ArXCI9J1wiK3QrXCInLDxcIit0aGlzLnR5cGUrXCI+XCIrKHRoaXMuY2hhbm5lbD4wP1wiLGNoYW5uZWw9XCIrdGhpcy5jaGFubmVsOlwiXCIpK1wiLFwiK3RoaXMubGluZStcIjpcIit0aGlzLmNvbHVtbitcIl1cIn19LHtrZXk6XCJ0ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3RleHQpcmV0dXJuIHRoaXMuX3RleHQ7dmFyIHQ9dGhpcy5nZXRJbnB1dFN0cmVhbSgpO2lmKG51bGw9PT10KXJldHVybiBudWxsO3ZhciBlPXQuc2l6ZTtyZXR1cm4gdGhpcy5zdGFydDxlJiZ0aGlzLnN0b3A8ZT90LmdldFRleHQodGhpcy5zdGFydCx0aGlzLnN0b3ApOlwiPEVPRj5cIn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHQ9dH19XSkmJnNpKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30obyk7ZnVuY3Rpb24gaGkodCl7cmV0dXJuIGhpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGhpKHQpfWZ1bmN0aW9uIGJpKHQsZSl7cmV0dXJuIGJpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sYmkodCxlKX1mdW5jdGlvbiB2aSh0KXtyZXR1cm4gdmk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHZpKHQpfWZ1bmN0aW9uIGRpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1oaSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1oaShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1oaShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gbWkodCxlLG4pe3JldHVybiBlJiZkaSh0LnByb3RvdHlwZSxlKSxuJiZkaSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBnaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9eWkuRU1QVFlfU09VUkNFPVtudWxsLG51bGxdO3ZhciBTaT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmYmkodCxlKX0obyx0KTt2YXIgZSxuLHI9KGU9byxuPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxyPXZpKGUpO2lmKG4pe3ZhciBvPXZpKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsbyl9ZWxzZSB0PXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09aGkoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBvKHQpe3ZhciBlO3JldHVybiBnaSh0aGlzLG8pLChlPXIuY2FsbCh0aGlzKSkuY29weVRleHQ9dm9pZCAwIT09dCYmdCxlfXJldHVybiBtaShvLFt7a2V5OlwiY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGksdSxjKXt2YXIgYT1uZXcgeWkodCxlLHIsbyxpKTtyZXR1cm4gYS5saW5lPXUsYS5jb2x1bW49YyxudWxsIT09bj9hLnRleHQ9bjp0aGlzLmNvcHlUZXh0JiZudWxsIT09dFsxXSYmKGEudGV4dD10WzFdLmdldFRleHQobyxpKSksYX19LHtrZXk6XCJjcmVhdGVUaGluXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgeWkobnVsbCx0KTtyZXR1cm4gbi50ZXh0PWUsbn19XSksb30obWkoKGZ1bmN0aW9uIHQoKXtnaSh0aGlzLHQpfSkpKTtmdW5jdGlvbiBPaSh0KXtyZXR1cm4gT2k9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sT2kodCl9ZnVuY3Rpb24gd2kodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PU9pKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PU9pKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PU9pKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBfaSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH1mdW5jdGlvbiBQaSh0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBNYXA/bmV3IE1hcDp2b2lkIDA7cmV0dXJuIFBpPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHwobj10LC0xPT09RnVuY3Rpb24udG9TdHJpbmcuY2FsbChuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSkpcmV0dXJuIHQ7dmFyIG47aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7aWYodm9pZCAwIT09ZSl7aWYoZS5oYXModCkpcmV0dXJuIGUuZ2V0KHQpO2Uuc2V0KHQscil9ZnVuY3Rpb24gcigpe3JldHVybiBUaSh0LGFyZ3VtZW50cyxqaSh0aGlzKS5jb25zdHJ1Y3Rvcil9cmV0dXJuIHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpyLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGtpKHIsdCl9LFBpKHQpfWZ1bmN0aW9uIFRpKHQsZSxuKXtyZXR1cm4gVGk9RWkoKT9SZWZsZWN0LmNvbnN0cnVjdC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPVtudWxsXTtyLnB1c2guYXBwbHkocixlKTt2YXIgbz1uZXcoRnVuY3Rpb24uYmluZC5hcHBseSh0LHIpKTtyZXR1cm4gbiYma2kobyxuLnByb3RvdHlwZSksb30sVGkuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIEVpKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19ZnVuY3Rpb24ga2kodCxlKXtyZXR1cm4ga2k9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxraSh0LGUpfWZ1bmN0aW9uIGppKHQpe3JldHVybiBqaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0samkodCl9U2kuREVGQVVMVD1uZXcgU2k7dmFyIHhpPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZraSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPUVpKCksZnVuY3Rpb24oKXt2YXIgdCxlPWppKHIpO2lmKG8pe3ZhciBuPWppKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09T2koZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBfaSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxlPWkuY2FsbCh0aGlzLHQubWVzc2FnZSksRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKF9pKGUpLHUpLGUubWVzc2FnZT10Lm1lc3NhZ2UsZS5yZWNvZ25pemVyPXQucmVjb2duaXplcixlLmlucHV0PXQuaW5wdXQsZS5jdHg9dC5jdHgsZS5vZmZlbmRpbmdUb2tlbj1udWxsLGUub2ZmZW5kaW5nU3RhdGU9LTEsbnVsbCE9PWUucmVjb2duaXplciYmKGUub2ZmZW5kaW5nU3RhdGU9ZS5yZWNvZ25pemVyLnN0YXRlKSxlfXJldHVybiBlPXUsKG49W3trZXk6XCJnZXRFeHBlY3RlZFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnJlY29nbml6ZXI/dGhpcy5yZWNvZ25pemVyLmF0bi5nZXRFeHBlY3RlZFRva2Vucyh0aGlzLm9mZmVuZGluZ1N0YXRlLHRoaXMuY3R4KTpudWxsfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfX1dKSYmd2koZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShQaShFcnJvcikpO2Z1bmN0aW9uIFJpKHQpe3JldHVybiBSaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxSaSh0KX1mdW5jdGlvbiBDaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09UmkodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09UmkocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09Umkobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIEFpKHQsZSl7cmV0dXJuIEFpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sQWkodCxlKX1mdW5jdGlvbiBOaSh0KXtyZXR1cm4gTmk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LE5pKHQpfXZhciBJaT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmQWkodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1OaShyKTtpZihvKXt2YXIgbj1OaSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVJpKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0LGUsbixyKXt2YXIgbztyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChvPWkuY2FsbCh0aGlzLHttZXNzYWdlOlwiXCIscmVjb2duaXplcjp0LGlucHV0OmUsY3R4Om51bGx9KSkuc3RhcnRJbmRleD1uLG8uZGVhZEVuZENvbmZpZ3M9cixvfXJldHVybiBlPXUsKG49W3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9XCJcIjtyZXR1cm4gdGhpcy5zdGFydEluZGV4Pj0wJiZ0aGlzLnN0YXJ0SW5kZXg8dGhpcy5pbnB1dC5zaXplJiYodD10aGlzLmlucHV0LmdldFRleHQobmV3IEIodGhpcy5zdGFydEluZGV4LHRoaXMuc3RhcnRJbmRleCkpKSxcIkxleGVyTm9WaWFibGVBbHRFeGNlcHRpb25cIit0fX1dKSYmQ2koZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fSh4aSk7ZnVuY3Rpb24gTGkodCl7cmV0dXJuIExpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LExpKHQpfWZ1bmN0aW9uIERpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1MaSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1MaShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1MaShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gRmkodCxlKXtyZXR1cm4gRmk9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxGaSh0LGUpfWZ1bmN0aW9uIEJpKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIE1pKHQpe3JldHVybiBNaT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTWkodCl9dmFyIFVpPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZGaSh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPU1pKHIpO2lmKGkpe3ZhciBuPU1pKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09TGkoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBCaSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwoZT11LmNhbGwodGhpcykpLl9pbnB1dD10LGUuX2ZhY3Rvcnk9U2kuREVGQVVMVCxlLl90b2tlbkZhY3RvcnlTb3VyY2VQYWlyPVtCaShlKSx0XSxlLl9pbnRlcnA9bnVsbCxlLl90b2tlbj1udWxsLGUuX3Rva2VuU3RhcnRDaGFySW5kZXg9LTEsZS5fdG9rZW5TdGFydExpbmU9LTEsZS5fdG9rZW5TdGFydENvbHVtbj0tMSxlLl9oaXRFT0Y9ITEsZS5fY2hhbm5lbD1vLkRFRkFVTFRfQ0hBTk5FTCxlLl90eXBlPW8uSU5WQUxJRF9UWVBFLGUuX21vZGVTdGFjaz1bXSxlLl9tb2RlPWMuREVGQVVMVF9NT0RFLGUuX3RleHQ9bnVsbCxlfXJldHVybiBlPWMsbj1be2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5faW5wdXQmJnRoaXMuX2lucHV0LnNlZWsoMCksdGhpcy5fdG9rZW49bnVsbCx0aGlzLl90eXBlPW8uSU5WQUxJRF9UWVBFLHRoaXMuX2NoYW5uZWw9by5ERUZBVUxUX0NIQU5ORUwsdGhpcy5fdG9rZW5TdGFydENoYXJJbmRleD0tMSx0aGlzLl90b2tlblN0YXJ0Q29sdW1uPS0xLHRoaXMuX3Rva2VuU3RhcnRMaW5lPS0xLHRoaXMuX3RleHQ9bnVsbCx0aGlzLl9oaXRFT0Y9ITEsdGhpcy5fbW9kZT1jLkRFRkFVTFRfTU9ERSx0aGlzLl9tb2RlU3RhY2s9W10sdGhpcy5faW50ZXJwLnJlc2V0KCl9fSx7a2V5OlwibmV4dFRva2VuXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5faW5wdXQpdGhyb3dcIm5leHRUb2tlbiByZXF1aXJlcyBhIG5vbi1udWxsIGlucHV0IHN0cmVhbS5cIjt2YXIgdD10aGlzLl9pbnB1dC5tYXJrKCk7dHJ5e2Zvcig7Oyl7aWYodGhpcy5faGl0RU9GKXJldHVybiB0aGlzLmVtaXRFT0YoKSx0aGlzLl90b2tlbjt0aGlzLl90b2tlbj1udWxsLHRoaXMuX2NoYW5uZWw9by5ERUZBVUxUX0NIQU5ORUwsdGhpcy5fdG9rZW5TdGFydENoYXJJbmRleD10aGlzLl9pbnB1dC5pbmRleCx0aGlzLl90b2tlblN0YXJ0Q29sdW1uPXRoaXMuX2ludGVycC5jb2x1bW4sdGhpcy5fdG9rZW5TdGFydExpbmU9dGhpcy5faW50ZXJwLmxpbmUsdGhpcy5fdGV4dD1udWxsO2Zvcih2YXIgZT0hMTs7KXt0aGlzLl90eXBlPW8uSU5WQUxJRF9UWVBFO3ZhciBuPWMuU0tJUDt0cnl7bj10aGlzLl9pbnRlcnAubWF0Y2godGhpcy5faW5wdXQsdGhpcy5fbW9kZSl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgeGkpKXRocm93IGNvbnNvbGUubG9nKHQuc3RhY2spLHQ7dGhpcy5ub3RpZnlMaXN0ZW5lcnModCksdGhpcy5yZWNvdmVyKHQpfWlmKHRoaXMuX2lucHV0LkxBKDEpPT09by5FT0YmJih0aGlzLl9oaXRFT0Y9ITApLHRoaXMuX3R5cGU9PT1vLklOVkFMSURfVFlQRSYmKHRoaXMuX3R5cGU9biksdGhpcy5fdHlwZT09PWMuU0tJUCl7ZT0hMDticmVha31pZih0aGlzLl90eXBlIT09Yy5NT1JFKWJyZWFrfWlmKCFlKXJldHVybiBudWxsPT09dGhpcy5fdG9rZW4mJnRoaXMuZW1pdCgpLHRoaXMuX3Rva2VufX1maW5hbGx5e3RoaXMuX2lucHV0LnJlbGVhc2UodCl9fX0se2tleTpcInNraXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3R5cGU9Yy5TS0lQfX0se2tleTpcIm1vcmVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX3R5cGU9Yy5NT1JFfX0se2tleTpcIm1vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9tb2RlPXR9fSx7a2V5OlwicHVzaE1vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcnAuZGVidWcmJmNvbnNvbGUubG9nKFwicHVzaE1vZGUgXCIrdCksdGhpcy5fbW9kZVN0YWNrLnB1c2godGhpcy5fbW9kZSksdGhpcy5tb2RlKHQpfX0se2tleTpcInBvcE1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKDA9PT10aGlzLl9tb2RlU3RhY2subGVuZ3RoKXRocm93XCJFbXB0eSBTdGFja1wiO3JldHVybiB0aGlzLl9pbnRlcnAuZGVidWcmJmNvbnNvbGUubG9nKFwicG9wTW9kZSBiYWNrIHRvIFwiK3RoaXMuX21vZGVTdGFjay5zbGljZSgwLC0xKSksdGhpcy5tb2RlKHRoaXMuX21vZGVTdGFjay5wb3AoKSksdGhpcy5fbW9kZX19LHtrZXk6XCJlbWl0VG9rZW5cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl90b2tlbj10fX0se2tleTpcImVtaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZhY3RvcnkuY3JlYXRlKHRoaXMuX3Rva2VuRmFjdG9yeVNvdXJjZVBhaXIsdGhpcy5fdHlwZSx0aGlzLl90ZXh0LHRoaXMuX2NoYW5uZWwsdGhpcy5fdG9rZW5TdGFydENoYXJJbmRleCx0aGlzLmdldENoYXJJbmRleCgpLTEsdGhpcy5fdG9rZW5TdGFydExpbmUsdGhpcy5fdG9rZW5TdGFydENvbHVtbik7cmV0dXJuIHRoaXMuZW1pdFRva2VuKHQpLHR9fSx7a2V5OlwiZW1pdEVPRlwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb2x1bW4sZT10aGlzLmxpbmUsbj10aGlzLl9mYWN0b3J5LmNyZWF0ZSh0aGlzLl90b2tlbkZhY3RvcnlTb3VyY2VQYWlyLG8uRU9GLG51bGwsby5ERUZBVUxUX0NIQU5ORUwsdGhpcy5faW5wdXQuaW5kZXgsdGhpcy5faW5wdXQuaW5kZXgtMSxlLHQpO3JldHVybiB0aGlzLmVtaXRUb2tlbihuKSxufX0se2tleTpcImdldENoYXJJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0LmluZGV4fX0se2tleTpcImdldEFsbFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy5uZXh0VG9rZW4oKTtlLnR5cGUhPT1vLkVPRjspdC5wdXNoKGUpLGU9dGhpcy5uZXh0VG9rZW4oKTtyZXR1cm4gdH19LHtrZXk6XCJub3RpZnlMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl90b2tlblN0YXJ0Q2hhckluZGV4LG49dGhpcy5faW5wdXQuaW5kZXgscj10aGlzLl9pbnB1dC5nZXRUZXh0KGUsbiksbz1cInRva2VuIHJlY29nbml0aW9uIGVycm9yIGF0OiAnXCIrdGhpcy5nZXRFcnJvckRpc3BsYXkocikrXCInXCI7dGhpcy5nZXRFcnJvckxpc3RlbmVyRGlzcGF0Y2goKS5zeW50YXhFcnJvcih0aGlzLG51bGwsdGhpcy5fdG9rZW5TdGFydExpbmUsdGhpcy5fdG9rZW5TdGFydENvbHVtbixvLHQpfX0se2tleTpcImdldEVycm9yRGlzcGxheVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspZS5wdXNoKHRbbl0pO3JldHVybiBlLmpvaW4oXCJcIil9fSx7a2V5OlwiZ2V0RXJyb3JEaXNwbGF5Rm9yQ2hhclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYXJDb2RlQXQoMCk9PT1vLkVPRj9cIjxFT0Y+XCI6XCJcXG5cIj09PXQ/XCJcXFxcblwiOlwiXFx0XCI9PT10P1wiXFxcXHRcIjpcIlxcclwiPT09dD9cIlxcXFxyXCI6dH19LHtrZXk6XCJnZXRDaGFyRXJyb3JEaXNwbGF5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuXCInXCIrdGhpcy5nZXRFcnJvckRpc3BsYXlGb3JDaGFyKHQpK1wiJ1wifX0se2tleTpcInJlY292ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dC5MQSgxKSE9PW8uRU9GJiYodCBpbnN0YW5jZW9mIElpP3RoaXMuX2ludGVycC5jb25zdW1lKHRoaXMuX2lucHV0KTp0aGlzLl9pbnB1dC5jb25zdW1lKCkpfX0se2tleTpcImlucHV0U3RyZWFtXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXQ9bnVsbCx0aGlzLl90b2tlbkZhY3RvcnlTb3VyY2VQYWlyPVt0aGlzLHRoaXMuX2lucHV0XSx0aGlzLnJlc2V0KCksdGhpcy5faW5wdXQ9dCx0aGlzLl90b2tlbkZhY3RvcnlTb3VyY2VQYWlyPVt0aGlzLHRoaXMuX2lucHV0XX19LHtrZXk6XCJzb3VyY2VOYW1lXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0LnNvdXJjZU5hbWV9fSx7a2V5OlwidHlwZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdHlwZT10fX0se2tleTpcImxpbmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJwLmxpbmV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcnAubGluZT10fX0se2tleTpcImNvbHVtblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnAuY29sdW1ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJwLmNvbHVtbj10fX0se2tleTpcInRleHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX3RleHQ/dGhpcy5fdGV4dDp0aGlzLl9pbnRlcnAuZ2V0VGV4dCh0aGlzLl9pbnB1dCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0PXR9fV0sbiYmRGkoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShhaSk7ZnVuY3Rpb24gVmkodCl7cmV0dXJuIFZpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFZpKHQpfWZ1bmN0aW9uIHppKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1WaSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1WaShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1WaShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gcWkodCl7cmV0dXJuIHQuaGFzaENvZGVGb3JDb25maWdTZXQoKX1mdW5jdGlvbiBIaSh0LGUpe3JldHVybiB0PT09ZXx8bnVsbCE9PXQmJm51bGwhPT1lJiZ0LmVxdWFsc0ZvckNvbmZpZ1NldChlKX1VaS5ERUZBVUxUX01PREU9MCxVaS5NT1JFPS0yLFVpLlNLSVA9LTMsVWkuREVGQVVMVF9UT0tFTl9DSEFOTkVMPW8uREVGQVVMVF9DSEFOTkVMLFVpLkhJRERFTj1vLkhJRERFTl9DSEFOTkVMLFVpLk1JTl9DSEFSX1ZBTFVFPTAsVWkuTUFYX0NIQVJfVkFMVUU9MTExNDExMTt2YXIgS2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5jb25maWdMb29rdXA9bmV3IGcocWksSGkpLHRoaXMuZnVsbEN0eD12b2lkIDA9PT1lfHxlLHRoaXMucmVhZE9ubHk9ITEsdGhpcy5jb25maWdzPVtdLHRoaXMudW5pcXVlQWx0PTAsdGhpcy5jb25mbGljdGluZ0FsdHM9bnVsbCx0aGlzLmhhc1NlbWFudGljQ29udGV4dD0hMSx0aGlzLmRpcHNJbnRvT3V0ZXJDb250ZXh0PSExLHRoaXMuY2FjaGVkSGFzaENvZGU9LTF9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMucmVhZE9ubHkpdGhyb3dcIlRoaXMgc2V0IGlzIHJlYWRvbmx5XCI7dC5zZW1hbnRpY0NvbnRleHQhPT1qLk5PTkUmJih0aGlzLmhhc1NlbWFudGljQ29udGV4dD0hMCksdC5yZWFjaGVzSW50b091dGVyQ29udGV4dD4wJiYodGhpcy5kaXBzSW50b091dGVyQ29udGV4dD0hMCk7dmFyIG49dGhpcy5jb25maWdMb29rdXAuYWRkKHQpO2lmKG49PT10KXJldHVybiB0aGlzLmNhY2hlZEhhc2hDb2RlPS0xLHRoaXMuY29uZmlncy5wdXNoKHQpLCEwO3ZhciByPSF0aGlzLmZ1bGxDdHgsbz1qZShuLmNvbnRleHQsdC5jb250ZXh0LHIsZSk7cmV0dXJuIG4ucmVhY2hlc0ludG9PdXRlckNvbnRleHQ9TWF0aC5tYXgobi5yZWFjaGVzSW50b091dGVyQ29udGV4dCx0LnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0KSx0LnByZWNlZGVuY2VGaWx0ZXJTdXBwcmVzc2VkJiYobi5wcmVjZWRlbmNlRmlsdGVyU3VwcHJlc3NlZD0hMCksbi5jb250ZXh0PW8sITB9fSx7a2V5OlwiZ2V0U3RhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IGcsZT0wO2U8dGhpcy5jb25maWdzLmxlbmd0aDtlKyspdC5hZGQodGhpcy5jb25maWdzW2VdLnN0YXRlKTtyZXR1cm4gdH19LHtrZXk6XCJnZXRQcmVkaWNhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5jb25maWdzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuY29uZmlnc1tlXS5zZW1hbnRpY0NvbnRleHQ7biE9PWouTk9ORSYmdC5wdXNoKG4uc2VtYW50aWNDb250ZXh0KX1yZXR1cm4gdH19LHtrZXk6XCJvcHRpbWl6ZUNvbmZpZ3NcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnJlYWRPbmx5KXRocm93XCJUaGlzIHNldCBpcyByZWFkb25seVwiO2lmKDAhPT10aGlzLmNvbmZpZ0xvb2t1cC5sZW5ndGgpZm9yKHZhciBlPTA7ZTx0aGlzLmNvbmZpZ3MubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5jb25maWdzW2VdO24uY29udGV4dD10LmdldENhY2hlZENvbnRleHQobi5jb250ZXh0KX19fSx7a2V5OlwiYWRkQWxsXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy5hZGQodFtlXSk7cmV0dXJuITF9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXM9PT1lfHxlIGluc3RhbmNlb2YgdCYmaSh0aGlzLmNvbmZpZ3MsZS5jb25maWdzKSYmdGhpcy5mdWxsQ3R4PT09ZS5mdWxsQ3R4JiZ0aGlzLnVuaXF1ZUFsdD09PWUudW5pcXVlQWx0JiZ0aGlzLmNvbmZsaWN0aW5nQWx0cz09PWUuY29uZmxpY3RpbmdBbHRzJiZ0aGlzLmhhc1NlbWFudGljQ29udGV4dD09PWUuaGFzU2VtYW50aWNDb250ZXh0JiZ0aGlzLmRpcHNJbnRvT3V0ZXJDb250ZXh0PT09ZS5kaXBzSW50b091dGVyQ29udGV4dH19LHtrZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGY7cmV0dXJuIHQudXBkYXRlKHRoaXMuY29uZmlncyksdC5maW5pc2goKX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucmVhZE9ubHk/KC0xPT09dGhpcy5jYWNoZWRIYXNoQ29kZSYmKHRoaXMuY2FjaGVkSGFzaENvZGU9dGhpcy5oYXNoQ29kZSgpKSx0LnVwZGF0ZSh0aGlzLmNhY2hlZEhhc2hDb2RlKSk6dC51cGRhdGUodGhpcy5oYXNoQ29kZSgpKX19LHtrZXk6XCJpc0VtcHR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuY29uZmlncy5sZW5ndGh9fSx7a2V5OlwiY29udGFpbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5jb25maWdMb29rdXApdGhyb3dcIlRoaXMgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgcmVhZG9ubHkgc2V0cy5cIjtyZXR1cm4gdGhpcy5jb25maWdMb29rdXAuY29udGFpbnModCl9fSx7a2V5OlwiY29udGFpbnNGYXN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXRoaXMuY29uZmlnTG9va3VwKXRocm93XCJUaGlzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIHJlYWRvbmx5IHNldHMuXCI7cmV0dXJuIHRoaXMuY29uZmlnTG9va3VwLmNvbnRhaW5zRmFzdCh0KX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5yZWFkT25seSl0aHJvd1wiVGhpcyBzZXQgaXMgcmVhZG9ubHlcIjt0aGlzLmNvbmZpZ3M9W10sdGhpcy5jYWNoZWRIYXNoQ29kZT0tMSx0aGlzLmNvbmZpZ0xvb2t1cD1uZXcgZ319LHtrZXk6XCJzZXRSZWFkb25seVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucmVhZE9ubHk9dCx0JiYodGhpcy5jb25maWdMb29rdXA9bnVsbCl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBiKHRoaXMuY29uZmlncykrKHRoaXMuaGFzU2VtYW50aWNDb250ZXh0P1wiLGhhc1NlbWFudGljQ29udGV4dD1cIit0aGlzLmhhc1NlbWFudGljQ29udGV4dDpcIlwiKSsodGhpcy51bmlxdWVBbHQhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVI/XCIsdW5pcXVlQWx0PVwiK3RoaXMudW5pcXVlQWx0OlwiXCIpKyhudWxsIT09dGhpcy5jb25mbGljdGluZ0FsdHM/XCIsY29uZmxpY3RpbmdBbHRzPVwiK3RoaXMuY29uZmxpY3RpbmdBbHRzOlwiXCIpKyh0aGlzLmRpcHNJbnRvT3V0ZXJDb250ZXh0P1wiLGRpcHNJbnRvT3V0ZXJDb250ZXh0XCI6XCJcIil9fSx7a2V5OlwiaXRlbXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWdzfX0se2tleTpcImxlbmd0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmZpZ3MubGVuZ3RofX1dLG4mJnppKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBZaSh0KXtyZXR1cm4gWWk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sWWkodCl9ZnVuY3Rpb24gR2kodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVlpKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVlpKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVlpKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgV2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSxudWxsPT09ZSYmKGU9LTEpLG51bGw9PT1uJiYobj1uZXcgS2kpLHRoaXMuc3RhdGVOdW1iZXI9ZSx0aGlzLmNvbmZpZ3M9bix0aGlzLmVkZ2VzPW51bGwsdGhpcy5pc0FjY2VwdFN0YXRlPSExLHRoaXMucHJlZGljdGlvbj0wLHRoaXMubGV4ZXJBY3Rpb25FeGVjdXRvcj1udWxsLHRoaXMucmVxdWlyZXNGdWxsQ29udGV4dD0hMSx0aGlzLnByZWRpY2F0ZXM9bnVsbCx0aGlzfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwiZ2V0QWx0U2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZztpZihudWxsIT09dGhpcy5jb25maWdzKWZvcih2YXIgZT0wO2U8dGhpcy5jb25maWdzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMuY29uZmlnc1tlXTt0LmFkZChuLmFsdCl9cmV0dXJuIDA9PT10Lmxlbmd0aD9udWxsOnR9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXM9PT1lfHxlIGluc3RhbmNlb2YgdCYmdGhpcy5jb25maWdzLmVxdWFscyhlLmNvbmZpZ3MpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlTnVtYmVyK1wiOlwiK3RoaXMuY29uZmlncztyZXR1cm4gdGhpcy5pc0FjY2VwdFN0YXRlJiYodCs9XCI9PlwiLG51bGwhPT10aGlzLnByZWRpY2F0ZXM/dCs9dGhpcy5wcmVkaWNhdGVzOnQrPXRoaXMucHJlZGljdGlvbiksdH19LHtrZXk6XCJoYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGY7cmV0dXJuIHQudXBkYXRlKHRoaXMuY29uZmlncyksdC5maW5pc2goKX19XSxuJiZHaShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gWGkodCl7cmV0dXJuIFhpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFhpKHQpfWZ1bmN0aW9uICRpKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1YaSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1YaShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1YaShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIEppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5hdG49ZSx0aGlzLnNoYXJlZENvbnRleHRDYWNoZT1uLHRoaXN9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJnZXRDYWNoZWRDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXRoaXMuc2hhcmVkQ29udGV4dENhY2hlKXJldHVybiB0O3ZhciBlPW5ldyBUZTtyZXR1cm4ga2UodCx0aGlzLnNoYXJlZENvbnRleHRDYWNoZSxlKX19XSxuJiYkaShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gUWkodCl7cmV0dXJuIFFpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFFpKHQpfWZ1bmN0aW9uIFppKHQsZSl7cmV0dXJuIFppPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sWmkodCxlKX1mdW5jdGlvbiB0dSh0KXtyZXR1cm4gdHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHR1KHQpfUppLkVSUk9SPW5ldyBXaSgyMTQ3NDgzNjQ3LG5ldyBLaSk7dmFyIGV1PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZaaSh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT10dShuKTtpZihyKXt2YXIgbz10dSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVFpKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSgpe3ZhciB0O3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKHQ9by5jYWxsKHRoaXMpKS5jb25maWdMb29rdXA9bmV3IGcsdH1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oS2kpO2Z1bmN0aW9uIG51KHQpe3JldHVybiBudT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxudSh0KX1mdW5jdGlvbiBydSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09bnUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09bnUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09bnUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIG91KCl7cmV0dXJuIG91PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldC5iaW5kKCk6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7Zm9yKDshT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm51bGwhPT0odD1hdSh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihyKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsZSk7cmV0dXJuIG8uZ2V0P28uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6bik6by52YWx1ZX19LG91LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBpdSh0LGUpe3JldHVybiBpdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGl1KHQsZSl9ZnVuY3Rpb24gdXUodCxlKXtpZihlJiYoXCJvYmplY3RcIj09PW51KGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gY3UodCl9ZnVuY3Rpb24gY3UodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gYXUodCl7cmV0dXJuIGF1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxhdSh0KX12YXIgbHU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJml1KHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9YXUocik7aWYobyl7dmFyIG49YXUodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV1KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxuPWkuY2FsbCh0aGlzLHQsZSk7dmFyIHI9dC5sZXhlckFjdGlvbkV4ZWN1dG9yfHxudWxsO3JldHVybiBuLmxleGVyQWN0aW9uRXhlY3V0b3I9cnx8KG51bGwhPT1lP2UubGV4ZXJBY3Rpb25FeGVjdXRvcjpudWxsKSxuLnBhc3NlZFRocm91Z2hOb25HcmVlZHlEZWNpc2lvbj1udWxsIT09ZSYmbi5jaGVja05vbkdyZWVkeURlY2lzaW9uKGUsbi5zdGF0ZSksbi5oYXNoQ29kZUZvckNvbmZpZ1NldD11LnByb3RvdHlwZS5oYXNoQ29kZSxuLmVxdWFsc0ZvckNvbmZpZ1NldD11LnByb3RvdHlwZS5lcXVhbHMsdXUobixjdShuKSl9cmV0dXJuIGU9dSwobj1be2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5zdGF0ZS5zdGF0ZU51bWJlcix0aGlzLmFsdCx0aGlzLmNvbnRleHQsdGhpcy5zZW1hbnRpY0NvbnRleHQsdGhpcy5wYXNzZWRUaHJvdWdoTm9uR3JlZWR5RGVjaXNpb24sdGhpcy5sZXhlckFjdGlvbkV4ZWN1dG9yKX19LHtrZXk6XCJlcXVhbHNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHQgaW5zdGFuY2VvZiB1JiZ0aGlzLnBhc3NlZFRocm91Z2hOb25HcmVlZHlEZWNpc2lvbj09PXQucGFzc2VkVGhyb3VnaE5vbkdyZWVkeURlY2lzaW9uJiYodGhpcy5sZXhlckFjdGlvbkV4ZWN1dG9yP3RoaXMubGV4ZXJBY3Rpb25FeGVjdXRvci5lcXVhbHModC5sZXhlckFjdGlvbkV4ZWN1dG9yKTohdC5sZXhlckFjdGlvbkV4ZWN1dG9yKSYmb3UoYXUodS5wcm90b3R5cGUpLFwiZXF1YWxzXCIsdGhpcykuY2FsbCh0aGlzLHQpfX0se2tleTpcImNoZWNrTm9uR3JlZWR5RGVjaXNpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LnBhc3NlZFRocm91Z2hOb25HcmVlZHlEZWNpc2lvbnx8ZSBpbnN0YW5jZW9mIEdlJiZlLm5vbkdyZWVkeX19XSkmJnJ1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oTCk7ZnVuY3Rpb24gc3UodCl7cmV0dXJuIHN1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHN1KHQpfWZ1bmN0aW9uIGZ1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1zdSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1zdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1zdShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gcHUodCxlKXtyZXR1cm4gcHU9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxwdSh0LGUpfWZ1bmN0aW9uIHl1KHQpe3JldHVybiB5dT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0seXUodCl9dmFyIGh1PWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZwdSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXl1KHIpO2lmKG8pe3ZhciBuPXl1KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09c3UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwobj1pLmNhbGwodGhpcyxlLmFjdGlvblR5cGUpKS5vZmZzZXQ9dCxuLmFjdGlvbj1lLG4uaXNQb3NpdGlvbkRlcGVuZGVudD0hMCxufXJldHVybiBlPXUsKG49W3trZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5hY3Rpb24uZXhlY3V0ZSh0KX19LHtrZXk6XCJ1cGRhdGVIYXNoQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QudXBkYXRlKHRoaXMuYWN0aW9uVHlwZSx0aGlzLm9mZnNldCx0aGlzLmFjdGlvbil9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0IGluc3RhbmNlb2YgdSYmdGhpcy5vZmZzZXQ9PT10Lm9mZnNldCYmdGhpcy5hY3Rpb249PT10LmFjdGlvbn19XSkmJmZ1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnIpO2Z1bmN0aW9uIGJ1KHQpe3JldHVybiBidT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxidSh0KX1mdW5jdGlvbiB2dSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09YnUodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09YnUocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09YnUobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBkdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmxleGVyQWN0aW9ucz1udWxsPT09ZT9bXTplLHRoaXMuY2FjaGVkSGFzaENvZGU9Zi5oYXNoU3R1ZmYoZSksdGhpc312YXIgZSxuLHI7cmV0dXJuIGU9dCxuPVt7a2V5OlwiZml4T2Zmc2V0QmVmb3JlTWF0Y2hcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIG49bnVsbCxyPTA7cjx0aGlzLmxleGVyQWN0aW9ucy5sZW5ndGg7cisrKSF0aGlzLmxleGVyQWN0aW9uc1tyXS5pc1Bvc2l0aW9uRGVwZW5kZW50fHx0aGlzLmxleGVyQWN0aW9uc1tyXWluc3RhbmNlb2YgaHV8fChudWxsPT09biYmKG49dGhpcy5sZXhlckFjdGlvbnMuY29uY2F0KFtdKSksbltyXT1uZXcgaHUoZSx0aGlzLmxleGVyQWN0aW9uc1tyXSkpO3JldHVybiBudWxsPT09bj90aGlzOm5ldyB0KG4pfX0se2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ITEsbz1lLmluZGV4O3RyeXtmb3IodmFyIGk9MDtpPHRoaXMubGV4ZXJBY3Rpb25zLmxlbmd0aDtpKyspe3ZhciB1PXRoaXMubGV4ZXJBY3Rpb25zW2ldO2lmKHUgaW5zdGFuY2VvZiBodSl7dmFyIGM9dS5vZmZzZXQ7ZS5zZWVrKG4rYyksdT11LmFjdGlvbixyPW4rYyE9PW99ZWxzZSB1LmlzUG9zaXRpb25EZXBlbmRlbnQmJihlLnNlZWsobykscj0hMSk7dS5leGVjdXRlKHQpfX1maW5hbGx5e3ImJmUuc2VlayhvKX19fSx7a2V5OlwiaGFzaENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhY2hlZEhhc2hDb2RlfX0se2tleTpcInVwZGF0ZUhhc2hDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC51cGRhdGUodGhpcy5jYWNoZWRIYXNoQ29kZSl9fSx7a2V5OlwiZXF1YWxzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcz09PWUpcmV0dXJuITA7aWYoZSBpbnN0YW5jZW9mIHQpe2lmKHRoaXMuY2FjaGVkSGFzaENvZGUhPWUuY2FjaGVkSGFzaENvZGUpcmV0dXJuITE7aWYodGhpcy5sZXhlckFjdGlvbnMubGVuZ3RoIT1lLmxleGVyQWN0aW9ucy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPXRoaXMubGV4ZXJBY3Rpb25zLmxlbmd0aCxyPTA7cjxuOysrcilpZighdGhpcy5sZXhlckFjdGlvbnNbcl0uZXF1YWxzKGUubGV4ZXJBY3Rpb25zW3JdKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX19XSxyPVt7a2V5OlwiYXBwZW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbmV3IHQobnVsbD09PWU/W25dOmUubGV4ZXJBY3Rpb25zLmNvbmNhdChbbl0pKX19XSxuJiZ2dShlLnByb3RvdHlwZSxuKSxyJiZ2dShlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBtdSh0LGUpe3JldHVybiBtdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LG11KHQsZSl9ZnVuY3Rpb24gZ3UodCl7cmV0dXJuIGd1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxndSh0KX1mdW5jdGlvbiBTdSh0KXtyZXR1cm4gU3U9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sU3UodCl9ZnVuY3Rpb24gT3UodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHd1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1TdSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1TdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1TdShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gX3UodCxlLG4pe3JldHVybiBlJiZ3dSh0LnByb3RvdHlwZSxlKSxuJiZ3dSh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH1mdW5jdGlvbiBQdSh0KXt0LmluZGV4PS0xLHQubGluZT0wLHQuY29sdW1uPS0xLHQuZGZhU3RhdGU9bnVsbH12YXIgVHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7T3UodGhpcyx0KSxQdSh0aGlzKX1yZXR1cm4gX3UodCxbe2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtQdSh0aGlzKX19XSksdH0oKSxFdT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmbXUodCxlKX0oaSx0KTt2YXIgZSxuLHI9KGU9aSxuPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxyPWd1KGUpO2lmKG4pe3ZhciBvPWd1KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsbyl9ZWxzZSB0PXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09U3UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKHQsZSxuLG8pe3ZhciB1O3JldHVybiBPdSh0aGlzLGkpLCh1PXIuY2FsbCh0aGlzLGUsbykpLmRlY2lzaW9uVG9ERkE9bix1LnJlY29nPXQsdS5zdGFydEluZGV4PS0xLHUubGluZT0xLHUuY29sdW1uPTAsdS5tb2RlPVVpLkRFRkFVTFRfTU9ERSx1LnByZXZBY2NlcHQ9bmV3IFR1LHV9cmV0dXJuIF91KGksW3trZXk6XCJjb3B5U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNvbHVtbj10LmNvbHVtbix0aGlzLmxpbmU9dC5saW5lLHRoaXMubW9kZT10Lm1vZGUsdGhpcy5zdGFydEluZGV4PXQuc3RhcnRJbmRleH19LHtrZXk6XCJtYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5tb2RlPWU7dmFyIG49dC5tYXJrKCk7dHJ5e3RoaXMuc3RhcnRJbmRleD10LmluZGV4LHRoaXMucHJldkFjY2VwdC5yZXNldCgpO3ZhciByPXRoaXMuZGVjaXNpb25Ub0RGQVtlXTtyZXR1cm4gbnVsbD09PXIuczA/dGhpcy5tYXRjaEFUTih0KTp0aGlzLmV4ZWNBVE4odCxyLnMwKX1maW5hbGx5e3QucmVsZWFzZShuKX19fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucHJldkFjY2VwdC5yZXNldCgpLHRoaXMuc3RhcnRJbmRleD0tMSx0aGlzLmxpbmU9MSx0aGlzLmNvbHVtbj0wLHRoaXMubW9kZT1VaS5ERUZBVUxUX01PREV9fSx7a2V5OlwibWF0Y2hBVE5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmF0bi5tb2RlVG9TdGFydFN0YXRlW3RoaXMubW9kZV07aS5kZWJ1ZyYmY29uc29sZS5sb2coXCJtYXRjaEFUTiBtb2RlIFwiK3RoaXMubW9kZStcIiBzdGFydDogXCIrZSk7dmFyIG49dGhpcy5tb2RlLHI9dGhpcy5jb21wdXRlU3RhcnRTdGF0ZSh0LGUpLG89ci5oYXNTZW1hbnRpY0NvbnRleHQ7ci5oYXNTZW1hbnRpY0NvbnRleHQ9ITE7dmFyIHU9dGhpcy5hZGRERkFTdGF0ZShyKTtvfHwodGhpcy5kZWNpc2lvblRvREZBW3RoaXMubW9kZV0uczA9dSk7dmFyIGM9dGhpcy5leGVjQVROKHQsdSk7cmV0dXJuIGkuZGVidWcmJmNvbnNvbGUubG9nKFwiREZBIGFmdGVyIG1hdGNoQVROOiBcIit0aGlzLmRlY2lzaW9uVG9ERkFbbl0udG9MZXhlclN0cmluZygpKSxjfX0se2tleTpcImV4ZWNBVE5cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2kuZGVidWcmJmNvbnNvbGUubG9nKFwic3RhcnQgc3RhdGUgY2xvc3VyZT1cIitlLmNvbmZpZ3MpLGUuaXNBY2NlcHRTdGF0ZSYmdGhpcy5jYXB0dXJlU2ltU3RhdGUodGhpcy5wcmV2QWNjZXB0LHQsZSk7Zm9yKHZhciBuPXQuTEEoMSkscj1lOzspe2kuZGVidWcmJmNvbnNvbGUubG9nKFwiZXhlY0FUTiBsb29wIHN0YXJ0aW5nIGNsb3N1cmU6IFwiK3IuY29uZmlncyk7dmFyIHU9dGhpcy5nZXRFeGlzdGluZ1RhcmdldFN0YXRlKHIsbik7aWYobnVsbD09PXUmJih1PXRoaXMuY29tcHV0ZVRhcmdldFN0YXRlKHQscixuKSksdT09PUppLkVSUk9SKWJyZWFrO2lmKG4hPT1vLkVPRiYmdGhpcy5jb25zdW1lKHQpLHUuaXNBY2NlcHRTdGF0ZSYmKHRoaXMuY2FwdHVyZVNpbVN0YXRlKHRoaXMucHJldkFjY2VwdCx0LHUpLG49PT1vLkVPRikpYnJlYWs7bj10LkxBKDEpLHI9dX1yZXR1cm4gdGhpcy5mYWlsT3JBY2NlcHQodGhpcy5wcmV2QWNjZXB0LHQsci5jb25maWdzLG4pfX0se2tleTpcImdldEV4aXN0aW5nVGFyZ2V0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKG51bGw9PT10LmVkZ2VzfHxlPGkuTUlOX0RGQV9FREdFfHxlPmkuTUFYX0RGQV9FREdFKXJldHVybiBudWxsO3ZhciBuPXQuZWRnZXNbZS1pLk1JTl9ERkFfRURHRV07cmV0dXJuIHZvaWQgMD09PW4mJihuPW51bGwpLGkuZGVidWcmJm51bGwhPT1uJiZjb25zb2xlLmxvZyhcInJldXNlIHN0YXRlIFwiK3Quc3RhdGVOdW1iZXIrXCIgZWRnZSB0byBcIituLnN0YXRlTnVtYmVyKSxufX0se2tleTpcImNvbXB1dGVUYXJnZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgZXU7cmV0dXJuIHRoaXMuZ2V0UmVhY2hhYmxlQ29uZmlnU2V0KHQsZS5jb25maWdzLHIsbiksMD09PXIuaXRlbXMubGVuZ3RoPyhyLmhhc1NlbWFudGljQ29udGV4dHx8dGhpcy5hZGRERkFFZGdlKGUsbixKaS5FUlJPUiksSmkuRVJST1IpOnRoaXMuYWRkREZBRWRnZShlLG4sbnVsbCxyKX19LHtrZXk6XCJmYWlsT3JBY2NlcHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtpZihudWxsIT09dGhpcy5wcmV2QWNjZXB0LmRmYVN0YXRlKXt2YXIgaT10LmRmYVN0YXRlLmxleGVyQWN0aW9uRXhlY3V0b3I7cmV0dXJuIHRoaXMuYWNjZXB0KGUsaSx0aGlzLnN0YXJ0SW5kZXgsdC5pbmRleCx0LmxpbmUsdC5jb2x1bW4pLHQuZGZhU3RhdGUucHJlZGljdGlvbn1pZihyPT09by5FT0YmJmUuaW5kZXg9PT10aGlzLnN0YXJ0SW5kZXgpcmV0dXJuIG8uRU9GO3Rocm93IG5ldyBJaSh0aGlzLnJlY29nLGUsdGhpcy5zdGFydEluZGV4LG4pfX0se2tleTpcImdldFJlYWNoYWJsZUNvbmZpZ1NldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgdT1GZS5JTlZBTElEX0FMVF9OVU1CRVIsYz0wO2M8ZS5pdGVtcy5sZW5ndGg7YysrKXt2YXIgYT1lLml0ZW1zW2NdLGw9YS5hbHQ9PT11O2lmKCFsfHwhYS5wYXNzZWRUaHJvdWdoTm9uR3JlZWR5RGVjaXNpb24pe2kuZGVidWcmJmNvbnNvbGUubG9nKFwidGVzdGluZyAlcyBhdCAlc1xcblwiLHRoaXMuZ2V0VG9rZW5OYW1lKHIpLGEudG9TdHJpbmcodGhpcy5yZWNvZywhMCkpO2Zvcih2YXIgcz0wO3M8YS5zdGF0ZS50cmFuc2l0aW9ucy5sZW5ndGg7cysrKXt2YXIgZj1hLnN0YXRlLnRyYW5zaXRpb25zW3NdLHA9dGhpcy5nZXRSZWFjaGFibGVUYXJnZXQoZixyKTtpZihudWxsIT09cCl7dmFyIHk9YS5sZXhlckFjdGlvbkV4ZWN1dG9yO251bGwhPT15JiYoeT15LmZpeE9mZnNldEJlZm9yZU1hdGNoKHQuaW5kZXgtdGhpcy5zdGFydEluZGV4KSk7dmFyIGg9cj09PW8uRU9GLGI9bmV3IGx1KHtzdGF0ZTpwLGxleGVyQWN0aW9uRXhlY3V0b3I6eX0sYSk7dGhpcy5jbG9zdXJlKHQsYixuLGwsITAsaCkmJih1PWEuYWx0KX19fX19fSx7a2V5OlwiYWNjZXB0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLHUpe2kuZGVidWcmJmNvbnNvbGUubG9nKFwiQUNUSU9OICVzXFxuXCIsZSksdC5zZWVrKHIpLHRoaXMubGluZT1vLHRoaXMuY29sdW1uPXUsbnVsbCE9PWUmJm51bGwhPT10aGlzLnJlY29nJiZlLmV4ZWN1dGUodGhpcy5yZWNvZyx0LG4pfX0se2tleTpcImdldFJlYWNoYWJsZVRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWF0Y2hlcyhlLDAsVWkuTUFYX0NIQVJfVkFMVUUpP3QudGFyZ2V0Om51bGx9fSx7a2V5OlwiY29tcHV0ZVN0YXJ0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1vZS5FTVBUWSxyPW5ldyBldSxvPTA7bzxlLnRyYW5zaXRpb25zLmxlbmd0aDtvKyspe3ZhciBpPWUudHJhbnNpdGlvbnNbb10udGFyZ2V0LHU9bmV3IGx1KHtzdGF0ZTppLGFsdDpvKzEsY29udGV4dDpufSxudWxsKTt0aGlzLmNsb3N1cmUodCx1LHIsITEsITEsITEpfXJldHVybiByfX0se2tleTpcImNsb3N1cmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8sdSl7dmFyIGM9bnVsbDtpZihpLmRlYnVnJiZjb25zb2xlLmxvZyhcImNsb3N1cmUoXCIrZS50b1N0cmluZyh0aGlzLnJlY29nLCEwKStcIilcIiksZS5zdGF0ZSBpbnN0YW5jZW9mICQpe2lmKGkuZGVidWcmJihudWxsIT09dGhpcy5yZWNvZz9jb25zb2xlLmxvZyhcImNsb3N1cmUgYXQgJXMgcnVsZSBzdG9wICVzXFxuXCIsdGhpcy5yZWNvZy5ydWxlTmFtZXNbZS5zdGF0ZS5ydWxlSW5kZXhdLGUpOmNvbnNvbGUubG9nKFwiY2xvc3VyZSBhdCBydWxlIHN0b3AgJXNcXG5cIixlKSksbnVsbD09PWUuY29udGV4dHx8ZS5jb250ZXh0Lmhhc0VtcHR5UGF0aCgpKXtpZihudWxsPT09ZS5jb250ZXh0fHxlLmNvbnRleHQuaXNFbXB0eSgpKXJldHVybiBuLmFkZChlKSwhMDtuLmFkZChuZXcgbHUoe3N0YXRlOmUuc3RhdGUsY29udGV4dDpvZS5FTVBUWX0sZSkpLHI9ITB9aWYobnVsbCE9PWUuY29udGV4dCYmIWUuY29udGV4dC5pc0VtcHR5KCkpZm9yKHZhciBhPTA7YTxlLmNvbnRleHQubGVuZ3RoO2ErKylpZihlLmNvbnRleHQuZ2V0UmV0dXJuU3RhdGUoYSkhPT1vZS5FTVBUWV9SRVRVUk5fU1RBVEUpe3ZhciBsPWUuY29udGV4dC5nZXRQYXJlbnQoYSkscz10aGlzLmF0bi5zdGF0ZXNbZS5jb250ZXh0LmdldFJldHVyblN0YXRlKGEpXTtjPW5ldyBsdSh7c3RhdGU6cyxjb250ZXh0Omx9LGUpLHI9dGhpcy5jbG9zdXJlKHQsYyxuLHIsbyx1KX1yZXR1cm4gcn1lLnN0YXRlLmVwc2lsb25Pbmx5VHJhbnNpdGlvbnN8fHImJmUucGFzc2VkVGhyb3VnaE5vbkdyZWVkeURlY2lzaW9ufHxuLmFkZChlKTtmb3IodmFyIGY9MDtmPGUuc3RhdGUudHJhbnNpdGlvbnMubGVuZ3RoO2YrKyl7dmFyIHA9ZS5zdGF0ZS50cmFuc2l0aW9uc1tmXTtudWxsIT09KGM9dGhpcy5nZXRFcHNpbG9uVGFyZ2V0KHQsZSxwLG4sbyx1KSkmJihyPXRoaXMuY2xvc3VyZSh0LGMsbixyLG8sdSkpfXJldHVybiByfX0se2tleTpcImdldEVwc2lsb25UYXJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLHUsYyl7dmFyIGE9bnVsbDtpZihuLnNlcmlhbGl6YXRpb25UeXBlPT09dHQuUlVMRSl7dmFyIGw9dmUuY3JlYXRlKGUuY29udGV4dCxuLmZvbGxvd1N0YXRlLnN0YXRlTnVtYmVyKTthPW5ldyBsdSh7c3RhdGU6bi50YXJnZXQsY29udGV4dDpsfSxlKX1lbHNle2lmKG4uc2VyaWFsaXphdGlvblR5cGU9PT10dC5QUkVDRURFTkNFKXRocm93XCJQcmVjZWRlbmNlIHByZWRpY2F0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gbGV4ZXJzLlwiO2lmKG4uc2VyaWFsaXphdGlvblR5cGU9PT10dC5QUkVESUNBVEUpaS5kZWJ1ZyYmY29uc29sZS5sb2coXCJFVkFMIHJ1bGUgXCIrbi5ydWxlSW5kZXgrXCI6XCIrbi5wcmVkSW5kZXgpLHIuaGFzU2VtYW50aWNDb250ZXh0PSEwLHRoaXMuZXZhbHVhdGVQcmVkaWNhdGUodCxuLnJ1bGVJbmRleCxuLnByZWRJbmRleCx1KSYmKGE9bmV3IGx1KHtzdGF0ZTpuLnRhcmdldH0sZSkpO2Vsc2UgaWYobi5zZXJpYWxpemF0aW9uVHlwZT09PXR0LkFDVElPTilpZihudWxsPT09ZS5jb250ZXh0fHxlLmNvbnRleHQuaGFzRW1wdHlQYXRoKCkpe3ZhciBzPWR1LmFwcGVuZChlLmxleGVyQWN0aW9uRXhlY3V0b3IsdGhpcy5hdG4ubGV4ZXJBY3Rpb25zW24uYWN0aW9uSW5kZXhdKTthPW5ldyBsdSh7c3RhdGU6bi50YXJnZXQsbGV4ZXJBY3Rpb25FeGVjdXRvcjpzfSxlKX1lbHNlIGE9bmV3IGx1KHtzdGF0ZTpuLnRhcmdldH0sZSk7ZWxzZSBuLnNlcmlhbGl6YXRpb25UeXBlPT09dHQuRVBTSUxPTj9hPW5ldyBsdSh7c3RhdGU6bi50YXJnZXR9LGUpOm4uc2VyaWFsaXphdGlvblR5cGUhPT10dC5BVE9NJiZuLnNlcmlhbGl6YXRpb25UeXBlIT09dHQuUkFOR0UmJm4uc2VyaWFsaXphdGlvblR5cGUhPT10dC5TRVR8fGMmJm4ubWF0Y2hlcyhvLkVPRiwwLFVpLk1BWF9DSEFSX1ZBTFVFKSYmKGE9bmV3IGx1KHtzdGF0ZTpuLnRhcmdldH0sZSkpfXJldHVybiBhfX0se2tleTpcImV2YWx1YXRlUHJlZGljYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7aWYobnVsbD09PXRoaXMucmVjb2cpcmV0dXJuITA7aWYoIXIpcmV0dXJuIHRoaXMucmVjb2cuc2VtcHJlZChudWxsLGUsbik7dmFyIG89dGhpcy5jb2x1bW4saT10aGlzLmxpbmUsdT10LmluZGV4LGM9dC5tYXJrKCk7dHJ5e3JldHVybiB0aGlzLmNvbnN1bWUodCksdGhpcy5yZWNvZy5zZW1wcmVkKG51bGwsZSxuKX1maW5hbGx5e3RoaXMuY29sdW1uPW8sdGhpcy5saW5lPWksdC5zZWVrKHUpLHQucmVsZWFzZShjKX19fSx7a2V5OlwiY2FwdHVyZVNpbVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3QuaW5kZXg9ZS5pbmRleCx0LmxpbmU9dGhpcy5saW5lLHQuY29sdW1uPXRoaXMuY29sdW1uLHQuZGZhU3RhdGU9bn19LHtrZXk6XCJhZGRERkFFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7aWYodm9pZCAwPT09biYmKG49bnVsbCksdm9pZCAwPT09ciYmKHI9bnVsbCksbnVsbD09PW4mJm51bGwhPT1yKXt2YXIgbz1yLmhhc1NlbWFudGljQ29udGV4dDtpZihyLmhhc1NlbWFudGljQ29udGV4dD0hMSxuPXRoaXMuYWRkREZBU3RhdGUociksbylyZXR1cm4gbn1yZXR1cm4gZTxpLk1JTl9ERkFfRURHRXx8ZT5pLk1BWF9ERkFfRURHRXx8KGkuZGVidWcmJmNvbnNvbGUubG9nKFwiRURHRSBcIit0K1wiIC0+IFwiK24rXCIgdXBvbiBcIitlKSxudWxsPT09dC5lZGdlcyYmKHQuZWRnZXM9W10pLHQuZWRnZXNbZS1pLk1JTl9ERkFfRURHRV09biksbn19LHtrZXk6XCJhZGRERkFTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgV2kobnVsbCx0KSxuPW51bGwscj0wO3I8dC5pdGVtcy5sZW5ndGg7cisrKXt2YXIgbz10Lml0ZW1zW3JdO2lmKG8uc3RhdGUgaW5zdGFuY2VvZiAkKXtuPW87YnJlYWt9fW51bGwhPT1uJiYoZS5pc0FjY2VwdFN0YXRlPSEwLGUubGV4ZXJBY3Rpb25FeGVjdXRvcj1uLmxleGVyQWN0aW9uRXhlY3V0b3IsZS5wcmVkaWN0aW9uPXRoaXMuYXRuLnJ1bGVUb1Rva2VuVHlwZVtuLnN0YXRlLnJ1bGVJbmRleF0pO3ZhciBpPXRoaXMuZGVjaXNpb25Ub0RGQVt0aGlzLm1vZGVdLHU9aS5zdGF0ZXMuZ2V0KGUpO2lmKG51bGwhPT11KXJldHVybiB1O3ZhciBjPWU7cmV0dXJuIGMuc3RhdGVOdW1iZXI9aS5zdGF0ZXMubGVuZ3RoLHQuc2V0UmVhZG9ubHkoITApLGMuY29uZmlncz10LGkuc3RhdGVzLmFkZChjKSxjfX0se2tleTpcImdldERGQVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRlY2lzaW9uVG9ERkFbdF19fSx7a2V5OlwiZ2V0VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFRleHQodGhpcy5zdGFydEluZGV4LHQuaW5kZXgtMSl9fSx7a2V5OlwiY29uc3VtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuTEEoMSk9PT1cIlxcblwiLmNoYXJDb2RlQXQoMCk/KHRoaXMubGluZSs9MSx0aGlzLmNvbHVtbj0wKTp0aGlzLmNvbHVtbis9MSx0LmNvbnN1bWUoKX19LHtrZXk6XCJnZXRUb2tlbk5hbWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4tMT09PXQ/XCJFT0ZcIjpcIidcIitTdHJpbmcuZnJvbUNoYXJDb2RlKHQpK1wiJ1wifX1dKSxpfShKaSk7ZnVuY3Rpb24ga3UodCl7cmV0dXJuIGt1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGt1KHQpfWZ1bmN0aW9uIGp1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1rdSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1rdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1rdShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99RXUuZGVidWc9ITEsRXUuZGZhX2RlYnVnPSExLEV1Lk1JTl9ERkFfRURHRT0wLEV1Lk1BWF9ERkFfRURHRT0xMjc7dmFyIHh1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4peyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5hbHQ9bix0aGlzLnByZWQ9ZX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCIoXCIrdGhpcy5wcmVkK1wiLCBcIit0aGlzLmFsdCtcIilcIn19XSkmJmp1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBSdSh0KXtyZXR1cm4gUnU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sUnUodCl9ZnVuY3Rpb24gQ3UodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PVJ1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PVJ1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PVJ1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgQXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLmRhdGE9e319dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YVtcImstXCIrdF18fG51bGx9fSx7a2V5Olwic2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGFbXCJrLVwiK3RdPWV9fSx7a2V5OlwidmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RhcnRzV2l0aChcImstXCIpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGF0YVtlXX0pLHRoaXMpfX1dKSYmQ3UoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpLE51PXtTTEw6MCxMTDoxLExMX0VYQUNUX0FNQklHX0RFVEVDVElPTjoyLGhhc1NMTENvbmZsaWN0VGVybWluYXRpbmdQcmVkaWN0aW9uOmZ1bmN0aW9uKHQsZSl7aWYoTnUuYWxsQ29uZmlnc0luUnVsZVN0b3BTdGF0ZXMoZSkpcmV0dXJuITA7aWYodD09PU51LlNMTCYmZS5oYXNTZW1hbnRpY0NvbnRleHQpe2Zvcih2YXIgbj1uZXcgS2kscj0wO3I8ZS5pdGVtcy5sZW5ndGg7cisrKXt2YXIgbz1lLml0ZW1zW3JdO289bmV3IEwoe3NlbWFudGljQ29udGV4dDpqLk5PTkV9LG8pLG4uYWRkKG8pfWU9bn12YXIgaT1OdS5nZXRDb25mbGljdGluZ0FsdFN1YnNldHMoZSk7cmV0dXJuIE51Lmhhc0NvbmZsaWN0aW5nQWx0U2V0KGkpJiYhTnUuaGFzU3RhdGVBc3NvY2lhdGVkV2l0aE9uZUFsdChlKX0saGFzQ29uZmlnSW5SdWxlU3RvcFN0YXRlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5pdGVtcy5sZW5ndGg7ZSsrKWlmKHQuaXRlbXNbZV0uc3RhdGUgaW5zdGFuY2VvZiAkKXJldHVybiEwO3JldHVybiExfSxhbGxDb25maWdzSW5SdWxlU3RvcFN0YXRlczpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQuaXRlbXMubGVuZ3RoO2UrKylpZighKHQuaXRlbXNbZV0uc3RhdGUgaW5zdGFuY2VvZiAkKSlyZXR1cm4hMTtyZXR1cm4hMH0scmVzb2x2ZXNUb0p1c3RPbmVWaWFibGVBbHQ6ZnVuY3Rpb24odCl7cmV0dXJuIE51LmdldFNpbmdsZVZpYWJsZUFsdCh0KX0sYWxsU3Vic2V0c0NvbmZsaWN0OmZ1bmN0aW9uKHQpe3JldHVybiFOdS5oYXNOb25Db25mbGljdGluZ0FsdFNldCh0KX0saGFzTm9uQ29uZmxpY3RpbmdBbHRTZXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoMT09PXRbZV0ubGVuZ3RoKXJldHVybiEwO3JldHVybiExfSxoYXNDb25mbGljdGluZ0FsdFNldDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZih0W2VdLmxlbmd0aD4xKXJldHVybiEwO3JldHVybiExfSxhbGxTdWJzZXRzRXF1YWw6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2lmKG51bGw9PT1lKWU9cjtlbHNlIGlmKHIhPT1lKXJldHVybiExfXJldHVybiEwfSxnZXRVbmlxdWVBbHQ6ZnVuY3Rpb24odCl7dmFyIGU9TnUuZ2V0QWx0cyh0KTtyZXR1cm4gMT09PWUubGVuZ3RoP2UubWluVmFsdWUoKTpGZS5JTlZBTElEX0FMVF9OVU1CRVJ9LGdldEFsdHM6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IENlO3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7ZS5vcih0KX0pKSxlfSxnZXRDb25mbGljdGluZ0FsdFN1YnNldHM6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFRlO3JldHVybiBlLmhhc2hGdW5jdGlvbj1mdW5jdGlvbih0KXtmLmhhc2hTdHVmZih0LnN0YXRlLnN0YXRlTnVtYmVyLHQuY29udGV4dCl9LGUuZXF1YWxzRnVuY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdGF0ZS5zdGF0ZU51bWJlcj09PWUuc3RhdGUuc3RhdGVOdW1iZXImJnQuY29udGV4dC5lcXVhbHMoZS5jb250ZXh0KX0sdC5pdGVtcy5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZ2V0KHQpO251bGw9PT1uJiYobj1uZXcgQ2UsZS5zZXQodCxuKSksbi5hZGQodC5hbHQpfSkpLGUuZ2V0VmFsdWVzKCl9LGdldFN0YXRlVG9BbHRNYXA6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEF1O3JldHVybiB0Lml0ZW1zLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZS5nZXQodC5zdGF0ZSk7bnVsbD09PW4mJihuPW5ldyBDZSxlLnNldCh0LnN0YXRlLG4pKSxuLmFkZCh0LmFsdCl9KSksZX0saGFzU3RhdGVBc3NvY2lhdGVkV2l0aE9uZUFsdDpmdW5jdGlvbih0KXtmb3IodmFyIGU9TnUuZ2V0U3RhdGVUb0FsdE1hcCh0KS52YWx1ZXMoKSxuPTA7bjxlLmxlbmd0aDtuKyspaWYoMT09PWVbbl0ubGVuZ3RoKXJldHVybiEwO3JldHVybiExfSxnZXRTaW5nbGVWaWFibGVBbHQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLm1pblZhbHVlKCk7aWYobnVsbD09PWUpZT1yO2Vsc2UgaWYoZSE9PXIpcmV0dXJuIEZlLklOVkFMSURfQUxUX05VTUJFUn1yZXR1cm4gZX19O2NvbnN0IEl1PU51O2Z1bmN0aW9uIEx1KHQpe3JldHVybiBMdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxMdSh0KX1mdW5jdGlvbiBEdSh0LGUpe3JldHVybiBEdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LER1KHQsZSl9ZnVuY3Rpb24gRnUodCl7cmV0dXJuIEZ1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxGdSh0KX12YXIgQnU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkR1KHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPUZ1KG4pO2lmKHIpe3ZhciBvPUZ1KHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09THUoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKHQsZSxuLHIsdSxjKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLGM9Y3x8dC5fY3R4LHI9cnx8dC5nZXRDdXJyZW50VG9rZW4oKSxuPW58fHQuZ2V0Q3VycmVudFRva2VuKCksZT1lfHx0LmdldElucHV0U3RyZWFtKCksKGE9by5jYWxsKHRoaXMse21lc3NhZ2U6XCJcIixyZWNvZ25pemVyOnQsaW5wdXQ6ZSxjdHg6Y30pKS5kZWFkRW5kQ29uZmlncz11LGEuc3RhcnRUb2tlbj1uLGEub2ZmZW5kaW5nVG9rZW49cixhfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfSh4aSk7ZnVuY3Rpb24gTXUodCl7cmV0dXJuIE11PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE11KHQpfWZ1bmN0aW9uIFV1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1NdSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1NdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1NdShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIFZ1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuZGVmYXVsdE1hcEN0b3I9ZXx8VGUsdGhpcy5jYWNoZU1hcD1uZXcgdGhpcy5kZWZhdWx0TWFwQ3Rvcn12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY2FjaGVNYXAuZ2V0KHQpfHxudWxsO3JldHVybiBudWxsPT09bj9udWxsOm4uZ2V0KGUpfHxudWxsfX0se2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmNhY2hlTWFwLmdldCh0KXx8bnVsbDtudWxsPT09ciYmKHI9bmV3IHRoaXMuZGVmYXVsdE1hcEN0b3IsdGhpcy5jYWNoZU1hcC5zZXQodCxyKSksci5zZXQoZSxuKX19XSkmJlV1KGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiB6dSh0KXtyZXR1cm4genU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0senUodCl9ZnVuY3Rpb24gcXUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PXp1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PXp1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PXp1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBIdSh0LGUpe3JldHVybiBIdT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEh1KHQsZSl9ZnVuY3Rpb24gS3UodCl7cmV0dXJuIEt1PU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxLdSh0KX12YXIgWXU9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkh1KHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9S3Uocik7aWYoaSl7dmFyIG49S3UodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT16dShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCxlLG4scil7dmFyIG87cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwobz11LmNhbGwodGhpcyxlLHIpKS5wYXJzZXI9dCxvLmRlY2lzaW9uVG9ERkE9bixvLnByZWRpY3Rpb25Nb2RlPUl1LkxMLG8uX2lucHV0PW51bGwsby5fc3RhcnRJbmRleD0wLG8uX291dGVyQ29udGV4dD1udWxsLG8uX2RmYT1udWxsLG8ubWVyZ2VDYWNoZT1udWxsLG8uZGVidWc9ITEsby5kZWJ1Z19jbG9zdXJlPSExLG8uZGVidWdfYWRkPSExLG8udHJhY2VfYXRuX3NpbT0hMSxvLmRmYV9kZWJ1Zz0hMSxvLnJldHJ5X2RlYnVnPSExLG99cmV0dXJuIGU9YyxuPVt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJhZGFwdGl2ZVByZWRpY3RcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7KHRoaXMuZGVidWd8fHRoaXMudHJhY2VfYXRuX3NpbSkmJmNvbnNvbGUubG9nKFwiYWRhcHRpdmVQcmVkaWN0IGRlY2lzaW9uIFwiK2UrXCIgZXhlYyBMQSgxKT09XCIrdGhpcy5nZXRMb29rYWhlYWROYW1lKHQpK1wiIGxpbmUgXCIrdC5MVCgxKS5saW5lK1wiOlwiK3QuTFQoMSkuY29sdW1uKSx0aGlzLl9pbnB1dD10LHRoaXMuX3N0YXJ0SW5kZXg9dC5pbmRleCx0aGlzLl9vdXRlckNvbnRleHQ9bjt2YXIgcj10aGlzLmRlY2lzaW9uVG9ERkFbZV07dGhpcy5fZGZhPXI7dmFyIG89dC5tYXJrKCksaT10LmluZGV4O3RyeXt2YXIgdTtpZihudWxsPT09KHU9ci5wcmVjZWRlbmNlRGZhP3IuZ2V0UHJlY2VkZW5jZVN0YXJ0U3RhdGUodGhpcy5wYXJzZXIuZ2V0UHJlY2VkZW5jZSgpKTpyLnMwKSl7bnVsbD09PW4mJihuPWVlLkVNUFRZKSx0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcInByZWRpY3RBVE4gZGVjaXNpb24gXCIrci5kZWNpc2lvbitcIiBleGVjIExBKDEpPT1cIit0aGlzLmdldExvb2thaGVhZE5hbWUodCkrXCIsIG91dGVyQ29udGV4dD1cIituLnRvU3RyaW5nKHRoaXMucGFyc2VyLnJ1bGVOYW1lcykpO3ZhciBjPXRoaXMuY29tcHV0ZVN0YXJ0U3RhdGUoci5hdG5TdGFydFN0YXRlLGVlLkVNUFRZLCExKTtyLnByZWNlZGVuY2VEZmE/KHIuczAuY29uZmlncz1jLGM9dGhpcy5hcHBseVByZWNlZGVuY2VGaWx0ZXIoYyksdT10aGlzLmFkZERGQVN0YXRlKHIsbmV3IFdpKG51bGwsYykpLHIuc2V0UHJlY2VkZW5jZVN0YXJ0U3RhdGUodGhpcy5wYXJzZXIuZ2V0UHJlY2VkZW5jZSgpLHUpKToodT10aGlzLmFkZERGQVN0YXRlKHIsbmV3IFdpKG51bGwsYykpLHIuczA9dSl9dmFyIGE9dGhpcy5leGVjQVROKHIsdSx0LGksbik7cmV0dXJuIHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiREZBIGFmdGVyIHByZWRpY3RBVE46IFwiK3IudG9TdHJpbmcodGhpcy5wYXJzZXIubGl0ZXJhbE5hbWVzLHRoaXMucGFyc2VyLnN5bWJvbGljTmFtZXMpKSxhfWZpbmFsbHl7dGhpcy5fZGZhPW51bGwsdGhpcy5tZXJnZUNhY2hlPW51bGwsdC5zZWVrKGkpLHQucmVsZWFzZShvKX19fSx7a2V5OlwiZXhlY0FUTlwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIHU7KHRoaXMuZGVidWd8fHRoaXMudHJhY2VfYXRuX3NpbSkmJmNvbnNvbGUubG9nKFwiZXhlY0FUTiBkZWNpc2lvbiBcIit0LmRlY2lzaW9uK1wiLCBERkEgc3RhdGUgXCIrZStcIiwgTEEoMSk9PVwiK3RoaXMuZ2V0TG9va2FoZWFkTmFtZShuKStcIiBsaW5lIFwiK24uTFQoMSkubGluZStcIjpcIituLkxUKDEpLmNvbHVtbik7dmFyIGM9ZTt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcInMwID0gXCIrZSk7Zm9yKHZhciBhPW4uTEEoMSk7Oyl7dmFyIGw9dGhpcy5nZXRFeGlzdGluZ1RhcmdldFN0YXRlKGMsYSk7aWYobnVsbD09PWwmJihsPXRoaXMuY29tcHV0ZVRhcmdldFN0YXRlKHQsYyxhKSksbD09PUppLkVSUk9SKXt2YXIgcz10aGlzLm5vVmlhYmxlQWx0KG4saSxjLmNvbmZpZ3Mscik7aWYobi5zZWVrKHIpLCh1PXRoaXMuZ2V0U3luVmFsaWRPclNlbUludmFsaWRBbHRUaGF0RmluaXNoZWREZWNpc2lvbkVudHJ5UnVsZShjLmNvbmZpZ3MsaSkpIT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSKXJldHVybiB1O3Rocm93IHN9aWYobC5yZXF1aXJlc0Z1bGxDb250ZXh0JiZ0aGlzLnByZWRpY3Rpb25Nb2RlIT09SXUuU0xMKXt2YXIgZj1udWxsO2lmKG51bGwhPT1sLnByZWRpY2F0ZXMpe3RoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiREZBIHN0YXRlIGhhcyBwcmVkcyBpbiBERkEgc2ltIExMIGZhaWxvdmVyXCIpO3ZhciBwPW4uaW5kZXg7aWYocCE9PXImJm4uc2VlayhyKSwxPT09KGY9dGhpcy5ldmFsU2VtYW50aWNDb250ZXh0KGwucHJlZGljYXRlcyxpLCEwKSkubGVuZ3RoKXJldHVybiB0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkZ1bGwgTEwgYXZvaWRlZFwiKSxmLm1pblZhbHVlKCk7cCE9PXImJm4uc2VlayhwKX10aGlzLmRmYV9kZWJ1ZyYmY29uc29sZS5sb2coXCJjdHggc2Vuc2l0aXZlIHN0YXRlIFwiK2krXCIgaW4gXCIrbCk7dmFyIHk9dGhpcy5jb21wdXRlU3RhcnRTdGF0ZSh0LmF0blN0YXJ0U3RhdGUsaSwhMCk7cmV0dXJuIHRoaXMucmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0KHQsZixsLmNvbmZpZ3MscixuLmluZGV4KSx0aGlzLmV4ZWNBVE5XaXRoRnVsbENvbnRleHQodCxsLHksbixyLGkpfWlmKGwuaXNBY2NlcHRTdGF0ZSl7aWYobnVsbD09PWwucHJlZGljYXRlcylyZXR1cm4gbC5wcmVkaWN0aW9uO3ZhciBoPW4uaW5kZXg7bi5zZWVrKHIpO3ZhciBiPXRoaXMuZXZhbFNlbWFudGljQ29udGV4dChsLnByZWRpY2F0ZXMsaSwhMCk7aWYoMD09PWIubGVuZ3RoKXRocm93IHRoaXMubm9WaWFibGVBbHQobixpLGwuY29uZmlncyxyKTtyZXR1cm4gMT09PWIubGVuZ3RofHx0aGlzLnJlcG9ydEFtYmlndWl0eSh0LGwscixoLCExLGIsbC5jb25maWdzKSxiLm1pblZhbHVlKCl9Yz1sLGEhPT1vLkVPRiYmKG4uY29uc3VtZSgpLGE9bi5MQSgxKSl9fX0se2tleTpcImdldEV4aXN0aW5nVGFyZ2V0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuZWRnZXM7cmV0dXJuIG51bGw9PT1uP251bGw6bltlKzFdfHxudWxsfX0se2tleTpcImNvbXB1dGVUYXJnZXRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLmNvbXB1dGVSZWFjaFNldChlLmNvbmZpZ3MsbiwhMSk7aWYobnVsbD09PXIpcmV0dXJuIHRoaXMuYWRkREZBRWRnZSh0LGUsbixKaS5FUlJPUiksSmkuRVJST1I7dmFyIG89bmV3IFdpKG51bGwsciksaT10aGlzLmdldFVuaXF1ZUFsdChyKTtpZih0aGlzLmRlYnVnKXt2YXIgdT1JdS5nZXRDb25mbGljdGluZ0FsdFN1YnNldHMocik7Y29uc29sZS5sb2coXCJTTEwgYWx0U3ViU2V0cz1cIitiKHUpK1wiLCBjb25maWdzPVwiK3IrXCIsIHByZWRpY3Q9XCIraStcIiwgYWxsU3Vic2V0c0NvbmZsaWN0PVwiK0l1LmFsbFN1YnNldHNDb25mbGljdCh1KStcIiwgY29uZmxpY3RpbmdBbHRzPVwiK3RoaXMuZ2V0Q29uZmxpY3RpbmdBbHRzKHIpKX1yZXR1cm4gaSE9PUZlLklOVkFMSURfQUxUX05VTUJFUj8oby5pc0FjY2VwdFN0YXRlPSEwLG8uY29uZmlncy51bmlxdWVBbHQ9aSxvLnByZWRpY3Rpb249aSk6SXUuaGFzU0xMQ29uZmxpY3RUZXJtaW5hdGluZ1ByZWRpY3Rpb24odGhpcy5wcmVkaWN0aW9uTW9kZSxyKSYmKG8uY29uZmlncy5jb25mbGljdGluZ0FsdHM9dGhpcy5nZXRDb25mbGljdGluZ0FsdHMociksby5yZXF1aXJlc0Z1bGxDb250ZXh0PSEwLG8uaXNBY2NlcHRTdGF0ZT0hMCxvLnByZWRpY3Rpb249by5jb25maWdzLmNvbmZsaWN0aW5nQWx0cy5taW5WYWx1ZSgpKSxvLmlzQWNjZXB0U3RhdGUmJm8uY29uZmlncy5oYXNTZW1hbnRpY0NvbnRleHQmJih0aGlzLnByZWRpY2F0ZURGQVN0YXRlKG8sdGhpcy5hdG4uZ2V0RGVjaXNpb25TdGF0ZSh0LmRlY2lzaW9uKSksbnVsbCE9PW8ucHJlZGljYXRlcyYmKG8ucHJlZGljdGlvbj1GZS5JTlZBTElEX0FMVF9OVU1CRVIpKSx0aGlzLmFkZERGQUVkZ2UodCxlLG4sbyl9fSx7a2V5OlwicHJlZGljYXRlREZBU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUudHJhbnNpdGlvbnMubGVuZ3RoLHI9dGhpcy5nZXRDb25mbGljdGluZ0FsdHNPclVuaXF1ZUFsdCh0LmNvbmZpZ3MpLG89dGhpcy5nZXRQcmVkc0ZvckFtYmlnQWx0cyhyLHQuY29uZmlncyxuKTtudWxsIT09bz8odC5wcmVkaWNhdGVzPXRoaXMuZ2V0UHJlZGljYXRlUHJlZGljdGlvbnMocixvKSx0LnByZWRpY3Rpb249RmUuSU5WQUxJRF9BTFRfTlVNQkVSKTp0LnByZWRpY3Rpb249ci5taW5WYWx1ZSgpfX0se2tleTpcImV4ZWNBVE5XaXRoRnVsbENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksdSl7KHRoaXMuZGVidWd8fHRoaXMudHJhY2VfYXRuX3NpbSkmJmNvbnNvbGUubG9nKFwiZXhlY0FUTldpdGhGdWxsQ29udGV4dCBcIituKTt2YXIgYyxhPSExLGw9bjtyLnNlZWsoaSk7Zm9yKHZhciBzPXIuTEEoMSksZj0tMTs7KXtpZihudWxsPT09KGM9dGhpcy5jb21wdXRlUmVhY2hTZXQobCxzLCEwKSkpe3ZhciBwPXRoaXMubm9WaWFibGVBbHQocix1LGwsaSk7ci5zZWVrKGkpO3ZhciB5PXRoaXMuZ2V0U3luVmFsaWRPclNlbUludmFsaWRBbHRUaGF0RmluaXNoZWREZWNpc2lvbkVudHJ5UnVsZShsLHUpO2lmKHkhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVIpcmV0dXJuIHk7dGhyb3cgcH12YXIgaD1JdS5nZXRDb25mbGljdGluZ0FsdFN1YnNldHMoYyk7aWYodGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJMTCBhbHRTdWJTZXRzPVwiK2grXCIsIHByZWRpY3Q9XCIrSXUuZ2V0VW5pcXVlQWx0KGgpK1wiLCByZXNvbHZlc1RvSnVzdE9uZVZpYWJsZUFsdD1cIitJdS5yZXNvbHZlc1RvSnVzdE9uZVZpYWJsZUFsdChoKSksYy51bmlxdWVBbHQ9dGhpcy5nZXRVbmlxdWVBbHQoYyksYy51bmlxdWVBbHQhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVIpe2Y9Yy51bmlxdWVBbHQ7YnJlYWt9aWYodGhpcy5wcmVkaWN0aW9uTW9kZSE9PUl1LkxMX0VYQUNUX0FNQklHX0RFVEVDVElPTil7aWYoKGY9SXUucmVzb2x2ZXNUb0p1c3RPbmVWaWFibGVBbHQoaCkpIT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSKWJyZWFrfWVsc2UgaWYoSXUuYWxsU3Vic2V0c0NvbmZsaWN0KGgpJiZJdS5hbGxTdWJzZXRzRXF1YWwoaCkpe2E9ITAsZj1JdS5nZXRTaW5nbGVWaWFibGVBbHQoaCk7YnJlYWt9bD1jLHMhPT1vLkVPRiYmKHIuY29uc3VtZSgpLHM9ci5MQSgxKSl9cmV0dXJuIGMudW5pcXVlQWx0IT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSPyh0aGlzLnJlcG9ydENvbnRleHRTZW5zaXRpdml0eSh0LGYsYyxpLHIuaW5kZXgpLGYpOih0aGlzLnJlcG9ydEFtYmlndWl0eSh0LGUsaSxyLmluZGV4LGEsbnVsbCxjKSxmKX19LHtrZXk6XCJjb21wdXRlUmVhY2hTZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJpbiBjb21wdXRlUmVhY2hTZXQsIHN0YXJ0aW5nIGNsb3N1cmU6IFwiK3QpLG51bGw9PT10aGlzLm1lcmdlQ2FjaGUmJih0aGlzLm1lcmdlQ2FjaGU9bmV3IFZ1KTtmb3IodmFyIHI9bmV3IEtpKG4pLGk9bnVsbCx1PTA7dTx0Lml0ZW1zLmxlbmd0aDt1Kyspe3ZhciBjPXQuaXRlbXNbdV07aWYodGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJ0ZXN0aW5nIFwiK3RoaXMuZ2V0VG9rZW5OYW1lKGUpK1wiIGF0IFwiK2MpLGMuc3RhdGUgaW5zdGFuY2VvZiAkKShufHxlPT09by5FT0YpJiYobnVsbD09PWkmJihpPVtdKSxpLnB1c2goYyksdGhpcy5kZWJ1Z19hZGQmJmNvbnNvbGUubG9nKFwiYWRkZWQgXCIrYytcIiB0byBza2lwcGVkU3RvcFN0YXRlc1wiKSk7ZWxzZSBmb3IodmFyIGE9MDthPGMuc3RhdGUudHJhbnNpdGlvbnMubGVuZ3RoO2ErKyl7dmFyIGw9Yy5zdGF0ZS50cmFuc2l0aW9uc1thXSxzPXRoaXMuZ2V0UmVhY2hhYmxlVGFyZ2V0KGwsZSk7aWYobnVsbCE9PXMpe3ZhciBmPW5ldyBMKHtzdGF0ZTpzfSxjKTtyLmFkZChmLHRoaXMubWVyZ2VDYWNoZSksdGhpcy5kZWJ1Z19hZGQmJmNvbnNvbGUubG9nKFwiYWRkZWQgXCIrZitcIiB0byBpbnRlcm1lZGlhdGVcIil9fX12YXIgcD1udWxsO2lmKG51bGw9PT1pJiZlIT09by5FT0YmJigxPT09ci5pdGVtcy5sZW5ndGh8fHRoaXMuZ2V0VW5pcXVlQWx0KHIpIT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSKSYmKHA9ciksbnVsbD09PXApe3A9bmV3IEtpKG4pO2Zvcih2YXIgeT1uZXcgZyxoPWU9PT1vLkVPRixiPTA7YjxyLml0ZW1zLmxlbmd0aDtiKyspdGhpcy5jbG9zdXJlKHIuaXRlbXNbYl0scCx5LCExLG4saCl9aWYoZT09PW8uRU9GJiYocD10aGlzLnJlbW92ZUFsbENvbmZpZ3NOb3RJblJ1bGVTdG9wU3RhdGUocCxwPT09cikpLCEobnVsbD09PWl8fG4mJkl1Lmhhc0NvbmZpZ0luUnVsZVN0b3BTdGF0ZShwKSkpZm9yKHZhciB2PTA7djxpLmxlbmd0aDt2KyspcC5hZGQoaVt2XSx0aGlzLm1lcmdlQ2FjaGUpO3JldHVybiB0aGlzLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwiY29tcHV0ZVJlYWNoU2V0IFwiK3QrXCIgLT4gXCIrcCksMD09PXAuaXRlbXMubGVuZ3RoP251bGw6cH19LHtrZXk6XCJyZW1vdmVBbGxDb25maWdzTm90SW5SdWxlU3RvcFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihJdS5hbGxDb25maWdzSW5SdWxlU3RvcFN0YXRlcyh0KSlyZXR1cm4gdDtmb3IodmFyIG49bmV3IEtpKHQuZnVsbEN0eCkscj0wO3I8dC5pdGVtcy5sZW5ndGg7cisrKXt2YXIgaT10Lml0ZW1zW3JdO2lmKGkuc3RhdGUgaW5zdGFuY2VvZiAkKW4uYWRkKGksdGhpcy5tZXJnZUNhY2hlKTtlbHNlIGlmKGUmJmkuc3RhdGUuZXBzaWxvbk9ubHlUcmFuc2l0aW9ucyYmdGhpcy5hdG4ubmV4dFRva2VucyhpLnN0YXRlKS5jb250YWlucyhvLkVQU0lMT04pKXt2YXIgdT10aGlzLmF0bi5ydWxlVG9TdG9wU3RhdGVbaS5zdGF0ZS5ydWxlSW5kZXhdO24uYWRkKG5ldyBMKHtzdGF0ZTp1fSxpKSx0aGlzLm1lcmdlQ2FjaGUpfX1yZXR1cm4gbn19LHtrZXk6XCJjb21wdXRlU3RhcnRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1FZSh0aGlzLmF0bixlKSxvPW5ldyBLaShuKTt0aGlzLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwiY29tcHV0ZVN0YXJ0U3RhdGUgZnJvbSBBVE4gc3RhdGUgXCIrdCtcIiBpbml0aWFsQ29udGV4dD1cIityLnRvU3RyaW5nKHRoaXMucGFyc2VyKSk7Zm9yKHZhciBpPTA7aTx0LnRyYW5zaXRpb25zLmxlbmd0aDtpKyspe3ZhciB1PXQudHJhbnNpdGlvbnNbaV0udGFyZ2V0LGM9bmV3IEwoe3N0YXRlOnUsYWx0OmkrMSxjb250ZXh0OnJ9LG51bGwpLGE9bmV3IGc7dGhpcy5jbG9zdXJlKGMsbyxhLCEwLG4sITEpfXJldHVybiBvfX0se2tleTpcImFwcGx5UHJlY2VkZW5jZUZpbHRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPVtdLHI9bmV3IEtpKHQuZnVsbEN0eCksbz0wO288dC5pdGVtcy5sZW5ndGg7bysrKWlmKDE9PT0oZT10Lml0ZW1zW29dKS5hbHQpe3ZhciBpPWUuc2VtYW50aWNDb250ZXh0LmV2YWxQcmVjZWRlbmNlKHRoaXMucGFyc2VyLHRoaXMuX291dGVyQ29udGV4dCk7bnVsbCE9PWkmJihuW2Uuc3RhdGUuc3RhdGVOdW1iZXJdPWUuY29udGV4dCxpIT09ZS5zZW1hbnRpY0NvbnRleHQ/ci5hZGQobmV3IEwoe3NlbWFudGljQ29udGV4dDppfSxlKSx0aGlzLm1lcmdlQ2FjaGUpOnIuYWRkKGUsdGhpcy5tZXJnZUNhY2hlKSl9Zm9yKHZhciB1PTA7dTx0Lml0ZW1zLmxlbmd0aDt1KyspaWYoMSE9PShlPXQuaXRlbXNbdV0pLmFsdCl7aWYoIWUucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWQpe3ZhciBjPW5bZS5zdGF0ZS5zdGF0ZU51bWJlcl18fG51bGw7aWYobnVsbCE9PWMmJmMuZXF1YWxzKGUuY29udGV4dCkpY29udGludWV9ci5hZGQoZSx0aGlzLm1lcmdlQ2FjaGUpfXJldHVybiByfX0se2tleTpcImdldFJlYWNoYWJsZVRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWF0Y2hlcyhlLDAsdGhpcy5hdG4ubWF4VG9rZW5UeXBlKT90LnRhcmdldDpudWxsfX0se2tleTpcImdldFByZWRzRm9yQW1iaWdBbHRzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxvPTA7bzxlLml0ZW1zLmxlbmd0aDtvKyspe3ZhciBpPWUuaXRlbXNbb107dC5oYXMoaS5hbHQpJiYocltpLmFsdF09ai5vckNvbnRleHQocltpLmFsdF18fG51bGwsaS5zZW1hbnRpY0NvbnRleHQpKX1mb3IodmFyIHU9MCxjPTE7YzxuKzE7YysrKXt2YXIgYT1yW2NdfHxudWxsO251bGw9PT1hP3JbY109ai5OT05FOmEhPT1qLk5PTkUmJih1Kz0xKX1yZXR1cm4gMD09PXUmJihyPW51bGwpLHRoaXMuZGVidWcmJmNvbnNvbGUubG9nKFwiZ2V0UHJlZHNGb3JBbWJpZ0FsdHMgcmVzdWx0IFwiK2IocikpLHJ9fSx7a2V5OlwiZ2V0UHJlZGljYXRlUHJlZGljdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1bXSxyPSExLG89MTtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtudWxsIT09dCYmdC5oYXMobykmJm4ucHVzaChuZXcgeHUoaSxvKSksaSE9PWouTk9ORSYmKHI9ITApfXJldHVybiByP246bnVsbH19LHtrZXk6XCJnZXRTeW5WYWxpZE9yU2VtSW52YWxpZEFsdFRoYXRGaW5pc2hlZERlY2lzaW9uRW50cnlSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLnNwbGl0QWNjb3JkaW5nVG9TZW1hbnRpY1ZhbGlkaXR5KHQsZSkscj1uWzBdLG89blsxXSxpPXRoaXMuZ2V0QWx0VGhhdEZpbmlzaGVkRGVjaXNpb25FbnRyeVJ1bGUocik7cmV0dXJuIGkhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVJ8fG8uaXRlbXMubGVuZ3RoPjAmJihpPXRoaXMuZ2V0QWx0VGhhdEZpbmlzaGVkRGVjaXNpb25FbnRyeVJ1bGUobykpIT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSP2k6RmUuSU5WQUxJRF9BTFRfTlVNQkVSfX0se2tleTpcImdldEFsdFRoYXRGaW5pc2hlZERlY2lzaW9uRW50cnlSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuaXRlbXMubGVuZ3RoO24rKyl7dmFyIHI9dC5pdGVtc1tuXTsoci5yZWFjaGVzSW50b091dGVyQ29udGV4dD4wfHxyLnN0YXRlIGluc3RhbmNlb2YgJCYmci5jb250ZXh0Lmhhc0VtcHR5UGF0aCgpKSYmZS5pbmRleE9mKHIuYWx0KTwwJiZlLnB1c2goci5hbHQpfXJldHVybiAwPT09ZS5sZW5ndGg/RmUuSU5WQUxJRF9BTFRfTlVNQkVSOk1hdGgubWluLmFwcGx5KG51bGwsZSl9fSx7a2V5Olwic3BsaXRBY2NvcmRpbmdUb1NlbWFudGljVmFsaWRpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgS2kodC5mdWxsQ3R4KSxyPW5ldyBLaSh0LmZ1bGxDdHgpLG89MDtvPHQuaXRlbXMubGVuZ3RoO28rKyl7dmFyIGk9dC5pdGVtc1tvXTtpLnNlbWFudGljQ29udGV4dCE9PWouTk9ORT9pLnNlbWFudGljQ29udGV4dC5ldmFsdWF0ZSh0aGlzLnBhcnNlcixlKT9uLmFkZChpKTpyLmFkZChpKTpuLmFkZChpKX1yZXR1cm5bbixyXX19LHtrZXk6XCJldmFsU2VtYW50aWNDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uZXcgQ2Usbz0wO288dC5sZW5ndGg7bysrKXt2YXIgaT10W29dO2lmKGkucHJlZCE9PWouTk9ORSl7dmFyIHU9aS5wcmVkLmV2YWx1YXRlKHRoaXMucGFyc2VyLGUpO2lmKCh0aGlzLmRlYnVnfHx0aGlzLmRmYV9kZWJ1ZykmJmNvbnNvbGUubG9nKFwiZXZhbCBwcmVkIFwiK2krXCI9XCIrdSksdSYmKCh0aGlzLmRlYnVnfHx0aGlzLmRmYV9kZWJ1ZykmJmNvbnNvbGUubG9nKFwiUFJFRElDVCBcIitpLmFsdCksci5hZGQoaS5hbHQpLCFuKSlicmVha31lbHNlIGlmKHIuYWRkKGkuYWx0KSwhbilicmVha31yZXR1cm4gcn19LHtrZXk6XCJjbG9zdXJlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGkpe3RoaXMuY2xvc3VyZUNoZWNraW5nU3RvcFN0YXRlKHQsZSxuLHIsbywwLGkpfX0se2tleTpcImNsb3N1cmVDaGVja2luZ1N0b3BTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpLHUpe2lmKCh0aGlzLnRyYWNlX2F0bl9zaW18fHRoaXMuZGVidWdfY2xvc3VyZSkmJmNvbnNvbGUubG9nKFwiY2xvc3VyZShcIit0LnRvU3RyaW5nKHRoaXMucGFyc2VyLCEwKStcIilcIiksdC5zdGF0ZSBpbnN0YW5jZW9mICQpe2lmKCF0LmNvbnRleHQuaXNFbXB0eSgpKXtmb3IodmFyIGM9MDtjPHQuY29udGV4dC5sZW5ndGg7YysrKWlmKHQuY29udGV4dC5nZXRSZXR1cm5TdGF0ZShjKSE9PW9lLkVNUFRZX1JFVFVSTl9TVEFURSl7dmFyIGE9dGhpcy5hdG4uc3RhdGVzW3QuY29udGV4dC5nZXRSZXR1cm5TdGF0ZShjKV0sbD10LmNvbnRleHQuZ2V0UGFyZW50KGMpLHM9e3N0YXRlOmEsYWx0OnQuYWx0LGNvbnRleHQ6bCxzZW1hbnRpY0NvbnRleHQ6dC5zZW1hbnRpY0NvbnRleHR9LGY9bmV3IEwocyxudWxsKTtmLnJlYWNoZXNJbnRvT3V0ZXJDb250ZXh0PXQucmVhY2hlc0ludG9PdXRlckNvbnRleHQsdGhpcy5jbG9zdXJlQ2hlY2tpbmdTdG9wU3RhdGUoZixlLG4scixvLGktMSx1KX1lbHNle2lmKG8pe2UuYWRkKG5ldyBMKHtzdGF0ZTp0LnN0YXRlLGNvbnRleHQ6b2UuRU1QVFl9LHQpLHRoaXMubWVyZ2VDYWNoZSk7Y29udGludWV9dGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJGQUxMSU5HIG9mZiBydWxlIFwiK3RoaXMuZ2V0UnVsZU5hbWUodC5zdGF0ZS5ydWxlSW5kZXgpKSx0aGlzLmNsb3N1cmVfKHQsZSxuLHIsbyxpLHUpfXJldHVybn1pZihvKXJldHVybiB2b2lkIGUuYWRkKHQsdGhpcy5tZXJnZUNhY2hlKTt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkZBTExJTkcgb2ZmIHJ1bGUgXCIrdGhpcy5nZXRSdWxlTmFtZSh0LnN0YXRlLnJ1bGVJbmRleCkpfXRoaXMuY2xvc3VyZV8odCxlLG4scixvLGksdSl9fSx7a2V5OlwiY2xvc3VyZV9cIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSx1KXt2YXIgYz10LnN0YXRlO2MuZXBzaWxvbk9ubHlUcmFuc2l0aW9uc3x8ZS5hZGQodCx0aGlzLm1lcmdlQ2FjaGUpO2Zvcih2YXIgYT0wO2E8Yy50cmFuc2l0aW9ucy5sZW5ndGg7YSsrKWlmKDAhPT1hfHwhdGhpcy5jYW5Ecm9wTG9vcEVudHJ5RWRnZUluTGVmdFJlY3Vyc2l2ZVJ1bGUodCkpe3ZhciBsPWMudHJhbnNpdGlvbnNbYV0scz1yJiYhKGwgaW5zdGFuY2VvZiBPciksZj10aGlzLmdldEVwc2lsb25UYXJnZXQodCxsLHMsMD09PWksbyx1KTtpZihudWxsIT09Zil7dmFyIHA9aTtpZih0LnN0YXRlIGluc3RhbmNlb2YgJCl7aWYobnVsbCE9PXRoaXMuX2RmYSYmdGhpcy5fZGZhLnByZWNlZGVuY2VEZmEmJmwub3V0ZXJtb3N0UHJlY2VkZW5jZVJldHVybj09PXRoaXMuX2RmYS5hdG5TdGFydFN0YXRlLnJ1bGVJbmRleCYmKGYucHJlY2VkZW5jZUZpbHRlclN1cHByZXNzZWQ9ITApLGYucmVhY2hlc0ludG9PdXRlckNvbnRleHQrPTEsbi5hZGQoZikhPT1mKWNvbnRpbnVlO2UuZGlwc0ludG9PdXRlckNvbnRleHQ9ITAscC09MSx0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcImRpcHMgaW50byBvdXRlciBjdHg6IFwiK2YpfWVsc2V7aWYoIWwuaXNFcHNpbG9uJiZuLmFkZChmKSE9PWYpY29udGludWU7bCBpbnN0YW5jZW9mIGl0JiZwPj0wJiYocCs9MSl9dGhpcy5jbG9zdXJlQ2hlY2tpbmdTdG9wU3RhdGUoZixlLG4scyxvLHAsdSl9fX19LHtrZXk6XCJjYW5Ecm9wTG9vcEVudHJ5RWRnZUluTGVmdFJlY3Vyc2l2ZVJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnN0YXRlO2lmKGUuc3RhdGVUeXBlIT09SC5TVEFSX0xPT1BfRU5UUlkpcmV0dXJuITE7aWYoZS5zdGF0ZVR5cGUhPT1ILlNUQVJfTE9PUF9FTlRSWXx8IWUuaXNQcmVjZWRlbmNlRGVjaXNpb258fHQuY29udGV4dC5pc0VtcHR5KCl8fHQuY29udGV4dC5oYXNFbXB0eVBhdGgoKSlyZXR1cm4hMTtmb3IodmFyIG49dC5jb250ZXh0Lmxlbmd0aCxyPTA7cjxuO3IrKylpZih0aGlzLmF0bi5zdGF0ZXNbdC5jb250ZXh0LmdldFJldHVyblN0YXRlKHIpXS5ydWxlSW5kZXghPT1lLnJ1bGVJbmRleClyZXR1cm4hMTtmb3IodmFyIG89ZS50cmFuc2l0aW9uc1swXS50YXJnZXQuZW5kU3RhdGUuc3RhdGVOdW1iZXIsaT10aGlzLmF0bi5zdGF0ZXNbb10sdT0wO3U8bjt1Kyspe3ZhciBjPXQuY29udGV4dC5nZXRSZXR1cm5TdGF0ZSh1KSxhPXRoaXMuYXRuLnN0YXRlc1tjXTtpZigxIT09YS50cmFuc2l0aW9ucy5sZW5ndGh8fCFhLnRyYW5zaXRpb25zWzBdLmlzRXBzaWxvbilyZXR1cm4hMTt2YXIgbD1hLnRyYW5zaXRpb25zWzBdLnRhcmdldDtpZighKGEuc3RhdGVUeXBlPT09SC5CTE9DS19FTkQmJmw9PT1lfHxhPT09aXx8bD09PWl8fGwuc3RhdGVUeXBlPT09SC5CTE9DS19FTkQmJjE9PT1sLnRyYW5zaXRpb25zLmxlbmd0aCYmbC50cmFuc2l0aW9uc1swXS5pc0Vwc2lsb24mJmwudHJhbnNpdGlvbnNbMF0udGFyZ2V0PT09ZSkpcmV0dXJuITF9cmV0dXJuITB9fSx7a2V5OlwiZ2V0UnVsZU5hbWVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMucGFyc2VyJiZ0Pj0wP3RoaXMucGFyc2VyLnJ1bGVOYW1lc1t0XTpcIjxydWxlIFwiK3QrXCI+XCJ9fSx7a2V5OlwiZ2V0RXBzaWxvblRhcmdldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSx1KXtzd2l0Y2goZS5zZXJpYWxpemF0aW9uVHlwZSl7Y2FzZSB0dC5SVUxFOnJldHVybiB0aGlzLnJ1bGVUcmFuc2l0aW9uKHQsZSk7Y2FzZSB0dC5QUkVDRURFTkNFOnJldHVybiB0aGlzLnByZWNlZGVuY2VUcmFuc2l0aW9uKHQsZSxuLHIsaSk7Y2FzZSB0dC5QUkVESUNBVEU6cmV0dXJuIHRoaXMucHJlZFRyYW5zaXRpb24odCxlLG4scixpKTtjYXNlIHR0LkFDVElPTjpyZXR1cm4gdGhpcy5hY3Rpb25UcmFuc2l0aW9uKHQsZSk7Y2FzZSB0dC5FUFNJTE9OOnJldHVybiBuZXcgTCh7c3RhdGU6ZS50YXJnZXR9LHQpO2Nhc2UgdHQuQVRPTTpjYXNlIHR0LlJBTkdFOmNhc2UgdHQuU0VUOnJldHVybiB1JiZlLm1hdGNoZXMoby5FT0YsMCwxKT9uZXcgTCh7c3RhdGU6ZS50YXJnZXR9LHQpOm51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19fSx7a2V5OlwiYWN0aW9uVHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5kZWJ1Zyl7dmFyIG49LTE9PT1lLmFjdGlvbkluZGV4PzY1NTM1OmUuYWN0aW9uSW5kZXg7Y29uc29sZS5sb2coXCJBQ1RJT04gZWRnZSBcIitlLnJ1bGVJbmRleCtcIjpcIituKX1yZXR1cm4gbmV3IEwoe3N0YXRlOmUudGFyZ2V0fSx0KX19LHtrZXk6XCJwcmVjZWRlbmNlVHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyl7dGhpcy5kZWJ1ZyYmKGNvbnNvbGUubG9nKFwiUFJFRCAoY29sbGVjdFByZWRpY2F0ZXM9XCIrbitcIikgXCIrZS5wcmVjZWRlbmNlK1wiPj1fcCwgY3R4IGRlcGVuZGVudD10cnVlXCIpLG51bGwhPT10aGlzLnBhcnNlciYmY29uc29sZS5sb2coXCJjb250ZXh0IHN1cnJvdW5kaW5nIHByZWQgaXMgXCIrYih0aGlzLnBhcnNlci5nZXRSdWxlSW52b2NhdGlvblN0YWNrKCkpKSk7dmFyIGk9bnVsbDtpZihuJiZyKWlmKG8pe3ZhciB1PXRoaXMuX2lucHV0LmluZGV4O3RoaXMuX2lucHV0LnNlZWsodGhpcy5fc3RhcnRJbmRleCk7dmFyIGM9ZS5nZXRQcmVkaWNhdGUoKS5ldmFsdWF0ZSh0aGlzLnBhcnNlcix0aGlzLl9vdXRlckNvbnRleHQpO3RoaXMuX2lucHV0LnNlZWsodSksYyYmKGk9bmV3IEwoe3N0YXRlOmUudGFyZ2V0fSx0KSl9ZWxzZXt2YXIgYT1qLmFuZENvbnRleHQodC5zZW1hbnRpY0NvbnRleHQsZS5nZXRQcmVkaWNhdGUoKSk7aT1uZXcgTCh7c3RhdGU6ZS50YXJnZXQsc2VtYW50aWNDb250ZXh0OmF9LHQpfWVsc2UgaT1uZXcgTCh7c3RhdGU6ZS50YXJnZXR9LHQpO3JldHVybiB0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcImNvbmZpZyBmcm9tIHByZWQgdHJhbnNpdGlvbj1cIitpKSxpfX0se2tleTpcInByZWRUcmFuc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvKXt0aGlzLmRlYnVnJiYoY29uc29sZS5sb2coXCJQUkVEIChjb2xsZWN0UHJlZGljYXRlcz1cIituK1wiKSBcIitlLnJ1bGVJbmRleCtcIjpcIitlLnByZWRJbmRleCtcIiwgY3R4IGRlcGVuZGVudD1cIitlLmlzQ3R4RGVwZW5kZW50KSxudWxsIT09dGhpcy5wYXJzZXImJmNvbnNvbGUubG9nKFwiY29udGV4dCBzdXJyb3VuZGluZyBwcmVkIGlzIFwiK2IodGhpcy5wYXJzZXIuZ2V0UnVsZUludm9jYXRpb25TdGFjaygpKSkpO3ZhciBpPW51bGw7aWYobiYmKGUuaXNDdHhEZXBlbmRlbnQmJnJ8fCFlLmlzQ3R4RGVwZW5kZW50KSlpZihvKXt2YXIgdT10aGlzLl9pbnB1dC5pbmRleDt0aGlzLl9pbnB1dC5zZWVrKHRoaXMuX3N0YXJ0SW5kZXgpO3ZhciBjPWUuZ2V0UHJlZGljYXRlKCkuZXZhbHVhdGUodGhpcy5wYXJzZXIsdGhpcy5fb3V0ZXJDb250ZXh0KTt0aGlzLl9pbnB1dC5zZWVrKHUpLGMmJihpPW5ldyBMKHtzdGF0ZTplLnRhcmdldH0sdCkpfWVsc2V7dmFyIGE9ai5hbmRDb250ZXh0KHQuc2VtYW50aWNDb250ZXh0LGUuZ2V0UHJlZGljYXRlKCkpO2k9bmV3IEwoe3N0YXRlOmUudGFyZ2V0LHNlbWFudGljQ29udGV4dDphfSx0KX1lbHNlIGk9bmV3IEwoe3N0YXRlOmUudGFyZ2V0fSx0KTtyZXR1cm4gdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJjb25maWcgZnJvbSBwcmVkIHRyYW5zaXRpb249XCIraSksaX19LHtrZXk6XCJydWxlVHJhbnNpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJDQUxMIHJ1bGUgXCIrdGhpcy5nZXRSdWxlTmFtZShlLnRhcmdldC5ydWxlSW5kZXgpK1wiLCBjdHg9XCIrdC5jb250ZXh0KTt2YXIgbj1lLmZvbGxvd1N0YXRlLHI9dmUuY3JlYXRlKHQuY29udGV4dCxuLnN0YXRlTnVtYmVyKTtyZXR1cm4gbmV3IEwoe3N0YXRlOmUudGFyZ2V0LGNvbnRleHQ6cn0sdCl9fSx7a2V5OlwiZ2V0Q29uZmxpY3RpbmdBbHRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9SXUuZ2V0Q29uZmxpY3RpbmdBbHRTdWJzZXRzKHQpO3JldHVybiBJdS5nZXRBbHRzKGUpfX0se2tleTpcImdldENvbmZsaWN0aW5nQWx0c09yVW5pcXVlQWx0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtyZXR1cm4gdC51bmlxdWVBbHQhPT1GZS5JTlZBTElEX0FMVF9OVU1CRVI/KGU9bmV3IENlKS5hZGQodC51bmlxdWVBbHQpOmU9dC5jb25mbGljdGluZ0FsdHMsZX19LHtrZXk6XCJnZXRUb2tlbk5hbWVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0PT09by5FT0YpcmV0dXJuXCJFT0ZcIjtpZihudWxsIT09dGhpcy5wYXJzZXImJm51bGwhPT10aGlzLnBhcnNlci5saXRlcmFsTmFtZXMpe2lmKCEodD49dGhpcy5wYXJzZXIubGl0ZXJhbE5hbWVzLmxlbmd0aCYmdD49dGhpcy5wYXJzZXIuc3ltYm9saWNOYW1lcy5sZW5ndGgpKXJldHVybih0aGlzLnBhcnNlci5saXRlcmFsTmFtZXNbdF18fHRoaXMucGFyc2VyLnN5bWJvbGljTmFtZXNbdF0pK1wiPFwiK3QrXCI+XCI7Y29uc29sZS5sb2codCtcIiB0dHlwZSBvdXQgb2YgcmFuZ2U6IFwiK3RoaXMucGFyc2VyLmxpdGVyYWxOYW1lcyksY29uc29sZS5sb2coXCJcIit0aGlzLnBhcnNlci5nZXRJbnB1dFN0cmVhbSgpLmdldFRva2VucygpKX1yZXR1cm5cIlwiK3R9fSx7a2V5OlwiZ2V0TG9va2FoZWFkTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldFRva2VuTmFtZSh0LkxBKDEpKX19LHtrZXk6XCJkdW1wRGVhZEVuZENvbmZpZ3NcIix2YWx1ZTpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcImRlYWQgZW5kIGNvbmZpZ3M6IFwiKTtmb3IodmFyIGU9dC5nZXREZWFkRW5kQ29uZmlncygpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXSxvPVwibm8gZWRnZXNcIjtpZihyLnN0YXRlLnRyYW5zaXRpb25zLmxlbmd0aD4wKXt2YXIgaT1yLnN0YXRlLnRyYW5zaXRpb25zWzBdO2kgaW5zdGFuY2VvZiBmcj9vPVwiQXRvbSBcIit0aGlzLmdldFRva2VuTmFtZShpLmxhYmVsKTppIGluc3RhbmNlb2Ygc3QmJihvPShpIGluc3RhbmNlb2YgdnQ/XCJ+XCI6XCJcIikrXCJTZXQgXCIraS5zZXQpfWNvbnNvbGUuZXJyb3Ioci50b1N0cmluZyh0aGlzLnBhcnNlciwhMCkrXCI6XCIrbyl9fX0se2tleTpcIm5vVmlhYmxlQWx0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBCdSh0aGlzLnBhcnNlcix0LHQuZ2V0KHIpLHQuTFQoMSksbixlKX19LHtrZXk6XCJnZXRVbmlxdWVBbHRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9RmUuSU5WQUxJRF9BTFRfTlVNQkVSLG49MDtuPHQuaXRlbXMubGVuZ3RoO24rKyl7dmFyIHI9dC5pdGVtc1tuXTtpZihlPT09RmUuSU5WQUxJRF9BTFRfTlVNQkVSKWU9ci5hbHQ7ZWxzZSBpZihyLmFsdCE9PWUpcmV0dXJuIEZlLklOVkFMSURfQUxUX05VTUJFUn1yZXR1cm4gZX19LHtrZXk6XCJhZGRERkFFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7aWYodGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJFREdFIFwiK2UrXCIgLT4gXCIrcitcIiB1cG9uIFwiK3RoaXMuZ2V0VG9rZW5OYW1lKG4pKSxudWxsPT09cilyZXR1cm4gbnVsbDtpZihyPXRoaXMuYWRkREZBU3RhdGUodCxyKSxudWxsPT09ZXx8bjwtMXx8bj50aGlzLmF0bi5tYXhUb2tlblR5cGUpcmV0dXJuIHI7aWYobnVsbD09PWUuZWRnZXMmJihlLmVkZ2VzPVtdKSxlLmVkZ2VzW24rMV09cix0aGlzLmRlYnVnKXt2YXIgbz1udWxsPT09dGhpcy5wYXJzZXI/bnVsbDp0aGlzLnBhcnNlci5saXRlcmFsTmFtZXMsaT1udWxsPT09dGhpcy5wYXJzZXI/bnVsbDp0aGlzLnBhcnNlci5zeW1ib2xpY05hbWVzO2NvbnNvbGUubG9nKFwiREZBPVxcblwiK3QudG9TdHJpbmcobyxpKSl9cmV0dXJuIHJ9fSx7a2V5OlwiYWRkREZBU3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKGU9PT1KaS5FUlJPUilyZXR1cm4gZTt2YXIgbj10LnN0YXRlcy5nZXQoZSk7cmV0dXJuIG51bGwhPT1uPyh0aGlzLnRyYWNlX2F0bl9zaW0mJmNvbnNvbGUubG9nKFwiYWRkREZBU3RhdGUgXCIrZStcIiBleGlzdHNcIiksbik6KGUuc3RhdGVOdW1iZXI9dC5zdGF0ZXMubGVuZ3RoLGUuY29uZmlncy5yZWFkT25seXx8KGUuY29uZmlncy5vcHRpbWl6ZUNvbmZpZ3ModGhpcyksZS5jb25maWdzLnNldFJlYWRvbmx5KCEwKSksdGhpcy50cmFjZV9hdG5fc2ltJiZjb25zb2xlLmxvZyhcImFkZERGQVN0YXRlIG5ldyBcIitlKSx0LnN0YXRlcy5hZGQoZSksdGhpcy5kZWJ1ZyYmY29uc29sZS5sb2coXCJhZGRpbmcgbmV3IERGQSBzdGF0ZTogXCIrZSksZSl9fSx7a2V5OlwicmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvKXtpZih0aGlzLmRlYnVnfHx0aGlzLnJldHJ5X2RlYnVnKXt2YXIgaT1uZXcgQihyLG8rMSk7Y29uc29sZS5sb2coXCJyZXBvcnRBdHRlbXB0aW5nRnVsbENvbnRleHQgZGVjaXNpb249XCIrdC5kZWNpc2lvbitcIjpcIituK1wiLCBpbnB1dD1cIit0aGlzLnBhcnNlci5nZXRUb2tlblN0cmVhbSgpLmdldFRleHQoaSkpfW51bGwhPT10aGlzLnBhcnNlciYmdGhpcy5wYXJzZXIuZ2V0RXJyb3JMaXN0ZW5lckRpc3BhdGNoKCkucmVwb3J0QXR0ZW1wdGluZ0Z1bGxDb250ZXh0KHRoaXMucGFyc2VyLHQscixvLGUsbil9fSx7a2V5OlwicmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvKXtpZih0aGlzLmRlYnVnfHx0aGlzLnJldHJ5X2RlYnVnKXt2YXIgaT1uZXcgQihyLG8rMSk7Y29uc29sZS5sb2coXCJyZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHkgZGVjaXNpb249XCIrdC5kZWNpc2lvbitcIjpcIituK1wiLCBpbnB1dD1cIit0aGlzLnBhcnNlci5nZXRUb2tlblN0cmVhbSgpLmdldFRleHQoaSkpfW51bGwhPT10aGlzLnBhcnNlciYmdGhpcy5wYXJzZXIuZ2V0RXJyb3JMaXN0ZW5lckRpc3BhdGNoKCkucmVwb3J0Q29udGV4dFNlbnNpdGl2aXR5KHRoaXMucGFyc2VyLHQscixvLGUsbil9fSx7a2V5OlwicmVwb3J0QW1iaWd1aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGksdSl7aWYodGhpcy5kZWJ1Z3x8dGhpcy5yZXRyeV9kZWJ1Zyl7dmFyIGM9bmV3IEIobixyKzEpO2NvbnNvbGUubG9nKFwicmVwb3J0QW1iaWd1aXR5IFwiK2krXCI6XCIrdStcIiwgaW5wdXQ9XCIrdGhpcy5wYXJzZXIuZ2V0VG9rZW5TdHJlYW0oKS5nZXRUZXh0KGMpKX1udWxsIT09dGhpcy5wYXJzZXImJnRoaXMucGFyc2VyLmdldEVycm9yTGlzdGVuZXJEaXNwYXRjaCgpLnJlcG9ydEFtYmlndWl0eSh0aGlzLnBhcnNlcix0LG4scixvLGksdSl9fV0sbiYmcXUoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShKaSk7ZnVuY3Rpb24gR3UodCl7cmV0dXJuIEd1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEd1KHQpfWZ1bmN0aW9uIFd1KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1HdSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1HdShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1HdShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIFh1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5jYWNoZT1uZXcgVGV9dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodD09PW9lLkVNUFRZKXJldHVybiBvZS5FTVBUWTt2YXIgZT10aGlzLmNhY2hlLmdldCh0KXx8bnVsbDtyZXR1cm4gbnVsbCE9PWU/ZToodGhpcy5jYWNoZS5zZXQodCx0KSx0KX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jYWNoZS5nZXQodCl8fG51bGx9fSx7a2V5OlwibGVuZ3RoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FjaGUubGVuZ3RofX1dKSYmV3UoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fSgpO2NvbnN0ICR1PXtBVE46RmUsQVRORGVzZXJpYWxpemVyOkhvLExleGVyQVROU2ltdWxhdG9yOkV1LFBhcnNlckFUTlNpbXVsYXRvcjpZdSxQcmVkaWN0aW9uTW9kZTpJdSxQcmVkaWN0aW9uQ29udGV4dENhY2hlOlh1fTtmdW5jdGlvbiBKdSh0KXtyZXR1cm4gSnU9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSnUodCl9ZnVuY3Rpb24gUXUodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUp1KHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUp1KHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUp1KG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgWnU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMuZGZhPWUsdGhpcy5saXRlcmFsTmFtZXM9bnx8W10sdGhpcy5zeW1ib2xpY05hbWVzPXJ8fFtdfXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLmRmYS5zMClyZXR1cm4gbnVsbDtmb3IodmFyIHQ9XCJcIixlPXRoaXMuZGZhLnNvcnRlZFN0YXRlcygpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtpZihudWxsIT09ci5lZGdlcylmb3IodmFyIG89ci5lZGdlcy5sZW5ndGgsaT0wO2k8bztpKyspe3ZhciB1PXIuZWRnZXNbaV18fG51bGw7bnVsbCE9PXUmJjIxNDc0ODM2NDchPT11LnN0YXRlTnVtYmVyJiYodD0odD0odD0odD0odD0odD10LmNvbmNhdCh0aGlzLmdldFN0YXRlU3RyaW5nKHIpKSkuY29uY2F0KFwiLVwiKSkuY29uY2F0KHRoaXMuZ2V0RWRnZUxhYmVsKGkpKSkuY29uY2F0KFwiLT5cIikpLmNvbmNhdCh0aGlzLmdldFN0YXRlU3RyaW5nKHUpKSkuY29uY2F0KFwiXFxuXCIpKX19cmV0dXJuIDA9PT10Lmxlbmd0aD9udWxsOnR9fSx7a2V5OlwiZ2V0RWRnZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10P1wiRU9GXCI6bnVsbCE9PXRoaXMubGl0ZXJhbE5hbWVzfHxudWxsIT09dGhpcy5zeW1ib2xpY05hbWVzP3RoaXMubGl0ZXJhbE5hbWVzW3QtMV18fHRoaXMuc3ltYm9saWNOYW1lc1t0LTFdOlN0cmluZy5mcm9tQ2hhckNvZGUodC0xKX19LHtrZXk6XCJnZXRTdGF0ZVN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSh0LmlzQWNjZXB0U3RhdGU/XCI6XCI6XCJcIikrXCJzXCIrdC5zdGF0ZU51bWJlcisodC5yZXF1aXJlc0Z1bGxDb250ZXh0P1wiXlwiOlwiXCIpO3JldHVybiB0LmlzQWNjZXB0U3RhdGU/bnVsbCE9PXQucHJlZGljYXRlcz9lK1wiPT5cIitiKHQucHJlZGljYXRlcyk6ZStcIj0+XCIrdC5wcmVkaWN0aW9uLnRvU3RyaW5nKCk6ZX19XSxuJiZRdShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gdGModCl7cmV0dXJuIHRjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHRjKHQpfWZ1bmN0aW9uIGVjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT10Yyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT10YyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT10YyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gbmModCxlKXtyZXR1cm4gbmM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxuYyh0LGUpfWZ1bmN0aW9uIHJjKHQpe3JldHVybiByYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0scmModCl9dmFyIG9jPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZuYyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXJjKHIpO2lmKG8pe3ZhciBuPXJjKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09dGMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksaS5jYWxsKHRoaXMsdCxudWxsKX1yZXR1cm4gZT11LG49W3trZXk6XCJnZXRFZGdlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cIidcIitTdHJpbmcuZnJvbUNoYXJDb2RlKHQpK1wiJ1wifX1dLG4mJmVjKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWnUpO2Z1bmN0aW9uIGljKHQpe3JldHVybiBpYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpYyh0KX1mdW5jdGlvbiB1Yyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09aWModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09aWMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09aWMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBjYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZihmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdm9pZCAwPT09biYmKG49MCksdGhpcy5hdG5TdGFydFN0YXRlPWUsdGhpcy5kZWNpc2lvbj1uLHRoaXMuX3N0YXRlcz1uZXcgZyx0aGlzLnMwPW51bGwsdGhpcy5wcmVjZWRlbmNlRGZhPSExLGUgaW5zdGFuY2VvZiB6biYmZS5pc1ByZWNlZGVuY2VEZWNpc2lvbil7dGhpcy5wcmVjZWRlbmNlRGZhPSEwO3ZhciByPW5ldyBXaShudWxsLG5ldyBLaSk7ci5lZGdlcz1bXSxyLmlzQWNjZXB0U3RhdGU9ITEsci5yZXF1aXJlc0Z1bGxDb250ZXh0PSExLHRoaXMuczA9cn19dmFyIGUsbjtyZXR1cm4gZT10LChuPVt7a2V5OlwiZ2V0UHJlY2VkZW5jZVN0YXJ0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5wcmVjZWRlbmNlRGZhKXRocm93XCJPbmx5IHByZWNlZGVuY2UgREZBcyBtYXkgY29udGFpbiBhIHByZWNlZGVuY2Ugc3RhcnQgc3RhdGUuXCI7cmV0dXJuIHQ8MHx8dD49dGhpcy5zMC5lZGdlcy5sZW5ndGg/bnVsbDp0aGlzLnMwLmVkZ2VzW3RdfHxudWxsfX0se2tleTpcInNldFByZWNlZGVuY2VTdGFydFN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighdGhpcy5wcmVjZWRlbmNlRGZhKXRocm93XCJPbmx5IHByZWNlZGVuY2UgREZBcyBtYXkgY29udGFpbiBhIHByZWNlZGVuY2Ugc3RhcnQgc3RhdGUuXCI7dDwwfHwodGhpcy5zMC5lZGdlc1t0XT1lKX19LHtrZXk6XCJzZXRQcmVjZWRlbmNlRGZhXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmVjZWRlbmNlRGZhIT09dCl7aWYodGhpcy5fc3RhdGVzPW5ldyBnLHQpe3ZhciBlPW5ldyBXaShudWxsLG5ldyBLaSk7ZS5lZGdlcz1bXSxlLmlzQWNjZXB0U3RhdGU9ITEsZS5yZXF1aXJlc0Z1bGxDb250ZXh0PSExLHRoaXMuczA9ZX1lbHNlIHRoaXMuczA9bnVsbDt0aGlzLnByZWNlZGVuY2VEZmE9dH19fSx7a2V5Olwic29ydGVkU3RhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdGVzLnZhbHVlcygpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc3RhdGVOdW1iZXItZS5zdGF0ZU51bWJlcn0pKX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dHx8bnVsbCxlPWV8fG51bGwsbnVsbD09PXRoaXMuczA/XCJcIjpuZXcgWnUodGhpcyx0LGUpLnRvU3RyaW5nKCl9fSx7a2V5OlwidG9MZXhlclN0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnMwP1wiXCI6bmV3IG9jKHRoaXMpLnRvU3RyaW5nKCl9fSx7a2V5Olwic3RhdGVzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXRlc319XSkmJnVjKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtjb25zdCBhYz17REZBOmNjLERGQVNlcmlhbGl6ZXI6WnUsTGV4ZXJERkFTZXJpYWxpemVyOm9jLFByZWRQcmVkaWN0aW9uOnh1fSxsYz17UHJlZGljdGlvbkNvbnRleHQ6b2V9LHNjPXtJbnRlcnZhbDpCLEludGVydmFsU2V0OlZ9O2Z1bmN0aW9uIGZjKHQpe3JldHVybiBmYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxmYyh0KX1mdW5jdGlvbiBwYyh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09ZmModCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09ZmMocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09ZmMobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciB5Yz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcInZpc2l0VGVybWluYWxcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwidmlzaXRFcnJvck5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwiZW50ZXJFdmVyeVJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwiZXhpdEV2ZXJ5UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319XSkmJnBjKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBoYyh0KXtyZXR1cm4gaGM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saGModCl9ZnVuY3Rpb24gYmModCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PWhjKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PWhjKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PWhjKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb312YXIgdmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KX12YXIgZSxuO3JldHVybiBlPXQsKG49W3trZXk6XCJ2aXNpdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hY2NlcHQodGhpcyl9KSx0aGlzKTp0LmFjY2VwdCh0aGlzKX19LHtrZXk6XCJ2aXNpdENoaWxkcmVuXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hpbGRyZW4/dGhpcy52aXNpdCh0LmNoaWxkcmVuKTpudWxsfX0se2tleTpcInZpc2l0VGVybWluYWxcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwidmlzaXRFcnJvck5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fV0pJiZiYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7ZnVuY3Rpb24gZGModCl7cmV0dXJuIGRjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGRjKHQpfWZ1bmN0aW9uIG1jKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1kYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1kYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1kYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99dmFyIGdjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpeyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCl9dmFyIGUsbjtyZXR1cm4gZT10LG49W3trZXk6XCJ3YWxrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihlIGluc3RhbmNlb2YgV3R8fHZvaWQgMCE9PWUuaXNFcnJvck5vZGUmJmUuaXNFcnJvck5vZGUoKSl0LnZpc2l0RXJyb3JOb2RlKGUpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEh0KXQudmlzaXRUZXJtaW5hbChlKTtlbHNle3RoaXMuZW50ZXJSdWxlKHQsZSk7Zm9yKHZhciBuPTA7bjxlLmdldENoaWxkQ291bnQoKTtuKyspe3ZhciByPWUuZ2V0Q2hpbGQobik7dGhpcy53YWxrKHQscil9dGhpcy5leGl0UnVsZSh0LGUpfX19LHtrZXk6XCJlbnRlclJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPWUucnVsZUNvbnRleHQ7dC5lbnRlckV2ZXJ5UnVsZShuKSxuLmVudGVyUnVsZSh0KX19LHtrZXk6XCJleGl0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5ydWxlQ29udGV4dDtuLmV4aXRSdWxlKHQpLHQuZXhpdEV2ZXJ5UnVsZShuKX19XSxuJiZtYyhlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9KCk7Z2MuREVGQVVMVD1uZXcgZ2M7Y29uc3QgU2M9e1RyZWVzOiR0LFJ1bGVOb2RlOlV0LEVycm9yTm9kZTpXdCxUZXJtaW5hbE5vZGU6SHQsUGFyc2VUcmVlTGlzdGVuZXI6eWMsUGFyc2VUcmVlVmlzaXRvcjp2YyxQYXJzZVRyZWVXYWxrZXI6Z2N9O2Z1bmN0aW9uIE9jKHQpe3JldHVybiBPYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxPYyh0KX1mdW5jdGlvbiB3Yyh0LGUpe3JldHVybiB3Yz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LHdjKHQsZSl9ZnVuY3Rpb24gX2ModCl7cmV0dXJuIF9jPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxfYyh0KX12YXIgUGM9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJndjKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPV9jKG4pO2lmKHIpe3ZhciBvPV9jKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09T2MoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBpKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksKGU9by5jYWxsKHRoaXMse21lc3NhZ2U6XCJcIixyZWNvZ25pemVyOnQsaW5wdXQ6dC5nZXRJbnB1dFN0cmVhbSgpLGN0eDp0Ll9jdHh9KSkub2ZmZW5kaW5nVG9rZW49dC5nZXRDdXJyZW50VG9rZW4oKSxlfXJldHVybiBlPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfSh4aSk7ZnVuY3Rpb24gVGModCl7cmV0dXJuIFRjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFRjKHQpfWZ1bmN0aW9uIEVjKHQsZSl7cmV0dXJuIEVjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sRWModCxlKX1mdW5jdGlvbiBrYyh0KXtyZXR1cm4ga2M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LGtjKHQpfXZhciBqYz1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmRWModCxlKX0oaSx0KTt2YXIgZSxuLHIsbz0obj1pLHI9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9a2Mobik7aWYocil7dmFyIG89a2ModGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxvKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1UYyhlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkodCxlLG4pe3ZhciByOyFmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSkscj1vLmNhbGwodGhpcyx7bWVzc2FnZTp4YyhlLG58fG51bGwpLHJlY29nbml6ZXI6dCxpbnB1dDp0LmdldElucHV0U3RyZWFtKCksY3R4OnQuX2N0eH0pO3ZhciB1PXQuX2ludGVycC5hdG4uc3RhdGVzW3Quc3RhdGVdLnRyYW5zaXRpb25zWzBdO3JldHVybiB1IGluc3RhbmNlb2YgRHI/KHIucnVsZUluZGV4PXUucnVsZUluZGV4LHIucHJlZGljYXRlSW5kZXg9dS5wcmVkSW5kZXgpOihyLnJ1bGVJbmRleD0wLHIucHJlZGljYXRlSW5kZXg9MCksci5wcmVkaWNhdGU9ZSxyLm9mZmVuZGluZ1Rva2VuPXQuZ2V0Q3VycmVudFRva2VuKCkscn1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0oeGkpO2Z1bmN0aW9uIHhjKHQsZSl7cmV0dXJuIG51bGwhPT1lP2U6XCJmYWlsZWQgcHJlZGljYXRlOiB7XCIrdCtcIn0/XCJ9ZnVuY3Rpb24gUmModCl7cmV0dXJuIFJjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LFJjKHQpfWZ1bmN0aW9uIENjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1SYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1SYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1SYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gQWModCxlKXtyZXR1cm4gQWM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxBYyh0LGUpfWZ1bmN0aW9uIE5jKHQpe3JldHVybiBOYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sTmModCl9dmFyIEljPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZBYyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPU5jKHIpO2lmKG8pe3ZhciBuPU5jKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09UmMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksdD10fHwhMCwoZT1pLmNhbGwodGhpcykpLmV4YWN0T25seT10LGV9cmV0dXJuIGU9dSxuPVt7a2V5OlwicmVwb3J0QW1iaWd1aXR5XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixvLGksdSl7aWYoIXRoaXMuZXhhY3RPbmx5fHxvKXt2YXIgYz1cInJlcG9ydEFtYmlndWl0eSBkPVwiK3RoaXMuZ2V0RGVjaXNpb25EZXNjcmlwdGlvbih0LGUpK1wiOiBhbWJpZ0FsdHM9XCIrdGhpcy5nZXRDb25mbGljdGluZ0FsdHMoaSx1KStcIiwgaW5wdXQ9J1wiK3QuZ2V0VG9rZW5TdHJlYW0oKS5nZXRUZXh0KG5ldyBCKG4scikpK1wiJ1wiO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnMoYyl9fX0se2tleTpcInJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsbyxpKXt2YXIgdT1cInJlcG9ydEF0dGVtcHRpbmdGdWxsQ29udGV4dCBkPVwiK3RoaXMuZ2V0RGVjaXNpb25EZXNjcmlwdGlvbih0LGUpK1wiLCBpbnB1dD0nXCIrdC5nZXRUb2tlblN0cmVhbSgpLmdldFRleHQobmV3IEIobixyKSkrXCInXCI7dC5ub3RpZnlFcnJvckxpc3RlbmVycyh1KX19LHtrZXk6XCJyZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHlcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLG8saSl7dmFyIHU9XCJyZXBvcnRDb250ZXh0U2Vuc2l0aXZpdHkgZD1cIit0aGlzLmdldERlY2lzaW9uRGVzY3JpcHRpb24odCxlKStcIiwgaW5wdXQ9J1wiK3QuZ2V0VG9rZW5TdHJlYW0oKS5nZXRUZXh0KG5ldyBCKG4scikpK1wiJ1wiO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnModSl9fSx7a2V5OlwiZ2V0RGVjaXNpb25EZXNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5kZWNpc2lvbixyPWUuYXRuU3RhcnRTdGF0ZS5ydWxlSW5kZXgsbz10LnJ1bGVOYW1lcztpZihyPDB8fHI+PW8ubGVuZ3RoKXJldHVyblwiXCIrbjt2YXIgaT1vW3JdfHxudWxsO3JldHVybiBudWxsPT09aXx8MD09PWkubGVuZ3RoP1wiXCIrbjpcIlwiLmNvbmNhdChuLFwiIChcIikuY29uY2F0KGksXCIpXCIpfX0se2tleTpcImdldENvbmZsaWN0aW5nQWx0c1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9PXQpcmV0dXJuIHQ7Zm9yKHZhciBuPW5ldyBDZSxyPTA7cjxlLml0ZW1zLmxlbmd0aDtyKyspbi5hZGQoZS5pdGVtc1tyXS5hbHQpO3JldHVyblwie1wiLmNvbmNhdChuLnZhbHVlcygpLmpvaW4oXCIsIFwiKSxcIn1cIil9fV0sbiYmQ2MoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx1fShHbyk7ZnVuY3Rpb24gTGModCl7cmV0dXJuIExjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LExjKHQpfWZ1bmN0aW9uIERjKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fWZ1bmN0aW9uIEZjKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcD9uZXcgTWFwOnZvaWQgMDtyZXR1cm4gRmM9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fChuPXQsLTE9PT1GdW5jdGlvbi50b1N0cmluZy5jYWxsKG4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpKSlyZXR1cm4gdDt2YXIgbjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtpZih2b2lkIDAhPT1lKXtpZihlLmhhcyh0KSlyZXR1cm4gZS5nZXQodCk7ZS5zZXQodCxyKX1mdW5jdGlvbiByKCl7cmV0dXJuIEJjKHQsYXJndW1lbnRzLFZjKHRoaXMpLmNvbnN0cnVjdG9yKX1yZXR1cm4gci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnIsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksVWMocix0KX0sRmModCl9ZnVuY3Rpb24gQmModCxlLG4pe3JldHVybiBCYz1NYygpP1JlZmxlY3QuY29uc3RydWN0LmJpbmQoKTpmdW5jdGlvbih0LGUsbil7dmFyIHI9W251bGxdO3IucHVzaC5hcHBseShyLGUpO3ZhciBvPW5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KHQscikpO3JldHVybiBuJiZVYyhvLG4ucHJvdG90eXBlKSxvfSxCYy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gTWMoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiBVYyh0LGUpe3JldHVybiBVYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFVjKHQsZSl9ZnVuY3Rpb24gVmModCl7cmV0dXJuIFZjPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxWYyh0KX12YXIgemM9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlVjKHQsZSl9KGksdCk7dmFyIGUsbixyLG89KG49aSxyPU1jKCksZnVuY3Rpb24oKXt2YXIgdCxlPVZjKG4pO2lmKHIpe3ZhciBvPVZjKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbyl9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09TGMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBEYyh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGkoKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGkpLHQ9by5jYWxsKHRoaXMpLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKERjKHQpLGkpLHR9cmV0dXJuIGU9aSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGV9KEZjKEVycm9yKSk7ZnVuY3Rpb24gcWModCl7cmV0dXJuIHFjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHFjKHQpfWZ1bmN0aW9uIEhjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1xYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1xYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1xYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gS2ModCl7cmV0dXJuIEtjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LEtjKHQpfWZ1bmN0aW9uIFljKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1LYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1LYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1LYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gR2ModCxlKXtyZXR1cm4gR2M9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxHYyh0LGUpfWZ1bmN0aW9uIFdjKHQpe3JldHVybiBXYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sV2ModCl9dmFyIFhjPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZHYyh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVdjKHIpO2lmKGkpe3ZhciBuPVdjKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09S2MoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwodD11LmNhbGwodGhpcykpLmVycm9yUmVjb3ZlcnlNb2RlPSExLHQubGFzdEVycm9ySW5kZXg9LTEsdC5sYXN0RXJyb3JTdGF0ZXM9bnVsbCx0Lm5leHRUb2tlbnNDb250ZXh0PW51bGwsdC5uZXh0VG9rZW5TdGF0ZT0wLHR9cmV0dXJuIGU9YyxuPVt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVuZEVycm9yQ29uZGl0aW9uKHQpfX0se2tleTpcImJlZ2luRXJyb3JDb25kaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVycm9yUmVjb3ZlcnlNb2RlPSEwfX0se2tleTpcImluRXJyb3JSZWNvdmVyeU1vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lcnJvclJlY292ZXJ5TW9kZX19LHtrZXk6XCJlbmRFcnJvckNvbmRpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZXJyb3JSZWNvdmVyeU1vZGU9ITEsdGhpcy5sYXN0RXJyb3JTdGF0ZXM9bnVsbCx0aGlzLmxhc3RFcnJvckluZGV4PS0xfX0se2tleTpcInJlcG9ydE1hdGNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5lbmRFcnJvckNvbmRpdGlvbih0KX19LHtrZXk6XCJyZXBvcnRFcnJvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5pbkVycm9yUmVjb3ZlcnlNb2RlKHQpfHwodGhpcy5iZWdpbkVycm9yQ29uZGl0aW9uKHQpLGUgaW5zdGFuY2VvZiBCdT90aGlzLnJlcG9ydE5vVmlhYmxlQWx0ZXJuYXRpdmUodCxlKTplIGluc3RhbmNlb2YgUGM/dGhpcy5yZXBvcnRJbnB1dE1pc21hdGNoKHQsZSk6ZSBpbnN0YW5jZW9mIGpjP3RoaXMucmVwb3J0RmFpbGVkUHJlZGljYXRlKHQsZSk6KGNvbnNvbGUubG9nKFwidW5rbm93biByZWNvZ25pdGlvbiBlcnJvciB0eXBlOiBcIitlLmNvbnN0cnVjdG9yLm5hbWUpLGNvbnNvbGUubG9nKGUuc3RhY2spLHQubm90aWZ5RXJyb3JMaXN0ZW5lcnMoZS5nZXRPZmZlbmRpbmdUb2tlbigpLGUuZ2V0TWVzc2FnZSgpLGUpKSl9fSx7a2V5OlwicmVjb3ZlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5sYXN0RXJyb3JJbmRleD09PXQuZ2V0SW5wdXRTdHJlYW0oKS5pbmRleCYmbnVsbCE9PXRoaXMubGFzdEVycm9yU3RhdGVzJiZ0aGlzLmxhc3RFcnJvclN0YXRlcy5pbmRleE9mKHQuc3RhdGUpPj0wJiZ0LmNvbnN1bWUoKSx0aGlzLmxhc3RFcnJvckluZGV4PXQuX2lucHV0LmluZGV4LG51bGw9PT10aGlzLmxhc3RFcnJvclN0YXRlcyYmKHRoaXMubGFzdEVycm9yU3RhdGVzPVtdKSx0aGlzLmxhc3RFcnJvclN0YXRlcy5wdXNoKHQuc3RhdGUpO3ZhciBuPXRoaXMuZ2V0RXJyb3JSZWNvdmVyeVNldCh0KTt0aGlzLmNvbnN1bWVVbnRpbCh0LG4pfX0se2tleTpcInN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5pbkVycm9yUmVjb3ZlcnlNb2RlKHQpKXt2YXIgZT10Ll9pbnRlcnAuYXRuLnN0YXRlc1t0LnN0YXRlXSxuPXQuZ2V0VG9rZW5TdHJlYW0oKS5MQSgxKSxyPXQuYXRuLm5leHRUb2tlbnMoZSk7aWYoci5jb250YWlucyhuKSlyZXR1cm4gdGhpcy5uZXh0VG9rZW5zQ29udGV4dD1udWxsLHZvaWQodGhpcy5uZXh0VG9rZW5TdGF0ZT1ILklOVkFMSURfU1RBVEVfTlVNQkVSKTtpZihyLmNvbnRhaW5zKG8uRVBTSUxPTikpbnVsbD09PXRoaXMubmV4dFRva2Vuc0NvbnRleHQmJih0aGlzLm5leHRUb2tlbnNDb250ZXh0PXQuX2N0eCx0aGlzLm5leHRUb2tlbnNTdGF0ZT10Ll9zdGF0ZU51bWJlcik7ZWxzZSBzd2l0Y2goZS5zdGF0ZVR5cGUpe2Nhc2UgSC5CTE9DS19TVEFSVDpjYXNlIEguU1RBUl9CTE9DS19TVEFSVDpjYXNlIEguUExVU19CTE9DS19TVEFSVDpjYXNlIEguU1RBUl9MT09QX0VOVFJZOmlmKG51bGwhPT10aGlzLnNpbmdsZVRva2VuRGVsZXRpb24odCkpcmV0dXJuO3Rocm93IG5ldyBQYyh0KTtjYXNlIEguUExVU19MT09QX0JBQ0s6Y2FzZSBILlNUQVJfTE9PUF9CQUNLOnRoaXMucmVwb3J0VW53YW50ZWRUb2tlbih0KTt2YXIgaT1uZXcgVjtpLmFkZFNldCh0LmdldEV4cGVjdGVkVG9rZW5zKCkpO3ZhciB1PWkuYWRkU2V0KHRoaXMuZ2V0RXJyb3JSZWNvdmVyeVNldCh0KSk7dGhpcy5jb25zdW1lVW50aWwodCx1KX19fX0se2tleTpcInJlcG9ydE5vVmlhYmxlQWx0ZXJuYXRpdmVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuLHI9dC5nZXRUb2tlblN0cmVhbSgpO249bnVsbCE9PXI/ZS5zdGFydFRva2VuLnR5cGU9PT1vLkVPRj9cIjxFT0Y+XCI6ci5nZXRUZXh0KG5ldyBCKGUuc3RhcnRUb2tlbi50b2tlbkluZGV4LGUub2ZmZW5kaW5nVG9rZW4udG9rZW5JbmRleCkpOlwiPHVua25vd24gaW5wdXQ+XCI7dmFyIGk9XCJubyB2aWFibGUgYWx0ZXJuYXRpdmUgYXQgaW5wdXQgXCIrdGhpcy5lc2NhcGVXU0FuZFF1b3RlKG4pO3Qubm90aWZ5RXJyb3JMaXN0ZW5lcnMoaSxlLm9mZmVuZGluZ1Rva2VuLGUpfX0se2tleTpcInJlcG9ydElucHV0TWlzbWF0Y2hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVwibWlzbWF0Y2hlZCBpbnB1dCBcIit0aGlzLmdldFRva2VuRXJyb3JEaXNwbGF5KGUub2ZmZW5kaW5nVG9rZW4pK1wiIGV4cGVjdGluZyBcIitlLmdldEV4cGVjdGVkVG9rZW5zKCkudG9TdHJpbmcodC5saXRlcmFsTmFtZXMsdC5zeW1ib2xpY05hbWVzKTt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKG4sZS5vZmZlbmRpbmdUb2tlbixlKX19LHtrZXk6XCJyZXBvcnRGYWlsZWRQcmVkaWNhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVwicnVsZSBcIit0LnJ1bGVOYW1lc1t0Ll9jdHgucnVsZUluZGV4XStcIiBcIitlLm1lc3NhZ2U7dC5ub3RpZnlFcnJvckxpc3RlbmVycyhuLGUub2ZmZW5kaW5nVG9rZW4sZSl9fSx7a2V5OlwicmVwb3J0VW53YW50ZWRUb2tlblwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmluRXJyb3JSZWNvdmVyeU1vZGUodCkpe3RoaXMuYmVnaW5FcnJvckNvbmRpdGlvbih0KTt2YXIgZT10LmdldEN1cnJlbnRUb2tlbigpLG49XCJleHRyYW5lb3VzIGlucHV0IFwiK3RoaXMuZ2V0VG9rZW5FcnJvckRpc3BsYXkoZSkrXCIgZXhwZWN0aW5nIFwiK3RoaXMuZ2V0RXhwZWN0ZWRUb2tlbnModCkudG9TdHJpbmcodC5saXRlcmFsTmFtZXMsdC5zeW1ib2xpY05hbWVzKTt0Lm5vdGlmeUVycm9yTGlzdGVuZXJzKG4sZSxudWxsKX19fSx7a2V5OlwicmVwb3J0TWlzc2luZ1Rva2VuXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaW5FcnJvclJlY292ZXJ5TW9kZSh0KSl7dGhpcy5iZWdpbkVycm9yQ29uZGl0aW9uKHQpO3ZhciBlPXQuZ2V0Q3VycmVudFRva2VuKCksbj1cIm1pc3NpbmcgXCIrdGhpcy5nZXRFeHBlY3RlZFRva2Vucyh0KS50b1N0cmluZyh0LmxpdGVyYWxOYW1lcyx0LnN5bWJvbGljTmFtZXMpK1wiIGF0IFwiK3RoaXMuZ2V0VG9rZW5FcnJvckRpc3BsYXkoZSk7dC5ub3RpZnlFcnJvckxpc3RlbmVycyhuLGUsbnVsbCl9fX0se2tleTpcInJlY292ZXJJbmxpbmVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNpbmdsZVRva2VuRGVsZXRpb24odCk7aWYobnVsbCE9PWUpcmV0dXJuIHQuY29uc3VtZSgpLGU7aWYodGhpcy5zaW5nbGVUb2tlbkluc2VydGlvbih0KSlyZXR1cm4gdGhpcy5nZXRNaXNzaW5nU3ltYm9sKHQpO3Rocm93IG5ldyBQYyh0KX19LHtrZXk6XCJzaW5nbGVUb2tlbkluc2VydGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0VG9rZW5TdHJlYW0oKS5MQSgxKSxuPXQuX2ludGVycC5hdG4scj1uLnN0YXRlc1t0LnN0YXRlXS50cmFuc2l0aW9uc1swXS50YXJnZXQ7cmV0dXJuISFuLm5leHRUb2tlbnMocix0Ll9jdHgpLmNvbnRhaW5zKGUpJiYodGhpcy5yZXBvcnRNaXNzaW5nVG9rZW4odCksITApfX0se2tleTpcInNpbmdsZVRva2VuRGVsZXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LmdldFRva2VuU3RyZWFtKCkuTEEoMik7aWYodGhpcy5nZXRFeHBlY3RlZFRva2Vucyh0KS5jb250YWlucyhlKSl7dGhpcy5yZXBvcnRVbndhbnRlZFRva2VuKHQpLHQuY29uc3VtZSgpO3ZhciBuPXQuZ2V0Q3VycmVudFRva2VuKCk7cmV0dXJuIHRoaXMucmVwb3J0TWF0Y2godCksbn1yZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRNaXNzaW5nU3ltYm9sXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsbj10LmdldEN1cnJlbnRUb2tlbigpLHI9dGhpcy5nZXRFeHBlY3RlZFRva2Vucyh0KS5maXJzdCgpO2U9cj09PW8uRU9GP1wiPG1pc3NpbmcgRU9GPlwiOlwiPG1pc3NpbmcgXCIrdC5saXRlcmFsTmFtZXNbcl0rXCI+XCI7dmFyIGk9bix1PXQuZ2V0VG9rZW5TdHJlYW0oKS5MVCgtMSk7cmV0dXJuIGkudHlwZT09PW8uRU9GJiZudWxsIT09dSYmKGk9dSksdC5nZXRUb2tlbkZhY3RvcnkoKS5jcmVhdGUoaS5zb3VyY2UscixlLG8uREVGQVVMVF9DSEFOTkVMLC0xLC0xLGkubGluZSxpLmNvbHVtbil9fSx7a2V5OlwiZ2V0RXhwZWN0ZWRUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRFeHBlY3RlZFRva2VucygpfX0se2tleTpcImdldFRva2VuRXJyb3JEaXNwbGF5XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXQpcmV0dXJuXCI8bm8gdG9rZW4+XCI7dmFyIGU9dC50ZXh0O3JldHVybiBudWxsPT09ZSYmKGU9dC50eXBlPT09by5FT0Y/XCI8RU9GPlwiOlwiPFwiK3QudHlwZStcIj5cIiksdGhpcy5lc2NhcGVXU0FuZFF1b3RlKGUpfX0se2tleTpcImVzY2FwZVdTQW5kUXVvdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm5cIidcIisodD0odD0odD10LnJlcGxhY2UoL1xcbi9nLFwiXFxcXG5cIikpLnJlcGxhY2UoL1xcci9nLFwiXFxcXHJcIikpLnJlcGxhY2UoL1xcdC9nLFwiXFxcXHRcIikpK1wiJ1wifX0se2tleTpcImdldEVycm9yUmVjb3ZlcnlTZXRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5faW50ZXJwLmF0bixuPXQuX2N0eCxyPW5ldyBWO251bGwhPT1uJiZuLmludm9raW5nU3RhdGU+PTA7KXt2YXIgaT1lLnN0YXRlc1tuLmludm9raW5nU3RhdGVdLnRyYW5zaXRpb25zWzBdLHU9ZS5uZXh0VG9rZW5zKGkuZm9sbG93U3RhdGUpO3IuYWRkU2V0KHUpLG49bi5wYXJlbnRDdHh9cmV0dXJuIHIucmVtb3ZlT25lKG8uRVBTSUxPTikscn19LHtrZXk6XCJjb25zdW1lVW50aWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmdldFRva2VuU3RyZWFtKCkuTEEoMSk7biE9PW8uRU9GJiYhZS5jb250YWlucyhuKTspdC5jb25zdW1lKCksbj10LmdldFRva2VuU3RyZWFtKCkuTEEoMSl9fV0sbiYmWWMoZS5wcm90b3R5cGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxjfShmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfXZhciBlLG47cmV0dXJuIGU9dCwobj1be2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcInJlY292ZXJJbmxpbmVcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwicmVjb3ZlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7fX0se2tleTpcInN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXt9fSx7a2V5OlwiaW5FcnJvclJlY292ZXJ5TW9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJyZXBvcnRFcnJvclwiLHZhbHVlOmZ1bmN0aW9uKHQpe319XSkmJkhjKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKSk7ZnVuY3Rpb24gJGModCl7cmV0dXJuICRjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LCRjKHQpfWZ1bmN0aW9uIEpjKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT0kYyh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT0kYyhyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT0kYyhvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gUWModCxlKXtyZXR1cm4gUWM9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxRYyh0LGUpfWZ1bmN0aW9uIFpjKHQpe3JldHVybiBaYz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sWmModCl9dmFyIHRhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZRYyh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVpjKHIpO2lmKG8pe3ZhciBuPVpjKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09JGMoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSxpLmNhbGwodGhpcyl9cmV0dXJuIGU9dSxuPVt7a2V5OlwicmVjb3ZlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuX2N0eDtudWxsIT09bjspbi5leGNlcHRpb249ZSxuPW4ucGFyZW50Q3R4O3Rocm93IG5ldyB6YyhlKX19LHtrZXk6XCJyZWNvdmVySW5saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWNvdmVyKHQsbmV3IFBjKHQpKX19LHtrZXk6XCJzeW5jXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX1dLG4mJkpjKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdX0oWGMpO2NvbnN0IGVhPXtSZWNvZ25pdGlvbkV4Y2VwdGlvbjp4aSxOb1ZpYWJsZUFsdEV4Y2VwdGlvbjpCdSxMZXhlck5vVmlhYmxlQWx0RXhjZXB0aW9uOklpLElucHV0TWlzbWF0Y2hFeGNlcHRpb246UGMsRmFpbGVkUHJlZGljYXRlRXhjZXB0aW9uOmpjLERpYWdub3N0aWNFcnJvckxpc3RlbmVyOkljLEJhaWxFcnJvclN0cmF0ZWd5OnRhLERlZmF1bHRFcnJvclN0cmF0ZWd5OlhjLEVycm9yTGlzdGVuZXI6R299O2Z1bmN0aW9uIG5hKHQpe3JldHVybiBuYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxuYSh0KX1mdW5jdGlvbiByYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09bmEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09bmEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09bmEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfXZhciBvYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZihmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdCksdGhpcy5uYW1lPVwiPGVtcHR5PlwiLHRoaXMuc3RyZGF0YT1lLHRoaXMuZGVjb2RlVG9Vbmljb2RlQ29kZVBvaW50cz1ufHwhMSx0aGlzLl9pbmRleD0wLHRoaXMuZGF0YT1bXSx0aGlzLmRlY29kZVRvVW5pY29kZUNvZGVQb2ludHMpZm9yKHZhciByPTA7cjx0aGlzLnN0cmRhdGEubGVuZ3RoOyl7dmFyIG89dGhpcy5zdHJkYXRhLmNvZGVQb2ludEF0KHIpO3RoaXMuZGF0YS5wdXNoKG8pLHIrPW88PTY1NTM1PzE6Mn1lbHNle3RoaXMuZGF0YT1uZXcgQXJyYXkodGhpcy5zdHJkYXRhLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTx0aGlzLnN0cmRhdGEubGVuZ3RoO2krKyl0aGlzLmRhdGFbaV09dGhpcy5zdHJkYXRhLmNoYXJDb2RlQXQoaSl9dGhpcy5fc2l6ZT10aGlzLmRhdGEubGVuZ3RofXZhciBlLG47cmV0dXJuIGU9dCxuPVt7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2luZGV4PTB9fSx7a2V5OlwiY29uc3VtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5faW5kZXg+PXRoaXMuX3NpemUpdGhyb3dcImNhbm5vdCBjb25zdW1lIEVPRlwiO3RoaXMuX2luZGV4Kz0xfX0se2tleTpcIkxBXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoMD09PXQpcmV0dXJuIDA7dDwwJiYodCs9MSk7dmFyIGU9dGhpcy5faW5kZXgrdC0xO3JldHVybiBlPDB8fGU+PXRoaXMuX3NpemU/by5FT0Y6dGhpcy5kYXRhW2VdfX0se2tleTpcIkxUXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuTEEodCl9fSx7a2V5OlwibWFya1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuLTF9fSx7a2V5OlwicmVsZWFzZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJzZWVrXCIsdmFsdWU6ZnVuY3Rpb24odCl7dDw9dGhpcy5faW5kZXg/dGhpcy5faW5kZXg9dDp0aGlzLl9pbmRleD1NYXRoLm1pbih0LHRoaXMuX3NpemUpfX0se2tleTpcImdldFRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKGU+PXRoaXMuX3NpemUmJihlPXRoaXMuX3NpemUtMSksdD49dGhpcy5fc2l6ZSlyZXR1cm5cIlwiO2lmKHRoaXMuZGVjb2RlVG9Vbmljb2RlQ29kZVBvaW50cyl7Zm9yKHZhciBuPVwiXCIscj10O3I8PWU7cisrKW4rPVN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMuZGF0YVtyXSk7cmV0dXJuIG59cmV0dXJuIHRoaXMuc3RyZGF0YS5zbGljZSh0LGUrMSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmRhdGF9fSx7a2V5OlwiaW5kZXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kZXh9fSx7a2V5Olwic2l6ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplfX1dLG4mJnJhKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksdH0oKTtmdW5jdGlvbiBpYSh0KXtyZXR1cm4gaWE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0saWEodCl9ZnVuY3Rpb24gdWEodCxlKXtyZXR1cm4gdWE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSx1YSh0LGUpfWZ1bmN0aW9uIGNhKHQpe3JldHVybiBjYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sY2EodCl9dmFyIGFhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZ1YSh0LGUpfShpLHQpO3ZhciBlLG4scixvPShuPWkscj1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1jYShuKTtpZihyKXt2YXIgbz1jYSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG8pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PWlhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gaSh0LGUpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsaSksby5jYWxsKHRoaXMsdCxlKX1yZXR1cm4gZT1pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0ob2EpLGxhPW4oOTIpO2Z1bmN0aW9uIHNhKHQpe3JldHVybiBzYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxzYSh0KX1mdW5jdGlvbiBmYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09c2EodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09c2EocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09c2Eobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHBhKHQsZSl7cmV0dXJuIHBhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scGEodCxlKX1mdW5jdGlvbiB5YSh0KXtyZXR1cm4geWE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LHlhKHQpfXZhciBoYT1cInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmbnVsbCE9cHJvY2Vzcy52ZXJzaW9ucyYmbnVsbCE9cHJvY2Vzcy52ZXJzaW9ucy5ub2RlLGJhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZwYSh0LGUpfSh1LHQpO3ZhciBlLG4scixvLGk9KHI9dSxvPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXlhKHIpO2lmKG8pe3ZhciBuPXlhKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09c2EoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiB1KHQsZSxuKXt2YXIgcjtpZihmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsdSksIWhhKXRocm93IG5ldyBFcnJvcihcIkZpbGVTdHJlYW0gaXMgb25seSBhdmFpbGFibGUgd2hlbiBydW5uaW5nIGluIE5vZGUhXCIpO3ZhciBvPWxhLnJlYWRGaWxlU3luYyh0LGV8fFwidXRmLThcIik7cmV0dXJuKHI9aS5jYWxsKHRoaXMsbyxuKSkuZmlsZU5hbWU9dCxyfXJldHVybiBlPXUsbj1be2tleTpcImZyb21QYXRoXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2lmKCFoYSl0aHJvdyBuZXcgRXJyb3IoXCJGaWxlU3RyZWFtIGlzIG9ubHkgYXZhaWxhYmxlIHdoZW4gcnVubmluZyBpbiBOb2RlIVwiKTtsYS5yZWFkRmlsZSh0LGUsKGZ1bmN0aW9uKHQsZSl7dmFyIHI9bnVsbDtudWxsIT09ZSYmKHI9bmV3IG9hKGUsITApKSxuKHQscil9KSl9fV0sbnVsbCYmZmEoZS5wcm90b3R5cGUsbnVsbCksbiYmZmEoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KGFhKTtjb25zdCB2YT17ZnJvbVN0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IG9hKHQsITApfSxmcm9tQmxvYjpmdW5jdGlvbih0LGUsbixyKXt2YXIgbz1uZXcgd2luZG93LkZpbGVSZWFkZXI7by5vbmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG9hKHQudGFyZ2V0LnJlc3VsdCwhMCk7bihlKX0sby5vbmVycm9yPXIsby5yZWFkQXNUZXh0KHQsZSl9LGZyb21CdWZmZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG9hKHQudG9TdHJpbmcoZSksITApfSxmcm9tUGF0aDpmdW5jdGlvbih0LGUsbil7YmEuZnJvbVBhdGgodCxlLG4pfSxmcm9tUGF0aFN5bmM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGJhKHQsZSl9fSxkYT17YXJyYXlUb1N0cmluZzpiLHN0cmluZ1RvQ2hhckFycmF5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgVWludDE2QXJyYXkodC5sZW5ndGgpLG49MDtuPHQubGVuZ3RoO24rKyllW25dPXQuY2hhckNvZGVBdChuKTtyZXR1cm4gZX19O2Z1bmN0aW9uIG1hKHQpe3JldHVybiBtYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxtYSh0KX1mdW5jdGlvbiBnYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09bWEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09bWEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09bWEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFNhKHQsZSxuKXtyZXR1cm4gZSYmZ2EodC5wcm90b3R5cGUsZSksbiYmZ2EodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gT2EodCl7cmV0dXJuIE9hPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LE9hKHQpfWZ1bmN0aW9uIHdhKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCh2b2lkIDAsbz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1PYSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIG49dFtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbCh0LFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPT1PYShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyh0KX0oci5rZXkpLFwic3ltYm9sXCI9PT1PYShvKT9vOlN0cmluZyhvKSkscil9dmFyIG99ZnVuY3Rpb24gX2EodCxlKXtyZXR1cm4gX2E9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxfYSh0LGUpfWZ1bmN0aW9uIFBhKHQpe3JldHVybiBQYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0sUGEodCl9dmFyIFRhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZfYSh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPVBhKHIpO2lmKGkpe3ZhciBuPVBhKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09T2EoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsYyksKGU9dS5jYWxsKHRoaXMpKS50b2tlblNvdXJjZT10LGUudG9rZW5zPVtdLGUuaW5kZXg9LTEsZS5mZXRjaGVkRU9GPSExLGV9cmV0dXJuIGU9YyxuPVt7a2V5OlwibWFya1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7a2V5OlwicmVsZWFzZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe319LHtrZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWVrKDApfX0se2tleTpcInNlZWtcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmxhenlJbml0KCksdGhpcy5pbmRleD10aGlzLmFkanVzdFNlZWtJbmRleCh0KX19LHtrZXk6XCJzaXplXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9rZW5zLmxlbmd0aH19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYXp5SW5pdCgpLHRoaXMudG9rZW5zW3RdfX0se2tleTpcImNvbnN1bWVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCEodGhpcy5pbmRleD49MCYmKHRoaXMuZmV0Y2hlZEVPRj90aGlzLmluZGV4PHRoaXMudG9rZW5zLmxlbmd0aC0xOnRoaXMuaW5kZXg8dGhpcy50b2tlbnMubGVuZ3RoKSkmJnRoaXMuTEEoMSk9PT1vLkVPRil0aHJvd1wiY2Fubm90IGNvbnN1bWUgRU9GXCI7dGhpcy5zeW5jKHRoaXMuaW5kZXgrMSkmJih0aGlzLmluZGV4PXRoaXMuYWRqdXN0U2Vla0luZGV4KHRoaXMuaW5kZXgrMSkpfX0se2tleTpcInN5bmNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LXRoaXMudG9rZW5zLmxlbmd0aCsxO3JldHVybiEoZT4wKXx8dGhpcy5mZXRjaChlKT49ZX19LHtrZXk6XCJmZXRjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZmV0Y2hlZEVPRilyZXR1cm4gMDtmb3IodmFyIGU9MDtlPHQ7ZSsrKXt2YXIgbj10aGlzLnRva2VuU291cmNlLm5leHRUb2tlbigpO2lmKG4udG9rZW5JbmRleD10aGlzLnRva2Vucy5sZW5ndGgsdGhpcy50b2tlbnMucHVzaChuKSxuLnR5cGU9PT1vLkVPRilyZXR1cm4gdGhpcy5mZXRjaGVkRU9GPSEwLGUrMX1yZXR1cm4gdH19LHtrZXk6XCJnZXRUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7aWYodm9pZCAwPT09biYmKG49bnVsbCksdDwwfHxlPDApcmV0dXJuIG51bGw7dGhpcy5sYXp5SW5pdCgpO3ZhciByPVtdO2U+PXRoaXMudG9rZW5zLmxlbmd0aCYmKGU9dGhpcy50b2tlbnMubGVuZ3RoLTEpO2Zvcih2YXIgaT10O2k8ZTtpKyspe3ZhciB1PXRoaXMudG9rZW5zW2ldO2lmKHUudHlwZT09PW8uRU9GKWJyZWFrOyhudWxsPT09bnx8bi5jb250YWlucyh1LnR5cGUpKSYmci5wdXNoKHUpfXJldHVybiByfX0se2tleTpcIkxBXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuTFQodCkudHlwZX19LHtrZXk6XCJMQlwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluZGV4LXQ8MD9udWxsOnRoaXMudG9rZW5zW3RoaXMuaW5kZXgtdF19fSx7a2V5OlwiTFRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmxhenlJbml0KCksMD09PXQpcmV0dXJuIG51bGw7aWYodDwwKXJldHVybiB0aGlzLkxCKC10KTt2YXIgZT10aGlzLmluZGV4K3QtMTtyZXR1cm4gdGhpcy5zeW5jKGUpLGU+PXRoaXMudG9rZW5zLmxlbmd0aD90aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGgtMV06dGhpcy50b2tlbnNbZV19fSx7a2V5OlwiYWRqdXN0U2Vla0luZGV4XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fSx7a2V5OlwibGF6eUluaXRcIix2YWx1ZTpmdW5jdGlvbigpey0xPT09dGhpcy5pbmRleCYmdGhpcy5zZXR1cCgpfX0se2tleTpcInNldHVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN5bmMoMCksdGhpcy5pbmRleD10aGlzLmFkanVzdFNlZWtJbmRleCgwKX19LHtrZXk6XCJzZXRUb2tlblNvdXJjZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudG9rZW5Tb3VyY2U9dCx0aGlzLnRva2Vucz1bXSx0aGlzLmluZGV4PS0xLHRoaXMuZmV0Y2hlZEVPRj0hMX19LHtrZXk6XCJuZXh0VG9rZW5PbkNoYW5uZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuc3luYyh0KSx0Pj10aGlzLnRva2Vucy5sZW5ndGgpcmV0dXJuLTE7Zm9yKHZhciBuPXRoaXMudG9rZW5zW3RdO24uY2hhbm5lbCE9PXRoaXMuY2hhbm5lbDspe2lmKG4udHlwZT09PW8uRU9GKXJldHVybi0xO3QrPTEsdGhpcy5zeW5jKHQpLG49dGhpcy50b2tlbnNbdF19cmV0dXJuIHR9fSx7a2V5OlwicHJldmlvdXNUb2tlbk9uQ2hhbm5lbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKDt0Pj0wJiZ0aGlzLnRva2Vuc1t0XS5jaGFubmVsIT09ZTspdC09MTtyZXR1cm4gdH19LHtrZXk6XCJnZXRIaWRkZW5Ub2tlbnNUb1JpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0tMSksdGhpcy5sYXp5SW5pdCgpLHQ8MHx8dD49dGhpcy50b2tlbnMubGVuZ3RoKXRocm93IHQrXCIgbm90IGluIDAuLlwiK3RoaXMudG9rZW5zLmxlbmd0aC0xO3ZhciBuPXRoaXMubmV4dFRva2VuT25DaGFubmVsKHQrMSxVaS5ERUZBVUxUX1RPS0VOX0NIQU5ORUwpLHI9dCsxLG89LTE9PT1uP3RoaXMudG9rZW5zLmxlbmd0aC0xOm47cmV0dXJuIHRoaXMuZmlsdGVyRm9yQ2hhbm5lbChyLG8sZSl9fSx7a2V5OlwiZ2V0SGlkZGVuVG9rZW5zVG9MZWZ0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT0tMSksdGhpcy5sYXp5SW5pdCgpLHQ8MHx8dD49dGhpcy50b2tlbnMubGVuZ3RoKXRocm93IHQrXCIgbm90IGluIDAuLlwiK3RoaXMudG9rZW5zLmxlbmd0aC0xO3ZhciBuPXRoaXMucHJldmlvdXNUb2tlbk9uQ2hhbm5lbCh0LTEsVWkuREVGQVVMVF9UT0tFTl9DSEFOTkVMKTtpZihuPT09dC0xKXJldHVybiBudWxsO3ZhciByPW4rMSxvPXQtMTtyZXR1cm4gdGhpcy5maWx0ZXJGb3JDaGFubmVsKHIsbyxlKX19LHtrZXk6XCJmaWx0ZXJGb3JDaGFubmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxvPXQ7bzxlKzE7bysrKXt2YXIgaT10aGlzLnRva2Vuc1tvXTstMT09PW4/aS5jaGFubmVsIT09VWkuREVGQVVMVF9UT0tFTl9DSEFOTkVMJiZyLnB1c2goaSk6aS5jaGFubmVsPT09biYmci5wdXNoKGkpfXJldHVybiAwPT09ci5sZW5ndGg/bnVsbDpyfX0se2tleTpcImdldFNvdXJjZU5hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2VuU291cmNlLmdldFNvdXJjZU5hbWUoKX19LHtrZXk6XCJnZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5sYXp5SW5pdCgpLHRoaXMuZmlsbCgpLHR8fCh0PW5ldyBCKDAsdGhpcy50b2tlbnMubGVuZ3RoLTEpKTt2YXIgZT10LnN0YXJ0O2UgaW5zdGFuY2VvZiBvJiYoZT1lLnRva2VuSW5kZXgpO3ZhciBuPXQuc3RvcDtpZihuIGluc3RhbmNlb2YgbyYmKG49bi50b2tlbkluZGV4KSxudWxsPT09ZXx8bnVsbD09PW58fGU8MHx8bjwwKXJldHVyblwiXCI7bj49dGhpcy50b2tlbnMubGVuZ3RoJiYobj10aGlzLnRva2Vucy5sZW5ndGgtMSk7Zm9yKHZhciByPVwiXCIsaT1lO2k8bisxO2krKyl7dmFyIHU9dGhpcy50b2tlbnNbaV07aWYodS50eXBlPT09by5FT0YpYnJlYWs7cis9dS50ZXh0fXJldHVybiByfX0se2tleTpcImZpbGxcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih0aGlzLmxhenlJbml0KCk7MWUzPT09dGhpcy5mZXRjaCgxZTMpOyk7fX1dLG4mJndhKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30oU2EoKGZ1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpfSkpKTtmdW5jdGlvbiBFYSh0KXtyZXR1cm4gRWE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRWEodCl9ZnVuY3Rpb24ga2EodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUVhKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUVhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUVhKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBqYSh0LGUpe3JldHVybiBqYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGphKHQsZSl9ZnVuY3Rpb24geGEodCl7cmV0dXJuIHhhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx4YSh0KX1PYmplY3QuZGVmaW5lUHJvcGVydHkoVGEsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2Vucy5sZW5ndGh9fSk7dmFyIFJhPWZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZqYSh0LGUpfShjLHQpO3ZhciBlLG4scixpLHU9KHI9YyxpPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZnVuY3Rpb24oKXt2YXIgdCxlPXhhKHIpO2lmKGkpe3ZhciBuPXhhKHRoaXMpLmNvbnN0cnVjdG9yO3Q9UmVmbGVjdC5jb25zdHJ1Y3QoZSxhcmd1bWVudHMsbil9ZWxzZSB0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09RWEoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9KHRoaXMsdCl9KTtmdW5jdGlvbiBjKHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwobj11LmNhbGwodGhpcyx0KSkuY2hhbm5lbD12b2lkIDA9PT1lP28uREVGQVVMVF9DSEFOTkVMOmUsbn1yZXR1cm4gZT1jLG49W3trZXk6XCJhZGp1c3RTZWVrSW5kZXhcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0VG9rZW5PbkNoYW5uZWwodCx0aGlzLmNoYW5uZWwpfX0se2tleTpcIkxCXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoMD09PXR8fHRoaXMuaW5kZXgtdDwwKXJldHVybiBudWxsO2Zvcih2YXIgZT10aGlzLmluZGV4LG49MTtuPD10OyllPXRoaXMucHJldmlvdXNUb2tlbk9uQ2hhbm5lbChlLTEsdGhpcy5jaGFubmVsKSxuKz0xO3JldHVybiBlPDA/bnVsbDp0aGlzLnRva2Vuc1tlXX19LHtrZXk6XCJMVFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMubGF6eUluaXQoKSwwPT09dClyZXR1cm4gbnVsbDtpZih0PDApcmV0dXJuIHRoaXMuTEIoLXQpO2Zvcih2YXIgZT10aGlzLmluZGV4LG49MTtuPHQ7KXRoaXMuc3luYyhlKzEpJiYoZT10aGlzLm5leHRUb2tlbk9uQ2hhbm5lbChlKzEsdGhpcy5jaGFubmVsKSksbis9MTtyZXR1cm4gdGhpcy50b2tlbnNbZV19fSx7a2V5OlwiZ2V0TnVtYmVyT2ZPbkNoYW5uZWxUb2tlbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PTA7dGhpcy5maWxsKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLnRva2Vucy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLnRva2Vuc1tlXTtpZihuLmNoYW5uZWw9PT10aGlzLmNoYW5uZWwmJih0Kz0xKSxuLnR5cGU9PT1vLkVPRilicmVha31yZXR1cm4gdH19XSxuJiZrYShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGN9KFRhKTtmdW5jdGlvbiBDYSh0KXtyZXR1cm4gQ2E9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sQ2EodCl9ZnVuY3Rpb24gQWEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUNhKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUNhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUNhKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBOYSh0LGUpe3JldHVybiBOYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LE5hKHQsZSl9ZnVuY3Rpb24gSWEodCl7cmV0dXJuIElhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxJYSh0KX12YXIgTGE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJk5hKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9SWEocik7aWYobyl7dmFyIG49SWEodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1DYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx1KSwoZT1pLmNhbGwodGhpcykpLnBhcnNlcj10LGV9cmV0dXJuIGU9dSwobj1be2tleTpcImVudGVyRXZlcnlSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Y29uc29sZS5sb2coXCJlbnRlciAgIFwiK3RoaXMucGFyc2VyLnJ1bGVOYW1lc1t0LnJ1bGVJbmRleF0rXCIsIExUKDEpPVwiK3RoaXMucGFyc2VyLl9pbnB1dC5MVCgxKS50ZXh0KX19LHtrZXk6XCJ2aXNpdFRlcm1pbmFsXCIsdmFsdWU6ZnVuY3Rpb24odCl7Y29uc29sZS5sb2coXCJjb25zdW1lIFwiK3Quc3ltYm9sK1wiIHJ1bGUgXCIrdGhpcy5wYXJzZXIucnVsZU5hbWVzW3RoaXMucGFyc2VyLl9jdHgucnVsZUluZGV4XSl9fSx7a2V5OlwiZXhpdEV2ZXJ5UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwiZXhpdCAgICBcIit0aGlzLnBhcnNlci5ydWxlTmFtZXNbdC5ydWxlSW5kZXhdK1wiLCBMVCgxKT1cIit0aGlzLnBhcnNlci5faW5wdXQuTFQoMSkudGV4dCl9fV0pJiZBYShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KHljKTtmdW5jdGlvbiBEYSh0KXtyZXR1cm4gRGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sRGEodCl9ZnVuY3Rpb24gRmEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PURhKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PURhKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PURhKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBCYSh0LGUpe3JldHVybiBCYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LEJhKHQsZSl9ZnVuY3Rpb24gTWEodCl7cmV0dXJuIE1hPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxNYSh0KX12YXIgVWE9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJkJhKHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9TWEocik7aWYoaSl7dmFyIG49TWEodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1EYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwoZT11LmNhbGwodGhpcykpLl9pbnB1dD1udWxsLGUuX2VyckhhbmRsZXI9bmV3IFhjLGUuX3ByZWNlZGVuY2VTdGFjaz1bXSxlLl9wcmVjZWRlbmNlU3RhY2sucHVzaCgwKSxlLl9jdHg9bnVsbCxlLmJ1aWxkUGFyc2VUcmVlcz0hMCxlLl90cmFjZXI9bnVsbCxlLl9wYXJzZUxpc3RlbmVycz1udWxsLGUuX3N5bnRheEVycm9ycz0wLGUuc2V0SW5wdXRTdHJlYW0odCksZX1yZXR1cm4gZT1jLG49W3trZXk6XCJyZXNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuX2lucHV0JiZ0aGlzLl9pbnB1dC5zZWVrKDApLHRoaXMuX2VyckhhbmRsZXIucmVzZXQodGhpcyksdGhpcy5fY3R4PW51bGwsdGhpcy5fc3ludGF4RXJyb3JzPTAsdGhpcy5zZXRUcmFjZSghMSksdGhpcy5fcHJlY2VkZW5jZVN0YWNrPVtdLHRoaXMuX3ByZWNlZGVuY2VTdGFjay5wdXNoKDApLG51bGwhPT10aGlzLl9pbnRlcnAmJnRoaXMuX2ludGVycC5yZXNldCgpfX0se2tleTpcIm1hdGNoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDdXJyZW50VG9rZW4oKTtyZXR1cm4gZS50eXBlPT09dD8odGhpcy5fZXJySGFuZGxlci5yZXBvcnRNYXRjaCh0aGlzKSx0aGlzLmNvbnN1bWUoKSk6KGU9dGhpcy5fZXJySGFuZGxlci5yZWNvdmVySW5saW5lKHRoaXMpLHRoaXMuYnVpbGRQYXJzZVRyZWVzJiYtMT09PWUudG9rZW5JbmRleCYmdGhpcy5fY3R4LmFkZEVycm9yTm9kZShlKSksZX19LHtrZXk6XCJtYXRjaFdpbGRjYXJkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEN1cnJlbnRUb2tlbigpO3JldHVybiB0LnR5cGU+MD8odGhpcy5fZXJySGFuZGxlci5yZXBvcnRNYXRjaCh0aGlzKSx0aGlzLmNvbnN1bWUoKSk6KHQ9dGhpcy5fZXJySGFuZGxlci5yZWNvdmVySW5saW5lKHRoaXMpLHRoaXMuYnVpbGRQYXJzZVRyZWVzJiYtMT09PXQudG9rZW5JbmRleCYmdGhpcy5fY3R4LmFkZEVycm9yTm9kZSh0KSksdH19LHtrZXk6XCJnZXRQYXJzZUxpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhcnNlTGlzdGVuZXJzfHxbXX19LHtrZXk6XCJhZGRQYXJzZUxpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYobnVsbD09PXQpdGhyb3dcImxpc3RlbmVyXCI7bnVsbD09PXRoaXMuX3BhcnNlTGlzdGVuZXJzJiYodGhpcy5fcGFyc2VMaXN0ZW5lcnM9W10pLHRoaXMuX3BhcnNlTGlzdGVuZXJzLnB1c2godCl9fSx7a2V5OlwicmVtb3ZlUGFyc2VMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGwhPT10aGlzLl9wYXJzZUxpc3RlbmVycyl7dmFyIGU9dGhpcy5fcGFyc2VMaXN0ZW5lcnMuaW5kZXhPZih0KTtlPj0wJiZ0aGlzLl9wYXJzZUxpc3RlbmVycy5zcGxpY2UoZSwxKSwwPT09dGhpcy5fcGFyc2VMaXN0ZW5lcnMubGVuZ3RoJiYodGhpcy5fcGFyc2VMaXN0ZW5lcnM9bnVsbCl9fX0se2tleTpcInJlbW92ZVBhcnNlTGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9wYXJzZUxpc3RlbmVycz1udWxsfX0se2tleTpcInRyaWdnZXJFbnRlclJ1bGVFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3BhcnNlTGlzdGVuZXJzKXt2YXIgdD10aGlzLl9jdHg7dGhpcy5fcGFyc2VMaXN0ZW5lcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5lbnRlckV2ZXJ5UnVsZSh0KSx0LmVudGVyUnVsZShlKX0pKX19fSx7a2V5OlwidHJpZ2dlckV4aXRSdWxlRXZlbnRcIix2YWx1ZTpmdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLl9wYXJzZUxpc3RlbmVycyl7dmFyIHQ9dGhpcy5fY3R4O3RoaXMuX3BhcnNlTGlzdGVuZXJzLnNsaWNlKDApLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmV4aXRSdWxlKGUpLGUuZXhpdEV2ZXJ5UnVsZSh0KX0pKX19fSx7a2V5OlwiZ2V0VG9rZW5GYWN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQudG9rZW5Tb3VyY2UuX2ZhY3Rvcnl9fSx7a2V5Olwic2V0VG9rZW5GYWN0b3J5XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5faW5wdXQudG9rZW5Tb3VyY2UuX2ZhY3Rvcnk9dH19LHtrZXk6XCJnZXRBVE5XaXRoQnlwYXNzQWx0c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTZXJpYWxpemVkQVROKCk7aWYobnVsbD09PXQpdGhyb3dcIlRoZSBjdXJyZW50IHBhcnNlciBkb2VzIG5vdCBzdXBwb3J0IGFuIEFUTiB3aXRoIGJ5cGFzcyBhbHRlcm5hdGl2ZXMuXCI7dmFyIGU9dGhpcy5ieXBhc3NBbHRzQXRuQ2FjaGVbdF07aWYobnVsbD09PWUpe3ZhciBuPW5ldyAkcjtuLmdlbmVyYXRlUnVsZUJ5cGFzc1RyYW5zaXRpb25zPSEwLGU9bmV3IEhvKG4pLmRlc2VyaWFsaXplKHQpLHRoaXMuYnlwYXNzQWx0c0F0bkNhY2hlW3RdPWV9cmV0dXJuIGV9fSx7a2V5OlwiZ2V0SW5wdXRTdHJlYW1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRva2VuU3RyZWFtKCl9fSx7a2V5Olwic2V0SW5wdXRTdHJlYW1cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNldFRva2VuU3RyZWFtKHQpfX0se2tleTpcImdldFRva2VuU3RyZWFtXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXR9fSx7a2V5Olwic2V0VG9rZW5TdHJlYW1cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dD1udWxsLHRoaXMucmVzZXQoKSx0aGlzLl9pbnB1dD10fX0se2tleTpcInN5bnRheEVycm9yc0NvdW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bnRheEVycm9yc319LHtrZXk6XCJnZXRDdXJyZW50VG9rZW5cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dC5MVCgxKX19LHtrZXk6XCJub3RpZnlFcnJvckxpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtuPW58fG51bGwsbnVsbD09PShlPWV8fG51bGwpJiYoZT10aGlzLmdldEN1cnJlbnRUb2tlbigpKSx0aGlzLl9zeW50YXhFcnJvcnMrPTE7dmFyIHI9ZS5saW5lLG89ZS5jb2x1bW47dGhpcy5nZXRFcnJvckxpc3RlbmVyRGlzcGF0Y2goKS5zeW50YXhFcnJvcih0aGlzLGUscixvLHQsbil9fSx7a2V5OlwiY29uc3VtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRDdXJyZW50VG9rZW4oKTt0LnR5cGUhPT1vLkVPRiYmdGhpcy5nZXRJbnB1dFN0cmVhbSgpLmNvbnN1bWUoKTt2YXIgZSxuPW51bGwhPT10aGlzLl9wYXJzZUxpc3RlbmVycyYmdGhpcy5fcGFyc2VMaXN0ZW5lcnMubGVuZ3RoPjA7cmV0dXJuKHRoaXMuYnVpbGRQYXJzZVRyZWVzfHxuKSYmKChlPXRoaXMuX2VyckhhbmRsZXIuaW5FcnJvclJlY292ZXJ5TW9kZSh0aGlzKT90aGlzLl9jdHguYWRkRXJyb3JOb2RlKHQpOnRoaXMuX2N0eC5hZGRUb2tlbk5vZGUodCkpLmludm9raW5nU3RhdGU9dGhpcy5zdGF0ZSxuJiZ0aGlzLl9wYXJzZUxpc3RlbmVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtlIGluc3RhbmNlb2YgV3R8fHZvaWQgMCE9PWUuaXNFcnJvck5vZGUmJmUuaXNFcnJvck5vZGUoKT90LnZpc2l0RXJyb3JOb2RlKGUpOmUgaW5zdGFuY2VvZiBIdCYmdC52aXNpdFRlcm1pbmFsKGUpfSkpKSx0fX0se2tleTpcImFkZENvbnRleHRUb1BhcnNlVHJlZVwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuX2N0eC5wYXJlbnRDdHgmJnRoaXMuX2N0eC5wYXJlbnRDdHguYWRkQ2hpbGQodGhpcy5fY3R4KX19LHtrZXk6XCJlbnRlclJ1bGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5zdGF0ZT1lLHRoaXMuX2N0eD10LHRoaXMuX2N0eC5zdGFydD10aGlzLl9pbnB1dC5MVCgxKSx0aGlzLmJ1aWxkUGFyc2VUcmVlcyYmdGhpcy5hZGRDb250ZXh0VG9QYXJzZVRyZWUoKSx0aGlzLnRyaWdnZXJFbnRlclJ1bGVFdmVudCgpfX0se2tleTpcImV4aXRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jdHguc3RvcD10aGlzLl9pbnB1dC5MVCgtMSksdGhpcy50cmlnZ2VyRXhpdFJ1bGVFdmVudCgpLHRoaXMuc3RhdGU9dGhpcy5fY3R4Lmludm9raW5nU3RhdGUsdGhpcy5fY3R4PXRoaXMuX2N0eC5wYXJlbnRDdHh9fSx7a2V5OlwiZW50ZXJPdXRlckFsdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5zZXRBbHROdW1iZXIoZSksdGhpcy5idWlsZFBhcnNlVHJlZXMmJnRoaXMuX2N0eCE9PXQmJm51bGwhPT10aGlzLl9jdHgucGFyZW50Q3R4JiYodGhpcy5fY3R4LnBhcmVudEN0eC5yZW1vdmVMYXN0Q2hpbGQoKSx0aGlzLl9jdHgucGFyZW50Q3R4LmFkZENoaWxkKHQpKSx0aGlzLl9jdHg9dH19LHtrZXk6XCJnZXRQcmVjZWRlbmNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3ByZWNlZGVuY2VTdGFjay5sZW5ndGg/LTE6dGhpcy5fcHJlY2VkZW5jZVN0YWNrW3RoaXMuX3ByZWNlZGVuY2VTdGFjay5sZW5ndGgtMV19fSx7a2V5OlwiZW50ZXJSZWN1cnNpb25SdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7dGhpcy5zdGF0ZT1lLHRoaXMuX3ByZWNlZGVuY2VTdGFjay5wdXNoKHIpLHRoaXMuX2N0eD10LHRoaXMuX2N0eC5zdGFydD10aGlzLl9pbnB1dC5MVCgxKSx0aGlzLnRyaWdnZXJFbnRlclJ1bGVFdmVudCgpfX0se2tleTpcInB1c2hOZXdSZWN1cnNpb25Db250ZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2N0eDtyLnBhcmVudEN0eD10LHIuaW52b2tpbmdTdGF0ZT1lLHIuc3RvcD10aGlzLl9pbnB1dC5MVCgtMSksdGhpcy5fY3R4PXQsdGhpcy5fY3R4LnN0YXJ0PXIuc3RhcnQsdGhpcy5idWlsZFBhcnNlVHJlZXMmJnRoaXMuX2N0eC5hZGRDaGlsZChyKSx0aGlzLnRyaWdnZXJFbnRlclJ1bGVFdmVudCgpfX0se2tleTpcInVucm9sbFJlY3Vyc2lvbkNvbnRleHRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5fcHJlY2VkZW5jZVN0YWNrLnBvcCgpLHRoaXMuX2N0eC5zdG9wPXRoaXMuX2lucHV0LkxUKC0xKTt2YXIgZT10aGlzLl9jdHgsbj10aGlzLmdldFBhcnNlTGlzdGVuZXJzKCk7aWYobnVsbCE9PW4mJm4ubGVuZ3RoPjApZm9yKDt0aGlzLl9jdHghPT10Oyl0aGlzLnRyaWdnZXJFeGl0UnVsZUV2ZW50KCksdGhpcy5fY3R4PXRoaXMuX2N0eC5wYXJlbnRDdHg7ZWxzZSB0aGlzLl9jdHg9dDtlLnBhcmVudEN0eD10LHRoaXMuYnVpbGRQYXJzZVRyZWVzJiZudWxsIT09dCYmdC5hZGRDaGlsZChlKX19LHtrZXk6XCJnZXRJbnZva2luZ0NvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fY3R4O251bGwhPT1lOyl7aWYoZS5ydWxlSW5kZXg9PT10KXJldHVybiBlO2U9ZS5wYXJlbnRDdHh9cmV0dXJuIG51bGx9fSx7a2V5OlwicHJlY3ByZWRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiBlPj10aGlzLl9wcmVjZWRlbmNlU3RhY2tbdGhpcy5fcHJlY2VkZW5jZVN0YWNrLmxlbmd0aC0xXX19LHtrZXk6XCJpbkNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hMX19LHtrZXk6XCJpc0V4cGVjdGVkVG9rZW5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pbnRlcnAuYXRuLG49dGhpcy5fY3R4LHI9ZS5zdGF0ZXNbdGhpcy5zdGF0ZV0saT1lLm5leHRUb2tlbnMocik7aWYoaS5jb250YWlucyh0KSlyZXR1cm4hMDtpZighaS5jb250YWlucyhvLkVQU0lMT04pKXJldHVybiExO2Zvcig7bnVsbCE9PW4mJm4uaW52b2tpbmdTdGF0ZT49MCYmaS5jb250YWlucyhvLkVQU0lMT04pOyl7dmFyIHU9ZS5zdGF0ZXNbbi5pbnZva2luZ1N0YXRlXS50cmFuc2l0aW9uc1swXTtpZigoaT1lLm5leHRUb2tlbnModS5mb2xsb3dTdGF0ZSkpLmNvbnRhaW5zKHQpKXJldHVybiEwO249bi5wYXJlbnRDdHh9cmV0dXJuISghaS5jb250YWlucyhvLkVQU0lMT04pfHx0IT09by5FT0YpfX0se2tleTpcImdldEV4cGVjdGVkVG9rZW5zXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJwLmF0bi5nZXRFeHBlY3RlZFRva2Vucyh0aGlzLnN0YXRlLHRoaXMuX2N0eCl9fSx7a2V5OlwiZ2V0RXhwZWN0ZWRUb2tlbnNXaXRoaW5DdXJyZW50UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJwLmF0bixlPXQuc3RhdGVzW3RoaXMuc3RhdGVdO3JldHVybiB0Lm5leHRUb2tlbnMoZSl9fSx7a2V5OlwiZ2V0UnVsZUluZGV4XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRSdWxlSW5kZXhNYXAoKVt0XTtyZXR1cm4gbnVsbCE9PWU/ZTotMX19LHtrZXk6XCJnZXRSdWxlSW52b2NhdGlvblN0YWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7bnVsbD09PSh0PXR8fG51bGwpJiYodD10aGlzLl9jdHgpO2Zvcih2YXIgZT1bXTtudWxsIT09dDspe3ZhciBuPXQucnVsZUluZGV4O248MD9lLnB1c2goXCJuL2FcIik6ZS5wdXNoKHRoaXMucnVsZU5hbWVzW25dKSx0PXQucGFyZW50Q3R4fXJldHVybiBlfX0se2tleTpcImdldERGQVN0cmluZ3NcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcnAuZGVjaXNpb25Ub0RGQS50b1N0cmluZygpfX0se2tleTpcImR1bXBERkFcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0hMSxlPTA7ZTx0aGlzLl9pbnRlcnAuZGVjaXNpb25Ub0RGQS5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLl9pbnRlcnAuZGVjaXNpb25Ub0RGQVtlXTtuLnN0YXRlcy5sZW5ndGg+MCYmKHQmJmNvbnNvbGUubG9nKCksdGhpcy5wcmludGVyLnByaW50bG4oXCJEZWNpc2lvbiBcIituLmRlY2lzaW9uK1wiOlwiKSx0aGlzLnByaW50ZXIucHJpbnQobi50b1N0cmluZyh0aGlzLmxpdGVyYWxOYW1lcyx0aGlzLnN5bWJvbGljTmFtZXMpKSx0PSEwKX19fSx7a2V5OlwiZ2V0U291cmNlTmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0LnNvdXJjZU5hbWV9fSx7a2V5Olwic2V0VHJhY2VcIix2YWx1ZTpmdW5jdGlvbih0KXt0PyhudWxsIT09dGhpcy5fdHJhY2VyJiZ0aGlzLnJlbW92ZVBhcnNlTGlzdGVuZXIodGhpcy5fdHJhY2VyKSx0aGlzLl90cmFjZXI9bmV3IExhKHRoaXMpLHRoaXMuYWRkUGFyc2VMaXN0ZW5lcih0aGlzLl90cmFjZXIpKToodGhpcy5yZW1vdmVQYXJzZUxpc3RlbmVyKHRoaXMuX3RyYWNlciksdGhpcy5fdHJhY2VyPW51bGwpfX1dLG4mJkZhKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30oYWkpO2Z1bmN0aW9uIFZhKHQpe3JldHVybiBWYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxWYSh0KX1mdW5jdGlvbiB6YSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09VmEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09VmEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09VmEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIHFhKHQsZSl7cmV0dXJuIHFhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scWEodCxlKX1mdW5jdGlvbiBIYSh0KXtyZXR1cm4gSGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LEhhKHQpfVVhLmJ5cGFzc0FsdHNBdG5DYWNoZT17fTt2YXIgS2E9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJnFhKHQsZSl9KGMsdCk7dmFyIGUsbixyLGksdT0ocj1jLGk9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9SGEocik7aWYoaSl7dmFyIG49SGEodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1WYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIGModCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxjKSwoZT11LmNhbGwodGhpcykpLnBhcmVudEN0eD1udWxsLGUuc3ltYm9sPXQsZX1yZXR1cm4gZT1jLChuPVt7a2V5OlwiZ2V0Q2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH19LHtrZXk6XCJnZXRTeW1ib2xcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN5bWJvbH19LHtrZXk6XCJnZXRQYXJlbnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudEN0eH19LHtrZXk6XCJnZXRQYXlsb2FkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zeW1ib2x9fSx7a2V5OlwiZ2V0U291cmNlSW50ZXJ2YWxcIix2YWx1ZTpmdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLnN5bWJvbClyZXR1cm4gQi5JTlZBTElEX0lOVEVSVkFMO3ZhciB0PXRoaXMuc3ltYm9sLnRva2VuSW5kZXg7cmV0dXJuIG5ldyBCKHQsdCl9fSx7a2V5OlwiZ2V0Q2hpbGRDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7a2V5OlwiYWNjZXB0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXRUZXJtaW5hbCh0aGlzKX19LHtrZXk6XCJnZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zeW1ib2wudGV4dH19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3ltYm9sLnR5cGU9PT1vLkVPRj9cIjxFT0Y+XCI6dGhpcy5zeW1ib2wudGV4dH19XSkmJnphKGUucHJvdG90eXBlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksY30oSHQpO2Z1bmN0aW9uIFlhKHQpe3JldHVybiBZYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxZYSh0KX1mdW5jdGlvbiBHYSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwodm9pZCAwLG89ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09WWEodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09WWEocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHIua2V5KSxcInN5bWJvbFwiPT09WWEobyk/bzpTdHJpbmcobykpLHIpfXZhciBvfWZ1bmN0aW9uIFdhKHQsZSl7cmV0dXJuIFdhPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sV2EodCxlKX1mdW5jdGlvbiBYYSh0KXtyZXR1cm4gWGE9T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCl9LFhhKHQpfXZhciAkYT1mdW5jdGlvbih0KXshZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlJiZlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmV2EodCxlKX0odSx0KTt2YXIgZSxuLHIsbyxpPShyPXUsbz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1YYShyKTtpZihvKXt2YXIgbj1YYSh0aGlzKS5jb25zdHJ1Y3Rvcjt0PVJlZmxlY3QuY29uc3RydWN0KGUsYXJndW1lbnRzLG4pfWVsc2UgdD1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihlJiYoXCJvYmplY3RcIj09PVlhKGUpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSlyZXR1cm4gZTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpfSh0aGlzLHQpfSk7ZnVuY3Rpb24gdSh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLGkuY2FsbCh0aGlzLHQpfXJldHVybiBlPXUsKG49W3trZXk6XCJpc0Vycm9yTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx7a2V5OlwiYWNjZXB0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzaXRFcnJvck5vZGUodGhpcyl9fV0pJiZHYShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KEthKTtmdW5jdGlvbiBKYSh0KXtyZXR1cm4gSmE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sSmEodCl9ZnVuY3Rpb24gUWEodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsKHZvaWQgMCxvPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PUphKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgbj10W1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKHQsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9PUphKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKHQpfShyLmtleSksXCJzeW1ib2xcIj09PUphKG8pP286U3RyaW5nKG8pKSxyKX12YXIgb31mdW5jdGlvbiBaYSh0LGUpe3JldHVybiBaYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LFphKHQsZSl9ZnVuY3Rpb24gdGwodCl7cmV0dXJuIHRsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSx0bCh0KX12YXIgZWw9ZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLGUmJlphKHQsZSl9KHUsdCk7dmFyIGUsbixyLG8saT0ocj11LG89ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9dGwocik7aWYobyl7dmFyIG49dGwodGhpcykuY29uc3RydWN0b3I7dD1SZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyxuKX1lbHNlIHQ9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT1KYShlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyx0KX0pO2Z1bmN0aW9uIHUodCxlKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHUpLChuPWkuY2FsbCh0aGlzLHQsZSkpLmNoaWxkcmVuPW51bGwsbi5zdGFydD1udWxsLG4uc3RvcD1udWxsLG4uZXhjZXB0aW9uPW51bGwsbn1yZXR1cm4gZT11LG49W3trZXk6XCJjb3B5RnJvbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucGFyZW50Q3R4PXQucGFyZW50Q3R4LHRoaXMuaW52b2tpbmdTdGF0ZT10Lmludm9raW5nU3RhdGUsdGhpcy5jaGlsZHJlbj1udWxsLHRoaXMuc3RhcnQ9dC5zdGFydCx0aGlzLnN0b3A9dC5zdG9wLHQuY2hpbGRyZW4mJih0aGlzLmNoaWxkcmVuPVtdLHQuY2hpbGRyZW4ubWFwKChmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgJGEmJih0aGlzLmNoaWxkcmVuLnB1c2godCksdC5wYXJlbnRDdHg9dGhpcyl9KSx0aGlzKSl9fSx7a2V5OlwiZW50ZXJSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImV4aXRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7fX0se2tleTpcImFkZENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10aGlzLmNoaWxkcmVuJiYodGhpcy5jaGlsZHJlbj1bXSksdGhpcy5jaGlsZHJlbi5wdXNoKHQpLHR9fSx7a2V5OlwicmVtb3ZlTGFzdENoaWxkXCIsdmFsdWU6ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5jaGlsZHJlbiYmdGhpcy5jaGlsZHJlbi5wb3AoKX19LHtrZXk6XCJhZGRUb2tlbk5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgS2EodCk7cmV0dXJuIHRoaXMuYWRkQ2hpbGQoZSksZS5wYXJlbnRDdHg9dGhpcyxlfX0se2tleTpcImFkZEVycm9yTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyAkYSh0KTtyZXR1cm4gdGhpcy5hZGRDaGlsZChlKSxlLnBhcmVudEN0eD10aGlzLGV9fSx7a2V5OlwiZ2V0Q2hpbGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKGU9ZXx8bnVsbCxudWxsPT09dGhpcy5jaGlsZHJlbnx8dDwwfHx0Pj10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4gbnVsbDtpZihudWxsPT09ZSlyZXR1cm4gdGhpcy5jaGlsZHJlblt0XTtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltuXTtpZihyIGluc3RhbmNlb2YgZSl7aWYoMD09PXQpcmV0dXJuIHI7dC09MX19cmV0dXJuIG51bGx9fSx7a2V5OlwiZ2V0VG9rZW5cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKG51bGw9PT10aGlzLmNoaWxkcmVufHxlPDB8fGU+PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgcj10aGlzLmNoaWxkcmVuW25dO2lmKHIgaW5zdGFuY2VvZiBIdCYmci5zeW1ib2wudHlwZT09PXQpe2lmKDA9PT1lKXJldHVybiByO2UtPTF9fXJldHVybiBudWxsfX0se2tleTpcImdldFRva2Vuc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10aGlzLmNoaWxkcmVuKXJldHVybltdO2Zvcih2YXIgZT1bXSxuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bbl07ciBpbnN0YW5jZW9mIEh0JiZyLnN5bWJvbC50eXBlPT09dCYmZS5wdXNoKHIpfXJldHVybiBlfX0se2tleTpcImdldFR5cGVkUnVsZUNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmdldENoaWxkKGUsdCl9fSx7a2V5OlwiZ2V0VHlwZWRSdWxlQ29udGV4dHNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5jaGlsZHJlbilyZXR1cm5bXTtmb3IodmFyIGU9W10sbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgcj10aGlzLmNoaWxkcmVuW25dO3IgaW5zdGFuY2VvZiB0JiZlLnB1c2gocil9cmV0dXJuIGV9fSx7a2V5OlwiZ2V0Q2hpbGRDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLmNoaWxkcmVuPzA6dGhpcy5jaGlsZHJlbi5sZW5ndGh9fSx7a2V5OlwiZ2V0U291cmNlSW50ZXJ2YWxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5zdGFydHx8bnVsbD09PXRoaXMuc3RvcD9CLklOVkFMSURfSU5URVJWQUw6bmV3IEIodGhpcy5zdGFydC50b2tlbkluZGV4LHRoaXMuc3RvcC50b2tlbkluZGV4KX19XSxuJiZRYShlLnByb3RvdHlwZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHV9KGVlKTtmdW5jdGlvbiBubCh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlJiZybCh0LGUpfWZ1bmN0aW9uIHJsKHQsZSl7cmV0dXJuIHJsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scmwodCxlKX1mdW5jdGlvbiBvbCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLHI9aWwodCk7aWYoZSl7dmFyIG89aWwodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChyLGFyZ3VtZW50cyxvKX1lbHNlIG49ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZSYmKFwib2JqZWN0XCI9PT11bChlKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpcmV0dXJuIGU7aWYodm9pZCAwIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fSh0KX0odGhpcyxuKX19ZnVuY3Rpb24gaWwodCl7cmV0dXJuIGlsPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxpbCh0KX1mdW5jdGlvbiB1bCh0KXtyZXR1cm4gdWw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sdWwodCl9ZnVuY3Rpb24gY2wodCxlKXt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZ0W1N5bWJvbC5pdGVyYXRvcl18fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KHQpfHwobj1mdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBhbCh0LGUpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbSh0KTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/YWwodCxlKTp2b2lkIDB9fSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7biYmKHQ9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbcisrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIGksdT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1uLm5leHQoKTtyZXR1cm4gdT10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXtjPSEwLGk9dH0sZjpmdW5jdGlvbigpe3RyeXt1fHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19fX1mdW5jdGlvbiBhbCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KGUpO248ZTtuKyspcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIGxsKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBzbCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxwbChyLmtleSkscil9fWZ1bmN0aW9uIGZsKHQsZSxuKXtyZXR1cm4gZSYmc2wodC5wcm90b3R5cGUsZSksbiYmc2wodCxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gcGwodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtpZihcIm9iamVjdFwiIT09dWwodCl8fG51bGw9PT10KXJldHVybiB0O3ZhciBuPXRbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgcj1uLmNhbGwodCxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT09dWwocikpcmV0dXJuIHI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcodCl9KHQpO3JldHVyblwic3ltYm9sXCI9PT11bChlKT9lOlN0cmluZyhlKX1lZS5FTVBUWT1uZXcgZWw7dmFyIHlsLGhsLGJsLHZsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtsbCh0aGlzLHQpLHRoaXMudG9rZW5zPWUsdGhpcy5wcm9ncmFtcz1uZXcgTWFwfXJldHVybiBmbCh0LFt7a2V5OlwiZ2V0VG9rZW5TdHJlYW1cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRva2Vuc319LHtrZXk6XCJpbnNlcnRBZnRlclwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHIsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dC5ERUZBVUxUX1BST0dSQU1fTkFNRTtyPVwibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS50b2tlbkluZGV4O3ZhciBpPXRoaXMuZ2V0UHJvZ3JhbShvKSx1PW5ldyBnbCh0aGlzLnRva2VucyxyLGkubGVuZ3RoLG4pO2kucHVzaCh1KX19LHtrZXk6XCJpbnNlcnRCZWZvcmVcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciByLG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQuREVGQVVMVF9QUk9HUkFNX05BTUU7cj1cIm51bWJlclwiPT10eXBlb2YgZT9lOmUudG9rZW5JbmRleDt2YXIgaT10aGlzLmdldFByb2dyYW0obyksdT1uZXcgbWwodGhpcy50b2tlbnMscixpLmxlbmd0aCxuKTtpLnB1c2godSl9fSx7a2V5OlwicmVwbGFjZVNpbmdsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQuREVGQVVMVF9QUk9HUkFNX05BTUU7dGhpcy5yZXBsYWNlKGUsZSxuLHIpfX0se2tleTpcInJlcGxhY2VcIix2YWx1ZTpmdW5jdGlvbihlLG4scil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnQuREVGQVVMVF9QUk9HUkFNX05BTUU7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPWUudG9rZW5JbmRleCksXCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPW4udG9rZW5JbmRleCksZT5ufHxlPDB8fG48MHx8bj49dGhpcy50b2tlbnMuc2l6ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInJlcGxhY2U6IHJhbmdlIGludmFsaWQ6IFwiLmNvbmNhdChlLFwiLi5cIikuY29uY2F0KG4sXCIoc2l6ZT1cIikuY29uY2F0KHRoaXMudG9rZW5zLnNpemUsXCIpXCIpKTt2YXIgaT10aGlzLmdldFByb2dyYW0obyksdT1uZXcgU2wodGhpcy50b2tlbnMsZSxuLGkubGVuZ3RoLHIpO2kucHVzaCh1KX19LHtrZXk6XCJkZWxldGVcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0LkRFRkFVTFRfUFJPR1JBTV9OQU1FO3ZvaWQgMD09PW4mJihuPWUpLHRoaXMucmVwbGFjZShlLG4sbnVsbCxyKX19LHtrZXk6XCJnZXRQcm9ncmFtXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9ncmFtcy5nZXQodCk7cmV0dXJuIG51bGw9PWUmJihlPXRoaXMuaW5pdGlhbGl6ZVByb2dyYW0odCkpLGV9fSx7a2V5OlwiaW5pdGlhbGl6ZVByb2dyYW1cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5wcm9ncmFtcy5zZXQodCxlKSxlfX0se2tleTpcImdldFRleHRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbixyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0LkRFRkFVTFRfUFJPR1JBTV9OQU1FO249ZSBpbnN0YW5jZW9mIEI/ZTpuZXcgQigwLHRoaXMudG9rZW5zLnNpemUtMSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihyPWUpO3ZhciBpPXRoaXMucHJvZ3JhbXMuZ2V0KHIpLHU9bi5zdGFydCxjPW4uc3RvcDtpZihjPnRoaXMudG9rZW5zLnNpemUtMSYmKGM9dGhpcy50b2tlbnMuc2l6ZS0xKSx1PDAmJih1PTApLG51bGw9PWl8fDA9PT1pLmxlbmd0aClyZXR1cm4gdGhpcy50b2tlbnMuZ2V0VGV4dChuZXcgQih1LGMpKTtmb3IodmFyIGE9W10sbD10aGlzLnJlZHVjZVRvU2luZ2xlT3BlcmF0aW9uUGVySW5kZXgoaSkscz11O3M8PWMmJnM8dGhpcy50b2tlbnMuc2l6ZTspe3ZhciBmPWwuZ2V0KHMpO2wuZGVsZXRlKHMpO3ZhciBwPXRoaXMudG9rZW5zLmdldChzKTtudWxsPT1mPyhwLnR5cGUhPT1vLkVPRiYmYS5wdXNoKFN0cmluZyhwLnRleHQpKSxzKyspOnM9Zi5leGVjdXRlKGEpfWlmKGM9PT10aGlzLnRva2Vucy5zaXplLTEpe3ZhciB5LGg9Y2wobC52YWx1ZXMoKSk7dHJ5e2ZvcihoLnMoKTshKHk9aC5uKCkpLmRvbmU7KXt2YXIgYj15LnZhbHVlO2IuaW5kZXg+PXRoaXMudG9rZW5zLnNpemUtMSYmYS5wdXNoKGIudGV4dC50b1N0cmluZygpKX19Y2F0Y2godCl7aC5lKHQpfWZpbmFsbHl7aC5mKCl9fXJldHVybiBhLmpvaW4oXCJcIil9fSx7a2V5OlwicmVkdWNlVG9TaW5nbGVPcGVyYXRpb25QZXJJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10W2VdO2lmKG51bGwhPW4mJm4gaW5zdGFuY2VvZiBTbCl7dmFyIHIsbz1uLGk9Y2wodGhpcy5nZXRLaW5kT2ZPcHModCxtbCxlKSk7dHJ5e2ZvcihpLnMoKTshKHI9aS5uKCkpLmRvbmU7KXt2YXIgdT1yLnZhbHVlO3UuaW5kZXg9PT1vLmluZGV4Pyh0W3UuaW5zdHJ1Y3Rpb25JbmRleF09dm9pZCAwLG8udGV4dD11LnRleHQudG9TdHJpbmcoKSsobnVsbCE9by50ZXh0P28udGV4dC50b1N0cmluZygpOlwiXCIpKTp1LmluZGV4Pm8uaW5kZXgmJnUuaW5kZXg8PW8ubGFzdEluZGV4JiYodFt1Lmluc3RydWN0aW9uSW5kZXhdPXZvaWQgMCl9fWNhdGNoKHQpe2kuZSh0KX1maW5hbGx5e2kuZigpfXZhciBjLGE9Y2wodGhpcy5nZXRLaW5kT2ZPcHModCxTbCxlKSk7dHJ5e2ZvcihhLnMoKTshKGM9YS5uKCkpLmRvbmU7KXt2YXIgbD1jLnZhbHVlO2lmKGwuaW5kZXg+PW8uaW5kZXgmJmwubGFzdEluZGV4PD1vLmxhc3RJbmRleCl0W2wuaW5zdHJ1Y3Rpb25JbmRleF09dm9pZCAwO2Vsc2V7dmFyIHM9bC5sYXN0SW5kZXg8by5pbmRleHx8bC5pbmRleD5vLmxhc3RJbmRleDtpZihudWxsIT1sLnRleHR8fG51bGwhPW8udGV4dHx8cyl7aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwicmVwbGFjZSBvcCBib3VuZGFyaWVzIG9mIFwiLmNvbmNhdChvLFwiIG92ZXJsYXAgd2l0aCBwcmV2aW91cyBcIikuY29uY2F0KGwpKX1lbHNlIHRbbC5pbnN0cnVjdGlvbkluZGV4XT12b2lkIDAsby5pbmRleD1NYXRoLm1pbihsLmluZGV4LG8uaW5kZXgpLG8ubGFzdEluZGV4PU1hdGgubWF4KGwubGFzdEluZGV4LG8ubGFzdEluZGV4KX19fWNhdGNoKHQpe2EuZSh0KX1maW5hbGx5e2EuZigpfX19Zm9yKHZhciBmPTA7Zjx0Lmxlbmd0aDtmKyspe3ZhciBwPXRbZl07aWYobnVsbCE9cCYmcCBpbnN0YW5jZW9mIG1sKXt2YXIgeSxoPXAsYj1jbCh0aGlzLmdldEtpbmRPZk9wcyh0LG1sLGYpKTt0cnl7Zm9yKGIucygpOyEoeT1iLm4oKSkuZG9uZTspe3ZhciB2PXkudmFsdWU7di5pbmRleD09PWguaW5kZXgmJih2IGluc3RhbmNlb2YgZ2w/KGgudGV4dD10aGlzLmNhdE9wVGV4dCh2LnRleHQsaC50ZXh0KSx0W3YuaW5zdHJ1Y3Rpb25JbmRleF09dm9pZCAwKTp2IGluc3RhbmNlb2YgbWwmJihoLnRleHQ9dGhpcy5jYXRPcFRleHQoaC50ZXh0LHYudGV4dCksdFt2Lmluc3RydWN0aW9uSW5kZXhdPXZvaWQgMCkpfX1jYXRjaCh0KXtiLmUodCl9ZmluYWxseXtiLmYoKX12YXIgZCxtPWNsKHRoaXMuZ2V0S2luZE9mT3BzKHQsU2wsZikpO3RyeXtmb3IobS5zKCk7IShkPW0ubigpKS5kb25lOyl7dmFyIGc9ZC52YWx1ZTtpZihoLmluZGV4IT09Zy5pbmRleCl7aWYoaC5pbmRleD49Zy5pbmRleCYmaC5pbmRleDw9Zy5sYXN0SW5kZXgpdGhyb3cgbmV3IEVycm9yKFwiaW5zZXJ0IG9wIFwiLmNvbmNhdChoLFwiIHdpdGhpbiBib3VuZGFyaWVzIG9mIHByZXZpb3VzIFwiKS5jb25jYXQoZykpfWVsc2UgZy50ZXh0PXRoaXMuY2F0T3BUZXh0KGgudGV4dCxnLnRleHQpLHRbZl09dm9pZCAwfX1jYXRjaCh0KXttLmUodCl9ZmluYWxseXttLmYoKX19fXZhciBTLE89bmV3IE1hcCx3PWNsKHQpO3RyeXtmb3Iody5zKCk7IShTPXcubigpKS5kb25lOyl7dmFyIF89Uy52YWx1ZTtpZihudWxsIT1fKXtpZihudWxsIT1PLmdldChfLmluZGV4KSl0aHJvdyBuZXcgRXJyb3IoXCJzaG91bGQgb25seSBiZSBvbmUgb3AgcGVyIGluZGV4XCIpO08uc2V0KF8uaW5kZXgsXyl9fX1jYXRjaCh0KXt3LmUodCl9ZmluYWxseXt3LmYoKX1yZXR1cm4gT319LHtrZXk6XCJjYXRPcFRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVwiXCIscj1cIlwiO3JldHVybiBudWxsIT10JiYobj10LnRvU3RyaW5nKCkpLG51bGwhPWUmJihyPWUudG9TdHJpbmcoKSksbityfX0se2tleTpcImdldEtpbmRPZk9wc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdC5zbGljZSgwLG4pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQgaW5zdGFuY2VvZiBlfSkpfX1dKSx0fSgpO3lsPXZsLGJsPVwiZGVmYXVsdFwiLChobD1wbChobD1cIkRFRkFVTFRfUFJPR1JBTV9OQU1FXCIpKWluIHlsP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh5bCxobCx7dmFsdWU6YmwsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp5bFtobF09Ymw7dmFyIGRsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scixvKXtsbCh0aGlzLHQpLHRoaXMudG9rZW5zPWUsdGhpcy5pbnN0cnVjdGlvbkluZGV4PXIsdGhpcy5pbmRleD1uLHRoaXMudGV4dD12b2lkIDA9PT1vP1wiXCI6b31yZXR1cm4gZmwodCxbe2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnN0cnVjdG9yLm5hbWUsZT10LmluZGV4T2YoXCIkXCIpO3JldHVyblwiPFwiKyh0PXQuc3Vic3RyaW5nKGUrMSx0Lmxlbmd0aCkpK1wiQFwiK3RoaXMudG9rZW5zLmdldCh0aGlzLmluZGV4KSsnOlwiJyt0aGlzLnRleHQrJ1wiPid9fV0pLHR9KCksbWw9ZnVuY3Rpb24odCl7bmwobix0KTt2YXIgZT1vbChuKTtmdW5jdGlvbiBuKHQscixvLGkpe3JldHVybiBsbCh0aGlzLG4pLGUuY2FsbCh0aGlzLHQscixvLGkpfXJldHVybiBmbChuLFt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRleHQmJnQucHVzaCh0aGlzLnRleHQudG9TdHJpbmcoKSksdGhpcy50b2tlbnMuZ2V0KHRoaXMuaW5kZXgpLnR5cGUhPT1vLkVPRiYmdC5wdXNoKFN0cmluZyh0aGlzLnRva2Vucy5nZXQodGhpcy5pbmRleCkudGV4dCkpLHRoaXMuaW5kZXgrMX19XSksbn0oZGwpLGdsPWZ1bmN0aW9uKHQpe25sKG4sdCk7dmFyIGU9b2wobik7ZnVuY3Rpb24gbih0LHIsbyxpKXtyZXR1cm4gbGwodGhpcyxuKSxlLmNhbGwodGhpcyx0LHIrMSxvLGkpfXJldHVybiBmbChuKX0obWwpLFNsPWZ1bmN0aW9uKHQpe25sKG4sdCk7dmFyIGU9b2wobik7ZnVuY3Rpb24gbih0LHIsbyxpLHUpe3ZhciBjO3JldHVybiBsbCh0aGlzLG4pLChjPWUuY2FsbCh0aGlzLHQscixpLHUpKS5sYXN0SW5kZXg9byxjfXJldHVybiBmbChuLFt7a2V5OlwiZXhlY3V0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRleHQmJnQucHVzaCh0aGlzLnRleHQudG9TdHJpbmcoKSksdGhpcy5sYXN0SW5kZXgrMX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMudGV4dD9cIjxEZWxldGVPcEBcIit0aGlzLnRva2Vucy5nZXQodGhpcy5pbmRleCkrXCIuLlwiK3RoaXMudG9rZW5zLmdldCh0aGlzLmxhc3RJbmRleCkrXCI+XCI6XCI8UmVwbGFjZU9wQFwiK3RoaXMudG9rZW5zLmdldCh0aGlzLmluZGV4KStcIi4uXCIrdGhpcy50b2tlbnMuZ2V0KHRoaXMubGFzdEluZGV4KSsnOlwiJyt0aGlzLnRleHQrJ1wiPid9fV0pLG59KGRsKTtjb25zdCBPbD17YXRuOiR1LGRmYTphYyxjb250ZXh0OmxjLG1pc2M6c2MsdHJlZTpTYyxlcnJvcjplYSxUb2tlbjpvLENvbW1vblRva2VuOnlpLENoYXJTdHJlYW1zOnZhLENoYXJTdHJlYW06YWEsSW5wdXRTdHJlYW06YWEsQ29tbW9uVG9rZW5TdHJlYW06UmEsTGV4ZXI6VWksUGFyc2VyOlVhLFBhcnNlclJ1bGVDb250ZXh0OmVsLEludGVydmFsOkIsSW50ZXJ2YWxTZXQ6VixMTDFBbmFseXplcjpJZSxVdGlsczpkYSxUb2tlblN0cmVhbVJld3JpdGVyOnZsfX0pKCk7dmFyIG89ZXhwb3J0cztmb3IodmFyIGkgaW4gcilvW2ldPXJbaV07ci5fX2VzTW9kdWxlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbnRscjQud2ViLmNqcy5tYXAiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IHsgbG9hZFByaW1hcnlQYWdlIH0gZnJvbSBcIi4vTG9hZFByaW1hcnlQYWdlXCJcbmltcG9ydCB7IGxvYWRFeHByZXNzaW9uc1Rlc3RQYWdlIH0gZnJvbSBcIi4vTG9hZEV4cHJlc3Npb25UZXN0UGFnZVwiXG5pbXBvcnQgeyBsb2FkSW5wdXRQYXJzZVRlc3RQYWdlIH0gZnJvbSBcIi4vTG9hZElucHV0UGFyc2VUZXN0UGFnZVwiXG5pbXBvcnQgeyBsb2FkU29sdmVyUGFnZSB9IGZyb20gXCIuL0xvYWRTb2x2ZXJQYWdlXCJcbmltcG9ydCB7IGxvYWRTaW1wbGlmaWNhdGlvblRlc3RQYWdlIH0gZnJvbSBcIi4vTG9hZFNpbXBsaWZpY2F0aW9uVGVzdFBhZ2VcIlxuXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUG9wdWxhdGUgaHRtbCBlbGVtZW50cyBieSB0aGVpciBjbGFzcy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0uY2xhc3NMaXN0XG5cbiAgICAgICAgaWYgKGNsYXNzZXMuY29udGFpbnMoXCJleHByZXNzaW9uVGVzdFBhZ2VcIikpIHtcbiAgICAgICAgICAgIGxvYWRFeHByZXNzaW9uc1Rlc3RQYWdlKClcbiAgICAgICAgfSBlbHNlIGlmIChjbGFzc2VzLmNvbnRhaW5zKFwicHJpbWFyeUludGVncmF0b3JcIikpIHtcbiAgICAgICAgICAgIGxvYWRQcmltYXJ5UGFnZSgpXG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3Nlcy5jb250YWlucyhcImlucHV0UGFyc2VUZXN0XCIpKSB7XG4gICAgICAgICAgICBsb2FkSW5wdXRQYXJzZVRlc3RQYWdlKClcbiAgICAgICAgfSBlbHNlIGlmIChjbGFzc2VzLmNvbnRhaW5zKFwic29sdmVfaW5fc3RlcHNcIikpIHtcbiAgICAgICAgICAgIGxvYWRTb2x2ZXJQYWdlKClcbiAgICAgICAgfSBlbHNlIGlmIChjbGFzc2VzLmNvbnRhaW5zKFwibWF0aFRlc3RzXCIpKSB7XG4gICAgICAgICAgICBsb2FkU2ltcGxpZmljYXRpb25UZXN0UGFnZSgpXG4gICAgICAgIH1cbiAgICB9LCAxMDApXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=