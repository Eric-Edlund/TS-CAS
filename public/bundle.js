(()=>{var t={4245:t=>{t.exports=function(t){!function(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}(t);var e=function(t){var e=Object.create(null);return{on:function(n,r,o){if("function"!=typeof r)throw new Error("callback is expected to be a function");var i=e[n];return i||(i=e[n]=[]),i.push({callback:r,ctx:o}),t},off:function(n,r){if(void 0===n)return e=Object.create(null),t;if(e[n])if("function"!=typeof r)delete e[n];else for(var o=e[n],i=0;i<o.length;++i)o[i].callback===r&&o.splice(i,1);return t},fire:function(n){var r,o=e[n];if(!o)return t;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var i=0;i<o.length;++i){var s=o[i];s.callback.apply(s.ctx,r)}return t}}}(t);return t.on=e.on,t.off=e.off,t.fire=e.fire,t}},4736:(t,e,n)=>{t.exports=function(t){if("uniqueLinkId"in(t=t||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),t.multigraph=t.uniqueLinkId),void 0===t.multigraph&&(t.multigraph=!1),"function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e,n=new Map,a=new Map,c={},l=0,f=t.multigraph?function(t,e,n){var r=u(t,e),o=c.hasOwnProperty(r);if(o||P(t,e)){o||(c[r]=0);var i="@"+ ++c[r];r=u(t+i,e+i)}return new s(t,e,n,r)}:function(t,e,n){var r=u(t,e),o=a.get(r);return o?(o.data=n,o):new s(t,e,n,r)},p=[],h=T,y=T,d=T,v=T,b={version:20,addNode:S,addLink:function(t,e,n){d();var r=w(t)||S(t),o=w(e)||S(e),s=f(t,e,n),u=a.has(s.id);return a.set(s.id,s),i(r,s),t!==e&&i(o,s),h(s,u?"update":"add"),v(),s},removeLink:function(t,e){return void 0!==e&&(t=P(t,e)),_(t)},removeNode:O,getNode:w,getNodeCount:x,getLinkCount:E,getEdgeCount:E,getLinksCount:E,getNodesCount:x,getLinks:function(t){var e=w(t);return e?e.links:null},forEachNode:j,forEachLinkedNode:function(t,e,r){var o=w(t);if(o&&o.links&&"function"==typeof e)return r?function(t,e,r){for(var o=t.values(),i=o.next();!i.done;){var s=i.value;if(s.fromId===e&&r(n.get(s.toId),s))return!0;i=o.next()}}(o.links,t,e):function(t,e,r){for(var o=t.values(),i=o.next();!i.done;){var s=i.value,u=s.fromId===e?s.toId:s.fromId;if(r(n.get(u),s))return!0;i=o.next()}}(o.links,t,e)},forEachLink:function(t){if("function"==typeof t)for(var e=a.values(),n=e.next();!n.done;){if(t(n.value))return!0;n=e.next()}},beginUpdate:d,endUpdate:v,clear:function(){d(),j((function(t){O(t.id)})),v()},hasLink:P,hasNode:w,getLink:P};return r(b),e=b.on,b.on=function(){return b.beginUpdate=d=R,b.endUpdate=v=k,h=m,y=g,b.on=e,e.apply(b,arguments)},b;function m(t,e){p.push({link:t,changeType:e})}function g(t,e){p.push({node:t,changeType:e})}function S(t,e){if(void 0===t)throw new Error("Invalid node identifier");d();var r=w(t);return r?(r.data=e,y(r,"update")):(r=new o(t,e),y(r,"add")),n.set(t,r),v(),r}function w(t){return n.get(t)}function O(t){var e=w(t);if(!e)return!1;d();var r=e.links;return r&&(r.forEach(_),e.links=null),n.delete(t),y(e,"remove"),v(),!0}function x(){return n.size}function E(){return a.size}function _(t){if(!t)return!1;if(!a.get(t.id))return!1;d(),a.delete(t.id);var e=w(t.fromId),n=w(t.toId);return e&&e.links.delete(t),n&&n.links.delete(t),h(t,"remove"),v(),!0}function P(t,e){if(void 0!==t&&void 0!==e)return a.get(u(t,e))}function T(){}function R(){l+=1}function k(){0==(l-=1)&&p.length>0&&(b.fire("changed",p),p.length=0)}function j(t){if("function"!=typeof t)throw new Error("Function is expected to iterate over graph nodes. You passed "+t);for(var e=n.values(),r=e.next();!r.done;){if(t(r.value))return!0;r=e.next()}}};var r=n(4245);function o(t,e){this.id=t,this.links=null,this.data=e}function i(t,e){t.links?t.links.add(e):t.links=new Set([e])}function s(t,e,n,r){this.fromId=t,this.toId=e,this.data=n,this.id=r}function u(t,e){return t.toString()+"ðŸ‘‰ "+e.toString()}},1039:t=>{function e(t,o){if(!(this instanceof e))return new e(t,o);if(Array.isArray(t)||(o=t,t=[]),o=o||{},this.data=t||[],this.length=this.data.length,this.compare=o.compare||r,this.setNodeId=o.setNodeId||n,this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i);if(o.setNodeId)for(i=0;i<this.length;++i)this.setNodeId(this.data[i],i)}function n(){}function r(t,e){return t-e}t.exports=e,e.prototype={push:function(t){this.data.push(t),this.setNodeId(t,this.length),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this.setNodeId(this.data[0],0),this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},updateItem:function(t){this._down(t),this._up(t)},_up:function(t){for(var e=this.data,n=this.compare,r=this.setNodeId,o=e[t];t>0;){var i=t-1>>1,s=e[i];if(n(o,s)>=0)break;e[t]=s,r(s,t),t=i}e[t]=o,r(o,t)},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,o=e[t],i=this.setNodeId;t<r;){var s=1+(t<<1),u=s+1,a=e[s];if(u<this.length&&n(e[u],a)<0&&(s=u,a=e[u]),n(a,o)>=0)break;e[t]=a,i(a,t),t=s}e[t]=o,i(o,t)}}},4394:(t,e,n)=>{t.exports=function(t,e){var n=(e=e||{}).oriented,i=e.heuristic;i||(i=s.heuristic);var l=e.distance;l||(l=s.distance);var f=o();return{find:function(e,o){var p=t.getNode(e);if(!p)throw new Error("fromId is not defined in this graph: "+e);var h=t.getNode(o);if(!h)throw new Error("toId is not defined in this graph: "+o);if(p===h)return[p];f.reset();var y=n?function(t,e){if(E===u){if(e.fromId===_.node.id)return T(t,e,_)}else if(E===a&&e.toId===_.node.id)return T(t,e,_)}:function(t,e){return T(t,e,_)},d=new Map,v=new r({compare:s.compareFScore,setNodeId:s.setHeapIndex}),b=new r({compare:s.compareFScore,setNodeId:s.setHeapIndex}),m=f.createNewState(p);d.set(e,m),m.fScore=i(p,h),m.distanceToSource=0,v.push(m),m.open=u;var g=f.createNewState(h);g.fScore=i(h,p),g.distanceToSource=0,b.push(g),g.open=a;for(var S,w,O=Number.POSITIVE_INFINITY,x=v,E=u;v.length>0&&b.length>0;){v.length<b.length?(E=u,x=v):(E=a,x=b);var _=x.pop();if(_.closed=!0,!(_.distanceToSource>O)&&(t.forEachLinkedNode(_.node.id,y),S&&w))return P(S,w)}return c;function P(t,e){for(var n=[],r=t;r;)n.push(r.node),r=r.parent;for(var o=e;o;)n.unshift(o.node),o=o.parent;return n}function T(t,e,n){var r,o=d.get(t.id);if(o||(o=f.createNewState(t),d.set(t.id,o)),!o.closed)if((r=o.open)&&r!==E){var s=o.distanceToSource+n.distanceToSource;s<O&&(S=o,w=n,O=s)}else{var a=n.distanceToSource+l(o.node,n.node,e);if(!(a>=o.distanceToSource)){var c=E===u?h:p,y=a+i(o.node,c);y>=O||(o.fScore=y,0===o.open&&(x.push(o),x.updateItem(o.heapIndex),o.open=E),o.parent=n,o.distanceToSource=a)}}}}}};var r=n(1039),o=n(2492),i=n(4276),s=n(2100),u=1,a=2,c=s.NO_PATH;t.exports.l2=i.l2,t.exports.l1=i.l1},1005:(t,e,n)=>{t.exports=function(t,e){var n=(e=e||{}).oriented,i=e.heuristic;i||(i=s.heuristic);var c=e.distance;c||(c=s.distance);var l=o();return{find:function(e,o){var f=t.getNode(e);if(!f)throw new Error("fromId is not defined in this graph: "+e);var p=t.getNode(o);if(!p)throw new Error("toId is not defined in this graph: "+o);l.reset();var h,y,d,v=new Map,b=new r({compare:s.compareFScore,setNodeId:s.setHeapIndex}),m=l.createNewState(f);for(v.set(e,m),m.fScore=i(f,p),m.distanceToSource=0,b.push(m),m.open=1;b.length>0;){if(y=h=b.pop(),d=p,y.node===d)return a(h);h.closed=!0,t.forEachLinkedNode(h.node.id,g,n)}return u;function g(t,e){var n=v.get(t.id);if(n||(n=l.createNewState(t),v.set(t.id,n)),!n.closed){0===n.open&&(b.push(n),n.open=1);var r=h.distanceToSource+c(t,h.node,e);r>=n.distanceToSource||(n.parent=h,n.distanceToSource=r,n.fScore=r+i(n.node,p),b.updateItem(n.heapIndex))}}}}};var r=n(1039),o=n(2492),i=n(4276),s=n(2100),u=s.NO_PATH;function a(t){for(var e=[t.node],n=t.parent;n;)e.push(n.node),n=n.parent;return e}t.exports.l2=i.l2,t.exports.l1=i.l1},2100:t=>{var e=[];"function"==typeof Object.freeze&&Object.freeze(e),t.exports={heuristic:function(){return 0},distance:function(){return 1},compareFScore:function(t,e){return t.fScore-e.fScore},NO_PATH:e,setHeapIndex:function(t,e){t.heapIndex=e},setH1:function(t,e){t.h1=e},setH2:function(t,e){t.h2=e},compareF1Score:function(t,e){return t.f1-e.f1},compareF2Score:function(t,e){return t.f2-e.f2}}},4276:t=>{t.exports={l2:function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},l1:function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.abs(n)+Math.abs(r)}}},2492:t=>{function e(t){this.node=t,this.parent=null,this.closed=!1,this.open=0,this.distanceToSource=Number.POSITIVE_INFINITY,this.fScore=Number.POSITIVE_INFINITY,this.heapIndex=-1}t.exports=function(){var t=0,n=[];return{createNewState:function(r){var o=n[t];return o?(o.node=r,o.parent=null,o.closed=!1,o.open=0,o.distanceToSource=Number.POSITIVE_INFINITY,o.fScore=Number.POSITIVE_INFINITY,o.heapIndex=-1):(o=new e(r),n[t]=o),t++,o},reset:function(){t=0}}}},9238:(t,e,n)=>{t.exports=function(t,e){var n=(e=e||{}).oriented,o=e.quitFast,a=e.heuristic;a||(a=i.heuristic);var c=e.distance;c||(c=i.distance);var l=s();return{find:function(e,s){var f=t.getNode(e);if(!f)throw new Error("fromId is not defined in this graph: "+e);var p=t.getNode(s);if(!p)throw new Error("toId is not defined in this graph: "+s);l.reset();var h,y=n?function(t,e){if(e.fromId===x.node.id)return _(t,e)}:_,d=n?function(t,e){if(e.toId===x.node.id)return P(t,e)}:P,v=new Map,b=new r({compare:i.compareF1Score,setNodeId:i.setH1}),m=new r({compare:i.compareF2Score,setNodeId:i.setH2}),g=Number.POSITIVE_INFINITY,S=l.createNewState(f);v.set(e,S),S.g1=0;var w=a(f,p);S.f1=w,b.push(S);var O=l.createNewState(p);v.set(s,O),O.g2=0;var x,E=w;for(O.f2=E,m.push(O);m.length&&b.length&&(b.length<m.length?(x=b.pop()).closed||(x.closed=!0,x.f1<g&&x.g1+E-a(f,x.node)<g&&t.forEachLinkedNode(x.node.id,y),b.length>0&&(w=b.peek().f1)):(x=m.pop()).closed||(x.closed=!0,x.f2<g&&x.g2+w-a(x.node,p)<g&&t.forEachLinkedNode(x.node.id,d),m.length>0&&(E=m.peek().f2)),!o||!h););return function(t){if(!t)return u;for(var e=[t.node],n=t.p1;n;)e.push(n.node),n=n.p1;for(var r=t.p2;r;)e.unshift(r.node),r=r.p2;return e}(h);function _(t,e){var n=v.get(t.id);if(n||(n=l.createNewState(t),v.set(t.id,n)),!n.closed){var r=x.g1+c(x.node,t,e);r<n.g1&&(n.g1=r,n.f1=r+a(n.node,p),n.p1=x,n.h1<0?b.push(n):b.updateItem(n.h1));var o=n.g1+n.g2;o<g&&(g=o,h=n)}}function P(t,e){var n=v.get(t.id);if(n||(n=l.createNewState(t),v.set(t.id,n)),!n.closed){var r=x.g2+c(x.node,t,e);r<n.g2&&(n.g2=r,n.f2=r+a(f,n.node),n.p2=x,n.h2<0?m.push(n):m.updateItem(n.h2));var o=n.g1+n.g2;o<g&&(g=o,h=n)}}}}};var r=n(1039),o=n(4276),i=n(2100),s=n(7653),u=i.NO_PATH;t.exports.l2=o.l2,t.exports.l1=o.l1},7653:t=>{function e(t){this.node=t,this.p1=null,this.p2=null,this.closed=!1,this.g1=Number.POSITIVE_INFINITY,this.g2=Number.POSITIVE_INFINITY,this.f1=Number.POSITIVE_INFINITY,this.f2=Number.POSITIVE_INFINITY,this.h1=-1,this.h2=-1}t.exports=function(){var t=0,n=[];return{createNewState:function(r){var o=n[t];return o?(o.node=r,o.p1=null,o.p2=null,o.closed=!1,o.g1=Number.POSITIVE_INFINITY,o.g2=Number.POSITIVE_INFINITY,o.f1=Number.POSITIVE_INFINITY,o.f2=Number.POSITIVE_INFINITY,o.h1=-1,o.h2=-1):(o=new e(r),n[t]=o),t++,o},reset:function(){t=0}}}},4901:(t,e,n)=>{t.exports={aStar:n(1005),aGreedy:n(4394),nba:n(9238)}},9492:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadExpressionsTestPage=void 0;const r=n(2070),o=n(8213),i=n(4955),s=n(9691),u=n(9554),a=n(311);e.loadExpressionsTestPage=function(){const t=document.getElementsByTagName("body")[0];function e(e){const n=document.createElement("p");n.innerText=e,t.append(n)}function n(e){const n=new a.EditableMathView;n.value=e,t.append(n)}e("The sum of a, a, and a"),n((0,r.sum)(r.a,r.a,r.a)),e("Integral of a over b with respect to c"),n(u.Integral.of(s.Fraction.of(r.a,r.b),r.c)),e("Integral of (a over a) over b with respect to c"),n(u.Integral.of(s.Fraction.of(s.Fraction.of(r.a,r.a),r.b),r.c)),e("Integral of ((a over a) over a) over b with respect to c"),n(u.Integral.of(s.Fraction.of(s.Fraction.of(s.Fraction.of(r.a,r.a),r.a),r.b),r.c)),e("Integral of (((a over a) over a) over a) over b with respect to c"),n(u.Integral.of(s.Fraction.of(s.Fraction.of(s.Fraction.of(s.Fraction.of(r.a,r.a),r.a),r.a),r.b),r.c)),e("Integral of ((((a over a) over a) over a) over a) over b with respect to c"),n(u.Integral.of(s.Fraction.of(s.Fraction.of(s.Fraction.of(s.Fraction.of(s.Fraction.of(r.a,r.a),r.a),r.a),r.a),r.b),r.c)),e(""),n((0,r.int)(s.Fraction.of((0,r.sum)((0,r.negative)(r.b),i.Exponent.of((0,r.sum)(r.x,r.a),s.Fraction.of((0,r.num)(1),(0,r.num)(2)))),(0,r.product)((0,r.num)(2),r.a)),r.x)),e("Product of x and y"),n((0,r.product)(r.x,r.y)),e("Product of (x-1), -1 and y"),n((0,r.product)((0,r.sum)(r.x,(0,r.negative)((0,r.num)(1))),(0,r.num)(-1),r.y)),e("Negation of x (Reped as the propduct of -1 and x)"),n((0,r.negative)(r.x)),e("Sum of x and -x"),n((0,r.sum)(r.x,(0,r.negative)(r.x))),e("Sum of -x and x"),n((0,r.sum)((0,r.negative)(r.x),r.x)),e("Derivative of the square of x with respect to x"),n(o.Derivative.of(i.Exponent.of(r.x,(0,r.num)(2)),r.x)),e("Derivative ((x^2) - 2) with respect to x"),n(o.Derivative.of(i.Exponent.of((0,r.sum)(r.x,(0,r.num)(-2)),(0,r.num)(2)),r.x)),e(""),n((0,r.num)(1)),e(""),n((0,r.num)(1)),e(""),n((0,r.num)(1)),e(""),n((0,r.num)(1))}},6138:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadInputParseTestPage=void 0;const r=n(2070),o=n(4955),i=n(1116),s=n(311),u=n(8529);e.loadInputParseTestPage=function(){const t=document.getElementsByTagName("body")[0];function e(t){const e=document.createElement("p");return e.innerText=t,e}function n(t){const e=new s.EditableMathView;return e.value=t,e}function a(r,o=null){t.append(e("Input:       "+r)),null!=o&&t.append(e(o)),t.append(n((0,u.parseExpression)(r)))}function c(r){const o=document.createElement("table");o.style.border="1px solid black",o.style.width="70%";const i=document.createElement("tr");o.appendChild(i);const s=document.createElement("td"),a=document.createElement("td"),c=document.createElement("td");i.appendChild(s),i.appendChild(a),i.appendChild(c),s.style.border="1px solid black",a.style.border="1px solid black",c.style.border="1px solid black",s.appendChild(n(r));const l=e(r.toUnambigiousString());l.style.display="block",l.style.textAlign="center",a.appendChild(l);const f=(0,u.parseExpression)(r.toUnambigiousString());c.appendChild(n(f)),t.append(o),c.style.backgroundColor=r===f?"lightgreen":"red"}t.style.padding="8ch",a("int(x)dx+c"),a("a/bintx"),a("a^b+c","The +c shouldn't be in the exponent"),a("a+b^c"),a("(a+b)^c"),a("-a-b+c"),a("-a+-b+c"),a("a+b+c"),a("-(a+b)"),a("-a(a+b)"),a("a+(b+c)"),a("a-b-c"),a("a*b+c"),a("a/b+c"),a("a/b/c"),a("abx-d"),a("-abx-d"),a("-a-bx-d"),a("abcd"),a("a*b*c*d"),a("ab*cd"),a("int4x+2"),a("int(4x+2)"),a("logx"),a("log(x)"),a("(5/(2x-3)-(3/((2x-3)^2))"),a("(5/(2x-3)-(3/(2x-3)^2)"),t.append(e("In these tests, an unambigious expression is written in the  source code. It is then converted to an unambigious string representation, and then parsed back into an expression. The goal is that this process preserves the expression. This requires 1) expression -> string is unambigious and accurate and 2) the parser is working correctly.")),t.append(e("The first column is assumed to be correct, the middle collumn has the automatically generated string version of the first column, and the last column contains the expression parsed from the second column.")),c((0,r.sum)(r.x,r.y,r.a,r.b,r.c)),c((0,r.sum)(r.x,r.y,(0,r.negative)(r.a),r.b,r.c)),c((0,r.sum)(r.x,r.y,(0,r.negative)(r.a),(0,r.negative)(r.b),r.c)),c((0,r.sum)(r.x,r.y,(0,r.negative)(r.a),r.b,(0,r.negative)(r.c))),c((0,r.sum)(r.a,o.Exponent.of(r.b,r.c))),c(o.Exponent.of((0,r.sum)(r.a,r.b),r.c)),c((0,r.sum)((0,r.negative)(r.a),(0,r.negative)(r.b),r.c)),c((0,r.sum)(r.a,r.b,r.c)),c((0,r.negative)((0,r.sum)(r.a,r.b))),c((0,r.product)((0,r.negative)(r.a),(0,r.sum)(r.a,r.b))),c((0,r.negative)((0,r.product)(r.a,(0,r.sum)(r.a,r.b)))),c((0,r.sum)(r.a,(0,r.sum)(r.b,r.c))),c((0,r.sum)(r.a,(0,r.negative)(r.b),(0,r.negative)(r.c))),c((0,r.sum)((0,r.product)(r.a,r.b),r.c)),c((0,r.sum)((0,r.fraction)(r.a,r.b),r.c)),c((0,r.fraction)((0,r.fraction)(r.a,r.b),r.c)),c((0,r.sum)((0,r.product)(r.a,r.b,r.x),r.d)),c((0,r.sum)((0,r.negative)((0,r.product)(r.a,r.b,r.x)),(0,r.negative)(r.d))),c((0,r.sum)((0,r.negative)(r.a),(0,r.negative)((0,r.product)(r.b,r.x)),(0,r.negative)(r.d))),c((0,r.product)(r.a,r.b,r.c,r.d)),c(i.Logarithm.of(r.x,(0,r.num)(10)))}},6346:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadPrimaryPage=void 0;const r=n(2070),o=n(8543),i=n(3760),s=n(1582),u=n(3442),a=n(5506),c=n(3415),l=n(6231),f=n(7963),p=n(4756),h=n(5271),y=n(39),d=n(6350),v=n(8529),b=n(9554),m=n(4955);u.RelationalDerivationRule.rules.add(new a.SubtractFromBothSides),u.RelationalDerivationRule.rules.add(new c.DivideOnBothSides),e.loadPrimaryPage=function(){let t=b.Integral.of((0,r.product)((0,r.num)(10),m.Exponent.of(r.x,(0,r.num)(2))),r.x),e=(0,i.deriveExpand)((0,i.wrapInGraph)(t),30,!0);const n=e.graph,u=new h.Interpreter({skips:(0,d.setOf)(y.RULE_ID)}),a=document.getElementById("input");a.addEventListener("keydown",(n=>{if("Enter"!==n.key)return;n.preventDefault(),a.value=a.value.trimEnd();try{t=(0,v.parseExpression)(a.value)}catch(n){return t=null,void alert("Not a valid input")}e=(0,i.deriveExpand)((0,i.wrapInGraph)(t),5,!0);const r=e.graph;g.setGraph(r,(0,d.setOf)(t))}));const c=document.getElementById("outputbox"),g=new o.WebGraphView(n,new Set([t]),u,{showArguments:!1,drawEdgeLines:!0,debugCornerEnabled:!0});g.setNodeColoringScheme((t=>t instanceof s.Expression?e.isSimplified(t)?t instanceof f.Product&&e.passedFactoringSimplification.has(t)?"coral":t instanceof p.Sum&&e.passedPolynomialSimplification.has(t)?"yellow":e.passedConvergentSimplification.has(t)?"lightgreen":t instanceof l.Variable?"orange":"lightblue":"lightgray":"black")),g.setAttribute("id","web-graphview"),c.appendChild(g)}},3221:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadSimplificationTestPage=void 0;const r=n(2070),o=n(3760),i=n(311),s=n(8529);e.loadSimplificationTestPage=function(){const t=document.getElementsByTagName("body")[0];function e(t){const e=new i.EditableMathView;return e.value=t,e}function n(n,r){const i=document.createElement("table");i.style.border="1px solid black",i.style.width="80%";const s=document.createElement("tr");function u(t){t.style.border="1px solid black",s.appendChild(t)}i.appendChild(s);const a=document.createElement("td"),c=document.createElement("td"),l=document.createElement("td");u(a),u(c),u(l),a.appendChild(e(n));const f=(0,o.deriveExpand)((0,o.wrapInGraph)(n),40).simplifiedExpressions;if(console.log(f.length),0==f.length)return i.style.backgroundColor="red",void t.append(i);if(c.appendChild(e(f[0])),l.appendChild(e(r)),t.append(i),f[0]===r)c.style.backgroundColor="lightgreen";else{c.style.backgroundColor="red";const t=document.createElement("td"),e=document.createElement("td"),n=document.createElement("td");u(t),u(e),u(n),t.innerHTML=f[0].toUnambigiousString()+"<br>"+r.toUnambigiousString(),e.innerHTML="Hashes: <br>"+f[0].hash+"<br>"+r.hash,n.innerHTML="IDs: "+f[0].id+"<br>"+r.id}}function u(t,e){n((0,s.parseExpression)(t),(0,s.parseExpression)(e))}t.style.padding="8ch",n((0,r.sum)(r.x,r.x),(0,r.product)((0,r.num)(2),r.x)),n((0,r.product)(r.x,r.x),(0,r.pow)(r.x,(0,r.num)(2))),n((0,r.sum)(r.a,r.a,r.b),(0,r.sum)((0,r.product)((0,r.num)(2),r.a),r.b)),n((0,r.product)((0,r.pow)(r.a,r.b),(0,r.pow)(r.c,r.b)),(0,r.product)((0,r.pow)(r.a,r.b),(0,r.pow)(r.c,r.b))),n((0,r.product)((0,r.pow)(r.a,r.b),(0,r.pow)(r.a,r.c)),(0,r.pow)(r.a,(0,r.sum)(r.b,r.c))),n((0,r.product)((0,r.pow)(r.a,r.b),(0,r.pow)(r.a,r.b)),(0,r.pow)(r.a,(0,r.product)((0,r.num)(2),r.b))),u("(a+b)(a+b)","(a+b)^2"),u("(a+b)(a-b)","a^2-b^2"),u("b^2*b","b^3"),u("(-(1/x)+1)((x^2)/(x-1))","x"),u("(3x+27y+15z)/(x+9y+5z)","3"),u("(x^2-9)/(x+3)","(x-3)"),u("x+3*(10+y)-7x-y","-6x+2y+30"),u("(5/(2x-3)-(3/((2x-3)^2))","(2(5x-9))/((2x-3)^2)")}},7355:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadSolverPage=void 0;const o=n(3760),i=n(311),s=r(n(4901)),u=r(n(4736)),a=n(1582),c=n(572),l=n(591),f=n(8628),p=n(1667),h=n(8529),y=n(5271),d=n(6350),v=n(39),b=n(8982);e.loadSolverPage=function(){const t=document.getElementById("problem"),e=document.getElementById("expressionViewDiv"),n=document.getElementById("solution"),r=document.getElementById("steps"),m=new i.EditableMathView;e.appendChild(m),t.focus(),t.addEventListener("keyup",(()=>{let e;try{e=(0,h.parseExpression)(t.value),m.value=e}catch(t){return r.style.opacity="0.6",void(m.value=null)}for(r.style.opacity="1";r.children.length>0;)r.removeChild(r.children[0]);const i=function(t){const e=(0,o.wrapInGraph)(t),n=(0,o.deriveExpand)(e,50,!0);let r=t;for(const t of e.getNodes())t instanceof a.Expression&&n.isSimplified(t)&&r.childCount>t.childCount&&(r=t);const i=(0,u.default)();e.getNodes().forEach((t=>{i.addNode(t.id,t)}));for(const t of p.GraphMinipulator.dropSymmetric(e.getEdges()))t.e instanceof c.Argument&&(i.addLink(t.n.id,t.e.id),i.addLink(t.e.id,t.n1.id));const l=s.default.nba(i).find(t.id,r.id).reverse().map((t=>{if(t.data instanceof c.Argument)return t.data;if(t.data instanceof a.Expression)return t.data;throw new Error("Not implemented")})).filter((t=>t instanceof a.Expression));return new b.Path(e,...l)}(e);if(0==i.nodes.length)return void(r.textContent="Cannot Simplify");r.textContent="";const g=new y.Interpreter({skips:(0,d.setOf)(v.RULE_ID)}).processPath(i);n.value=i.nodes[i.nodes.length-1],function t(e){r.appendChild(new f.ExpressionNodeView(e,(t=>{})));const n=g.next(e);if(null==n)return;const o=n.a;r.appendChild(new l.ArgumentNodeView(o,(t=>{}))),t(n.e)}(i.nodes[0])}))}},572:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Argument=void 0;const r=n(3959),o=n(6515);class i extends r.MathGraphNode{constructor(t,e,n,r){super(),this.expressionEdge=!0,this.grounds=t,Object.freeze(this.grounds),this.claim=e,this.argument=n,this.ruleId=r,this.repOk()}get relationship(){return this.claim.r}toString(){return"Argument "+this.claim.r}repOk(){(0,o.assert)(null!=this.grounds);for(const t of this.grounds)(0,o.assert)(null!=t&&null!=t);(0,o.assert)(null!=this.claim.n&&null!=this.claim.n),(0,o.assert)(null!=this.claim.n1&&null!=this.claim.n1),(0,o.assert)(null!=this.claim.r&&null!=this.claim.r)}}e.Argument=i},2070:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.y=e.x=e.f=e.e=e.d=e.c=e.b=e.a=e.productAndNotTimesOne=e.productOrOne=e.productOrNot=e.equivalenceArgument=e.int=e.v=e.num=e.negative=e.product=e.removeNew=e.remove=e.pow=e.orderedProduct=e.sumOrNot=e.sumIntuitive=e.sumEvalIntegerTerms=e.orderedSum=e.sum=e.fraction=void 0;const r=n(7817),o=n(9691),i=n(9554),s=n(7963),u=n(4756),a=n(6231),c=n(572),l=n(9273),f=n(6515),p=n(4955);function h(...t){return u.Sum.of(t)}function y(...t){if(t.filter((t=>t instanceof r.Integer)).length<2)return h(...t);const e=t.filter((t=>!(t instanceof r.Integer))),n=t.filter((t=>t instanceof r.Integer)).map((t=>t)).reduce(((t,e)=>b(t.value+e.value)));return 0==n.value?e.length>1?h(...e):1==e.length?e[0]:n:0==e.length?n:h(...e,n)}function d(t,e){for(let n=0;n<t.length;n++)if(t[n]===e)return void t.splice(n,1)}function v(...t){return t.forEach((t=>(0,f.assert)(null!=t&&null!=t,"Making product with null or undefined factor"))),s.Product.of(t)}function b(t){return r.Integer.of(t)}function m(t){return a.Variable.of(t)}function g(...t){return(0,f.assert)(t.length>0),1==t.length?t[0]:v(...t)}e.fraction=function(t,e){return o.Fraction.of(t,e)},e.sum=h,e.orderedSum=function(t){const e=(0,u.orderTerms)(...t.terms);return u.Sum.of(e)},e.sumEvalIntegerTerms=y,e.sumIntuitive=function(...t){const e=y(...t);if(e.class!=u.SumType)return e;t=[...e.terms];t:for(const e of t){const n=[...t];d(n,e);for(const r of n)if(r instanceof s.Product&&r.isNegation&&r.negation===e){d(t,r),d(t,e);continue t}}return 0==t.length?r.Integer.of(0):1==t.length?t[0]:h(...t)},e.sumOrNot=function(...t){return 1==t.length?t[0]:h(...t)},e.orderedProduct=function(...t){return t.sort(s.factorOrder),v(...t)},e.pow=function(t,e){return p.Exponent.of(t,e)},e.remove=d,e.removeNew=function(t,e){const n=[...t];for(let t=0;t<n.length;t++)if(n[t]===e)return n.splice(t,1),n;throw new Error("Given array doesn't contain element "+e)},e.product=v,e.negative=function(t){return(0,f.assert)(null!=t,"Taking negative of undefined expression"),t instanceof r.Integer?r.Integer.of(-t.value):s.Product.of([r.Integer.of(-1),t])},e.num=b,e.v=m,e.int=function(t,e){return i.Integral.of(t,e)},e.equivalenceArgument=function(t,e,n){return new c.Argument(function(...t){const e=new Set;return t.forEach((t=>e.add(t))),e}(t),{n:t,r:l.Relationship.Equal,n1:e},n,"TEST_ARGUMENT")},e.productOrNot=g,e.productOrOne=function(...t){return 0===t.length?b(1):g(...t)},e.productAndNotTimesOne=function(...t){return t[0]instanceof r.Integer&&1==t[0].value?(t.shift(),g(...t)):g(...t)},e.a=m("a"),e.b=m("b"),e.c=m("c"),e.d=m("d"),e.e=m("e"),e.f=m("f"),e.x=m("x"),e.y=m("y")},4561:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GivenEdge=e.ArgumentEdge=e.Graph=void 0;const r=n(572),o=n(6515);var i;e.Graph=class{constructor(){this.nodes=new Set,this.connections=new Map,this.edges=new Map,this.repOk()}addNode(t){return this.nodes.add(t),t instanceof r.Argument&&this.addArgument(t),this.repOk(),this}addRelationship(t,e,n){return this.addNode(t),this.addNode(e),this.internalAdd(t,e,new s(n)),this.internalAdd(e,t,new s(n)),this.repOk(),this}addArgument(t){this.nodes.add(t);for(const e of t.grounds)this.nodes.add(e),this.internalAdd(e,t,i.To);const e=t.claim;return this.addNode(e.n),this.addNode(e.n1),this.internalAdd(t,e.n,i.From),this.internalAdd(t,e.n1,i.From),this.internalAdd(e.n,e.n1,t),this.repOk(),this}addArguments(...t){return t.forEach((t=>this.addArgument(t))),this}addEdge(t,e,n){return this.addNode(t),this.addNode(e),this.internalAdd(t,e,n),this}getNeighbors(t,e){var n,r;if(!this.nodes.has(t))return;if("out"==e)return[...this.connections.get(t)];let o=new Set;for(const e of this.nodes)(null===(n=this.connections.get(e))||void 0===n?void 0:n.has(t))&&o.add(e);if("in"==e)return[...o];for(const e of null!==(r=this.connections.get(t))&&void 0!==r?r:[])o.add(e);return[...o]}getDegree(t,e){var n,r,o,i;if(!this.nodes.has(t))return;if("out"==e)return null!==(r=null===(n=this.connections.get(t))||void 0===n?void 0:n.size)&&void 0!==r?r:0;let s=0;return this.nodes.forEach((e=>{null!=this.connections.get(e)&&this.connections.get(e).has(t)&&s++})),"in"==e?s:s+(null!==(i=null===(o=this.connections.get(t))||void 0===o?void 0:o.size)&&void 0!==i?i:0)}getEdge(t,e){var n;return null===(n=this.edges.get(t))||void 0===n?void 0:n.get(e)}contains(t){return this.nodes.has(t)}getNodes(){return new Set(this.nodes)}getEdges(){const t=new Set;return this.edges.forEach(((e,n)=>{e.forEach(((e,r)=>{t.add({n,n1:r,e})}))})),t}numNodes(){return this.nodes.size}addGraph(t){return t.nodes.forEach((t=>{this.nodes.add(t)})),t.edges.forEach(((t,e)=>{t.forEach(((t,n)=>{if(t instanceof r.Argument)this.addArgument(t);else if("supports"==t)this.internalAdd(e,n,i.To);else{if("claims"!=t)throw new Error("Unknown Edge Type");this.internalAdd(e,n,i.From)}}))})),this.repOk(),this}toString(){let t="Graph(V = {";for(const e of this.nodes)t+=e.toString()+",";return t=t.substring(0,t.length-1)+"}, E = {",this.connections.forEach(((e,n)=>{e.forEach((e=>{t+=n.toString()+" -> "+e.toString()+", "}))})),t+="} Edge Count: "+this.connections.size,t}internalAdd(t,e,n){null==this.connections.get(t)&&this.connections.set(t,new Set),this.connections.get(t).add(e),null==this.edges.get(t)&&this.edges.set(t,new Map),this.edges.get(t).set(e,n),this.repOk()}repOk(){this.nodes.forEach((t=>{(0,o.assert)(null!=t&&null!=t)})),this.connections.forEach(((t,e)=>{(0,o.assert)(this.nodes.has(e)),t.forEach((t=>{(0,o.assert)(this.nodes.has(t))}))})),this.edges.forEach(((t,e)=>{t.forEach(((t,n)=>{(0,o.assert)(this.nodes.has(e)),(0,o.assert)(this.nodes.has(n)),(0,o.assert)(this.connections.get(e).has(n))}))}))}},function(t){t.To="supports",t.From="claims"}(i||(e.ArgumentEdge=i={}));class s{constructor(t){this.r=t}}e.GivenEdge=s},1667:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphMinipulator=void 0;const r=n(572),o=n(4561),i=n(6515);e.GraphMinipulator=class{static getComponentNodes(t,e){const n=new Set,r=new Set;for(const o of t.getNodes()){if(n.has(o))continue;const s=new Set;function u(r){if(n.add(r),!s.has(r)){s.add(r);for(const n of t.getNeighbors(r,"both"))e(t.getEdge(r,n))&&u(n)}}u(o),s.add(o),r.add(s)}return(0,i.assert)(n.size==t.numNodes()),r}static dropNodes(t,e){const n=new o.Graph;return t.getNodes().forEach((t=>{e(t)&&n.addNode(t)})),t.getEdges().forEach((t=>{e(t.n)&&e(t.n1)&&n.addEdge(t.n,t.n1,t.e)})),n}static getRelations(t){const e=[];for(const n of t.getNodes())for(const r of t.getNeighbors(n,"out"))e.push({first:n,second:r,e:t.getEdge(n,r)});return e}static getLevels(t,e,n=(()=>!0)){const r=new Set(e),o=new Map;!function e(i,s=0){var u;r.has(i)&&(s=0),s<(null!==(u=o.get(i))&&void 0!==u?u:Number.MAX_VALUE)&&o.set(i,s),[...t.getNeighbors(i,"both")].filter((t=>(null==o.get(t)||o.get(t)>s)&&t!==i)).forEach((t=>{e(t,n(i)?s+1:s)}))}([...r][0]);const i=new Map;return o.forEach(((t,e)=>{n(e)&&(null==i.get(t)&&i.set(t,new Set),i.get(t).add(e))})),i}static isConnected(t){return[...t.getNodes()].map((e=>t.getDegree(e,"both")>0)).reduce(((t,e)=>t&&e))||t.numNodes()<2}static dropSymmetric(t){const e=[];function n(t){for(const n of e)if(t.n==n.n1&&t.n1==n.n)return!0;return!1}for(const r of t)n(r)||e.push(r);return e}static dropEdges(t,e){const n=new o.Graph;for(const e of t.getNodes())n.addNode(e);for(const o of t.getEdges())if(e(o)){if(!(o instanceof r.Argument))throw new Error("Not implemented");n.addArgument(o)}return n}}},3959:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MathGraphNode=void 0;class n{constructor(){this.id=n.nextId,n.nextId++}}e.MathGraphNode=n,n.nextId=1},9273:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Relationship=void 0,function(t){t.Equal="="}(n||(e.Relationship=n={}))},5605:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.polynomialSimplificationRules=e.factoringSimplificationRules=e.convergentSimplificationRules=void 0;const r=n(94),o=n(1157),i=n(7688),s=n(7652),u=n(5380),a=n(9818),c=n(3596),l=n(5049),f=n(4329),p=n(1527),h=n(1968),y=n(2807),d=n(6774),v=n(143),b=n(5603),m=n(7907),g=n(6365),S=n(5868),w=n(991),O=n(3384),x=n(1999),E=n(39),_=n(1083),P=n(3615),T=n(503),R=n(3096),k=n(1776),j=n(4013),C=n(9986),I=n(4537),N=n(4903),A=n(576),L=n(810),D=n(2449),M=[new I.OrderProducts,new N.OrderSums],F=[new E.EvaluateSums,new v.CancelNegatives,new g.CombineIntegerFactors],U=[new D.SumCoefficientsOfAddedTerms,new b.CombineCommonFactorsMultiplication,new j.MultiplyExponentPowers,new L.SubtractExponentsOnFractions,new S.CombineProductsAndFractions,new C.MultiplyFractions],B=[new p.USubstitution,new s.PowerRule,new a.PullConstantsFromDerivatives,new c.PullConstantsFromIntegrals,new d.AssociativePropertyOfProductsAndSums,new u.ProductRule,new l.QuotientRule,new O.DivideFractions,new A.RemoveCommonFactorsFromTopAndBottomOfFraction,new r.BreakDerivativesOverAddition,new o.ConstantDerivaties,new f.ReversePowerRule,new i.LogIntegralRule];e.convergentSimplificationRules=[new y.AnythingTimesZero,new P.ExponentToZero,new k.MultiplicativeIdentity,new _.ExponentialIdentity,new x.DivisionIdentity,new h.AdditiveIdentity,new R.LogOfOne,...F,...U,...M,...B],e.factoringSimplificationRules=[new m.CombineCommonTermsAddition],e.polynomialSimplificationRules=[new w.DistributiveProperty,new T.FOIL]},3760:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deriveExpand=e.wrapInGraph=void 0;const r=n(1582),o=n(7963),i=n(4756),s=n(4561),u=n(5605),a=n(8852);e.wrapInGraph=function(t){return(new s.Graph).addNode(t)},e.deriveExpand=function(t,e,n=!1){const r=new c(t);return r.expand(e,n),r};class c{constructor(t){this.passedConvergentSimplification=new Set,this.processedByConvergentSimplification=new Set,this.processedByDivergentSimplification=new Set,this.passedFactoringSimplification=new Set,this.passedPolynomialSimplification=new Set,this.graph=t}expand(t,e=!1){for(let e=0;e<t;e++)this.simplifyNoContextConvergent(),this.simplifyNoContextDivergent()}get simplifiedExpressions(){return[...this.passedFactoringSimplification,...this.passedPolynomialSimplification]}simplifyNoContextConvergent(){const t=[...this.graph.getNodes()].filter((t=>t instanceof r.Expression)).map((t=>t)).filter((t=>!this.processedByConvergentSimplification.has(t)));let e=!1;return t.forEach((t=>{this.processedByConvergentSimplification.add(t);for(const n of u.convergentSimplificationRules){const r=(0,a.equiv)(t,l([n])),o=r[0];for(const t of r)this.addToGraph([t]);if(null!=o)return void(e=!0)}this.passedConvergentSimplification.add(t)})),e}simplifyNoContextDivergent(){const t=[...this.graph.getNodes()].filter((t=>t instanceof r.Expression)).map((t=>t)).filter((t=>!this.processedByDivergentSimplification.has(t)&&this.passedConvergentSimplification.has(t)));let e=!1;return t.forEach((t=>{for(const n of u.factoringSimplificationRules){const r=(0,a.equiv)(t,l([n]));e||(e=this.addToGraph(r)),0==r.length&&t instanceof o.Product&&this.passedFactoringSimplification.add(t)}for(const n of u.polynomialSimplificationRules){const r=(0,a.equiv)(t,l([n]));e||(e=this.addToGraph(r)),r.length>0&&t instanceof i.Sum&&this.passedPolynomialSimplification.add(t)}})),e}addToGraph(t){let e=!1;return t.forEach((t=>{this.graph.contains(t.claim.n)&&this.graph.contains(t.claim.n1)||(this.graph.addArgument(t),e=!0)})),e}isSimplified(t){return!!this.passedConvergentSimplification.has(t)&&(t instanceof o.Product?this.passedFactoringSimplification.has(t):!(t instanceof i.Sum)||this.passedPolynomialSimplification.has(t))}}function l(t){return function(e){const n=new Set;return t.filter((t=>t.applies(e))).forEach((t=>{t.apply(e).forEach((t=>{n.add(t)}))})),n}}},1886:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConvergenceTarget=e.NoContextExpressionSimplificationRule=void 0;const r=n(6515),o=n(6350);var i;function s(t){return{valueOf:e=>t}}e.NoContextExpressionSimplificationRule=class{applies(t){return this.appliesImpl(t)}apply(t){const e=this.applyImpl(t);return e.forEach((e=>{(0,r.assert)(null!=e&&null!=e),(0,r.assert)(e.claim.n1!==t,"Rule "+this.constructor.name+" produced result equivalent to ground")})),e}get convergenceType(){return i.None}},function(t){t[t.Factored=0]="Factored",t[t.Polynomial=1]="Polynomial",t[t.None=2]="None"}(i||(e.ConvergenceTarget=i={})),(0,o.setOf)(s(-2.1),s(-1.1),s(.1),s(1.1),s(2.1),{valueOf(t){var e;return null!==(e=t.symbol.codePointAt(0))&&void 0!==e?e:0}},{valueOf:t=>t.symbol.charCodeAt(0)})},3442:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RelationalDerivationRule=void 0;class n{apply(t){return this.applyImpl(t)}}e.RelationalDerivationRule=n,n.rules=new Set},3415:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.DivideOnBothSides=void 0;const r=n(572),o=n(2070),i=n(7963),s=n(9273),u=n(3442);class a extends u.RelationalDerivationRule{applyImpl(t){const n=[],u=function(t){const e=[];for(const n of t)for(const r of t)n!==r&&e.push([n,r]);return e}(t);return u.filter((t=>t[0]instanceof i.Product)).forEach((t=>{const u=t[0],a=t[1];u.factors.forEach((t=>{let c;c=a instanceof i.Product?[...a.factors]:[a];const l={n:u.without(t),n1:(0,o.fraction)((0,o.productOrNot)(...c),t),r:s.Relationship.Equal};n.push(new r.Argument(new Set([u,a]),l,"a=b & c=d => a/c = b/d",e.RULE_ID))}))})),n}}e.DivideOnBothSides=a,e.RULE_ID="Div on both sides"},5506:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.SubtractFromBothSides=void 0;const r=n(572),o=n(2070),i=n(7963),s=n(4756),u=n(9273),a=n(3442);class c extends a.RelationalDerivationRule{applyImpl(t){const n=[],a=function(t){const e=[];for(const n of t)for(const r of t)n!==r&&e.push([n,r]);return e}(t);return a.filter((t=>t[0]instanceof s.Sum)).forEach((t=>{const a=t[0],c=t[1];a.terms.filter((t=>!(t instanceof i.Product&&t.isNegation))).forEach((t=>{let i;i=c instanceof s.Sum?[...c.terms]:[c];const l={n:a.without(t),n1:(0,o.sumIntuitive)(...i,(0,o.negative)(t)),r:u.Relationship.Equal};n.push(new r.Argument(new Set([a,c]),l,"a=b & c=d => a-c = b-d",e.RULE_ID))}))})),n}}e.SubtractFromBothSides=c,e.RULE_ID="Sub from both sides"},94:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.BreakDerivativesOverAddition=void 0;const r=n(572),o=n(8213),i=n(4756),s=n(9273),u=n(6350),a=n(1886);class c extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof o.Derivative&&t.exp instanceof i.Sum}applyImpl(t){const n=t,a=[...n.exp.terms].map((t=>o.Derivative.of(t,n.relativeTo)));return(0,u.setOf)(new r.Argument((0,u.setOf)(n),{n,r:s.Relationship.Equal,n1:i.Sum.of(a)},"Split derivative over addition",e.RULE_ID))}}e.BreakDerivativesOverAddition=c,e.RULE_ID="Break Derivatives over Addition"},1157:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.ConstantDerivaties=void 0;const r=n(9273),o=n(572),i=n(1886),s=n(2070),u=n(6350),a=n(8213);class c extends i.NoContextExpressionSimplificationRule{appliesImpl(t){return t.class===a.DerivativeType&&t.exp.isConstant}applyImpl(t){return(0,u.setOf)(new o.Argument((0,u.setOf)(t),{n:t,r:r.Relationship.Equal,n1:(0,s.num)(0)},"Derivative of anything is zero",e.RULE_ID))}}e.ConstantDerivaties=c,e.RULE_ID="Constant Derivative"},7688:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogIntegralRule=void 0;const r=n(9554),o=n(1886),i=n(9691),s=n(6350);class u extends o.NoContextExpressionSimplificationRule{appliesImpl(t){if(t.class!==r.IntegralType)return;const e=t;return e.integrand instanceof i.Fraction&&e.integrand.denominator===e.relativeTo&&e.integrand.numerator.isConstant}applyImpl(t){return(0,s.setOf)()}}e.LogIntegralRule=u},7652:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.PowerRule=void 0;const r=n(572),o=n(2070),i=n(8213),s=n(4955),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Derivative&&(t.exp instanceof s.Exponent&&t.exp.base===t.relativeTo&&t.exp.power.isConstant||t.exp===t.relativeTo)}applyImpl(t){const n=t;let i;i=n.exp instanceof s.Exponent?n.exp:s.Exponent.of(n.exp,(0,o.num)(1));const c=(0,o.product)(i.power,s.Exponent.of(i.base,(0,o.sumIntuitive)(i.power,(0,o.negative)((0,o.num)(1)))));return(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:c},"Power rule",e.RULE_ID))}}e.PowerRule=l,e.RULE_ID="Power Rule"},5380:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.ProductRule=void 0;const r=n(572),o=n(2070),i=n(8213),s=n(7963),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Derivative&&t.exp instanceof s.Product&&!t.exp.factors.map((t=>t.isConstant)).reduce(((t,e)=>t||e))}applyImpl(t){const n=t,s=n.exp.factors,c=[];for(let t=0;t<s.length;t++){const e=s[t],r=[];for(const t of s)t===e?r.push(i.Derivative.of(t,n.relativeTo)):r.push(t);c.push((0,o.product)(...r))}return(0,a.setOf)(new r.Argument((0,a.setOf)(n),{n,r:u.Relationship.Equal,n1:(0,o.sum)(...c)},"Product Rule",e.RULE_ID))}}e.ProductRule=l,e.RULE_ID="Product Rule"},9818:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.PullConstantsFromDerivatives=void 0;const r=n(572),o=n(2070),i=n(8213),s=n(7963),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Derivative&&t.exp instanceof s.Product}applyImpl(t){const n=t,s=n.exp,c=s.factors.filter((t=>t.isConstant)),l=new Set;for(const t of c)l.add(new r.Argument((0,a.setOf)(n),{n,r:u.Relationship.Equal,n1:(0,o.productAndNotTimesOne)(t,i.Derivative.of((0,o.productOrNot)(...(0,o.removeNew)(s.factors,t)),n.relativeTo))},"Pull constant factor from derivative",e.RULE_ID));return l}}e.PullConstantsFromDerivatives=l,e.RULE_ID="Pull Constants from Derivs"},3596:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.PullConstantsFromIntegrals=void 0;const r=n(572),o=n(1886),i=n(9554),s=n(7963),u=n(2070),a=n(9273),c=n(6350);class l extends o.NoContextExpressionSimplificationRule{appliesImpl(t){if(t.class!==i.IntegralType)return!1;const e=t;return e.integrand instanceof s.Product&&e.integrand.factors.some((t=>t.isConstant))&&e.integrand.factors.some((t=>!t.isConstant))}applyImpl(t){const n=t,o=n.integrand,s=(0,u.productOrNot)(...o.factors.filter((t=>t.isConstant))),l=(0,u.productOrOne)(...o.factors.filter((t=>!t.isConstant))),f=(0,u.product)(s,i.Integral.of(l,n.relativeTo));return(0,c.setOf)(new r.Argument((0,c.setOf)(t),{n:t,r:a.Relationship.Equal,n1:f},"Pull constants from integral",e.RULE_ID))}}e.PullConstantsFromIntegrals=l,e.RULE_ID="ConstantsFromIntegrals"},5049:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.QuotientRule=void 0;const r=n(572),o=n(2070),i=n(8213),s=n(4955),u=n(9691),a=n(9273),c=n(6350),l=n(1886);class f extends l.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Derivative&&t.exp instanceof u.Fraction}applyImpl(t){const n=t,l=n.exp.numerator,f=n.exp.denominator;return(0,c.setOf)(new r.Argument((0,c.setOf)(t),{n:t,r:a.Relationship.Equal,n1:u.Fraction.of((0,o.sum)((0,o.product)(i.Derivative.of(l,n.relativeTo),f),(0,o.negative)((0,o.product)(l,i.Derivative.of(f,n.relativeTo)))),s.Exponent.of(f,(0,o.num)(2)))},"Quotient Rule",e.RULE_ID))}}e.QuotientRule=f,e.RULE_ID="Quotient Rule"},4329:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.ReversePowerRule=void 0;const r=n(9554),o=n(572),i=n(1886),s=n(4955),u=n(9273),a=n(9691),c=n(6350),l=n(2070);class f extends i.NoContextExpressionSimplificationRule{appliesImpl(t){if(t.class!==r.IntegralType)return!1;const e=t;return e.integrand instanceof s.Exponent&&e.integrand.base===e.relativeTo&&e.integrand.power.isConstant||e.integrand===e.relativeTo}applyImpl(t){const n=t.integrand;let r;return r=n instanceof s.Exponent?a.Fraction.of(s.Exponent.of(n.base,(0,l.sum)(n.power,(0,l.num)(1))),(0,l.sum)(n.power,(0,l.num)(1))):s.Exponent.of(n,(0,l.num)(2)),(0,c.setOf)(new o.Argument((0,c.setOf)(t),{n:t,r:u.Relationship.Equal,n1:r},"Reverse power rule",e.RULE_ID))}}e.ReversePowerRule=f,e.RULE_ID="Reverse Power Rule"},1527:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.USubstitution=void 0;const r=n(1886);class o extends r.NoContextExpressionSimplificationRule{appliesImpl(t){return!1}applyImpl(t){throw new Error("Not implemented")}}e.USubstitution=o,e.RULE_ID="USubstitution"},8852:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.equiv=void 0;const r=n(572),o=n(2070),i=n(8213),s=n(4955),u=n(9691),a=n(7817),c=n(9554),l=n(1116),f=n(7963),p=n(4756),h=n(6231),y=n(9273),d=n(6350);e.equiv=function t(e,n){if(e instanceof h.Variable||e instanceof a.Integer)return[];switch(e.class){case p.SumType:return function(e,n){const i=new Set;n(e).forEach((t=>{i.add(t)}));for(let o=0;o<e.terms.length;o++)t(e.terms[o],n).forEach((t=>{i.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:s(e,o,t.claim.n1)},t.argument,t.ruleId))}));function s(t,e,n){const r=[...t.terms];return r[e]=n,(0,o.sum)(...r)}return[...i]}(e,n);case f.ProductType:return function(e,n){const i=new Set;n(e).forEach((t=>{i.add(t)}));for(let o=0;o<e.factors.length;o++)t(e.factors[o],n).forEach((t=>{i.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:s(e,o,t.claim.n1)},t.argument,t.ruleId))}));function s(t,e,n){const r=[...t.factors];return r[e]=n,(0,o.product)(...r)}return[...i]}(e,n);case s.ExponentType:return function(e,n){const o=new Set;return n(e).forEach((t=>{o.add(t)})),t(e.base,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:s.Exponent.of(t.claim.n1,e.power)},t.argument,t.ruleId))})),t(e.power,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:s.Exponent.of(e.base,t.claim.n1)},t.argument,t.ruleId))})),[...o]}(e,n);case u.FractionType:return function(e,n){const o=new Set;return n(e).forEach((t=>{o.add(t)})),t(e.numerator,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:u.Fraction.of(t.claim.n1,e.denominator)},t.argument,t.ruleId))})),t(e.denominator,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:u.Fraction.of(e.numerator,t.claim.n1)},t.argument,t.ruleId))})),[...o]}(e,n);case i.DerivativeType:return function(e,n){const o=new Set;return n(e).forEach((t=>{o.add(t)})),t(e.exp,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:i.Derivative.of(t.claim.n1,e.relativeTo)},t.argument,t.ruleId))})),t(e.relativeTo,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:i.Derivative.of(e.exp,t.claim.n1)},t.argument,t.ruleId))})),[...o]}(e,n);case l.LogType:return function(e,n){const o=new Set;return n(e).forEach((t=>{o.add(t)})),t(e.exp,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:l.Logarithm.of(t.claim.n1,e.base)},t.argument,t.ruleId))})),t(e.base,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:l.Logarithm.of(e.exp,t.claim.n1)},t.argument,t.ruleId))})),[...o]}(e,n);case c.IntegralType:return function(e,n){const o=new Set;return n(e).forEach((t=>{o.add(t)})),t(e.integrand,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:c.Integral.of(t.claim.n1,e.relativeTo)},t.argument,t.ruleId))})),t(e.relativeTo,n).forEach((t=>{o.add(new r.Argument((0,d.setOf)(e),{n:e,r:y.Relationship.Equal,n1:c.Integral.of(e.integrand,t.claim.n1)},t.argument,t.ruleId))})),[...o]}(e,n);default:throw new Error("Not implemented for "+e.class)}}},1968:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.AdditiveIdentity=void 0;const r=n(572),o=n(2070),i=n(7817),s=n(4756),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Sum}applyImpl(t){const n=t.terms.filter((t=>!(t instanceof i.Integer&&0==t.value)));return n.length==t.terms.length?(0,a.setOf)():(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:(0,o.sumOrNot)(...n)},"Additive identity",e.RULE_ID))}}e.AdditiveIdentity=l,e.RULE_ID="Additive Identity"},2807:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.AnythingTimesZero=void 0;const r=n(572),o=n(7817),i=n(7963),s=n(9273),u=n(6350),a=n(1886);class c extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Product}applyImpl(t){const n=t;let i=!1;for(const t of n.factors)if(t instanceof o.Integer&&0===t.value){i=!0;break}return i?(0,u.setOf)(new r.Argument((0,u.setOf)(t),{n:t,r:s.Relationship.Equal,n1:o.Integer.of(0)},"Anything times zero is zero",e.RULE_ID)):(0,u.setOf)()}}e.AnythingTimesZero=c,e.RULE_ID="AnythingTimesZero"},6774:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.AssociativePropertyOfProductsAndSums=void 0;const r=n(572),o=n(2070),i=n(7963),s=n(4756),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Sum||t instanceof i.Product}applyImpl(t){if(t instanceof s.Sum){const n=t.terms.map((t=>t instanceof s.Sum?[...t.terms]:[t])).flat();return n.length==t.terms.length?new Set:(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:(0,o.sum)(...n)},"Associative property of addition",e.RULE_ID))}{const n=t.factors.map((t=>t instanceof i.Product?[...t.factors]:[t])).flat();return n.length==t.factors.length?new Set:(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:(0,o.product)(...n)},"Associative property of multiplication",e.RULE_ID))}}}e.AssociativePropertyOfProductsAndSums=l,e.RULE_ID="Associative Property"},143:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.CancelNegatives=void 0;const r=n(572),o=n(2070),i=n(7963),s=n(9273),u=n(6350),a=n(1886),c=n(2070);class l extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Product}applyImpl(t){const n=t,a=[],l=[];for(const t of n.factors)t instanceof i.Product&&t.isNegation?a.push(t.negation):l.push(t);const f=n.isNegation,p=a.length+(f?1:0);if(p<2)return(0,u.setOf)();const h=p%2==1,y=(0,c.product)(...a,...l),d=h?(0,o.negative)(y):y;return(0,u.setOf)(new r.Argument((0,u.setOf)(t),{n:t,r:s.Relationship.Equal,n1:d},"Cancel negatives",e.RULE_ID))}}e.CancelNegatives=l,e.RULE_ID="Cancel Negatives"},5603:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.CombineCommonFactorsMultiplication=void 0;const r=n(572),o=n(2070),i=n(4955),s=n(7963),u=n(4756),a=n(9273),c=n(6350),l=n(1886);class f extends l.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Product&&!t.isReducible}applyImpl(t){const n=t,l=new Set;for(const h of n.factors)h instanceof i.Exponent?l.add(h.base):l.add(h);const f=new Set;for(const y of l){let d=[];const v=[];for(const g of n.factors)g instanceof i.Exponent&&g.base===y?d.push(g.power):g===y?d.push((0,o.num)(1)):v.push(g);if(d=(0,u.orderTerms)(...d),1==d.length)continue;const b=i.Exponent.of(y,(0,o.sum)(...d));function m(t,e){let n=0;for(let r=0;r<t.length;r++)if((0,s.factorOrder)(e,t[r])>0){n=r+1;break}t.splice(n,0,e)}0!=v.length?(m(v,b),f.add(s.Product.of(v))):f.add(b)}const p=new Set;return f.forEach((t=>{p.add(new r.Argument((0,c.setOf)(n),{n,r:a.Relationship.Equal,n1:t},"Combine common factors multiplication",e.RULE_ID))})),p}}e.CombineCommonFactorsMultiplication=f,e.RULE_ID="CCFactors Mult"},7907:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.CombineCommonTermsAddition=void 0;const r=n(2070),o=n(572),i=n(7963),s=n(9273),u=n(1886),a=n(4756),c=n(6350),l=n(7817);class f extends u.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof a.Sum&&!t.isReducible}applyImpl(t){const n=t,u=new Set,f=new Set;for(const t of n.terms)t instanceof i.Product?(0,c.addAll)(f,...t.factors):f.add(t);for(const p of f){if(p.isReducible||p.class===l.IntegerType)continue;const f=[],h=[];for(const t of n.terms)t instanceof i.Product?(0,c.has)(t.factors,p)?f.push(t):h.push(t):t===p?f.push(i.Product.of([(0,r.num)(1),t])):h.push(t);if(f.length<2)continue;const y=[];for(const t of f)y.push(t.without(p));const d=(0,r.sumOrNot)((0,r.orderedProduct)(a.Sum.of(y),p),...h);u.add(new o.Argument((0,c.setOf)(t),{n:t,r:s.Relationship.Equal,n1:d},"Combine like terms",e.RULE_ID))}return u}get convergenceType(){return u.ConvergenceTarget.Factored}}e.CombineCommonTermsAddition=f,e.RULE_ID="CCTerms Add"},6365:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.CombineIntegerFactors=void 0;const r=n(572),o=n(2070),i=n(7817),s=n(7963),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Product&&!t.isNegation}applyImpl(t){const n=t,s=[];let c=1;for(const t of n.factors)t instanceof i.Integer?c*=t.value:s.push(t);return n.factors.length-s.length<2?new Set:(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:(0,o.productOrNot)((0,o.num)(c),...s)},"Multiply integer terms",e.RULE_ID))}}e.CombineIntegerFactors=l,e.RULE_ID="CombIntFacts"},5868:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.CombineProductsAndFractions=void 0;const r=n(572),o=n(2070),i=n(9691),s=n(7963),u=n(9273),a=n(6515),c=n(6350),l=n(1886);class f extends l.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Product}applyImpl(t){const n=t,s=n.factors.filter((t=>t instanceof i.Fraction))[0];if(void 0===s)return(0,c.setOf)();const l=n.factors.filter((t=>!(t instanceof i.Fraction)));if(0==l.length)return(0,c.setOf)();let f;if(n.factors.length-l.length==1)f=i.Fraction.of((0,o.product)(s.numerator,...l),s.denominator);else{const t=n.factors.filter((t=>t instanceof i.Fraction));(0,o.remove)(t,s),(0,a.assert)(t.length>0),f=(0,o.product)(i.Fraction.of((0,o.productAndNotTimesOne)(s.numerator,...l),s.denominator),...t)}return(0,c.setOf)(new r.Argument((0,c.setOf)(t),{n:t,r:u.Relationship.Equal,n1:f},"Combine products into fraction",e.RULE_ID))}}e.CombineProductsAndFractions=f,e.RULE_ID="Prod=>Frac"},991:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.DistributiveProperty=void 0;const r=n(572),o=n(2070),i=n(7963),s=n(4756),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Product}applyImpl(t){const n=t,i=n.factors.filter((t=>!(t instanceof s.Sum)));if(0==i.length)return(0,a.setOf)();const c=n.factors.filter((t=>t instanceof s.Sum))[0];if(null==c)return(0,a.setOf)();const l=n.factors.filter((t=>t instanceof s.Sum));(0,o.remove)(l,c);const f=(0,o.productOrNot)(...i),p=(0,o.sum)(...c.terms.map((t=>(0,o.product)(f,t)))),h=(0,o.productOrNot)(p,...l);return(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:h},`Distribute ${(0,o.productOrNot)(...i).toUnambigiousString()}`,e.RULE_ID))}get convergenceType(){return c.ConvergenceTarget.Polynomial}}e.DistributiveProperty=l,e.RULE_ID="Distributive Property"},3384:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.DivideFractions=void 0;const r=n(572),o=n(2070),i=n(4955),s=n(9691),u=n(7963),a=n(9273),c=n(6350),l=n(1886);class f extends l.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Fraction&&t.numerator instanceof u.Product&&t.denominator instanceof u.Product}applyImpl(t){const n=t,l=n.numerator,f=n.denominator,p=l.isNegation?l.negation instanceof u.Product?l.negation.factors:[l.negation]:l.factors,h=f.isNegation?f.negation instanceof u.Product?f.negation.factors:[f.negation]:f.factors;if(new Set(p).size<p.length)return(0,c.setOf)();if(new Set(h).size<h.length)return(0,c.setOf)();const y=p.map((t=>t instanceof i.Exponent?t:i.Exponent.of(t,(0,o.num)(1)))),d=h.map((t=>t instanceof i.Exponent?t:i.Exponent.of(t,(0,o.num)(1)))),v=new Map;y.forEach((t=>{v.has(t.base)||v.set(t.base,[]),v.get(t.base).push(t.power)}));const b=new Map;d.forEach((t=>{b.has(t.base)||b.set(t.base,[]),b.get(t.base).push(t.power)}));const m=new Map(v),g=new Map(b);b.forEach(((t,e)=>{v.has(e)&&(m.get(e).push((0,o.negative)((0,o.sumOrNot)(...t))),g.delete(e))}));const S=[];m.forEach(((t,e)=>{S.push(i.Exponent.of(e,(0,o.sumOrNot)(...t)))}));const w=[];g.forEach(((t,e)=>{w.push(i.Exponent.of(e,(0,o.sumOrNot)(...t)))}));const O=(0,o.productOrNot)(...S),x=0!=w.length?(0,o.productOrNot)(...w):(0,o.num)(1),E=s.Fraction.of(l.isNegation?(0,o.negative)(O):O,f.isNegation?(0,o.negative)(x):x);return(0,c.setOf)(new r.Argument((0,c.setOf)(t),{n:t,r:a.Relationship.Equal,n1:E},"Cancel out fractions",e.RULE_ID))}}e.DivideFractions=f,e.RULE_ID="Cancel out fractions"},1999:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.DivisionIdentity=void 0;const r=n(572),o=n(9691),i=n(7817),s=n(9273),u=n(6350),a=n(1886);class c extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof o.Fraction&&t.denominator instanceof i.Integer&&1==t.denominator.value}applyImpl(t){const n=t;return(0,u.setOf)(new r.Argument((0,u.setOf)(n),{n,r:s.Relationship.Equal,n1:n.numerator},"Division identity is 1",e.RULE_ID))}}e.DivisionIdentity=c,e.RULE_ID="Division Identity"},39:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.EvaluateSums=void 0;const r=n(572),o=n(2070),i=n(7817),s=n(7963),u=n(4756),a=n(9273),c=n(6350),l=n(1886);class f extends l.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof u.Sum}applyImpl(t){const n=t,u=[...n.terms].filter((t=>t instanceof i.Integer||t instanceof s.Product&&t.isNegation&&t.negation instanceof i.Integer));if(u.length<2)return(0,c.setOf)();const l=i.Integer.of(u.map((t=>t instanceof i.Integer?t.value:-t.negation.value)).reduce(((t,e)=>t+e))),f=[...n.terms].filter((t=>!(t instanceof i.Integer||t instanceof s.Product&&t.isNegation&&t.negation instanceof i.Integer)));return(0,c.setOf)(new r.Argument((0,c.setOf)(n),{n,r:a.Relationship.Equal,n1:(0,o.sumOrNot)(...f,l)},"Evaluated Addition",e.RULE_ID))}}e.EvaluateSums=f,e.RULE_ID="Eval Addition"},3615:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.ExponentToZero=void 0;const r=n(572),o=n(2070),i=n(4955),s=n(7817),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Exponent&&t.power instanceof s.Integer&&0==t.power.value}applyImpl(t){return(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:(0,o.num)(1)},"Anything to zero is zero",e.RULE_ID))}}e.ExponentToZero=l,e.RULE_ID="Pow of Zero"},1083:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.ExponentialIdentity=void 0;const r=n(572),o=n(4955),i=n(7817),s=n(9273),u=n(6350),a=n(1886);class c extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof o.Exponent&&t.power instanceof i.Integer&&1==t.power.value}applyImpl(t){const n=t;return(0,u.setOf)(new r.Argument((0,u.setOf)(n),{n,r:s.Relationship.Equal,n1:n.base},"Exponential Identity is 1",e.RULE_ID))}}e.ExponentialIdentity=c,e.RULE_ID="Exponential Identity"},503:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.FOIL=void 0;const r=n(572),o=n(7963),i=n(2070),s=n(4756),u=n(6350),a=n(1886),c=n(9273);class l extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof o.Product}applyImpl(t){const n=t,o=n.factors.filter((t=>t instanceof s.Sum));if(o.length<2)return(0,u.setOf)();const a=n.factors.filter((t=>!(t instanceof s.Sum))),l=o[0],f=o[1],p=l.terms.map((t=>{const e=[];for(const n of f.terms)e.push((0,i.product)(t,n));return e})).flat();o.splice(0,2);const h=(0,i.productOrNot)(...a,(0,i.sum)(...p),...o);return(0,u.setOf)(new r.Argument((0,u.setOf)(t),{n:t,r:c.Relationship.Equal,n1:h},"Foil that shit",e.RULE_ID))}get convergenceType(){return a.ConvergenceTarget.Polynomial}}e.FOIL=l,e.RULE_ID="FOIL"},3096:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.LogOfOne=void 0;const r=n(572),o=n(2070),i=n(7817),s=n(1116),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Logarithm&&t.exp instanceof i.Integer&&1===t.exp.value}applyImpl(t){return(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:(0,o.num)(0)},"Log in any base of 1 is 0",e.RULE_ID))}}e.LogOfOne=l,e.RULE_ID="Log of 1"},1776:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.MultiplicativeIdentity=void 0;const r=n(572),o=n(2070),i=n(7817),s=n(7963),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Product&&new Set(t.factors).has((0,o.num)(1))&&!t.isNegation}applyImpl(t){const n=t,s=[];for(const t of n.factors)t instanceof i.Integer&&1==t.value||s.push(t);return 0==s.length&&s.push((0,o.num)(1)),(0,a.setOf)(new r.Argument((0,a.setOf)(t),{n:t,r:u.Relationship.Equal,n1:(0,o.productOrNot)(...s)},"Multiplicative Identity",e.RULE_ID))}}e.MultiplicativeIdentity=l,e.RULE_ID="Mult Identity"},4013:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.MultiplyExponentPowers=void 0;const r=n(572),o=n(2070),i=n(4955),s=n(9273),u=n(6350),a=n(1886);class c extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Exponent&&t.base instanceof i.Exponent}applyImpl(t){const n=t,a=n.base;return(0,u.setOf)(new r.Argument((0,u.setOf)(t),{n:t,r:s.Relationship.Equal,n1:i.Exponent.of(a.base,(0,o.product)(a.power,n.power))},"Exponents to exponents multiply",e.RULE_ID))}}e.MultiplyExponentPowers=c,e.RULE_ID="Exp to exp"},9986:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.MultiplyFractions=void 0;const r=n(7963),o=n(572),i=n(1886),s=n(9691),u=n(2070),a=n(9273),c=n(6350),l=n(7817);class f extends i.NoContextExpressionSimplificationRule{appliesImpl(t){return t.class===r.ProductType}applyImpl(t){const n=t,r=(0,u.productOrNot)(...n.factors.map((t=>t.class===s.FractionType?t.numerator:t))),i=(0,u.productOrOne)(...n.factors.filter((t=>t.class===s.FractionType)).map((t=>t.denominator)));return i instanceof l.Integer&&1==i.value?(0,c.setOf)():(0,c.setOf)(new o.Argument((0,c.setOf)(t),{n:t,r:a.Relationship.Equal,n1:s.Fraction.of(r,i)},"Multiply the fractions to combine them",e.RULE_ID))}}e.MultiplyFractions=f,e.RULE_ID="Multiply Fractions"},4537:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.OrderProducts=void 0;const r=n(572),o=n(2070),i=n(7963),s=n(9273),u=n(6350),a=n(1886);class c extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Product}applyImpl(t){const n=t,a=(0,o.product)(...[...n.factors].sort(i.factorOrder));return a===n?(0,u.setOf)():(0,u.setOf)(new r.Argument((0,u.setOf)(t),{n:t,r:s.Relationship.Equal,n1:a},"Reorder product factors to match math convention",e.RULE_ID))}}e.OrderProducts=c,e.RULE_ID="Order products"},4903:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.OrderSums=void 0;const r=n(572),o=n(2070),i=n(4756),s=n(9273),u=n(6350),a=n(1886);class c extends a.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Sum&&(0,o.orderedSum)(t)!==t}applyImpl(t){return new Set([new r.Argument((0,u.setOf)(t),{n:t,r:s.Relationship.Equal,n1:(0,o.orderedSum)(t)},"Reordered",e.RULE_ID)])}}e.OrderSums=c,e.RULE_ID="Order Sums"},576:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.RemoveCommonFactorsFromTopAndBottomOfFraction=void 0;const r=n(572),o=n(2070),i=n(9691),s=n(7963),u=n(9273),a=n(6350),c=n(1886);class l extends c.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof i.Fraction&&!(t.numerator instanceof s.Product&&t.numerator.isNegation)&&!(t.denominator instanceof s.Product&&t.denominator.isNegation)}applyImpl(t){const n=t,c=n.numerator,l=n.denominator,f=new Set;c instanceof s.Product?c.factors.forEach((t=>f.add(t))):f.add(c),l instanceof s.Product?l.factors.forEach((t=>f.add(t))):f.add(l);const p=new Set;if(f.forEach((t=>{(c instanceof s.Product?(0,a.has)(c.factors,t):c===t)&&(l instanceof s.Product?(0,a.has)(l.factors,t):l===t)&&p.add(t)})),0==p.size)return(0,a.setOf)();let h=c;p.forEach((t=>{h=h instanceof s.Product?h.without(t):(0,o.num)(1)}));let y=l;return p.forEach((t=>{y=y instanceof s.Product?y.without(t):(0,o.num)(1)})),(0,a.setOf)(new r.Argument((0,a.setOf)(n),{n,r:u.Relationship.Equal,n1:i.Fraction.of(h,y)},"Divide top and bottom by same thing",e.RULE_ID))}}e.RemoveCommonFactorsFromTopAndBottomOfFraction=l,e.RULE_ID="Div top and bottom by same thing"},810:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.SubtractExponentsOnFractions=void 0;const r=n(572),o=n(2070),i=n(4955),s=n(9691),u=n(7963),a=n(9273),c=n(6350),l=n(1886);class f extends l.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof s.Fraction}applyImpl(t){const n=t,l=n.numerator instanceof u.Product?n.numerator.factors:[n.numerator],f=n.denominator instanceof u.Product?n.denominator.factors:[n.denominator];function p(t){return t instanceof i.Exponent?t:i.Exponent.of(t,(0,o.num)(1))}const h=l.map(p),y=f.map(p),d=new Set;if(h.forEach((t=>{(0,c.has)(y.map((t=>t.base)),t.base)&&d.add(t.base)})),y.forEach((t=>{(0,c.has)(h.map((t=>t.base)),t.base)&&d.add(t.base)})),0==d.size)return(0,c.setOf)();const v=l.filter((t=>t instanceof i.Exponent?!d.has(t.base):!d.has(t))),b=f.filter((t=>t instanceof i.Exponent?!d.has(t.base):!d.has(t))),m=new Map;h.forEach((t=>{d.has(t.base)&&(m.has(t.base)||m.set(t.base,[]),m.get(t.base).push(t.power))})),y.forEach((t=>{d.has(t.base)&&(m.has(t.base)||m.set(t.base,[]),m.get(t.base).push((0,o.negative)(t.power)))}));const g=[];return m.forEach(((t,e)=>{g.push(i.Exponent.of(e,(0,o.sum)(...t)))})),0==b.length&&b.push((0,o.num)(1)),(0,c.setOf)(new r.Argument((0,c.setOf)(n),{n,r:a.Relationship.Equal,n1:s.Fraction.of((0,o.productOrNot)(...g,...v),(0,o.productOrNot)(...b))},"Sum exponents in both numerator and denominator",e.RULE_ID))}}e.SubtractExponentsOnFractions=f,e.RULE_ID="Sum exponents in num and den in fractions"},2449:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RULE_ID=e.SumCoefficientsOfAddedTerms=void 0;const r=n(572),o=n(2070),i=n(7817),s=n(7963),u=n(4756),a=n(9273),c=n(6350),l=n(1886);class f extends l.NoContextExpressionSimplificationRule{appliesImpl(t){return t instanceof u.Sum}applyImpl(t){const n=t.terms,u=[],l=[];for(const t of n)t instanceof s.Product&&t.factors[0]instanceof i.Integer?u.push(t):l.push(t);const f=new Map;for(const t of u){const e=t.factors[0],n=[...t.factors];n.splice(0,1);const r=(0,o.productOrNot)(...n);f.has(r)?(f.get(r).coefficient+=e.value,f.get(r).moreThanOne=!0):f.set(r,{coefficient:e.value,moreThanOne:!1})}const p=new Set;return f.forEach(((n,i)=>{if(!n.moreThanOne)return;const s=u.filter((t=>{const e=[...t.factors];e.splice(0,1);const n=(0,o.productOrNot)(...e);return i!==n}));p.add(new r.Argument((0,c.setOf)(t),{n:t,r:a.Relationship.Equal,n1:(0,o.sumOrNot)((0,o.productAndNotTimesOne)((0,o.num)(n.coefficient),i),...l,...s)},"Combining like terms",e.RULE_ID))})),p}}e.SumCoefficientsOfAddedTerms=f,e.RULE_ID="SumCoefficients of added terms"},8213:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DerivativeType=e.Derivative=void 0;const r=n(1582),o=n(7963),i=n(4756);class s extends r.Expression{static of(t,e){const n=t.hash+e.hash;return this.instances.has(n)||this.instances.set(n,new s(t,e)),this.instances.get(n)}constructor(t,n){super(),this.class=e.DerivativeType,this.exp=t,this.relativeTo=n,Object.freeze(this.exp),Object.freeze(this.relativeTo),this.isReducible=!1,this.isConstant=!1,this.childCount=2+t.childCount+n.childCount}toString(){return"d/d"+this.relativeTo.toString()+"("+this.exp.toString()+")"}toUnambigiousString(){return"(d/d"+this.relativeTo.toUnambigiousString()+")"+this.exp.toUnambigiousString()}get hash(){return this.class+this.exp.hash+this.relativeTo.hash}toMathXML(){function t(t){return t.class==i.SumType||t.class==o.ProductType?"<mo>(</mo>"+t.toMathXML()+"<mo>)</mo>":t.toMathXML()}return"<mfrac><mn>d</mn><mrow><mn>d</mn>"+t(this.relativeTo)+"</mrow></mfrac>"+t(this.exp)}evaluate(t){return NaN}}e.Derivative=s,s.instances=new Map,e.DerivativeType="Derivative"},4955:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExponentType=e.Exponent=void 0;const r=n(4315),o=n(1582),i=n(9691),s=n(7817),u=n(7963),a=n(4756);class c extends o.Expression{static of(t,e){const n=t.hash+e.hash;return c.instances.has(n)||c.instances.set(n,new c(t,e)),c.instances.get(n)}toMathXML(){return"<msup>"+((t=this.base).class==a.SumType||t.class==u.ProductType||t.class==i.FractionType?(0,r.inRow)((0,r.inParen)(t.toMathXML())):t.toMathXML())+(0,r.inRow)(this.power.toMathXML())+"</msup>";var t}toString(){return"("+this.base+")^("+this.power+")"}toUnambigiousString(){return"("+this.base+")^("+this.power+")"}get hash(){return"Pow"+this.base.hash+this.power.hash}evaluate(t){return Math.pow(this.base.evaluate(t),this.power.evaluate(t))}constructor(t,n){super(),this.class=e.ExponentType,this.base=t,this.power=n,Object.freeze(this.base),Object.freeze(this.power),this.isReducible=(t.isReducible||t.class===s.IntegerType)&&(n.isReducible||n.class===s.IntegerType),this.isConstant=t.isConstant&&n.isConstant,this.childCount=2+t.childCount+n.childCount}}e.Exponent=c,c.instances=new Map,e.ExponentType="Exponent"},1582:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Expression=void 0;const r=n(3959);class o extends r.MathGraphNode{}e.Expression=o},9691:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FractionType=e.Fraction=void 0;const r=n(1582);class o extends r.Expression{static of(t,e){const n=t.hash+e.hash;return this.instance.has(n)||this.instance.set(n,new o(t,e)),this.instance.get(n)}constructor(t,n){super(),this.class=e.FractionType,this.numerator=t,this.denominator=n,Object.freeze(this.numerator),Object.freeze(this.denominator),this.isReducible=!1,this.isConstant=t.isConstant&&n.isConstant,this.childCount=2+t.childCount+n.childCount}toString(){return this.numerator.toString()+" / "+this.denominator.toString()}toUnambigiousString(){return`(${this.numerator.toUnambigiousString()})/(${this.denominator.toUnambigiousString()})`}get hash(){return e.FractionType+this.numerator.hash+this.denominator.hash}toMathXML(){return"<mfrac><mrow>"+this.numerator.toMathXML()+"</mrow><mrow>"+this.denominator.toMathXML()+"</mrow></mfrac>"}evaluate(t){return this.numerator.evaluate(t)/this.denominator.evaluate(t)}}e.Fraction=o,o.instance=new Map,e.FractionType="Fraction"},7817:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntegerType=e.Integer=void 0;const r=n(6515),o=n(1582);class i extends o.Expression{static of(t){return i.instances.has(t)||i.instances.set(t,new i(t)),i.instances.get(t)}constructor(t){super(),this.class=e.IntegerType,this.isReducible=!1,this.isConstant=!0,this.childCount=0,this.value=t,(0,r.assert)(this.value%1==0,"Creating non-integer integer "+this.value)}butPositive(){return i.of(Math.abs(this.value))}toMathXML(){return"<mn>"+this.value+"</mn>"}toString(){return""+this.value}toUnambigiousString(){return""+this.value}get hash(){return"Int"+this.value}evaluate(t){return this.value}}e.Integer=i,i.instances=new Map,e.IntegerType="Integer"},9554:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntegralType=e.Integral=void 0;const r=n(4315),o=n(1582),i=n(7963),s=n(4756);class u extends o.Expression{static of(t,e){return this.instances.has(t.hash+e.hash)||this.instances.set(t.hash+e.hash,new u(t,e)),this.instances.get(t.hash+e.hash)}constructor(t,n){super(),this.class=e.IntegralType,this.integrand=t,this.relativeTo=n,Object.freeze(this.integrand),Object.freeze(this.relativeTo),this.isReducible=!1,this.isConstant=!1,this.childCount=2+t.childCount+n.childCount}toString(){return"âˆ«"+this.integrand.toString()}toUnambigiousString(){return"âˆ«("+this.integrand.toUnambigiousString()+")"+this.relativeTo.toUnambigiousString()}get hash(){return"âˆ«"+this.integrand.toString()+this.relativeTo.toString()}toMathXML(){function t(t){return t.class==s.SumType||t.class==i.ProductType?(0,r.inParen)(t.toMathXML()):t.toMathXML()}return"<mrow><mo>âˆ«</mo>"+t(this.integrand)+"<mn>d</mn>"+t(this.relativeTo)+"</mrow>"}evaluate(t){return NaN}}e.Integral=u,u.instances=new Map,e.IntegralType="Integral"},1116:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogType=e.Logarithm=void 0;const r=n(1582);class o extends r.Expression{static of(t,e){const n=t.hash+e.hash;return this.instances.has(n)||this.instances.set(n,new o(t,e)),this.instances.get(n)}constructor(t,n){super(),this.class=e.LogType,this.exp=t,this.base=n,Object.freeze(this.exp),Object.freeze(this.base),this.isReducible=!1,this.isConstant=t.isConstant&&n.isConstant,this.childCount=2+t.childCount+n.childCount}toMathXML(){return`<mrow>\n            <msub><mtext>log</mtext>${this.base.toMathXML()}</msub>\n            <mrow>${this.exp.toMathXML()}</mrow>\n        </row>`}toString(){return`log${this.base.toString()}(${this.exp.toString()})`}toUnambigiousString(){return`log(${this.base.toUnambigiousString()})(${this.exp.toUnambigiousString()})`}get hash(){throw new Error("Method not implemented.")}evaluate(t){return Math.log(this.exp.evaluate(t))/Math.log(this.base.evaluate(t))}}e.Logarithm=o,o.instances=new Map,e.LogType="Logarithm"},7963:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.factorOrder=e.ProductType=e.Product=void 0;const r=n(6515),o=n(4955),i=n(1582),s=n(7817),u=n(4756),a=n(6231);class c extends i.Expression{static of(t){const e=t.map((t=>t.hash)).join("");return c.instances.has(e)||c.instances.set(e,new c(t)),c.instances.get(e)}constructor(t){super(),this.class=e.ProductType,(0,r.assert)(t.length>=2,"Creating product with less than 2 factors."),this.factors=t,Object.freeze(this.factors);let n=!0;this.factors.forEach((t=>{n&&(n=t.isReducible||t.class==s.IntegerType)})),this.isReducible=n;let o=!0;o&&(o=this.numNegatives()<2);let i=2==t.length;i&&(i=1==t.filter((t=>t instanceof s.Integer&&-1==t.value)).length),this.isNegation=i,this.isConstant=this.factors.map((t=>t.isConstant)).reduce(((t,e)=>t&&e)),this.childCount=t.length+t.map((t=>t.childCount)).reduce(((t,e)=>t+e))-(this.isNegation?1:0)}get negation(){return(0,r.assert)(this.isNegation,"Trying to get negation from non-negating sum"),this.factors[0].class==s.IntegerType&&-1==this.factors[0].value?this.factors[1]:this.factors[0]}without(t){const e=[...this.factors],n=e.findIndex((e=>e===t));return-1==n?this:(e.splice(n,1),e.length<2?e[0]:c.of(e))}toMathXML(){let t="";function n(t){return t.class==e.ProductType||t.class==u.SumType?"<mo>(</mo>"+t.toMathXML()+"<mo>)</mo>":t.toMathXML()}if(this.isNegation)return t+="<mo>-</mo>",t+=n(this.negation),t;t+=n(this.factors[0]);for(let e=1;e<this.factors.length;e++){let r=this.factors[e];(r.class==s.IntegerType&&this.factors[e-1].class==s.IntegerType||r instanceof c&&r.isNegation||r instanceof s.Integer&&r.value<1)&&(t+="<mo>Â·</mo>"),t+=n(r)}return t}numNegatives(){let t=0;return this.factors.forEach((e=>{e instanceof s.Integer&&e.value<0&&t++})),t}toString(){let t="";for(const e of this.factors)t+=e instanceof c?"("+e.toString()+")":e.toString(),t+="Â·";return t=t.substring(0,t.length-1),t}toUnambigiousString(){if(this.isNegation)return`-(${this.negation.toUnambigiousString()})`;let t="";for(const e of this.factors)t+=e instanceof c?"("+e.toString()+")":e.toString(),t+="Â·";return t=t.substring(0,t.length-1),t}get hash(){return"Product"+this.factors.map((t=>t.hash)).join()}evaluate(t){return this.factors.map((e=>e.evaluate(t))).reduce(((t,e)=>t*e))}}e.Product=c,c.instances=new Map,e.ProductType="Product",e.factorOrder=function(t,e){if(t instanceof s.Integer&&e instanceof s.Integer)return 0;if(t instanceof s.Integer)return l;const n=t instanceof a.Variable?t.symbol:t instanceof o.Exponent&&t.base instanceof a.Variable?t.base.symbol:null,r=e instanceof a.Variable?e.symbol:e instanceof o.Exponent&&e.base instanceof a.Variable?e.base.symbol:null;return null!=n&&null!=r?n>r?l:f:0};const l=1,f=-1},4756:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.orderTerms=e.SumType=e.Sum=void 0;const r=n(6515),o=n(1582),i=n(7817),s=n(7963),u=n(6231);class a extends o.Expression{static of(t){const e=t.map((t=>t.hash)).join("");return a.instances.has(e)||a.instances.set(e,new a(t)),a.instances.get(e)}constructor(t){super(),this.class=e.SumType,(0,r.assert)(t.length>=2,"Creating sum with less than 2 terms."),this.terms=t,this.isReducible=this.terms.map((t=>t.isReducible||t.class==i.IntegerType)).reduce(((t,e)=>t&&e)),this.isConstant=this.terms.map((t=>t.isConstant)).reduce(((t,e)=>t&&e)),Object.freeze(this.terms),this.childCount=t.length+t.map((t=>t.childCount)).reduce(((t,e)=>t+e))}without(t){const e=[...this.terms],n=e.findIndex((e=>e===t));return-1==n?this:(e.splice(n,1),e.length<2?e[0]:a.of(e))}toMathXML(){function t(t){return t.class==e.SumType?"<mo>(</mo>"+t.toMathXML()+"<mo>)</mo>":t.toMathXML()}let n=t(this.terms[0]);for(let e=1;e<this.terms.length;e++){const r=this.terms[e];r instanceof s.Product&&r.isNegation?n+="<mo>-</mo>"+t(r.negation):r instanceof i.Integer&&r.value<0?n+="<mo>-</mo>"+t(r.butPositive()):n+="<mo>+</mo>"+t(this.terms[e])}return n}toString(){let t="";for(const e of this.terms)t+=e.toString()+"+";return t=t.substring(0,t.length-1),t}toUnambigiousString(){let t="";for(const e of this.terms)t+="("+e.toUnambigiousString()+")+";return t=t.substring(0,t.length-1),t}get hash(){return"Sum"+this.terms.map((t=>t.hash)).join()}evaluate(t){return this.terms.map((e=>e.evaluate(t))).reduce(((t,e)=>t+e))}}e.Sum=a,a.instances=new Map,e.SumType="Sum",e.orderTerms=function(...t){return t.sort(((t,e)=>t.class==i.IntegerType&&(e.class==u.VariableType||e instanceof s.Product&&e.isNegation&&e.negation.class==u.VariableType)?1:(t.class==u.VariableType||t instanceof s.Product&&t.isNegation&&t.negation.class==u.VariableType)&&e.class==i.IntegerType?-1:0))}},6231:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableType=e.Variable=void 0;const r=n(1582);class o extends r.Expression{static of(t){return null==o.instances.get(t)&&o.instances.set(t,new o(t)),o.instances.get(t)}constructor(t){super(),this.class=e.VariableType,this.isReducible=!1,this.isConstant=!1,this.childCount=0,this.symbol=t}toMathXML(){return"<mi>"+this.symbol+"</mi>"}toString(){return this.symbol}toUnambigiousString(){return this.symbol}get hash(){return"Var"+this.symbol}evaluate(t){return t.valueOf(this)}}e.Variable=o,o.instances=new Map,e.VariableType="Variable"},5271:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkipSet=e.Interpreter=void 0,e.Interpreter=class{constructor(t){this.graph=null,this.config=t}processPath(t){this.graph=t.graph;const e=new n,r=t=>this.config.skips.has(t.ruleId),o=this.graph;function i(e){var n;let s=t.nodes.indexOf(e);const u=t.nodes[s+1];return null==u?null:r(o.getEdge(e,u))&&null!==(n=i(u))&&void 0!==n?n:u}return function n(r){const s=i(r);if(null!=s){const i=o.getEdge(r,t.nodes[t.nodes.indexOf(r)+1]);e.addSkip(r,{e:s,a:i}),n(s)}}(t.nodes[0]),this.graph=null,e}hasOneOutEdge(t){var e;return 1==(null===(e=this.graph)||void 0===e?void 0:e.getDegree(t,"out"))}};class n{constructor(){this.skips=new Map}next(t){return this.skips.has(t)?this.skips.get(t):null}addSkip(t,e){if(t!=e.e){if(this.skips.has(t)&&this.skips.get(t)!=e)throw new Error("Adding another end to SkipSet");this.skips.set(t,e)}}}e.SkipSet=n},8982:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;class n{constructor(t,...e){this.nodes=e,this.graph=t}[Symbol.iterator](){throw new Error("Method not implemented.")}}e.Path=n},591:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArgumentNodeView=void 0;const r=n(6354);class o extends r.GraphNodeView{constructor(t,e){super(e),this.argument=t}connectedCallback(){this.textContent=this.argument.argument,this.classList.add("argument")}}e.ArgumentNodeView=o,customElements.define("argument-nodeview",o,{extends:"div"})},4370:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EdgeView=void 0;const r=n(572),o=n(9685),i=n(4561),s=n(6515);class u extends HTMLParagraphElement{constructor(t,e){super(),this.owner=t,this.edge=e.e,this.first=e.n,this.second=e.n1,Object.freeze(this.edge),this.style.width="fit-content",this.style.height="fit-content",this.style.padding="0",this.style.zIndex="-2",this.style.margin="0",this.style.whiteSpace="nowrap",this.style.textAlign="center",this.style.backgroundColor=o.uiPreferences.edgeEqualsBackgroundColor,this.style.userSelect="none",this.style.backgroundColor="white",o.uiPreferences.onUpdate((()=>{this.style.backgroundColor=o.uiPreferences.edgeEqualsBackgroundColor})),this.addEventListener("click",(t=>{this.owner.edgeClicked(this,t)})),this.addEventListener("mouseout",(t=>{})),this.repOk()}setAngle(t){this.style.rotate=t+"rad"}set width(t){super.style.width=t}connectedCallback(){if(this.edge instanceof r.Argument)this.textContent=""+this.edge.claim.r;else{if(!(this.edge instanceof i.GivenEdge))throw new Error("Not implemented for "+this.edge);this.textContent=""+this.edge.r}}repOk(){(0,s.assert)(null!=this.first),(0,s.assert)(null!=this.second)}}e.EdgeView=u,customElements.define("edge-view",u,{extends:"p"})},311:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditableMathView=void 0;class n extends HTMLDivElement{constructor(){super(),this.listeners=[],this._value=null,this.addEventListener("click",(t=>{}))}connectedCallback(){}set value(t){var e;this._value=t,this.innerHTML="<math display='block'>"+(null!==(e=null==t?void 0:t.toMathXML())&&void 0!==e?e:"")+"</math>",this.listeners.forEach((t=>t(this._value))),MathJax.typeset([this])}get value(){return this._value}addEditListener(t){this.listeners.push(t)}}e.EditableMathView=n,customElements.define("editable-mathview",n,{extends:"div"})},3504:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExplanationPopup=void 0;const r=n(1582),o=n(4315);class i extends HTMLDivElement{constructor(t,e){super(),this.arg=t,this.onClose=e;const n=document.createElement("b");n.addEventListener("click",(()=>{this.onClose()})),n.textContent="Close",n.style.userSelect="none",n.style.float="right",this.append(n);const i=document.createElement("div");i.innerHTML=t.argument+"<br>",t.claim.n instanceof r.Expression&&t.claim.n1 instanceof r.Expression&&(i.innerHTML+=(0,o.inMathBlock)((0,o.inRow)(t.claim.n.toMathXML()+" <mo>"+t.claim.r+"</mo> "+t.claim.n1.toMathXML()))+"<br> Derived from: <br>");for(const e of t.grounds)e instanceof r.Expression&&(i.innerHTML+=(0,o.inMath)(e.toMathXML())+"<br>");this.append(i),this.style.backgroundColor="white",this.style.border="1px solid black",this.style.boxShadow="0.3ch 0.3ch 0.6ch rgba(0, 0, 0, 0.5)",this.style.padding="1ch",this.style.width="fit-content",this.style.zIndex="15"}connectedCallback(){MathJax.typeset([this])}}e.ExplanationPopup=i,customElements.define("explanation-popup",i,{extends:"div"})},8628:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionNodeView=void 0;const r=n(311),o=n(6354);class i extends o.GraphNodeView{constructor(t,e){super(e),this.node=t,this.editableMathView=new r.EditableMathView,this.editableMathView.value=this.node,this.appendChild(this.editableMathView),this.addEventListener("click",(()=>{console.log(this.node.toUnambigiousString())}))}connectedCallback(){this.classList.add("expression")}}e.ExpressionNodeView=i,customElements.define("expression-nodeview",i,{extends:"div"})},6354:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphNodeView=void 0;class n extends HTMLDivElement{constructor(t){super(),this.style.padding="1ch",this.style.width="fit-content",this.style.height="fit-content",this.style.whiteSpace="nowrap",t(this)}set backgroundColor(t){this.style.backgroundColor=t}}e.GraphNodeView=n},4259:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TouchGestureRecognizer=void 0,e.TouchGestureRecognizer=class{constructor(){this.moveListeners=[],this.pinchListeners=[]}addMoveListener(t){this.moveListeners.push(t)}addPinchListener(t){this.pinchListeners.push(t)}processTouchDown(t){}processTouchMove(t){for(const e of t.changedTouches)e.clientX}processTouchEnd(t){}processTouchCancel(t){}}},9685:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uiPreferences=void 0,e.uiPreferences=new class{constructor(){this._edgeEqualsBackgroundColor="none",this.callbacks=[]}onUpdate(t){this.callbacks.push(t)}get edgeEqualsBackgroundColor(){return this._edgeEqualsBackgroundColor}set edgeEqualsBackgroundColor(t){this._edgeEqualsBackgroundColor=t,this.callbacks.forEach((t=>t()))}}},8543:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGraphView=void 0;const r=n(572),o=n(1582),i=n(1667),s=n(6515),u=n(4259),a=n(4370),c=n(8628),l=n(591),f=n(6354),p=n(3504);class h extends HTMLDivElement{constructor(t,e,n,r=void 0){super(),this.nodeColorFn=t=>"lightblue",this.mouseDown=!1,this.touchDown=!1,this.scale=1,this.showArguments=!1,this.drawEdgeLines=!1,this.debugCornerEnabled=!1,this.resizeObserver=new ResizeObserver((t=>{this.arrange(),this.updateOffset()})),this.baseNodeStyle=t=>{t.style.borderRadius="1ch",t.style.backgroundColor="lightblue",t.style.zIndex=""+d},this.nodes=new Map,this.offsetX=0,this.offsetY=0,this.nodePositions=new Map,this.edgePositions=new Map,this.edges=new Map,this.ringElements=new Set,this.ringPositions=new Map,this.explanationPopups=[],this.interpreter=n,null!=r&&(this.showArguments=r.showArguments,this.drawEdgeLines=r.drawEdgeLines,this.debugCornerEnabled=r.debugCornerEnabled),this.style.clipPath="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",this.style.position="relative",this.style.overflow="hidden",this.addEventListener("mousedown",(t=>{this.mouseDown=!0,this.touchDown=!1})),this.addEventListener("mouseup",(t=>{this.mouseDown=!1})),this.addEventListener("mouseleave",(t=>{this.mouseDown=!1})),this.addEventListener("mousemove",(t=>{this.mouseDown&&(this.offsetX+=t.movementX/this.scale,this.offsetY+=t.movementY/this.scale,this.updateOffset())})),this.resizeObserver.observe(this),this.addEventListener("wheel",(t=>{y(t.offsetX,t.offsetY);const e=Math.pow(.8,t.deltaY/360);return this.scale=e*this.scale,this.updateOffset(),!0})),this.gestureRecognizer=new u.TouchGestureRecognizer,this.addEventListener("touchdown",this.gestureRecognizer.processTouchDown),this.addEventListener("touchend",this.gestureRecognizer.processTouchEnd),this.addEventListener("touchcancel",this.gestureRecognizer.processTouchCancel),this.addEventListener("touchmove",this.gestureRecognizer.processTouchMove),this.gestureRecognizer.addPinchListener(((t,e,n)=>{})),this.setGraph(t,e),this.repOk()}setGraph(t,e){this.graph=t,this.rootNodes=new Set(e),this.readGraph(),this.arrange(),this.updateOffset()}setNodeColoringScheme(t){this.nodeColorFn=t,this.propogateSettingsToNodes()}propogateSettingsToNodes(){this.nodes.forEach(((t,e)=>{t.backgroundColor=this.nodeColorFn(e)}))}setShowArguments(t){this.showArguments=!0,this.readGraph(),this.arrange(),this.updateOffset()}get center(){return{x:this.offsetWidth/2,y:this.offsetHeight/2}}readGraph(){if(this.nodes.forEach(((t,e)=>{this.removeChild(t)})),this.nodes.clear(),this.edges.forEach(((t,e)=>{this.removeChild(t)})),this.edges.clear(),this.graph.getNodes().forEach((t=>{if(t instanceof o.Expression){const e=new c.ExpressionNodeView(t,this.baseNodeStyle);e.style.position="absolute",this.nodes.set(t,e),this.append(e)}else{if(!(t instanceof r.Argument))throw new Error("Graph contains node WebGraphView can't process.");{if(!this.showArguments)return;const e=new l.ArgumentNodeView(t,this.baseNodeStyle);e.style.position="absolute",this.nodes.set(t,e),this.append(e)}}})),i.GraphMinipulator.dropSymmetric(this.graph.getEdges()).filter((t=>this.nodes.has(t.n)&&this.nodes.has(t.n1))).forEach((t=>{const e=new a.EdgeView(this,t);e.style.position="absolute",this.edges.set(t,e),this.append(e)})),this.propogateSettingsToNodes(),this.debugCornerEnabled){const t=document.createElement("p");t.innerHTML="Graph Nodes: "+this.graph.getNodes().size+"<br>Visible Nodes: "+this.nodes.size+"<br>Graph Edges: "+this.graph.getEdges().size+"<br>Visible Edges: "+this.edges.size+"<br>",t.style.zIndex="100",t.style.backgroundColor="white",t.style.width="fit-content",t.style.margin="0",t.style.padding="1ch",t.style.border="black 1px solid",t.style.position="absolute",this.append(t)}this.repOk()}connectedCallback(){this.readGraph(),this.arrange(),this.updateOffset()}arrange(){this.nodePositions.clear(),this.edgePositions.clear(),this.ringPositions.clear(),this.ringElements.forEach((t=>{this.removeChild(t)})),this.ringElements.clear();const t=i.GraphMinipulator.getLevels(this.graph,this.rootNodes,(t=>{if(t instanceof o.Expression)return!0;if(t instanceof r.Argument)return this.showArguments;throw new Error("New type of node")}));let e=0;t.forEach(((t,n)=>{e=Math.max(e,n)}));const n=this.clientWidth/2,u=this.clientHeight/2;let a=0,c=null;for(let r=0;r<e+1;r++){const e=t.get(r),o=70;let i=Math.max(e.size*o/Math.PI,a+3*o);0==r&&1==e.size&&(i=0),a=i;const l=2*Math.PI/Math.max(e.size,2*i*Math.PI/(2.4*o)),f=new Map;if(null!=c){const n=new Map;for(const o of e){const e=this.graph.getNeighbors(o,"in").filter((e=>t.get(r-1).has(e)&&c.has(e)))[0],i=c.get(e);n.set(o,i)}(0,s.assert)(n.size==e.size);for(let t=0;t<e.size;t++)for(const t of n){let e=0;for(;(0,s.for_some)(f,(e=>Math.abs(e[1]-t[1])<l));)t[1]+=l*e*Math.pow(-1,e),e++;f.set(t[0],t[1])}}else{const t=[...e];for(let n=0;n<e.size;n++)f.set(t[n],n*l)}(0,s.assert)(f.size==e.size,"Only produced "+f.size+" nodes instead of "+e.size),c=new Map,f.forEach(((t,e)=>{const r=this.nodes.get(e);c.set(e,t);const o=i*Math.cos(t)+n,s=i*Math.sin(t)+u;this.nodePositions.set(r,y(o,s))})),(0,s.assert)((0,s.for_all)(c.values(),(t=>null!=t&&null!=t)));const p=document.createElement("div");p.style.border="lightgray solid 0.3ch",p.style.borderRadius="100%",p.style.position="absolute",p.style.zIndex=b,this.appendChild(p),this.ringElements.add(p),this.ringPositions.set(p,{radius:i})}this.edges.forEach(((t,e)=>{const n=this.nodePositions.get(this.nodes.get(e.n)).x,r=this.nodePositions.get(this.nodes.get(e.n)).y,o=this.nodePositions.get(this.nodes.get(e.n1)).x,i=this.nodePositions.get(this.nodes.get(e.n1)).y,s=(n+o)/2,u=(r+i)/2,a=Math.atan2(i-r,o-n);this.edgePositions.set(t,{x:s,y:u,angle:a})})),this.repOk()}updateOffset(){const t=this.center,e=this.scale;function n(n){return y((n.x-t.x)*e+t.x,(n.y-t.y)*e+t.y)}this.nodePositions.forEach(((t,e)=>{const r=n({x:t.x+this.offsetX,y:t.y+this.offsetY});e.style.left=r.x-.5*e.offsetWidth+"px",e.style.top=r.y-.5*e.offsetHeight+"px"})),this.edgePositions.forEach(((t,r)=>{if(r.setAngle(t.angle),this.drawEdgeLines){const t=this.nodePositions.get(this.nodes.get(r.first)),n=this.nodePositions.get(this.nodes.get(r.second));r.width=e*Math.hypot(n.x-t.x,n.y-t.y)+"px",r.style.borderBottom="black 0.1ch solid",r.style.borderTop="black 0.1ch solid"}else r.width="fit-content",r.style.borderBottom="none",r.style.borderTop="none";const o=n({x:t.x+this.offsetX,y:t.y+this.offsetY});r.style.left=o.x-.5*r.offsetWidth+"px",r.style.top=o.y-.5*r.offsetHeight+"px"})),this.ringPositions.forEach(((r,o)=>{const i=n({x:t.x+this.offsetX,y:t.y+this.offsetY});o.style.left=i.x-r.radius*e+"px",o.style.top=i.y-r.radius*e+"px",o.style.width=2*r.radius*e+"px",o.style.aspectRatio="1"})),this.explanationPopups.forEach((t=>{const e=t.e,r=t.pos,o=n({x:r.x+this.offsetX,y:r.y+this.offsetY});e.style.left=o.x-.5*e.offsetWidth+"px",e.style.top=o.y-.5*e.offsetHeight+"px"})),this.repOk()}getInternalPos(t){const e=this.center,n=this.scale;return y((t.x-e.x)/n+e.x-this.offsetX,(t.y-e.y)/n+e.y-this.offsetY)}edgeClicked(t,e){if(t.edge instanceof r.Argument){const n=new p.ExplanationPopup(t.edge,(()=>{this.removeChild(n);for(let t=0;t<this.explanationPopups.length;t++)if(this.explanationPopups[t].e===n){this.explanationPopups.splice(t,1);break}})),r=this.getBoundingClientRect(),o=e.clientX-r.left,i=e.clientY-r.top;this.explanationPopups.push({e:n,pos:this.getInternalPos(y(o,i))}),n.style.position="absolute",this.append(n),this.updateOffset()}this.reorderViewStack(t),this.repOk()}reorderViewStack(t){if(t instanceof f.GraphNodeView)throw new Error("Not implemented");if(t instanceof a.EdgeView){const e=[t.first,t.second];i.GraphMinipulator.getLevels(this.graph,e).forEach(((t,e)=>{t.forEach((t=>{!this.showArguments&&t instanceof r.Argument||(console.log("Adjusting"),this.nodes.get(t).style.zIndex=(d-1e-4*e).toString(),this.edges.forEach(((n,r)=>{n.first!==t&&n.second!==t||(n.style.zIndex=(v-1e-4*e).toString())})))}))}))}}repOk(){(0,s.assert)(this.rootNodes.size>0),(0,s.assert)(i.GraphMinipulator.isConnected(this.graph),"Graph not connected"),this.showArguments&&(0,s.assert)(this.graph.getNodes().size==this.nodes.size)}}function y(t,e,n=void 0){return null==n?{x:t,y:e}:{x:t,y:e,angle:n}}e.WebGraphView=h,customElements.define("web-graphview",h,{extends:"div"});const d=5,v=4,b="-10"},8529:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseExpression=void 0;const o=r(n(2529)),{CommonTokenStream:i,CharStream:s}=o.default,u=r(n(7089)),a=r(n(7851)),c=n(5094),l=n(7515),f=n(6515);e.parseExpression=function(t){const e=new s(t,!0),n=new u.default(e),r=new i(n),o=new a.default(r).expression();o.accept(new l.Flattener);const p=o.accept(new c.ExpressionVisitor);return(0,f.assert)(null!=p&&null!=p),p}},7515:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Flattener=void 0;const o=n(2070),i=n(7851),s=r(n(4957));class u extends s.default{constructor(){super(...arguments),this.visitSum=t=>{const e=this.flattenAddition(t);for(const t of e.children)this.visit(t);return e},this.visitProduct=t=>{const e=this.flattenProduct(t);for(const t of e.children)this.visit(t);return e}}printChildren(t){let e="";for(const n of t.children)e+=n.getText()+"  ";console.log(e)}flattenAddition(t){function e(n){(0,o.remove)(t.children,n),n._right instanceof i.SumContext?e(n._right):(n._right.parentCtx=t,t.children.unshift(n._right)),null!=n.MINUS()?(n.MINUS().parentCtx=t,t.children.unshift(n.MINUS())):(n.PLUS().parentCtx=t,t.children.unshift(n.PLUS())),n._left instanceof i.SumContext?e(n._left):(n._left.parentCtx=t,t.children.unshift(n._left)),n.parentCtx=void 0}return t._left instanceof i.SumContext&&e(t._left),t._right instanceof i.SumContext&&e(t._right),t}flattenProduct(t){function e(t){return t instanceof i.ProductContext}function n(r){(0,o.remove)(t.children,r),e(r._right)?n(r._right):(r._right.parentCtx=t,t.children.unshift(r._right)),null!=r.TIMES()&&(r.TIMES().parentCtx=t,t.children.unshift(r.TIMES())),e(r._left)?n(r._left):(r._left.parentCtx=t,t.children.unshift(r._left)),r.parentCtx=void 0}return e(t._left)&&n(t._left),e(t._right)&&n(t._right),t}}e.Flattener=u},5094:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExpressionVisitor=void 0;const o=n(2070),i=n(4955),s=n(9691),u=n(7817),a=n(9554),c=n(1116),l=n(7963),f=n(4756),p=n(6231),h=r(n(4957));class y extends h.default{constructor(){super(...arguments),this.visitExpression=t=>this.visit(t.open()),this.visitEquation=t=>{throw new Error("Can't parse equations with this visitor")},this.visitPower=t=>i.Exponent.of(this.visit(t._left),this.visit(t._right)),this.visitParen=t=>this.visit(t.open()),this.visitDivision=t=>s.Fraction.of(this.visit(t._left),this.visit(t._right)),this.visitProduct=t=>l.Product.of([...t.closed_list().map((t=>this.visit(t)))]),this.visitRight_ClosedImplicitProduct=t=>l.Product.of([this.visit(t._left),this.visit(t._right)]),this.visitIntegral=t=>a.Integral.of(this.visit(t._integrand),p.Variable.of("x")),this.visitLog=t=>c.Logarithm.of(this.visit(t._content),null==t._base?u.Integer.of(10):this.visit(t._base)),this.visitUnaryOnExpression=t=>null==t.MINUS()?this.visit(t.closed()):(0,o.negative)(this.visit(t.closed())),this.visitSum=t=>{const e=[this.visit(t.children[0])];for(let n=1;n<t.children.length;n+=2)"-"==t.children[n].getText()?e.push((0,o.negative)(this.visit(t.children[n+1]))):e.push(this.visit(t.children[n+1]));for(const t of e);return f.Sum.of(e)},this.visitAtom=t=>{if(null!=t.VARIABLE())return p.Variable.of(t.VARIABLE().getText());if(null!=t.SCIENTIFIC_NUMBER())return u.Integer.of(Number.parseFloat(t.SCIENTIFIC_NUMBER().getText()));throw new Error("Not implemented")},this.visitClosedAtom=t=>this.visit(t.atom()),this.visitClosedIsRight_Closed=t=>this.visit(t.closed()),this.visitRight_ClosedIsOpen=t=>this.visit(t.right_closed()),this.visitRelop=t=>{throw new Error("Shouldn't happen with this visitor impl")}}printChildren(t){let e="";for(const n of t.children)e+=n.getText()+"  ";console.log(e)}}e.ExpressionVisitor=y},7089:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2529);class o extends r.Lexer{constructor(t){super(t),this._interp=new r.LexerATNSimulator(this,o._ATN,o.DecisionsToDFA,new r.PredictionContextCache)}get grammarFileName(){return"arithmetic.g4"}get literalNames(){return o.literalNames}get symbolicNames(){return o.symbolicNames}get ruleNames(){return o.ruleNames}get serializedATN(){return o._serializedATN}get channelNames(){return o.channelNames}get modeNames(){return o.modeNames}static get _ATN(){return o.__ATN||(o.__ATN=(new r.ATNDeserializer).deserialize(o._serializedATN)),o.__ATN}}o.SCIENTIFIC_NUMBER=1,o.LPAREN=2,o.RPAREN=3,o.PLUS=4,o.MINUS=5,o.TIMES=6,o.DIV=7,o.GT=8,o.LT=9,o.EQ=10,o.POINT=11,o.POW=12,o.INT=13,o.LOG=14,o.VARIABLE=15,o.WS=16,o.EOF=r.Token.EOF,o.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],o.literalNames=[null,null,"'('","')'","'+'","'-'",null,"'/'","'>'","'<'","'='","'.'","'^'"],o.symbolicNames=[null,"SCIENTIFIC_NUMBER","LPAREN","RPAREN","PLUS","MINUS","TIMES","DIV","GT","LT","EQ","POINT","POW","INT","LOG","VARIABLE","WS"],o.modeNames=["DEFAULT_MODE"],o.ruleNames=["SCIENTIFIC_NUMBER","NUMBER","UNSIGNED_INTEGER","E","L","O","G","SIGN","LPAREN","RPAREN","PLUS","MINUS","TIMES","DIV","GT","LT","EQ","POINT","POW","INT","LOG","VARIABLE","WS"],o._serializedATN=[4,0,16,123,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,2,12,7,12,2,13,7,13,2,14,7,14,2,15,7,15,2,16,7,16,2,17,7,17,2,18,7,18,2,19,7,19,2,20,7,20,2,21,7,21,2,22,7,22,1,0,1,0,1,0,3,0,51,8,0,1,0,1,0,3,0,55,8,0,1,1,4,1,58,8,1,11,1,12,1,59,1,1,1,1,4,1,64,8,1,11,1,12,1,65,3,1,68,8,1,1,2,4,2,71,8,2,11,2,12,2,72,1,3,1,3,1,4,1,4,1,5,1,5,1,6,1,6,1,7,1,7,1,8,1,8,1,9,1,9,1,10,1,10,1,11,1,11,1,12,1,12,1,13,1,13,1,14,1,14,1,15,1,15,1,16,1,16,1,17,1,17,1,18,1,18,1,19,1,19,1,19,1,19,1,20,1,20,1,20,1,20,1,21,1,21,1,22,4,22,118,8,22,11,22,12,22,119,1,22,1,22,0,0,23,1,1,3,0,5,0,7,0,9,0,11,0,13,0,15,0,17,2,19,3,21,4,23,5,25,6,27,7,29,8,31,9,33,10,35,11,37,12,39,13,41,14,43,15,45,16,1,0,11,2,0,69,69,101,101,2,0,76,76,108,108,2,0,79,79,111,111,2,0,71,71,103,103,2,0,43,43,45,45,2,0,42,42,183,183,2,0,73,73,105,105,2,0,78,78,110,110,2,0,84,84,116,116,2,0,65,90,97,122,3,0,9,10,13,13,32,32,122,0,1,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,0,25,1,0,0,0,0,27,1,0,0,0,0,29,1,0,0,0,0,31,1,0,0,0,0,33,1,0,0,0,0,35,1,0,0,0,0,37,1,0,0,0,0,39,1,0,0,0,0,41,1,0,0,0,0,43,1,0,0,0,0,45,1,0,0,0,1,47,1,0,0,0,3,57,1,0,0,0,5,70,1,0,0,0,7,74,1,0,0,0,9,76,1,0,0,0,11,78,1,0,0,0,13,80,1,0,0,0,15,82,1,0,0,0,17,84,1,0,0,0,19,86,1,0,0,0,21,88,1,0,0,0,23,90,1,0,0,0,25,92,1,0,0,0,27,94,1,0,0,0,29,96,1,0,0,0,31,98,1,0,0,0,33,100,1,0,0,0,35,102,1,0,0,0,37,104,1,0,0,0,39,106,1,0,0,0,41,110,1,0,0,0,43,114,1,0,0,0,45,117,1,0,0,0,47,54,3,3,1,0,48,50,3,7,3,0,49,51,3,15,7,0,50,49,1,0,0,0,50,51,1,0,0,0,51,52,1,0,0,0,52,53,3,5,2,0,53,55,1,0,0,0,54,48,1,0,0,0,54,55,1,0,0,0,55,2,1,0,0,0,56,58,2,48,57,0,57,56,1,0,0,0,58,59,1,0,0,0,59,57,1,0,0,0,59,60,1,0,0,0,60,67,1,0,0,0,61,63,5,46,0,0,62,64,2,48,57,0,63,62,1,0,0,0,64,65,1,0,0,0,65,63,1,0,0,0,65,66,1,0,0,0,66,68,1,0,0,0,67,61,1,0,0,0,67,68,1,0,0,0,68,4,1,0,0,0,69,71,2,48,57,0,70,69,1,0,0,0,71,72,1,0,0,0,72,70,1,0,0,0,72,73,1,0,0,0,73,6,1,0,0,0,74,75,7,0,0,0,75,8,1,0,0,0,76,77,7,1,0,0,77,10,1,0,0,0,78,79,7,2,0,0,79,12,1,0,0,0,80,81,7,3,0,0,81,14,1,0,0,0,82,83,7,4,0,0,83,16,1,0,0,0,84,85,5,40,0,0,85,18,1,0,0,0,86,87,5,41,0,0,87,20,1,0,0,0,88,89,5,43,0,0,89,22,1,0,0,0,90,91,5,45,0,0,91,24,1,0,0,0,92,93,7,5,0,0,93,26,1,0,0,0,94,95,5,47,0,0,95,28,1,0,0,0,96,97,5,62,0,0,97,30,1,0,0,0,98,99,5,60,0,0,99,32,1,0,0,0,100,101,5,61,0,0,101,34,1,0,0,0,102,103,5,46,0,0,103,36,1,0,0,0,104,105,5,94,0,0,105,38,1,0,0,0,106,107,7,6,0,0,107,108,7,7,0,0,108,109,7,8,0,0,109,40,1,0,0,0,110,111,3,9,4,0,111,112,3,11,5,0,112,113,3,13,6,0,113,42,1,0,0,0,114,115,7,9,0,0,115,44,1,0,0,0,116,118,7,10,0,0,117,116,1,0,0,0,118,119,1,0,0,0,119,117,1,0,0,0,119,120,1,0,0,0,120,121,1,0,0,0,121,122,6,22,0,0,122,46,1,0,0,0,8,0,50,54,59,65,67,72,119,1,6,0,0],o.DecisionsToDFA=o._ATN.decisionToState.map(((t,e)=>new r.DFA(t,e))),e.default=o},7851:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RelopContext=e.AtomContext=e.SumContext=e.Right_ClosedIsOpenContext=e.OpenContext=e.Right_ClosedImplicitProductContext=e.ClosedIsRight_ClosedContext=e.UnaryOnExpressionContext=e.Right_closedContext=e.ParenContext=e.PowerContext=e.ClosedAtomContext=e.DivisionContext=e.ProductContext=e.IntegralContext=e.LogContext=e.ClosedContext=e.ExpressionContext=e.EquationContext=void 0;const r=n(2529);class o extends r.Parser{get grammarFileName(){return"arithmetic.g4"}get literalNames(){return o.literalNames}get symbolicNames(){return o.symbolicNames}get ruleNames(){return o.ruleNames}get serializedATN(){return o._serializedATN}createFailedPredicateException(t,e){return new r.FailedPredicateException(this,t,e)}constructor(t){super(t),this._interp=new r.ParserATNSimulator(this,o._ATN,o.DecisionsToDFA,new r.PredictionContextCache)}equation(){let t=new i(this,this._ctx,this.state);this.enterRule(t,0,o.RULE_equation);try{this.enterOuterAlt(t,1),this.state=14,this.expression(),this.state=15,this.relop(),this.state=16,this.expression()}catch(e){if(!(e instanceof r.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}expression(){let t=new s(this,this._ctx,this.state);this.enterRule(t,2,o.RULE_expression);try{this.enterOuterAlt(t,1),this.state=18,this.open(0)}catch(e){if(!(e instanceof r.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}closed(t){void 0===t&&(t=0);let e,n=this._ctx,i=this.state,s=new u(this,this._ctx,i),d=s;this.enterRecursionRule(s,4,o.RULE_closed,t);try{let t;switch(this.enterOuterAlt(s,1),this.state=33,this._errHandler.sync(this),this._input.LA(1)){case 2:s=new y(this,s),this._ctx=s,d=s,this.state=21,this.match(o.LPAREN),this.state=22,this.open(0),this.state=23,this.match(o.RPAREN);break;case 1:case 15:s=new p(this,s),this._ctx=s,d=s,this.state=25,this.atom();break;case 13:s=new c(this,s),this._ctx=s,d=s,this.state=26,this.match(o.INT),this.state=27,s._integrand=this.closed(5);break;case 14:s=new a(this,s),this._ctx=s,d=s,this.state=28,this.match(o.LOG),this.state=30,this._errHandler.sync(this),1===this._interp.adaptivePredict(this._input,0,this._ctx)&&(this.state=29,s._base=this.closed(0)),this.state=32,s._content=this.closed(1);break;default:throw new r.NoViableAltException(this)}for(this._ctx.stop=this._input.LT(-1),this.state=48,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,4,this._ctx);2!==t&&t!==r.ATN.INVALID_ALT_NUMBER;){if(1===t)switch(null!=this._parseListeners&&this.triggerExitRuleEvent(),d=s,this.state=46,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,3,this._ctx)){case 1:if(s=new f(this,new u(this,n,i)),s._left=d,this.pushNewRecursionContext(s,4,o.RULE_closed),this.state=35,!this.precpred(this._ctx,4))throw this.createFailedPredicateException("this.precpred(this._ctx, 4)");this.state=36,this.match(o.DIV),this.state=37,s._right=this.closed(5);break;case 2:if(s=new h(this,new u(this,n,i)),s._left=d,this.pushNewRecursionContext(s,4,o.RULE_closed),this.state=38,!this.precpred(this._ctx,3))throw this.createFailedPredicateException("this.precpred(this._ctx, 3)");this.state=39,this.match(o.POW),this.state=40,s._right=this.closed(4);break;case 3:if(s=new l(this,new u(this,n,i)),s._left=d,this.pushNewRecursionContext(s,4,o.RULE_closed),this.state=41,!this.precpred(this._ctx,2))throw this.createFailedPredicateException("this.precpred(this._ctx, 2)");this.state=43,this._errHandler.sync(this),e=this._input.LA(1),6===e&&(this.state=42,this.match(o.TIMES)),this.state=45,s._right=this.closed(3)}this.state=50,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,4,this._ctx)}}catch(t){if(!(t instanceof r.RecognitionException))throw t;s.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(n)}return s}right_closed(t){void 0===t&&(t=0);let e,n=this._ctx,i=this.state,s=new d(this,this._ctx,i),u=s;this.enterRecursionRule(s,6,o.RULE_right_closed,t);try{let t;switch(this.enterOuterAlt(s,1),this.state=55,this._errHandler.sync(this),this._input.LA(1)){case 1:case 2:case 13:case 14:case 15:s=new b(this,s),this._ctx=s,u=s,this.state=52,this.closed(0);break;case 4:case 5:s=new v(this,s),this._ctx=s,u=s,this.state=53,e=this._input.LA(1),4!==e&&5!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=54,this.closed(0);break;default:throw new r.NoViableAltException(this)}for(this._ctx.stop=this._input.LT(-1),this.state=61,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,6,this._ctx);2!==t&&t!==r.ATN.INVALID_ALT_NUMBER;){if(1===t){if(null!=this._parseListeners&&this.triggerExitRuleEvent(),u=s,s=new m(this,new d(this,n,i)),s._left=u,this.pushNewRecursionContext(s,6,o.RULE_right_closed),this.state=57,!this.precpred(this._ctx,1))throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");this.state=58,s._right=this.closed(0)}this.state=63,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,6,this._ctx)}}catch(t){if(!(t instanceof r.RecognitionException))throw t;s.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(n)}return s}open(t){void 0===t&&(t=0);let e,n=this._ctx,i=this.state,s=new g(this,this._ctx,i),u=s;this.enterRecursionRule(s,8,o.RULE_open,t);try{let t;for(this.enterOuterAlt(s,1),s=new S(this,s),this._ctx=s,u=s,this.state=65,this.right_closed(0),this._ctx.stop=this._input.LT(-1),this.state=72,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,7,this._ctx);2!==t&&t!==r.ATN.INVALID_ALT_NUMBER;){if(1===t){if(null!=this._parseListeners&&this.triggerExitRuleEvent(),u=s,s=new w(this,new g(this,n,i)),s._left=u,this.pushNewRecursionContext(s,8,o.RULE_open),this.state=67,!this.precpred(this._ctx,1))throw this.createFailedPredicateException("this.precpred(this._ctx, 1)");this.state=68,e=this._input.LA(1),4!==e&&5!==e?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume()),this.state=69,s._right=this.right_closed(0)}this.state=74,this._errHandler.sync(this),t=this._interp.adaptivePredict(this._input,7,this._ctx)}}catch(t){if(!(t instanceof r.RecognitionException))throw t;s.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.unrollRecursionContexts(n)}return s}atom(){let t,e=new O(this,this._ctx,this.state);this.enterRule(e,10,o.RULE_atom);try{this.enterOuterAlt(e,1),this.state=75,t=this._input.LA(1),1!==t&&15!==t?this._errHandler.recoverInline(this):(this._errHandler.reportMatch(this),this.consume())}catch(t){if(!(t instanceof r.RecognitionException))throw t;e.exception=t,this._errHandler.reportError(this,t),this._errHandler.recover(this,t)}finally{this.exitRule()}return e}relop(){let t=new x(this,this._ctx,this.state);this.enterRule(t,12,o.RULE_relop);try{this.enterOuterAlt(t,1),this.state=77,this.match(o.EQ)}catch(e){if(!(e instanceof r.RecognitionException))throw e;t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e)}finally{this.exitRule()}return t}sempred(t,e,n){switch(e){case 2:return this.closed_sempred(t,n);case 3:return this.right_closed_sempred(t,n);case 4:return this.open_sempred(t,n)}return!0}closed_sempred(t,e){switch(e){case 0:return this.precpred(this._ctx,4);case 1:return this.precpred(this._ctx,3);case 2:return this.precpred(this._ctx,2)}return!0}right_closed_sempred(t,e){return 3!==e||this.precpred(this._ctx,1)}open_sempred(t,e){return 4!==e||this.precpred(this._ctx,1)}static get _ATN(){return o.__ATN||(o.__ATN=(new r.ATNDeserializer).deserialize(o._serializedATN)),o.__ATN}}o.SCIENTIFIC_NUMBER=1,o.LPAREN=2,o.RPAREN=3,o.PLUS=4,o.MINUS=5,o.TIMES=6,o.DIV=7,o.GT=8,o.LT=9,o.EQ=10,o.POINT=11,o.POW=12,o.INT=13,o.LOG=14,o.VARIABLE=15,o.WS=16,o.EOF=r.Token.EOF,o.RULE_equation=0,o.RULE_expression=1,o.RULE_closed=2,o.RULE_right_closed=3,o.RULE_open=4,o.RULE_atom=5,o.RULE_relop=6,o.literalNames=[null,null,"'('","')'","'+'","'-'",null,"'/'","'>'","'<'","'='","'.'","'^'"],o.symbolicNames=[null,"SCIENTIFIC_NUMBER","LPAREN","RPAREN","PLUS","MINUS","TIMES","DIV","GT","LT","EQ","POINT","POW","INT","LOG","VARIABLE","WS"],o.ruleNames=["equation","expression","closed","right_closed","open","atom","relop"],o._serializedATN=[4,1,16,80,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,1,0,1,0,1,0,1,0,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,3,2,31,8,2,1,2,3,2,34,8,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,3,2,44,8,2,1,2,5,2,47,8,2,10,2,12,2,50,9,2,1,3,1,3,1,3,1,3,3,3,56,8,3,1,3,1,3,5,3,60,8,3,10,3,12,3,63,9,3,1,4,1,4,1,4,1,4,1,4,1,4,5,4,71,8,4,10,4,12,4,74,9,4,1,5,1,5,1,6,1,6,1,6,0,3,4,6,8,7,0,2,4,6,8,10,12,0,2,1,0,4,5,2,0,1,1,15,15,83,0,14,1,0,0,0,2,18,1,0,0,0,4,33,1,0,0,0,6,55,1,0,0,0,8,64,1,0,0,0,10,75,1,0,0,0,12,77,1,0,0,0,14,15,3,2,1,0,15,16,3,12,6,0,16,17,3,2,1,0,17,1,1,0,0,0,18,19,3,8,4,0,19,3,1,0,0,0,20,21,6,2,-1,0,21,22,5,2,0,0,22,23,3,8,4,0,23,24,5,3,0,0,24,34,1,0,0,0,25,34,3,10,5,0,26,27,5,13,0,0,27,34,3,4,2,5,28,30,5,14,0,0,29,31,3,4,2,0,30,29,1,0,0,0,30,31,1,0,0,0,31,32,1,0,0,0,32,34,3,4,2,1,33,20,1,0,0,0,33,25,1,0,0,0,33,26,1,0,0,0,33,28,1,0,0,0,34,48,1,0,0,0,35,36,10,4,0,0,36,37,5,7,0,0,37,47,3,4,2,5,38,39,10,3,0,0,39,40,5,12,0,0,40,47,3,4,2,4,41,43,10,2,0,0,42,44,5,6,0,0,43,42,1,0,0,0,43,44,1,0,0,0,44,45,1,0,0,0,45,47,3,4,2,3,46,35,1,0,0,0,46,38,1,0,0,0,46,41,1,0,0,0,47,50,1,0,0,0,48,46,1,0,0,0,48,49,1,0,0,0,49,5,1,0,0,0,50,48,1,0,0,0,51,52,6,3,-1,0,52,56,3,4,2,0,53,54,7,0,0,0,54,56,3,4,2,0,55,51,1,0,0,0,55,53,1,0,0,0,56,61,1,0,0,0,57,58,10,1,0,0,58,60,3,4,2,0,59,57,1,0,0,0,60,63,1,0,0,0,61,59,1,0,0,0,61,62,1,0,0,0,62,7,1,0,0,0,63,61,1,0,0,0,64,65,6,4,-1,0,65,66,3,6,3,0,66,72,1,0,0,0,67,68,10,1,0,0,68,69,7,0,0,0,69,71,3,6,3,0,70,67,1,0,0,0,71,74,1,0,0,0,72,70,1,0,0,0,72,73,1,0,0,0,73,9,1,0,0,0,74,72,1,0,0,0,75,76,7,1,0,0,76,11,1,0,0,0,77,78,5,10,0,0,78,13,1,0,0,0,8,30,33,43,46,48,55,61,72],o.DecisionsToDFA=o._ATN.decisionToState.map(((t,e)=>new r.DFA(t,e))),e.default=o;class i extends r.ParserRuleContext{constructor(t,e,n){super(e,n),this.parser=t}expression_list(){return this.getTypedRuleContexts(s)}expression(t){return this.getTypedRuleContext(s,t)}relop(){return this.getTypedRuleContext(x,0)}get ruleIndex(){return o.RULE_equation}enterRule(t){t.enterEquation&&t.enterEquation(this)}exitRule(t){t.exitEquation&&t.exitEquation(this)}accept(t){return t.visitEquation?t.visitEquation(this):t.visitChildren(this)}}e.EquationContext=i;class s extends r.ParserRuleContext{constructor(t,e,n){super(e,n),this.parser=t}open(){return this.getTypedRuleContext(g,0)}get ruleIndex(){return o.RULE_expression}enterRule(t){t.enterExpression&&t.enterExpression(this)}exitRule(t){t.exitExpression&&t.exitExpression(this)}accept(t){return t.visitExpression?t.visitExpression(this):t.visitChildren(this)}}e.ExpressionContext=s;class u extends r.ParserRuleContext{constructor(t,e,n){super(e,n),this.parser=t}get ruleIndex(){return o.RULE_closed}copyFrom(t){super.copyFrom(t)}}e.ClosedContext=u;class a extends u{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}LOG(){return this.getToken(o.LOG,0)}closed_list(){return this.getTypedRuleContexts(u)}closed(t){return this.getTypedRuleContext(u,t)}enterRule(t){t.enterLog&&t.enterLog(this)}exitRule(t){t.exitLog&&t.exitLog(this)}accept(t){return t.visitLog?t.visitLog(this):t.visitChildren(this)}}e.LogContext=a;class c extends u{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}INT(){return this.getToken(o.INT,0)}closed(){return this.getTypedRuleContext(u,0)}enterRule(t){t.enterIntegral&&t.enterIntegral(this)}exitRule(t){t.exitIntegral&&t.exitIntegral(this)}accept(t){return t.visitIntegral?t.visitIntegral(this):t.visitChildren(this)}}e.IntegralContext=c;class l extends u{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}closed_list(){return this.getTypedRuleContexts(u)}closed(t){return this.getTypedRuleContext(u,t)}TIMES(){return this.getToken(o.TIMES,0)}enterRule(t){t.enterProduct&&t.enterProduct(this)}exitRule(t){t.exitProduct&&t.exitProduct(this)}accept(t){return t.visitProduct?t.visitProduct(this):t.visitChildren(this)}}e.ProductContext=l;class f extends u{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}DIV(){return this.getToken(o.DIV,0)}closed_list(){return this.getTypedRuleContexts(u)}closed(t){return this.getTypedRuleContext(u,t)}enterRule(t){t.enterDivision&&t.enterDivision(this)}exitRule(t){t.exitDivision&&t.exitDivision(this)}accept(t){return t.visitDivision?t.visitDivision(this):t.visitChildren(this)}}e.DivisionContext=f;class p extends u{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}atom(){return this.getTypedRuleContext(O,0)}enterRule(t){t.enterClosedAtom&&t.enterClosedAtom(this)}exitRule(t){t.exitClosedAtom&&t.exitClosedAtom(this)}accept(t){return t.visitClosedAtom?t.visitClosedAtom(this):t.visitChildren(this)}}e.ClosedAtomContext=p;class h extends u{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}POW(){return this.getToken(o.POW,0)}closed_list(){return this.getTypedRuleContexts(u)}closed(t){return this.getTypedRuleContext(u,t)}enterRule(t){t.enterPower&&t.enterPower(this)}exitRule(t){t.exitPower&&t.exitPower(this)}accept(t){return t.visitPower?t.visitPower(this):t.visitChildren(this)}}e.PowerContext=h;class y extends u{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}LPAREN(){return this.getToken(o.LPAREN,0)}open(){return this.getTypedRuleContext(g,0)}RPAREN(){return this.getToken(o.RPAREN,0)}enterRule(t){t.enterParen&&t.enterParen(this)}exitRule(t){t.exitParen&&t.exitParen(this)}accept(t){return t.visitParen?t.visitParen(this):t.visitChildren(this)}}e.ParenContext=y;class d extends r.ParserRuleContext{constructor(t,e,n){super(e,n),this.parser=t}get ruleIndex(){return o.RULE_right_closed}copyFrom(t){super.copyFrom(t)}}e.Right_closedContext=d;class v extends d{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}closed(){return this.getTypedRuleContext(u,0)}PLUS(){return this.getToken(o.PLUS,0)}MINUS(){return this.getToken(o.MINUS,0)}enterRule(t){t.enterUnaryOnExpression&&t.enterUnaryOnExpression(this)}exitRule(t){t.exitUnaryOnExpression&&t.exitUnaryOnExpression(this)}accept(t){return t.visitUnaryOnExpression?t.visitUnaryOnExpression(this):t.visitChildren(this)}}e.UnaryOnExpressionContext=v;class b extends d{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}closed(){return this.getTypedRuleContext(u,0)}enterRule(t){t.enterClosedIsRight_Closed&&t.enterClosedIsRight_Closed(this)}exitRule(t){t.exitClosedIsRight_Closed&&t.exitClosedIsRight_Closed(this)}accept(t){return t.visitClosedIsRight_Closed?t.visitClosedIsRight_Closed(this):t.visitChildren(this)}}e.ClosedIsRight_ClosedContext=b;class m extends d{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}right_closed(){return this.getTypedRuleContext(d,0)}closed(){return this.getTypedRuleContext(u,0)}enterRule(t){t.enterRight_ClosedImplicitProduct&&t.enterRight_ClosedImplicitProduct(this)}exitRule(t){t.exitRight_ClosedImplicitProduct&&t.exitRight_ClosedImplicitProduct(this)}accept(t){return t.visitRight_ClosedImplicitProduct?t.visitRight_ClosedImplicitProduct(this):t.visitChildren(this)}}e.Right_ClosedImplicitProductContext=m;class g extends r.ParserRuleContext{constructor(t,e,n){super(e,n),this.parser=t}get ruleIndex(){return o.RULE_open}copyFrom(t){super.copyFrom(t)}}e.OpenContext=g;class S extends g{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}right_closed(){return this.getTypedRuleContext(d,0)}enterRule(t){t.enterRight_ClosedIsOpen&&t.enterRight_ClosedIsOpen(this)}exitRule(t){t.exitRight_ClosedIsOpen&&t.exitRight_ClosedIsOpen(this)}accept(t){return t.visitRight_ClosedIsOpen?t.visitRight_ClosedIsOpen(this):t.visitChildren(this)}}e.Right_ClosedIsOpenContext=S;class w extends g{constructor(t,e){super(t,e.parentCtx,e.invokingState),super.copyFrom(e)}open(){return this.getTypedRuleContext(g,0)}PLUS(){return this.getToken(o.PLUS,0)}MINUS(){return this.getToken(o.MINUS,0)}right_closed(){return this.getTypedRuleContext(d,0)}enterRule(t){t.enterSum&&t.enterSum(this)}exitRule(t){t.exitSum&&t.exitSum(this)}accept(t){return t.visitSum?t.visitSum(this):t.visitChildren(this)}}e.SumContext=w;class O extends r.ParserRuleContext{constructor(t,e,n){super(e,n),this.parser=t}SCIENTIFIC_NUMBER(){return this.getToken(o.SCIENTIFIC_NUMBER,0)}VARIABLE(){return this.getToken(o.VARIABLE,0)}get ruleIndex(){return o.RULE_atom}enterRule(t){t.enterAtom&&t.enterAtom(this)}exitRule(t){t.exitAtom&&t.exitAtom(this)}accept(t){return t.visitAtom?t.visitAtom(this):t.visitChildren(this)}}e.AtomContext=O;class x extends r.ParserRuleContext{constructor(t,e,n){super(e,n),this.parser=t}EQ(){return this.getToken(o.EQ,0)}get ruleIndex(){return o.RULE_relop}enterRule(t){t.enterRelop&&t.enterRelop(this)}exitRule(t){t.exitRelop&&t.exitRelop(this)}accept(t){return t.visitRelop?t.visitRelop(this):t.visitChildren(this)}}e.RelopContext=x},4957:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2529);class o extends r.ParseTreeVisitor{}e.default=o},4315:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inMathBlock=e.inMath=e.inRow=e.inParen=void 0,e.inParen=function(t){return"<mo>(</mo>"+t+"<mo>)</mo>"},e.inRow=function(t){return"<mrow>"+t+"</mrow>"},e.inMath=function(t){return"<math>"+t+"</math>"},e.inMathBlock=function(t){return"<math display='block'>"+t+"</math>"}},6350:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.has=e.addAll=e.setOf=void 0,e.setOf=function(...t){const e=new Set;return t.forEach((t=>e.add(t))),e},e.addAll=function(t,...e){for(const n of e)t.add(n)},e.has=function(t,e){for(const n of t)if(n===e)return!0;return!1}},6515:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.for_some=e.for_all=e.assert=void 0,e.assert=function(t,e="Failed assert"){if(!t)throw new Error(e)},e.for_all=function(t,e){for(const n of t)if(!e(n))return!1;return!0},e.for_some=function(t,e){for(const n of t)if(e(n))return!0;return!1}},2529:(t,e)=>{(()=>{var t={92:()=>{}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}r.r(o),r.d(o,{ATN:()=>he,ATNDeserializer:()=>Zr,BailErrorStrategy:()=>Ls,CharStream:()=>qs,CharStreams:()=>Xs,CommonToken:()=>bo,CommonTokenStream:()=>ou,DFA:()=>Xi,DiagnosticErrorListener:()=>ms,ErrorListener:()=>to,FailedPredicateException:()=>hs,InputStream:()=>qs,Interval:()=>L,IntervalSet:()=>M,LL1Analyzer:()=>fe,Lexer:()=>Vo,LexerATNSimulator:()=>Oi,NoViableAltException:()=>Ii,ParseTreeListener:()=>ts,ParseTreeVisitor:()=>ns,ParseTreeWalker:()=>os,Parser:()=>pu,ParserATNSimulator:()=>Fi,ParserRuleContext:()=>Eu,PredictionContextCache:()=>Bi,PredictionMode:()=>Ri,RecognitionException:()=>Io,RuleContext:()=>Ft,RuleNode:()=>Et,TerminalNode:()=>Rt,Token:()=>n,arrayToString:()=>d,default:()=>Hu});var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}var n,r;return n=t,(r=[{key:"getTokenSource",value:function(){return this.source[0]}},{key:"getInputStream",value:function(){return this.source[1]}},{key:"text",get:function(){return this._text},set:function(t){this._text=t}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function i(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!(t[n]===e[n]||t[n].equals&&t[n].equals(e[n])))return!1;return!0}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=-1,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1;var u=Math.round(Math.random()*Math.pow(2,32));function a(t){if(!t)return 0;var e,n,r=s(t),o="string"===r?t:!("object"!==r||!t.toString)&&t.toString();if(!o)return 0;for(var i=3&o.length,a=o.length-i,c=u,l=3432918353,f=461845907,p=0;p<a;)n=255&o.charCodeAt(p)|(255&o.charCodeAt(++p))<<8|(255&o.charCodeAt(++p))<<16|(255&o.charCodeAt(++p))<<24,++p,c=27492+(65535&(e=5*(65535&(c=(c^=n=(65535&(n=(n=(65535&n)*l+(((n>>>16)*l&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295)<<13|c>>>19))+((5*(c>>>16)&65535)<<16)&4294967295))+((58964+(e>>>16)&65535)<<16);switch(n=0,i){case 3:n^=(255&o.charCodeAt(p+2))<<16;case 2:n^=(255&o.charCodeAt(p+1))<<8;case 1:c^=n=(65535&(n=(n=(65535&(n^=255&o.charCodeAt(p)))*l+(((n>>>16)*l&65535)<<16)&4294967295)<<15|n>>>17))*f+(((n>>>16)*f&65535)<<16)&4294967295}return c^=o.length,c=2246822507*(65535&(c^=c>>>16))+((2246822507*(c>>>16)&65535)<<16)&4294967295,c=3266489909*(65535&(c^=c>>>13))+((3266489909*(c>>>16)&65535)<<16)&4294967295,(c^=c>>>16)>>>0}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===c(o)?o:String(o)),r)}var o}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count=0,this.hash=0}var e,n,r;return e=t,n=[{key:"update",value:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];if(null!=e)if(Array.isArray(e))this.update.apply(this,e);else{var n=0;switch(c(e)){case"undefined":case"function":continue;case"number":case"boolean":n=e;break;case"string":n=a(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}n=(n*=3432918353)<<15|n>>>17,n*=461845907,this.count=this.count+1;var r=this.hash^n;r=5*(r=r<<13|r>>>19)+3864292196,this.hash=r}}}},{key:"finish",value:function(){var t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,(t*=3266489909)^t>>>16}}],r=[{key:"hashStuff",value:function(){var e=new t;return e.update.apply(e,arguments),e.finish()}}],n&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return t?"string"==typeof t?a(t):t.hashCode():-1}function h(t,e){return t?t.equals(e):t===e}function y(t){return null===t?"null":t}function d(t){return Array.isArray(t)?"["+t.map(y).join(", ")+"]":"null"}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}var b="h-",m=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||h}var e,n;return e=t,n=[{key:"add",value:function(t){var e=b+this.hashFunction(t);if(e in this.data){for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return n.push(t),t}return this.data[e]=[t],t}},{key:"has",value:function(t){return null!=this.get(t)}},{key:"get",value:function(t){var e=b+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++)if(this.equalsFunction(t,n[r]))return n[r];return null}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(b)})).flatMap((function(e){return t.data[e]}),this)}},{key:"toString",value:function(){return d(this.values())}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(b)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===x(o)?o:String(o)),r)}var o}function P(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var T=function(){function t(){E(this,t)}return P(t,[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"evaluate",value:function(t,e){}},{key:"evalPrecedence",value:function(t,e){return this}}],[{key:"andContext",value:function(e,n){if(null===e||e===t.NONE)return n;if(null===n||n===t.NONE)return e;var r=new R(e,n);return 1===r.opnds.length?r.opnds[0]:r}},{key:"orContext",value:function(e,n){if(null===e)return n;if(null===n)return e;if(e===t.NONE||n===t.NONE)return t.NONE;var r=new k(e,n);return 1===r.opnds.length?r.opnds[0]:r}}]),t}(),R=function(t){g(n,t);var e=w(n);function n(t,r){var o;E(this,n),o=e.call(this);var i=new m;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var s=j(i);if(s.length>0){var u=null;s.map((function(t){(null===u||t.precedence<u.precedence)&&(u=t)})),i.add(u)}return o.opnds=Array.from(i.values()),o}return P(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"AND")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],s=i.evalPrecedence(t,e);if(n|=s!==i,null===s)return null;s!==T.NONE&&r.push(s)}if(!n)return this;if(0===r.length)return T.NONE;var u=null;return r.map((function(t){u=null===u?t:T.andContext(u,t)})),u}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("&&")}}]),n}(T),k=function(t){g(n,t);var e=w(n);function n(t,r){var o;E(this,n),o=e.call(this);var i=new m;t instanceof n?t.opnds.map((function(t){i.add(t)})):i.add(t),r instanceof n?r.opnds.map((function(t){i.add(t)})):i.add(r);var s=j(i);if(s.length>0){var u=s.sort((function(t,e){return t.compareTo(e)})),a=u[u.length-1];i.add(a)}return o.opnds=Array.from(i.values()),o}return P(n,[{key:"equals",value:function(t){return this===t||t instanceof n&&i(this.opnds,t.opnds)}},{key:"updateHashCode",value:function(t){t.update(this.opnds,"OR")}},{key:"evaluate",value:function(t,e){for(var n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}},{key:"evalPrecedence",value:function(t,e){for(var n=!1,r=[],o=0;o<this.opnds.length;o++){var i=this.opnds[o],s=i.evalPrecedence(t,e);if(n|=s!==i,s===T.NONE)return T.NONE;null!==s&&r.push(s)}return n?(0===r.length||r.map((function(t){return t})),null):this}},{key:"toString",value:function(){var t=this.opnds.map((function(t){return t.toString()}));return(t.length>3?t.slice(3):t).join("||")}}]),n}(T);function j(t){var e=[];return t.values().map((function(t){t instanceof T.PrecedencePredicate&&e.push(t)})),e}function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function I(t,e){if(null===t){var n={state:null,alt:null,context:null,semanticContext:null};return e&&(n.reachesIntoOuterContext=0),n}var r={};return r.state=t.state||null,r.alt=void 0===t.alt?null:t.alt,r.context=t.context||null,r.semanticContext=t.semanticContext||null,e&&(r.reachesIntoOuterContext=t.reachesIntoOuterContext||0,r.precedenceFilterSuppressed=t.precedenceFilterSuppressed||!1),r}var N=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.checkContext(e,n),e=I(e),n=I(n,!0),this.state=null!==e.state?e.state:n.state,this.alt=null!==e.alt?e.alt:n.alt,this.context=null!==e.context?e.context:n.context,this.semanticContext=null!==e.semanticContext?e.semanticContext:null!==n.semanticContext?n.semanticContext:T.NONE,this.reachesIntoOuterContext=n.reachesIntoOuterContext,this.precedenceFilterSuppressed=n.precedenceFilterSuppressed}var e,n;return e=t,(n=[{key:"checkContext",value:function(t,e){null!==t.context&&void 0!==t.context||null!==e&&null!==e.context&&void 0!==e.context||(this.context=null)}},{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&(null===this.context?null===e.context:this.context.equals(e.context))&&this.semanticContext.equals(e.semanticContext)&&this.precedenceFilterSuppressed===e.precedenceFilterSuppressed}},{key:"hashCodeForConfigSet",value:function(){var t=new f;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}},{key:"equalsForConfigSet",value:function(e){return this===e||e instanceof t&&this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.semanticContext.equals(e.semanticContext)}},{key:"toString",value:function(){return"("+this.state+","+this.alt+(null!==this.context?",["+this.context.toString()+"]":"")+(this.semanticContext!==T.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}var L=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.start=e,this.stop=n}var e,n;return e=t,(n=[{key:"clone",value:function(){return new t(this.start,this.stop)}},{key:"contains",value:function(t){return t>=this.start&&t<this.stop}},{key:"toString",value:function(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}},{key:"length",get:function(){return this.stop-this.start}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==A(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===A(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}L.INVALID_INTERVAL=new L(-1,-2);var M=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.intervals=null,this.readOnly=!1}var e,r;return e=t,r=[{key:"first",value:function(t){return null===this.intervals||0===this.intervals.length?n.INVALID_TYPE:this.intervals[0].start}},{key:"addOne",value:function(t){this.addInterval(new L(t,t+1))}},{key:"addRange",value:function(t,e){this.addInterval(new L(t,e+1))}},{key:"addInterval",value:function(t){if(null===this.intervals)this.intervals=[],this.intervals.push(t.clone());else{for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new L(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new L(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}},{key:"addSet",value:function(t){var e=this;return null!==t.intervals&&t.intervals.forEach((function(t){return e.addInterval(t)}),this),this}},{key:"reduce",value:function(t){if(t<this.intervals.length-1){var e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new L(e.start,n.stop),this.intervals.splice(t+1,1))}}},{key:"complement",value:function(e,n){var r=new t;return r.addInterval(new L(e,n+1)),null!==this.intervals&&this.intervals.forEach((function(t){return r.removeRange(t)})),r}},{key:"contains",value:function(t){if(null===this.intervals)return!1;for(var e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}},{key:"removeRange",value:function(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(null!==this.intervals)for(var e=0,n=0;n<this.intervals.length;n++){var r=this.intervals[e];if(t.stop<=r.start)return;if(t.start>r.start&&t.stop<r.stop){this.intervals[e]=new L(r.start,t.start);var o=new L(t.stop,r.stop);return void this.intervals.splice(e,0,o)}t.start<=r.start&&t.stop>=r.stop?(this.intervals.splice(e,1),e-=1):t.start<r.stop?this.intervals[e]=new L(r.start,t.start):t.stop<r.stop&&(this.intervals[e]=new L(t.stop,r.stop)),e+=1}}},{key:"removeOne",value:function(t){if(null!==this.intervals)for(var e=0;e<this.intervals.length;e++){var n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new L(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new L(n.start,n.stop-1));if(t<n.stop-1){var r=new L(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}},{key:"toString",value:function(t,e,n){return t=t||null,e=e||null,n=n||!1,null===this.intervals?"{}":null!==t||null!==e?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}},{key:"toCharString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var r=this.intervals[e];r.stop===r.start+1?r.start===n.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(r.start)+"'"):t.push("'"+String.fromCharCode(r.start)+"'..'"+String.fromCharCode(r.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toIndexString",value:function(){for(var t=[],e=0;e<this.intervals.length;e++){var r=this.intervals[e];r.stop===r.start+1?r.start===n.EOF?t.push("<EOF>"):t.push(r.start.toString()):t.push(r.start.toString()+".."+(r.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}},{key:"toTokenString",value:function(t,e){for(var n=[],r=0;r<this.intervals.length;r++)for(var o=this.intervals[r],i=o.start;i<o.stop;i++)n.push(this.elementName(t,e,i));return n.length>1?"{"+n.join(", ")+"}":n[0]}},{key:"elementName",value:function(t,e,r){return r===n.EOF?"<EOF>":r===n.EPSILON?"<EPSILON>":t[r]||e[r]}},{key:"length",get:function(){return this.intervals.map((function(t){return t.length})).reduce((function(t,e){return t+e}))}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===D(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}var U=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=null,this.stateNumber=t.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}var e,n;return e=t,(n=[{key:"toString",value:function(){return this.stateNumber}},{key:"equals",value:function(e){return e instanceof t&&this.stateNumber===e.stateNumber}},{key:"isNonGreedyExitState",value:function(){return!1}},{key:"addTransition",value:function(t,e){void 0===e&&(e=-1),0===this.transitions.length?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),-1===e?this.transitions.push(t):this.transitions.splice(e,1,t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===F(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function q(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z(t)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}U.INVALID_TYPE=0,U.BASIC=1,U.RULE_START=2,U.BLOCK_START=3,U.PLUS_BLOCK_START=4,U.STAR_BLOCK_START=5,U.TOKEN_START=6,U.RULE_STOP=7,U.BLOCK_END=8,U.STAR_LOOP_BACK=9,U.STAR_LOOP_ENTRY=10,U.PLUS_LOOP_BACK=11,U.LOOP_END=12,U.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],U.INVALID_STATE_NUMBER=-1;var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(n);if(r){var o=H(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return q(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.RULE_STOP,q(t,z(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(U);var Y=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e)throw"target cannot be null.";this.target=e,this.isEpsilon=!1,this.label=null}));function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}Y.EPSILON=1,Y.RANGE=2,Y.RULE=3,Y.PREDICATE=4,Y.ATOM=5,Y.ACTION=6,Y.SET=7,Y.NOT_SET=8,Y.WILDCARD=9,Y.PRECEDENCE=10,Y.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],Y.serializationTypes={EpsilonTransition:Y.EPSILON,RangeTransition:Y.RANGE,RuleTransition:Y.RULE,PredicateTransition:Y.PREDICATE,AtomTransition:Y.ATOM,ActionTransition:Y.ACTION,SetTransition:Y.SET,NotSetTransition:Y.NOT_SET,WildcardTransition:Y.WILDCARD,PrecedencePredicateTransition:Y.PRECEDENCE};var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(r);if(o){var n=X(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=i.call(this,t)).ruleIndex=e,o.precedence=n,o.followState=r,o.serializationType=Y.RULE,o.isEpsilon=!0,o}return e=s,(n=[{key:"matches",value:function(t,e,n){return!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==K(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===K(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Y);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=J(o);if(i){var n=J(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=s.call(this,t)).serializationType=Y.SET,null!=e?r.label=e:(r.label=new M,r.label.addOne(n.INVALID_TYPE)),r}return e=u,(r=[{key:"matches",value:function(t,e,n){return this.label.contains(t)}},{key:"toString",value:function(){return this.label.toString()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==$(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Y);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(){return nt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},nt.apply(this,arguments)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ot(t)}var it=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ot(r);if(o){var n=ot(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,t,e)).serializationType=Y.NOT_SET,n}return e=s,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n&&!nt(ot(s.prototype),"matches",this).call(this,t,e,n)}},{key:"toString",value:function(){return"~"+nt(ot(s.prototype),"toString",this).call(this)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===et(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(tt);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ut(t,e){return ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ut(t,e)}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ut(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=at(r);if(o){var n=at(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,t)).serializationType=Y.WILDCARD,e}return e=s,(n=[{key:"matches",value:function(t,e,n){return t>=e&&t<=n}},{key:"toString",value:function(){return"."}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==st(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===st(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Y);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ft(t,e)}function pt(t){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pt(t)}var ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ft(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pt(n);if(r){var o=pt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Y);function yt(t){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(t)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dt(t,e)}function vt(t){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vt(t)}function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gt(n);if(r){var o=gt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vt(n);if(r){var o=vt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}))));function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ot(t,e)}function xt(t){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xt(t)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xt(r);if(o){var n=xt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"ruleContext",get:function(){throw new Error("missing interface implementation")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==wt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===wt(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(St);function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Pt(t,e){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pt(t,e)}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Tt(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Tt(n);if(r){var o=Tt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(St);function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function jt(t,e){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jt(t,e)}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}var It=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ct(n);if(r){var o=Ct(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Rt),Nt={toStringTree:function(t,e,n){e=e||null,null!==(n=n||null)&&(e=n.ruleNames);var r=Nt.getNodeText(t,e);r=function(t,e){return t.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(r);var o=t.getChildCount();if(0===o)return r;var i="("+r+" ";o>0&&(r=Nt.toStringTree(t.getChild(0),e),i=i.concat(r));for(var s=1;s<o;s++)r=Nt.toStringTree(t.getChild(s),e),i=i.concat(" "+r);return i.concat(")")},getNodeText:function(t,e,r){if(e=e||null,null!==(r=r||null)&&(e=r.ruleNames),null!==e){if(t instanceof Et){var o=t.ruleContext.getAltNumber();return 0!=o?e[t.ruleIndex]+":"+o:e[t.ruleIndex]}if(t instanceof It)return t.toString();if(t instanceof Rt&&null!==t.symbol)return t.symbol.text}var i=t.getPayload();return i instanceof n?i.text:t.getPayload().toString()},getChildren:function(t){for(var e=[],n=0;n<t.getChildCount();n++)e.push(t.getChild(n));return e},getAncestors:function(t){var e=[];for(t=t.getParent();null!==t;)e=[t].concat(e),t=t.getParent();return e},findAllTokenNodes:function(t,e){return Nt.findAllNodes(t,e,!0)},findAllRuleNodes:function(t,e){return Nt.findAllNodes(t,e,!1)},findAllNodes:function(t,e,n){var r=[];return Nt._findAllNodes(t,e,n,r),r},_findAllNodes:function(t,e,n,r){n&&t instanceof Rt?t.symbol.type===e&&r.push(t):!n&&t instanceof Et&&t.ruleIndex===e&&r.push(t);for(var o=0;o<t.getChildCount();o++)Nt._findAllNodes(t.getChild(o),e,n,r)},descendants:function(t){for(var e=[t],n=0;n<t.getChildCount();n++)e=e.concat(Nt.descendants(t.getChild(n)));return e}};const At=Nt;function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Dt(t,e){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dt(t,e)}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dt(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mt(r);if(o){var n=Mt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this)).parentCtx=t||null,n.invokingState=e||-1,n}return e=s,(n=[{key:"depth",value:function(){for(var t=0,e=this;null!==e;)e=e.parentCtx,t+=1;return t}},{key:"isEmpty",value:function(){return-1===this.invokingState}},{key:"getSourceInterval",value:function(){return L.INVALID_INTERVAL}},{key:"ruleContext",get:function(){return this}},{key:"getPayload",value:function(){return this}},{key:"getText",value:function(){return 0===this.getChildCount()?"":this.children.map((function(t){return t.getText()})).join("")}},{key:"getAltNumber",value:function(){return 0}},{key:"setAltNumber",value:function(t){}},{key:"getChild",value:function(t){return null}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitChildren(this)}},{key:"toStringTree",value:function(t,e){return At.toStringTree(this,t,e)}},{key:"toString",value:function(t,e){t=t||null,e=e||null;for(var n=this,r="[";null!==n&&n!==e;){if(null===t)n.isEmpty()||(r+=n.invokingState);else{var o=n.ruleIndex;r+=o>=0&&o<t.length?t[o]:""+o}null===n.parentCtx||null===t&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+"]"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Lt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Lt(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Et);function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}var Bt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cachedHashCode=e}var e,n;return e=t,(n=[{key:"isEmpty",value:function(){return this===t.EMPTY}},{key:"hasEmptyPath",value:function(){return this.getReturnState(this.length-1)===t.EMPTY_RETURN_STATE}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Ut(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ut(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function qt(t,e){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qt(t,e)}function zt(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ht(t)}function Ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gt(t)}Bt.EMPTY=null,Bt.EMPTY_RETURN_STATE=2147483647,Bt.globalNodeCount=1,Bt.id=Bt.globalNodeCount,Bt.trace_atn_sim=!1;var Yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qt(t,e)}(u,t);var e,n,r,o,s=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Gt(r);if(o){var n=Gt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return zt(this,t)});function u(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var r=new f;r.update(t,e);var o=r.finish();return(n=s.call(this,o)).parents=t,n.returnStates=e,zt(n,Ht(n))}return e=u,n=[{key:"isEmpty",value:function(){return this.returnStates[0]===Bt.EMPTY_RETURN_STATE}},{key:"getParent",value:function(t){return this.parents[t]}},{key:"getReturnState",value:function(t){return this.returnStates[t]}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.hashCode()===t.hashCode()&&i(this.returnStates,t.returnStates)&&i(this.parents,t.parents)}},{key:"toString",value:function(){if(this.isEmpty())return"[]";for(var t="[",e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==Bt.EMPTY_RETURN_STATE?(t+=this.returnStates[e],null!==this.parents[e]?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}},{key:"length",get:function(){return this.returnStates.length}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Vt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vt(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(Bt);function Kt(t){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Kt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Kt(o)?o:String(o)),r)}var o}function Xt(t,e){return Xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xt(t,e)}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}var $t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(u,t);var e,n,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qt(o);if(i){var n=Qt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var r,o=new f;return null!==t?o.update(t,e):o.update(1),r=o.finish(),(n=s.call(this,r)).parentCtx=t,n.returnState=e,n}return e=u,r=[{key:"create",value:function(t,e){return e===Bt.EMPTY_RETURN_STATE&&null===t?Bt.EMPTY:new u(t,e)}}],(n=[{key:"getParent",value:function(t){return this.parentCtx}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t||t instanceof u&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(null==this.parentCtx?null==t.parentCtx:this.parentCtx.equals(t.parentCtx))}},{key:"toString",value:function(){var t=null===this.parentCtx?"":this.parentCtx.toString();return 0===t.length?this.returnState===Bt.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}},{key:"length",get:function(){return 1}}])&&Wt(e.prototype,n),r&&Wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Bt);function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function Jt(t,e){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jt(t,e)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jt(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=te(r);if(o){var n=te(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,null,Bt.EMPTY_RETURN_STATE)}return e=s,(n=[{key:"isEmpty",value:function(){return!0}},{key:"getParent",value:function(t){return null}},{key:"getReturnState",value:function(t){return this.returnState}},{key:"equals",value:function(t){return this===t}},{key:"toString",value:function(){return"$"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Zt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Zt(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}($t);function ne(t){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(t)}Bt.EMPTY=new ee;var re="h-",oe=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={},this.hashFunction=e||p,this.equalsFunction=n||h}var e,n;return e=t,n=[{key:"set",value:function(t,e){var n=re+this.hashFunction(t);if(n in this.data){for(var r=this.data[n],o=0;o<r.length;o++){var i=r[o];if(this.equalsFunction(t,i.key)){var s=i.value;return i.value=e,s}}return r.push({key:t,value:e}),e}return this.data[n]=[{key:t,value:e}],e}},{key:"containsKey",value:function(t){var e=re+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return!0}return!1}},{key:"get",value:function(t){var e=re+this.hashFunction(t);if(e in this.data)for(var n=this.data[e],r=0;r<n.length;r++){var o=n[r];if(this.equalsFunction(t,o.key))return o.value}return null}},{key:"entries",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(re)})).flatMap((function(e){return t.data[e]}),this)}},{key:"getKeys",value:function(){return this.entries().map((function(t){return t.key}))}},{key:"getValues",value:function(){return this.entries().map((function(t){return t.value}))}},{key:"toString",value:function(){return"["+this.entries().map((function(t){return"{"+t.key+":"+t.value+"}"})).join(", ")+"]"}},{key:"length",get:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith(re)})).map((function(e){return t.data[e].length}),this).reduce((function(t,e){return t+e}),0)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==ne(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ne(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ie(t,e){if(null==e&&(e=Ft.EMPTY),null===e.parentCtx||e===Ft.EMPTY)return Bt.EMPTY;var n=ie(t,e.parentCtx),r=t.states[e.invokingState].transitions[0];return $t.create(n,r.followState.stateNumber)}function se(t,e,n){if(t.isEmpty())return t;var r,o=n.get(t)||null;if(null!==o)return o;if(null!==(o=e.get(t)))return n.set(t,o),o;for(var i=!1,s=[],u=0;u<s.length;u++){var a=se(t.getParent(u),e,n);if(i||a!==t.getParent(u)){if(!i){s=[];for(var c=0;c<t.length;c++)s[c]=t.getParent(c);i=!0}s[u]=a}}return i?(r=0===s.length?Bt.EMPTY:1===s.length?$t.create(s[0],t.getReturnState(0)):new Yt(s,t.returnStates),e.add(r),n.set(r,r),n.set(t,r),r):(e.add(t),n.set(t,t),t)}function ue(t,e,n,r){if(t===e)return t;if(t instanceof $t&&e instanceof $t)return function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return o;if(null!==(o=r.get(e,t)))return o}var i=function(t,e,n){if(n){if(t===Bt.EMPTY)return Bt.EMPTY;if(e===Bt.EMPTY)return Bt.EMPTY}else{if(t===Bt.EMPTY&&e===Bt.EMPTY)return Bt.EMPTY;if(t===Bt.EMPTY){var r=[e.returnState,Bt.EMPTY_RETURN_STATE],o=[e.parentCtx,null];return new Yt(o,r)}if(e===Bt.EMPTY){var i=[t.returnState,Bt.EMPTY_RETURN_STATE],s=[t.parentCtx,null];return new Yt(s,i)}}return null}(t,e,n);if(null!==i)return null!==r&&r.set(t,e,i),i;if(t.returnState===e.returnState){var s=ue(t.parentCtx,e.parentCtx,n,r);if(s===t.parentCtx)return t;if(s===e.parentCtx)return e;var u=$t.create(s,t.returnState);return null!==r&&r.set(t,e,u),u}var a=null;if((t===e||null!==t.parentCtx&&t.parentCtx===e.parentCtx)&&(a=t.parentCtx),null!==a){var c=[t.returnState,e.returnState];t.returnState>e.returnState&&(c[0]=e.returnState,c[1]=t.returnState);var l=new Yt([a,a],c);return null!==r&&r.set(t,e,l),l}var f=[t.returnState,e.returnState],p=[t.parentCtx,e.parentCtx];t.returnState>e.returnState&&(f[0]=e.returnState,f[1]=t.returnState,p=[e.parentCtx,t.parentCtx]);var h=new Yt(p,f);return null!==r&&r.set(t,e,h),h}(t,e,n,r);if(n){if(t instanceof ee)return t;if(e instanceof ee)return e}return t instanceof $t&&(t=new Yt([t.getParent()],[t.returnState])),e instanceof $t&&(e=new Yt([e.getParent()],[e.returnState])),function(t,e,n,r){if(null!==r){var o=r.get(t,e);if(null!==o)return Bt.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o;if(null!==(o=r.get(e,t)))return Bt.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> previous"),o}for(var i=0,s=0,u=0,a=new Array(t.returnStates.length+e.returnStates.length).fill(0),c=new Array(t.returnStates.length+e.returnStates.length).fill(null);i<t.returnStates.length&&s<e.returnStates.length;){var l=t.parents[i],f=e.parents[s];if(t.returnStates[i]===e.returnStates[s]){var p=t.returnStates[i];p===Bt.EMPTY_RETURN_STATE&&null===l&&null===f||null!==l&&null!==f&&l===f?(c[u]=l,a[u]=p):(c[u]=ue(l,f,n,r),a[u]=p),i+=1,s+=1}else t.returnStates[i]<e.returnStates[s]?(c[u]=l,a[u]=t.returnStates[i],i+=1):(c[u]=f,a[u]=e.returnStates[s],s+=1);u+=1}if(i<t.returnStates.length)for(var h=i;h<t.returnStates.length;h++)c[u]=t.parents[h],a[u]=t.returnStates[h],u+=1;else for(var y=s;y<e.returnStates.length;y++)c[u]=e.parents[y],a[u]=e.returnStates[y],u+=1;if(u<c.length){if(1===u){var d=$t.create(c[0],a[0]);return null!==r&&r.set(t,e,d),d}c=c.slice(0,u),a=a.slice(0,u)}var v=new Yt(c,a);return v.equals(t)?(null!==r&&r.set(t,e,t),Bt.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> a"),t):v.equals(e)?(null!==r&&r.set(t,e,e),Bt.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> b"),e):(function(t){for(var e=new oe,n=0;n<t.length;n++){var r=t[n];e.containsKey(r)||e.set(r,r)}for(var o=0;o<t.length;o++)t[o]=e.get(t[o])}(c),null!==r&&r.set(t,e,v),Bt.trace_atn_sim&&console.log("mergeArrays a="+t+",b="+e+" -> "+v),v)}(t,e,n,r)}function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}var ce=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=[]}var e,n;return e=t,(n=[{key:"add",value:function(t){this.data[t]=!0}},{key:"or",value:function(t){var e=this;Object.keys(t.data).map((function(t){return e.add(t)}),this)}},{key:"remove",value:function(t){delete this.data[t]}},{key:"has",value:function(t){return!0===this.data[t]}},{key:"values",value:function(){return Object.keys(this.data)}},{key:"minValue",value:function(){return Math.min.apply(null,this.values())}},{key:"hashCode",value:function(){return f.hashStuff(this.values())}},{key:"equals",value:function(e){return e instanceof t&&i(this.data,e.data)}},{key:"toString",value:function(){return"{"+this.values().join(", ")+"}"}},{key:"length",get:function(){return this.values().length}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ae(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}var fe=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e}var e,r;return e=t,r=[{key:"getDecisionLookahead",value:function(e){if(null===e)return null;for(var n=e.transitions.length,r=[],o=0;o<n;o++){r[o]=new M;var i=new m;this._LOOK(e.transition(o).target,null,Bt.EMPTY,r[o],i,new ce,!1,!1),(0===r[o].length||r[o].contains(t.HIT_PRED))&&(r[o]=null)}return r}},{key:"LOOK",value:function(t,e,n){var r=new M,o=null!==(n=n||null)?ie(t.atn,n):null;return this._LOOK(t,e,o,r,new m,new ce,!0,!0),r}},{key:"_LOOK",value:function(e,r,o,i,s,u,a,c){var l=new N({state:e,alt:0,context:o},null);if(!s.has(l)){if(s.add(l),e===r){if(null===o)return void i.addOne(n.EPSILON);if(o.isEmpty()&&c)return void i.addOne(n.EOF)}if(e instanceof G){if(null===o)return void i.addOne(n.EPSILON);if(o.isEmpty()&&c)return void i.addOne(n.EOF);if(o!==Bt.EMPTY){var f=u.has(e.ruleIndex);try{u.remove(e.ruleIndex);for(var p=0;p<o.length;p++){var h=this.atn.states[o.getReturnState(p)];this._LOOK(h,r,o.getParent(p),i,s,u,a,c)}}finally{f&&u.add(e.ruleIndex)}return}}for(var y=0;y<e.transitions.length;y++){var d=e.transitions[y];if(d.constructor===Q){if(u.has(d.target.ruleIndex))continue;var v=$t.create(o,d.followState.stateNumber);try{u.add(d.target.ruleIndex),this._LOOK(d.target,r,v,i,s,u,a,c)}finally{u.remove(d.target.ruleIndex)}}else if(d instanceof ht)a?this._LOOK(d.target,r,o,i,s,u,a,c):i.addOne(t.HIT_PRED);else if(d.isEpsilon)this._LOOK(d.target,r,o,i,s,u,a,c);else if(d.constructor===ct)i.addRange(n.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{var b=d.label;null!==b&&(d instanceof it&&(b=b.complement(n.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),i.addSet(b))}}}}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==le(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===le(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}fe.HIT_PRED=n.INVALID_TYPE;var he=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.grammarType=e,this.maxTokenType=n,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}var e,r;return e=t,(r=[{key:"nextTokensInContext",value:function(t,e){return new fe(this).LOOK(t,null,e)}},{key:"nextTokensNoContext",value:function(t){return null!==t.nextTokenWithinRule||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}},{key:"nextTokens",value:function(t,e){return void 0===e?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}},{key:"addState",value:function(t){null!==t&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}},{key:"removeState",value:function(t){this.states[t.stateNumber]=null}},{key:"defineDecisionState",value:function(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}},{key:"getDecisionState",value:function(t){return 0===this.decisionToState.length?null:this.decisionToState[t]}},{key:"getExpectedTokens",value:function(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";var r=this.states[t],o=this.nextTokens(r);if(!o.contains(n.EPSILON))return o;var i=new M;for(i.addSet(o),i.removeOne(n.EPSILON);null!==e&&e.invokingState>=0&&o.contains(n.EPSILON);){var s=this.states[e.invokingState].transitions[0];o=this.nextTokens(s.followState),i.addSet(o),i.removeOne(n.EPSILON),e=e.parentCtx}return o.contains(n.EPSILON)&&i.addOne(n.EOF),i}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===pe(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ye(t){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ye(t)}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}function ve(t){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ve(t)}he.INVALID_ALT_NUMBER=0;var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ve(n);if(r){var o=ve(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ye(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.BASIC,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(U);function me(t){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(t)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ge(t,e)}function Se(t,e){if(e&&("object"===me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return we(t)}function we(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oe(t){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oe(t)}var xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Oe(n);if(r){var o=Oe(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Se(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).decision=-1,t.nonGreedy=!1,Se(t,we(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(U);function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}function _e(t,e){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_e(t,e)}function Pe(t,e){if(e&&("object"===Ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Te(t)}function Te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Re(t)}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Re(n);if(r){var o=Re(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Pe(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).endState=null,Pe(t,Te(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xe);function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Ce(t,e){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ce(t,e)}function Ie(t,e){if(e&&("object"===je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ne(t)}function Ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ae(t){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ae(t)}var Le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ce(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ae(n);if(r){var o=Ae(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Ie(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.BLOCK_END,t.startState=null,Ie(t,Ne(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(U);function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Me(t,e){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Me(t,e)}function Fe(t,e){if(e&&("object"===De(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ue(t)}function Ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Be(t){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Be(t)}var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Be(n);if(r){var o=Be(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Fe(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.LOOP_END,t.loopBackState=null,Fe(t,Ue(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(U);function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function ze(t,e){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ze(t,e)}function He(t,e){if(e&&("object"===qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ge(t)}function Ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ze(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ye(n);if(r){var o=Ye(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return He(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.RULE_START,t.stopState=null,t.isPrecedenceRule=!1,He(t,Ge(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(U);function We(t){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(t)}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}function Qe(t,e){if(e&&("object"===We(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function $e(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(t)}var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ze(n);if(r){var o=Ze(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Qe(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.TOKEN_START,Qe(t,$e(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xe);function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(t,e){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},en(t,e)}function nn(t,e){if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rn(t)}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function on(t){return on=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},on(t)}var sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&en(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=on(n);if(r){var o=on(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.PLUS_LOOP_BACK,nn(t,rn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xe);function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function an(t,e){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},an(t,e)}function cn(t,e){if(e&&("object"===un(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ln(t)}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fn(t){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fn(t)}var pn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&an(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fn(n);if(r){var o=fn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return cn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.STAR_LOOP_BACK,cn(t,ln(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(U);function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function yn(t,e){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yn(t,e)}function dn(t,e){if(e&&("object"===hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return vn(t)}function vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(t){return bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bn(t)}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bn(n);if(r){var o=bn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return dn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.STAR_LOOP_ENTRY,t.loopBackState=null,t.isPrecedenceDecision=null,dn(t,vn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(xe);function gn(t){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gn(t)}function Sn(t,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sn(t,e)}function wn(t,e){if(e&&("object"===gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return On(t)}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xn(t){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xn(t)}var En=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xn(n);if(r){var o=xn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return wn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.PLUS_BLOCK_START,t.loopBackState=null,wn(t,On(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ke);function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function Pn(t,e){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pn(t,e)}function Tn(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rn(t)}function Rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kn(t){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kn(t)}var jn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pn(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kn(n);if(r){var o=kn(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Tn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.STAR_BLOCK_START,Tn(t,Rn(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ke);function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function In(t,e){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},In(t,e)}function Nn(t,e){if(e&&("object"===Cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return An(t)}function An(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(t)}var Dn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&In(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(n);if(r){var o=Ln(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return Nn(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).stateType=U.BLOCK_START,Nn(t,An(t))}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ke);function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Fn(t,e){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fn(t,e)}function Un(t){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Un(t)}var Bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fn(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Un(r);if(o){var n=Un(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,t)).label_=e,n.label=n.makeLabel(),n.serializationType=Y.ATOM,n}return e=s,(n=[{key:"makeLabel",value:function(){var t=new M;return t.addOne(this.label_),t}},{key:"matches",value:function(t,e,n){return this.label_===t}},{key:"toString",value:function(){return this.label_}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Mn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Mn(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Y);function Vn(t){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(t)}function qn(t,e){return qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qn(t,e)}function zn(t){return zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zn(t)}var Hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qn(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zn(r);if(o){var n=zn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,t)).serializationType=Y.RANGE,r.start=e,r.stop=n,r.label=r.makeLabel(),r}return e=s,(n=[{key:"makeLabel",value:function(){var t=new M;return t.addRange(this.start,this.stop),t}},{key:"matches",value:function(t,e,n){return t>=this.start&&t<=this.stop}},{key:"toString",value:function(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Vn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Vn(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Y);function Gn(t){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(t)}function Yn(t,e){return Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yn(t,e)}function Kn(t){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kn(t)}var Wn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yn(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Kn(r);if(o){var n=Kn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=i.call(this,t)).serializationType=Y.ACTION,o.ruleIndex=e,o.actionIndex=void 0===n?-1:n,o.isCtxDependent=void 0!==r&&r,o.isEpsilon=!0,o}return e=s,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"action_"+this.ruleIndex+":"+this.actionIndex}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Gn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Gn(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Y);function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Qn(t,e){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qn(t,e)}function $n(t){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$n(t)}var Zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qn(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$n(r);if(o){var n=$n(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,t)).serializationType=Y.EPSILON,n.isEpsilon=!0,n.outermostPrecedenceReturn=e,n}return e=s,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"toString",value:function(){return"epsilon"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Xn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Xn(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Y);function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function tr(t,e){return tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tr(t,e)}function er(t){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},er(t)}var nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=er(r);if(o){var n=er(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this)).ruleIndex=void 0===t?-1:t,r.predIndex=void 0===e?-1:e,r.isCtxDependent=void 0!==n&&n,r}return e=s,(n=[{key:"evaluate",value:function(t,e){var n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}},{key:"updateHashCode",value:function(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}},{key:"toString",value:function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Jn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jn(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(T);function rr(t){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rr(t)}function or(t,e){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},or(t,e)}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}T.NONE=new nr;var sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&or(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ir(r);if(o){var n=ir(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===rr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=i.call(this,t)).serializationType=Y.PREDICATE,o.ruleIndex=e,o.predIndex=n,o.isCtxDependent=r,o.isEpsilon=!0,o}return e=s,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new nr(this.ruleIndex,this.predIndex,this.isCtxDependent)}},{key:"toString",value:function(){return"pred_"+this.ruleIndex+":"+this.predIndex}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==rr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===rr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(ht);function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function ar(t,e){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ar(t,e)}function cr(t){return cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cr(t)}var lr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ar(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cr(r);if(o){var n=cr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).precedence=void 0===t?0:t,e}return e=s,(n=[{key:"evaluate",value:function(t,e){return t.precpred(e,this.precedence)}},{key:"evalPrecedence",value:function(t,e){return t.precpred(e,this.precedence)?T.NONE:null}},{key:"compareTo",value:function(t){return this.precedence-t.precedence}},{key:"updateHashCode",value:function(t){t.update(this.precedence)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.precedence===t.precedence}},{key:"toString",value:function(){return"{"+this.precedence+">=prec}?"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==ur(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ur(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(T);function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function pr(t,e){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pr(t,e)}function hr(t){return hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hr(t)}T.PrecedencePredicate=lr;var yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=hr(r);if(o){var n=hr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,t)).serializationType=Y.PRECEDENCE,n.precedence=e,n.isEpsilon=!0,n}return e=s,(n=[{key:"matches",value:function(t,e,n){return!1}},{key:"getPredicate",value:function(){return new lr(this.precedence)}},{key:"toString",value:function(){return this.precedence+" >= _p"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==fr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===fr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(ht);var dr=function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e=null),this.readOnly=!1,this.verifyATN=null===e||e.verifyATN,this.generateRuleBypassTransitions=null!==e&&e.generateRuleBypassTransitions}));function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}dr.defaultOptions=new dr,dr.defaultOptions.readOnly=!0;var br=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actionType=e,this.isPositionDependent=!1}var e,n;return e=t,(n=[{key:"hashCode",value:function(){var t=new f;return this.updateHashCode(t),t.finish()}},{key:"updateHashCode",value:function(t){t.update(this.actionType)}},{key:"equals",value:function(t){return this===t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==vr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==vr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===vr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function mr(t){return mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mr(t)}function gr(t,e){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gr(t,e)}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Sr(r);if(o){var n=Sr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,6)}return e=s,(n=[{key:"execute",value:function(t){t.skip()}},{key:"toString",value:function(){return"skip"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==mr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===mr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function Or(t){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(t)}function xr(t,e){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},xr(t,e)}function Er(t){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Er(t)}wr.INSTANCE=new wr;var _r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Er(r);if(o){var n=Er(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,0)).channel=t,e}return e=s,(n=[{key:"execute",value:function(t){t._channel=this.channel}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.channel)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.channel===t.channel}},{key:"toString",value:function(){return"channel("+this.channel+")"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Or(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Or(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function Tr(t,e){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tr(t,e)}function Rr(t){return Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rr(t)}var kr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Rr(r);if(o){var n=Rr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,1)).ruleIndex=t,n.actionIndex=e,n.isPositionDependent=!0,n}return e=s,(n=[{key:"execute",value:function(t){t.action(null,this.ruleIndex,this.actionIndex)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Pr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Pr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Cr(t,e){return Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Cr(t,e)}function Ir(t){return Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ir(t)}var Nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ir(r);if(o){var n=Ir(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,3)}return e=s,(n=[{key:"execute",value:function(t){t.more()}},{key:"toString",value:function(){return"more"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==jr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===jr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function Lr(t,e){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lr(t,e)}function Dr(t){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dr(t)}Nr.INSTANCE=new Nr;var Mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dr(r);if(o){var n=Dr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ar(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,7)).type=t,e}return e=s,(n=[{key:"execute",value:function(t){t.type=this.type}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.type)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.type===t.type}},{key:"toString",value:function(){return"type("+this.type+")"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Ar(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ar(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function Fr(t){return Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(t)}function Ur(t,e){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ur(t,e)}function Br(t){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Br(t)}var Vr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ur(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Br(r);if(o){var n=Br(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,5)).mode=t,e}return e=s,(n=[{key:"execute",value:function(t){t.pushMode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.mode===t.mode}},{key:"toString",value:function(){return"pushMode("+this.mode+")"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Fr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Fr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Fr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function qr(t){return qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(t)}function zr(t,e){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zr(t,e)}function Hr(t){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hr(t)}var Gr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Hr(r);if(o){var n=Hr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,4)}return e=s,(n=[{key:"execute",value:function(t){t.popMode()}},{key:"toString",value:function(){return"popMode"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==qr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function Yr(t){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(t)}function Kr(t,e){return Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kr(t,e)}function Wr(t){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wr(t)}Gr.INSTANCE=new Gr;var Xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Wr(r);if(o){var n=Wr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Yr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this,2)).mode=t,e}return e=s,(n=[{key:"execute",value:function(t){t.mode(this.mode)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.mode)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.mode===t.mode}},{key:"toString",value:function(){return"mode("+this.mode+")"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Yr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Yr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function $r(t,e){var n=[];return n[t-1]=e,n.map((function(t){return e}))}var Zr=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e&&(e=dr.defaultOptions),this.deserializationOptions=e,this.stateFactories=null,this.actionFactories=null}var e,r;return e=t,r=[{key:"deserialize",value:function(t){var e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();var n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);var r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&1===n.grammarType&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}},{key:"reset",value:function(t){if(3===(t.charCodeAt?t.charCodeAt(0):t[0])){var e=t.split("").map((function(t){var e=t.charCodeAt(0);return e>1?e-2:e+65534}));return e[0]=t.charCodeAt(0),this.data=e,this.pos=0,!0}return this.data=t,this.pos=0,!1}},{key:"skipUUID",value:function(){for(var t=0;t++<8;)this.readInt()}},{key:"checkVersion",value:function(t){var e=this.readInt();if(!t&&4!==e)throw"Could not deserialize ATN with version "+e+" (expected 4)."}},{key:"readATN",value:function(){var t=this.readInt(),e=this.readInt();return new he(t,e)}},{key:"readStates",value:function(t,e){for(var n,r,o,i=[],s=[],u=this.readInt(),a=0;a<u;a++){var c=this.readInt();if(c!==U.INVALID_TYPE){var l=this.readInt();e&&65535===l&&(l=-1);var f=this.stateFactory(c,l);if(c===U.LOOP_END){var p=this.readInt();i.push([f,p])}else if(f instanceof ke){var h=this.readInt();s.push([f,h])}t.addState(f)}else t.addState(null)}for(n=0;n<i.length;n++)(r=i[n])[0].loopBackState=t.states[r[1]];for(n=0;n<s.length;n++)(r=s[n])[0].endState=t.states[r[1]];var y=this.readInt();for(n=0;n<y;n++)o=this.readInt(),t.states[o].nonGreedy=!0;var d=this.readInt();for(n=0;n<d;n++)o=this.readInt(),t.states[o].isPrecedenceRule=!0}},{key:"readRules",value:function(t,e){var r,o=this.readInt();for(0===t.grammarType&&(t.ruleToTokenType=$r(o,0)),t.ruleToStartState=$r(o,0),r=0;r<o;r++){var i=this.readInt();if(t.ruleToStartState[r]=t.states[i],0===t.grammarType){var s=this.readInt();e&&65535===s&&(s=n.EOF),t.ruleToTokenType[r]=s}}for(t.ruleToStopState=$r(o,0),r=0;r<t.states.length;r++){var u=t.states[r];u instanceof G&&(t.ruleToStopState[u.ruleIndex]=u,t.ruleToStartState[u.ruleIndex].stopState=u)}}},{key:"readModes",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt();t.modeToStartState.push(t.states[r])}}},{key:"readSets",value:function(t,e,n){for(var r=this.readInt(),o=0;o<r;o++){var i=new M;e.push(i);var s=this.readInt();0!==this.readInt()&&i.addOne(-1);for(var u=0;u<s;u++){var a=n(),c=n();i.addRange(a,c)}}}},{key:"readEdges",value:function(t,e){var n,r,o,i,s,u=this.readInt();for(n=0;n<u;n++){var a=this.readInt(),c=this.readInt(),l=this.readInt(),f=this.readInt(),p=this.readInt(),h=this.readInt();i=this.edgeFactory(t,l,a,c,f,p,h,e),t.states[a].addTransition(i)}for(n=0;n<t.states.length;n++)for(o=t.states[n],r=0;r<o.transitions.length;r++){var y=o.transitions[r];if(y instanceof Q){var d=-1;t.ruleToStartState[y.target.ruleIndex].isPrecedenceRule&&0===y.precedence&&(d=y.target.ruleIndex),i=new Zn(y.followState,d),t.ruleToStopState[y.target.ruleIndex].addTransition(i)}}for(n=0;n<t.states.length;n++){if((o=t.states[n])instanceof ke){if(null===o.endState)throw"IllegalState";if(null!==o.endState.startState)throw"IllegalState";o.endState.startState=o}if(o instanceof sn)for(r=0;r<o.transitions.length;r++)(s=o.transitions[r].target)instanceof En&&(s.loopBackState=o);else if(o instanceof pn)for(r=0;r<o.transitions.length;r++)(s=o.transitions[r].target)instanceof mn&&(s.loopBackState=o)}}},{key:"readDecisions",value:function(t){for(var e=this.readInt(),n=0;n<e;n++){var r=this.readInt(),o=t.states[r];t.decisionToState.push(o),o.decision=n}}},{key:"readLexerActions",value:function(t,e){if(0===t.grammarType){var n=this.readInt();t.lexerActions=$r(n,null);for(var r=0;r<n;r++){var o=this.readInt(),i=this.readInt();e&&65535===i&&(i=-1);var s=this.readInt();e&&65535===s&&(s=-1),t.lexerActions[r]=this.lexerActionFactory(o,i,s)}}}},{key:"generateRuleBypassTransitions",value:function(t){var e,n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}},{key:"generateRuleBypassTransition",value:function(t,e){var n,r,o=new Dn;o.ruleIndex=e,t.addState(o);var i=new Le;i.ruleIndex=e,t.addState(i),o.endState=i,t.defineDecisionState(o),i.startState=o;var s=null,u=null;if(t.ruleToStartState[e].isPrecedenceRule){for(u=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){u=r,s=r.loopBackState.transitions[0];break}if(null===s)throw"Couldn't identify final state of the precedence rule prefix section."}else u=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(var a=0;a<r.transitions.length;a++){var c=r.transitions[a];c!==s&&c.target===u&&(c.target=i)}}for(var l=t.ruleToStartState[e],f=l.transitions.length;f>0;)o.addTransition(l.transitions[f-1]),l.transitions=l.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Zn(o)),i.addTransition(new Zn(u));var p=new be;t.addState(p),p.addTransition(new Bn(i,t.ruleToTokenType[e])),o.addTransition(new Zn(p))}},{key:"stateIsEndStateFor",value:function(t,e){if(t.ruleIndex!==e)return null;if(!(t instanceof mn))return null;var n=t.transitions[t.transitions.length-1].target;return n instanceof Ve&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof G?t:null}},{key:"markPrecedenceDecisions",value:function(t){for(var e=0;e<t.states.length;e++){var n=t.states[e];if(n instanceof mn&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){var r=n.transitions[n.transitions.length-1].target;r instanceof Ve&&r.epsilonOnlyTransitions&&r.transitions[0].target instanceof G&&(n.isPrecedenceDecision=!0)}}}},{key:"verifyATN",value:function(t){if(this.deserializationOptions.verifyATN)for(var e=0;e<t.states.length;e++){var n=t.states[e];if(null!==n)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof En)this.checkCondition(null!==n.loopBackState);else if(n instanceof mn)if(this.checkCondition(null!==n.loopBackState),this.checkCondition(2===n.transitions.length),n.transitions[0].target instanceof jn)this.checkCondition(n.transitions[1].target instanceof Ve),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof Ve))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof jn),this.checkCondition(n.nonGreedy)}else n instanceof pn?(this.checkCondition(1===n.transitions.length),this.checkCondition(n.transitions[0].target instanceof mn)):n instanceof Ve?this.checkCondition(null!==n.loopBackState):n instanceof Ke?this.checkCondition(null!==n.stopState):n instanceof ke?this.checkCondition(null!==n.endState):n instanceof Le?this.checkCondition(null!==n.startState):n instanceof xe?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof G)}}},{key:"checkCondition",value:function(t,e){if(!t)throw null==e&&(e="IllegalState"),e}},{key:"readInt",value:function(){return this.data[this.pos++]}},{key:"readInt32",value:function(){return this.readInt()|this.readInt()<<16}},{key:"edgeFactory",value:function(t,e,r,o,i,s,u,a){var c=t.states[o];switch(e){case Y.EPSILON:return new Zn(c);case Y.RANGE:return new Hn(c,0!==u?n.EOF:i,s);case Y.RULE:return new Q(t.states[i],s,u,c);case Y.PREDICATE:return new sr(c,i,s,0!==u);case Y.PRECEDENCE:return new yr(c,i);case Y.ATOM:return new Bn(c,0!==u?n.EOF:i);case Y.ACTION:return new Wn(c,i,s,0!==u);case Y.SET:return new tt(c,a[i]);case Y.NOT_SET:return new it(c,a[i]);case Y.WILDCARD:return new ct(c);default:throw"The specified transition type: "+e+" is not valid."}}},{key:"stateFactory",value:function(t,e){if(null===this.stateFactories){var n=[];n[U.INVALID_TYPE]=null,n[U.BASIC]=function(){return new be},n[U.RULE_START]=function(){return new Ke},n[U.BLOCK_START]=function(){return new Dn},n[U.PLUS_BLOCK_START]=function(){return new En},n[U.STAR_BLOCK_START]=function(){return new jn},n[U.TOKEN_START]=function(){return new Je},n[U.RULE_STOP]=function(){return new G},n[U.BLOCK_END]=function(){return new Le},n[U.STAR_LOOP_BACK]=function(){return new pn},n[U.STAR_LOOP_ENTRY]=function(){return new mn},n[U.PLUS_LOOP_BACK]=function(){return new sn},n[U.LOOP_END]=function(){return new Ve},this.stateFactories=n}if(t>this.stateFactories.length||null===this.stateFactories[t])throw"The specified state type "+t+" is not valid.";var r=this.stateFactories[t]();if(null!==r)return r.ruleIndex=e,r}},{key:"lexerActionFactory",value:function(t,e,n){if(null===this.actionFactories){var r=[];r[0]=function(t,e){return new _r(t)},r[1]=function(t,e){return new kr(t,e)},r[2]=function(t,e){return new Xr(t)},r[3]=function(t,e){return Nr.INSTANCE},r[4]=function(t,e){return Gr.INSTANCE},r[5]=function(t,e){return new Vr(t)},r[6]=function(t,e){return wr.INSTANCE},r[7]=function(t,e){return new Mr(t)},this.actionFactories=r}if(t>this.actionFactories.length||null===this.actionFactories[t])throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Qr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Qr(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Jr(t){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(t)}var to=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,s){}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Jr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Jr(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(t)}function no(t,e){return no=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},no(t,e)}function ro(t){return ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ro(t)}var oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&no(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ro(r);if(o){var n=ro(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this)}return e=s,(n=[{key:"syntaxError",value:function(t,e,n,r,o,i){console.error("line "+n+":"+r+" "+o)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==eo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===eo(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(to);function io(t){return io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(t)}function so(t,e){return so=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},so(t,e)}function uo(t,e){if(e&&("object"===io(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ao(t)}function ao(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function co(t){return co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},co(t)}oo.INSTANCE=new oo;var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&so(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=co(r);if(o){var n=co(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return uo(this,t)});function s(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=i.call(this),null===t)throw"delegates";return e.delegates=t,uo(e,ao(e))}return e=s,n=[{key:"syntaxError",value:function(t,e,n,r,o,i){this.delegates.map((function(s){return s.syntaxError(t,e,n,r,o,i)}))}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,s){this.delegates.map((function(u){return u.reportAmbiguity(t,e,n,r,o,i,s)}))}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){this.delegates.map((function(s){return s.reportAttemptingFullContext(t,e,n,r,o,i)}))}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){this.delegates.map((function(s){return s.reportContextSensitivity(t,e,n,r,o,i)}))}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==io(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===io(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(to);function fo(t){return fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(t)}var po=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners=[oo.INSTANCE],this._interp=null,this._stateNumber=-1}var e,r;return e=t,r=[{key:"checkVersion",value:function(t){var e="4.13.0";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}},{key:"addErrorListener",value:function(t){this._listeners.push(t)}},{key:"removeErrorListeners",value:function(){this._listeners=[]}},{key:"getLiteralNames",value:function(){return Object.getPrototypeOf(this).constructor.literalNames||[]}},{key:"getSymbolicNames",value:function(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}},{key:"getTokenNames",value:function(){if(!this.tokenNames){var t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(var r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}},{key:"getTokenTypeMap",value:function(){var t=this.getTokenNames();if(null===t)throw"The current recognizer does not provide a list of token names.";var e=this.tokenTypeMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),e.EOF=n.EOF,this.tokenTypeMapCache[t]=e),e}},{key:"getRuleIndexMap",value:function(){var t=this.ruleNames;if(null===t)throw"The current recognizer does not provide a list of rule names.";var e=this.ruleIndexMapCache[t];return void 0===e&&(e=t.reduce((function(t,e,n){t[e]=n})),this.ruleIndexMapCache[t]=e),e}},{key:"getTokenType",value:function(t){var e=this.getTokenTypeMap()[t];return void 0!==e?e:n.INVALID_TYPE}},{key:"getErrorHeader",value:function(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===n.EOF?"<EOF>":"<"+t.type+">"),"'"+(e=e.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t"))+"'"}},{key:"getErrorListenerDispatch",value:function(){return new lo(this._listeners)}},{key:"sempred",value:function(t,e,n){return!0}},{key:"precpred",value:function(t,e){return!0}},{key:"atn",get:function(){return this._interp.atn}},{key:"state",get:function(){return this._stateNumber},set:function(t){this._stateNumber=t}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==fo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===fo(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function yo(t,e){return yo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yo(t,e)}function vo(t){return vo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vo(t)}po.tokenTypeMapCache={},po.ruleIndexMapCache={};var bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yo(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vo(o);if(i){var n=vo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ho(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,r,o,i){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(a=s.call(this)).source=void 0!==t?t:u.EMPTY_SOURCE,a.type=void 0!==e?e:null,a.channel=void 0!==r?r:n.DEFAULT_CHANNEL,a.start=void 0!==o?o:-1,a.stop=void 0!==i?i:-1,a.tokenIndex=-1,null!==a.source[0]?(a.line=t[0].line,a.column=t[0].column):a.column=-1,a}return e=u,(r=[{key:"clone",value:function(){var t=new u(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}},{key:"cloneWithType",value:function(t){var e=new u(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===n.EOF&&(e.text=""),e}},{key:"toString",value:function(){var t=this.text;return t=null!==t?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}},{key:"text",get:function(){if(null!==this._text)return this._text;var t=this.getInputStream();if(null===t)return null;var e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"},set:function(t){this._text=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==ho(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ho(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n);function mo(t){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(t)}function go(t,e){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},go(t,e)}function So(t){return So=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},So(t)}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==mo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===mo(o)?o:String(o)),r)}var o}function Oo(t,e,n){return e&&wo(t.prototype,e),n&&wo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}bo.EMPTY_SOURCE=[null,null];var Eo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=So(e);if(n){var o=So(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return function(t,e){if(e&&("object"===mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function o(t){var e;return xo(this,o),(e=r.call(this)).copyText=void 0!==t&&t,e}return Oo(o,[{key:"create",value:function(t,e,n,r,o,i,s,u){var a=new bo(t,e,r,o,i);return a.line=s,a.column=u,null!==n?a.text=n:this.copyText&&null!==t[1]&&(a.text=t[1].getText(o,i)),a}},{key:"createThin",value:function(t,e){var n=new bo(null,t);return n.text=e,n}}]),o}(Oo((function t(){xo(this,t)})));function _o(t){return _o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_o(t)}function Po(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function To(t){var e="function"==typeof Map?new Map:void 0;return To=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ro(t,arguments,Co(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),jo(r,t)},To(t)}function Ro(t,e,n){return Ro=ko()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&jo(o,n.prototype),o},Ro.apply(null,arguments)}function ko(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function jo(t,e){return jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jo(t,e)}function Co(t){return Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(t)}Eo.DEFAULT=new Eo;var Io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jo(t,e)}(s,t);var e,n,r,o,i=(r=s,o=ko(),function(){var t,e=Co(r);if(o){var n=Co(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===_o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Po(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=i.call(this,t.message),Error.captureStackTrace&&Error.captureStackTrace(Po(e),s),e.message=t.message,e.recognizer=t.recognizer,e.input=t.input,e.ctx=t.ctx,e.offendingToken=null,e.offendingState=-1,null!==e.recognizer&&(e.offendingState=e.recognizer.state),e}return e=s,(n=[{key:"getExpectedTokens",value:function(){return null!==this.recognizer?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}},{key:"toString",value:function(){return this.message}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==_o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_o(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(To(Error));function No(t){return No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(t)}function Ao(t,e){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ao(t,e)}function Lo(t){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(t)}var Do=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ao(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lo(r);if(o){var n=Lo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===No(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(o=i.call(this,{message:"",recognizer:t,input:e,ctx:null})).startIndex=n,o.deadEndConfigs=r,o}return e=s,(n=[{key:"toString",value:function(){var t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new L(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==No(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==No(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===No(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Io);function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Fo(t,e){return Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fo(t,e)}function Uo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bo(t){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(t)}var Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fo(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bo(o);if(i){var n=Bo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Uo(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this))._input=t,e._factory=Eo.DEFAULT,e._tokenFactorySourcePair=[Uo(e),t],e._interp=null,e._token=null,e._tokenStartCharIndex=-1,e._tokenStartLine=-1,e._tokenStartColumn=-1,e._hitEOF=!1,e._channel=n.DEFAULT_CHANNEL,e._type=n.INVALID_TYPE,e._modeStack=[],e._mode=u.DEFAULT_MODE,e._text=null,e}return e=u,r=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._token=null,this._type=n.INVALID_TYPE,this._channel=n.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=u.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}},{key:"nextToken",value:function(){if(null===this._input)throw"nextToken requires a non-null input stream.";var t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=n.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;for(var e=!1;;){this._type=n.INVALID_TYPE;var r=u.SKIP;try{r=this._interp.match(this._input,this._mode)}catch(t){if(!(t instanceof Io))throw console.log(t.stack),t;this.notifyListeners(t),this.recover(t)}if(this._input.LA(1)===n.EOF&&(this._hitEOF=!0),this._type===n.INVALID_TYPE&&(this._type=r),this._type===u.SKIP){e=!0;break}if(this._type!==u.MORE)break}if(!e)return null===this._token&&this.emit(),this._token}}finally{this._input.release(t)}}},{key:"skip",value:function(){this._type=u.SKIP}},{key:"more",value:function(){this._type=u.MORE}},{key:"mode",value:function(t){this._mode=t}},{key:"pushMode",value:function(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.mode(t)}},{key:"popMode",value:function(){if(0===this._modeStack.length)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.mode(this._modeStack.pop()),this._mode}},{key:"emitToken",value:function(t){this._token=t}},{key:"emit",value:function(){var t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}},{key:"emitEOF",value:function(){var t=this.column,e=this.line,r=this._factory.create(this._tokenFactorySourcePair,n.EOF,null,n.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(r),r}},{key:"getCharIndex",value:function(){return this._input.index}},{key:"getAllTokens",value:function(){for(var t=[],e=this.nextToken();e.type!==n.EOF;)t.push(e),e=this.nextToken();return t}},{key:"notifyListeners",value:function(t){var e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),o="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListenerDispatch().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,o,t)}},{key:"getErrorDisplay",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e.join("")}},{key:"getErrorDisplayForChar",value:function(t){return t.charCodeAt(0)===n.EOF?"<EOF>":"\n"===t?"\\n":"\t"===t?"\\t":"\r"===t?"\\r":t}},{key:"getCharErrorDisplay",value:function(t){return"'"+this.getErrorDisplayForChar(t)+"'"}},{key:"recover",value:function(t){this._input.LA(1)!==n.EOF&&(t instanceof Do?this._interp.consume(this._input):this._input.consume())}},{key:"inputStream",get:function(){return this._input},set:function(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}},{key:"sourceName",get:function(){return this._input.sourceName}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"line",get:function(){return this._interp.line},set:function(t){this._interp.line=t}},{key:"column",get:function(){return this._interp.column},set:function(t){this._interp.column=t}},{key:"text",get:function(){return null!==this._text?this._text:this._interp.getText(this._input)},set:function(t){this._text=t}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Mo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Mo(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(po);function qo(t){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(t)}function zo(t){return t.hashCodeForConfigSet()}function Ho(t,e){return t===e||null!==t&&null!==e&&t.equalsForConfigSet(e)}Vo.DEFAULT_MODE=0,Vo.MORE=-2,Vo.SKIP=-3,Vo.DEFAULT_TOKEN_CHANNEL=n.DEFAULT_CHANNEL,Vo.HIDDEN=n.HIDDEN_CHANNEL,Vo.MIN_CHAR_VALUE=0,Vo.MAX_CHAR_VALUE=1114111;var Go=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configLookup=new m(zo,Ho),this.fullCtx=void 0===e||e,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}var e,n;return e=t,n=[{key:"add",value:function(t,e){if(void 0===e&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==T.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);var n=this.configLookup.add(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;var r=!this.fullCtx,o=ue(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=o,!0}},{key:"getStates",value:function(){for(var t=new m,e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}},{key:"getPredicates",value:function(){for(var t=[],e=0;e<this.configs.length;e++){var n=this.configs[e].semanticContext;n!==T.NONE&&t.push(n.semanticContext)}return t}},{key:"optimizeConfigs",value:function(t){if(this.readOnly)throw"This set is readonly";if(0!==this.configLookup.length)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];n.context=t.getCachedContext(n.context)}}},{key:"addAll",value:function(t){for(var e=0;e<t.length;e++)this.add(t[e]);return!1}},{key:"equals",value:function(e){return this===e||e instanceof t&&i(this.configs,e.configs)&&this.fullCtx===e.fullCtx&&this.uniqueAlt===e.uniqueAlt&&this.conflictingAlts===e.conflictingAlts&&this.hasSemanticContext===e.hasSemanticContext&&this.dipsIntoOuterContext===e.dipsIntoOuterContext}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}},{key:"updateHashCode",value:function(t){this.readOnly?(-1===this.cachedHashCode&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}},{key:"isEmpty",value:function(){return 0===this.configs.length}},{key:"contains",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}},{key:"containsFast",value:function(t){if(null===this.configLookup)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}},{key:"clear",value:function(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new m}},{key:"setReadonly",value:function(t){this.readOnly=t,t&&(this.configLookup=null)}},{key:"toString",value:function(){return d(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==he.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(null!==this.conflictingAlts?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}},{key:"items",get:function(){return this.configs}},{key:"length",get:function(){return this.configs.length}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==qo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qo(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Yo(t){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(t)}var Ko=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null===e&&(e=-1),null===n&&(n=new Go),this.stateNumber=e,this.configs=n,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}var e,n;return e=t,n=[{key:"getAltSet",value:function(){var t=new m;if(null!==this.configs)for(var e=0;e<this.configs.length;e++){var n=this.configs[e];t.add(n.alt)}return 0===t.length?null:t}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.configs.equals(e.configs)}},{key:"toString",value:function(){var t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",null!==this.predicates?t+=this.predicates:t+=this.prediction),t}},{key:"hashCode",value:function(){var t=new f;return t.update(this.configs),t.finish()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Yo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Yo(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Wo(t){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(t)}var Xo=function(){function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.atn=e,this.sharedContextCache=n,this}var e,n;return e=t,n=[{key:"getCachedContext",value:function(t){if(null===this.sharedContextCache)return t;var e=new oe;return se(t,this.sharedContextCache,e)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Wo(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Wo(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qo(t){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(t)}function $o(t,e){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$o(t,e)}function Zo(t){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zo(t)}Xo.ERROR=new Ko(2147483647,new Go);var Jo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$o(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zo(n);if(r){var o=Zo(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Qo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).configLookup=new m,t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Go);function ti(t){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(t)}function ei(){return ei="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ii(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ei.apply(this,arguments)}function ni(t,e){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ni(t,e)}function ri(t,e){if(e&&("object"===ti(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oi(t)}function oi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(t){return ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ii(t)}var si=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ii(r);if(o){var n=ii(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ri(this,t)});function s(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=i.call(this,t,e);var r=t.lexerActionExecutor||null;return n.lexerActionExecutor=r||(null!==e?e.lexerActionExecutor:null),n.passedThroughNonGreedyDecision=null!==e&&n.checkNonGreedyDecision(e,n.state),n.hashCodeForConfigSet=s.prototype.hashCode,n.equalsForConfigSet=s.prototype.equals,ri(n,oi(n))}return e=s,(n=[{key:"updateHashCode",value:function(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&ei(ii(s.prototype),"equals",this).call(this,t)}},{key:"checkNonGreedyDecision",value:function(t,e){return t.passedThroughNonGreedyDecision||e instanceof xe&&e.nonGreedy}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==ti(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ti(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(N);function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function ai(t,e){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ai(t,e)}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ci(t)}var li=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ai(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ci(r);if(o){var n=ci(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,e.actionType)).offset=t,n.action=e,n.isPositionDependent=!0,n}return e=s,(n=[{key:"execute",value:function(t){this.action.execute(t)}},{key:"updateHashCode",value:function(t){t.update(this.actionType,this.offset,this.action)}},{key:"equals",value:function(t){return this===t||t instanceof s&&this.offset===t.offset&&this.action===t.action}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ui(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(br);function fi(t){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(t)}function pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==fi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===fi(o)?o:String(o)),r)}var o}var hi=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lexerActions=null===e?[]:e,this.cachedHashCode=f.hashStuff(e),this}var e,n,r;return e=t,n=[{key:"fixOffsetBeforeMatch",value:function(e){for(var n=null,r=0;r<this.lexerActions.length;r++)!this.lexerActions[r].isPositionDependent||this.lexerActions[r]instanceof li||(null===n&&(n=this.lexerActions.concat([])),n[r]=new li(e,this.lexerActions[r]));return null===n?this:new t(n)}},{key:"execute",value:function(t,e,n){var r=!1,o=e.index;try{for(var i=0;i<this.lexerActions.length;i++){var s=this.lexerActions[i];if(s instanceof li){var u=s.offset;e.seek(n+u),s=s.action,r=n+u!==o}else s.isPositionDependent&&(e.seek(o),r=!1);s.execute(t)}}finally{r&&e.seek(o)}}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"updateHashCode",value:function(t){t.update(this.cachedHashCode)}},{key:"equals",value:function(e){if(this===e)return!0;if(e instanceof t){if(this.cachedHashCode!=e.cachedHashCode)return!1;if(this.lexerActions.length!=e.lexerActions.length)return!1;for(var n=this.lexerActions.length,r=0;r<n;++r)if(!this.lexerActions[r].equals(e.lexerActions[r]))return!1;return!0}return!1}}],r=[{key:"append",value:function(e,n){return new t(null===e?[n]:e.lexerActions.concat([n]))}}],n&&pi(e.prototype,n),r&&pi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yi(t,e){return yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yi(t,e)}function di(t){return di=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},di(t)}function vi(t){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(t)}function bi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==vi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===vi(o)?o:String(o)),r)}var o}function gi(t,e,n){return e&&mi(t.prototype,e),n&&mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Si(t){t.index=-1,t.line=0,t.column=-1,t.dfaState=null}var wi=function(){function t(){bi(this,t),Si(this)}return gi(t,[{key:"reset",value:function(){Si(this)}}]),t}(),Oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yi(t,e)}(i,t);var e,r,o=(e=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=di(e);if(r){var o=di(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return function(t,e){if(e&&("object"===vi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,r){var s;return bi(this,i),(s=o.call(this,e,r)).decisionToDFA=n,s.recog=t,s.startIndex=-1,s.line=1,s.column=0,s.mode=Vo.DEFAULT_MODE,s.prevAccept=new wi,s}return gi(i,[{key:"copyState",value:function(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}},{key:"match",value:function(t,e){this.mode=e;var n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();var r=this.decisionToDFA[e];return null===r.s0?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}},{key:"reset",value:function(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=Vo.DEFAULT_MODE}},{key:"matchATN",value:function(t){var e=this.atn.modeToStartState[this.mode];i.debug&&console.log("matchATN mode "+this.mode+" start: "+e);var n=this.mode,r=this.computeStartState(t,e),o=r.hasSemanticContext;r.hasSemanticContext=!1;var s=this.addDFAState(r);o||(this.decisionToDFA[this.mode].s0=s);var u=this.execATN(t,s);return i.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),u}},{key:"execATN",value:function(t,e){i.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);for(var r=t.LA(1),o=e;;){i.debug&&console.log("execATN loop starting closure: "+o.configs);var s=this.getExistingTargetState(o,r);if(null===s&&(s=this.computeTargetState(t,o,r)),s===Xo.ERROR)break;if(r!==n.EOF&&this.consume(t),s.isAcceptState&&(this.captureSimState(this.prevAccept,t,s),r===n.EOF))break;r=t.LA(1),o=s}return this.failOrAccept(this.prevAccept,t,o.configs,r)}},{key:"getExistingTargetState",value:function(t,e){if(null===t.edges||e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE)return null;var n=t.edges[e-i.MIN_DFA_EDGE];return void 0===n&&(n=null),i.debug&&null!==n&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}},{key:"computeTargetState",value:function(t,e,n){var r=new Jo;return this.getReachableConfigSet(t,e.configs,r,n),0===r.items.length?(r.hasSemanticContext||this.addDFAEdge(e,n,Xo.ERROR),Xo.ERROR):this.addDFAEdge(e,n,null,r)}},{key:"failOrAccept",value:function(t,e,r,o){if(null!==this.prevAccept.dfaState){var i=t.dfaState.lexerActionExecutor;return this.accept(e,i,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(o===n.EOF&&e.index===this.startIndex)return n.EOF;throw new Do(this.recog,e,this.startIndex,r)}},{key:"getReachableConfigSet",value:function(t,e,r,o){for(var s=he.INVALID_ALT_NUMBER,u=0;u<e.items.length;u++){var a=e.items[u],c=a.alt===s;if(!c||!a.passedThroughNonGreedyDecision){i.debug&&console.log("testing %s at %s\n",this.getTokenName(o),a.toString(this.recog,!0));for(var l=0;l<a.state.transitions.length;l++){var f=a.state.transitions[l],p=this.getReachableTarget(f,o);if(null!==p){var h=a.lexerActionExecutor;null!==h&&(h=h.fixOffsetBeforeMatch(t.index-this.startIndex));var y=o===n.EOF,d=new si({state:p,lexerActionExecutor:h},a);this.closure(t,d,r,c,!0,y)&&(s=a.alt)}}}}}},{key:"accept",value:function(t,e,n,r,o,s){i.debug&&console.log("ACTION %s\n",e),t.seek(r),this.line=o,this.column=s,null!==e&&null!==this.recog&&e.execute(this.recog,t,n)}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,Vo.MAX_CHAR_VALUE)?t.target:null}},{key:"computeStartState",value:function(t,e){for(var n=Bt.EMPTY,r=new Jo,o=0;o<e.transitions.length;o++){var i=e.transitions[o].target,s=new si({state:i,alt:o+1,context:n},null);this.closure(t,s,r,!1,!1,!1)}return r}},{key:"closure",value:function(t,e,n,r,o,s){var u=null;if(i.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof G){if(i.debug&&(null!==this.recog?console.log("closure at %s rule stop %s\n",this.recog.ruleNames[e.state.ruleIndex],e):console.log("closure at rule stop %s\n",e)),null===e.context||e.context.hasEmptyPath()){if(null===e.context||e.context.isEmpty())return n.add(e),!0;n.add(new si({state:e.state,context:Bt.EMPTY},e)),r=!0}if(null!==e.context&&!e.context.isEmpty())for(var a=0;a<e.context.length;a++)if(e.context.getReturnState(a)!==Bt.EMPTY_RETURN_STATE){var c=e.context.getParent(a),l=this.atn.states[e.context.getReturnState(a)];u=new si({state:l,context:c},e),r=this.closure(t,u,n,r,o,s)}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(var f=0;f<e.state.transitions.length;f++){var p=e.state.transitions[f];null!==(u=this.getEpsilonTarget(t,e,p,n,o,s))&&(r=this.closure(t,u,n,r,o,s))}return r}},{key:"getEpsilonTarget",value:function(t,e,r,o,s,u){var a=null;if(r.serializationType===Y.RULE){var c=$t.create(e.context,r.followState.stateNumber);a=new si({state:r.target,context:c},e)}else{if(r.serializationType===Y.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(r.serializationType===Y.PREDICATE)i.debug&&console.log("EVAL rule "+r.ruleIndex+":"+r.predIndex),o.hasSemanticContext=!0,this.evaluatePredicate(t,r.ruleIndex,r.predIndex,s)&&(a=new si({state:r.target},e));else if(r.serializationType===Y.ACTION)if(null===e.context||e.context.hasEmptyPath()){var l=hi.append(e.lexerActionExecutor,this.atn.lexerActions[r.actionIndex]);a=new si({state:r.target,lexerActionExecutor:l},e)}else a=new si({state:r.target},e);else r.serializationType===Y.EPSILON?a=new si({state:r.target},e):r.serializationType!==Y.ATOM&&r.serializationType!==Y.RANGE&&r.serializationType!==Y.SET||u&&r.matches(n.EOF,0,Vo.MAX_CHAR_VALUE)&&(a=new si({state:r.target},e))}return a}},{key:"evaluatePredicate",value:function(t,e,n,r){if(null===this.recog)return!0;if(!r)return this.recog.sempred(null,e,n);var o=this.column,i=this.line,s=t.index,u=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=o,this.line=i,t.seek(s),t.release(u)}}},{key:"captureSimState",value:function(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}},{key:"addDFAEdge",value:function(t,e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=null),null===n&&null!==r){var o=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),o)return n}return e<i.MIN_DFA_EDGE||e>i.MAX_DFA_EDGE||(i.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),null===t.edges&&(t.edges=[]),t.edges[e-i.MIN_DFA_EDGE]=n),n}},{key:"addDFAState",value:function(t){for(var e=new Ko(null,t),n=null,r=0;r<t.items.length;r++){var o=t.items[r];if(o.state instanceof G){n=o;break}}null!==n&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);var i=this.decisionToDFA[this.mode],s=i.states.get(e);if(null!==s)return s;var u=e;return u.stateNumber=i.states.length,t.setReadonly(!0),u.configs=t,i.states.add(u),u}},{key:"getDFA",value:function(t){return this.decisionToDFA[t]}},{key:"getText",value:function(t){return t.getText(this.startIndex,t.index-1)}},{key:"consume",value:function(t){t.LA(1)==="\n".charCodeAt(0)?(this.line+=1,this.column=0):this.column+=1,t.consume()}},{key:"getTokenName",value:function(t){return-1===t?"EOF":"'"+String.fromCharCode(t)+"'"}}]),i}(Xo);function xi(t){return xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(t)}Oi.debug=!1,Oi.dfa_debug=!1,Oi.MIN_DFA_EDGE=0,Oi.MAX_DFA_EDGE=127;var Ei=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.alt=n,this.pred=e}var e,n;return e=t,(n=[{key:"toString",value:function(){return"("+this.pred+", "+this.alt+")"}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==xi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===xi(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _i(t){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(t)}var Pi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={}}var e,n;return e=t,(n=[{key:"get",value:function(t){return this.data["k-"+t]||null}},{key:"set",value:function(t,e){this.data["k-"+t]=e}},{key:"values",value:function(){var t=this;return Object.keys(this.data).filter((function(t){return t.startsWith("k-")})).map((function(e){return t.data[e]}),this)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==_i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==_i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===_i(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Ti={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(t,e){if(Ti.allConfigsInRuleStopStates(e))return!0;if(t===Ti.SLL&&e.hasSemanticContext){for(var n=new Go,r=0;r<e.items.length;r++){var o=e.items[r];o=new N({semanticContext:T.NONE},o),n.add(o)}e=n}var i=Ti.getConflictingAltSubsets(e);return Ti.hasConflictingAltSet(i)&&!Ti.hasStateAssociatedWithOneAlt(e)},hasConfigInRuleStopState:function(t){for(var e=0;e<t.items.length;e++)if(t.items[e].state instanceof G)return!0;return!1},allConfigsInRuleStopStates:function(t){for(var e=0;e<t.items.length;e++)if(!(t.items[e].state instanceof G))return!1;return!0},resolvesToJustOneViableAlt:function(t){return Ti.getSingleViableAlt(t)},allSubsetsConflict:function(t){return!Ti.hasNonConflictingAltSet(t)},hasNonConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(1===t[e].length)return!0;return!1},hasConflictingAltSet:function(t){for(var e=0;e<t.length;e++)if(t[e].length>1)return!0;return!1},allSubsetsEqual:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n];if(null===e)e=r;else if(r!==e)return!1}return!0},getUniqueAlt:function(t){var e=Ti.getAlts(t);return 1===e.length?e.minValue():he.INVALID_ALT_NUMBER},getAlts:function(t){var e=new ce;return t.map((function(t){e.or(t)})),e},getConflictingAltSubsets:function(t){var e=new oe;return e.hashFunction=function(t){f.hashStuff(t.state.stateNumber,t.context)},e.equalsFunction=function(t,e){return t.state.stateNumber===e.state.stateNumber&&t.context.equals(e.context)},t.items.map((function(t){var n=e.get(t);null===n&&(n=new ce,e.set(t,n)),n.add(t.alt)})),e.getValues()},getStateToAltMap:function(t){var e=new Pi;return t.items.map((function(t){var n=e.get(t.state);null===n&&(n=new ce,e.set(t.state,n)),n.add(t.alt)})),e},hasStateAssociatedWithOneAlt:function(t){for(var e=Ti.getStateToAltMap(t).values(),n=0;n<e.length;n++)if(1===e[n].length)return!0;return!1},getSingleViableAlt:function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n].minValue();if(null===e)e=r;else if(e!==r)return he.INVALID_ALT_NUMBER}return e}};const Ri=Ti;function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function ji(t,e){return ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ji(t,e)}function Ci(t){return Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ci(t)}var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ji(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ci(n);if(r){var o=Ci(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ki(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n,r,s,u){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),u=u||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),(a=o.call(this,{message:"",recognizer:t,input:e,ctx:u})).deadEndConfigs=s,a.startToken=n,a.offendingToken=r,a}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Io);function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}var Ai=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaultMapCtor=e||oe,this.cacheMap=new this.defaultMapCtor}var e,n;return e=t,(n=[{key:"get",value:function(t,e){var n=this.cacheMap.get(t)||null;return null===n?null:n.get(e)||null}},{key:"set",value:function(t,e,n){var r=this.cacheMap.get(t)||null;null===r&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Ni(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ni(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Li(t){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(t)}function Di(t,e){return Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Di(t,e)}function Mi(t){return Mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mi(t)}var Fi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Di(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Mi(o);if(i){var n=Mi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Li(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=s.call(this,e,r)).parser=t,o.decisionToDFA=n,o.predictionMode=Ri.LL,o._input=null,o._startIndex=0,o._outerContext=null,o._dfa=null,o.mergeCache=null,o.debug=!1,o.debug_closure=!1,o.debug_add=!1,o.trace_atn_sim=!1,o.dfa_debug=!1,o.retry_debug=!1,o}return e=u,r=[{key:"reset",value:function(){}},{key:"adaptivePredict",value:function(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;var r=this.decisionToDFA[e];this._dfa=r;var o=t.mark(),i=t.index;try{var s;if(null===(s=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0)){null===n&&(n=Ft.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));var u=this.computeStartState(r.atnStartState,Ft.EMPTY,!1);r.precedenceDfa?(r.s0.configs=u,u=this.applyPrecedenceFilter(u),s=this.addDFAState(r,new Ko(null,u)),r.setPrecedenceStartState(this.parser.getPrecedence(),s)):(s=this.addDFAState(r,new Ko(null,u)),r.s0=s)}var a=this.execATN(r,s,t,i,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),a}finally{this._dfa=null,this.mergeCache=null,t.seek(i),t.release(o)}}},{key:"execATN",value:function(t,e,r,o,i){var s;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(r)+" line "+r.LT(1).line+":"+r.LT(1).column);var u=e;this.debug&&console.log("s0 = "+e);for(var a=r.LA(1);;){var c=this.getExistingTargetState(u,a);if(null===c&&(c=this.computeTargetState(t,u,a)),c===Xo.ERROR){var l=this.noViableAlt(r,i,u.configs,o);if(r.seek(o),(s=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(u.configs,i))!==he.INVALID_ALT_NUMBER)return s;throw l}if(c.requiresFullContext&&this.predictionMode!==Ri.SLL){var f=null;if(null!==c.predicates){this.debug&&console.log("DFA state has preds in DFA sim LL failover");var p=r.index;if(p!==o&&r.seek(o),1===(f=this.evalSemanticContext(c.predicates,i,!0)).length)return this.debug&&console.log("Full LL avoided"),f.minValue();p!==o&&r.seek(p)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+c);var h=this.computeStartState(t.atnStartState,i,!0);return this.reportAttemptingFullContext(t,f,c.configs,o,r.index),this.execATNWithFullContext(t,c,h,r,o,i)}if(c.isAcceptState){if(null===c.predicates)return c.prediction;var y=r.index;r.seek(o);var d=this.evalSemanticContext(c.predicates,i,!0);if(0===d.length)throw this.noViableAlt(r,i,c.configs,o);return 1===d.length||this.reportAmbiguity(t,c,o,y,!1,d,c.configs),d.minValue()}u=c,a!==n.EOF&&(r.consume(),a=r.LA(1))}}},{key:"getExistingTargetState",value:function(t,e){var n=t.edges;return null===n?null:n[e+1]||null}},{key:"computeTargetState",value:function(t,e,n){var r=this.computeReachSet(e.configs,n,!1);if(null===r)return this.addDFAEdge(t,e,n,Xo.ERROR),Xo.ERROR;var o=new Ko(null,r),i=this.getUniqueAlt(r);if(this.debug){var s=Ri.getConflictingAltSubsets(r);console.log("SLL altSubSets="+d(s)+", configs="+r+", predict="+i+", allSubsetsConflict="+Ri.allSubsetsConflict(s)+", conflictingAlts="+this.getConflictingAlts(r))}return i!==he.INVALID_ALT_NUMBER?(o.isAcceptState=!0,o.configs.uniqueAlt=i,o.prediction=i):Ri.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(o.configs.conflictingAlts=this.getConflictingAlts(r),o.requiresFullContext=!0,o.isAcceptState=!0,o.prediction=o.configs.conflictingAlts.minValue()),o.isAcceptState&&o.configs.hasSemanticContext&&(this.predicateDFAState(o,this.atn.getDecisionState(t.decision)),null!==o.predicates&&(o.prediction=he.INVALID_ALT_NUMBER)),this.addDFAEdge(t,e,n,o)}},{key:"predicateDFAState",value:function(t,e){var n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),o=this.getPredsForAmbigAlts(r,t.configs,n);null!==o?(t.predicates=this.getPredicatePredictions(r,o),t.prediction=he.INVALID_ALT_NUMBER):t.prediction=r.minValue()}},{key:"execATNWithFullContext",value:function(t,e,r,o,i,s){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+r);var u,a=!1,c=r;o.seek(i);for(var l=o.LA(1),f=-1;;){if(null===(u=this.computeReachSet(c,l,!0))){var p=this.noViableAlt(o,s,c,i);o.seek(i);var h=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(c,s);if(h!==he.INVALID_ALT_NUMBER)return h;throw p}var y=Ri.getConflictingAltSubsets(u);if(this.debug&&console.log("LL altSubSets="+y+", predict="+Ri.getUniqueAlt(y)+", resolvesToJustOneViableAlt="+Ri.resolvesToJustOneViableAlt(y)),u.uniqueAlt=this.getUniqueAlt(u),u.uniqueAlt!==he.INVALID_ALT_NUMBER){f=u.uniqueAlt;break}if(this.predictionMode!==Ri.LL_EXACT_AMBIG_DETECTION){if((f=Ri.resolvesToJustOneViableAlt(y))!==he.INVALID_ALT_NUMBER)break}else if(Ri.allSubsetsConflict(y)&&Ri.allSubsetsEqual(y)){a=!0,f=Ri.getSingleViableAlt(y);break}c=u,l!==n.EOF&&(o.consume(),l=o.LA(1))}return u.uniqueAlt!==he.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,f,u,i,o.index),f):(this.reportAmbiguity(t,e,i,o.index,a,null,u),f)}},{key:"computeReachSet",value:function(t,e,r){this.debug&&console.log("in computeReachSet, starting closure: "+t),null===this.mergeCache&&(this.mergeCache=new Ai);for(var o=new Go(r),i=null,s=0;s<t.items.length;s++){var u=t.items[s];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+u),u.state instanceof G)(r||e===n.EOF)&&(null===i&&(i=[]),i.push(u),this.debug_add&&console.log("added "+u+" to skippedStopStates"));else for(var a=0;a<u.state.transitions.length;a++){var c=u.state.transitions[a],l=this.getReachableTarget(c,e);if(null!==l){var f=new N({state:l},u);o.add(f,this.mergeCache),this.debug_add&&console.log("added "+f+" to intermediate")}}}var p=null;if(null===i&&e!==n.EOF&&(1===o.items.length||this.getUniqueAlt(o)!==he.INVALID_ALT_NUMBER)&&(p=o),null===p){p=new Go(r);for(var h=new m,y=e===n.EOF,d=0;d<o.items.length;d++)this.closure(o.items[d],p,h,!1,r,y)}if(e===n.EOF&&(p=this.removeAllConfigsNotInRuleStopState(p,p===o)),!(null===i||r&&Ri.hasConfigInRuleStopState(p)))for(var v=0;v<i.length;v++)p.add(i[v],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+p),0===p.items.length?null:p}},{key:"removeAllConfigsNotInRuleStopState",value:function(t,e){if(Ri.allConfigsInRuleStopStates(t))return t;for(var r=new Go(t.fullCtx),o=0;o<t.items.length;o++){var i=t.items[o];if(i.state instanceof G)r.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(n.EPSILON)){var s=this.atn.ruleToStopState[i.state.ruleIndex];r.add(new N({state:s},i),this.mergeCache)}}return r}},{key:"computeStartState",value:function(t,e,n){var r=ie(this.atn,e),o=new Go(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(var i=0;i<t.transitions.length;i++){var s=t.transitions[i].target,u=new N({state:s,alt:i+1,context:r},null),a=new m;this.closure(u,o,a,!0,n,!1)}return o}},{key:"applyPrecedenceFilter",value:function(t){for(var e,n=[],r=new Go(t.fullCtx),o=0;o<t.items.length;o++)if(1===(e=t.items[o]).alt){var i=e.semanticContext.evalPrecedence(this.parser,this._outerContext);null!==i&&(n[e.state.stateNumber]=e.context,i!==e.semanticContext?r.add(new N({semanticContext:i},e),this.mergeCache):r.add(e,this.mergeCache))}for(var s=0;s<t.items.length;s++)if(1!==(e=t.items[s]).alt){if(!e.precedenceFilterSuppressed){var u=n[e.state.stateNumber]||null;if(null!==u&&u.equals(e.context))continue}r.add(e,this.mergeCache)}return r}},{key:"getReachableTarget",value:function(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}},{key:"getPredsForAmbigAlts",value:function(t,e,n){for(var r=[],o=0;o<e.items.length;o++){var i=e.items[o];t.has(i.alt)&&(r[i.alt]=T.orContext(r[i.alt]||null,i.semanticContext))}for(var s=0,u=1;u<n+1;u++){var a=r[u]||null;null===a?r[u]=T.NONE:a!==T.NONE&&(s+=1)}return 0===s&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+d(r)),r}},{key:"getPredicatePredictions",value:function(t,e){for(var n=[],r=!1,o=1;o<e.length;o++){var i=e[o];null!==t&&t.has(o)&&n.push(new Ei(i,o)),i!==T.NONE&&(r=!0)}return r?n:null}},{key:"getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule",value:function(t,e){var n=this.splitAccordingToSemanticValidity(t,e),r=n[0],o=n[1],i=this.getAltThatFinishedDecisionEntryRule(r);return i!==he.INVALID_ALT_NUMBER||o.items.length>0&&(i=this.getAltThatFinishedDecisionEntryRule(o))!==he.INVALID_ALT_NUMBER?i:he.INVALID_ALT_NUMBER}},{key:"getAltThatFinishedDecisionEntryRule",value:function(t){for(var e=[],n=0;n<t.items.length;n++){var r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof G&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return 0===e.length?he.INVALID_ALT_NUMBER:Math.min.apply(null,e)}},{key:"splitAccordingToSemanticValidity",value:function(t,e){for(var n=new Go(t.fullCtx),r=new Go(t.fullCtx),o=0;o<t.items.length;o++){var i=t.items[o];i.semanticContext!==T.NONE?i.semanticContext.evaluate(this.parser,e)?n.add(i):r.add(i):n.add(i)}return[n,r]}},{key:"evalSemanticContext",value:function(t,e,n){for(var r=new ce,o=0;o<t.length;o++){var i=t[o];if(i.pred!==T.NONE){var s=i.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+i+"="+s),s&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+i.alt),r.add(i.alt),!n))break}else if(r.add(i.alt),!n)break}return r}},{key:"closure",value:function(t,e,n,r,o,i){this.closureCheckingStopState(t,e,n,r,o,0,i)}},{key:"closureCheckingStopState",value:function(t,e,n,r,o,i,s){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof G){if(!t.context.isEmpty()){for(var u=0;u<t.context.length;u++)if(t.context.getReturnState(u)!==Bt.EMPTY_RETURN_STATE){var a=this.atn.states[t.context.getReturnState(u)],c=t.context.getParent(u),l={state:a,alt:t.alt,context:c,semanticContext:t.semanticContext},f=new N(l,null);f.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(f,e,n,r,o,i-1,s)}else{if(o){e.add(new N({state:t.state,context:Bt.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,o,i,s)}return}if(o)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,o,i,s)}},{key:"closure_",value:function(t,e,n,r,o,i,s){var u=t.state;u.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(var a=0;a<u.transitions.length;a++)if(0!==a||!this.canDropLoopEntryEdgeInLeftRecursiveRule(t)){var c=u.transitions[a],l=r&&!(c instanceof Wn),f=this.getEpsilonTarget(t,c,l,0===i,o,s);if(null!==f){var p=i;if(t.state instanceof G){if(null!==this._dfa&&this._dfa.precedenceDfa&&c.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(f.precedenceFilterSuppressed=!0),f.reachesIntoOuterContext+=1,n.add(f)!==f)continue;e.dipsIntoOuterContext=!0,p-=1,this.debug&&console.log("dips into outer ctx: "+f)}else{if(!c.isEpsilon&&n.add(f)!==f)continue;c instanceof Q&&p>=0&&(p+=1)}this.closureCheckingStopState(f,e,n,l,o,p,s)}}}},{key:"canDropLoopEntryEdgeInLeftRecursiveRule",value:function(t){var e=t.state;if(e.stateType!==U.STAR_LOOP_ENTRY)return!1;if(e.stateType!==U.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;for(var n=t.context.length,r=0;r<n;r++)if(this.atn.states[t.context.getReturnState(r)].ruleIndex!==e.ruleIndex)return!1;for(var o=e.transitions[0].target.endState.stateNumber,i=this.atn.states[o],s=0;s<n;s++){var u=t.context.getReturnState(s),a=this.atn.states[u];if(1!==a.transitions.length||!a.transitions[0].isEpsilon)return!1;var c=a.transitions[0].target;if(!(a.stateType===U.BLOCK_END&&c===e||a===i||c===i||c.stateType===U.BLOCK_END&&1===c.transitions.length&&c.transitions[0].isEpsilon&&c.transitions[0].target===e))return!1}return!0}},{key:"getRuleName",value:function(t){return null!==this.parser&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}},{key:"getEpsilonTarget",value:function(t,e,r,o,i,s){switch(e.serializationType){case Y.RULE:return this.ruleTransition(t,e);case Y.PRECEDENCE:return this.precedenceTransition(t,e,r,o,i);case Y.PREDICATE:return this.predTransition(t,e,r,o,i);case Y.ACTION:return this.actionTransition(t,e);case Y.EPSILON:return new N({state:e.target},t);case Y.ATOM:case Y.RANGE:case Y.SET:return s&&e.matches(n.EOF,0,1)?new N({state:e.target},t):null;default:return null}}},{key:"actionTransition",value:function(t,e){if(this.debug){var n=-1===e.actionIndex?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+n)}return new N({state:e.target},t)}},{key:"precedenceTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),null!==this.parser&&console.log("context surrounding pred is "+d(this.parser.getRuleInvocationStack())));var i=null;if(n&&r)if(o){var s=this._input.index;this._input.seek(this._startIndex);var u=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(s),u&&(i=new N({state:e.target},t))}else{var a=T.andContext(t.semanticContext,e.getPredicate());i=new N({state:e.target,semanticContext:a},t)}else i=new N({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"predTransition",value:function(t,e,n,r,o){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),null!==this.parser&&console.log("context surrounding pred is "+d(this.parser.getRuleInvocationStack())));var i=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(o){var s=this._input.index;this._input.seek(this._startIndex);var u=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(s),u&&(i=new N({state:e.target},t))}else{var a=T.andContext(t.semanticContext,e.getPredicate());i=new N({state:e.target,semanticContext:a},t)}else i=new N({state:e.target},t);return this.debug&&console.log("config from pred transition="+i),i}},{key:"ruleTransition",value:function(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);var n=e.followState,r=$t.create(t.context,n.stateNumber);return new N({state:e.target,context:r},t)}},{key:"getConflictingAlts",value:function(t){var e=Ri.getConflictingAltSubsets(t);return Ri.getAlts(e)}},{key:"getConflictingAltsOrUniqueAlt",value:function(t){var e=null;return t.uniqueAlt!==he.INVALID_ALT_NUMBER?(e=new ce).add(t.uniqueAlt):e=t.conflictingAlts,e}},{key:"getTokenName",value:function(t){if(t===n.EOF)return"EOF";if(null!==this.parser&&null!==this.parser.literalNames){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}},{key:"getLookaheadName",value:function(t){return this.getTokenName(t.LA(1))}},{key:"dumpDeadEndConfigs",value:function(t){console.log("dead end configs: ");for(var e=t.getDeadEndConfigs(),n=0;n<e.length;n++){var r=e[n],o="no edges";if(r.state.transitions.length>0){var i=r.state.transitions[0];i instanceof Bn?o="Atom "+this.getTokenName(i.label):i instanceof tt&&(o=(i instanceof it?"~":"")+"Set "+i.set)}console.error(r.toString(this.parser,!0)+":"+o)}}},{key:"noViableAlt",value:function(t,e,n,r){return new Ii(this.parser,t,t.get(r),t.LT(1),n,e)}},{key:"getUniqueAlt",value:function(t){for(var e=he.INVALID_ALT_NUMBER,n=0;n<t.items.length;n++){var r=t.items[n];if(e===he.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return he.INVALID_ALT_NUMBER}return e}},{key:"addDFAEdge",value:function(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),null===r)return null;if(r=this.addDFAState(t,r),null===e||n<-1||n>this.atn.maxTokenType)return r;if(null===e.edges&&(e.edges=[]),e.edges[n+1]=r,this.debug){var o=null===this.parser?null:this.parser.literalNames,i=null===this.parser?null:this.parser.symbolicNames;console.log("DFA=\n"+t.toString(o,i))}return r}},{key:"addDFAState",value:function(t,e){if(e===Xo.ERROR)return e;var n=t.states.get(e);return null!==n?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new L(r,o+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,t,r,o,e,n)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o){if(this.debug||this.retry_debug){var i=new L(r,o+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(i))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,t,r,o,e,n)}},{key:"reportAmbiguity",value:function(t,e,n,r,o,i,s){if(this.debug||this.retry_debug){var u=new L(n,r+1);console.log("reportAmbiguity "+i+":"+s+", input="+this.parser.getTokenStream().getText(u))}null!==this.parser&&this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,t,n,r,o,i,s)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Li(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Xo);function Ui(t){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(t)}var Bi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache=new oe}var e,n;return e=t,(n=[{key:"add",value:function(t){if(t===Bt.EMPTY)return Bt.EMPTY;var e=this.cache.get(t)||null;return null!==e?e:(this.cache.set(t,t),t)}},{key:"get",value:function(t){return this.cache.get(t)||null}},{key:"length",get:function(){return this.cache.length}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ui(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ui(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Vi={ATN:he,ATNDeserializer:Zr,LexerATNSimulator:Oi,ParserATNSimulator:Fi,PredictionMode:Ri,PredictionContextCache:Bi};function qi(t){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(t)}var zi=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dfa=e,this.literalNames=n||[],this.symbolicNames=r||[]}var e,n;return e=t,n=[{key:"toString",value:function(){if(null===this.dfa.s0)return null;for(var t="",e=this.dfa.sortedStates(),n=0;n<e.length;n++){var r=e[n];if(null!==r.edges)for(var o=r.edges.length,i=0;i<o;i++){var s=r.edges[i]||null;null!==s&&2147483647!==s.stateNumber&&(t=(t=(t=(t=(t=(t=t.concat(this.getStateString(r))).concat("-")).concat(this.getEdgeLabel(i))).concat("->")).concat(this.getStateString(s))).concat("\n"))}}return 0===t.length?null:t}},{key:"getEdgeLabel",value:function(t){return 0===t?"EOF":null!==this.literalNames||null!==this.symbolicNames?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}},{key:"getStateString",value:function(t){var e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?null!==t.predicates?e+"=>"+d(t.predicates):e+"=>"+t.prediction.toString():e}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==qi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==qi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===qi(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}function Gi(t,e){return Gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gi(t,e)}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(t)}var Ki=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gi(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yi(r);if(o){var n=Yi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,t,null)}return e=s,n=[{key:"getEdgeLabel",value:function(t){return"'"+String.fromCharCode(t)+"'"}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Hi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Hi(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(zi);function Wi(t){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(t)}var Xi=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===n&&(n=0),this.atnStartState=e,this.decision=n,this._states=new m,this.s0=null,this.precedenceDfa=!1,e instanceof mn&&e.isPrecedenceDecision){this.precedenceDfa=!0;var r=new Ko(null,new Go);r.edges=[],r.isAcceptState=!1,r.requiresFullContext=!1,this.s0=r}}var e,n;return e=t,(n=[{key:"getPrecedenceStartState",value:function(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}},{key:"setPrecedenceStartState",value:function(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}},{key:"setPrecedenceDfa",value:function(t){if(this.precedenceDfa!==t){if(this._states=new m,t){var e=new Ko(null,new Go);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}else this.s0=null;this.precedenceDfa=t}}},{key:"sortedStates",value:function(){return this._states.values().sort((function(t,e){return t.stateNumber-e.stateNumber}))}},{key:"toString",value:function(t,e){return t=t||null,e=e||null,null===this.s0?"":new zi(this,t,e).toString()}},{key:"toLexerString",value:function(){return null===this.s0?"":new Ki(this).toString()}},{key:"states",get:function(){return this._states}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Wi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Wi(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Qi={DFA:Xi,DFASerializer:zi,LexerDFASerializer:Ki,PredPrediction:Ei},$i={PredictionContext:Bt},Zi={Interval:L,IntervalSet:M};function Ji(t){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(t)}var ts=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}},{key:"enterEveryRule",value:function(t){}},{key:"exitEveryRule",value:function(t){}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Ji(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ji(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ji(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function es(t){return es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(t)}var ns=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"visit",value:function(t){return Array.isArray(t)?t.map((function(t){return t.accept(this)}),this):t.accept(this)}},{key:"visitChildren",value:function(t){return t.children?this.visit(t.children):null}},{key:"visitTerminal",value:function(t){}},{key:"visitErrorNode",value:function(t){}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==es(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==es(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===es(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function rs(t){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(t)}var os=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"walk",value:function(t,e){if(e instanceof It||void 0!==e.isErrorNode&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof Rt)t.visitTerminal(e);else{this.enterRule(t,e);for(var n=0;n<e.getChildCount();n++){var r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}},{key:"enterRule",value:function(t,e){var n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}},{key:"exitRule",value:function(t,e){var n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==rs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===rs(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();os.DEFAULT=new os;const is={Trees:At,RuleNode:Et,ErrorNode:It,TerminalNode:Rt,ParseTreeListener:ts,ParseTreeVisitor:ns,ParseTreeWalker:os};function ss(t){return ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(t)}function us(t,e){return us=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},us(t,e)}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},as(t)}var cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&us(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=as(n);if(r){var o=as(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx})).offendingToken=t.getCurrentToken(),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Io);function ls(t){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(t)}function fs(t,e){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fs(t,e)}function ps(t){return ps=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(t)}var hs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fs(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ps(n);if(r){var o=ps(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ls(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r=o.call(this,{message:ys(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});var s=t._interp.atn.states[t.state].transitions[0];return s instanceof sr?(r.ruleIndex=s.ruleIndex,r.predicateIndex=s.predIndex):(r.ruleIndex=0,r.predicateIndex=0),r.predicate=e,r.offendingToken=t.getCurrentToken(),r}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Io);function ys(t,e){return null!==e?e:"failed predicate: {"+t+"}?"}function ds(t){return ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(t)}function vs(t,e){return vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vs(t,e)}function bs(t){return bs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bs(t)}var ms=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bs(r);if(o){var n=bs(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ds(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),t=t||!0,(e=i.call(this)).exactOnly=t,e}return e=s,n=[{key:"reportAmbiguity",value:function(t,e,n,r,o,i,s){if(!this.exactOnly||o){var u="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(i,s)+", input='"+t.getTokenStream().getText(new L(n,r))+"'";t.notifyErrorListeners(u)}}},{key:"reportAttemptingFullContext",value:function(t,e,n,r,o,i){var s="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new L(n,r))+"'";t.notifyErrorListeners(s)}},{key:"reportContextSensitivity",value:function(t,e,n,r,o,i){var s="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new L(n,r))+"'";t.notifyErrorListeners(s)}},{key:"getDecisionDescription",value:function(t,e){var n=e.decision,r=e.atnStartState.ruleIndex,o=t.ruleNames;if(r<0||r>=o.length)return""+n;var i=o[r]||null;return null===i||0===i.length?""+n:"".concat(n," (").concat(i,")")}},{key:"getConflictingAlts",value:function(t,e){if(null!==t)return t;for(var n=new ce,r=0;r<e.items.length;r++)n.add(e.items[r].alt);return"{".concat(n.values().join(", "),"}")}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==ds(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ds(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===ds(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(to);function gs(t){return gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(t)}function Ss(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ws(t){var e="function"==typeof Map?new Map:void 0;return ws=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Os(t,arguments,_s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Es(r,t)},ws(t)}function Os(t,e,n){return Os=xs()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&Es(o,n.prototype),o},Os.apply(null,arguments)}function xs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Es(t,e){return Es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Es(t,e)}function _s(t){return _s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(t)}var Ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Es(t,e)}(i,t);var e,n,r,o=(n=i,r=xs(),function(){var t,e=_s(n);if(r){var o=_s(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ss(t)}(this,t)});function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),Error.captureStackTrace(Ss(t),i),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ws(Error));function Ts(t){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(t)}function Rs(t){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(t)}function ks(t,e){return ks=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ks(t,e)}function js(t){return js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},js(t)}var Cs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ks(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=js(o);if(i){var n=js(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this)).errorRecoveryMode=!1,t.lastErrorIndex=-1,t.lastErrorStates=null,t.nextTokensContext=null,t.nextTokenState=0,t}return e=u,r=[{key:"reset",value:function(t){this.endErrorCondition(t)}},{key:"beginErrorCondition",value:function(t){this.errorRecoveryMode=!0}},{key:"inErrorRecoveryMode",value:function(t){return this.errorRecoveryMode}},{key:"endErrorCondition",value:function(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}},{key:"reportMatch",value:function(t){this.endErrorCondition(t)}},{key:"reportError",value:function(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof Ii?this.reportNoViableAlternative(t,e):e instanceof cs?this.reportInputMismatch(t,e):e instanceof hs?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}},{key:"recover",value:function(t,e){this.lastErrorIndex===t.getInputStream().index&&null!==this.lastErrorStates&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,null===this.lastErrorStates&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);var n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}},{key:"sync",value:function(t){if(!this.inErrorRecoveryMode(t)){var e=t._interp.atn.states[t.state],r=t.getTokenStream().LA(1),o=t.atn.nextTokens(e);if(o.contains(r))return this.nextTokensContext=null,void(this.nextTokenState=U.INVALID_STATE_NUMBER);if(o.contains(n.EPSILON))null===this.nextTokensContext&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case U.BLOCK_START:case U.STAR_BLOCK_START:case U.PLUS_BLOCK_START:case U.STAR_LOOP_ENTRY:if(null!==this.singleTokenDeletion(t))return;throw new cs(t);case U.PLUS_LOOP_BACK:case U.STAR_LOOP_BACK:this.reportUnwantedToken(t);var i=new M;i.addSet(t.getExpectedTokens());var s=i.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,s)}}}},{key:"reportNoViableAlternative",value:function(t,e){var r,o=t.getTokenStream();r=null!==o?e.startToken.type===n.EOF?"<EOF>":o.getText(new L(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";var i="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(i,e.offendingToken,e)}},{key:"reportInputMismatch",value:function(t,e){var n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportFailedPredicate",value:function(t,e){var n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}},{key:"reportUnwantedToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}}},{key:"reportMissingToken",value:function(t){if(!this.inErrorRecoveryMode(t)){this.beginErrorCondition(t);var e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}}},{key:"recoverInline",value:function(t){var e=this.singleTokenDeletion(t);if(null!==e)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new cs(t)}},{key:"singleTokenInsertion",value:function(t){var e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}},{key:"singleTokenDeletion",value:function(t){var e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();var n=t.getCurrentToken();return this.reportMatch(t),n}return null}},{key:"getMissingSymbol",value:function(t){var e,r=t.getCurrentToken(),o=this.getExpectedTokens(t).first();e=o===n.EOF?"<missing EOF>":"<missing "+t.literalNames[o]+">";var i=r,s=t.getTokenStream().LT(-1);return i.type===n.EOF&&null!==s&&(i=s),t.getTokenFactory().create(i.source,o,e,n.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}},{key:"getExpectedTokens",value:function(t){return t.getExpectedTokens()}},{key:"getTokenErrorDisplay",value:function(t){if(null===t)return"<no token>";var e=t.text;return null===e&&(e=t.type===n.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}},{key:"escapeWSAndQuote",value:function(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}},{key:"getErrorRecoverySet",value:function(t){for(var e=t._interp.atn,r=t._ctx,o=new M;null!==r&&r.invokingState>=0;){var i=e.states[r.invokingState].transitions[0],s=e.nextTokens(i.followState);o.addSet(s),r=r.parentCtx}return o.removeOne(n.EPSILON),o}},{key:"consumeUntil",value:function(t,e){for(var r=t.getTokenStream().LA(1);r!==n.EOF&&!e.contains(r);)t.consume(),r=t.getTokenStream().LA(1)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Rs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Rs(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"reset",value:function(t){}},{key:"recoverInline",value:function(t){}},{key:"recover",value:function(t,e){}},{key:"sync",value:function(t){}},{key:"inErrorRecoveryMode",value:function(t){}},{key:"reportError",value:function(t){}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Ts(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ts(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());function Is(t){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(t)}function Ns(t,e){return Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ns(t,e)}function As(t){return As=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},As(t)}var Ls=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ns(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=As(r);if(o){var n=As(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this)}return e=s,n=[{key:"recover",value:function(t,e){for(var n=t._ctx;null!==n;)n.exception=e,n=n.parentCtx;throw new Ps(e)}},{key:"recoverInline",value:function(t){this.recover(t,new cs(t))}},{key:"sync",value:function(t){}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Is(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Is(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Is(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Cs);const Ds={RecognitionException:Io,NoViableAltException:Ii,LexerNoViableAltException:Do,InputMismatchException:cs,FailedPredicateException:hs,DiagnosticErrorListener:ms,BailErrorStrategy:Ls,DefaultErrorStrategy:Cs,ErrorListener:to};function Ms(t){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(t)}var Fs=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="<empty>",this.strdata=e,this.decodeToUnicodeCodePoints=n||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(var r=0;r<this.strdata.length;){var o=this.strdata.codePointAt(r);this.data.push(o),r+=o<=65535?1:2}else{this.data=new Array(this.strdata.length);for(var i=0;i<this.strdata.length;i++)this.data[i]=this.strdata.charCodeAt(i)}this._size=this.data.length}var e,r;return e=t,r=[{key:"reset",value:function(){this._index=0}},{key:"consume",value:function(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}},{key:"LA",value:function(t){if(0===t)return 0;t<0&&(t+=1);var e=this._index+t-1;return e<0||e>=this._size?n.EOF:this.data[e]}},{key:"LT",value:function(t){return this.LA(t)}},{key:"mark",value:function(){return-1}},{key:"release",value:function(t){}},{key:"seek",value:function(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}},{key:"getText",value:function(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){for(var n="",r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}},{key:"toString",value:function(){return this.strdata}},{key:"index",get:function(){return this._index}},{key:"size",get:function(){return this._size}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Ms(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Ms(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Us(t){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(t)}function Bs(t,e){return Bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bs(t,e)}function Vs(t){return Vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vs(t)}var qs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bs(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vs(n);if(r){var o=Vs(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Us(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t,e)}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Fs),zs=r(92);function Hs(t){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(t)}function Gs(t,e){return Gs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gs(t,e)}function Ys(t){return Ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ys(t)}var Ks="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ys(r);if(o){var n=Ys(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Hs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e,n){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),!Ks)throw new Error("FileStream is only available when running in Node!");var o=zs.readFileSync(t,e||"utf-8");return(r=i.call(this,o,n)).fileName=t,r}return e=s,n=[{key:"fromPath",value:function(t,e,n){if(!Ks)throw new Error("FileStream is only available when running in Node!");zs.readFile(t,e,(function(t,e){var r=null;null!==e&&(r=new Fs(e,!0)),n(t,r)}))}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==Hs(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Hs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Hs(o)?o:String(o)),r)}var o}(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(qs);const Xs={fromString:function(t){return new Fs(t,!0)},fromBlob:function(t,e,n,r){var o=new window.FileReader;o.onload=function(t){var e=new Fs(t.target.result,!0);n(e)},o.onerror=r,o.readAsText(t,e)},fromBuffer:function(t,e){return new Fs(t.toString(e),!0)},fromPath:function(t,e,n){Ws.fromPath(t,e,n)},fromPathSync:function(t,e){return new Ws(t,e)}},Qs={arrayToString:d,stringToCharArray:function(t){for(var e=new Uint16Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}};function $s(t){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(t)}function Zs(t,e){return Zs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zs(t,e)}function Js(t){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Js(t)}var tu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zs(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Js(o);if(i){var n=Js(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this)).tokenSource=t,e.tokens=[],e.index=-1,e.fetchedEOF=!1,e}return e=u,r=[{key:"mark",value:function(){return 0}},{key:"release",value:function(t){}},{key:"reset",value:function(){this.seek(0)}},{key:"seek",value:function(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}},{key:"size",get:function(){return this.tokens.length}},{key:"get",value:function(t){return this.lazyInit(),this.tokens[t]}},{key:"consume",value:function(){if(!(this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length))&&this.LA(1)===n.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}},{key:"sync",value:function(t){var e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}},{key:"fetch",value:function(t){if(this.fetchedEOF)return 0;for(var e=0;e<t;e++){var r=this.tokenSource.nextToken();if(r.tokenIndex=this.tokens.length,this.tokens.push(r),r.type===n.EOF)return this.fetchedEOF=!0,e+1}return t}},{key:"getTokens",value:function(t,e,r){if(void 0===r&&(r=null),t<0||e<0)return null;this.lazyInit();var o=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(var i=t;i<e;i++){var s=this.tokens[i];if(s.type===n.EOF)break;(null===r||r.contains(s.type))&&o.push(s)}return o}},{key:"LA",value:function(t){return this.LT(t).type}},{key:"LB",value:function(t){return this.index-t<0?null:this.tokens[this.index-t]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);var e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}},{key:"adjustSeekIndex",value:function(t){return t}},{key:"lazyInit",value:function(){-1===this.index&&this.setup()}},{key:"setup",value:function(){this.sync(0),this.index=this.adjustSeekIndex(0)}},{key:"setTokenSource",value:function(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}},{key:"nextTokenOnChannel",value:function(t,e){if(this.sync(t),t>=this.tokens.length)return-1;for(var r=this.tokens[t];r.channel!==this.channel;){if(r.type===n.EOF)return-1;t+=1,this.sync(t),r=this.tokens[t]}return t}},{key:"previousTokenOnChannel",value:function(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}},{key:"getHiddenTokensToRight",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.nextTokenOnChannel(t+1,Vo.DEFAULT_TOKEN_CHANNEL),r=t+1,o=-1===n?this.tokens.length-1:n;return this.filterForChannel(r,o,e)}},{key:"getHiddenTokensToLeft",value:function(t,e){if(void 0===e&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;var n=this.previousTokenOnChannel(t-1,Vo.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;var r=n+1,o=t-1;return this.filterForChannel(r,o,e)}},{key:"filterForChannel",value:function(t,e,n){for(var r=[],o=t;o<e+1;o++){var i=this.tokens[o];-1===n?i.channel!==Vo.DEFAULT_TOKEN_CHANNEL&&r.push(i):i.channel===n&&r.push(i)}return 0===r.length?null:r}},{key:"getSourceName",value:function(){return this.tokenSource.getSourceName()}},{key:"getText",value:function(t){this.lazyInit(),this.fill(),t||(t=new L(0,this.tokens.length-1));var e=t.start;e instanceof n&&(e=e.tokenIndex);var r=t.stop;if(r instanceof n&&(r=r.tokenIndex),null===e||null===r||e<0||r<0)return"";r>=this.tokens.length&&(r=this.tokens.length-1);for(var o="",i=e;i<r+1;i++){var s=this.tokens[i];if(s.type===n.EOF)break;o+=s.text}return o}},{key:"fill",value:function(){for(this.lazyInit();1e3===this.fetch(1e3););}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==$s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==$s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===$s(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(function(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)})));function eu(t){return eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(t)}function nu(t,e){return nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nu(t,e)}function ru(t){return ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(t)}Object.defineProperty(tu,"size",{get:function(){return this.tokens.length}});var ou=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nu(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ru(o);if(i){var n=ru(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===eu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=s.call(this,t)).channel=void 0===e?n.DEFAULT_CHANNEL:e,r}return e=u,r=[{key:"adjustSeekIndex",value:function(t){return this.nextTokenOnChannel(t,this.channel)}},{key:"LB",value:function(t){if(0===t||this.index-t<0)return null;for(var e=this.index,n=1;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}},{key:"LT",value:function(t){if(this.lazyInit(),0===t)return null;if(t<0)return this.LB(-t);for(var e=this.index,n=1;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}},{key:"getNumberOfOnChannelTokens",value:function(){var t=0;this.fill();for(var e=0;e<this.tokens.length;e++){var r=this.tokens[e];if(r.channel===this.channel&&(t+=1),r.type===n.EOF)break}return t}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==eu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===eu(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(tu);function iu(t){return iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(t)}function su(t,e){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},su(t,e)}function uu(t){return uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(t)}var au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&su(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=uu(r);if(o){var n=uu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).parser=t,e}return e=s,(n=[{key:"enterEveryRule",value:function(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}},{key:"visitTerminal",value:function(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}},{key:"exitEveryRule",value:function(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==iu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==iu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===iu(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(ts);function cu(t){return cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(t)}function lu(t,e){return lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lu(t,e)}function fu(t){return fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fu(t)}var pu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lu(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=fu(o);if(i){var n=fu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===cu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this))._input=null,e._errHandler=new Cs,e._precedenceStack=[],e._precedenceStack.push(0),e._ctx=null,e.buildParseTrees=!0,e._tracer=null,e._parseListeners=null,e._syntaxErrors=0,e.setInputStream(t),e}return e=u,r=[{key:"reset",value:function(){null!==this._input&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),null!==this._interp&&this._interp.reset()}},{key:"match",value:function(t){var e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===e.tokenIndex&&this._ctx.addErrorNode(e)),e}},{key:"matchWildcard",value:function(){var t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&-1===t.tokenIndex&&this._ctx.addErrorNode(t)),t}},{key:"getParseListeners",value:function(){return this._parseListeners||[]}},{key:"addParseListener",value:function(t){if(null===t)throw"listener";null===this._parseListeners&&(this._parseListeners=[]),this._parseListeners.push(t)}},{key:"removeParseListener",value:function(t){if(null!==this._parseListeners){var e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),0===this._parseListeners.length&&(this._parseListeners=null)}}},{key:"removeParseListeners",value:function(){this._parseListeners=null}},{key:"triggerEnterRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.forEach((function(e){e.enterEveryRule(t),t.enterRule(e)}))}}},{key:"triggerExitRuleEvent",value:function(){if(null!==this._parseListeners){var t=this._ctx;this._parseListeners.slice(0).reverse().forEach((function(e){t.exitRule(e),e.exitEveryRule(t)}))}}},{key:"getTokenFactory",value:function(){return this._input.tokenSource._factory}},{key:"setTokenFactory",value:function(t){this._input.tokenSource._factory=t}},{key:"getATNWithBypassAlts",value:function(){var t=this.getSerializedATN();if(null===t)throw"The current parser does not support an ATN with bypass alternatives.";var e=this.bypassAltsAtnCache[t];if(null===e){var n=new dr;n.generateRuleBypassTransitions=!0,e=new Zr(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}},{key:"getInputStream",value:function(){return this.getTokenStream()}},{key:"setInputStream",value:function(t){this.setTokenStream(t)}},{key:"getTokenStream",value:function(){return this._input}},{key:"setTokenStream",value:function(t){this._input=null,this.reset(),this._input=t}},{key:"syntaxErrorsCount",get:function(){return this._syntaxErrors}},{key:"getCurrentToken",value:function(){return this._input.LT(1)}},{key:"notifyErrorListeners",value:function(t,e,n){n=n||null,null===(e=e||null)&&(e=this.getCurrentToken()),this._syntaxErrors+=1;var r=e.line,o=e.column;this.getErrorListenerDispatch().syntaxError(this,e,r,o,t,n)}},{key:"consume",value:function(){var t=this.getCurrentToken();t.type!==n.EOF&&this.getInputStream().consume();var e,r=null!==this._parseListeners&&this._parseListeners.length>0;return(this.buildParseTrees||r)&&((e=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t)).invokingState=this.state,r&&this._parseListeners.forEach((function(t){e instanceof It||void 0!==e.isErrorNode&&e.isErrorNode()?t.visitErrorNode(e):e instanceof Rt&&t.visitTerminal(e)}))),t}},{key:"addContextToParseTree",value:function(){null!==this._ctx.parentCtx&&this._ctx.parentCtx.addChild(this._ctx)}},{key:"enterRule",value:function(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}},{key:"exitRule",value:function(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}},{key:"enterOuterAlt",value:function(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&null!==this._ctx.parentCtx&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}},{key:"getPrecedence",value:function(){return 0===this._precedenceStack.length?-1:this._precedenceStack[this._precedenceStack.length-1]}},{key:"enterRecursionRule",value:function(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}},{key:"pushNewRecursionContext",value:function(t,e,n){var r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}},{key:"unrollRecursionContexts",value:function(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);var e=this._ctx,n=this.getParseListeners();if(null!==n&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&null!==t&&t.addChild(e)}},{key:"getInvokingContext",value:function(t){for(var e=this._ctx;null!==e;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}},{key:"precpred",value:function(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}},{key:"inContext",value:function(t){return!1}},{key:"isExpectedToken",value:function(t){var e=this._interp.atn,r=this._ctx,o=e.states[this.state],i=e.nextTokens(o);if(i.contains(t))return!0;if(!i.contains(n.EPSILON))return!1;for(;null!==r&&r.invokingState>=0&&i.contains(n.EPSILON);){var s=e.states[r.invokingState].transitions[0];if((i=e.nextTokens(s.followState)).contains(t))return!0;r=r.parentCtx}return!(!i.contains(n.EPSILON)||t!==n.EOF)}},{key:"getExpectedTokens",value:function(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}},{key:"getExpectedTokensWithinCurrentRule",value:function(){var t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}},{key:"getRuleIndex",value:function(t){var e=this.getRuleIndexMap()[t];return null!==e?e:-1}},{key:"getRuleInvocationStack",value:function(t){null===(t=t||null)&&(t=this._ctx);for(var e=[];null!==t;){var n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}},{key:"getDFAStrings",value:function(){return this._interp.decisionToDFA.toString()}},{key:"dumpDFA",value:function(){for(var t=!1,e=0;e<this._interp.decisionToDFA.length;e++){var n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}},{key:"getSourceName",value:function(){return this._input.sourceName}},{key:"setTrace",value:function(t){t?(null!==this._tracer&&this.removeParseListener(this._tracer),this._tracer=new au(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}],r&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==cu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==cu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===cu(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(po);function hu(t){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(t)}function yu(t,e){return yu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yu(t,e)}function du(t){return du=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},du(t)}pu.bypassAltsAtnCache={};var vu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yu(t,e)}(u,t);var e,r,o,i,s=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=du(o);if(i){var n=du(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this)).parentCtx=null,e.symbol=t,e}return e=u,(r=[{key:"getChild",value:function(t){return null}},{key:"getSymbol",value:function(){return this.symbol}},{key:"getParent",value:function(){return this.parentCtx}},{key:"getPayload",value:function(){return this.symbol}},{key:"getSourceInterval",value:function(){if(null===this.symbol)return L.INVALID_INTERVAL;var t=this.symbol.tokenIndex;return new L(t,t)}},{key:"getChildCount",value:function(){return 0}},{key:"accept",value:function(t){return t.visitTerminal(this)}},{key:"getText",value:function(){return this.symbol.text}},{key:"toString",value:function(){return this.symbol.type===n.EOF?"<EOF>":this.symbol.text}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==hu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==hu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===hu(o)?o:String(o)),r)}var o}(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Rt);function bu(t){return bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(t)}function mu(t,e){return mu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mu(t,e)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}var Su=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gu(r);if(o){var n=gu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===bu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,t)}return e=s,(n=[{key:"isErrorNode",value:function(){return!0}},{key:"accept",value:function(t){return t.visitErrorNode(this)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==bu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===bu(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(vu);function wu(t){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(t)}function Ou(t,e){return Ou=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ou(t,e)}function xu(t){return xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xu(t)}var Eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ou(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xu(r);if(o){var n=xu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,t,e)).children=null,n.start=null,n.stop=null,n.exception=null,n}return e=s,n=[{key:"copyFrom",value:function(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map((function(t){t instanceof Su&&(this.children.push(t),t.parentCtx=this)}),this))}},{key:"enterRule",value:function(t){}},{key:"exitRule",value:function(t){}},{key:"addChild",value:function(t){return null===this.children&&(this.children=[]),this.children.push(t),t}},{key:"removeLastChild",value:function(){null!==this.children&&this.children.pop()}},{key:"addTokenNode",value:function(t){var e=new vu(t);return this.addChild(e),e.parentCtx=this,e}},{key:"addErrorNode",value:function(t){var e=new Su(t);return this.addChild(e),e.parentCtx=this,e}},{key:"getChild",value:function(t,e){if(e=e||null,null===this.children||t<0||t>=this.children.length)return null;if(null===e)return this.children[t];for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof e){if(0===t)return r;t-=1}}return null}},{key:"getToken",value:function(t,e){if(null===this.children||e<0||e>=this.children.length)return null;for(var n=0;n<this.children.length;n++){var r=this.children[n];if(r instanceof Rt&&r.symbol.type===t){if(0===e)return r;e-=1}}return null}},{key:"getTokens",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof Rt&&r.symbol.type===t&&e.push(r)}return e}},{key:"getTypedRuleContext",value:function(t,e){return this.getChild(e,t)}},{key:"getTypedRuleContexts",value:function(t){if(null===this.children)return[];for(var e=[],n=0;n<this.children.length;n++){var r=this.children[n];r instanceof t&&e.push(r)}return e}},{key:"getChildCount",value:function(){return null===this.children?0:this.children.length}},{key:"getSourceInterval",value:function(){return null===this.start||null===this.stop?L.INVALID_INTERVAL:new L(this.start.tokenIndex,this.stop.tokenIndex)}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=function(t,e){if("object"!==wu(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==wu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===wu(o)?o:String(o)),r)}var o}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(Ft);function _u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pu(t,e)}function Pu(t,e){return Pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pu(t,e)}function Tu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ru(t);if(e){var o=Ru(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===ku(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ru(t)}function ku(t){return ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(t)}function ju(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Cu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function Cu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lu(r.key),r)}}function Au(t,e,n){return e&&Nu(t.prototype,e),n&&Nu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lu(t){var e=function(t,e){if("object"!==ku(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ku(e)?e:String(e)}Ft.EMPTY=new Eu;var Du,Mu,Fu,Uu=function(){function t(e){Iu(this,t),this.tokens=e,this.programs=new Map}return Au(t,[{key:"getTokenStream",value:function(){return this.tokens}},{key:"insertAfter",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),s=new qu(this.tokens,r,i.length,n);i.push(s)}},{key:"insertBefore",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;r="number"==typeof e?e:e.tokenIndex;var i=this.getProgram(o),s=new Vu(this.tokens,r,i.length,n);i.push(s)}},{key:"replaceSingle",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;this.replace(e,e,n,r)}},{key:"replace",value:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_PROGRAM_NAME;if("number"!=typeof e&&(e=e.tokenIndex),"number"!=typeof n&&(n=n.tokenIndex),e>n||e<0||n<0||n>=this.tokens.size)throw new RangeError("replace: range invalid: ".concat(e,"..").concat(n,"(size=").concat(this.tokens.size,")"));var i=this.getProgram(o),s=new zu(this.tokens,e,n,i.length,r);i.push(s)}},{key:"delete",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.DEFAULT_PROGRAM_NAME;void 0===n&&(n=e),this.replace(e,n,null,r)}},{key:"getProgram",value:function(t){var e=this.programs.get(t);return null==e&&(e=this.initializeProgram(t)),e}},{key:"initializeProgram",value:function(t){var e=[];return this.programs.set(t,e),e}},{key:"getText",value:function(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_PROGRAM_NAME;r=e instanceof L?e:new L(0,this.tokens.size-1),"string"==typeof e&&(o=e);var i=this.programs.get(o),s=r.start,u=r.stop;if(u>this.tokens.size-1&&(u=this.tokens.size-1),s<0&&(s=0),null==i||0===i.length)return this.tokens.getText(new L(s,u));for(var a=[],c=this.reduceToSingleOperationPerIndex(i),l=s;l<=u&&l<this.tokens.size;){var f=c.get(l);c.delete(l);var p=this.tokens.get(l);null==f?(p.type!==n.EOF&&a.push(String(p.text)),l++):l=f.execute(a)}if(u===this.tokens.size-1){var h,y=ju(c.values());try{for(y.s();!(h=y.n()).done;){var d=h.value;d.index>=this.tokens.size-1&&a.push(d.text.toString())}}catch(t){y.e(t)}finally{y.f()}}return a.join("")}},{key:"reduceToSingleOperationPerIndex",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null!=n&&n instanceof zu){var r,o=n,i=ju(this.getKindOfOps(t,Vu,e));try{for(i.s();!(r=i.n()).done;){var s=r.value;s.index===o.index?(t[s.instructionIndex]=void 0,o.text=s.text.toString()+(null!=o.text?o.text.toString():"")):s.index>o.index&&s.index<=o.lastIndex&&(t[s.instructionIndex]=void 0)}}catch(t){i.e(t)}finally{i.f()}var u,a=ju(this.getKindOfOps(t,zu,e));try{for(a.s();!(u=a.n()).done;){var c=u.value;if(c.index>=o.index&&c.lastIndex<=o.lastIndex)t[c.instructionIndex]=void 0;else{var l=c.lastIndex<o.index||c.index>o.lastIndex;if(null!=c.text||null!=o.text||l){if(!l)throw new Error("replace op boundaries of ".concat(o," overlap with previous ").concat(c))}else t[c.instructionIndex]=void 0,o.index=Math.min(c.index,o.index),o.lastIndex=Math.max(c.lastIndex,o.lastIndex)}}}catch(t){a.e(t)}finally{a.f()}}}for(var f=0;f<t.length;f++){var p=t[f];if(null!=p&&p instanceof Vu){var h,y=p,d=ju(this.getKindOfOps(t,Vu,f));try{for(d.s();!(h=d.n()).done;){var v=h.value;v.index===y.index&&(v instanceof qu?(y.text=this.catOpText(v.text,y.text),t[v.instructionIndex]=void 0):v instanceof Vu&&(y.text=this.catOpText(y.text,v.text),t[v.instructionIndex]=void 0))}}catch(t){d.e(t)}finally{d.f()}var b,m=ju(this.getKindOfOps(t,zu,f));try{for(m.s();!(b=m.n()).done;){var g=b.value;if(y.index!==g.index){if(y.index>=g.index&&y.index<=g.lastIndex)throw new Error("insert op ".concat(y," within boundaries of previous ").concat(g))}else g.text=this.catOpText(y.text,g.text),t[f]=void 0}}catch(t){m.e(t)}finally{m.f()}}}var S,w=new Map,O=ju(t);try{for(O.s();!(S=O.n()).done;){var x=S.value;if(null!=x){if(null!=w.get(x.index))throw new Error("should only be one op per index");w.set(x.index,x)}}}catch(t){O.e(t)}finally{O.f()}return w}},{key:"catOpText",value:function(t,e){var n="",r="";return null!=t&&(n=t.toString()),null!=e&&(r=e.toString()),n+r}},{key:"getKindOfOps",value:function(t,e,n){return t.slice(0,n).filter((function(t){return t&&t instanceof e}))}}]),t}();Du=Uu,Fu="default",(Mu=Lu(Mu="DEFAULT_PROGRAM_NAME"))in Du?Object.defineProperty(Du,Mu,{value:Fu,enumerable:!0,configurable:!0,writable:!0}):Du[Mu]=Fu;var Bu=function(){function t(e,n,r,o){Iu(this,t),this.tokens=e,this.instructionIndex=r,this.index=n,this.text=void 0===o?"":o}return Au(t,[{key:"toString",value:function(){var t=this.constructor.name,e=t.indexOf("$");return"<"+(t=t.substring(e+1,t.length))+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}]),t}(),Vu=function(t){_u(r,t);var e=Tu(r);function r(t,n,o,i){return Iu(this,r),e.call(this,t,n,o,i)}return Au(r,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==n.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}]),r}(Bu),qu=function(t){_u(n,t);var e=Tu(n);function n(t,r,o,i){return Iu(this,n),e.call(this,t,r+1,o,i)}return Au(n)}(Vu),zu=function(t){_u(n,t);var e=Tu(n);function n(t,r,o,i,s){var u;return Iu(this,n),(u=e.call(this,t,r,i,s)).lastIndex=o,u}return Au(n,[{key:"execute",value:function(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}},{key:"toString",value:function(){return null==this.text?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}]),n}(Bu);const Hu={atn:Vi,dfa:Qi,context:$i,misc:Zi,tree:is,error:Ds,Token:n,CommonToken:bo,CharStreams:Xs,CharStream:qs,InputStream:qs,CommonTokenStream:ou,Lexer:Vo,Parser:pu,ParserRuleContext:Eu,Interval:L,IntervalSet:M,LL1Analyzer:fe,Utils:Qs,TokenStreamRewriter:Uu}})();var i=e;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(()=>{"use strict";const t=n(6346),e=n(9492),r=n(6138),o=n(7355),i=n(3221);window.onload=()=>{setTimeout((function(){const n=document.getElementsByTagName("body")[0].classList;n.contains("expressionTestPage")?(0,e.loadExpressionsTestPage)():n.contains("primaryIntegrator")?(0,t.loadPrimaryPage)():n.contains("inputParseTest")?(0,r.loadInputParseTestPage)():n.contains("solve_in_steps")?(0,o.loadSolverPage)():n.contains("mathTests")&&(0,i.loadSimplificationTestPage)()}),100)}})()})();